var _J=Object.defineProperty;var KR=t=>{throw TypeError(t)};var PJ=(t,e,r)=>e in t?_J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var An=(t,e,r)=>PJ(t,typeof e!="symbol"?e+"":e,r),kN=(t,e,r)=>e.has(t)||KR("Cannot "+r);var Ne=(t,e,r)=>(kN(t,e,"read from private field"),r?r.call(t):e.get(t)),Yt=(t,e,r)=>e.has(t)?KR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),kt=(t,e,r,n)=>(kN(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Jn=(t,e,r)=>(kN(t,e,"access private method"),r);var Jy=(t,e,r,n)=>({set _(s){kt(t,e,s,r)},get _(){return Ne(t,e,n)}});function AJ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EF={exports:{}},Kw={},_F={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx=Symbol.for("react.element"),TJ=Symbol.for("react.portal"),CJ=Symbol.for("react.fragment"),kJ=Symbol.for("react.strict_mode"),IJ=Symbol.for("react.profiler"),RJ=Symbol.for("react.provider"),OJ=Symbol.for("react.context"),DJ=Symbol.for("react.forward_ref"),MJ=Symbol.for("react.suspense"),$J=Symbol.for("react.memo"),LJ=Symbol.for("react.lazy"),YR=Symbol.iterator;function FJ(t){return t===null||typeof t!="object"?null:(t=YR&&t[YR]||t["@@iterator"],typeof t=="function"?t:null)}var PF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AF=Object.assign,TF={};function Kf(t,e,r){this.props=t,this.context=e,this.refs=TF,this.updater=r||PF}Kf.prototype.isReactComponent={};Kf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CF(){}CF.prototype=Kf.prototype;function DA(t,e,r){this.props=t,this.context=e,this.refs=TF,this.updater=r||PF}var MA=DA.prototype=new CF;MA.constructor=DA;AF(MA,Kf.prototype);MA.isPureReactComponent=!0;var QR=Array.isArray,kF=Object.prototype.hasOwnProperty,$A={current:null},IF={key:!0,ref:!0,__self:!0,__source:!0};function RF(t,e,r){var n,s={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)kF.call(e,n)&&!IF.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Fx,type:t,key:a,ref:o,props:s,_owner:$A.current}}function VJ(t,e){return{$$typeof:Fx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function LA(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fx}function BJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var XR=/\/+/g;function IN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BJ(""+t.key):e.toString(36)}function X0(t,e,r,n,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fx:case TJ:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+IN(o,0):n,QR(s)?(r="",t!=null&&(r=t.replace(XR,"$&/")+"/"),X0(s,e,r,"",function(u){return u})):s!=null&&(LA(s)&&(s=VJ(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(XR,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",QR(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+IN(a,l);o+=X0(a,e,r,c,s)}else if(c=FJ(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+IN(a,l++),o+=X0(a,e,r,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function e0(t,e,r){if(t==null)return t;var n=[],s=0;return X0(t,n,"","",function(a){return e.call(r,a,s++)}),n}function UJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _s={current:null},J0={transition:null},qJ={ReactCurrentDispatcher:_s,ReactCurrentBatchConfig:J0,ReactCurrentOwner:$A};function OF(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:e0,forEach:function(t,e,r){e0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return e0(t,function(){e++}),e},toArray:function(t){return e0(t,function(e){return e})||[]},only:function(t){if(!LA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=Kf;Dt.Fragment=CJ;Dt.Profiler=IJ;Dt.PureComponent=DA;Dt.StrictMode=kJ;Dt.Suspense=MJ;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qJ;Dt.act=OF;Dt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=AF({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=$A.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)kF.call(e,c)&&!IF.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fx,type:t.type,key:s,ref:a,props:n,_owner:o}};Dt.createContext=function(t){return t={$$typeof:OJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RJ,_context:t},t.Consumer=t};Dt.createElement=RF;Dt.createFactory=function(t){var e=RF.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:DJ,render:t}};Dt.isValidElement=LA;Dt.lazy=function(t){return{$$typeof:LJ,_payload:{_status:-1,_result:t},_init:UJ}};Dt.memo=function(t,e){return{$$typeof:$J,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=J0.transition;J0.transition={};try{t()}finally{J0.transition=e}};Dt.unstable_act=OF;Dt.useCallback=function(t,e){return _s.current.useCallback(t,e)};Dt.useContext=function(t){return _s.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return _s.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return _s.current.useEffect(t,e)};Dt.useId=function(){return _s.current.useId()};Dt.useImperativeHandle=function(t,e,r){return _s.current.useImperativeHandle(t,e,r)};Dt.useInsertionEffect=function(t,e){return _s.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return _s.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return _s.current.useMemo(t,e)};Dt.useReducer=function(t,e,r){return _s.current.useReducer(t,e,r)};Dt.useRef=function(t){return _s.current.useRef(t)};Dt.useState=function(t){return _s.current.useState(t)};Dt.useSyncExternalStore=function(t,e,r){return _s.current.useSyncExternalStore(t,e,r)};Dt.useTransition=function(){return _s.current.useTransition()};Dt.version="18.3.1";_F.exports=Dt;var g=_F.exports;const L=Xt(g),DF=AJ({__proto__:null,default:L},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zJ=g,WJ=Symbol.for("react.element"),HJ=Symbol.for("react.fragment"),GJ=Object.prototype.hasOwnProperty,KJ=zJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YJ={key:!0,ref:!0,__self:!0,__source:!0};function MF(t,e,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)GJ.call(e,n)&&!YJ.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:WJ,type:t,key:a,ref:o,props:s,_owner:KJ.current}}Kw.Fragment=HJ;Kw.jsx=MF;Kw.jsxs=MF;EF.exports=Kw;var i=EF.exports,$F={exports:{}},mi={},LF={exports:{}},FF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,V){var K=D.length;D.push(V);e:for(;0<K;){var G=K-1>>>1,Q=D[G];if(0<s(Q,V))D[G]=V,D[K]=Q,K=G;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var V=D[0],K=D.pop();if(K!==V){D[0]=K;e:for(var G=0,Q=D.length,ae=Q>>>1;G<ae;){var U=2*(G+1)-1,Y=D[U],ue=U+1,Z=D[ue];if(0>s(Y,K))ue<Q&&0>s(Z,Y)?(D[G]=Z,D[ue]=K,G=ue):(D[G]=Y,D[U]=K,G=U);else if(ue<Q&&0>s(Z,K))D[G]=Z,D[ue]=K,G=ue;else break e}}return V}function s(D,V){var K=D.sortIndex-V.sortIndex;return K!==0?K:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,x=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(D){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=D)n(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=r(u)}}function N(D){if(p=!1,j(D),!x)if(r(c)!==null)x=!0,W(E);else{var V=r(u);V!==null&&B(N,V.startTime-D)}}function E(D,V){x=!1,p&&(p=!1,w(S),S=-1),m=!0;var K=f;try{for(j(V),h=r(c);h!==null&&(!(h.expirationTime>V)||D&&!I());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var Q=G(h.expirationTime<=V);V=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(c)&&n(c),j(V)}else n(c);h=r(c)}if(h!==null)var ae=!0;else{var U=r(u);U!==null&&B(N,U.startTime-V),ae=!1}return ae}finally{h=null,f=K,m=!1}}var C=!1,_=null,S=-1,A=5,T=-1;function I(){return!(t.unstable_now()-T<A)}function P(){if(_!==null){var D=t.unstable_now();T=D;var V=!0;try{V=_(!0,D)}finally{V?R():(C=!1,_=null)}}else C=!1}var R;if(typeof b=="function")R=function(){b(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,q=M.port2;M.port1.onmessage=P,R=function(){q.postMessage(null)}}else R=function(){v(P,0)};function W(D){_=D,C||(C=!0,R())}function B(D,V){S=v(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,W(E))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var K=f;f=V;try{return D()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=f;f=D;try{return V()}finally{f=K}},t.unstable_scheduleCallback=function(D,V,K){var G=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?G+K:G):K=G,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=K+Q,D={id:d++,callback:V,priorityLevel:D,startTime:K,expirationTime:Q,sortIndex:-1},K>G?(D.sortIndex=K,e(u,D),r(c)===null&&D===r(u)&&(p?(w(S),S=-1):p=!0,B(N,K-G))):(D.sortIndex=Q,e(c,D),x||m||(x=!0,W(E))),D},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(D){var V=f;return function(){var K=f;f=V;try{return D.apply(this,arguments)}finally{f=K}}}})(FF);LF.exports=FF;var QJ=LF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XJ=g,di=QJ;function Ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VF=new Set,hg={};function ld(t,e){zh(t,e),zh(t+"Capture",e)}function zh(t,e){for(hg[t]=e,t=0;t<e.length;t++)VF.add(e[t])}var Lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$S=Object.prototype.hasOwnProperty,JJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JR={},ZR={};function ZJ(t){return $S.call(ZR,t)?!0:$S.call(JR,t)?!1:JJ.test(t)?ZR[t]=!0:(JR[t]=!0,!1)}function eZ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tZ(t,e,r,n){if(e===null||typeof e>"u"||eZ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ps(t,e,r,n,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gn[t]=new Ps(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gn[e]=new Ps(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gn[t]=new Ps(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gn[t]=new Ps(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gn[t]=new Ps(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gn[t]=new Ps(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gn[t]=new Ps(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gn[t]=new Ps(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gn[t]=new Ps(t,5,!1,t.toLowerCase(),null,!1,!1)});var FA=/[\-:]([a-z])/g;function VA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(FA,VA);Gn[e]=new Ps(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(FA,VA);Gn[e]=new Ps(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(FA,VA);Gn[e]=new Ps(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gn[t]=new Ps(t,1,!1,t.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new Ps("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gn[t]=new Ps(t,1,!1,t.toLowerCase(),null,!0,!0)});function BA(t,e,r,n){var s=Gn.hasOwnProperty(e)?Gn[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tZ(e,r,s,n)&&(r=null),n||s===null?ZJ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var nl=XJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,t0=Symbol.for("react.element"),Ud=Symbol.for("react.portal"),qd=Symbol.for("react.fragment"),UA=Symbol.for("react.strict_mode"),LS=Symbol.for("react.profiler"),BF=Symbol.for("react.provider"),UF=Symbol.for("react.context"),qA=Symbol.for("react.forward_ref"),FS=Symbol.for("react.suspense"),VS=Symbol.for("react.suspense_list"),zA=Symbol.for("react.memo"),Sl=Symbol.for("react.lazy"),qF=Symbol.for("react.offscreen"),eO=Symbol.iterator;function Gm(t){return t===null||typeof t!="object"?null:(t=eO&&t[eO]||t["@@iterator"],typeof t=="function"?t:null)}var Br=Object.assign,RN;function xp(t){if(RN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);RN=e&&e[1]||""}return`
`+RN+t}var ON=!1;function DN(t,e){if(!t||ON)return"";ON=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{ON=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?xp(t):""}function rZ(t){switch(t.tag){case 5:return xp(t.type);case 16:return xp("Lazy");case 13:return xp("Suspense");case 19:return xp("SuspenseList");case 0:case 2:case 15:return t=DN(t.type,!1),t;case 11:return t=DN(t.type.render,!1),t;case 1:return t=DN(t.type,!0),t;default:return""}}function BS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qd:return"Fragment";case Ud:return"Portal";case LS:return"Profiler";case UA:return"StrictMode";case FS:return"Suspense";case VS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UF:return(t.displayName||"Context")+".Consumer";case BF:return(t._context.displayName||"Context")+".Provider";case qA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zA:return e=t.displayName||null,e!==null?e:BS(t.type)||"Memo";case Sl:e=t._payload,t=t._init;try{return BS(t(e))}catch{}}return null}function nZ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return BS(e);case 8:return e===UA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sZ(t){var e=zF(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function r0(t){t._valueTracker||(t._valueTracker=sZ(t))}function WF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=zF(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Iv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function US(t,e){var r=e.checked;return Br({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function tO(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HF(t,e){e=e.checked,e!=null&&BA(t,"checked",e,!1)}function qS(t,e){HF(t,e);var r=fc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zS(t,e.type,r):e.hasOwnProperty("defaultValue")&&zS(t,e.type,fc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rO(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function zS(t,e,r){(e!=="number"||Iv(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var yp=Array.isArray;function dh(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fc(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function WS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return Br({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nO(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ie(92));if(yp(r)){if(1<r.length)throw Error(Ie(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fc(r)}}function GF(t,e){var r=fc(e.value),n=fc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function sO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function HS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var n0,YF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(n0=n0||document.createElement("div"),n0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=n0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iZ=["Webkit","ms","Moz","O"];Object.keys(kp).forEach(function(t){iZ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kp[e]=kp[t]})});function QF(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||kp.hasOwnProperty(t)&&kp[t]?(""+e).trim():e+"px"}function XF(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=QF(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var aZ=Br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function GS(t,e){if(e){if(aZ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ie(62))}}function KS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YS=null;function WA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var QS=null,hh=null,fh=null;function iO(t){if(t=Ux(t)){if(typeof QS!="function")throw Error(Ie(280));var e=t.stateNode;e&&(e=Zw(e),QS(t.stateNode,t.type,e))}}function JF(t){hh?fh?fh.push(t):fh=[t]:hh=t}function ZF(){if(hh){var t=hh,e=fh;if(fh=hh=null,iO(t),e)for(t=0;t<e.length;t++)iO(e[t])}}function e8(t,e){return t(e)}function t8(){}var MN=!1;function r8(t,e,r){if(MN)return t(e,r);MN=!0;try{return e8(t,e,r)}finally{MN=!1,(hh!==null||fh!==null)&&(t8(),ZF())}}function mg(t,e){var r=t.stateNode;if(r===null)return null;var n=Zw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ie(231,e,typeof r));return r}var XS=!1;if(Lo)try{var Km={};Object.defineProperty(Km,"passive",{get:function(){XS=!0}}),window.addEventListener("test",Km,Km),window.removeEventListener("test",Km,Km)}catch{XS=!1}function oZ(t,e,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Ip=!1,Rv=null,Ov=!1,JS=null,lZ={onError:function(t){Ip=!0,Rv=t}};function cZ(t,e,r,n,s,a,o,l,c){Ip=!1,Rv=null,oZ.apply(lZ,arguments)}function uZ(t,e,r,n,s,a,o,l,c){if(cZ.apply(this,arguments),Ip){if(Ip){var u=Rv;Ip=!1,Rv=null}else throw Error(Ie(198));Ov||(Ov=!0,JS=u)}}function cd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function n8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aO(t){if(cd(t)!==t)throw Error(Ie(188))}function dZ(t){var e=t.alternate;if(!e){if(e=cd(t),e===null)throw Error(Ie(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return aO(s),t;if(a===n)return aO(s),e;a=a.sibling}throw Error(Ie(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Ie(189))}}if(r.alternate!==n)throw Error(Ie(190))}if(r.tag!==3)throw Error(Ie(188));return r.stateNode.current===r?t:e}function s8(t){return t=dZ(t),t!==null?i8(t):null}function i8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=i8(t);if(e!==null)return e;t=t.sibling}return null}var a8=di.unstable_scheduleCallback,oO=di.unstable_cancelCallback,hZ=di.unstable_shouldYield,fZ=di.unstable_requestPaint,Xr=di.unstable_now,mZ=di.unstable_getCurrentPriorityLevel,HA=di.unstable_ImmediatePriority,o8=di.unstable_UserBlockingPriority,Dv=di.unstable_NormalPriority,pZ=di.unstable_LowPriority,l8=di.unstable_IdlePriority,Yw=null,Ba=null;function gZ(t){if(Ba&&typeof Ba.onCommitFiberRoot=="function")try{Ba.onCommitFiberRoot(Yw,t,void 0,(t.current.flags&128)===128)}catch{}}var oa=Math.clz32?Math.clz32:vZ,xZ=Math.log,yZ=Math.LN2;function vZ(t){return t>>>=0,t===0?32:31-(xZ(t)/yZ|0)|0}var s0=64,i0=4194304;function vp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mv(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=vp(l):(a&=o,a!==0&&(n=vp(a)))}else o=r&~s,o!==0?n=vp(o):a!==0&&(n=vp(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-oa(e),s=1<<r,n|=t[r],e&=~s;return n}function bZ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wZ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-oa(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=bZ(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function ZS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function c8(){var t=s0;return s0<<=1,!(s0&4194240)&&(s0=64),t}function $N(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Vx(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oa(e),t[e]=r}function jZ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-oa(r),a=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~a}}function GA(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-oa(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var er=0;function u8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var d8,KA,h8,f8,m8,eE=!1,a0=[],Yl=null,Ql=null,Xl=null,pg=new Map,gg=new Map,Pl=[],NZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lO(t,e){switch(t){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":Ql=null;break;case"mouseover":case"mouseout":Xl=null;break;case"pointerover":case"pointerout":pg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gg.delete(e.pointerId)}}function Ym(t,e,r,n,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Ux(e),e!==null&&KA(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function SZ(t,e,r,n,s){switch(e){case"focusin":return Yl=Ym(Yl,t,e,r,n,s),!0;case"dragenter":return Ql=Ym(Ql,t,e,r,n,s),!0;case"mouseover":return Xl=Ym(Xl,t,e,r,n,s),!0;case"pointerover":var a=s.pointerId;return pg.set(a,Ym(pg.get(a)||null,t,e,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,gg.set(a,Ym(gg.get(a)||null,t,e,r,n,s)),!0}return!1}function p8(t){var e=du(t.target);if(e!==null){var r=cd(e);if(r!==null){if(e=r.tag,e===13){if(e=n8(r),e!==null){t.blockedOn=e,m8(t.priority,function(){h8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Z0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);YS=n,r.target.dispatchEvent(n),YS=null}else return e=Ux(r),e!==null&&KA(e),t.blockedOn=r,!1;e.shift()}return!0}function cO(t,e,r){Z0(t)&&r.delete(e)}function EZ(){eE=!1,Yl!==null&&Z0(Yl)&&(Yl=null),Ql!==null&&Z0(Ql)&&(Ql=null),Xl!==null&&Z0(Xl)&&(Xl=null),pg.forEach(cO),gg.forEach(cO)}function Qm(t,e){t.blockedOn===e&&(t.blockedOn=null,eE||(eE=!0,di.unstable_scheduleCallback(di.unstable_NormalPriority,EZ)))}function xg(t){function e(s){return Qm(s,t)}if(0<a0.length){Qm(a0[0],t);for(var r=1;r<a0.length;r++){var n=a0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Yl!==null&&Qm(Yl,t),Ql!==null&&Qm(Ql,t),Xl!==null&&Qm(Xl,t),pg.forEach(e),gg.forEach(e),r=0;r<Pl.length;r++)n=Pl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pl.length&&(r=Pl[0],r.blockedOn===null);)p8(r),r.blockedOn===null&&Pl.shift()}var mh=nl.ReactCurrentBatchConfig,$v=!0;function _Z(t,e,r,n){var s=er,a=mh.transition;mh.transition=null;try{er=1,YA(t,e,r,n)}finally{er=s,mh.transition=a}}function PZ(t,e,r,n){var s=er,a=mh.transition;mh.transition=null;try{er=4,YA(t,e,r,n)}finally{er=s,mh.transition=a}}function YA(t,e,r,n){if($v){var s=tE(t,e,r,n);if(s===null)GN(t,e,n,Lv,r),lO(t,n);else if(SZ(s,t,e,r,n))n.stopPropagation();else if(lO(t,n),e&4&&-1<NZ.indexOf(t)){for(;s!==null;){var a=Ux(s);if(a!==null&&d8(a),a=tE(t,e,r,n),a===null&&GN(t,e,n,Lv,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else GN(t,e,n,null,r)}}var Lv=null;function tE(t,e,r,n){if(Lv=null,t=WA(n),t=du(t),t!==null)if(e=cd(t),e===null)t=null;else if(r=e.tag,r===13){if(t=n8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lv=t,null}function g8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mZ()){case HA:return 1;case o8:return 4;case Dv:case pZ:return 16;case l8:return 536870912;default:return 16}default:return 16}}var Ul=null,QA=null,ev=null;function x8(){if(ev)return ev;var t,e=QA,r=e.length,n,s="value"in Ul?Ul.value:Ul.textContent,a=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[a-n];n++);return ev=s.slice(t,1<n?1-n:void 0)}function tv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function o0(){return!0}function uO(){return!1}function pi(t){function e(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?o0:uO,this.isPropagationStopped=uO,this}return Br(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=o0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=o0)},persist:function(){},isPersistent:o0}),e}var Yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XA=pi(Yf),Bx=Br({},Yf,{view:0,detail:0}),AZ=pi(Bx),LN,FN,Xm,Qw=Br({},Bx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xm&&(Xm&&t.type==="mousemove"?(LN=t.screenX-Xm.screenX,FN=t.screenY-Xm.screenY):FN=LN=0,Xm=t),LN)},movementY:function(t){return"movementY"in t?t.movementY:FN}}),dO=pi(Qw),TZ=Br({},Qw,{dataTransfer:0}),CZ=pi(TZ),kZ=Br({},Bx,{relatedTarget:0}),VN=pi(kZ),IZ=Br({},Yf,{animationName:0,elapsedTime:0,pseudoElement:0}),RZ=pi(IZ),OZ=Br({},Yf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DZ=pi(OZ),MZ=Br({},Yf,{data:0}),hO=pi(MZ),$Z={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VZ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FZ[t])?!!e[t]:!1}function JA(){return VZ}var BZ=Br({},Bx,{key:function(t){if(t.key){var e=$Z[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LZ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JA,charCode:function(t){return t.type==="keypress"?tv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UZ=pi(BZ),qZ=Br({},Qw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fO=pi(qZ),zZ=Br({},Bx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JA}),WZ=pi(zZ),HZ=Br({},Yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),GZ=pi(HZ),KZ=Br({},Qw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YZ=pi(KZ),QZ=[9,13,27,32],ZA=Lo&&"CompositionEvent"in window,Rp=null;Lo&&"documentMode"in document&&(Rp=document.documentMode);var XZ=Lo&&"TextEvent"in window&&!Rp,y8=Lo&&(!ZA||Rp&&8<Rp&&11>=Rp),mO=" ",pO=!1;function v8(t,e){switch(t){case"keyup":return QZ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zd=!1;function JZ(t,e){switch(t){case"compositionend":return b8(e);case"keypress":return e.which!==32?null:(pO=!0,mO);case"textInput":return t=e.data,t===mO&&pO?null:t;default:return null}}function ZZ(t,e){if(zd)return t==="compositionend"||!ZA&&v8(t,e)?(t=x8(),ev=QA=Ul=null,zd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return y8&&e.locale!=="ko"?null:e.data;default:return null}}var eee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eee[t.type]:e==="textarea"}function w8(t,e,r,n){JF(n),e=Fv(e,"onChange"),0<e.length&&(r=new XA("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Op=null,yg=null;function tee(t){I8(t,0)}function Xw(t){var e=Gd(t);if(WF(e))return t}function ree(t,e){if(t==="change")return e}var j8=!1;if(Lo){var BN;if(Lo){var UN="oninput"in document;if(!UN){var xO=document.createElement("div");xO.setAttribute("oninput","return;"),UN=typeof xO.oninput=="function"}BN=UN}else BN=!1;j8=BN&&(!document.documentMode||9<document.documentMode)}function yO(){Op&&(Op.detachEvent("onpropertychange",N8),yg=Op=null)}function N8(t){if(t.propertyName==="value"&&Xw(yg)){var e=[];w8(e,yg,t,WA(t)),r8(tee,e)}}function nee(t,e,r){t==="focusin"?(yO(),Op=e,yg=r,Op.attachEvent("onpropertychange",N8)):t==="focusout"&&yO()}function see(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xw(yg)}function iee(t,e){if(t==="click")return Xw(e)}function aee(t,e){if(t==="input"||t==="change")return Xw(e)}function oee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ma=typeof Object.is=="function"?Object.is:oee;function vg(t,e){if(ma(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!$S.call(e,s)||!ma(t[s],e[s]))return!1}return!0}function vO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bO(t,e){var r=vO(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vO(r)}}function S8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?S8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E8(){for(var t=window,e=Iv();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Iv(t.document)}return e}function eT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lee(t){var e=E8(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&S8(r.ownerDocument.documentElement,r)){if(n!==null&&eT(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!t.extend&&a>n&&(s=n,n=a,a=s),s=bO(r,a);var o=bO(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cee=Lo&&"documentMode"in document&&11>=document.documentMode,Wd=null,rE=null,Dp=null,nE=!1;function wO(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nE||Wd==null||Wd!==Iv(n)||(n=Wd,"selectionStart"in n&&eT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dp&&vg(Dp,n)||(Dp=n,n=Fv(rE,"onSelect"),0<n.length&&(e=new XA("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wd)))}function l0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Hd={animationend:l0("Animation","AnimationEnd"),animationiteration:l0("Animation","AnimationIteration"),animationstart:l0("Animation","AnimationStart"),transitionend:l0("Transition","TransitionEnd")},qN={},_8={};Lo&&(_8=document.createElement("div").style,"AnimationEvent"in window||(delete Hd.animationend.animation,delete Hd.animationiteration.animation,delete Hd.animationstart.animation),"TransitionEvent"in window||delete Hd.transitionend.transition);function Jw(t){if(qN[t])return qN[t];if(!Hd[t])return t;var e=Hd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in _8)return qN[t]=e[r];return t}var P8=Jw("animationend"),A8=Jw("animationiteration"),T8=Jw("animationstart"),C8=Jw("transitionend"),k8=new Map,jO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pc(t,e){k8.set(t,e),ld(e,[t])}for(var zN=0;zN<jO.length;zN++){var WN=jO[zN],uee=WN.toLowerCase(),dee=WN[0].toUpperCase()+WN.slice(1);Pc(uee,"on"+dee)}Pc(P8,"onAnimationEnd");Pc(A8,"onAnimationIteration");Pc(T8,"onAnimationStart");Pc("dblclick","onDoubleClick");Pc("focusin","onFocus");Pc("focusout","onBlur");Pc(C8,"onTransitionEnd");zh("onMouseEnter",["mouseout","mouseover"]);zh("onMouseLeave",["mouseout","mouseover"]);zh("onPointerEnter",["pointerout","pointerover"]);zh("onPointerLeave",["pointerout","pointerover"]);ld("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ld("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ld("onBeforeInput",["compositionend","keypress","textInput","paste"]);ld("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ld("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ld("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hee=new Set("cancel close invalid load scroll toggle".split(" ").concat(bp));function NO(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,uZ(n,e,void 0,t),t.currentTarget=null}function I8(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;NO(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;NO(s,l,u),a=c}}}if(Ov)throw t=JS,Ov=!1,JS=null,t}function jr(t,e){var r=e[lE];r===void 0&&(r=e[lE]=new Set);var n=t+"__bubble";r.has(n)||(R8(e,t,2,!1),r.add(n))}function HN(t,e,r){var n=0;e&&(n|=4),R8(r,t,n,e)}var c0="_reactListening"+Math.random().toString(36).slice(2);function bg(t){if(!t[c0]){t[c0]=!0,VF.forEach(function(r){r!=="selectionchange"&&(hee.has(r)||HN(r,!1,t),HN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[c0]||(e[c0]=!0,HN("selectionchange",!1,e))}}function R8(t,e,r,n){switch(g8(e)){case 1:var s=_Z;break;case 4:s=PZ;break;default:s=YA}r=s.bind(null,e,r,t),s=void 0,!XS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function GN(t,e,r,n,s){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=du(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}r8(function(){var u=a,d=WA(r),h=[];e:{var f=k8.get(t);if(f!==void 0){var m=XA,x=t;switch(t){case"keypress":if(tv(r)===0)break e;case"keydown":case"keyup":m=UZ;break;case"focusin":x="focus",m=VN;break;case"focusout":x="blur",m=VN;break;case"beforeblur":case"afterblur":m=VN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=dO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=CZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WZ;break;case P8:case A8:case T8:m=RZ;break;case C8:m=GZ;break;case"scroll":m=AZ;break;case"wheel":m=YZ;break;case"copy":case"cut":case"paste":m=DZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=fO}var p=(e&4)!==0,v=!p&&t==="scroll",w=p?f!==null?f+"Capture":null:f;p=[];for(var b=u,j;b!==null;){j=b;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,w!==null&&(N=mg(b,w),N!=null&&p.push(wg(b,N,j)))),v)break;b=b.return}0<p.length&&(f=new m(f,x,null,r,d),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==YS&&(x=r.relatedTarget||r.fromElement)&&(du(x)||x[Fo]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?du(x):null,x!==null&&(v=cd(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(p=dO,N="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=fO,N="onPointerLeave",w="onPointerEnter",b="pointer"),v=m==null?f:Gd(m),j=x==null?f:Gd(x),f=new p(N,b+"leave",m,r,d),f.target=v,f.relatedTarget=j,N=null,du(d)===u&&(p=new p(w,b+"enter",x,r,d),p.target=j,p.relatedTarget=v,N=p),v=N,m&&x)t:{for(p=m,w=x,b=0,j=p;j;j=Td(j))b++;for(j=0,N=w;N;N=Td(N))j++;for(;0<b-j;)p=Td(p),b--;for(;0<j-b;)w=Td(w),j--;for(;b--;){if(p===w||w!==null&&p===w.alternate)break t;p=Td(p),w=Td(w)}p=null}else p=null;m!==null&&SO(h,f,m,p,!1),x!==null&&v!==null&&SO(h,v,x,p,!0)}}e:{if(f=u?Gd(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=ree;else if(gO(f))if(j8)E=aee;else{E=see;var C=nee}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=iee);if(E&&(E=E(t,u))){w8(h,E,r,d);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&zS(f,"number",f.value)}switch(C=u?Gd(u):window,t){case"focusin":(gO(C)||C.contentEditable==="true")&&(Wd=C,rE=u,Dp=null);break;case"focusout":Dp=rE=Wd=null;break;case"mousedown":nE=!0;break;case"contextmenu":case"mouseup":case"dragend":nE=!1,wO(h,r,d);break;case"selectionchange":if(cee)break;case"keydown":case"keyup":wO(h,r,d)}var _;if(ZA)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else zd?v8(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(y8&&r.locale!=="ko"&&(zd||S!=="onCompositionStart"?S==="onCompositionEnd"&&zd&&(_=x8()):(Ul=d,QA="value"in Ul?Ul.value:Ul.textContent,zd=!0)),C=Fv(u,S),0<C.length&&(S=new hO(S,t,null,r,d),h.push({event:S,listeners:C}),_?S.data=_:(_=b8(r),_!==null&&(S.data=_)))),(_=XZ?JZ(t,r):ZZ(t,r))&&(u=Fv(u,"onBeforeInput"),0<u.length&&(d=new hO("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=_))}I8(h,e)})}function wg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Fv(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=mg(t,r),a!=null&&n.unshift(wg(t,a,s)),a=mg(t,e),a!=null&&n.push(wg(t,a,s))),t=t.return}return n}function Td(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function SO(t,e,r,n,s){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=mg(r,a),c!=null&&o.unshift(wg(r,c,l))):s||(c=mg(r,a),c!=null&&o.push(wg(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var fee=/\r\n?/g,mee=/\u0000|\uFFFD/g;function EO(t){return(typeof t=="string"?t:""+t).replace(fee,`
`).replace(mee,"")}function u0(t,e,r){if(e=EO(e),EO(t)!==e&&r)throw Error(Ie(425))}function Vv(){}var sE=null,iE=null;function aE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oE=typeof setTimeout=="function"?setTimeout:void 0,pee=typeof clearTimeout=="function"?clearTimeout:void 0,_O=typeof Promise=="function"?Promise:void 0,gee=typeof queueMicrotask=="function"?queueMicrotask:typeof _O<"u"?function(t){return _O.resolve(null).then(t).catch(xee)}:oE;function xee(t){setTimeout(function(){throw t})}function KN(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),xg(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);xg(e)}function Jl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function PO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Qf=Math.random().toString(36).slice(2),Ma="__reactFiber$"+Qf,jg="__reactProps$"+Qf,Fo="__reactContainer$"+Qf,lE="__reactEvents$"+Qf,yee="__reactListeners$"+Qf,vee="__reactHandles$"+Qf;function du(t){var e=t[Ma];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Fo]||r[Ma]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=PO(t);t!==null;){if(r=t[Ma])return r;t=PO(t)}return e}t=r,r=t.parentNode}return null}function Ux(t){return t=t[Ma]||t[Fo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ie(33))}function Zw(t){return t[jg]||null}var cE=[],Kd=-1;function Ac(t){return{current:t}}function Er(t){0>Kd||(t.current=cE[Kd],cE[Kd]=null,Kd--)}function xr(t,e){Kd++,cE[Kd]=t.current,t.current=e}var mc={},cs=Ac(mc),qs=Ac(!1),Bu=mc;function Wh(t,e){var r=t.type.contextTypes;if(!r)return mc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zs(t){return t=t.childContextTypes,t!=null}function Bv(){Er(qs),Er(cs)}function AO(t,e,r){if(cs.current!==mc)throw Error(Ie(168));xr(cs,e),xr(qs,r)}function O8(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Ie(108,nZ(t)||"Unknown",s));return Br({},r,n)}function Uv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mc,Bu=cs.current,xr(cs,t),xr(qs,qs.current),!0}function TO(t,e,r){var n=t.stateNode;if(!n)throw Error(Ie(169));r?(t=O8(t,e,Bu),n.__reactInternalMemoizedMergedChildContext=t,Er(qs),Er(cs),xr(cs,t)):Er(qs),xr(qs,r)}var wo=null,e1=!1,YN=!1;function D8(t){wo===null?wo=[t]:wo.push(t)}function bee(t){e1=!0,D8(t)}function Tc(){if(!YN&&wo!==null){YN=!0;var t=0,e=er;try{var r=wo;for(er=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}wo=null,e1=!1}catch(s){throw wo!==null&&(wo=wo.slice(t+1)),a8(HA,Tc),s}finally{er=e,YN=!1}}return null}var Yd=[],Qd=0,qv=null,zv=0,Pi=[],Ai=0,Uu=null,Eo=1,_o="";function eu(t,e){Yd[Qd++]=zv,Yd[Qd++]=qv,qv=t,zv=e}function M8(t,e,r){Pi[Ai++]=Eo,Pi[Ai++]=_o,Pi[Ai++]=Uu,Uu=t;var n=Eo;t=_o;var s=32-oa(n)-1;n&=~(1<<s),r+=1;var a=32-oa(e)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Eo=1<<32-oa(e)+s|r<<s|n,_o=a+t}else Eo=1<<a|r<<s|n,_o=t}function tT(t){t.return!==null&&(eu(t,1),M8(t,1,0))}function rT(t){for(;t===qv;)qv=Yd[--Qd],Yd[Qd]=null,zv=Yd[--Qd],Yd[Qd]=null;for(;t===Uu;)Uu=Pi[--Ai],Pi[Ai]=null,_o=Pi[--Ai],Pi[Ai]=null,Eo=Pi[--Ai],Pi[Ai]=null}var oi=null,ii=null,Tr=!1,ra=null;function $8(t,e){var r=Ci(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function CO(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,oi=t,ii=Jl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,oi=t,ii=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Uu!==null?{id:Eo,overflow:_o}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ci(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,oi=t,ii=null,!0):!1;default:return!1}}function uE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dE(t){if(Tr){var e=ii;if(e){var r=e;if(!CO(t,e)){if(uE(t))throw Error(Ie(418));e=Jl(r.nextSibling);var n=oi;e&&CO(t,e)?$8(n,r):(t.flags=t.flags&-4097|2,Tr=!1,oi=t)}}else{if(uE(t))throw Error(Ie(418));t.flags=t.flags&-4097|2,Tr=!1,oi=t}}}function kO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;oi=t}function d0(t){if(t!==oi)return!1;if(!Tr)return kO(t),Tr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!aE(t.type,t.memoizedProps)),e&&(e=ii)){if(uE(t))throw L8(),Error(Ie(418));for(;e;)$8(t,e),e=Jl(e.nextSibling)}if(kO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ii=Jl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ii=null}}else ii=oi?Jl(t.stateNode.nextSibling):null;return!0}function L8(){for(var t=ii;t;)t=Jl(t.nextSibling)}function Hh(){ii=oi=null,Tr=!1}function nT(t){ra===null?ra=[t]:ra.push(t)}var wee=nl.ReactCurrentBatchConfig;function Jm(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ie(309));var n=r.stateNode}if(!n)throw Error(Ie(147,t));var s=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ie(284));if(!r._owner)throw Error(Ie(290,t))}return t}function h0(t,e){throw t=Object.prototype.toString.call(e),Error(Ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function IO(t){var e=t._init;return e(t._payload)}function F8(t){function e(w,b){if(t){var j=w.deletions;j===null?(w.deletions=[b],w.flags|=16):j.push(b)}}function r(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(w,b){return w=rc(w,b),w.index=0,w.sibling=null,w}function a(w,b,j){return w.index=j,t?(j=w.alternate,j!==null?(j=j.index,j<b?(w.flags|=2,b):j):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,b,j,N){return b===null||b.tag!==6?(b=r2(j,w.mode,N),b.return=w,b):(b=s(b,j),b.return=w,b)}function c(w,b,j,N){var E=j.type;return E===qd?d(w,b,j.props.children,N,j.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sl&&IO(E)===b.type)?(N=s(b,j.props),N.ref=Jm(w,b,j),N.return=w,N):(N=lv(j.type,j.key,j.props,null,w.mode,N),N.ref=Jm(w,b,j),N.return=w,N)}function u(w,b,j,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=n2(j,w.mode,N),b.return=w,b):(b=s(b,j.children||[]),b.return=w,b)}function d(w,b,j,N,E){return b===null||b.tag!==7?(b=Tu(j,w.mode,N,E),b.return=w,b):(b=s(b,j),b.return=w,b)}function h(w,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=r2(""+b,w.mode,j),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case t0:return j=lv(b.type,b.key,b.props,null,w.mode,j),j.ref=Jm(w,null,b),j.return=w,j;case Ud:return b=n2(b,w.mode,j),b.return=w,b;case Sl:var N=b._init;return h(w,N(b._payload),j)}if(yp(b)||Gm(b))return b=Tu(b,w.mode,j,null),b.return=w,b;h0(w,b)}return null}function f(w,b,j,N){var E=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return E!==null?null:l(w,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case t0:return j.key===E?c(w,b,j,N):null;case Ud:return j.key===E?u(w,b,j,N):null;case Sl:return E=j._init,f(w,b,E(j._payload),N)}if(yp(j)||Gm(j))return E!==null?null:d(w,b,j,N,null);h0(w,j)}return null}function m(w,b,j,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(j)||null,l(b,w,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case t0:return w=w.get(N.key===null?j:N.key)||null,c(b,w,N,E);case Ud:return w=w.get(N.key===null?j:N.key)||null,u(b,w,N,E);case Sl:var C=N._init;return m(w,b,j,C(N._payload),E)}if(yp(N)||Gm(N))return w=w.get(j)||null,d(b,w,N,E,null);h0(b,N)}return null}function x(w,b,j,N){for(var E=null,C=null,_=b,S=b=0,A=null;_!==null&&S<j.length;S++){_.index>S?(A=_,_=null):A=_.sibling;var T=f(w,_,j[S],N);if(T===null){_===null&&(_=A);break}t&&_&&T.alternate===null&&e(w,_),b=a(T,b,S),C===null?E=T:C.sibling=T,C=T,_=A}if(S===j.length)return r(w,_),Tr&&eu(w,S),E;if(_===null){for(;S<j.length;S++)_=h(w,j[S],N),_!==null&&(b=a(_,b,S),C===null?E=_:C.sibling=_,C=_);return Tr&&eu(w,S),E}for(_=n(w,_);S<j.length;S++)A=m(_,w,S,j[S],N),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?S:A.key),b=a(A,b,S),C===null?E=A:C.sibling=A,C=A);return t&&_.forEach(function(I){return e(w,I)}),Tr&&eu(w,S),E}function p(w,b,j,N){var E=Gm(j);if(typeof E!="function")throw Error(Ie(150));if(j=E.call(j),j==null)throw Error(Ie(151));for(var C=E=null,_=b,S=b=0,A=null,T=j.next();_!==null&&!T.done;S++,T=j.next()){_.index>S?(A=_,_=null):A=_.sibling;var I=f(w,_,T.value,N);if(I===null){_===null&&(_=A);break}t&&_&&I.alternate===null&&e(w,_),b=a(I,b,S),C===null?E=I:C.sibling=I,C=I,_=A}if(T.done)return r(w,_),Tr&&eu(w,S),E;if(_===null){for(;!T.done;S++,T=j.next())T=h(w,T.value,N),T!==null&&(b=a(T,b,S),C===null?E=T:C.sibling=T,C=T);return Tr&&eu(w,S),E}for(_=n(w,_);!T.done;S++,T=j.next())T=m(_,w,S,T.value,N),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?S:T.key),b=a(T,b,S),C===null?E=T:C.sibling=T,C=T);return t&&_.forEach(function(P){return e(w,P)}),Tr&&eu(w,S),E}function v(w,b,j,N){if(typeof j=="object"&&j!==null&&j.type===qd&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case t0:e:{for(var E=j.key,C=b;C!==null;){if(C.key===E){if(E=j.type,E===qd){if(C.tag===7){r(w,C.sibling),b=s(C,j.props.children),b.return=w,w=b;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sl&&IO(E)===C.type){r(w,C.sibling),b=s(C,j.props),b.ref=Jm(w,C,j),b.return=w,w=b;break e}r(w,C);break}else e(w,C);C=C.sibling}j.type===qd?(b=Tu(j.props.children,w.mode,N,j.key),b.return=w,w=b):(N=lv(j.type,j.key,j.props,null,w.mode,N),N.ref=Jm(w,b,j),N.return=w,w=N)}return o(w);case Ud:e:{for(C=j.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(w,b.sibling),b=s(b,j.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else e(w,b);b=b.sibling}b=n2(j,w.mode,N),b.return=w,w=b}return o(w);case Sl:return C=j._init,v(w,b,C(j._payload),N)}if(yp(j))return x(w,b,j,N);if(Gm(j))return p(w,b,j,N);h0(w,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(w,b.sibling),b=s(b,j),b.return=w,w=b):(r(w,b),b=r2(j,w.mode,N),b.return=w,w=b),o(w)):r(w,b)}return v}var Gh=F8(!0),V8=F8(!1),Wv=Ac(null),Hv=null,Xd=null,sT=null;function iT(){sT=Xd=Hv=null}function aT(t){var e=Wv.current;Er(Wv),t._currentValue=e}function hE(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ph(t,e){Hv=t,sT=Xd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fs=!0),t.firstContext=null)}function Fi(t){var e=t._currentValue;if(sT!==t)if(t={context:t,memoizedValue:e,next:null},Xd===null){if(Hv===null)throw Error(Ie(308));Xd=t,Hv.dependencies={lanes:0,firstContext:t}}else Xd=Xd.next=t;return e}var hu=null;function oT(t){hu===null?hu=[t]:hu.push(t)}function B8(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,oT(e)):(r.next=s.next,s.next=r),e.interleaved=r,Vo(t,n)}function Vo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var El=!1;function lT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Io(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,qt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Vo(t,r)}return s=n.interleaved,s===null?(e.next=e,oT(n)):(e.next=s.next,s.next=e),n.interleaved=e,Vo(t,r)}function rv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,GA(t,r)}}function RO(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=e:a=a.next=e}else s=a=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Gv(t,e,r,n){var s=t.updateQueue;El=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,p=l;switch(f=e,m=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=Br({},h,f);break e;case 2:El=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);zu|=o,t.lanes=o,t.memoizedState=h}}function OO(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ie(191,s));s.call(n)}}}var qx={},Ua=Ac(qx),Ng=Ac(qx),Sg=Ac(qx);function fu(t){if(t===qx)throw Error(Ie(174));return t}function cT(t,e){switch(xr(Sg,e),xr(Ng,t),xr(Ua,qx),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:HS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=HS(e,t)}Er(Ua),xr(Ua,e)}function Kh(){Er(Ua),Er(Ng),Er(Sg)}function q8(t){fu(Sg.current);var e=fu(Ua.current),r=HS(e,t.type);e!==r&&(xr(Ng,t),xr(Ua,r))}function uT(t){Ng.current===t&&(Er(Ua),Er(Ng))}var Dr=Ac(0);function Kv(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var QN=[];function dT(){for(var t=0;t<QN.length;t++)QN[t]._workInProgressVersionPrimary=null;QN.length=0}var nv=nl.ReactCurrentDispatcher,XN=nl.ReactCurrentBatchConfig,qu=0,Vr=null,xn=null,In=null,Yv=!1,Mp=!1,Eg=0,jee=0;function Zn(){throw Error(Ie(321))}function hT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ma(t[r],e[r]))return!1;return!0}function fT(t,e,r,n,s,a){if(qu=a,Vr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nv.current=t===null||t.memoizedState===null?_ee:Pee,t=r(n,s),Mp){a=0;do{if(Mp=!1,Eg=0,25<=a)throw Error(Ie(301));a+=1,In=xn=null,e.updateQueue=null,nv.current=Aee,t=r(n,s)}while(Mp)}if(nv.current=Qv,e=xn!==null&&xn.next!==null,qu=0,In=xn=Vr=null,Yv=!1,e)throw Error(Ie(300));return t}function mT(){var t=Eg!==0;return Eg=0,t}function Ta(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Vr.memoizedState=In=t:In=In.next=t,In}function Vi(){if(xn===null){var t=Vr.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var e=In===null?Vr.memoizedState:In.next;if(e!==null)In=e,xn=t;else{if(t===null)throw Error(Ie(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},In===null?Vr.memoizedState=In=t:In=In.next=t}return In}function _g(t,e){return typeof e=="function"?e(t):e}function JN(t){var e=Vi(),r=e.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=t;var n=xn,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((qu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Vr.lanes|=d,zu|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,ma(n,e.memoizedState)||(Fs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do a=s.lane,Vr.lanes|=a,zu|=a,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ZN(t){var e=Vi(),r=e.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,a=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);ma(a,e.memoizedState)||(Fs=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function z8(){}function W8(t,e){var r=Vr,n=Vi(),s=e(),a=!ma(n.memoizedState,s);if(a&&(n.memoizedState=s,Fs=!0),n=n.queue,pT(K8.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||In!==null&&In.memoizedState.tag&1){if(r.flags|=2048,Pg(9,G8.bind(null,r,n,s,e),void 0,null),Mn===null)throw Error(Ie(349));qu&30||H8(r,e,s)}return s}function H8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Vr.updateQueue,e===null?(e={lastEffect:null,stores:null},Vr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function G8(t,e,r,n){e.value=r,e.getSnapshot=n,Y8(e)&&Q8(t)}function K8(t,e,r){return r(function(){Y8(e)&&Q8(t)})}function Y8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ma(t,r)}catch{return!0}}function Q8(t){var e=Vo(t,1);e!==null&&la(e,t,1,-1)}function DO(t){var e=Ta();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:t},e.queue=t,t=t.dispatch=Eee.bind(null,Vr,t),[e.memoizedState,t]}function Pg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Vr.updateQueue,e===null?(e={lastEffect:null,stores:null},Vr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function X8(){return Vi().memoizedState}function sv(t,e,r,n){var s=Ta();Vr.flags|=t,s.memoizedState=Pg(1|e,r,void 0,n===void 0?null:n)}function t1(t,e,r,n){var s=Vi();n=n===void 0?null:n;var a=void 0;if(xn!==null){var o=xn.memoizedState;if(a=o.destroy,n!==null&&hT(n,o.deps)){s.memoizedState=Pg(e,r,a,n);return}}Vr.flags|=t,s.memoizedState=Pg(1|e,r,a,n)}function MO(t,e){return sv(8390656,8,t,e)}function pT(t,e){return t1(2048,8,t,e)}function J8(t,e){return t1(4,2,t,e)}function Z8(t,e){return t1(4,4,t,e)}function eV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tV(t,e,r){return r=r!=null?r.concat([t]):null,t1(4,4,eV.bind(null,e,t),r)}function gT(){}function rV(t,e){var r=Vi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&hT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function nV(t,e){var r=Vi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&hT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function sV(t,e,r){return qu&21?(ma(r,e)||(r=c8(),Vr.lanes|=r,zu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fs=!0),t.memoizedState=r)}function Nee(t,e){var r=er;er=r!==0&&4>r?r:4,t(!0);var n=XN.transition;XN.transition={};try{t(!1),e()}finally{er=r,XN.transition=n}}function iV(){return Vi().memoizedState}function See(t,e,r){var n=tc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},aV(t))oV(e,r);else if(r=B8(t,e,r,n),r!==null){var s=js();la(r,t,n,s),lV(r,e,n)}}function Eee(t,e,r){var n=tc(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(aV(t))oV(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,ma(l,o)){var c=e.interleaved;c===null?(s.next=s,oT(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=B8(t,e,s,n),r!==null&&(s=js(),la(r,t,n,s),lV(r,e,n))}}function aV(t){var e=t.alternate;return t===Vr||e!==null&&e===Vr}function oV(t,e){Mp=Yv=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function lV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,GA(t,r)}}var Qv={readContext:Fi,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},_ee={readContext:Fi,useCallback:function(t,e){return Ta().memoizedState=[t,e===void 0?null:e],t},useContext:Fi,useEffect:MO,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,sv(4194308,4,eV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return sv(4194308,4,t,e)},useInsertionEffect:function(t,e){return sv(4,2,t,e)},useMemo:function(t,e){var r=Ta();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ta();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=See.bind(null,Vr,t),[n.memoizedState,t]},useRef:function(t){var e=Ta();return t={current:t},e.memoizedState=t},useState:DO,useDebugValue:gT,useDeferredValue:function(t){return Ta().memoizedState=t},useTransition:function(){var t=DO(!1),e=t[0];return t=Nee.bind(null,t[1]),Ta().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Vr,s=Ta();if(Tr){if(r===void 0)throw Error(Ie(407));r=r()}else{if(r=e(),Mn===null)throw Error(Ie(349));qu&30||H8(n,e,r)}s.memoizedState=r;var a={value:r,getSnapshot:e};return s.queue=a,MO(K8.bind(null,n,a,t),[t]),n.flags|=2048,Pg(9,G8.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Ta(),e=Mn.identifierPrefix;if(Tr){var r=_o,n=Eo;r=(n&~(1<<32-oa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Eg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=jee++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pee={readContext:Fi,useCallback:rV,useContext:Fi,useEffect:pT,useImperativeHandle:tV,useInsertionEffect:J8,useLayoutEffect:Z8,useMemo:nV,useReducer:JN,useRef:X8,useState:function(){return JN(_g)},useDebugValue:gT,useDeferredValue:function(t){var e=Vi();return sV(e,xn.memoizedState,t)},useTransition:function(){var t=JN(_g)[0],e=Vi().memoizedState;return[t,e]},useMutableSource:z8,useSyncExternalStore:W8,useId:iV,unstable_isNewReconciler:!1},Aee={readContext:Fi,useCallback:rV,useContext:Fi,useEffect:pT,useImperativeHandle:tV,useInsertionEffect:J8,useLayoutEffect:Z8,useMemo:nV,useReducer:ZN,useRef:X8,useState:function(){return ZN(_g)},useDebugValue:gT,useDeferredValue:function(t){var e=Vi();return xn===null?e.memoizedState=t:sV(e,xn.memoizedState,t)},useTransition:function(){var t=ZN(_g)[0],e=Vi().memoizedState;return[t,e]},useMutableSource:z8,useSyncExternalStore:W8,useId:iV,unstable_isNewReconciler:!1};function Xi(t,e){if(t&&t.defaultProps){e=Br({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function fE(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Br({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var r1={isMounted:function(t){return(t=t._reactInternals)?cd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=js(),s=tc(t),a=Io(n,s);a.payload=e,r!=null&&(a.callback=r),e=Zl(t,a,s),e!==null&&(la(e,t,s,n),rv(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=js(),s=tc(t),a=Io(n,s);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Zl(t,a,s),e!==null&&(la(e,t,s,n),rv(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=js(),n=tc(t),s=Io(r,n);s.tag=2,e!=null&&(s.callback=e),e=Zl(t,s,n),e!==null&&(la(e,t,n,r),rv(e,t,n))}};function $O(t,e,r,n,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!vg(r,n)||!vg(s,a):!0}function cV(t,e,r){var n=!1,s=mc,a=e.contextType;return typeof a=="object"&&a!==null?a=Fi(a):(s=zs(e)?Bu:cs.current,n=e.contextTypes,a=(n=n!=null)?Wh(t,s):mc),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=r1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function LO(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&r1.enqueueReplaceState(e,e.state,null)}function mE(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},lT(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=Fi(a):(a=zs(e)?Bu:cs.current,s.context=Wh(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(fE(t,e,a,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&r1.enqueueReplaceState(s,s.state,null),Gv(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yh(t,e){try{var r="",n=e;do r+=rZ(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function e2(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function pE(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Tee=typeof WeakMap=="function"?WeakMap:Map;function uV(t,e,r){r=Io(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Jv||(Jv=!0,EE=n),pE(t,e)},r}function dV(t,e,r){r=Io(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){pE(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){pE(t,e),typeof n!="function"&&(ec===null?ec=new Set([this]):ec.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function FO(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Tee;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=qee.bind(null,t,e,r),e.then(t,t))}function VO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function BO(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Io(-1,1),e.tag=2,Zl(r,e,1))),r.lanes|=1),t)}var Cee=nl.ReactCurrentOwner,Fs=!1;function gs(t,e,r,n){e.child=t===null?V8(e,null,r,n):Gh(e,t.child,r,n)}function UO(t,e,r,n,s){r=r.render;var a=e.ref;return ph(e,s),n=fT(t,e,r,n,a,s),r=mT(),t!==null&&!Fs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bo(t,e,s)):(Tr&&r&&tT(e),e.flags|=1,gs(t,e,n,s),e.child)}function qO(t,e,r,n,s){if(t===null){var a=r.type;return typeof a=="function"&&!ST(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,hV(t,e,a,n,s)):(t=lv(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:vg,r(o,n)&&t.ref===e.ref)return Bo(t,e,s)}return e.flags|=1,t=rc(a,n),t.ref=e.ref,t.return=e,e.child=t}function hV(t,e,r,n,s){if(t!==null){var a=t.memoizedProps;if(vg(a,n)&&t.ref===e.ref)if(Fs=!1,e.pendingProps=n=a,(t.lanes&s)!==0)t.flags&131072&&(Fs=!0);else return e.lanes=t.lanes,Bo(t,e,s)}return gE(t,e,r,n,s)}function fV(t,e,r){var n=e.pendingProps,s=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(Zd,Js),Js|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xr(Zd,Js),Js|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,xr(Zd,Js),Js|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,xr(Zd,Js),Js|=n;return gs(t,e,s,r),e.child}function mV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function gE(t,e,r,n,s){var a=zs(r)?Bu:cs.current;return a=Wh(e,a),ph(e,s),r=fT(t,e,r,n,a,s),n=mT(),t!==null&&!Fs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bo(t,e,s)):(Tr&&n&&tT(e),e.flags|=1,gs(t,e,r,s),e.child)}function zO(t,e,r,n,s){if(zs(r)){var a=!0;Uv(e)}else a=!1;if(ph(e,s),e.stateNode===null)iv(t,e),cV(e,r,n),mE(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fi(u):(u=zs(r)?Bu:cs.current,u=Wh(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&LO(e,o,n,u),El=!1;var f=e.memoizedState;o.state=f,Gv(e,n,o,s),c=e.memoizedState,l!==n||f!==c||qs.current||El?(typeof d=="function"&&(fE(e,r,d,n),c=e.memoizedState),(l=El||$O(e,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,U8(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Xi(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Fi(c):(c=zs(r)?Bu:cs.current,c=Wh(e,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&LO(e,o,n,c),El=!1,f=e.memoizedState,o.state=f,Gv(e,n,o,s);var x=e.memoizedState;l!==h||f!==x||qs.current||El?(typeof m=="function"&&(fE(e,r,m,n),x=e.memoizedState),(u=El||$O(e,r,u,n,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return xE(t,e,r,n,a,s)}function xE(t,e,r,n,s,a){mV(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&TO(e,r,!1),Bo(t,e,a);n=e.stateNode,Cee.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Gh(e,t.child,null,a),e.child=Gh(e,null,l,a)):gs(t,e,l,a),e.memoizedState=n.state,s&&TO(e,r,!0),e.child}function pV(t){var e=t.stateNode;e.pendingContext?AO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&AO(t,e.context,!1),cT(t,e.containerInfo)}function WO(t,e,r,n,s){return Hh(),nT(s),e.flags|=256,gs(t,e,r,n),e.child}var yE={dehydrated:null,treeContext:null,retryLane:0};function vE(t){return{baseLanes:t,cachePool:null,transitions:null}}function gV(t,e,r){var n=e.pendingProps,s=Dr.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),xr(Dr,s&1),t===null)return dE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=i1(o,n,0,null),t=Tu(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=vE(r),e.memoizedState=yE,t):xT(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return kee(t,e,o,n,l,s,r);if(a){a=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=rc(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=rc(l,a):(a=Tu(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?vE(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=yE,n}return a=t.child,t=a.sibling,n=rc(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function xT(t,e){return e=i1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function f0(t,e,r,n){return n!==null&&nT(n),Gh(e,t.child,null,r),t=xT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kee(t,e,r,n,s,a,o){if(r)return e.flags&256?(e.flags&=-257,n=e2(Error(Ie(422))),f0(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,s=e.mode,n=i1({mode:"visible",children:n.children},s,0,null),a=Tu(a,s,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Gh(e,t.child,null,o),e.child.memoizedState=vE(o),e.memoizedState=yE,a);if(!(e.mode&1))return f0(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Ie(419)),n=e2(a,n,void 0),f0(t,e,o,n)}if(l=(o&t.childLanes)!==0,Fs||l){if(n=Mn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Vo(t,s),la(n,t,s,-1))}return NT(),n=e2(Error(Ie(421))),f0(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zee.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,ii=Jl(s.nextSibling),oi=e,Tr=!0,ra=null,t!==null&&(Pi[Ai++]=Eo,Pi[Ai++]=_o,Pi[Ai++]=Uu,Eo=t.id,_o=t.overflow,Uu=e),e=xT(e,n.children),e.flags|=4096,e)}function HO(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),hE(t.return,e,r)}function t2(t,e,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function xV(t,e,r){var n=e.pendingProps,s=n.revealOrder,a=n.tail;if(gs(t,e,n.children,r),n=Dr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&HO(t,r,e);else if(t.tag===19)HO(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(xr(Dr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Kv(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),t2(e,!1,s,r,a);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Kv(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}t2(e,!0,r,null,a);break;case"together":t2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function iv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),zu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ie(153));if(e.child!==null){for(t=e.child,r=rc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=rc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Iee(t,e,r){switch(e.tag){case 3:pV(e),Hh();break;case 5:q8(e);break;case 1:zs(e.type)&&Uv(e);break;case 4:cT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;xr(Wv,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(xr(Dr,Dr.current&1),e.flags|=128,null):r&e.child.childLanes?gV(t,e,r):(xr(Dr,Dr.current&1),t=Bo(t,e,r),t!==null?t.sibling:null);xr(Dr,Dr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return xV(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xr(Dr,Dr.current),n)break;return null;case 22:case 23:return e.lanes=0,fV(t,e,r)}return Bo(t,e,r)}var yV,bE,vV,bV;yV=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bE=function(){};vV=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,fu(Ua.current);var a=null;switch(r){case"input":s=US(t,s),n=US(t,n),a=[];break;case"select":s=Br({},s,{value:void 0}),n=Br({},n,{value:void 0}),a=[];break;case"textarea":s=WS(t,s),n=WS(t,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Vv)}GS(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hg.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&jr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};bV=function(t,e,r,n){r!==n&&(e.flags|=4)};function Zm(t,e){if(!Tr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function es(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Ree(t,e,r){var n=e.pendingProps;switch(rT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(e),null;case 1:return zs(e.type)&&Bv(),es(e),null;case 3:return n=e.stateNode,Kh(),Er(qs),Er(cs),dT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(d0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ra!==null&&(AE(ra),ra=null))),bE(t,e),es(e),null;case 5:uT(e);var s=fu(Sg.current);if(r=e.type,t!==null&&e.stateNode!=null)vV(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ie(166));return es(e),null}if(t=fu(Ua.current),d0(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Ma]=e,n[jg]=a,t=(e.mode&1)!==0,r){case"dialog":jr("cancel",n),jr("close",n);break;case"iframe":case"object":case"embed":jr("load",n);break;case"video":case"audio":for(s=0;s<bp.length;s++)jr(bp[s],n);break;case"source":jr("error",n);break;case"img":case"image":case"link":jr("error",n),jr("load",n);break;case"details":jr("toggle",n);break;case"input":tO(n,a),jr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},jr("invalid",n);break;case"textarea":nO(n,a),jr("invalid",n)}GS(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&u0(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&u0(n.textContent,l,t),s=["children",""+l]):hg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&jr("scroll",n)}switch(r){case"input":r0(n),rO(n,a,!0);break;case"textarea":r0(n),sO(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Vv)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KF(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ma]=e,t[jg]=n,yV(t,e,!1,!1),e.stateNode=t;e:{switch(o=KS(r,n),r){case"dialog":jr("cancel",t),jr("close",t),s=n;break;case"iframe":case"object":case"embed":jr("load",t),s=n;break;case"video":case"audio":for(s=0;s<bp.length;s++)jr(bp[s],t);s=n;break;case"source":jr("error",t),s=n;break;case"img":case"image":case"link":jr("error",t),jr("load",t),s=n;break;case"details":jr("toggle",t),s=n;break;case"input":tO(t,n),s=US(t,n),jr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Br({},n,{value:void 0}),jr("invalid",t);break;case"textarea":nO(t,n),s=WS(t,n),jr("invalid",t);break;default:s=n}GS(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?XF(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&YF(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fg(t,c):typeof c=="number"&&fg(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(hg.hasOwnProperty(a)?c!=null&&a==="onScroll"&&jr("scroll",t):c!=null&&BA(t,a,c,o))}switch(r){case"input":r0(t),rO(t,n,!1);break;case"textarea":r0(t),sO(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fc(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?dh(t,!!n.multiple,a,!1):n.defaultValue!=null&&dh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return es(e),null;case 6:if(t&&e.stateNode!=null)bV(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ie(166));if(r=fu(Sg.current),fu(Ua.current),d0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ma]=e,(a=n.nodeValue!==r)&&(t=oi,t!==null))switch(t.tag){case 3:u0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&u0(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ma]=e,e.stateNode=n}return es(e),null;case 13:if(Er(Dr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tr&&ii!==null&&e.mode&1&&!(e.flags&128))L8(),Hh(),e.flags|=98560,a=!1;else if(a=d0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Ie(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ie(317));a[Ma]=e}else Hh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;es(e),a=!1}else ra!==null&&(AE(ra),ra=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Dr.current&1?vn===0&&(vn=3):NT())),e.updateQueue!==null&&(e.flags|=4),es(e),null);case 4:return Kh(),bE(t,e),t===null&&bg(e.stateNode.containerInfo),es(e),null;case 10:return aT(e.type._context),es(e),null;case 17:return zs(e.type)&&Bv(),es(e),null;case 19:if(Er(Dr),a=e.memoizedState,a===null)return es(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Zm(a,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kv(t),o!==null){for(e.flags|=128,Zm(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return xr(Dr,Dr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Xr()>Qh&&(e.flags|=128,n=!0,Zm(a,!1),e.lanes=4194304)}else{if(!n)if(t=Kv(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Zm(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Tr)return es(e),null}else 2*Xr()-a.renderingStartTime>Qh&&r!==1073741824&&(e.flags|=128,n=!0,Zm(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Xr(),e.sibling=null,r=Dr.current,xr(Dr,n?r&1|2:r&1),e):(es(e),null);case 22:case 23:return jT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Js&1073741824&&(es(e),e.subtreeFlags&6&&(e.flags|=8192)):es(e),null;case 24:return null;case 25:return null}throw Error(Ie(156,e.tag))}function Oee(t,e){switch(rT(e),e.tag){case 1:return zs(e.type)&&Bv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kh(),Er(qs),Er(cs),dT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uT(e),null;case 13:if(Er(Dr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ie(340));Hh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Er(Dr),null;case 4:return Kh(),null;case 10:return aT(e.type._context),null;case 22:case 23:return jT(),null;case 24:return null;default:return null}}var m0=!1,ss=!1,Dee=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Jd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Hr(t,e,n)}else r.current=null}function wE(t,e,r){try{r()}catch(n){Hr(t,e,n)}}var GO=!1;function Mee(t,e){if(sE=$v,t=E8(),eT(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(iE={focusedElem:t,selectionRange:r},$v=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,v=x.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?p:Xi(e.type,p),v);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(N){Hr(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return x=GO,GO=!1,x}function $p(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&wE(e,r,a)}s=s.next}while(s!==n)}}function n1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function jE(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function wV(t){var e=t.alternate;e!==null&&(t.alternate=null,wV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ma],delete e[jg],delete e[lE],delete e[yee],delete e[vee])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jV(t){return t.tag===5||t.tag===3||t.tag===4}function KO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function NE(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Vv));else if(n!==4&&(t=t.child,t!==null))for(NE(t,e,r),t=t.sibling;t!==null;)NE(t,e,r),t=t.sibling}function SE(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(SE(t,e,r),t=t.sibling;t!==null;)SE(t,e,r),t=t.sibling}var qn=null,ea=!1;function pl(t,e,r){for(r=r.child;r!==null;)NV(t,e,r),r=r.sibling}function NV(t,e,r){if(Ba&&typeof Ba.onCommitFiberUnmount=="function")try{Ba.onCommitFiberUnmount(Yw,r)}catch{}switch(r.tag){case 5:ss||Jd(r,e);case 6:var n=qn,s=ea;qn=null,pl(t,e,r),qn=n,ea=s,qn!==null&&(ea?(t=qn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):qn.removeChild(r.stateNode));break;case 18:qn!==null&&(ea?(t=qn,r=r.stateNode,t.nodeType===8?KN(t.parentNode,r):t.nodeType===1&&KN(t,r),xg(t)):KN(qn,r.stateNode));break;case 4:n=qn,s=ea,qn=r.stateNode.containerInfo,ea=!0,pl(t,e,r),qn=n,ea=s;break;case 0:case 11:case 14:case 15:if(!ss&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&wE(r,e,o),s=s.next}while(s!==n)}pl(t,e,r);break;case 1:if(!ss&&(Jd(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Hr(r,e,l)}pl(t,e,r);break;case 21:pl(t,e,r);break;case 22:r.mode&1?(ss=(n=ss)||r.memoizedState!==null,pl(t,e,r),ss=n):pl(t,e,r);break;default:pl(t,e,r)}}function YO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Dee),e.forEach(function(n){var s=Wee.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Gi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:qn=l.stateNode,ea=!1;break e;case 3:qn=l.stateNode.containerInfo,ea=!0;break e;case 4:qn=l.stateNode.containerInfo,ea=!0;break e}l=l.return}if(qn===null)throw Error(Ie(160));NV(a,o,s),qn=null,ea=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Hr(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SV(e,t),e=e.sibling}function SV(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gi(e,t),Aa(t),n&4){try{$p(3,t,t.return),n1(3,t)}catch(p){Hr(t,t.return,p)}try{$p(5,t,t.return)}catch(p){Hr(t,t.return,p)}}break;case 1:Gi(e,t),Aa(t),n&512&&r!==null&&Jd(r,r.return);break;case 5:if(Gi(e,t),Aa(t),n&512&&r!==null&&Jd(r,r.return),t.flags&32){var s=t.stateNode;try{fg(s,"")}catch(p){Hr(t,t.return,p)}}if(n&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&HF(s,a),KS(l,o);var u=KS(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?XF(s,h):d==="dangerouslySetInnerHTML"?YF(s,h):d==="children"?fg(s,h):BA(s,d,h,u)}switch(l){case"input":qS(s,a);break;case"textarea":GF(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?dh(s,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?dh(s,!!a.multiple,a.defaultValue,!0):dh(s,!!a.multiple,a.multiple?[]:"",!1))}s[jg]=a}catch(p){Hr(t,t.return,p)}}break;case 6:if(Gi(e,t),Aa(t),n&4){if(t.stateNode===null)throw Error(Ie(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(p){Hr(t,t.return,p)}}break;case 3:if(Gi(e,t),Aa(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xg(e.containerInfo)}catch(p){Hr(t,t.return,p)}break;case 4:Gi(e,t),Aa(t);break;case 13:Gi(e,t),Aa(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(bT=Xr())),n&4&&YO(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ss=(u=ss)||d,Gi(e,t),ss=u):Gi(e,t),Aa(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ye=t,d=t.child;d!==null;){for(h=Ye=d;Ye!==null;){switch(f=Ye,m=f.child,f.tag){case 0:case 11:case 14:case 15:$p(4,f,f.return);break;case 1:Jd(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(p){Hr(n,r,p)}}break;case 5:Jd(f,f.return);break;case 22:if(f.memoizedState!==null){XO(h);continue}}m!==null?(m.return=f,Ye=m):XO(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=QF("display",o))}catch(p){Hr(t,t.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Hr(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gi(e,t),Aa(t),n&4&&YO(t);break;case 21:break;default:Gi(e,t),Aa(t)}}function Aa(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(jV(r)){var n=r;break e}r=r.return}throw Error(Ie(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fg(s,""),n.flags&=-33);var a=KO(t);SE(t,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=KO(t);NE(t,l,o);break;default:throw Error(Ie(161))}}catch(c){Hr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $ee(t,e,r){Ye=t,EV(t)}function EV(t,e,r){for(var n=(t.mode&1)!==0;Ye!==null;){var s=Ye,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||m0;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ss;l=m0;var u=ss;if(m0=o,(ss=c)&&!u)for(Ye=s;Ye!==null;)o=Ye,c=o.child,o.tag===22&&o.memoizedState!==null?JO(s):c!==null?(c.return=o,Ye=c):JO(s);for(;a!==null;)Ye=a,EV(a),a=a.sibling;Ye=s,m0=l,ss=u}QO(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Ye=a):QO(t)}}function QO(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ss||n1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ss)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Xi(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&OO(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}OO(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&xg(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}ss||e.flags&512&&jE(e)}catch(f){Hr(e,e.return,f)}}if(e===t){Ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ye=r;break}Ye=e.return}}function XO(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ye=r;break}Ye=e.return}}function JO(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{n1(4,e)}catch(c){Hr(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Hr(e,s,c)}}var a=e.return;try{jE(e)}catch(c){Hr(e,a,c)}break;case 5:var o=e.return;try{jE(e)}catch(c){Hr(e,o,c)}}}catch(c){Hr(e,e.return,c)}if(e===t){Ye=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ye=l;break}Ye=e.return}}var Lee=Math.ceil,Xv=nl.ReactCurrentDispatcher,yT=nl.ReactCurrentOwner,Ri=nl.ReactCurrentBatchConfig,qt=0,Mn=null,an=null,Hn=0,Js=0,Zd=Ac(0),vn=0,Ag=null,zu=0,s1=0,vT=0,Lp=null,Ds=null,bT=0,Qh=1/0,vo=null,Jv=!1,EE=null,ec=null,p0=!1,ql=null,Zv=0,Fp=0,_E=null,av=-1,ov=0;function js(){return qt&6?Xr():av!==-1?av:av=Xr()}function tc(t){return t.mode&1?qt&2&&Hn!==0?Hn&-Hn:wee.transition!==null?(ov===0&&(ov=c8()),ov):(t=er,t!==0||(t=window.event,t=t===void 0?16:g8(t.type)),t):1}function la(t,e,r,n){if(50<Fp)throw Fp=0,_E=null,Error(Ie(185));Vx(t,r,n),(!(qt&2)||t!==Mn)&&(t===Mn&&(!(qt&2)&&(s1|=r),vn===4&&Al(t,Hn)),Ws(t,n),r===1&&qt===0&&!(e.mode&1)&&(Qh=Xr()+500,e1&&Tc()))}function Ws(t,e){var r=t.callbackNode;wZ(t,e);var n=Mv(t,t===Mn?Hn:0);if(n===0)r!==null&&oO(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&oO(r),e===1)t.tag===0?bee(ZO.bind(null,t)):D8(ZO.bind(null,t)),gee(function(){!(qt&6)&&Tc()}),r=null;else{switch(u8(n)){case 1:r=HA;break;case 4:r=o8;break;case 16:r=Dv;break;case 536870912:r=l8;break;default:r=Dv}r=RV(r,_V.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function _V(t,e){if(av=-1,ov=0,qt&6)throw Error(Ie(327));var r=t.callbackNode;if(gh()&&t.callbackNode!==r)return null;var n=Mv(t,t===Mn?Hn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=eb(t,n);else{e=n;var s=qt;qt|=2;var a=AV();(Mn!==t||Hn!==e)&&(vo=null,Qh=Xr()+500,Au(t,e));do try{Bee();break}catch(l){PV(t,l)}while(!0);iT(),Xv.current=a,qt=s,an!==null?e=0:(Mn=null,Hn=0,e=vn)}if(e!==0){if(e===2&&(s=ZS(t),s!==0&&(n=s,e=PE(t,s))),e===1)throw r=Ag,Au(t,0),Al(t,n),Ws(t,Xr()),r;if(e===6)Al(t,n);else{if(s=t.current.alternate,!(n&30)&&!Fee(s)&&(e=eb(t,n),e===2&&(a=ZS(t),a!==0&&(n=a,e=PE(t,a))),e===1))throw r=Ag,Au(t,0),Al(t,n),Ws(t,Xr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Ie(345));case 2:tu(t,Ds,vo);break;case 3:if(Al(t,n),(n&130023424)===n&&(e=bT+500-Xr(),10<e)){if(Mv(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){js(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=oE(tu.bind(null,t,Ds,vo),e);break}tu(t,Ds,vo);break;case 4:if(Al(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-oa(n);a=1<<o,o=e[o],o>s&&(s=o),n&=~a}if(n=s,n=Xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Lee(n/1960))-n,10<n){t.timeoutHandle=oE(tu.bind(null,t,Ds,vo),n);break}tu(t,Ds,vo);break;case 5:tu(t,Ds,vo);break;default:throw Error(Ie(329))}}}return Ws(t,Xr()),t.callbackNode===r?_V.bind(null,t):null}function PE(t,e){var r=Lp;return t.current.memoizedState.isDehydrated&&(Au(t,e).flags|=256),t=eb(t,e),t!==2&&(e=Ds,Ds=r,e!==null&&AE(e)),t}function AE(t){Ds===null?Ds=t:Ds.push.apply(Ds,t)}function Fee(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ma(a(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Al(t,e){for(e&=~vT,e&=~s1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-oa(e),n=1<<r;t[r]=-1,e&=~n}}function ZO(t){if(qt&6)throw Error(Ie(327));gh();var e=Mv(t,0);if(!(e&1))return Ws(t,Xr()),null;var r=eb(t,e);if(t.tag!==0&&r===2){var n=ZS(t);n!==0&&(e=n,r=PE(t,n))}if(r===1)throw r=Ag,Au(t,0),Al(t,e),Ws(t,Xr()),r;if(r===6)throw Error(Ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tu(t,Ds,vo),Ws(t,Xr()),null}function wT(t,e){var r=qt;qt|=1;try{return t(e)}finally{qt=r,qt===0&&(Qh=Xr()+500,e1&&Tc())}}function Wu(t){ql!==null&&ql.tag===0&&!(qt&6)&&gh();var e=qt;qt|=1;var r=Ri.transition,n=er;try{if(Ri.transition=null,er=1,t)return t()}finally{er=n,Ri.transition=r,qt=e,!(qt&6)&&Tc()}}function jT(){Js=Zd.current,Er(Zd)}function Au(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,pee(r)),an!==null)for(r=an.return;r!==null;){var n=r;switch(rT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bv();break;case 3:Kh(),Er(qs),Er(cs),dT();break;case 5:uT(n);break;case 4:Kh();break;case 13:Er(Dr);break;case 19:Er(Dr);break;case 10:aT(n.type._context);break;case 22:case 23:jT()}r=r.return}if(Mn=t,an=t=rc(t.current,null),Hn=Js=e,vn=0,Ag=null,vT=s1=zu=0,Ds=Lp=null,hu!==null){for(e=0;e<hu.length;e++)if(r=hu[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}hu=null}return t}function PV(t,e){do{var r=an;try{if(iT(),nv.current=Qv,Yv){for(var n=Vr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Yv=!1}if(qu=0,In=xn=Vr=null,Mp=!1,Eg=0,yT.current=null,r===null||r.return===null){vn=1,Ag=e,an=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=Hn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=VO(o);if(m!==null){m.flags&=-257,BO(m,o,l,a,e),m.mode&1&&FO(a,u,e),e=m,c=u;var x=e.updateQueue;if(x===null){var p=new Set;p.add(c),e.updateQueue=p}else x.add(c);break e}else{if(!(e&1)){FO(a,u,e),NT();break e}c=Error(Ie(426))}}else if(Tr&&l.mode&1){var v=VO(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),BO(v,o,l,a,e),nT(Yh(c,l));break e}}a=c=Yh(c,l),vn!==4&&(vn=2),Lp===null?Lp=[a]:Lp.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=uV(a,c,e);RO(a,w);break e;case 1:l=c;var b=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ec===null||!ec.has(j)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=dV(a,l,e);RO(a,N);break e}}a=a.return}while(a!==null)}CV(r)}catch(E){e=E,an===r&&r!==null&&(an=r=r.return);continue}break}while(!0)}function AV(){var t=Xv.current;return Xv.current=Qv,t===null?Qv:t}function NT(){(vn===0||vn===3||vn===2)&&(vn=4),Mn===null||!(zu&268435455)&&!(s1&268435455)||Al(Mn,Hn)}function eb(t,e){var r=qt;qt|=2;var n=AV();(Mn!==t||Hn!==e)&&(vo=null,Au(t,e));do try{Vee();break}catch(s){PV(t,s)}while(!0);if(iT(),qt=r,Xv.current=n,an!==null)throw Error(Ie(261));return Mn=null,Hn=0,vn}function Vee(){for(;an!==null;)TV(an)}function Bee(){for(;an!==null&&!hZ();)TV(an)}function TV(t){var e=IV(t.alternate,t,Js);t.memoizedProps=t.pendingProps,e===null?CV(t):an=e,yT.current=null}function CV(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Oee(r,e),r!==null){r.flags&=32767,an=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,an=null;return}}else if(r=Ree(r,e,Js),r!==null){an=r;return}if(e=e.sibling,e!==null){an=e;return}an=e=t}while(e!==null);vn===0&&(vn=5)}function tu(t,e,r){var n=er,s=Ri.transition;try{Ri.transition=null,er=1,Uee(t,e,r,n)}finally{Ri.transition=s,er=n}return null}function Uee(t,e,r,n){do gh();while(ql!==null);if(qt&6)throw Error(Ie(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ie(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(jZ(t,a),t===Mn&&(an=Mn=null,Hn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||p0||(p0=!0,RV(Dv,function(){return gh(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ri.transition,Ri.transition=null;var o=er;er=1;var l=qt;qt|=4,yT.current=null,Mee(t,r),SV(r,t),lee(iE),$v=!!sE,iE=sE=null,t.current=r,$ee(r),fZ(),qt=l,er=o,Ri.transition=a}else t.current=r;if(p0&&(p0=!1,ql=t,Zv=s),a=t.pendingLanes,a===0&&(ec=null),gZ(r.stateNode),Ws(t,Xr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Jv)throw Jv=!1,t=EE,EE=null,t;return Zv&1&&t.tag!==0&&gh(),a=t.pendingLanes,a&1?t===_E?Fp++:(Fp=0,_E=t):Fp=0,Tc(),null}function gh(){if(ql!==null){var t=u8(Zv),e=Ri.transition,r=er;try{if(Ri.transition=null,er=16>t?16:t,ql===null)var n=!1;else{if(t=ql,ql=null,Zv=0,qt&6)throw Error(Ie(331));var s=qt;for(qt|=4,Ye=t.current;Ye!==null;){var a=Ye,o=a.child;if(Ye.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ye=u;Ye!==null;){var d=Ye;switch(d.tag){case 0:case 11:case 15:$p(8,d,a)}var h=d.child;if(h!==null)h.return=d,Ye=h;else for(;Ye!==null;){d=Ye;var f=d.sibling,m=d.return;if(wV(d),d===u){Ye=null;break}if(f!==null){f.return=m,Ye=f;break}Ye=m}}}var x=a.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Ye=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ye=o;else e:for(;Ye!==null;){if(a=Ye,a.flags&2048)switch(a.tag){case 0:case 11:case 15:$p(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Ye=w;break e}Ye=a.return}}var b=t.current;for(Ye=b;Ye!==null;){o=Ye;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Ye=j;else e:for(o=b;Ye!==null;){if(l=Ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:n1(9,l)}}catch(E){Hr(l,l.return,E)}if(l===o){Ye=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ye=N;break e}Ye=l.return}}if(qt=s,Tc(),Ba&&typeof Ba.onPostCommitFiberRoot=="function")try{Ba.onPostCommitFiberRoot(Yw,t)}catch{}n=!0}return n}finally{er=r,Ri.transition=e}}return!1}function eD(t,e,r){e=Yh(r,e),e=uV(t,e,1),t=Zl(t,e,1),e=js(),t!==null&&(Vx(t,1,e),Ws(t,e))}function Hr(t,e,r){if(t.tag===3)eD(t,t,r);else for(;e!==null;){if(e.tag===3){eD(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ec===null||!ec.has(n))){t=Yh(r,t),t=dV(e,t,1),e=Zl(e,t,1),t=js(),e!==null&&(Vx(e,1,t),Ws(e,t));break}}e=e.return}}function qee(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=js(),t.pingedLanes|=t.suspendedLanes&r,Mn===t&&(Hn&r)===r&&(vn===4||vn===3&&(Hn&130023424)===Hn&&500>Xr()-bT?Au(t,0):vT|=r),Ws(t,e)}function kV(t,e){e===0&&(t.mode&1?(e=i0,i0<<=1,!(i0&130023424)&&(i0=4194304)):e=1);var r=js();t=Vo(t,e),t!==null&&(Vx(t,e,r),Ws(t,r))}function zee(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),kV(t,r)}function Wee(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ie(314))}n!==null&&n.delete(e),kV(t,r)}var IV;IV=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||qs.current)Fs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Fs=!1,Iee(t,e,r);Fs=!!(t.flags&131072)}else Fs=!1,Tr&&e.flags&1048576&&M8(e,zv,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;iv(t,e),t=e.pendingProps;var s=Wh(e,cs.current);ph(e,r),s=fT(null,e,n,t,s,r);var a=mT();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zs(n)?(a=!0,Uv(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lT(e),s.updater=r1,e.stateNode=s,s._reactInternals=e,mE(e,n,t,r),e=xE(null,e,n,!0,a,r)):(e.tag=0,Tr&&a&&tT(e),gs(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(iv(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Gee(n),t=Xi(n,t),s){case 0:e=gE(null,e,n,t,r);break e;case 1:e=zO(null,e,n,t,r);break e;case 11:e=UO(null,e,n,t,r);break e;case 14:e=qO(null,e,n,Xi(n.type,t),r);break e}throw Error(Ie(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xi(n,s),gE(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xi(n,s),zO(t,e,n,s,r);case 3:e:{if(pV(e),t===null)throw Error(Ie(387));n=e.pendingProps,a=e.memoizedState,s=a.element,U8(t,e),Gv(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=Yh(Error(Ie(423)),e),e=WO(t,e,n,r,s);break e}else if(n!==s){s=Yh(Error(Ie(424)),e),e=WO(t,e,n,r,s);break e}else for(ii=Jl(e.stateNode.containerInfo.firstChild),oi=e,Tr=!0,ra=null,r=V8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hh(),n===s){e=Bo(t,e,r);break e}gs(t,e,n,r)}e=e.child}return e;case 5:return q8(e),t===null&&dE(e),n=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,aE(n,s)?o=null:a!==null&&aE(n,a)&&(e.flags|=32),mV(t,e),gs(t,e,o,r),e.child;case 6:return t===null&&dE(e),null;case 13:return gV(t,e,r);case 4:return cT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gh(e,null,n,r):gs(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xi(n,s),UO(t,e,n,s,r);case 7:return gs(t,e,e.pendingProps,r),e.child;case 8:return gs(t,e,e.pendingProps.children,r),e.child;case 12:return gs(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,xr(Wv,n._currentValue),n._currentValue=o,a!==null)if(ma(a.value,o)){if(a.children===s.children&&!qs.current){e=Bo(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Io(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),hE(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ie(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),hE(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}gs(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ph(e,r),s=Fi(s),n=n(s),e.flags|=1,gs(t,e,n,r),e.child;case 14:return n=e.type,s=Xi(n,e.pendingProps),s=Xi(n.type,s),qO(t,e,n,s,r);case 15:return hV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xi(n,s),iv(t,e),e.tag=1,zs(n)?(t=!0,Uv(e)):t=!1,ph(e,r),cV(e,n,s),mE(e,n,s,r),xE(null,e,n,!0,t,r);case 19:return xV(t,e,r);case 22:return fV(t,e,r)}throw Error(Ie(156,e.tag))};function RV(t,e){return a8(t,e)}function Hee(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(t,e,r,n){return new Hee(t,e,r,n)}function ST(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gee(t){if(typeof t=="function")return ST(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qA)return 11;if(t===zA)return 14}return 2}function rc(t,e){var r=t.alternate;return r===null?(r=Ci(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function lv(t,e,r,n,s,a){var o=2;if(n=t,typeof t=="function")ST(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qd:return Tu(r.children,s,a,e);case UA:o=8,s|=8;break;case LS:return t=Ci(12,r,e,s|2),t.elementType=LS,t.lanes=a,t;case FS:return t=Ci(13,r,e,s),t.elementType=FS,t.lanes=a,t;case VS:return t=Ci(19,r,e,s),t.elementType=VS,t.lanes=a,t;case qF:return i1(r,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BF:o=10;break e;case UF:o=9;break e;case qA:o=11;break e;case zA:o=14;break e;case Sl:o=16,n=null;break e}throw Error(Ie(130,t==null?t:typeof t,""))}return e=Ci(o,r,e,s),e.elementType=t,e.type=n,e.lanes=a,e}function Tu(t,e,r,n){return t=Ci(7,t,n,e),t.lanes=r,t}function i1(t,e,r,n){return t=Ci(22,t,n,e),t.elementType=qF,t.lanes=r,t.stateNode={isHidden:!1},t}function r2(t,e,r){return t=Ci(6,t,null,e),t.lanes=r,t}function n2(t,e,r){return e=Ci(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kee(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$N(0),this.expirationTimes=$N(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$N(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ET(t,e,r,n,s,a,o,l,c){return t=new Kee(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ci(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lT(a),t}function Yee(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ud,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function OV(t){if(!t)return mc;t=t._reactInternals;e:{if(cd(t)!==t||t.tag!==1)throw Error(Ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ie(171))}if(t.tag===1){var r=t.type;if(zs(r))return O8(t,r,e)}return e}function DV(t,e,r,n,s,a,o,l,c){return t=ET(r,n,!0,t,s,a,o,l,c),t.context=OV(null),r=t.current,n=js(),s=tc(r),a=Io(n,s),a.callback=e??null,Zl(r,a,s),t.current.lanes=s,Vx(t,s,n),Ws(t,n),t}function a1(t,e,r,n){var s=e.current,a=js(),o=tc(s);return r=OV(r),e.context===null?e.context=r:e.pendingContext=r,e=Io(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Zl(s,e,o),t!==null&&(la(t,s,o,a),rv(t,s,o)),o}function tb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function _T(t,e){tD(t,e),(t=t.alternate)&&tD(t,e)}function Qee(){return null}var MV=typeof reportError=="function"?reportError:function(t){console.error(t)};function PT(t){this._internalRoot=t}o1.prototype.render=PT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ie(409));a1(t,e,null,null)};o1.prototype.unmount=PT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wu(function(){a1(null,t,null,null)}),e[Fo]=null}};function o1(t){this._internalRoot=t}o1.prototype.unstable_scheduleHydration=function(t){if(t){var e=f8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pl.length&&e!==0&&e<Pl[r].priority;r++);Pl.splice(r,0,t),r===0&&p8(t)}};function AT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rD(){}function Xee(t,e,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=tb(o);a.call(u)}}var o=DV(e,n,t,0,null,!1,!1,"",rD);return t._reactRootContainer=o,t[Fo]=o.current,bg(t.nodeType===8?t.parentNode:t),Wu(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=tb(c);l.call(u)}}var c=ET(t,0,!1,null,null,!1,!1,"",rD);return t._reactRootContainer=c,t[Fo]=c.current,bg(t.nodeType===8?t.parentNode:t),Wu(function(){a1(e,c,r,n)}),c}function c1(t,e,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=tb(o);l.call(c)}}a1(e,o,t,s)}else o=Xee(r,e,t,s,n);return tb(o)}d8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=vp(e.pendingLanes);r!==0&&(GA(e,r|1),Ws(e,Xr()),!(qt&6)&&(Qh=Xr()+500,Tc()))}break;case 13:Wu(function(){var n=Vo(t,1);if(n!==null){var s=js();la(n,t,1,s)}}),_T(t,1)}};KA=function(t){if(t.tag===13){var e=Vo(t,134217728);if(e!==null){var r=js();la(e,t,134217728,r)}_T(t,134217728)}};h8=function(t){if(t.tag===13){var e=tc(t),r=Vo(t,e);if(r!==null){var n=js();la(r,t,e,n)}_T(t,e)}};f8=function(){return er};m8=function(t,e){var r=er;try{return er=t,e()}finally{er=r}};QS=function(t,e,r){switch(e){case"input":if(qS(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Zw(n);if(!s)throw Error(Ie(90));WF(n),qS(n,s)}}}break;case"textarea":GF(t,r);break;case"select":e=r.value,e!=null&&dh(t,!!r.multiple,e,!1)}};e8=wT;t8=Wu;var Jee={usingClientEntryPoint:!1,Events:[Ux,Gd,Zw,JF,ZF,wT]},ep={findFiberByHostInstance:du,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zee={bundleType:ep.bundleType,version:ep.version,rendererPackageName:ep.rendererPackageName,rendererConfig:ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=s8(t),t===null?null:t.stateNode},findFiberByHostInstance:ep.findFiberByHostInstance||Qee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g0.isDisabled&&g0.supportsFiber)try{Yw=g0.inject(Zee),Ba=g0}catch{}}mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jee;mi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AT(e))throw Error(Ie(200));return Yee(t,e,null,r)};mi.createRoot=function(t,e){if(!AT(t))throw Error(Ie(299));var r=!1,n="",s=MV;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ET(t,1,!1,null,null,r,!1,n,s),t[Fo]=e.current,bg(t.nodeType===8?t.parentNode:t),new PT(e)};mi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ie(188)):(t=Object.keys(t).join(","),Error(Ie(268,t)));return t=s8(e),t=t===null?null:t.stateNode,t};mi.flushSync=function(t){return Wu(t)};mi.hydrate=function(t,e,r){if(!l1(e))throw Error(Ie(200));return c1(null,t,e,!0,r)};mi.hydrateRoot=function(t,e,r){if(!AT(t))throw Error(Ie(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=MV;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=DV(e,null,t,1,r??null,s,!1,a,o),t[Fo]=e.current,bg(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new o1(e)};mi.render=function(t,e,r){if(!l1(e))throw Error(Ie(200));return c1(null,t,e,!1,r)};mi.unmountComponentAtNode=function(t){if(!l1(t))throw Error(Ie(40));return t._reactRootContainer?(Wu(function(){c1(null,null,t,!1,function(){t._reactRootContainer=null,t[Fo]=null})}),!0):!1};mi.unstable_batchedUpdates=wT;mi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!l1(r))throw Error(Ie(200));if(t==null||t._reactInternals===void 0)throw Error(Ie(38));return c1(t,e,r,!1,n)};mi.version="18.3.1-next-f1338f8080-20240426";function $V(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($V)}catch(t){console.error(t)}}$V(),$F.exports=mi;var Cc=$F.exports;const LV=Xt(Cc);var FV,nD=Cc;FV=nD.createRoot,nD.hydrateRoot;const ete=()=>{};var sD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},tte=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[r++];e[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[r++],o=t[r++],l=t[r++],c=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},BV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const a=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=a>>2,h=(a&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;c||(m=64,o||(f=64)),n.push(r[d],r[h],r[f],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const a=r[t.charAt(s++)],l=s<t.length?r[t.charAt(s)]:0;++s;const u=s<t.length?r[t.charAt(s)]:64;++s;const h=s<t.length?r[t.charAt(s)]:64;if(++s,a==null||l==null||u==null||h==null)throw new rte;const f=a<<2|l>>4;if(n.push(f),u!==64){const m=l<<4&240|u>>2;if(n.push(m),h!==64){const x=u<<6&192|h;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nte=function(t){const e=VV(t);return BV.encodeByteArray(e,!0)},UV=function(t){return nte(t).replace(/\./g,"")},qV=function(t){try{return BV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ste(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ite=()=>ste().__FIREBASE_DEFAULTS__,ate=()=>{if(typeof process>"u"||typeof sD>"u")return;const t=sD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ote=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qV(t[1]);return e&&JSON.parse(e)},u1=()=>{try{return ete()||ite()||ate()||ote()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lte=t=>{var e,r;return(r=(e=u1())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},zV=()=>{var t;return(t=u1())==null?void 0:t.config},WV=t=>{var e;return(e=u1())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HV(t){return(await fetch(t,{credentials:"include"})).ok}const Vp={};function ute(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vp))Vp[e]?t.emulator.push(e):t.prod.push(e);return t}function dte(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let iD=!1;function hte(t,e){if(typeof window>"u"||typeof document>"u"||!Xf(window.location.host)||Vp[t]===e||Vp[t]||iD)return;Vp[t]=e;function r(f){return`__firebase__banner__${f}`}const n="__firebase__banner",a=ute().prod.length>0;function o(){const f=document.getElementById(n);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{iD=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=dte(n),m=r("text"),x=document.getElementById(m)||document.createElement("span"),p=r("learnmore"),v=document.getElementById(p)||document.createElement("a"),w=r("preprendIcon"),b=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const j=f.element;l(j),d(v,p);const N=u();c(b,w),j.append(b,x,v,N),document.body.appendChild(j)}a?(x.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(us())}function mte(){var e;const t=(e=u1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gte(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yte(){const t=us();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vte(){return!mte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bte(){try{return typeof indexedDB=="object"}catch{return!1}}function wte(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jte="FirebaseError";class sl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=jte,Object.setPrototypeOf(this,sl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zx.prototype.create)}}class zx{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?Nte(a,n):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new sl(s,l,n)}}function Nte(t,e){return t.replace(Ste,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const Ste=/\{\$([^}]+)}/g;function Ete(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Uo(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const a=t[s],o=e[s];if(aD(a)&&aD(o)){if(!Uo(a,o))return!1}else if(a!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function aD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function wp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,a]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function jp(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function _te(t,e){const r=new Pte(t,e);return r.subscribe.bind(r)}class Pte{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Ate(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=s2),s.error===void 0&&(s.error=s2),s.complete===void 0&&(s.complete=s2);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ate(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function s2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class Hu{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tte=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new cte;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kte(e))try{this.getOrInitializeService({instanceIdentifier:ru})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(e=ru){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ru){return this.instances.has(e)}getOptions(e=ru){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(s)}return s}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const a=this.instances.get(n);return a&&e(a,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Cte(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ru){return this.component?this.component.multipleInstances?e:ru:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Cte(t){return t===ru?void 0:t}function kte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Tte(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mt||(Mt={}));const Rte={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},Ote=Mt.INFO,Dte={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},Mte=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=Dte[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class TT{constructor(e){this.name=e,this._logLevel=Ote,this._logHandler=Mte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const $te=(t,e)=>e.some(r=>t instanceof r);let oD,lD;function Lte(){return oD||(oD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fte(){return lD||(lD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GV=new WeakMap,TE=new WeakMap,KV=new WeakMap,i2=new WeakMap,CT=new WeakMap;function Vte(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(nc(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&GV.set(r,t)}).catch(()=>{}),CT.set(e,t),e}function Bte(t){if(TE.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});TE.set(t,e)}let CE={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return TE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KV.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return nc(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ute(t){CE=t(CE)}function qte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(a2(this),e,...r);return KV.set(n,e.sort?e.sort():[e]),nc(n)}:Fte().includes(t)?function(...e){return t.apply(a2(this),e),nc(GV.get(this))}:function(...e){return nc(t.apply(a2(this),e))}}function zte(t){return typeof t=="function"?qte(t):(t instanceof IDBTransaction&&Bte(t),$te(t,Lte())?new Proxy(t,CE):t)}function nc(t){if(t instanceof IDBRequest)return Vte(t);if(i2.has(t))return i2.get(t);const e=zte(t);return e!==t&&(i2.set(t,e),CT.set(e,t)),e}const a2=t=>CT.get(t);function Wte(t,e,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(t,e),l=nc(o);return n&&o.addEventListener("upgradeneeded",c=>{n(nc(o.result),c.oldVersion,c.newVersion,nc(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Hte=["get","getKey","getAll","getAllKeys","count"],Gte=["put","add","delete","clear"],o2=new Map;function cD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(o2.get(e))return o2.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=Gte.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Hte.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),s&&c.done]))[0]};return o2.set(e,a),a}Ute(t=>({...t,get:(e,r,n)=>cD(e,r)||t.get(e,r,n),has:(e,r)=>!!cD(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Yte(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Yte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kE="@firebase/app",uD="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new TT("@firebase/app"),Qte="@firebase/app-compat",Xte="@firebase/analytics-compat",Jte="@firebase/analytics",Zte="@firebase/app-check-compat",ere="@firebase/app-check",tre="@firebase/auth",rre="@firebase/auth-compat",nre="@firebase/database",sre="@firebase/data-connect",ire="@firebase/database-compat",are="@firebase/functions",ore="@firebase/functions-compat",lre="@firebase/installations",cre="@firebase/installations-compat",ure="@firebase/messaging",dre="@firebase/messaging-compat",hre="@firebase/performance",fre="@firebase/performance-compat",mre="@firebase/remote-config",pre="@firebase/remote-config-compat",gre="@firebase/storage",xre="@firebase/storage-compat",yre="@firebase/firestore",vre="@firebase/ai",bre="@firebase/firestore-compat",wre="firebase",jre="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="[DEFAULT]",Nre={[kE]:"fire-core",[Qte]:"fire-core-compat",[Jte]:"fire-analytics",[Xte]:"fire-analytics-compat",[ere]:"fire-app-check",[Zte]:"fire-app-check-compat",[tre]:"fire-auth",[rre]:"fire-auth-compat",[nre]:"fire-rtdb",[sre]:"fire-data-connect",[ire]:"fire-rtdb-compat",[are]:"fire-fn",[ore]:"fire-fn-compat",[lre]:"fire-iid",[cre]:"fire-iid-compat",[ure]:"fire-fcm",[dre]:"fire-fcm-compat",[hre]:"fire-perf",[fre]:"fire-perf-compat",[mre]:"fire-rc",[pre]:"fire-rc-compat",[gre]:"fire-gcs",[xre]:"fire-gcs-compat",[yre]:"fire-fst",[bre]:"fire-fst-compat",[vre]:"fire-vertex","fire-js":"fire-js",[wre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Map,Sre=new Map,RE=new Map;function dD(t,e){try{t.container.addComponent(e)}catch(r){qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Xh(t){const e=t.name;if(RE.has(e))return qo.debug(`There were multiple attempts to register component ${e}.`),!1;RE.set(e,t);for(const r of rb.values())dD(r,t);for(const r of Sre.values())dD(r,t);return!0}function kT(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function $s(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ere={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sc=new zx("app","Firebase",Ere);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Hu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=jre;function YV(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:IE,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw sc.create("bad-app-name",{appName:String(s)});if(r||(r=zV()),!r)throw sc.create("no-options");const a=rb.get(s);if(a){if(Uo(r,a.options)&&Uo(n,a.config))return a;throw sc.create("duplicate-app",{appName:s})}const o=new Ite(s);for(const c of RE.values())o.addComponent(c);const l=new _re(r,n,o);return rb.set(s,l),l}function Pre(t=IE){const e=rb.get(t);if(!e&&t===IE&&zV())return YV();if(!e)throw sc.create("no-app",{appName:t});return e}function ic(t,e,r){let n=Nre[t]??t;r&&(n+=`-${r}`);const s=n.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${n}" with version "${e}":`];s&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qo.warn(o.join(" "));return}Xh(new Hu(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Are="firebase-heartbeat-database",Tre=1,Tg="firebase-heartbeat-store";let l2=null;function QV(){return l2||(l2=Wte(Are,Tre,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tg)}catch(r){console.warn(r)}}}}).catch(t=>{throw sc.create("idb-open",{originalErrorMessage:t.message})})),l2}async function Cre(t){try{const r=(await QV()).transaction(Tg),n=await r.objectStore(Tg).get(XV(t));return await r.done,n}catch(e){if(e instanceof sl)qo.warn(e.message);else{const r=sc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qo.warn(r.message)}}}async function hD(t,e){try{const n=(await QV()).transaction(Tg,"readwrite");await n.objectStore(Tg).put(e,XV(t)),await n.done}catch(r){if(r instanceof sl)qo.warn(r.message);else{const n=sc.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});qo.warn(n.message)}}}function XV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kre=1024,Ire=30;class Rre{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Dre(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=fD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>Ire){const o=Mre(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){qo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=fD(),{heartbeatsToSend:n,unsentEntries:s}=Ore(this._heartbeatsCache.heartbeats),a=UV(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return qo.warn(r),""}}}function fD(){return new Date().toISOString().substring(0,10)}function Ore(t,e=kre){const r=[];let n=t.slice();for(const s of t){const a=r.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),mD(r)>e){a.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),mD(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Dre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bte()?wte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Cre(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return hD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return hD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function mD(t){return UV(JSON.stringify({version:2,heartbeats:t})).length}function Mre(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $re(t){Xh(new Hu("platform-logger",e=>new Kte(e),"PRIVATE")),Xh(new Hu("heartbeat",e=>new Rre(e),"PRIVATE")),ic(kE,uD,t),ic(kE,uD,"esm2020"),ic("fire-js","")}$re("");var Lre="firebase",Fre="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ic(Lre,Fre,"app");function JV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vre=JV,ZV=new zx("auth","Firebase",JV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new TT("@firebase/auth");function Bre(t,...e){nb.logLevel<=Mt.WARN&&nb.warn(`Auth (${Zf}): ${t}`,...e)}function cv(t,...e){nb.logLevel<=Mt.ERROR&&nb.error(`Auth (${Zf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,...e){throw IT(t,...e)}function li(t,...e){return IT(t,...e)}function e9(t,e,r){const n={...Vre(),[e]:r};return new zx("auth","Firebase",n).create(e,{appName:t.name})}function ca(t){return e9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IT(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return ZV.create(t,...e)}function qe(t,e,...r){if(!t)throw IT(e,...r)}function Po(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cv(e),new Error(e)}function zo(t,e){t||Po(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function t9(){return pD()==="http:"||pD()==="https:"}function pD(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ure(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t9()||gte()||"connection"in navigator)?navigator.onLine:!0}function qre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,r){this.shortDelay=e,this.longDelay=r,zo(r>e,"Short delay should be less than long delay!"),this.isMobile=fte()||xte()}get(){return Ure()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t,e){zo(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Po("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Po("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Po("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wre=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hre=new Wx(3e4,6e4);function Yn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ds(t,e,r,n,s={}){return n9(t,s,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=Jf({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...a};return pte()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Xf(t.emulatorConfig.host)&&(u.credentials="include"),r9.fetch()(await s9(t,t.config.apiHost,r,l),u)})}async function n9(t,e,r){t._canInitEmulator=!1;const n={...zre,...e};try{const s=new Kre(t),a=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Np(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Np(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Np(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Np(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw e9(t,d,u);Bi(t,d)}}catch(s){if(s instanceof sl)throw s;Bi(t,"network-request-failed",{message:String(s)})}}async function kc(t,e,r,n,s={}){const a=await ds(t,e,r,n,s);return"mfaPendingCredential"in a&&Bi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function s9(t,e,r,n){const s=`${e}${r}?${n}`,a=t,o=a.config.emulator?RT(t.config,s):`${t.config.apiScheme}://${s}`;return Wre.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Gre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kre{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(li(this.auth,"network-request-failed")),Hre.get())})}}function Np(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=li(t,e,n);return s.customData._tokenResponse=r,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){return t!==void 0&&t.getResponse!==void 0}function xD(t){return t!==void 0&&t.enterprise!==void 0}class i9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Gre(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yre(t){return(await ds(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function a9(t,e){return ds(t,"GET","/v2/recaptchaConfig",Yn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qre(t,e){return ds(t,"POST","/v1/accounts:delete",e)}async function ib(t,e){return ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xre(t,e=!1){const r=Ht(t),n=await r.getIdToken(e),s=OT(n);qe(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:Bp(c2(s.auth_time)),issuedAtTime:Bp(c2(s.iat)),expirationTime:Bp(c2(s.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function c2(t){return Number(t)*1e3}function OT(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return cv("JWT malformed, contained fewer than 3 sections"),null;try{const s=qV(r);return s?JSON.parse(s):(cv("Failed to decode base64 JWT payload"),null)}catch(s){return cv("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function yD(t){const e=OT(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof sl&&Jre(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Jre({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bp(this.lastLoginAt),this.creationTime=Bp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cg(t){var h;const e=t.auth,r=await t.getIdToken(),n=await Jh(t,ib(e,{idToken:r}));qe(n==null?void 0:n.users.length,e,"internal-error");const s=n.users[0];t._notifyReloadListener(s);const a=(h=s.providerUserInfo)!=null&&h.length?o9(s.providerUserInfo):[],o=tne(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new OE(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function ene(t){const e=Ht(t);await Cg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tne(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function o9(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rne(t,e){const r=await n9(t,{},async()=>{const n=Jf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,o=await s9(t,s,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&Xf(t.emulatorConfig.host)&&(c.credentials="include"),r9.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function nne(t,e){return ds(t,"POST","/v2/accounts:revokeToken",Yn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const r=yD(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:a}=await rne(e,r);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:a}=r,o=new xh;return n&&(qe(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(qe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),a&&(qe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xh,this.toJSON())}_performRefresh(){return Po("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class aa{constructor({uid:e,auth:r,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new Zre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new OE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Jh(this,this.stsTokenManager.getToken(this.auth,e));return qe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Xre(this,e)}reload(){return ene(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new aa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Cg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($s(this.auth.app))return Promise.reject(ca(this.auth));const e=await this.getIdToken();return await Jh(this,Qre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,s=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:x,stsTokenManager:p}=r;qe(h&&p,e,"internal-error");const v=xh.fromJSON(this.name,p);qe(typeof h=="string",e,"internal-error"),gl(n,e.name),gl(s,e.name),qe(typeof f=="boolean",e,"internal-error"),qe(typeof m=="boolean",e,"internal-error"),gl(a,e.name),gl(o,e.name),gl(l,e.name),gl(c,e.name),gl(u,e.name),gl(d,e.name);const w=new aa({uid:h,auth:e,email:s,emailVerified:f,displayName:n,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:v,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(w.providerData=x.map(b=>({...b}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,r,n=!1){const s=new xh;s.updateFromServerResponse(r);const a=new aa({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Cg(a),a}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];qe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?o9(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new xh;l.updateFromIdToken(n);const c=new aa({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new OE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new Map;function Ao(t){zo(t instanceof Function,"Expected a class definition");let e=vD.get(t);return e?(zo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}l9.type="NONE";const bD=l9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t,e,r){return`firebase:${t}:${e}:${r}`}class yh{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=uv(this.userKey,s.apiKey,a),this.fullPersistenceKey=uv("persistence",s.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await ib(this.auth,{idToken:e}).catch(()=>{});return r?aa._fromGetAccountInfoResponse(this.auth,r,e):null}return aa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new yh(Ao(bD),e,n);const s=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=s[0]||Ao(bD);const o=uv(n,e.config.apiKey,e.name);let l=null;for(const u of r)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await ib(e,{idToken:d}).catch(()=>{});if(!f)break;h=await aa._fromGetAccountInfoResponse(e,f,d)}else h=aa._fromJSON(e,d);u!==a&&(l=h),a=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new yh(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new yh(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m9(e))return"Blackberry";if(p9(e))return"Webos";if(u9(e))return"Safari";if((e.includes("chrome/")||d9(e))&&!e.includes("edge/"))return"Chrome";if(f9(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function c9(t=us()){return/firefox\//i.test(t)}function u9(t=us()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d9(t=us()){return/crios\//i.test(t)}function h9(t=us()){return/iemobile/i.test(t)}function f9(t=us()){return/android/i.test(t)}function m9(t=us()){return/blackberry/i.test(t)}function p9(t=us()){return/webos/i.test(t)}function DT(t=us()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sne(t=us()){var e;return DT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ine(){return yte()&&document.documentMode===10}function g9(t=us()){return DT(t)||f9(t)||p9(t)||m9(t)||/windows phone/i.test(t)||h9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t,e=[]){let r;switch(t){case"Browser":r=wD(us());break;case"Worker":r=`${wD(us())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Zf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function one(t,e={}){return ds(t,"GET","/v2/passwordPolicy",Yn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lne=6;class cne{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??lne,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jD(this),this.idTokenSubscription=new jD(this),this.beforeStateQueue=new ane(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ao(r)),this._initializationPromise=this.queue(async()=>{var n,s,a;if(!this._deleted&&(this.persistenceManager=await yh.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await ib(this,{idToken:e}),n=await aa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if($s(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Cg(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($s(this.app))return Promise.reject(ca(this));const r=e?Ht(e):null;return r&&qe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $s(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $s(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await one(this),r=new cne(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zx("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await nne(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ao(e)||this._popupRedirectResolver;qe(r,this,"argument-error"),this.redirectPersistenceManager=await yh.create(this,[Ao(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,s);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if($s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&Bre(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gi(t){return Ht(t)}class jD{constructor(e){this.auth=e,this.observer=null,this.addObserver=_te(r=>this.observer=r)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dne(t){Hx=t}function MT(t){return Hx.loadJS(t)}function hne(){return Hx.recaptchaV2Script}function fne(){return Hx.recaptchaEnterpriseScript}function mne(){return Hx.gapiScript}function y9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pne=500,gne=6e4,x0=1e12;class xne{constructor(e){this.auth=e,this.counter=x0,this._widgets=new Map}render(e,r){const n=this.counter;return this._widgets.set(n,new bne(e,this.auth.name,r||{})),this.counter++,n}reset(e){var n;const r=e||x0;(n=this._widgets.get(r))==null||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||x0;return((n=this._widgets.get(r))==null?void 0:n.getResponse())||""}async execute(e){var n;const r=e||x0;return(n=this._widgets.get(r))==null||n.execute(),""}}class yne{constructor(){this.enterprise=new vne}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class vne{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class bne{constructor(e,r,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;qe(s,"argument-error",{appName:r}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=wne(50);const{callback:e,"expired-callback":r}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,r)try{r()}catch{}this.isVisible&&this.execute()},gne)},pne))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function wne(t){const e=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<t;n++)e.push(r.charAt(Math.floor(Math.random()*r.length)));return e.join("")}const jne="recaptcha-enterprise",Up="NO_RECAPTCHA";class v9{constructor(e){this.type=jne,this.auth=gi(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{a9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new i9(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(a,o,l){const c=window.grecaptcha;xD(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(Up)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yne().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&xD(window.grecaptcha))s(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=fne();c.length!==0&&(c+=l),MT(c).then(()=>{s(l,a,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function tp(t,e,r,n=!1,s=!1){const a=new v9(t);let o;if(s)o=Up;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Cu(t,e,r,n,s){var a,o;if(s==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await tp(t,e,r,r==="getOobCode");return n(t,l)}else return n(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await tp(t,e,r,r==="getOobCode");return n(t,c)}else return Promise.reject(l)});else if(s==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const l=await tp(t,e,r);return n(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const d=await tp(t,e,r,!1,!0);return n(t,d)}return Promise.reject(c)})}else{const l=await tp(t,e,r,!1,!0);return n(t,l)}else return Promise.reject(s+" provider is not supported.")}async function Nne(t){const e=gi(t),r=await a9(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new i9(r);e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,n.isAnyProviderEnabled()&&new v9(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sne(t,e){const r=kT(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),a=r.getOptions();if(Uo(a,e??{}))return s;Bi(s,"already-initialized")}return r.initialize({options:e})}function Ene(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ao);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function _ne(t,e,r){const n=gi(t);qe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!!(r!=null&&r.disableWarnings),a=b9(e),{host:o,port:l}=Pne(e),c=l===null?"":`:${l}`,u={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){qe(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),qe(Uo(u,n.config.emulator)&&Uo(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Xf(o)?(HV(`${a}//${o}${c}`),hte("Auth",!0)):Ane()}function b9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Pne(t){const e=b9(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:ND(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:ND(o)}}}function ND(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ane(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Po("not implemented")}_getIdTokenResponse(e){return Po("not implemented")}_linkToIdToken(e,r){return Po("not implemented")}_getReauthenticationResolver(e){return Po("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e){return ds(t,"POST","/v1/accounts:resetPassword",Yn(t,e))}async function Tne(t,e){return ds(t,"POST","/v1/accounts:signUp",e)}async function Cne(t,e){return ds(t,"POST","/v1/accounts:update",Yn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kne(t,e){return kc(t,"POST","/v1/accounts:signInWithPassword",Yn(t,e))}async function j9(t,e){return ds(t,"POST","/v1/accounts:sendOobCode",Yn(t,e))}async function Ine(t,e){return j9(t,e)}async function Rne(t,e){return j9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function One(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",Yn(t,e))}async function Dne(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",Yn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends d1{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new kg(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new kg(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cu(e,r,"signInWithPassword",kne,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return One(e,{email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cu(e,n,"signUpPassword",Tne,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Dne(e,{idToken:r,email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t,e){return kc(t,"POST","/v1/accounts:signInWithIdp",Yn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne="http://localhost";class Gu extends d1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Bi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...a}=r;if(!n||!s)return null;const o=new Gu(n,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return vh(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,vh(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,vh(e,r)}buildRequest(){const e={requestUri:Mne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Jf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e){return ds(t,"POST","/v1/accounts:sendVerificationCode",Yn(t,e))}async function $ne(t,e){return kc(t,"POST","/v1/accounts:signInWithPhoneNumber",Yn(t,e))}async function Lne(t,e){const r=await kc(t,"POST","/v1/accounts:signInWithPhoneNumber",Yn(t,e));if(r.temporaryProof)throw Np(t,"account-exists-with-different-credential",r);return r}const Fne={USER_NOT_FOUND:"user-not-found"};async function Vne(t,e){const r={...e,operation:"REAUTH"};return kc(t,"POST","/v1/accounts:signInWithPhoneNumber",Yn(t,r),Fne)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends d1{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,r){return new ku({verificationId:e,verificationCode:r})}static _fromTokenResponse(e,r){return new ku({phoneNumber:e,temporaryProof:r})}_getIdTokenResponse(e){return $ne(e,this._makeVerificationRequest())}_linkToIdToken(e,r){return Lne(e,{idToken:r,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Vne(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:r,verificationId:n,verificationCode:s}=this.params;return e&&r?{temporaryProof:e,phoneNumber:r}:{sessionInfo:n,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:r,verificationCode:n,phoneNumber:s,temporaryProof:a}=e;return!n&&!r&&!s&&!a?null:new ku({verificationId:r,verificationCode:n,phoneNumber:s,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Une(t){const e=wp(jp(t)).link,r=e?wp(jp(e)).deep_link_id:null,n=wp(jp(t)).deep_link_id;return(n?wp(jp(n)).link:null)||n||r||e||t}class h1{constructor(e){const r=wp(jp(e)),n=r.apiKey??null,s=r.oobCode??null,a=Bne(r.mode??null);qe(n&&s&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=s,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Une(e);try{return new h1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.providerId=ud.PROVIDER_ID}static credential(e,r){return kg._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=h1.parseLink(r);return qe(n,"argument-error"),kg._fromEmailAndCode(e,n.code,n.tenantId)}}ud.PROVIDER_ID="password";ud.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ud.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx extends N9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends Gx{constructor(){super("facebook.com")}static credential(e){return Gu._fromParams({providerId:Tl.PROVIDER_ID,signInMethod:Tl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tl.credentialFromTaggedObject(e)}static credentialFromError(e){return Tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tl.credential(e.oauthAccessToken)}catch{return null}}}Tl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Gx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Gu._fromParams({providerId:Cl.PROVIDER_ID,signInMethod:Cl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Cl.credentialFromTaggedObject(e)}static credentialFromError(e){return Cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Cl.credential(r,n)}catch{return null}}}Cl.GOOGLE_SIGN_IN_METHOD="google.com";Cl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Gx{constructor(){super("github.com")}static credential(e){return Gu._fromParams({providerId:kl.PROVIDER_ID,signInMethod:kl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kl.credentialFromTaggedObject(e)}static credentialFromError(e){return kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kl.credential(e.oauthAccessToken)}catch{return null}}}kl.GITHUB_SIGN_IN_METHOD="github.com";kl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends Gx{constructor(){super("twitter.com")}static credential(e,r){return Gu._fromParams({providerId:Il.PROVIDER_ID,signInMethod:Il.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Il.credentialFromTaggedObject(e)}static credentialFromError(e){return Il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Il.credential(r,n)}catch{return null}}}Il.TWITTER_SIGN_IN_METHOD="twitter.com";Il.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qne(t,e){return kc(t,"POST","/v1/accounts:signUp",Yn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const a=await aa._fromIdTokenResponse(e,n,s),o=ED(n);return new Ku({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=ED(n);return new Ku({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function ED(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends sl{constructor(e,r,n,s){super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,ab.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new ab(e,r,n,s)}}function S9(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ab._fromErrorAndOperation(t,a,e,n):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zne(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function E9(t,e,r=!1){const n=await Jh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ku._forOperation(t,"link",n)}async function Wne(t,e,r){await Cg(e);const n=zne(e.providerData);qe(n.has(r)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hne(t,e,r=!1){const{auth:n}=t;if($s(n.app))return Promise.reject(ca(n));const s="reauthenticate";try{const a=await Jh(t,S9(n,s,e,t),r);qe(a.idToken,n,"internal-error");const o=OT(a.idToken);qe(o,n,"internal-error");const{sub:l}=o;return qe(t.uid===l,n,"user-mismatch"),Ku._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Bi(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9(t,e,r=!1){if($s(t.app))return Promise.reject(ca(t));const n="signIn",s=await S9(t,n,e),a=await Ku._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(a.user),a}async function f1(t,e){return _9(gi(t),e)}async function Gne(t,e){const r=Ht(t);return await Wne(!1,r,e.providerId),E9(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,r){this.factorId=e,this.uid=r.mfaEnrollmentId,this.enrollmentTime=new Date(r.enrolledAt).toUTCString(),this.displayName=r.displayName}static _fromServerResponse(e,r){return"phoneInfo"in r?LT._fromServerResponse(e,r):"totpInfo"in r?FT._fromServerResponse(e,r):Bi(e,"internal-error")}}class LT extends $T{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,r){return new LT(r)}}class FT extends $T{constructor(e){super("totp",e)}static _fromServerResponse(e,r){return new FT(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t,e,r){var n;qe(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),qe(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),qe(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(qe(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(qe(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(t){const e=gi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Kne(t,e,r){const n=gi(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&P9(n,s,r),await Cu(n,s,"getOobCode",Rne,"EMAIL_PASSWORD_PROVIDER")}async function Yne(t,e,r){await w9(Ht(t),{oobCode:e,newPassword:r}).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&VT(t),n})}async function Qne(t,e){await Cne(Ht(t),{oobCode:e})}async function Xne(t,e){const r=Ht(t),n=await w9(r,{oobCode:e}),s=n.requestType;switch(qe(s,r,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":qe(n.newEmail,r,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":qe(n.mfaInfo,r,"internal-error");default:qe(n.email,r,"internal-error")}let a=null;return n.mfaInfo&&(a=$T._fromServerResponse(gi(r),n.mfaInfo)),{data:{email:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.newEmail:n.email)||null,previousEmail:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.email:n.newEmail)||null,multiFactorInfo:a},operation:s}}async function Jne(t,e,r){if($s(t.app))return Promise.reject(ca(t));const n=gi(t),o=await Cu(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qne,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&VT(t),c}),l=await Ku._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function Zne(t,e,r){return $s(t.app)?Promise.reject(ca(t)):f1(Ht(t),ud.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&VT(t),n})}function ese(t,e){const r=h1.parseLink(e);return(r==null?void 0:r.operation)==="EMAIL_SIGNIN"}async function tse(t,e,r){if($s(t.app))return Promise.reject(ca(t));const n=Ht(t),s=ud.credentialWithLink(e,r||sb());return qe(s._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),f1(n,s)}async function _D(t,e){const r=Ht(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&P9(r.auth,s,e);const{email:a}=await Ine(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rse(t,e){return ds(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nse(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Ht(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Jh(n,rse(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function sse(t,e,r,n){return Ht(t).onIdTokenChanged(e,r,n)}function ise(t,e,r){return Ht(t).beforeAuthStateChanged(e,r)}function ase(t,e,r,n){return Ht(t).onAuthStateChanged(e,r,n)}function A9(t){return Ht(t).signOut()}async function ose(t){return Ht(t).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e){return ds(t,"POST","/v2/accounts/mfaEnrollment:start",Yn(t,e))}const ob="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(ob,"1"),this.storage.removeItem(ob),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lse=1e3,cse=10;class C9 extends T9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);ine()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,cse):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},lse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}C9.type="LOCAL";const use=C9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9 extends T9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}k9.type="SESSION";const I9=k9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new m1(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:a}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(o).map(async u=>u(r.origin,a)),c=await dse(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=BT("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return window}function fse(t){sn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}async function mse(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pse(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function gse(){return UT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="firebaseLocalStorageDb",xse=1,lb="firebaseLocalStorage",O9="fbase_key";class Kx{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function p1(t,e){return t.transaction([lb],e?"readwrite":"readonly").objectStore(lb)}function yse(){const t=indexedDB.deleteDatabase(R9);return new Kx(t).toPromise()}function DE(){const t=indexedDB.open(R9,xse);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(lb,{keyPath:O9})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(lb)?e(n):(n.close(),await yse(),e(await DE()))})})}async function AD(t,e,r){const n=p1(t,!0).put({[O9]:e,value:r});return new Kx(n).toPromise()}async function vse(t,e){const r=p1(t,!1).get(e),n=await new Kx(r).toPromise();return n===void 0?null:n.value}function TD(t,e){const r=p1(t,!0).delete(e);return new Kx(r).toPromise()}const bse=800,wse=3;class D9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await DE(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>wse)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m1._getInstance(gse()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await mse(),!this.activeServiceWorker)return;this.sender=new hse(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await DE();return await AD(e,ob,"1"),await TD(e,ob),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>AD(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>vse(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>TD(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=p1(s,!1).getAll();return new Kx(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D9.type="LOCAL";const jse=D9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t,e){return ds(t,"POST","/v2/accounts/mfaSignIn:start",Yn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=y9("rcb"),Nse=new Wx(3e4,6e4);class Sse{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=sn().grecaptcha)!=null&&e.render)}load(e,r=""){return qe(Ese(r),e,"argument-error"),this.shouldResolveImmediately(r)&&gD(sn().grecaptcha)?Promise.resolve(sn().grecaptcha):new Promise((n,s)=>{const a=sn().setTimeout(()=>{s(li(e,"network-request-failed"))},Nse.get());sn()[u2]=()=>{sn().clearTimeout(a),delete sn()[u2];const l=sn().grecaptcha;if(!l||!gD(l)){s(li(e,"internal-error"));return}const c=l.render;l.render=(u,d)=>{const h=c(u,d);return this.counter++,h},this.hostLanguage=r,n(l)};const o=`${hne()}?${Jf({onload:u2,render:"explicit",hl:r})}`;MT(o).catch(()=>{clearTimeout(a),s(li(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var r;return!!((r=sn().grecaptcha)!=null&&r.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Ese(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class _se{async load(e){return new xne(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="recaptcha",Pse={theme:"light",type:"image"};class Ase{constructor(e,r,n={...Pse}){this.parameters=n,this.type=qp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gi(e),this.isInvisible=this.parameters.size==="invisible",qe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof r=="string"?document.getElementById(r):r;qe(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _se:new Sse,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),r=this.getAssertedRecaptcha(),n=r.getResponse(e);return n||new Promise(s=>{const a=o=>{o&&(this.tokenChangeListeners.delete(a),s(o))};this.tokenChangeListeners.add(a),this.isInvisible&&r.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){qe(!this.parameters.sitekey,this.auth,"argument-error"),qe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),qe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return r=>{if(this.tokenChangeListeners.forEach(n=>n(r)),typeof e=="function")e(r);else if(typeof e=="string"){const n=sn()[e];typeof n=="function"&&n(r)}}}assertNotDestroyed(){qe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const r=document.createElement("div");e.appendChild(r),e=r}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){qe(t9()&&!UT(),this.auth,"internal-error"),await Tse(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Yre(this.auth);qe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return qe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function Tse(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(e,r){this.verificationId=e,this.onConfirmation=r}confirm(e){const r=ku._fromVerification(this.verificationId,e);return this.onConfirmation(r)}}async function kse(t,e,r){if($s(t.app))return Promise.reject(ca(t));const n=gi(t),s=await M9(n,e,Ht(r));return new Cse(s,a=>f1(n,a))}async function M9(t,e,r){var n;if(!t._getRecaptchaConfig())try{await Nne(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const a=s.session;if("phoneNumber"in s){qe(a.type==="enroll",t,"internal-error");const o={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Cu(t,o,"mfaSmsEnrollment",async(d,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===Up){qe((r==null?void 0:r.type)===qp,d,"argument-error");const f=await d2(d,h,r);return PD(d,f)}return PD(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{qe(a.type==="signin",t,"internal-error");const o=((n=s.multiFactorHint)==null?void 0:n.uid)||s.multiFactorUid;qe(o,t,"missing-multi-factor-info");const l={mfaPendingCredential:a.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Cu(t,l,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===Up){qe((r==null?void 0:r.type)===qp,h,"argument-error");const m=await d2(h,f,r);return CD(h,m)}return CD(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Cu(t,a,"sendVerificationCode",async(u,d)=>{if(d.captchaResponse===Up){qe((r==null?void 0:r.type)===qp,u,"argument-error");const h=await d2(u,d,r);return SD(u,h)}return SD(u,d)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{r==null||r._reset()}}async function d2(t,e,r){qe(r.type===qp,t,"argument-error");const n=await r.verify();qe(typeof n=="string",t,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const a=s.phoneEnrollmentInfo.phoneNumber,o=s.phoneEnrollmentInfo.captchaResponse,l=s.phoneEnrollmentInfo.clientType,c=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:n,captchaResponse:o,clientType:l,recaptchaVersion:c}}),s}else if("phoneSignInInfo"in s){const a=s.phoneSignInInfo.captchaResponse,o=s.phoneSignInInfo.clientType,l=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:a,clientType:o,recaptchaVersion:l}}),s}else return Object.assign(s,{recaptchaToken:n}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.providerId=Iu.PROVIDER_ID,this.auth=gi(e)}verifyPhoneNumber(e,r){return M9(this.auth,e,Ht(r))}static credential(e,r){return ku._fromVerification(e,r)}static credentialFromResult(e){const r=e;return Iu.credentialFromTaggedObject(r)}static credentialFromError(e){return Iu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:r,temporaryProof:n}=e;return r&&n?ku._fromTokenResponse(r,n):null}}Iu.PROVIDER_ID="phone";Iu.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ise(t,e){return e?Ao(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends d1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vh(e,this._buildIdpRequest())}_linkToIdToken(e,r){return vh(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return vh(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Rse(t){return _9(t.auth,new qT(t),t.bypassAuthState)}function Ose(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),Hne(r,new qT(t),t.bypassAuthState)}async function Dse(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),E9(r,new qT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,r,n,s,a=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rse;case"linkViaPopup":case"linkViaRedirect":return Dse;case"reauthViaPopup":case"reauthViaRedirect":return Ose;default:Bi(this.auth,"internal-error")}}resolve(e){zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mse=new Wx(2e3,1e4);class eh extends $9{constructor(e,r,n,s,a){super(e,r,s,a),this.provider=n,this.authWindow=null,this.pollId=null,eh.currentPopupAction&&eh.currentPopupAction.cancel(),eh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){zo(this.filter.length===1,"Popup operations only handle one event");const e=BT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mse.get())};e()}}eh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $se="pendingRedirect",dv=new Map;class Lse extends $9{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=dv.get(this.auth._key());if(!e){try{const n=await Fse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}dv.set(this.auth._key(),e)}return this.bypassAuthState||dv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fse(t,e){const r=Use(e),n=Bse(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function Vse(t,e){dv.set(t._key(),e)}function Bse(t){return Ao(t._redirectPersistence)}function Use(t){return uv($se,t.config.apiKey,t.name)}async function qse(t,e,r=!1){if($s(t.app))return Promise.reject(ca(t));const n=gi(t),s=Ise(n,e),o=await new Lse(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zse=10*60*1e3;class Wse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hse(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!L9(e)){const s=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(li(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zse&&this.cachedEventUids.clear(),this.cachedEventUids.has(kD(e))}saveEventToCache(e){this.cachedEventUids.add(kD(e)),this.lastProcessedEventTime=Date.now()}}function kD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function L9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Hse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gse(t,e={}){return ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yse=/^https?/;async function Qse(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Gse(t);for(const r of e)try{if(Xse(r))return}catch{}Bi(t,"unauthorized-domain")}function Xse(t){const e=sb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Yse.test(r))return!1;if(Kse.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jse=new Wx(3e4,6e4);function ID(){const t=sn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Zse(t){return new Promise((e,r)=>{var s,a,o;function n(){ID(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ID(),r(li(t,"network-request-failed"))},timeout:Jse.get()})}if((a=(s=sn().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=sn().gapi)!=null&&o.load)n();else{const l=y9("iframefcb");return sn()[l]=()=>{gapi.load?n():r(li(t,"network-request-failed"))},MT(`${mne()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw hv=null,e})}let hv=null;function eie(t){return hv=hv||Zse(t),hv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie=new Wx(5e3,15e3),rie="__/auth/iframe",nie="emulator/auth/iframe",sie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aie(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?RT(e,nie):`https://${t.config.authDomain}/${rie}`,n={apiKey:e.apiKey,appName:t.name,v:Zf},s=iie.get(t.config.apiHost);s&&(n.eid=s);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Jf(n).slice(1)}`}async function oie(t){const e=await eie(t),r=sn().gapi;return qe(r,t,"internal-error"),e.open({where:document.body,url:aie(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sie,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const o=li(t,"network-request-failed"),l=sn().setTimeout(()=>{a(o)},tie.get());function c(){sn().clearTimeout(l),s(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cie=500,uie=600,die="_blank",hie="http://localhost";class RD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fie(t,e,r,n=cie,s=uie){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...lie,width:n.toString(),height:s.toString(),top:a,left:o},u=us().toLowerCase();r&&(l=d9(u)?die:r),c9(u)&&(e=e||hie,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[m,x])=>`${f}${m}=${x},`,"");if(sne(u)&&l!=="_self")return mie(e||"",l),new RD(null);const h=window.open(e||"",l,d);qe(h,t,"popup-blocked");try{h.focus()}catch{}return new RD(h)}function mie(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pie="__/auth/handler",gie="emulator/auth/handler",xie=encodeURIComponent("fac");async function OD(t,e,r,n,s,a){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Zf,eventId:s};if(e instanceof N9){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ete(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Gx){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${xie}=${encodeURIComponent(c)}`:"";return`${yie(t)}?${Jf(l).slice(1)}${u}`}function yie({config:t}){return t.emulator?RT(t,gie):`https://${t.authDomain}/${pie}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="webStorageSupport";class vie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I9,this._completeRedirectFn=qse,this._overrideRedirectResult=Vse}async _openPopup(e,r,n,s){var o;zo((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await OD(e,r,n,sb(),s);return fie(e,a,BT())}async _openRedirect(e,r,n,s){await this._originValidation(e);const a=await OD(e,r,n,sb(),s);return fse(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:a}=this.eventManagers[r];return s?Promise.resolve(s):(zo(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await oie(e),n=new Wse(e);return r.register("authEvent",s=>(qe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(h2,{type:h2},s=>{var o;const a=(o=s==null?void 0:s[0])==null?void 0:o[h2];a!==void 0&&r(!!a),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Qse(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return g9()||u9()||DT()}}const bie=vie;var DD="@firebase/auth",MD="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Nie(t){Xh(new Hu("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;qe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x9(t)},u=new une(n,s,a,c);return Ene(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Xh(new Hu("auth-internal",e=>{const r=gi(e.getProvider("auth").getImmediate());return(n=>new wie(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ic(DD,MD,jie(t)),ic(DD,MD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sie=5*60,Eie=WV("authIdTokenMaxAge")||Sie;let $D=null;const _ie=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Eie)return;const s=r==null?void 0:r.token;$D!==s&&($D=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function F9(t=Pre()){const e=kT(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Sne(t,{popupRedirectResolver:bie,persistence:[jse,use,I9]}),n=WV("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=_ie(a.toString());ise(r,o,()=>o(r.currentUser)),sse(r,l=>o(l))}}const s=lte("auth");return s&&_ne(r,`http://${s}`),r}function Pie(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}dne({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const a=li("internal-error");a.customData=s,r(a)},n.type="text/javascript",n.charset="UTF-8",Pie().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Nie("Browser");var LD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ac,V9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,S){function A(){}A.prototype=S.prototype,_.D=S.prototype,_.prototype=new A,_.prototype.constructor=_,_.C=function(T,I,P){for(var R=Array(arguments.length-2),M=2;M<arguments.length;M++)R[M-2]=arguments[M];return S.prototype[I].apply(T,R)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,S,A){A||(A=0);var T=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)T[I]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(I=0;16>I;++I)T[I]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=_.g[0],A=_.g[1],I=_.g[2];var P=_.g[3],R=S+(P^A&(I^P))+T[0]+3614090360&4294967295;S=A+(R<<7&4294967295|R>>>25),R=P+(I^S&(A^I))+T[1]+3905402710&4294967295,P=S+(R<<12&4294967295|R>>>20),R=I+(A^P&(S^A))+T[2]+606105819&4294967295,I=P+(R<<17&4294967295|R>>>15),R=A+(S^I&(P^S))+T[3]+3250441966&4294967295,A=I+(R<<22&4294967295|R>>>10),R=S+(P^A&(I^P))+T[4]+4118548399&4294967295,S=A+(R<<7&4294967295|R>>>25),R=P+(I^S&(A^I))+T[5]+1200080426&4294967295,P=S+(R<<12&4294967295|R>>>20),R=I+(A^P&(S^A))+T[6]+2821735955&4294967295,I=P+(R<<17&4294967295|R>>>15),R=A+(S^I&(P^S))+T[7]+4249261313&4294967295,A=I+(R<<22&4294967295|R>>>10),R=S+(P^A&(I^P))+T[8]+1770035416&4294967295,S=A+(R<<7&4294967295|R>>>25),R=P+(I^S&(A^I))+T[9]+2336552879&4294967295,P=S+(R<<12&4294967295|R>>>20),R=I+(A^P&(S^A))+T[10]+4294925233&4294967295,I=P+(R<<17&4294967295|R>>>15),R=A+(S^I&(P^S))+T[11]+2304563134&4294967295,A=I+(R<<22&4294967295|R>>>10),R=S+(P^A&(I^P))+T[12]+1804603682&4294967295,S=A+(R<<7&4294967295|R>>>25),R=P+(I^S&(A^I))+T[13]+4254626195&4294967295,P=S+(R<<12&4294967295|R>>>20),R=I+(A^P&(S^A))+T[14]+2792965006&4294967295,I=P+(R<<17&4294967295|R>>>15),R=A+(S^I&(P^S))+T[15]+1236535329&4294967295,A=I+(R<<22&4294967295|R>>>10),R=S+(I^P&(A^I))+T[1]+4129170786&4294967295,S=A+(R<<5&4294967295|R>>>27),R=P+(A^I&(S^A))+T[6]+3225465664&4294967295,P=S+(R<<9&4294967295|R>>>23),R=I+(S^A&(P^S))+T[11]+643717713&4294967295,I=P+(R<<14&4294967295|R>>>18),R=A+(P^S&(I^P))+T[0]+3921069994&4294967295,A=I+(R<<20&4294967295|R>>>12),R=S+(I^P&(A^I))+T[5]+3593408605&4294967295,S=A+(R<<5&4294967295|R>>>27),R=P+(A^I&(S^A))+T[10]+38016083&4294967295,P=S+(R<<9&4294967295|R>>>23),R=I+(S^A&(P^S))+T[15]+3634488961&4294967295,I=P+(R<<14&4294967295|R>>>18),R=A+(P^S&(I^P))+T[4]+3889429448&4294967295,A=I+(R<<20&4294967295|R>>>12),R=S+(I^P&(A^I))+T[9]+568446438&4294967295,S=A+(R<<5&4294967295|R>>>27),R=P+(A^I&(S^A))+T[14]+3275163606&4294967295,P=S+(R<<9&4294967295|R>>>23),R=I+(S^A&(P^S))+T[3]+4107603335&4294967295,I=P+(R<<14&4294967295|R>>>18),R=A+(P^S&(I^P))+T[8]+1163531501&4294967295,A=I+(R<<20&4294967295|R>>>12),R=S+(I^P&(A^I))+T[13]+2850285829&4294967295,S=A+(R<<5&4294967295|R>>>27),R=P+(A^I&(S^A))+T[2]+4243563512&4294967295,P=S+(R<<9&4294967295|R>>>23),R=I+(S^A&(P^S))+T[7]+1735328473&4294967295,I=P+(R<<14&4294967295|R>>>18),R=A+(P^S&(I^P))+T[12]+2368359562&4294967295,A=I+(R<<20&4294967295|R>>>12),R=S+(A^I^P)+T[5]+4294588738&4294967295,S=A+(R<<4&4294967295|R>>>28),R=P+(S^A^I)+T[8]+2272392833&4294967295,P=S+(R<<11&4294967295|R>>>21),R=I+(P^S^A)+T[11]+1839030562&4294967295,I=P+(R<<16&4294967295|R>>>16),R=A+(I^P^S)+T[14]+4259657740&4294967295,A=I+(R<<23&4294967295|R>>>9),R=S+(A^I^P)+T[1]+2763975236&4294967295,S=A+(R<<4&4294967295|R>>>28),R=P+(S^A^I)+T[4]+1272893353&4294967295,P=S+(R<<11&4294967295|R>>>21),R=I+(P^S^A)+T[7]+4139469664&4294967295,I=P+(R<<16&4294967295|R>>>16),R=A+(I^P^S)+T[10]+3200236656&4294967295,A=I+(R<<23&4294967295|R>>>9),R=S+(A^I^P)+T[13]+681279174&4294967295,S=A+(R<<4&4294967295|R>>>28),R=P+(S^A^I)+T[0]+3936430074&4294967295,P=S+(R<<11&4294967295|R>>>21),R=I+(P^S^A)+T[3]+3572445317&4294967295,I=P+(R<<16&4294967295|R>>>16),R=A+(I^P^S)+T[6]+76029189&4294967295,A=I+(R<<23&4294967295|R>>>9),R=S+(A^I^P)+T[9]+3654602809&4294967295,S=A+(R<<4&4294967295|R>>>28),R=P+(S^A^I)+T[12]+3873151461&4294967295,P=S+(R<<11&4294967295|R>>>21),R=I+(P^S^A)+T[15]+530742520&4294967295,I=P+(R<<16&4294967295|R>>>16),R=A+(I^P^S)+T[2]+3299628645&4294967295,A=I+(R<<23&4294967295|R>>>9),R=S+(I^(A|~P))+T[0]+4096336452&4294967295,S=A+(R<<6&4294967295|R>>>26),R=P+(A^(S|~I))+T[7]+1126891415&4294967295,P=S+(R<<10&4294967295|R>>>22),R=I+(S^(P|~A))+T[14]+2878612391&4294967295,I=P+(R<<15&4294967295|R>>>17),R=A+(P^(I|~S))+T[5]+4237533241&4294967295,A=I+(R<<21&4294967295|R>>>11),R=S+(I^(A|~P))+T[12]+1700485571&4294967295,S=A+(R<<6&4294967295|R>>>26),R=P+(A^(S|~I))+T[3]+2399980690&4294967295,P=S+(R<<10&4294967295|R>>>22),R=I+(S^(P|~A))+T[10]+4293915773&4294967295,I=P+(R<<15&4294967295|R>>>17),R=A+(P^(I|~S))+T[1]+2240044497&4294967295,A=I+(R<<21&4294967295|R>>>11),R=S+(I^(A|~P))+T[8]+1873313359&4294967295,S=A+(R<<6&4294967295|R>>>26),R=P+(A^(S|~I))+T[15]+4264355552&4294967295,P=S+(R<<10&4294967295|R>>>22),R=I+(S^(P|~A))+T[6]+2734768916&4294967295,I=P+(R<<15&4294967295|R>>>17),R=A+(P^(I|~S))+T[13]+1309151649&4294967295,A=I+(R<<21&4294967295|R>>>11),R=S+(I^(A|~P))+T[4]+4149444226&4294967295,S=A+(R<<6&4294967295|R>>>26),R=P+(A^(S|~I))+T[11]+3174756917&4294967295,P=S+(R<<10&4294967295|R>>>22),R=I+(S^(P|~A))+T[2]+718787259&4294967295,I=P+(R<<15&4294967295|R>>>17),R=A+(P^(I|~S))+T[9]+3951481745&4294967295,_.g[0]=_.g[0]+S&4294967295,_.g[1]=_.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,_.g[2]=_.g[2]+I&4294967295,_.g[3]=_.g[3]+P&4294967295}n.prototype.u=function(_,S){S===void 0&&(S=_.length);for(var A=S-this.blockSize,T=this.B,I=this.h,P=0;P<S;){if(I==0)for(;P<=A;)s(this,_,P),P+=this.blockSize;if(typeof _=="string"){for(;P<S;)if(T[I++]=_.charCodeAt(P++),I==this.blockSize){s(this,T),I=0;break}}else for(;P<S;)if(T[I++]=_[P++],I==this.blockSize){s(this,T),I=0;break}}this.h=I,this.o+=S},n.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var S=1;S<_.length-8;++S)_[S]=0;var A=8*this.o;for(S=_.length-8;S<_.length;++S)_[S]=A&255,A/=256;for(this.u(_),_=Array(16),S=A=0;4>S;++S)for(var T=0;32>T;T+=8)_[A++]=this.g[S]>>>T&255;return _};function a(_,S){var A=l;return Object.prototype.hasOwnProperty.call(A,_)?A[_]:A[_]=S(_)}function o(_,S){this.h=S;for(var A=[],T=!0,I=_.length-1;0<=I;I--){var P=_[I]|0;T&&P==S||(A[I]=P,T=!1)}this.g=A}var l={};function c(_){return-128<=_&&128>_?a(_,function(S){return new o([S|0],0>S?-1:0)}):new o([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return h;if(0>_)return v(u(-_));for(var S=[],A=1,T=0;_>=A;T++)S[T]=_/A|0,A*=4294967296;return new o(S,0)}function d(_,S){if(_.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_.charAt(0)=="-")return v(d(_.substring(1),S));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(S,8)),T=h,I=0;I<_.length;I+=8){var P=Math.min(8,_.length-I),R=parseInt(_.substring(I,I+P),S);8>P?(P=u(Math.pow(S,P)),T=T.j(P).add(u(R))):(T=T.j(A),T=T.add(u(R)))}return T}var h=c(0),f=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(p(this))return-v(this).m();for(var _=0,S=1,A=0;A<this.g.length;A++){var T=this.i(A);_+=(0<=T?T:4294967296+T)*S,S*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(x(this))return"0";if(p(this))return"-"+v(this).toString(_);for(var S=u(Math.pow(_,6)),A=this,T="";;){var I=N(A,S).g;A=w(A,I.j(S));var P=((0<A.g.length?A.g[0]:A.h)>>>0).toString(_);if(A=I,x(A))return P+T;for(;6>P.length;)P="0"+P;T=P+T}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function x(_){if(_.h!=0)return!1;for(var S=0;S<_.g.length;S++)if(_.g[S]!=0)return!1;return!0}function p(_){return _.h==-1}t.l=function(_){return _=w(this,_),p(_)?-1:x(_)?0:1};function v(_){for(var S=_.g.length,A=[],T=0;T<S;T++)A[T]=~_.g[T];return new o(A,~_.h).add(f)}t.abs=function(){return p(this)?v(this):this},t.add=function(_){for(var S=Math.max(this.g.length,_.g.length),A=[],T=0,I=0;I<=S;I++){var P=T+(this.i(I)&65535)+(_.i(I)&65535),R=(P>>>16)+(this.i(I)>>>16)+(_.i(I)>>>16);T=R>>>16,P&=65535,R&=65535,A[I]=R<<16|P}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(_,S){return _.add(v(S))}t.j=function(_){if(x(this)||x(_))return h;if(p(this))return p(_)?v(this).j(v(_)):v(v(this).j(_));if(p(_))return v(this.j(v(_)));if(0>this.l(m)&&0>_.l(m))return u(this.m()*_.m());for(var S=this.g.length+_.g.length,A=[],T=0;T<2*S;T++)A[T]=0;for(T=0;T<this.g.length;T++)for(var I=0;I<_.g.length;I++){var P=this.i(T)>>>16,R=this.i(T)&65535,M=_.i(I)>>>16,q=_.i(I)&65535;A[2*T+2*I]+=R*q,b(A,2*T+2*I),A[2*T+2*I+1]+=P*q,b(A,2*T+2*I+1),A[2*T+2*I+1]+=R*M,b(A,2*T+2*I+1),A[2*T+2*I+2]+=P*M,b(A,2*T+2*I+2)}for(T=0;T<S;T++)A[T]=A[2*T+1]<<16|A[2*T];for(T=S;T<2*S;T++)A[T]=0;return new o(A,0)};function b(_,S){for(;(_[S]&65535)!=_[S];)_[S+1]+=_[S]>>>16,_[S]&=65535,S++}function j(_,S){this.g=_,this.h=S}function N(_,S){if(x(S))throw Error("division by zero");if(x(_))return new j(h,h);if(p(_))return S=N(v(_),S),new j(v(S.g),v(S.h));if(p(S))return S=N(_,v(S)),new j(v(S.g),S.h);if(30<_.g.length){if(p(_)||p(S))throw Error("slowDivide_ only works with positive integers.");for(var A=f,T=S;0>=T.l(_);)A=E(A),T=E(T);var I=C(A,1),P=C(T,1);for(T=C(T,2),A=C(A,2);!x(T);){var R=P.add(T);0>=R.l(_)&&(I=I.add(A),P=R),T=C(T,1),A=C(A,1)}return S=w(_,I.j(S)),new j(I,S)}for(I=h;0<=_.l(S);){for(A=Math.max(1,Math.floor(_.m()/S.m())),T=Math.ceil(Math.log(A)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),P=u(A),R=P.j(S);p(R)||0<R.l(_);)A-=T,P=u(A),R=P.j(S);x(P)&&(P=f),I=I.add(P),_=w(_,R)}return new j(I,_)}t.A=function(_){return N(this,_).h},t.and=function(_){for(var S=Math.max(this.g.length,_.g.length),A=[],T=0;T<S;T++)A[T]=this.i(T)&_.i(T);return new o(A,this.h&_.h)},t.or=function(_){for(var S=Math.max(this.g.length,_.g.length),A=[],T=0;T<S;T++)A[T]=this.i(T)|_.i(T);return new o(A,this.h|_.h)},t.xor=function(_){for(var S=Math.max(this.g.length,_.g.length),A=[],T=0;T<S;T++)A[T]=this.i(T)^_.i(T);return new o(A,this.h^_.h)};function E(_){for(var S=_.g.length+1,A=[],T=0;T<S;T++)A[T]=_.i(T)<<1|_.i(T-1)>>>31;return new o(A,_.h)}function C(_,S){var A=S>>5;S%=32;for(var T=_.g.length-A,I=[],P=0;P<T;P++)I[P]=0<S?_.i(P+A)>>>S|_.i(P+A+1)<<32-S:_.i(P+A);return new o(I,_.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,V9=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ac=o}).apply(typeof LD<"u"?LD:typeof self<"u"?self:typeof window<"u"?window:{});var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B9,Sp,U9,fv,ME,q9,z9,W9;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,k,O){return y==Array.prototype||y==Object.prototype||(y[k]=O.value),y};function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof y0=="object"&&y0];for(var k=0;k<y.length;++k){var O=y[k];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var n=r(this);function s(y,k){if(k)e:{var O=n;y=y.split(".");for(var $=0;$<y.length-1;$++){var se=y[$];if(!(se in O))break e;O=O[se]}y=y[y.length-1],$=O[y],k=k($),k!=$&&k!=null&&e(O,y,{configurable:!0,writable:!0,value:k})}}function a(y,k){y instanceof String&&(y+="");var O=0,$=!1,se={next:function(){if(!$&&O<y.length){var fe=O++;return{value:k(fe,y[fe]),done:!1}}return $=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}s("Array.prototype.values",function(y){return y||function(){return a(this,function(k,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(y){var k=typeof y;return k=k!="object"?k:y?Array.isArray(y)?"array":k:"null",k=="array"||k=="object"&&typeof y.length=="number"}function u(y){var k=typeof y;return k=="object"&&y!=null||k=="function"}function d(y,k,O){return y.call.apply(y.bind,arguments)}function h(y,k,O){if(!y)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,$),y.apply(k,se)}}return function(){return y.apply(k,arguments)}}function f(y,k,O){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(y,k){var O=Array.prototype.slice.call(arguments,1);return function(){var $=O.slice();return $.push.apply($,arguments),y.apply(this,$)}}function x(y,k){function O(){}O.prototype=k.prototype,y.aa=k.prototype,y.prototype=new O,y.prototype.constructor=y,y.Qb=function($,se,fe){for(var Be=Array(arguments.length-2),ar=2;ar<arguments.length;ar++)Be[ar-2]=arguments[ar];return k.prototype[se].apply($,Be)}}function p(y){const k=y.length;if(0<k){const O=Array(k);for(let $=0;$<k;$++)O[$]=y[$];return O}return[]}function v(y,k){for(let O=1;O<arguments.length;O++){const $=arguments[O];if(c($)){const se=y.length||0,fe=$.length||0;y.length=se+fe;for(let Be=0;Be<fe;Be++)y[se+Be]=$[Be]}else y.push($)}}class w{constructor(k,O){this.i=k,this.j=O,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function b(y){return/^[\s\xa0]*$/.test(y)}function j(){var y=l.navigator;return y&&(y=y.userAgent)?y:""}function N(y){return N[" "](y),y}N[" "]=function(){};var E=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function C(y,k,O){for(const $ in y)k.call(O,y[$],$,y)}function _(y,k){for(const O in y)k.call(void 0,y[O],O,y)}function S(y){const k={};for(const O in y)k[O]=y[O];return k}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(y,k){let O,$;for(let se=1;se<arguments.length;se++){$=arguments[se];for(O in $)y[O]=$[O];for(let fe=0;fe<A.length;fe++)O=A[fe],Object.prototype.hasOwnProperty.call($,O)&&(y[O]=$[O])}}function I(y){var k=1;y=y.split(":");const O=[];for(;0<k&&y.length;)O.push(y.shift()),k--;return y.length&&O.push(y.join(":")),O}function P(y){l.setTimeout(()=>{throw y},0)}function R(){var y=V;let k=null;return y.g&&(k=y.g,y.g=y.g.next,y.g||(y.h=null),k.next=null),k}class M{constructor(){this.h=this.g=null}add(k,O){const $=q.get();$.set(k,O),this.h?this.h.next=$:this.g=$,this.h=$}}var q=new w(()=>new W,y=>y.reset());class W{constructor(){this.next=this.g=this.h=null}set(k,O){this.h=k,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let B,D=!1,V=new M,K=()=>{const y=l.Promise.resolve(void 0);B=()=>{y.then(G)}};var G=()=>{for(var y;y=R();){try{y.h.call(y.g)}catch(O){P(O)}var k=q;k.j(y),100>k.h&&(k.h++,y.next=k.g,k.g=y)}D=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(y,k){this.type=y,this.g=this.target=k,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,k=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const O=()=>{};l.addEventListener("test",O,k),l.removeEventListener("test",O,k)}catch{}return y}();function Y(y,k){if(ae.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var O=this.type=y.type,$=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=k,k=y.relatedTarget){if(E){e:{try{N(k.nodeName);var se=!0;break e}catch{}se=!1}se||(k=null)}}else O=="mouseover"?k=y.fromElement:O=="mouseout"&&(k=y.toElement);this.relatedTarget=k,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:ue[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Y.aa.h.call(this)}}x(Y,ae);var ue={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function te(y,k,O,$,se){this.listener=y,this.proxy=null,this.src=k,this.type=O,this.capture=!!$,this.ha=se,this.key=++Pe,this.da=this.fa=!1}function ye(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function F(y){this.src=y,this.g={},this.h=0}F.prototype.add=function(y,k,O,$,se){var fe=y.toString();y=this.g[fe],y||(y=this.g[fe]=[],this.h++);var Be=ie(y,k,$,se);return-1<Be?(k=y[Be],O||(k.fa=!1)):(k=new te(k,this.src,fe,!!$,se),k.fa=O,y.push(k)),k};function z(y,k){var O=k.type;if(O in y.g){var $=y.g[O],se=Array.prototype.indexOf.call($,k,void 0),fe;(fe=0<=se)&&Array.prototype.splice.call($,se,1),fe&&(ye(k),y.g[O].length==0&&(delete y.g[O],y.h--))}}function ie(y,k,O,$){for(var se=0;se<y.length;++se){var fe=y[se];if(!fe.da&&fe.listener==k&&fe.capture==!!O&&fe.ha==$)return se}return-1}var ne="closure_lm_"+(1e6*Math.random()|0),he={};function ve(y,k,O,$,se){if(Array.isArray(k)){for(var fe=0;fe<k.length;fe++)ve(y,k[fe],O,$,se);return null}return O=Ct(O),y&&y[Z]?y.K(k,O,u($)?!!$.capture:!!$,se):ge(y,k,O,!1,$,se)}function ge(y,k,O,$,se,fe){if(!k)throw Error("Invalid event type");var Be=u(se)?!!se.capture:!!se,ar=Tt(y);if(ar||(y[ne]=ar=new F(y)),O=ar.add(k,O,$,Be,fe),O.proxy)return O;if($=X(),O.proxy=$,$.src=y,$.listener=O,y.addEventListener)U||(se=Be),se===void 0&&(se=!1),y.addEventListener(k.toString(),$,se);else if(y.attachEvent)y.attachEvent(Ge(k.toString()),$);else if(y.addListener&&y.removeListener)y.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return O}function X(){function y(O){return k.call(y.src,y.listener,O)}const k=Xe;return y}function le(y,k,O,$,se){if(Array.isArray(k))for(var fe=0;fe<k.length;fe++)le(y,k[fe],O,$,se);else $=u($)?!!$.capture:!!$,O=Ct(O),y&&y[Z]?(y=y.i,k=String(k).toString(),k in y.g&&(fe=y.g[k],O=ie(fe,O,$,se),-1<O&&(ye(fe[O]),Array.prototype.splice.call(fe,O,1),fe.length==0&&(delete y.g[k],y.h--)))):y&&(y=Tt(y))&&(k=y.g[k.toString()],y=-1,k&&(y=ie(k,O,$,se)),(O=-1<y?k[y]:null)&&de(O))}function de(y){if(typeof y!="number"&&y&&!y.da){var k=y.src;if(k&&k[Z])z(k.i,y);else{var O=y.type,$=y.proxy;k.removeEventListener?k.removeEventListener(O,$,y.capture):k.detachEvent?k.detachEvent(Ge(O),$):k.addListener&&k.removeListener&&k.removeListener($),(O=Tt(k))?(z(O,y),O.h==0&&(O.src=null,k[ne]=null)):ye(y)}}}function Ge(y){return y in he?he[y]:he[y]="on"+y}function Xe(y,k){if(y.da)y=!0;else{k=new Y(k,this);var O=y.listener,$=y.ha||y.src;y.fa&&de(y),y=O.call($,k)}return y}function Tt(y){return y=y[ne],y instanceof F?y:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(y){return typeof y=="function"?y:(y[ht]||(y[ht]=function(k){return y.handleEvent(k)}),y[ht])}function vt(){Q.call(this),this.i=new F(this),this.M=this,this.F=null}x(vt,Q),vt.prototype[Z]=!0,vt.prototype.removeEventListener=function(y,k,O,$){le(this,y,k,O,$)};function Ot(y,k){var O,$=y.F;if($)for(O=[];$;$=$.F)O.push($);if(y=y.M,$=k.type||k,typeof k=="string")k=new ae(k,y);else if(k instanceof ae)k.target=k.target||y;else{var se=k;k=new ae($,y),T(k,se)}if(se=!0,O)for(var fe=O.length-1;0<=fe;fe--){var Be=k.g=O[fe];se=_r(Be,$,!0,k)&&se}if(Be=k.g=y,se=_r(Be,$,!0,k)&&se,se=_r(Be,$,!1,k)&&se,O)for(fe=0;fe<O.length;fe++)Be=k.g=O[fe],se=_r(Be,$,!1,k)&&se}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var y=this.i,k;for(k in y.g){for(var O=y.g[k],$=0;$<O.length;$++)ye(O[$]);delete y.g[k],y.h--}}this.F=null},vt.prototype.K=function(y,k,O,$){return this.i.add(String(y),k,!1,O,$)},vt.prototype.L=function(y,k,O,$){return this.i.add(String(y),k,!0,O,$)};function _r(y,k,O,$){if(k=y.i.g[String(k)],!k)return!0;k=k.concat();for(var se=!0,fe=0;fe<k.length;++fe){var Be=k[fe];if(Be&&!Be.da&&Be.capture==O){var ar=Be.listener,Bn=Be.ha||Be.src;Be.fa&&z(y.i,Be),se=ar.call(Bn,$)!==!1&&se}}return se&&!$.defaultPrevented}function rr(y,k,O){if(typeof y=="function")O&&(y=f(y,O));else if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(y,k||0)}function hs(y){y.g=rr(()=>{y.g=null,y.i&&(y.i=!1,hs(y))},y.l);const k=y.h;y.h=null,y.m.apply(null,k)}class nr extends Q{constructor(k,O){super(),this.m=k,this.l=O,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:hs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(y){Q.call(this),this.h=y,this.g={}}x(cr,Q);var fs=[];function Ts(y){C(y.g,function(k,O){this.g.hasOwnProperty(O)&&de(k)},y),y.g={}}cr.prototype.N=function(){cr.aa.N.call(this),Ts(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var re=l.JSON.stringify,J=l.JSON.parse,Re=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function _e(){}_e.prototype.h=null;function Ve(y){return y.h||(y.h=y.i())}function Ce(){}var st={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rt(){ae.call(this,"d")}x(Rt,ae);function Gt(){ae.call(this,"c")}x(Gt,ae);var Kt={},Zr=null;function xi(){return Zr=Zr||new vt}Kt.La="serverreachability";function ir(y){ae.call(this,Kt.La,y)}x(ir,ae);function fn(y){const k=xi();Ot(k,new ir(k))}Kt.STAT_EVENT="statevent";function yi(y,k){ae.call(this,Kt.STAT_EVENT,y),this.stat=k}x(yi,ae);function mn(y){const k=xi();Ot(k,new yi(k,y))}Kt.Ma="timingevent";function ul(y,k){ae.call(this,Kt.Ma,y),this.size=k}x(ul,ae);function co(y,k){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},k)}function uo(){this.g=!0}uo.prototype.xa=function(){this.g=!1};function wd(y,k,O,$,se,fe){y.info(function(){if(y.g)if(fe)for(var Be="",ar=fe.split("&"),Bn=0;Bn<ar.length;Bn++){var zt=ar[Bn].split("=");if(1<zt.length){var Qn=zt[0];zt=zt[1];var Xn=Qn.split("_");Be=2<=Xn.length&&Xn[1]=="type"?Be+(Qn+"="+zt+"&"):Be+(Qn+"=redacted&")}}else Be=null;else Be=fe;return"XMLHTTP REQ ("+$+") [attempt "+se+"]: "+k+`
`+O+`
`+Be})}function jN(y,k,O,$,se,fe,Be){y.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+se+"]: "+k+`
`+O+`
`+fe+" "+Be})}function dl(y,k,O,$){y.info(function(){return"XMLHTTP TEXT ("+k+"): "+SN(y,O)+($?" "+$:"")})}function NN(y,k){y.info(function(){return"TIMEOUT: "+k})}uo.prototype.info=function(){};function SN(y,k){if(!y.g)return k;if(!k)return null;try{var O=JSON.parse(k);if(O){for(y=0;y<O.length;y++)if(Array.isArray(O[y])){var $=O[y];if(!(2>$.length)){var se=$[1];if(Array.isArray(se)&&!(1>se.length)){var fe=se[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Be=1;Be<se.length;Be++)se[Be]=""}}}}return re(O)}catch{return k}}var jd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dm;function Hc(){}x(Hc,_e),Hc.prototype.g=function(){return new XMLHttpRequest},Hc.prototype.i=function(){return{}},Dm=new Hc;function Sa(y,k,O,$){this.j=y,this.i=k,this.l=O,this.R=$||1,this.U=new cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new My}function My(){this.i=null,this.g="",this.h=!1}var _n={},Gc={};function Mm(y,k,O){y.L=1,y.v=Le(ee(k)),y.m=O,y.P=!0,ho(y,null)}function ho(y,k){y.F=Date.now(),Sd(y),y.A=ee(y.v);var O=y.A,$=y.R;Array.isArray($)||($=[String($)]),fl(O.i,"t",$),y.C=0,O=y.j.J,y.h=new My,y.g=zR(y.j,O?k:null,!y.m),0<y.O&&(y.M=new nr(f(y.Y,y,y.g),y.O)),k=y.U,O=y.g,$=y.ca;var se="readystatechange";Array.isArray(se)||(se&&(fs[0]=se.toString()),se=fs);for(var fe=0;fe<se.length;fe++){var Be=ve(O,se[fe],$||k.handleEvent,!1,k.h||k);if(!Be)break;k.g[Be.key]=Be}k=y.H?S(y.H):{},y.m?(y.u||(y.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,k)):(y.u="GET",y.g.ea(y.A,y.u,null,k)),fn(),wd(y.i,y.u,y.A,y.l,y.R,y.m)}Sa.prototype.ca=function(y){y=y.target;const k=this.M;k&&fo(y)==3?k.j():this.Y(y)},Sa.prototype.Y=function(y){try{if(y==this.g)e:{const Xn=fo(this.g);var k=this.g.Ba();const Ad=this.g.Z();if(!(3>Xn)&&(Xn!=3||this.g&&(this.h.h||this.g.oa()||RR(this.g)))){this.J||Xn!=4||k==7||(k==8||0>=Ad?fn(3):fn(2)),Ed(this);var O=this.g.Z();this.X=O;t:if($m(this)){var $=RR(this.g);y="";var se=$.length,fe=fo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ea(this),hl(this);var Be="";break t}this.h.i=new l.TextDecoder}for(k=0;k<se;k++)this.h.h=!0,y+=this.h.i.decode($[k],{stream:!(fe&&k==se-1)});$.length=0,this.h.g+=y,this.C=0,Be=this.h.g}else Be=this.g.oa();if(this.o=O==200,jN(this.i,this.u,this.A,this.l,this.R,Xn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var ar,Bn=this.g;if((ar=Bn.g?Bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(ar)){var zt=ar;break t}}zt=null}if(O=zt)dl(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_d(this,O);else{this.o=!1,this.s=3,mn(12),Ea(this),hl(this);break e}}if(this.P){O=!0;let Hi;for(;!this.J&&this.C<Be.length;)if(Hi=Nd(this,Be),Hi==Gc){Xn==4&&(this.s=4,mn(14),O=!1),dl(this.i,this.l,null,"[Incomplete Response]");break}else if(Hi==_n){this.s=4,mn(15),dl(this.i,this.l,Be,"[Invalid Chunk]"),O=!1;break}else dl(this.i,this.l,Hi,null),_d(this,Hi);if($m(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xn!=4||Be.length!=0||this.h.h||(this.s=1,mn(16),O=!1),this.o=this.o&&O,!O)dl(this.i,this.l,Be,"[Invalid Chunked Response]"),Ea(this),hl(this);else if(0<Be.length&&!this.W){this.W=!0;var Qn=this.j;Qn.g==this&&Qn.ba&&!Qn.M&&(Qn.j.info("Great, no buffering proxy detected. Bytes received: "+Be.length),TN(Qn),Qn.M=!0,mn(11))}}else dl(this.i,this.l,Be,null),_d(this,Be);Xn==4&&Ea(this),this.o&&!this.J&&(Xn==4?VR(this.j,this):(this.o=!1,Sd(this)))}else SJ(this.g),O==400&&0<Be.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),Ea(this),hl(this)}}}catch{}finally{}};function $m(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Nd(y,k){var O=y.C,$=k.indexOf(`
`,O);return $==-1?Gc:(O=Number(k.substring(O,$)),isNaN(O)?_n:($+=1,$+O>k.length?Gc:(k=k.slice($,$+O),y.C=$+O,k)))}Sa.prototype.cancel=function(){this.J=!0,Ea(this)};function Sd(y){y.S=Date.now()+y.I,$y(y,y.I)}function $y(y,k){if(y.B!=null)throw Error("WatchDog timer not null");y.B=co(f(y.ba,y),k)}function Ed(y){y.B&&(l.clearTimeout(y.B),y.B=null)}Sa.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(NN(this.i,this.A),this.L!=2&&(fn(),mn(17)),Ea(this),this.s=2,hl(this)):$y(this,this.S-y)};function hl(y){y.j.G==0||y.J||VR(y.j,y)}function Ea(y){Ed(y);var k=y.M;k&&typeof k.ma=="function"&&k.ma(),y.M=null,Ts(y.U),y.g&&(k=y.g,y.g=null,k.abort(),k.ma())}function _d(y,k){try{var O=y.j;if(O.G!=0&&(O.g==y||Lm(O.h,y))){if(!y.K&&Lm(O.h,y)&&O.G==3){try{var $=O.Da.g.parse(k)}catch{$=null}if(Array.isArray($)&&$.length==3){var se=$;if(se[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<y.F)Yy(O),Gy(O);else break e;AN(O),mn(18)}}else O.za=se[1],0<O.za-O.T&&37500>se[2]&&O.F&&O.v==0&&!O.C&&(O.C=co(f(O.Za,O),6e3));if(1>=Pr(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Kc(O,11)}else if((y.K||O.g==y)&&Yy(O),!b(k))for(se=O.Da.g.parse(k),k=0;k<se.length;k++){let zt=se[k];if(O.T=zt[0],zt=zt[1],O.G==2)if(zt[0]=="c"){O.K=zt[1],O.ia=zt[2];const Qn=zt[3];Qn!=null&&(O.la=Qn,O.j.info("VER="+O.la));const Xn=zt[4];Xn!=null&&(O.Aa=Xn,O.j.info("SVER="+O.Aa));const Ad=zt[5];Ad!=null&&typeof Ad=="number"&&0<Ad&&($=1.5*Ad,O.L=$,O.j.info("backChannelRequestTimeoutMs_="+$)),$=O;const Hi=y.g;if(Hi){const Xy=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xy){var fe=$.h;fe.g||Xy.indexOf("spdy")==-1&&Xy.indexOf("quic")==-1&&Xy.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Fm(fe,fe.h),fe.h=null))}if($.D){const CN=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;CN&&($.ya=CN,Ee($.I,$.D,CN))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-y.F,O.j.info("Handshake RTT: "+O.R+"ms")),$=O;var Be=y;if($.qa=qR($,$.J?$.ia:null,$.W),Be.K){Vy($.h,Be);var ar=Be,Bn=$.L;Bn&&(ar.I=Bn),ar.B&&(Ed(ar),Sd(ar)),$.g=Be}else LR($);0<O.i.length&&Ky(O)}else zt[0]!="stop"&&zt[0]!="close"||Kc(O,7);else O.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Kc(O,7):PN(O):zt[0]!="noop"&&O.l&&O.l.ta(zt),O.v=0)}}fn(4)}catch{}}var EN=class{constructor(y,k){this.g=y,this.map=k}};function Ly(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fy(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Pr(y){return y.h?1:y.g?y.g.size:0}function Lm(y,k){return y.h?y.h==k:y.g?y.g.has(k):!1}function Fm(y,k){y.g?y.g.add(k):y.h=k}function Vy(y,k){y.h&&y.h==k?y.h=null:y.g&&y.g.has(k)&&y.g.delete(k)}Ly.prototype.cancel=function(){if(this.i=Vm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Vm(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let k=y.i;for(const O of y.g.values())k=k.concat(O.D);return k}return p(y.i)}function By(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(c(y)){for(var k=[],O=y.length,$=0;$<O;$++)k.push(y[$]);return k}k=[],O=0;for($ in y)k[O++]=y[$];return k}function Uy(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(c(y)||typeof y=="string"){var k=[];y=y.length;for(var O=0;O<y;O++)k.push(O);return k}k=[],O=0;for(const $ in y)k[O++]=$;return k}}}function Bm(y,k){if(y.forEach&&typeof y.forEach=="function")y.forEach(k,void 0);else if(c(y)||typeof y=="string")Array.prototype.forEach.call(y,k,void 0);else for(var O=Uy(y),$=By(y),se=$.length,fe=0;fe<se;fe++)k.call(void 0,$[fe],O&&O[fe],y)}var Um=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qy(y,k){if(y){y=y.split("&");for(var O=0;O<y.length;O++){var $=y[O].indexOf("="),se=null;if(0<=$){var fe=y[O].substring(0,$);se=y[O].substring($+1)}else fe=y[O];k(fe,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function _a(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof _a){this.h=y.h,Se(this,y.j),this.o=y.o,this.g=y.g,we(this,y.s),this.l=y.l;var k=y.i,O=new Cs;O.i=k.i,k.g&&(O.g=new Map(k.g),O.h=k.h),Ae(this,O),this.m=y.m}else y&&(k=String(y).match(Um))?(this.h=!1,Se(this,k[1]||"",!0),this.o=be(k[2]||""),this.g=be(k[3]||"",!0),we(this,k[4]),this.l=be(k[5]||"",!0),Ae(this,k[6]||"",!0),this.m=be(k[7]||"")):(this.h=!1,this.i=new Cs(null,this.h))}_a.prototype.toString=function(){var y=[],k=this.j;k&&y.push(We(k,rt,!0),":");var O=this.g;return(O||k=="file")&&(y.push("//"),(k=this.o)&&y.push(We(k,rt,!0),"@"),y.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&y.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&y.push("/"),y.push(We(O,O.charAt(0)=="/"?at:it,!0))),(O=this.i.toString())&&y.push("?",O),(O=this.m)&&y.push("#",We(O,Vn)),y.join("")};function ee(y){return new _a(y)}function Se(y,k,O){y.j=O?be(k,!0):k,y.j&&(y.j=y.j.replace(/:$/,""))}function we(y,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);y.s=k}else y.s=null}function Ae(y,k,O){k instanceof Cs?(y.i=k,xJ(y.i,y.h)):(O||(k=We(k,ur)),y.i=new Cs(k,y.h))}function Ee(y,k,O){y.i.set(k,O)}function Le(y){return Ee(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function be(y,k){return y?k?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function We(y,k,O){return typeof y=="string"?(y=encodeURI(y).replace(k,Fe),O&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Fe(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var rt=/[#\/\?@]/g,it=/[#\?:]/g,at=/[#\?]/g,ur=/[#\?@]/g,Vn=/#/g;function Cs(y,k){this.h=this.g=null,this.i=y||null,this.j=!!k}function pn(y){y.g||(y.g=new Map,y.h=0,y.i&&qy(y.i,function(k,O){y.add(decodeURIComponent(k.replace(/\+/g," ")),O)}))}t=Cs.prototype,t.add=function(y,k){pn(this),this.i=null,y=Pa(this,y);var O=this.g.get(y);return O||this.g.set(y,O=[]),O.push(k),this.h+=1,this};function Pn(y,k){pn(y),k=Pa(y,k),y.g.has(k)&&(y.i=null,y.h-=y.g.get(k).length,y.g.delete(k))}function ks(y,k){return pn(y),k=Pa(y,k),y.g.has(k)}t.forEach=function(y,k){pn(this),this.g.forEach(function(O,$){O.forEach(function(se){y.call(k,se,$,this)},this)},this)},t.na=function(){pn(this);const y=Array.from(this.g.values()),k=Array.from(this.g.keys()),O=[];for(let $=0;$<k.length;$++){const se=y[$];for(let fe=0;fe<se.length;fe++)O.push(k[$])}return O},t.V=function(y){pn(this);let k=[];if(typeof y=="string")ks(this,y)&&(k=k.concat(this.g.get(Pa(this,y))));else{y=Array.from(this.g.values());for(let O=0;O<y.length;O++)k=k.concat(y[O])}return k},t.set=function(y,k){return pn(this),this.i=null,y=Pa(this,y),ks(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[k]),this.h+=1,this},t.get=function(y,k){return y?(y=this.V(y),0<y.length?String(y[0]):k):k};function fl(y,k,O){Pn(y,k),0<O.length&&(y.i=null,y.g.set(Pa(y,k),p(O)),y.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],k=Array.from(this.g.keys());for(var O=0;O<k.length;O++){var $=k[O];const fe=encodeURIComponent(String($)),Be=this.V($);for($=0;$<Be.length;$++){var se=fe;Be[$]!==""&&(se+="="+encodeURIComponent(String(Be[$]))),y.push(se)}}return this.i=y.join("&")};function Pa(y,k){return k=String(k),y.j&&(k=k.toLowerCase()),k}function xJ(y,k){k&&!y.j&&(pn(y),y.i=null,y.g.forEach(function(O,$){var se=$.toLowerCase();$!=se&&(Pn(this,$),fl(this,se,O))},y)),y.j=k}function yJ(y,k){const O=new uo;if(l.Image){const $=new Image;$.onload=m(ml,O,"TestLoadImage: loaded",!0,k,$),$.onerror=m(ml,O,"TestLoadImage: error",!1,k,$),$.onabort=m(ml,O,"TestLoadImage: abort",!1,k,$),$.ontimeout=m(ml,O,"TestLoadImage: timeout",!1,k,$),l.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=y}else k(!1)}function vJ(y,k){const O=new uo,$=new AbortController,se=setTimeout(()=>{$.abort(),ml(O,"TestPingServer: timeout",!1,k)},1e4);fetch(y,{signal:$.signal}).then(fe=>{clearTimeout(se),fe.ok?ml(O,"TestPingServer: ok",!0,k):ml(O,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(se),ml(O,"TestPingServer: error",!1,k)})}function ml(y,k,O,$,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),$(O)}catch{}}function bJ(){this.g=new Re}function wJ(y,k,O){const $=O||"";try{Bm(y,function(se,fe){let Be=se;u(se)&&(Be=re(se)),k.push($+fe+"="+encodeURIComponent(Be))})}catch(se){throw k.push($+"type="+encodeURIComponent("_badmap")),se}}function zy(y){this.l=y.Ub||null,this.j=y.eb||!1}x(zy,_e),zy.prototype.g=function(){return new Wy(this.l,this.j)},zy.prototype.i=function(y){return function(){return y}}({});function Wy(y,k){vt.call(this),this.D=y,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Wy,vt),t=Wy.prototype,t.open=function(y,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=k,this.readyState=1,zm(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(k.body=y),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qm(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,zm(this)),this.g&&(this.readyState=3,zm(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;PR(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function PR(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var k=y.value?y.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!y.done}))&&(this.response=this.responseText+=k)}y.done?qm(this):zm(this),this.readyState==3&&PR(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,qm(this))},t.Qa=function(y){this.g&&(this.response=y,qm(this))},t.ga=function(){this.g&&qm(this)};function qm(y){y.readyState=4,y.l=null,y.j=null,y.v=null,zm(y)}t.setRequestHeader=function(y,k){this.u.append(y,k)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],k=this.h.entries();for(var O=k.next();!O.done;)O=O.value,y.push(O[0]+": "+O[1]),O=k.next();return y.join(`\r
`)};function zm(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Wy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function AR(y){let k="";return C(y,function(O,$){k+=$,k+=":",k+=O,k+=`\r
`}),k}function _N(y,k,O){e:{for($ in O){var $=!1;break e}$=!0}$||(O=AR(O),typeof y=="string"?O!=null&&encodeURIComponent(String(O)):Ee(y,k,O))}function qr(y){vt.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(qr,vt);var jJ=/^https?$/i,NJ=["POST","PUT"];t=qr.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,k,O,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);k=k?k.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dm.g(),this.v=this.o?Ve(this.o):Ve(Dm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(k,String(y),!0),this.B=!1}catch(fe){TR(this,fe);return}if(y=O||"",O=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var se in $)O.set(se,$[se]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const fe of $.keys())O.set(fe,$.get(fe));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(O.keys()).find(fe=>fe.toLowerCase()=="content-type"),se=l.FormData&&y instanceof l.FormData,!(0<=Array.prototype.indexOf.call(NJ,k,void 0))||$||se||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Be]of O)this.g.setRequestHeader(fe,Be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{IR(this),this.u=!0,this.g.send(y),this.u=!1}catch(fe){TR(this,fe)}};function TR(y,k){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=k,y.m=5,CR(y),Hy(y)}function CR(y){y.A||(y.A=!0,Ot(y,"complete"),Ot(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,Ot(this,"complete"),Ot(this,"abort"),Hy(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hy(this,!0)),qr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kR(this):this.bb())},t.bb=function(){kR(this)};function kR(y){if(y.h&&typeof o<"u"&&(!y.v[1]||fo(y)!=4||y.Z()!=2)){if(y.u&&fo(y)==4)rr(y.Ea,0,y);else if(Ot(y,"readystatechange"),fo(y)==4){y.h=!1;try{const Be=y.Z();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var O;if(!(O=k)){var $;if($=Be===0){var se=String(y.D).match(Um)[1]||null;!se&&l.self&&l.self.location&&(se=l.self.location.protocol.slice(0,-1)),$=!jJ.test(se?se.toLowerCase():"")}O=$}if(O)Ot(y,"complete"),Ot(y,"success");else{y.m=6;try{var fe=2<fo(y)?y.g.statusText:""}catch{fe=""}y.l=fe+" ["+y.Z()+"]",CR(y)}}finally{Hy(y)}}}}function Hy(y,k){if(y.g){IR(y);const O=y.g,$=y.v[0]?()=>{}:null;y.g=null,y.v=null,k||Ot(y,"ready");try{O.onreadystatechange=$}catch{}}}function IR(y){y.I&&(l.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function fo(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<fo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var k=this.g.responseText;return y&&k.indexOf(y)==0&&(k=k.substring(y.length)),J(k)}};function RR(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function SJ(y){const k={};y=(y.g&&2<=fo(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<y.length;$++){if(b(y[$]))continue;var O=I(y[$]);const se=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const fe=k[se]||[];k[se]=fe,fe.push(O)}_(k,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wm(y,k,O){return O&&O.internalChannelParams&&O.internalChannelParams[y]||k}function OR(y){this.Aa=0,this.i=[],this.j=new uo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wm("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wm("baseRetryDelayMs",5e3,y),this.cb=Wm("retryDelaySeedMs",1e4,y),this.Wa=Wm("forwardChannelMaxRetries",2,y),this.wa=Wm("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Ly(y&&y.concurrentRequestLimit),this.Da=new bJ,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=OR.prototype,t.la=8,t.G=1,t.connect=function(y,k,O,$){mn(0),this.W=y,this.H=k||{},O&&$!==void 0&&(this.H.OSID=O,this.H.OAID=$),this.F=this.X,this.I=qR(this,null,this.W),Ky(this)};function PN(y){if(DR(y),y.G==3){var k=y.U++,O=ee(y.I);if(Ee(O,"SID",y.K),Ee(O,"RID",k),Ee(O,"TYPE","terminate"),Hm(y,O),k=new Sa(y,y.j,k),k.L=2,k.v=Le(ee(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!O&&l.Image&&(new Image().src=k.v,O=!0),O||(k.g=zR(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Sd(k)}UR(y)}function Gy(y){y.g&&(TN(y),y.g.cancel(),y.g=null)}function DR(y){Gy(y),y.u&&(l.clearTimeout(y.u),y.u=null),Yy(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&l.clearTimeout(y.s),y.s=null)}function Ky(y){if(!Fy(y.h)&&!y.s){y.s=!0;var k=y.Ga;B||K(),D||(B(),D=!0),V.add(k,y),y.B=0}}function EJ(y,k){return Pr(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=k.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=co(f(y.Ga,y,k),BR(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const se=new Sa(this,this.j,y);let fe=this.o;if(this.S&&(fe?(fe=S(fe),T(fe,this.S)):fe=this.S),this.m!==null||this.O||(se.H=fe,fe=null),this.P)e:{for(var k=0,O=0;O<this.i.length;O++){t:{var $=this.i[O];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(k+=$,4096<k){k=O;break e}if(k===4096||O===this.i.length-1){k=O+1;break e}}k=1e3}else k=1e3;k=$R(this,se,k),O=ee(this.I),Ee(O,"RID",y),Ee(O,"CVER",22),this.D&&Ee(O,"X-HTTP-Session-Id",this.D),Hm(this,O),fe&&(this.O?k="headers="+encodeURIComponent(String(AR(fe)))+"&"+k:this.m&&_N(O,this.m,fe)),Fm(this.h,se),this.Ua&&Ee(O,"TYPE","init"),this.P?(Ee(O,"$req",k),Ee(O,"SID","null"),se.T=!0,Mm(se,O,null)):Mm(se,O,k),this.G=2}}else this.G==3&&(y?MR(this,y):this.i.length==0||Fy(this.h)||MR(this))};function MR(y,k){var O;k?O=k.l:O=y.U++;const $=ee(y.I);Ee($,"SID",y.K),Ee($,"RID",O),Ee($,"AID",y.T),Hm(y,$),y.m&&y.o&&_N($,y.m,y.o),O=new Sa(y,y.j,O,y.B+1),y.m===null&&(O.H=y.o),k&&(y.i=k.D.concat(y.i)),k=$R(y,O,1e3),O.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Fm(y.h,O),Mm(O,$,k)}function Hm(y,k){y.H&&C(y.H,function(O,$){Ee(k,$,O)}),y.l&&Bm({},function(O,$){Ee(k,$,O)})}function $R(y,k,O){O=Math.min(y.i.length,O);var $=y.l?f(y.l.Na,y.l,y):null;e:{var se=y.i;let fe=-1;for(;;){const Be=["count="+O];fe==-1?0<O?(fe=se[0].g,Be.push("ofs="+fe)):fe=0:Be.push("ofs="+fe);let ar=!0;for(let Bn=0;Bn<O;Bn++){let zt=se[Bn].g;const Qn=se[Bn].map;if(zt-=fe,0>zt)fe=Math.max(0,se[Bn].g-100),ar=!1;else try{wJ(Qn,Be,"req"+zt+"_")}catch{$&&$(Qn)}}if(ar){$=Be.join("&");break e}}}return y=y.i.splice(0,O),k.D=y,$}function LR(y){if(!y.g&&!y.u){y.Y=1;var k=y.Fa;B||K(),D||(B(),D=!0),V.add(k,y),y.v=0}}function AN(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=co(f(y.Fa,y),BR(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,FR(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=co(f(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),Gy(this),FR(this))};function TN(y){y.A!=null&&(l.clearTimeout(y.A),y.A=null)}function FR(y){y.g=new Sa(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var k=ee(y.qa);Ee(k,"RID","rpc"),Ee(k,"SID",y.K),Ee(k,"AID",y.T),Ee(k,"CI",y.F?"0":"1"),!y.F&&y.ja&&Ee(k,"TO",y.ja),Ee(k,"TYPE","xmlhttp"),Hm(y,k),y.m&&y.o&&_N(k,y.m,y.o),y.L&&(y.g.I=y.L);var O=y.g;y=y.ia,O.L=1,O.v=Le(ee(k)),O.m=null,O.P=!0,ho(O,y)}t.Za=function(){this.C!=null&&(this.C=null,Gy(this),AN(this),mn(19))};function Yy(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function VR(y,k){var O=null;if(y.g==k){Yy(y),TN(y),y.g=null;var $=2}else if(Lm(y.h,k))O=k.D,Vy(y.h,k),$=1;else return;if(y.G!=0){if(k.o)if($==1){O=k.m?k.m.length:0,k=Date.now()-k.F;var se=y.B;$=xi(),Ot($,new ul($,O)),Ky(y)}else LR(y);else if(se=k.s,se==3||se==0&&0<k.X||!($==1&&EJ(y,k)||$==2&&AN(y)))switch(O&&0<O.length&&(k=y.h,k.i=k.i.concat(O)),se){case 1:Kc(y,5);break;case 4:Kc(y,10);break;case 3:Kc(y,6);break;default:Kc(y,2)}}}function BR(y,k){let O=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(O*=2),O*k}function Kc(y,k){if(y.j.info("Error code "+k),k==2){var O=f(y.fb,y),$=y.Xa;const se=!$;$=new _a($||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Se($,"https"),Le($),se?yJ($.toString(),O):vJ($.toString(),O)}else mn(2);y.G=0,y.l&&y.l.sa(k),UR(y),DR(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function UR(y){if(y.G=0,y.ka=[],y.l){const k=Vm(y.h);(k.length!=0||y.i.length!=0)&&(v(y.ka,k),v(y.ka,y.i),y.h.i.length=0,p(y.i),y.i.length=0),y.l.ra()}}function qR(y,k,O){var $=O instanceof _a?ee(O):new _a(O);if($.g!="")k&&($.g=k+"."+$.g),we($,$.s);else{var se=l.location;$=se.protocol,k=k?k+"."+se.hostname:se.hostname,se=+se.port;var fe=new _a(null);$&&Se(fe,$),k&&(fe.g=k),se&&we(fe,se),O&&(fe.l=O),$=fe}return O=y.D,k=y.ya,O&&k&&Ee($,O,k),Ee($,"VER",y.la),Hm(y,$),$}function zR(y,k,O){if(k&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=y.Ca&&!y.pa?new qr(new zy({eb:O})):new qr(y.pa),k.Ha(y.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function WR(){}t=WR.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qy(){}Qy.prototype.g=function(y,k){return new Ks(y,k)};function Ks(y,k){vt.call(this),this.g=new OR(k),this.l=y,this.h=k&&k.messageUrlParams||null,y=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(y?y["X-WebChannel-Content-Type"]=k.messageContentType:y={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(y?y["X-WebChannel-Client-Profile"]=k.va:y={"X-WebChannel-Client-Profile":k.va}),this.g.S=y,(y=k&&k.Sb)&&!b(y)&&(this.g.m=y),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!b(k)&&(this.g.D=k,y=this.h,y!==null&&k in y&&(y=this.h,k in y&&delete y[k])),this.j=new Pd(this)}x(Ks,vt),Ks.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ks.prototype.close=function(){PN(this.g)},Ks.prototype.o=function(y){var k=this.g;if(typeof y=="string"){var O={};O.__data__=y,y=O}else this.u&&(O={},O.__data__=re(y),y=O);k.i.push(new EN(k.Ya++,y)),k.G==3&&Ky(k)},Ks.prototype.N=function(){this.g.l=null,delete this.j,PN(this.g),delete this.g,Ks.aa.N.call(this)};function HR(y){Rt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var k=y.__sm__;if(k){e:{for(const O in k){y=O;break e}y=void 0}(this.i=y)&&(y=this.i,k=k!==null&&y in k?k[y]:void 0),this.data=k}else this.data=y}x(HR,Rt);function GR(){Gt.call(this),this.status=1}x(GR,Gt);function Pd(y){this.g=y}x(Pd,WR),Pd.prototype.ua=function(){Ot(this.g,"a")},Pd.prototype.ta=function(y){Ot(this.g,new HR(y))},Pd.prototype.sa=function(y){Ot(this.g,new GR)},Pd.prototype.ra=function(){Ot(this.g,"b")},Qy.prototype.createWebChannel=Qy.prototype.g,Ks.prototype.send=Ks.prototype.o,Ks.prototype.open=Ks.prototype.m,Ks.prototype.close=Ks.prototype.close,W9=function(){return new Qy},z9=function(){return xi()},q9=Kt,ME={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jd.NO_ERROR=0,jd.TIMEOUT=8,jd.HTTP_ERROR=6,fv=jd,Dy.COMPLETE="complete",U9=Dy,Ce.EventType=st,st.OPEN="a",st.CLOSE="b",st.ERROR="c",st.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Sp=Ce,qr.prototype.listenOnce=qr.prototype.L,qr.prototype.getLastError=qr.prototype.Ka,qr.prototype.getLastErrorCode=qr.prototype.Ba,qr.prototype.getStatus=qr.prototype.Z,qr.prototype.getResponseJson=qr.prototype.Oa,qr.prototype.getResponseText=qr.prototype.oa,qr.prototype.send=qr.prototype.ea,qr.prototype.setWithCredentials=qr.prototype.Ha,B9=qr}).apply(typeof y0<"u"?y0:typeof self<"u"?self:typeof window<"u"?window:{});const FD="@firebase/firestore",VD="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Is.UNAUTHENTICATED=new Is(null),Is.GOOGLE_CREDENTIALS=new Is("google-credentials-uid"),Is.FIRST_PARTY=new Is("first-party-uid"),Is.MOCK_USER=new Is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new TT("@firebase/firestore");function $d(){return Yu.logLevel}function Ke(t,...e){if(Yu.logLevel<=Mt.DEBUG){const r=e.map(zT);Yu.debug(`Firestore (${em}): ${t}`,...r)}}function Wo(t,...e){if(Yu.logLevel<=Mt.ERROR){const r=e.map(zT);Yu.error(`Firestore (${em}): ${t}`,...r)}}function Zh(t,...e){if(Yu.logLevel<=Mt.WARN){const r=e.map(zT);Yu.warn(`Firestore (${em}): ${t}`,...r)}}function zT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,H9(t,n,r)}function H9(t,e,r){let n=`FIRESTORE (${em}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Wo(n),new Error(n)}function Qt(t,e,r,n){let s="Unexpected state";typeof r=="string"?s=r:n=r,t||H9(e,s,n)}function yt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends sl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Is.UNAUTHENTICATED))}shutdown(){}}class Tie{constructor(e){this.t=e,this.currentUser=Is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Qt(this.o===void 0,42304);let n=this.i;const s=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Ro;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ro,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ro)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Qt(typeof n.accessToken=="string",31837,{l:n}),new Aie(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string",2055,{h:e}),new Is(e)}}class Cie{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Is.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kie{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Cie(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iie{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$s(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Qt(this.o===void 0,3512);const n=a=>{a.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const s=a=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Qt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new BD(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=Rie(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<r&&(n+=e.charAt(s[a]%62))}return n}}function $t(t,e){return t<e?-1:t>e?1:0}function $E(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const s=t.charAt(n),a=e.charAt(n);if(s!==a)return f2(s)===f2(a)?$t(s,a):f2(s)?1:-1}return $t(t.length,e.length)}const Oie=55296,Die=57343;function f2(t){const e=t.charCodeAt(0);return e>=Oie&&e<=Die}function ef(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="__name__";class Ca{constructor(e,r,n){r===void 0?r=0:r>e.length&&ot(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ot(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ca.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ca?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const a=Ca.compareSegments(e.get(s),r.get(s));if(a!==0)return a}return $t(e.length,r.length)}static compareSegments(e,r){const n=Ca.isNumericId(e),s=Ca.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?Ca.extractNumericId(e).compare(Ca.extractNumericId(r)):$E(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ac.fromString(e.substring(4,e.length-2))}}class gr extends Ca{construct(e,r,n){return new gr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ze(pe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new gr(r)}static emptyPath(){return new gr([])}}const Mie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends Ca{construct(e,r,n){return new Dn(e,r,n)}static isValidIdentifier(e){return Mie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UD}static keyField(){return new Dn([UD])}static fromServerFormat(e){const r=[];let n="",s=0;const a=()=>{if(n.length===0)throw new ze(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ze(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ze(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(n+=l,s++):(a(),s++)}if(a(),o)throw new ze(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(r)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.path=e}static fromPath(e){return new tt(gr.fromString(e))}static fromName(e){return new tt(gr.fromString(e).popFirst(5))}static empty(){return new tt(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return gr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new gr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t,e,r){if(!r)throw new ze(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y9(t,e,r,n){if(e===!0&&n===!0)throw new ze(pe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function qD(t){if(!tt.isDocumentKey(t))throw new ze(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zD(t){if(tt.isDocumentKey(t))throw new ze(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Q9(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function x1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot(12329,{type:typeof t})}function Ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ze(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=x1(t);throw new ze(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function $ie(t,e){if(e<=0)throw new ze(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,e){const r={typeString:t};return e&&(r.value=e),r}function Yx(t,e){if(!Q9(t))throw new ze(pe.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const s=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(s&&typeof o!==s){r=`JSON field '${n}' must be a ${s}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new ze(pe.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=-62135596800,HD=1e6;class or{static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*HD);return new or(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ze(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ze(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<WD)throw new ze(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HD}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:or._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yx(e,or._jsonSchema))return new or(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}or._jsonSchemaVersion="firestore/timestamp/1.0",or._jsonSchema={type:cn("string",or._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new or(0,0))}static max(){return new gt(new or(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=-1;function Lie(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=gt.fromTimestamp(n===1e9?new or(r+1,0):new or(r,n));return new pc(s,tt.empty(),e)}function Fie(t){return new pc(t.readTime,t.key,Ig)}class pc{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new pc(gt.min(),tt.empty(),Ig)}static max(){return new pc(gt.max(),tt.empty(),Ig)}}function Vie(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=tt.comparator(t.documentKey,e.documentKey),r!==0?r:$t(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==Bie)throw t;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new je((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof je?r:je.resolve(r)}catch(r){return je.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):je.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):je.reject(r)}static resolve(e){return new je((r,n)=>{r(e)})}static reject(e){return new je((r,n)=>{n(e)})}static waitFor(e){return new je((r,n)=>{let s=0,a=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++a,o&&a===s&&r()},c=>n(c))}),o=!0,a===s&&r()})}static or(e){let r=je.resolve(!1);for(const n of e)r=r.next(s=>s?je.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,a)=>{n.push(r.call(this,s,a))}),this.waitFor(n)}static mapArray(e,r){return new je((n,s)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++l,l===a&&n(o)},d=>s(d))}})}static doWhile(e,r){return new je((n,s)=>{const a=()=>{e()===!0?r().next(()=>{a()},s):n()};a()})}}function qie(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function rm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}y1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=-1;function v1(t){return t==null}function cb(t){return t===0&&1/t==-1/0}function zie(t){return typeof t=="number"&&Number.isInteger(t)&&!cb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="";function Wie(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=GD(e)),e=Hie(t.get(r),e);return GD(e)}function Hie(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const a=t.charAt(s);switch(a){case"\0":r+="";break;case X9:r+="";break;default:r+=a}}return r}function GD(t){return t+X9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ic(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function J9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,r){this.comparator=e,this.root=r||Wn.EMPTY}insert(e,r){return new Ur(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new Ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new v0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new v0(this.root,e,this.comparator,!1)}getReverseIterator(){return new v0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new v0(this.root,e,this.comparator,!0)}}class v0{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,r,n,s,a){this.key=e,this.value=r,this.color=n??Wn.RED,this.left=s??Wn.EMPTY,this.right=a??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,a){return new Wn(e??this.key,r??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const a=n(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,r,n),null):a===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return Wn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ot(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ot(27949);return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw ot(57766)}get value(){throw ot(16141)}get color(){throw ot(16727)}get left(){throw ot(29726)}get right(){throw ot(36894)}copy(e,r,n,s,a){return this}insert(e,r,n){return new Wn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new Ur(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new YD(this.data.getIterator())}getIteratorFrom(e){return new YD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Sn(this.comparator);return r.data=e,r}}class YD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new ai([])}unionWith(e){let r=new Sn(Dn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ai(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ef(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Z9("Invalid base64 string: "+a):a}}(e);return new $n(r)}static fromUint8Array(e){const r=function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a}(e);return new $n(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const Gie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gc(t){if(Qt(!!t,39018),typeof t=="string"){let e=0;const r=Gie.exec(t);if(Qt(!!r,46558,{timestamp:t}),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Yr(t.seconds),nanos:Yr(t.nanos)}}function Yr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xc(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="server_timestamp",tB="__type__",rB="__previous_value__",nB="__local_write_time__";function HT(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[tB])==null?void 0:n.stringValue)===eB}function b1(t){const e=t.mapValue.fields[rB];return HT(e)?b1(e):e}function Rg(t){const e=gc(t.mapValue.fields[nB].timestampValue);return new or(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kie{constructor(e,r,n,s,a,o,l,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const ub="(default)";class tf{constructor(e,r){this.projectId=e,this.database=r||ub}static empty(){return new tf("","")}get isDefaultDatabase(){return this.database===ub}isEqual(e){return e instanceof tf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB="__type__",iB="__max__",b0={mapValue:{fields:{__type__:{stringValue:iB}}}},aB="__vector__",db="value";function yc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?HT(t)?4:Qie(t)?9007199254740991:Yie(t)?10:11:ot(28295,{value:t})}function Ja(t,e){if(t===e)return!0;const r=yc(t);if(r!==yc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rg(t).isEqual(Rg(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=gc(s.timestampValue),l=gc(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return xc(s.bytesValue).isEqual(xc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Yr(s.geoPointValue.latitude)===Yr(a.geoPointValue.latitude)&&Yr(s.geoPointValue.longitude)===Yr(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Yr(s.integerValue)===Yr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=Yr(s.doubleValue),l=Yr(a.doubleValue);return o===l?cb(o)===cb(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ef(t.arrayValue.values||[],e.arrayValue.values||[],Ja);case 10:case 11:return function(s,a){const o=s.mapValue.fields||{},l=a.mapValue.fields||{};if(KD(o)!==KD(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ja(o[c],l[c])))return!1;return!0}(t,e);default:return ot(52216,{left:t})}}function Og(t,e){return(t.values||[]).find(r=>Ja(r,e))!==void 0}function rf(t,e){if(t===e)return 0;const r=yc(t),n=yc(e);if(r!==n)return $t(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return $t(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=Yr(a.integerValue||a.doubleValue),c=Yr(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return QD(t.timestampValue,e.timestampValue);case 4:return QD(Rg(t),Rg(e));case 5:return $E(t.stringValue,e.stringValue);case 6:return function(a,o){const l=xc(a),c=xc(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=$t(l[u],c[u]);if(d!==0)return d}return $t(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=$t(Yr(a.latitude),Yr(o.latitude));return l!==0?l:$t(Yr(a.longitude),Yr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XD(t.arrayValue,e.arrayValue);case 10:return function(a,o){var f,m,x,p;const l=a.fields||{},c=o.fields||{},u=(f=l[db])==null?void 0:f.arrayValue,d=(m=c[db])==null?void 0:m.arrayValue,h=$t(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((p=d==null?void 0:d.values)==null?void 0:p.length)||0);return h!==0?h:XD(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===b0.mapValue&&o===b0.mapValue)return 0;if(a===b0.mapValue)return 1;if(o===b0.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=$E(c[h],d[h]);if(f!==0)return f;const m=rf(l[c[h]],u[d[h]]);if(m!==0)return m}return $t(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ot(23264,{he:r})}}function QD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $t(t,e);const r=gc(t),n=gc(e),s=$t(r.seconds,n.seconds);return s!==0?s:$t(r.nanos,n.nanos)}function XD(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const a=rf(r[s],n[s]);if(a)return a}return $t(r.length,n.length)}function nf(t){return LE(t)}function LE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=gc(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return xc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return tt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const a of r.values||[])s?s=!1:n+=",",n+=LE(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const o of n)a?a=!1:s+=",",s+=`${o}:${LE(r.fields[o])}`;return s+"}"}(t.mapValue):ot(61005,{value:t})}function mv(t){switch(yc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=b1(t);return e?16+mv(e):16;case 5:return 2*t.stringValue.length;case 6:return xc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,a)=>s+mv(a),0)}(t.arrayValue);case 10:case 11:return function(n){let s=0;return Ic(n.fields,(a,o)=>{s+=a.length+mv(o)}),s}(t.mapValue);default:throw ot(13486,{value:t})}}function JD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function FE(t){return!!t&&"integerValue"in t}function GT(t){return!!t&&"arrayValue"in t}function ZD(t){return!!t&&"nullValue"in t}function eM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pv(t){return!!t&&"mapValue"in t}function Yie(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[sB])==null?void 0:n.stringValue)===aB}function zp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ic(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=zp(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=zp(t.arrayValue.values[r]);return e}return{...t}}function Qie(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.value=e}static empty(){return new Ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!pv(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=zp(r)}setAll(e){let r=Dn.emptyPath(),n={},s=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,s),n={},s=[],r=l.popLast()}o?n[l.lastSegment()]=zp(o):s.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,s)}delete(e){const r=this.field(e.popLast());pv(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ja(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];pv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Ic(r,(s,a)=>e[s]=a);for(const s of n)delete e[s]}clone(){return new Ls(zp(this.value))}}function oB(t){const e=[];return Ic(t.fields,(r,n)=>{const s=new Dn([r]);if(pv(n)){const a=oB(n.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)}),new ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,r,n,s,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new is(e,0,gt.min(),gt.min(),gt.min(),Ls.empty(),0)}static newFoundDocument(e,r,n,s){return new is(e,1,r,gt.min(),n,s,0)}static newNoDocument(e,r){return new is(e,2,r,gt.min(),gt.min(),Ls.empty(),0)}static newUnknownDocument(e,r){return new is(e,3,r,gt.min(),gt.min(),Ls.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,r){this.position=e,this.inclusive=r}}function tM(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const a=e[s],o=t.position[s];if(a.field.isKeyField()?n=tt.comparator(tt.fromName(o.referenceValue),r.key):n=rf(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function rM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ja(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,r="asc"){this.field=e,this.dir=r}}function Xie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lB=class{};class on extends lB{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Zie(e,r,n):r==="array-contains"?new rae(e,n):r==="in"?new nae(e,n):r==="not-in"?new sae(e,n):r==="array-contains-any"?new iae(e,n):new on(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new eae(e,n):new tae(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(rf(r,this.value)):r!==null&&yc(this.value)===yc(r)&&this.matchesComparison(rf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pa extends lB{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new pa(e,r)}matches(e){return cB(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cB(t){return t.op==="and"}function uB(t){return Jie(t)&&cB(t)}function Jie(t){for(const e of t.filters)if(e instanceof pa)return!1;return!0}function VE(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+nf(t.value);if(uB(t))return t.filters.map(e=>VE(e)).join(",");{const e=t.filters.map(r=>VE(r)).join(",");return`${t.op}(${e})`}}function dB(t,e){return t instanceof on?function(n,s){return s instanceof on&&n.op===s.op&&n.field.isEqual(s.field)&&Ja(n.value,s.value)}(t,e):t instanceof pa?function(n,s){return s instanceof pa&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((a,o,l)=>a&&dB(o,s.filters[l]),!0):!1}(t,e):void ot(19439)}function hB(t){return t instanceof on?function(r){return`${r.field.canonicalString()} ${r.op} ${nf(r.value)}`}(t):t instanceof pa?function(r){return r.op.toString()+" {"+r.getFilters().map(hB).join(" ,")+"}"}(t):"Filter"}class Zie extends on{constructor(e,r,n){super(e,r,n),this.key=tt.fromName(n.referenceValue)}matches(e){const r=tt.comparator(e.key,this.key);return this.matchesComparison(r)}}class eae extends on{constructor(e,r){super(e,"in",r),this.keys=fB("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class tae extends on{constructor(e,r){super(e,"not-in",r),this.keys=fB("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function fB(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>tt.fromName(n.referenceValue))}class rae extends on{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return GT(r)&&Og(r.arrayValue,this.value)}}class nae extends on{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Og(this.value.arrayValue,r)}}class sae extends on{constructor(e,r){super(e,"not-in",r)}matches(e){if(Og(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Og(this.value.arrayValue,r)}}class iae extends on{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!GT(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Og(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(e,r=null,n=[],s=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function nM(t,e=null,r=[],n=[],s=null,a=null,o=null){return new aae(t,e,r,n,s,a,o)}function KT(t){const e=yt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>VE(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),v1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>nf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>nf(n)).join(",")),e.Te=r}return e.Te}function YT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Xie(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!dB(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rM(t.startAt,e.startAt)&&rM(t.endAt,e.endAt)}function BE(t){return tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,r=null,n=[],s=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oae(t,e,r,n,s,a,o,l){return new nm(t,e,r,n,s,a,o,l)}function w1(t){return new nm(t)}function sM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mB(t){return t.collectionGroup!==null}function Wp(t){const e=yt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Sn(Dn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Dg(a,n))}),r.has(Dn.keyField().canonicalString())||e.Ie.push(new Dg(Dn.keyField(),n))}return e.Ie}function qa(t){const e=yt(t);return e.Ee||(e.Ee=lae(e,Wp(t))),e.Ee}function lae(t,e){if(t.limitType==="F")return nM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Dg(s.field,a)});const r=t.endAt?new hb(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new hb(t.startAt.position,t.startAt.inclusive):null;return nM(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function UE(t,e){const r=t.filters.concat([e]);return new nm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function fb(t,e,r){return new nm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function j1(t,e){return YT(qa(t),qa(e))&&t.limitType===e.limitType}function pB(t){return`${KT(qa(t))}|lt:${t.limitType}`}function Ld(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>hB(s)).join(", ")}]`),v1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>nf(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>nf(s)).join(",")),`Target(${n})`}(qa(t))}; limitType=${t.limitType})`}function N1(t,e){return e.isFoundDocument()&&function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):tt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,s){for(const a of Wp(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,l,c){const u=tM(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,Wp(n),s)||n.endAt&&!function(o,l,c){const u=tM(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,Wp(n),s))}(t,e)}function cae(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gB(t){return(e,r)=>{let n=!1;for(const s of Wp(t)){const a=uae(s,e,r);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function uae(t,e,r){const n=t.field.isKeyField()?tt.comparator(e.key,r.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?rf(c,u):ot(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ot(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ic(this.inner,(r,n)=>{for(const[s,a]of n)e(s,a)})}isEmpty(){return J9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dae=new Ur(tt.comparator);function Ho(){return dae}const xB=new Ur(tt.comparator);function Ep(...t){let e=xB;for(const r of t)e=e.insert(r.key,r);return e}function yB(t){let e=xB;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function mu(){return Hp()}function vB(){return Hp()}function Hp(){return new dd(t=>t.toString(),(t,e)=>t.isEqual(e))}const hae=new Ur(tt.comparator),fae=new Sn(tt.comparator);function Lt(...t){let e=fae;for(const r of t)e=e.add(r);return e}const mae=new Sn($t);function pae(){return mae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cb(e)?"-0":e}}function bB(t){return{integerValue:""+t}}function wB(t,e){return zie(e)?bB(e):QT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this._=void 0}}function gae(t,e,r){return t instanceof Mg?function(s,a){const o={fields:{[tB]:{stringValue:eB},[nB]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&HT(a)&&(a=b1(a)),a&&(o.fields[rB]=a),{mapValue:o}}(r,e):t instanceof sf?NB(t,e):t instanceof af?SB(t,e):function(s,a){const o=jB(s,a),l=iM(o)+iM(s.Ae);return FE(o)&&FE(s.Ae)?bB(l):QT(s.serializer,l)}(t,e)}function xae(t,e,r){return t instanceof sf?NB(t,e):t instanceof af?SB(t,e):r}function jB(t,e){return t instanceof $g?function(n){return FE(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Mg extends S1{}class sf extends S1{constructor(e){super(),this.elements=e}}function NB(t,e){const r=EB(e);for(const n of t.elements)r.some(s=>Ja(s,n))||r.push(n);return{arrayValue:{values:r}}}class af extends S1{constructor(e){super(),this.elements=e}}function SB(t,e){let r=EB(e);for(const n of t.elements)r=r.filter(s=>!Ja(s,n));return{arrayValue:{values:r}}}class $g extends S1{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function iM(t){return Yr(t.integerValue||t.doubleValue)}function EB(t){return GT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,r){this.field=e,this.transform=r}}function yae(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof sf&&s instanceof sf||n instanceof af&&s instanceof af?ef(n.elements,s.elements,Ja):n instanceof $g&&s instanceof $g?Ja(n.Ae,s.Ae):n instanceof Mg&&s instanceof Mg}(t.transform,e.transform)}class vae{constructor(e,r){this.version=e,this.transformResults=r}}class Ss{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let _1=class{};function _B(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P1(t.key,Ss.none()):new Qx(t.key,t.data,Ss.none());{const r=t.data,n=Ls.empty();let s=new Sn(Dn.comparator);for(let a of e.fields)if(!s.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),s=s.add(a)}return new Rc(t.key,n,new ai(s.toArray()),Ss.none())}}function bae(t,e,r){t instanceof Qx?function(s,a,o){const l=s.value.clone(),c=oM(s.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Rc?function(s,a,o){if(!gv(s.precondition,a))return void a.convertToUnknownDocument(o.version);const l=oM(s.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(PB(s)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Gp(t,e,r,n){return t instanceof Qx?function(a,o,l,c){if(!gv(a.precondition,o))return l;const u=a.value.clone(),d=lM(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Rc?function(a,o,l,c){if(!gv(a.precondition,o))return l;const u=lM(a.fieldTransforms,c,o),d=o.data;return d.setAll(PB(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(a,o,l){return gv(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function wae(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),a=jB(n.transform,s||null);a!=null&&(r===null&&(r=Ls.empty()),r.set(n.field,a))}return r||null}function aM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&ef(n,s,(a,o)=>yae(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qx extends _1{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rc extends _1{constructor(e,r,n,s,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PB(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function oM(t,e,r){const n=new Map;Qt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let s=0;s<r.length;s++){const a=t[s],o=a.transform,l=e.data.field(a.field);n.set(a.field,xae(o,l,r[s]))}return n}function lM(t,e,r){const n=new Map;for(const s of t){const a=s.transform,o=r.data.field(s.field);n.set(s.field,gae(a,o,e))}return n}class P1 extends _1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jae extends _1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nae{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&bae(a,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Gp(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Gp(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=vB();return this.mutations.forEach(s=>{const a=e.get(s.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(s.key)?null:l;const c=_B(o,l);c!==null&&n.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(gt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Lt())}isEqual(e){return this.batchId===e.batchId&&ef(this.mutations,e.mutations,(r,n)=>aM(r,n))&&ef(this.baseMutations,e.baseMutations,(r,n)=>aM(r,n))}}class XT{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){Qt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=function(){return hae}();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,n[o].version);return new XT(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sae=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eae{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,Ft;function _ae(t){switch(t){case pe.OK:return ot(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return ot(15467,{code:t})}}function AB(t){if(t===void 0)return Wo("GRPC error has no .code"),pe.UNKNOWN;switch(t){case en.OK:return pe.OK;case en.CANCELLED:return pe.CANCELLED;case en.UNKNOWN:return pe.UNKNOWN;case en.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case en.INTERNAL:return pe.INTERNAL;case en.UNAVAILABLE:return pe.UNAVAILABLE;case en.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case en.NOT_FOUND:return pe.NOT_FOUND;case en.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case en.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case en.ABORTED:return pe.ABORTED;case en.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case en.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case en.DATA_LOSS:return pe.DATA_LOSS;default:return ot(39323,{code:t})}}(Ft=en||(en={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aae=new ac([4294967295,4294967295],0);function cM(t){const e=Pae().encode(t),r=new V9;return r.update(e),new Uint8Array(r.digest())}function uM(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ac([r,n],0),new ac([s,a],0)]}class JT{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new _p(`Invalid padding: ${r}`);if(n<0)throw new _p(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new _p(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new _p(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=ac.fromNumber(this.ge)}ye(e,r,n){let s=e.add(r.multiply(ac.fromNumber(n)));return s.compare(Aae)===1&&(s=new ac([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=cM(e),[n,s]=uM(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,s,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new JT(a,s,r);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const r=cM(e),[n,s]=uM(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,s,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class _p extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,r,n,s,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,Xx.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new A1(gt.min(),s,new Ur($t),Ho(),Lt())}}class Xx{constructor(e,r,n,s,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Xx(n,r,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,r,n,s){this.be=e,this.removedTargetIds=r,this.key=n,this.De=s}}class TB{constructor(e,r){this.targetId=e,this.Ce=r}}class CB{constructor(e,r,n=$n.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class dM{constructor(){this.ve=0,this.Fe=hM(),this.Me=$n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),r=Lt(),n=Lt();return this.Fe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:ot(38017,{changeType:a})}}),new Xx(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=hM()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Tae{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ho(),this.Je=w0(),this.He=w0(),this.Ye=new Ur($t)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:ot(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,s)=>{this.rt(s)&&r(s)})}st(e){const r=e.targetId,n=e.Ce.count,s=this.ot(r);if(s){const a=s.target;if(BE(a))if(n===0){const o=new tt(a.path);this.et(r,o,is.newNoDocument(o,gt.min()))}else Qt(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=r;let o,l;try{o=xc(n).toUint8Array()}catch(c){if(c instanceof Z9)return Zh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new JT(o,s,a)}catch(c){return Zh(c instanceof _p?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let s=0;return n.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),s++)}),s}Tt(e){const r=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&BE(l.target)){const c=new tt(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,is.newNoDocument(c,e))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=Lt();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const s=new A1(e,r,this.Ye,this.je,n);return this.je=Ho(),this.Je=w0(),this.He=w0(),this.Ye=new Ur($t),s}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,r)?s.Qe(r,1):s.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new dM,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Sn($t),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Sn($t),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Ke("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dM),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function w0(){return new Ur(tt.comparator)}function hM(){return new Ur(tt.comparator)}const Cae={asc:"ASCENDING",desc:"DESCENDING"},kae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iae={and:"AND",or:"OR"};class Rae{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function qE(t,e){return t.useProto3Json||v1(e)?e:{value:e}}function mb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Oae(t,e){return mb(t,e.toTimestamp())}function za(t){return Qt(!!t,49232),gt.fromTimestamp(function(r){const n=gc(r);return new or(n.seconds,n.nanos)}(t))}function ZT(t,e){return zE(t,e).canonicalString()}function zE(t,e){const r=function(s){return new gr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function IB(t){const e=gr.fromString(t);return Qt($B(e),10190,{key:e.toString()}),e}function WE(t,e){return ZT(t.databaseId,e.path)}function m2(t,e){const r=IB(e);if(r.get(1)!==t.databaseId.projectId)throw new ze(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ze(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new tt(OB(r))}function RB(t,e){return ZT(t.databaseId,e)}function Dae(t){const e=IB(t);return e.length===4?gr.emptyPath():OB(e)}function HE(t){return new gr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OB(t){return Qt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fM(t,e,r){return{name:WE(t,e),fields:r.value.mapValue.fields}}function Mae(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ot(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Qt(d===void 0||typeof d=="string",58123),$n.fromBase64String(d||"")):(Qt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),$n.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?pe.UNKNOWN:AB(u.code);return new ze(d,u.message||"")}(o);r=new CB(n,s,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=m2(t,n.document.name),a=za(n.document.updateTime),o=n.document.createTime?za(n.document.createTime):gt.min(),l=new Ls({mapValue:{fields:n.document.fields}}),c=is.newFoundDocument(s,a,o,l),u=n.targetIds||[],d=n.removedTargetIds||[];r=new xv(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=m2(t,n.document),a=n.readTime?za(n.readTime):gt.min(),o=is.newNoDocument(s,a),l=n.removedTargetIds||[];r=new xv([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=m2(t,n.document),a=n.removedTargetIds||[];r=new xv([],a,s,null)}else{if(!("filter"in e))return ot(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,o=new Eae(s,a),l=n.targetId;r=new TB(l,o)}}return r}function $ae(t,e){let r;if(e instanceof Qx)r={update:fM(t,e.key,e.value)};else if(e instanceof P1)r={delete:WE(t,e.key)};else if(e instanceof Rc)r={update:fM(t,e.key,e.data),updateMask:Hae(e.fieldMask)};else{if(!(e instanceof jae))return ot(16599,{Vt:e.type});r={verify:WE(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const l=o.transform;if(l instanceof Mg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof af)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof $g)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ot(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:Oae(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ot(27497)}(t,e.precondition)),r}function Lae(t,e){return t&&t.length>0?(Qt(e!==void 0,14353),t.map(r=>function(s,a){let o=s.updateTime?za(s.updateTime):za(a);return o.isEqual(gt.min())&&(o=za(a)),new vae(o,s.transformResults||[])}(r,e))):[]}function Fae(t,e){return{documents:[RB(t,e.path)]}}function Vae(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=RB(t,s);const a=function(u){if(u.length!==0)return MB(pa.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Fd(f.field),direction:qae(f.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=qE(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:s}}function Bae(t){let e=Dae(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){Qt(n===1,65062);const d=r.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(h){const f=DB(h);return f instanceof pa&&uB(f)?f.getFilters():[f]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(f=>function(x){return new Dg(Vd(x.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(f))}(r.orderBy));let l=null;r.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,v1(f)?null:f}(r.limit));let c=null;r.startAt&&(c=function(h){const f=!!h.before,m=h.values||[];return new hb(m,f)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new hb(m,f)}(r.endAt)),oae(e,s,o,a,l,"F",c,u)}function Uae(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot(28987,{purpose:s})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function DB(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Vd(r.unaryFilter.field);return on.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Vd(r.unaryFilter.field);return on.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Vd(r.unaryFilter.field);return on.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vd(r.unaryFilter.field);return on.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ot(61313);default:return ot(60726)}}(t):t.fieldFilter!==void 0?function(r){return on.create(Vd(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ot(58110);default:return ot(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return pa.create(r.compositeFilter.filters.map(n=>DB(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ot(1026)}}(r.compositeFilter.op))}(t):ot(30097,{filter:t})}function qae(t){return Cae[t]}function zae(t){return kae[t]}function Wae(t){return Iae[t]}function Fd(t){return{fieldPath:t.canonicalString()}}function Vd(t){return Dn.fromServerFormat(t.fieldPath)}function MB(t){return t instanceof on?function(r){if(r.op==="=="){if(eM(r.value))return{unaryFilter:{field:Fd(r.field),op:"IS_NAN"}};if(ZD(r.value))return{unaryFilter:{field:Fd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(eM(r.value))return{unaryFilter:{field:Fd(r.field),op:"IS_NOT_NAN"}};if(ZD(r.value))return{unaryFilter:{field:Fd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fd(r.field),op:zae(r.op),value:r.value}}}(t):t instanceof pa?function(r){const n=r.getFilters().map(s=>MB(s));return n.length===1?n[0]:{compositeFilter:{op:Wae(r.op),filters:n}}}(t):ot(54877,{filter:t})}function Hae(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function $B(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,r,n,s,a=gt.min(),o=gt.min(),l=$n.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{constructor(e){this.yt=e}}function Kae(t){const e=Bae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yae{constructor(){this.Cn=new Qae}addToCollectionParentIndex(e,r){return this.Cn.add(r),je.resolve()}getCollectionParents(e,r){return je.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return je.resolve()}deleteFieldIndex(e,r){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,r){return je.resolve()}getDocumentsMatchingTarget(e,r){return je.resolve(null)}getIndexType(e,r){return je.resolve(0)}getFieldIndexes(e,r){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,r){return je.resolve(pc.min())}getMinOffsetFromCollectionGroup(e,r){return je.resolve(pc.min())}updateCollectionGroup(e,r,n){return je.resolve()}updateIndexEntries(e,r){return je.resolve()}}class Qae{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new Sn(gr.comparator),a=!s.has(n);return this.index[r]=s.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Sn(gr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LB=41943040;class Rs{static withCacheSize(e){return new Rs(e,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(LB,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new of(0)}static cr(){return new of(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="LruGarbageCollector",FB=1048576;function gM([t,e],[r,n]){const s=$t(t,r);return s===0?$t(e,n):s}class Xae{constructor(e){this.Ir=e,this.buffer=new Sn(gM),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();gM(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Jae{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ke(pM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){rm(r)?Ke(pM,"Ignoring IndexedDB error during garbage collection: ",r):await tm(r)}await this.Vr(3e5)})}}class Zae{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return je.resolve(y1.ce);const n=new Xae(r);return this.mr.forEachTarget(e,s=>n.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>n.Ar(s))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(mM)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mM):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,s,a,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(n=h,l=Date.now(),this.removeTargets(e,n,r))).next(h=>(a=h,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),$d()<=Mt.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:h})))}}function eoe(t,e){return new Zae(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class toe{constructor(){this.changes=new dd(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,is.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?je.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&Gp(n.mutation,s,ai.empty(),or.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Lt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Lt()){const s=mu();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(a=>{let o=Ep();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=mu();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Lt()))}populateOverlays(e,r,n){const s=[];return n.forEach(a=>{r.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,s){let a=Ho();const o=Hp(),l=function(){return Hp()}();return r.forEach((c,u)=>{const d=n.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Rc)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Gp(d.mutation,u,d.mutation.getFieldMask(),or.now())):o.set(u.key,ai.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>l.set(u,new roe(d,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,r){const n=Hp();let s=new Ur((o,l)=>o-l),a=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||ai.empty();d=l.applyToLocalView(u,d),n.set(c,d);const h=(s.get(l.batchId)||Lt()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=vB();d.forEach(f=>{if(!a.has(f)){const m=_B(r.get(f),n.get(f));m!==null&&h.set(f,m),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return je.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return tt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):mB(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-a.size):je.resolve(mu());let l=Ig,c=a;return o.next(u=>je.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),a.get(d)?je.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,Lt())).next(d=>({batchId:l,changes:yB(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new tt(r)).next(n=>{let s=Ep();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const a=r.collectionGroup;let o=Ep();return this.indexManager.getCollectionParents(e,a).next(l=>je.forEach(l,c=>{const u=function(h,f){return new nm(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,s))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,is.newInvalidDocument(d)))});let l=Ep();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&Gp(d.mutation,u,ai.empty(),or.now()),N1(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class soe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return je.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:za(s.createTime)}}(r)),je.resolve()}getNamedQuery(e,r){return je.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(s){return{name:s.name,query:Kae(s.bundledQuery),readTime:za(s.readTime)}}(r)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ioe{constructor(){this.overlays=new Ur(tt.comparator),this.qr=new Map}getOverlay(e,r){return je.resolve(this.overlays.get(r))}getOverlays(e,r){const n=mu();return je.forEach(r,s=>this.getOverlay(e,s).next(a=>{a!==null&&n.set(s,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,a)=>{this.St(e,r,a)}),je.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),je.resolve()}getOverlaysForCollection(e,r,n){const s=mu(),a=r.length+1,o=new tt(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&s.set(c.getKey(),c)}return je.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let a=new Ur((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=mu(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=mu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return je.resolve(l)}St(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Sae(r,n));let a=this.qr.get(r);a===void 0&&(a=Lt(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{constructor(){this.sessionToken=$n.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.Qr=new Sn(Tn.$r),this.Ur=new Sn(Tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Tn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Tn(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new tt(new gr([])),n=new Tn(r,e),s=new Tn(r,e+1),a=[];return this.Ur.forEachInRange([n,s],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new tt(new gr([])),n=new Tn(r,e),s=new Tn(r,e+1);let a=Lt();return this.Ur.forEachInRange([n,s],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Tn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Tn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return tt.comparator(e.key,r.key)||$t(e.Yr,r.Yr)}static Kr(e,r){return $t(e.Yr,r.Yr)||tt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ooe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Sn(Tn.$r)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Nae(a,r,n,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new Tn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return je.resolve(o)}lookupMutationBatch(e,r){return je.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.ei(n),a=s<0?0:s;return je.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?WT:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Tn(r,0),s=new Tn(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,s],o=>{const l=this.Xr(o.Yr);a.push(l)}),je.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Sn($t);return r.forEach(s=>{const a=new Tn(s,0),o=new Tn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{n=n.add(l.Yr)})}),je.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let a=n;tt.isDocumentKey(a)||(a=a.child(""));const o=new Tn(new tt(a),0);let l=new Sn($t);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},o),je.resolve(this.ti(l))}ti(e){const r=[];return e.forEach(n=>{const s=this.Xr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){Qt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return je.forEach(r.mutations,s=>{const a=new Tn(s.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Tn(r,0),s=this.Zr.firstAfterOrEqual(n);return je.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class loe{constructor(e){this.ri=e,this.docs=function(){return new Ur(tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),a=s?s.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return je.resolve(n?n.document.mutableCopy():is.newInvalidDocument(r))}getEntries(e,r){let n=Ho();return r.forEach(s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():is.newInvalidDocument(s))}),je.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let a=Ho();const o=r.path,l=new tt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Vie(Fie(d),n)<=0||(s.has(d.key)||N1(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return je.resolve(a)}getAllFromCollectionGroup(e,r,n,s){ot(9500)}ii(e,r){return je.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new coe(this)}getSize(e){return je.resolve(this.size)}}class coe extends toe{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)}),je.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe{constructor(e){this.persistence=e,this.si=new dd(r=>KT(r),YT),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.oi=0,this._i=new eC,this.targetCount=0,this.ai=of.ur()}forEachTarget(e,r){return this.si.forEach((n,s)=>r(s)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),je.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new of(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,je.resolve()}updateTargetData(e,r){return this.Pr(r),je.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,r,n){let s=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),je.waitFor(a).next(()=>s)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return je.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),je.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const s=this.persistence.referenceDelegate,a=[];return s&&r.forEach(o=>{a.push(s.markPotentiallyOrphaned(e,o))}),je.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),je.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return je.resolve(n)}containsKey(e,r){return je.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,r){this.ui={},this.overlays={},this.ci=new y1(0),this.li=!1,this.li=!0,this.hi=new aoe,this.referenceDelegate=e(this),this.Pi=new uoe(this),this.indexManager=new Yae,this.remoteDocumentCache=function(s){return new loe(s)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Gae(r),this.Ii=new soe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new ioe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new ooe(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Ke("MemoryPersistence","Starting transaction:",e);const s=new doe(this.ci.next());return this.referenceDelegate.Ei(),n(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(e,r){return je.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class doe extends Uie{constructor(e){super(),this.currentSequenceNumber=e}}class tC{constructor(e){this.persistence=e,this.Ri=new eC,this.Vi=null}static mi(e){return new tC(e)}get fi(){if(this.Vi)return this.Vi;throw ot(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),je.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),je.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),je.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(s=>this.fi.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,n=>{const s=tt.fromPath(n);return this.gi(e,s).next(a=>{a||r.removeEntry(s,gt.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return je.or([()=>je.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class pb{constructor(e,r){this.persistence=e,this.pi=new dd(n=>Wie(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=eoe(this,r)}static mi(e,r){return new pb(e,r)}Ei(){}di(e){return je.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(s=>n+s))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return je.forEach(this.pi,(n,s)=>this.br(e,n,s).next(a=>a?je.resolve():r(s)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,r).next(l=>{l||(n++,a.removeEntry(o,gt.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=mv(e.data.value)),r}br(e,r,n){return je.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.pi.get(r);return je.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=s}static As(e,r){let n=Lt(),s=Lt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new rC(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hoe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vte()?8:qie(us())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,s){const a={result:null};return this.ys(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,r,s,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new hoe;return this.Ss(e,r,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,r,o,l.size)})}).next(()=>a.result)}bs(e,r,n,s){return n.documentReadCount<this.fs?($d()<=Mt.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",Ld(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):($d()<=Mt.DEBUG&&Ke("QueryEngine","Query:",Ld(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?($d()<=Mt.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",Ld(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qa(r))):je.resolve())}ys(e,r){if(sM(r))return je.resolve(null);let n=qa(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=fb(r,null,"F"),n=qa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Lt(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,l);return this.Cs(r,u,o,c.readTime)?this.ys(e,fb(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,s){return sM(r)||s.isEqual(gt.min())?je.resolve(null):this.ps.getDocuments(e,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,s)?je.resolve(null):($d()<=Mt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ld(r)),this.vs(e,o,r,Lie(s,Ig)).next(l=>l))})}Ds(e,r){let n=new Sn(gB(e));return r.forEach((s,a)=>{N1(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,r,n){return $d()<=Mt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Ld(r)),this.ps.getDocumentsMatchingQuery(e,r,pc.min(),n)}vs(e,r,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="LocalStore",moe=3e8;class poe{constructor(e,r,n,s){this.persistence=e,this.Fs=r,this.serializer=s,this.Ms=new Ur($t),this.xs=new dd(a=>KT(a),YT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new noe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function goe(t,e,r,n){return new poe(t,e,r,n)}async function BB(t,e){const r=yt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(a=>(s=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],l=[];let c=Lt();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function xoe(t,e){const r=yt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let m=je.resolve();return f.forEach(x=>{m=m.next(()=>d.getEntry(c,x)).next(p=>{const v=u.docVersions.get(x);Qt(v!==null,48541),p.version.compareTo(v)<0&&(h.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),d.addEntry(p)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=Lt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function UB(t){const e=yt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function yoe(t,e){const r=yt(t),n=e.snapshotVersion;let s=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});s=r.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;l.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,h)));let m=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken($n.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),s=s.insert(h,m),function(p,v,w){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=moe?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,d)&&l.push(r.Pi.updateTargetData(a,m))});let c=Ho(),u=Lt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(voe(a,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(gt.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(h=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));l.push(d)}return je.waitFor(l).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Ms=s,a))}function voe(t,e,r){let n=Lt(),s=Lt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Ho();return r.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(gt.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ke(nC,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function boe(t,e){const r=yt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=WT),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function woe(t,e){const r=yt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Pi.getTargetData(n,e).next(a=>a?(s=a,je.resolve(s)):r.Pi.allocateTargetId(n).next(o=>(s=new zl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function GE(t,e,r){const n=yt(t),s=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!rm(o))throw o;Ke(nC,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function xM(t,e,r){const n=yt(t);let s=gt.min(),a=Lt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=yt(c),f=h.xs.get(d);return f!==void 0?je.resolve(h.Ms.get(f)):h.Pi.getTargetData(u,d)}(n,o,qa(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?s:gt.min(),r?a:Lt())).next(l=>(joe(n,cae(e),l),{documents:l,Qs:a})))}function joe(t,e,r){let n=t.Os.get(e)||gt.min();r.forEach((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class yM{constructor(){this.activeTargetIds=pae()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Noe{constructor(){this.Mo=new yM,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new yM,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Soe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="ConnectivityMonitor";class bM{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ke(vM,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ke(vM,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j0=null;function KE(){return j0===null?j0=function(){return 268435456+Math.round(2147483648*Math.random())}():j0++,"0x"+j0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="RestConnection",Eoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _oe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===ub?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,r,n,s,a){const o=KE(),l=this.zo(e,r.toUriEncodedString());Ke(p2,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,a);const{host:u}=new URL(l),d=Xf(u);return this.Jo(e,l,c,n,d).then(h=>(Ke(p2,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Zh(p2,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",n),h})}Ho(e,r,n,s,a,o){return this.Go(e,r,n,s,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+em}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>e[a]=s),n&&n.headers.forEach((s,a)=>e[a]=s)}zo(e,r){const n=Eoe[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Poe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="WebChannelConnection";class Aoe extends _oe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,s,a){const o=KE();return new Promise((l,c)=>{const u=new B9;u.setWithCredentials(!0),u.listenOnce(U9.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case fv.NO_ERROR:const h=u.getResponseJson();Ke(ts,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case fv.TIMEOUT:Ke(ts,`RPC '${e}' ${o} timed out`),c(new ze(pe.DEADLINE_EXCEEDED,"Request time out"));break;case fv.HTTP_ERROR:const f=u.getStatus();if(Ke(ts,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const p=function(w){const b=w.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(b)>=0?b:pe.UNKNOWN}(x.status);c(new ze(p,x.message))}else c(new ze(pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ze(pe.UNAVAILABLE,"Connection failed."));break;default:ot(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ke(ts,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Ke(ts,`RPC '${e}' ${o} sending request:`,s),u.send(r,"POST",d,n,15)})}T_(e,r,n){const s=KE(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=W9(),l=z9(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");Ke(ts,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let f=!1,m=!1;const x=new Poe({Yo:v=>{m?Ke(ts,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(f||(Ke(ts,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Ke(ts,`RPC '${e}' stream ${s} sending:`,v),h.send(v))},Zo:()=>h.close()}),p=(v,w,b)=>{v.listen(w,j=>{try{b(j)}catch(N){setTimeout(()=>{throw N},0)}})};return p(h,Sp.EventType.OPEN,()=>{m||(Ke(ts,`RPC '${e}' stream ${s} transport opened.`),x.o_())}),p(h,Sp.EventType.CLOSE,()=>{m||(m=!0,Ke(ts,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(h))}),p(h,Sp.EventType.ERROR,v=>{m||(m=!0,Zh(ts,`RPC '${e}' stream ${s} transport errored. Name:`,v.name,"Message:",v.message),x.a_(new ze(pe.UNAVAILABLE,"The operation could not be completed")))}),p(h,Sp.EventType.MESSAGE,v=>{var w;if(!m){const b=v.data[0];Qt(!!b,16349);const j=b,N=(j==null?void 0:j.error)||((w=j[0])==null?void 0:w.error);if(N){Ke(ts,`RPC '${e}' stream ${s} received error:`,N);const E=N.status;let C=function(A){const T=en[A];if(T!==void 0)return AB(T)}(E),_=N.message;C===void 0&&(C=pe.INTERNAL,_="Unknown error status: "+E+" with message "+N.message),m=!0,x.a_(new ze(C,_)),h.close()}else Ke(ts,`RPC '${e}' stream ${s} received:`,b),x.u_(b)}}),p(l,q9.STAT_EVENT,v=>{v.stat===ME.PROXY?Ke(ts,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===ME.NOPROXY&&Ke(ts,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function g2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){return new Rae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,r,n=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,r-n);s>0&&Ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="PersistentStream";class zB{constructor(e,r,n,s,a,o,l,c){this.Mi=e,this.S_=n,this.b_=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qB(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===pe.RESOURCE_EXHAUSTED?(Wo(r.toString()),Wo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.D_===r&&this.G_(n,s)},n=>{e(()=>{const s=new ze(pe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{n(()=>this.z_(s))}),this.stream.onMessage(s=>{n(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ke(wM,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(Ke(wM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Toe extends zB{constructor(e,r,n,s,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Mae(this.serializer,e),n=function(a){if(!("targetChange"in a))return gt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?gt.min():o.readTime?za(o.readTime):gt.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=HE(this.serializer),r.addTarget=function(a,o){let l;const c=o.target;if(l=BE(c)?{documents:Fae(a,c)}:{query:Vae(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=kB(a,o.resumeToken);const u=qE(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(gt.min())>0){l.readTime=mb(a,o.snapshotVersion.toTimestamp());const u=qE(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const n=Uae(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=HE(this.serializer),r.removeTarget=e,this.q_(r)}}class Coe extends zB{constructor(e,r,n,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Lae(e.writeResults,e.commitTime),n=za(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=HE(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>$ae(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{}class Ioe extends koe{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ze(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,zE(r,n),s,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ze(pe.UNKNOWN,a.toString())})}Ho(e,r,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,zE(r,n),s,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(pe.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Roe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wo(r),this.aa=!1):Ke("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu="RemoteStore";class Ooe{constructor(e,r,n,s,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{hd(this)&&(Ke(Qu,"Restarting streams for network reachability change."),await async function(c){const u=yt(c);u.Ea.add(4),await Jx(u),u.Ra.set("Unknown"),u.Ea.delete(4),await C1(u)}(this))})}),this.Ra=new Roe(n,s)}}async function C1(t){if(hd(t))for(const e of t.da)await e(!0)}async function Jx(t){for(const e of t.da)await e(!1)}function WB(t,e){const r=yt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),oC(r)?aC(r):sm(r).O_()&&iC(r,e))}function sC(t,e){const r=yt(t),n=sm(r);r.Ia.delete(e),n.O_()&&HB(r,e),r.Ia.size===0&&(n.O_()?n.L_():hd(r)&&r.Ra.set("Unknown"))}function iC(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}sm(t).Y_(e)}function HB(t,e){t.Va.Ue(e),sm(t).Z_(e)}function aC(t){t.Va=new Tae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sm(t).start(),t.Ra.ua()}function oC(t){return hd(t)&&!sm(t).x_()&&t.Ia.size>0}function hd(t){return yt(t).Ea.size===0}function GB(t){t.Va=void 0}async function Doe(t){t.Ra.set("Online")}async function Moe(t){t.Ia.forEach((e,r)=>{iC(t,e)})}async function $oe(t,e){GB(t),oC(t)?(t.Ra.ha(e),aC(t)):t.Ra.set("Unknown")}async function Loe(t,e,r){if(t.Ra.set("Online"),e instanceof CB&&e.state===2&&e.cause)try{await async function(s,a){const o=a.cause;for(const l of a.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(n){Ke(Qu,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await gb(t,n)}else if(e instanceof xv?t.Va.Ze(e):e instanceof TB?t.Va.st(e):t.Va.tt(e),!r.isEqual(gt.min()))try{const n=await UB(t.localStore);r.compareTo(n)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken($n.EMPTY_BYTE_STRING,d.snapshotVersion)),HB(a,c);const h=new zl(d.target,c,u,d.sequenceNumber);iC(a,h)}),a.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Ke(Qu,"Failed to raise snapshot:",n),await gb(t,n)}}async function gb(t,e,r){if(!rm(e))throw e;t.Ea.add(1),await Jx(t),t.Ra.set("Offline"),r||(r=()=>UB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ke(Qu,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await C1(t)})}function KB(t,e){return e().catch(r=>gb(t,r,e))}async function k1(t){const e=yt(t),r=vc(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:WT;for(;Foe(e);)try{const s=await boe(e.localStore,n);if(s===null){e.Ta.length===0&&r.L_();break}n=s.batchId,Voe(e,s)}catch(s){await gb(e,s)}YB(e)&&QB(e)}function Foe(t){return hd(t)&&t.Ta.length<10}function Voe(t,e){t.Ta.push(e);const r=vc(t);r.O_()&&r.X_&&r.ea(e.mutations)}function YB(t){return hd(t)&&!vc(t).x_()&&t.Ta.length>0}function QB(t){vc(t).start()}async function Boe(t){vc(t).ra()}async function Uoe(t){const e=vc(t);for(const r of t.Ta)e.ea(r.mutations)}async function qoe(t,e,r){const n=t.Ta.shift(),s=XT.from(n,e,r);await KB(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await k1(t)}async function zoe(t,e){e&&vc(t).X_&&await async function(n,s){if(function(o){return _ae(o)&&o!==pe.ABORTED}(s.code)){const a=n.Ta.shift();vc(n).B_(),await KB(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s)),await k1(n)}}(t,e),YB(t)&&QB(t)}async function jM(t,e){const r=yt(t);r.asyncQueue.verifyOperationInProgress(),Ke(Qu,"RemoteStore received new credentials");const n=hd(r);r.Ea.add(3),await Jx(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await C1(r)}async function Woe(t,e){const r=yt(t);e?(r.Ea.delete(2),await C1(r)):e||(r.Ea.add(2),await Jx(r),r.Ra.set("Unknown"))}function sm(t){return t.ma||(t.ma=function(r,n,s){const a=yt(r);return a.sa(),new Toe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Doe.bind(null,t),t_:Moe.bind(null,t),r_:$oe.bind(null,t),H_:Loe.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),oC(t)?aC(t):t.Ra.set("Unknown")):(await t.ma.stop(),GB(t))})),t.ma}function vc(t){return t.fa||(t.fa=function(r,n,s){const a=yt(r);return a.sa(),new Coe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Boe.bind(null,t),r_:zoe.bind(null,t),ta:Uoe.bind(null,t),na:qoe.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await k1(t)):(await t.fa.stop(),t.Ta.length>0&&(Ke(Qu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,r,n,s,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new Ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,a){const o=Date.now()+n,l=new lC(e,r,o,s,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cC(t,e){if(Wo("AsyncQueue",`${e}: ${t}`),rm(t))return new ze(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{static emptySet(e){return new bh(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||tt.comparator(r.key,n.key):(r,n)=>tt.comparator(r.key,n.key),this.keyedMap=Ep(),this.sortedSet=new Ur(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof bh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new bh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.ga=new Ur(tt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):ot(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class lf{constructor(e,r,n,s,a,o,l,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,s,a){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new lf(e,r,bh.emptySet(r),o,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&j1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Goe{constructor(){this.queries=SM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const s=yt(r),a=s.queries;s.queries=SM(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(n)})})(this,new ze(pe.ABORTED,"Firestore shutting down"))}}function SM(){return new dd(t=>pB(t),j1)}async function uC(t,e){const r=yt(t);let n=3;const s=e.query;let a=r.queries.get(s);a?!a.ba()&&e.Da()&&(n=2):(a=new Hoe,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(s,!0);break;case 1:a.wa=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const l=cC(o,`Initialization of query '${Ld(e.query)}' failed`);return void e.onError(l)}r.queries.set(s,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&hC(r)}async function dC(t,e){const r=yt(t),n=e.query;let s=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Koe(t,e){const r=yt(t);let n=!1;for(const s of e){const a=s.query,o=r.queries.get(a);if(o){for(const l of o.Sa)l.Fa(s)&&(n=!0);o.wa=s}}n&&hC(r)}function Yoe(t,e,r){const n=yt(t),s=n.queries.get(e);if(s)for(const a of s.Sa)a.onError(r);n.queries.delete(e)}function hC(t){t.Ca.forEach(e=>{e.next()})}var YE,EM;(EM=YE||(YE={})).Ma="default",EM.Cache="cache";class fC{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new lf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=lf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==YE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e){this.key=e}}class JB{constructor(e){this.key=e}}class Qoe{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=gB(e),this.tu=new bh(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new NM,s=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=N1(this.query,h)?h:null,x=!!f&&this.mutatedKeys.has(f.key),p=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;f&&m?f.data.isEqual(m.data)?x!==p&&(n.track({type:3,doc:m}),v=!0):this.su(f,m)||(n.track({type:2,doc:m}),v=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(l=!0)):!f&&m?(n.track({type:0,doc:m}),v=!0):f&&!m&&(n.track({type:1,doc:f}),v=!0,(c||u)&&(l=!0)),v&&(m?(o=o.add(m),a=p?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(m,x){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot(20277,{Rt:v})}};return p(m)-p(x)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),s=s??!1;const l=r&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new lf(this.query,e.tu,a,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NM,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new JB(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new XB(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Lt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return lf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mC="SyncEngine";class Xoe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Joe{constructor(e){this.key=e,this.hu=!1}}class Zoe{constructor(e,r,n,s,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new dd(l=>pB(l),j1),this.Iu=new Map,this.Eu=new Set,this.du=new Ur(tt.comparator),this.Au=new Map,this.Ru=new eC,this.Vu={},this.mu=new Map,this.fu=of.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ele(t,e,r=!0){const n=sU(t);let s;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await ZB(n,e,r,!0),s}async function tle(t,e){const r=sU(t);await ZB(r,e,!0,!1)}async function ZB(t,e,r,n){const s=await woe(t.localStore,qa(e)),a=s.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await rle(t,e,a,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&WB(t.remoteStore,s),l}async function rle(t,e,r,n,s){t.pu=(h,f,m)=>async function(p,v,w,b){let j=v.view.ru(w);j.Cs&&(j=await xM(p.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,j)));const N=b&&b.targetChanges.get(v.targetId),E=b&&b.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(j,p.isPrimaryClient,N,E);return PM(p,v.targetId,C.au),C.snapshot}(t,h,f,m);const a=await xM(t.localStore,e,!0),o=new Qoe(e,a.Qs),l=o.ru(a.documents),c=Xx.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);PM(t,r,u.au);const d=new Xoe(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function nle(t,e,r){const n=yt(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);if(a.length>1)return n.Iu.set(s.targetId,a.filter(o=>!j1(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await GE(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&sC(n.remoteStore,s.targetId),QE(n,s.targetId)}).catch(tm)):(QE(n,s.targetId),await GE(n.localStore,s.targetId,!0))}async function sle(t,e){const r=yt(t),n=r.Tu.get(e),s=r.Iu.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),sC(r.remoteStore,n.targetId))}async function ile(t,e,r){const n=hle(t);try{const s=await function(o,l){const c=yt(o),u=or.now(),d=l.reduce((m,x)=>m.add(x.key),Lt());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=Ho(),p=Lt();return c.Ns.getEntries(m,d).next(v=>{x=v,x.forEach((w,b)=>{b.isValidDocument()||(p=p.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,x)).next(v=>{h=v;const w=[];for(const b of l){const j=wae(b,h.get(b.key).overlayedDocument);j!=null&&w.push(new Rc(b.key,j,oB(j.value.mapValue),Ss.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,w,l)}).next(v=>{f=v;const w=v.applyToLocalDocumentSet(h,p);return c.documentOverlayCache.saveOverlays(m,v.batchId,w)})}).then(()=>({batchId:f.batchId,changes:yB(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ur($t)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u}(n,s.batchId,r),await Zx(n,s.changes),await k1(n.remoteStore)}catch(s){const a=cC(s,"Failed to persist write");r.reject(a)}}async function eU(t,e){const r=yt(t);try{const n=await yoe(r.localStore,e);e.targetChanges.forEach((s,a)=>{const o=r.Au.get(a);o&&(Qt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Qt(o.hu,14607):s.removedDocuments.size>0&&(Qt(o.hu,42227),o.hu=!1))}),await Zx(r,n,e)}catch(n){await tm(n)}}function _M(t,e,r){const n=yt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=yt(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(l)&&(u=!0)}),u&&hC(c)}(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function ale(t,e,r){const n=yt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Au.get(e),a=s&&s.key;if(a){let o=new Ur(tt.comparator);o=o.insert(a,is.newNoDocument(a,gt.min()));const l=Lt().add(a),c=new A1(gt.min(),new Map,new Ur($t),o,l);await eU(n,c),n.du=n.du.remove(a),n.Au.delete(e),pC(n)}else await GE(n.localStore,e,!1).then(()=>QE(n,e,r)).catch(tm)}async function ole(t,e){const r=yt(t),n=e.batch.batchId;try{const s=await xoe(r.localStore,e);rU(r,n,null),tU(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Zx(r,s)}catch(s){await tm(s)}}async function lle(t,e,r){const n=yt(t);try{const s=await function(o,l){const c=yt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Qt(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);rU(n,e,r),tU(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Zx(n,s)}catch(s){await tm(s)}}function tU(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function rU(t,e,r){const n=yt(t);let s=n.Vu[n.currentUser.toKey()];if(s){const a=s.get(e);a&&(r?a.reject(r):a.resolve(),s=s.remove(e)),n.Vu[n.currentUser.toKey()]=s}}function QE(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||nU(t,n)})}function nU(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(sC(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),pC(t))}function PM(t,e,r){for(const n of r)n instanceof XB?(t.Ru.addReference(n.key,e),cle(t,n)):n instanceof JB?(Ke(mC,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||nU(t,n.key)):ot(19791,{wu:n})}function cle(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Ke(mC,"New document in limbo: "+r),t.Eu.add(n),pC(t))}function pC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new tt(gr.fromString(e)),n=t.fu.next();t.Au.set(n,new Joe(r)),t.du=t.du.insert(r,n),WB(t.remoteStore,new zl(qa(w1(r.path)),n,"TargetPurposeLimboResolution",y1.ce))}}async function Zx(t,e,r){const n=yt(t),s=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((l,c)=>{o.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=rC.As(c.targetId,u);a.push(h)}}))}),await Promise.all(o),n.Pu.H_(s),await async function(c,u){const d=yt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>je.forEach(u,f=>je.forEach(f.Es,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>je.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!rm(h))throw h;Ke(nC,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Ms.get(f),x=m.snapshotVersion,p=m.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(f,p)}}}(n.localStore,a))}async function ule(t,e){const r=yt(t);if(!r.currentUser.isEqual(e)){Ke(mC,"User change. New user:",e.toKey());const n=await BB(r.localStore,e);r.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new ze(pe.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Zx(r,n.Ls)}}function dle(t,e){const r=yt(t),n=r.Au.get(e);if(n&&n.hu)return Lt().add(n.key);{let s=Lt();const a=r.Iu.get(e);if(!a)return s;for(const o of a){const l=r.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function sU(t){const e=yt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ale.bind(null,e),e.Pu.H_=Koe.bind(null,e.eventManager),e.Pu.yu=Yoe.bind(null,e.eventManager),e}function hle(t){const e=yt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ole.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lle.bind(null,e),e}class xb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=T1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return goe(this.persistence,new foe,e.initialUser,this.serializer)}Cu(e){return new VB(tC.mi,this.serializer)}Du(e){return new Noe}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xb.provider={build:()=>new xb};class fle extends xb{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Qt(this.persistence.referenceDelegate instanceof pb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Jae(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new VB(n=>pb.mi(n,r),this.serializer)}}class XE{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>_M(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=ule.bind(null,this.syncEngine),await Woe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Goe}()}createDatastore(e){const r=T1(e.databaseInfo.databaseId),n=function(a){return new Aoe(a)}(e.databaseInfo);return function(a,o,l,c){return new Ioe(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,a,o,l){return new Ooe(n,s,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>_M(this.syncEngine,r,0),function(){return bM.v()?new bM:new Soe}())}createSyncEngine(e,r){return function(s,a,o,l,c,u,d){const h=new Zoe(s,a,o,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const a=yt(s);Ke(Qu,"RemoteStore shutting down."),a.Ea.add(5),await Jx(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}XE.provider={build:()=>new XE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc="FirestoreClient";class mle{constructor(e,r,n,s,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Is.UNAUTHENTICATED,this.clientId=g1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{Ke(bc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Ke(bc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=cC(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function x2(t,e){t.asyncQueue.verifyOperationInProgress(),Ke(bc,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await BB(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function AM(t,e){t.asyncQueue.verifyOperationInProgress();const r=await ple(t);Ke(bc,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>jM(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>jM(e.remoteStore,s)),t._onlineComponents=e}async function ple(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ke(bc,"Using user provided OfflineComponentProvider");try{await x2(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===pe.FAILED_PRECONDITION||s.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Zh("Error using user provided cache. Falling back to memory cache: "+r),await x2(t,new xb)}}else Ke(bc,"Using default OfflineComponentProvider"),await x2(t,new fle(void 0));return t._offlineComponents}async function iU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ke(bc,"Using user provided OnlineComponentProvider"),await AM(t,t._uninitializedComponentsProvider._online)):(Ke(bc,"Using default OnlineComponentProvider"),await AM(t,new XE))),t._onlineComponents}function gle(t){return iU(t).then(e=>e.syncEngine)}async function yb(t){const e=await iU(t),r=e.eventManager;return r.onListen=ele.bind(null,e.syncEngine),r.onUnlisten=nle.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=tle.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=sle.bind(null,e.syncEngine),r}function xle(t,e,r={}){const n=new Ro;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new gC({next:f=>{d.Nu(),o.enqueueAndForget(()=>dC(a,h));const m=f.docs.has(l);!m&&f.fromCache?u.reject(new ze(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?u.reject(new ze(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new fC(w1(l.path),d,{includeMetadataChanges:!0,qa:!0});return uC(a,h)}(await yb(t),t.asyncQueue,e,r,n)),n.promise}function yle(t,e,r={}){const n=new Ro;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new gC({next:f=>{d.Nu(),o.enqueueAndForget(()=>dC(a,h)),f.fromCache&&c.source==="server"?u.reject(new ze(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new fC(l,d,{includeMetadataChanges:!0,qa:!0});return uC(a,h)}(await yb(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vle="firestore.googleapis.com",CM=!0;class kM{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ze(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vle,this.ssl=CM}else this.host=e.host,this.ssl=e.ssl??CM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FB)throw new ze(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aU(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ze(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ze(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ze(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xC{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new G9;switch(n.type){case"firstParty":return new kie(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ze(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=TM.get(r);n&&(Ke("ComponentProvider","Removing Datastore"),TM.delete(r),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=class oU{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new oU(this.firestore,e,this._query)}};class Lr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lr(this.firestore,e,this._key)}toJSON(){return{type:Lr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Yx(r,Lr._jsonSchema))return new Lr(e,n||null,new tt(gr.fromString(r.referencePath)))}}Lr._jsonSchemaVersion="firestore/documentReference/1.0",Lr._jsonSchema={type:cn("string",Lr._jsonSchemaVersion),referencePath:cn("string")};class Oo extends Oc{constructor(e,r,n){super(e,r,w1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lr(this.firestore,null,new tt(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function Ze(t,e,...r){if(t=Ht(t),K9("collection","path",e),t instanceof xC){const n=gr.fromString(e,...r);return zD(n),new Oo(t,null,n)}{if(!(t instanceof Lr||t instanceof Oo))throw new ze(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(gr.fromString(e,...r));return zD(n),new Oo(t.firestore,null,n)}}function ke(t,e,...r){if(t=Ht(t),arguments.length===1&&(e=g1.newId()),K9("doc","path",e),t instanceof xC){const n=gr.fromString(e,...r);return qD(n),new Lr(t,null,new tt(n))}{if(!(t instanceof Lr||t instanceof Oo))throw new ze(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(gr.fromString(e,...r));return qD(n),new Lr(t.firestore,t instanceof Oo?t.converter:null,new tt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="AsyncQueue";class RM{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qB(this,"async_queue_retry"),this._c=()=>{const n=g2();n&&Ke(IM,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=g2();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=g2();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Ro;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!rm(e))throw e;Ke(IM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Wo("INTERNAL UNHANDLED ERROR: ",OM(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const s=lC.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&ot(47125,{Pc:OM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function OM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const a of n)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class ga extends xC{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new RM,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RM(e),this._firestoreClient=void 0,await e}}}function lU(t,e,r){r||(r=ub);const n=kT(t,"firestore");if(n.isInitialized(r)){const s=n.getImmediate({identifier:r}),a=n.getOptions(r);if(Uo(a,e))return s;throw new ze(pe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ze(pe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FB)throw new ze(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Xf(e.host)&&HV(e.host),n.initialize({options:e,instanceIdentifier:r})}function im(t){if(t._terminated)throw new ze(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ble(t),t._firestoreClient}function ble(t){var n,s,a;const e=t._freezeSettings(),r=function(l,c,u,d){return new Kie(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aU(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mle(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri($n.fromBase64String(e))}catch(r){throw new ze(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ri($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yx(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:cn("string",ri._jsonSchemaVersion),bytes:cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ze(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ze(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ze(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ua._jsonSchemaVersion}}static fromJSON(e){if(Yx(e,ua._jsonSchema))return new ua(e.latitude,e.longitude)}}ua._jsonSchemaVersion="firestore/geoPoint/1.0",ua._jsonSchema={type:cn("string",ua._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:da._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yx(e,da._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new da(e.vectorValues);throw new ze(pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}da._jsonSchemaVersion="firestore/vectorValue/1.0",da._jsonSchema={type:cn("string",da._jsonSchemaVersion),vectorValues:cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wle=/^__.*__$/;class jle{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Rc(e,this.data,this.fieldMask,r,this.fieldTransforms):new Qx(e,this.data,r,this.fieldTransforms)}}class cU{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Rc(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function uU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot(40011,{Ac:t})}}class I1{constructor(e,r,n,s,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new I1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const r=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var s;const r=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uU(this.Ac)&&wle.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nle{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||T1(e)}Cc(e,r,n,s=!1){return new I1({Ac:e,methodName:r,Dc:n,path:Dn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ey(t){const e=t._freezeSettings(),r=T1(t._databaseId);return new Nle(t._databaseId,!!e.ignoreUndefinedProperties,r)}function yC(t,e,r,n,s,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,s);NC("Data must be an object, but it was:",o,n);const l=mU(n,o);let c,u;if(a.merge)c=new ai(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const f=JE(e,h,r);if(!o.contains(f))throw new ze(pe.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);gU(d,f)||d.push(f)}c=new ai(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new jle(new Ls(l),c,u)}class R1 extends Dc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof R1}}function dU(t,e,r){return new I1({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vC extends Dc{_toFieldTransform(e){return new E1(e.path,new Mg)}isEqual(e){return e instanceof vC}}class bC extends Dc{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=dU(this,e,!0),n=this.vc.map(a=>fd(a,r)),s=new sf(n);return new E1(e.path,s)}isEqual(e){return e instanceof bC&&Uo(this.vc,e.vc)}}class wC extends Dc{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=dU(this,e,!0),n=this.vc.map(a=>fd(a,r)),s=new af(n);return new E1(e.path,s)}isEqual(e){return e instanceof wC&&Uo(this.vc,e.vc)}}class jC extends Dc{constructor(e,r){super(e),this.Fc=r}_toFieldTransform(e){const r=new $g(e.serializer,wB(e.serializer,this.Fc));return new E1(e.path,r)}isEqual(e){return e instanceof jC&&this.Fc===e.Fc}}function hU(t,e,r,n){const s=t.Cc(1,e,r);NC("Data must be an object, but it was:",s,n);const a=[],o=Ls.empty();Ic(n,(c,u)=>{const d=SC(e,c,r);u=Ht(u);const h=s.yc(d);if(u instanceof R1)a.push(d);else{const f=fd(u,h);f!=null&&(a.push(d),o.set(d,f))}});const l=new ai(a);return new cU(o,l,s.fieldTransforms)}function fU(t,e,r,n,s,a){const o=t.Cc(1,e,r),l=[JE(e,n,r)],c=[s];if(a.length%2!=0)throw new ze(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)l.push(JE(e,a[f])),c.push(a[f+1]);const u=[],d=Ls.empty();for(let f=l.length-1;f>=0;--f)if(!gU(u,l[f])){const m=l[f];let x=c[f];x=Ht(x);const p=o.yc(m);if(x instanceof R1)u.push(m);else{const v=fd(x,p);v!=null&&(u.push(m),d.set(m,v))}}const h=new ai(u);return new cU(d,h,o.fieldTransforms)}function Sle(t,e,r,n=!1){return fd(r,t.Cc(n?4:3,e))}function fd(t,e){if(pU(t=Ht(t)))return NC("Unsupported field value:",e,t),mU(t,e);if(t instanceof Dc)return function(n,s){if(!uU(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,s){const a=[];let o=0;for(const l of n){let c=fd(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,s){if((n=Ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wB(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=or.fromDate(n);return{timestampValue:mb(s.serializer,a)}}if(n instanceof or){const a=new or(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:mb(s.serializer,a)}}if(n instanceof ua)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ri)return{bytesValue:kB(s.serializer,n._byteString)};if(n instanceof Lr){const a=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ZT(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof da)return function(o,l){return{mapValue:{fields:{[sB]:{stringValue:aB},[db]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return QT(l.serializer,u)})}}}}}}(n,s);throw s.Sc(`Unsupported field value: ${x1(n)}`)}(t,e)}function mU(t,e){const r={};return J9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ic(t,(n,s)=>{const a=fd(s,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function pU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof or||t instanceof ua||t instanceof ri||t instanceof Lr||t instanceof Dc||t instanceof da)}function NC(t,e,r){if(!pU(r)||!Q9(r)){const n=x1(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function JE(t,e,r){if((e=Ht(e))instanceof am)return e._internalPath;if(typeof e=="string")return SC(t,e);throw vb("Field path arguments must be of type string or ",t,!1,void 0,r)}const Ele=new RegExp("[~\\*/\\[\\]]");function SC(t,e,r){if(e.search(Ele)>=0)throw vb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new am(...e.split("."))._internalPath}catch{throw vb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function vb(t,e,r,n,s){const a=n&&!n.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${s}`),c+=")"),new ze(pe.INVALID_ARGUMENT,l+t+c)}function gU(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,r,n,s,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _le(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(O1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class _le extends xU{data(){return super.data()}}function O1(t,e){return typeof e=="string"?SC(t,e):e instanceof am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ze(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EC{}class D1 extends EC{}function bt(t,e,...r){let n=[];e instanceof EC&&n.push(e),n=n.concat(r),function(a){const o=a.filter(c=>c instanceof M1).length,l=a.filter(c=>c instanceof ty).length;if(o>1||o>0&&l>0)throw new ze(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class ty extends D1{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new ty(e,r,n)}_apply(e){const r=this._parse(e);return vU(e._query,r),new Oc(e.firestore,e.converter,UE(e._query,r))}_parse(e){const r=ey(e.firestore);return function(a,o,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ze(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){$M(h,d);const x=[];for(const p of h)x.push(MM(c,a,p));f={arrayValue:{values:x}}}else f=MM(c,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||$M(h,d),f=Sle(l,o,h,d==="in"||d==="not-in");return on.create(u,d,f)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Pt(t,e,r){const n=e,s=O1("where",t);return ty._create(s,n,r)}class M1 extends EC{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new M1(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:pa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,a){let o=s;const l=a.getFlattenedFilters();for(const c of l)vU(o,c),o=UE(o,c)}(e._query,r),new Oc(e.firestore,e.converter,UE(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $1 extends D1{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new $1(e,r)}_apply(e){const r=function(s,a,o){if(s.startAt!==null)throw new ze(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ze(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dg(a,o)}(e._query,this._field,this._direction);return new Oc(e.firestore,e.converter,function(s,a){const o=s.explicitOrderBy.concat([a]);return new nm(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function ln(t,e="asc"){const r=e,n=O1("orderBy",t);return $1._create(n,r)}class L1 extends D1{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new L1(e,r,n)}_apply(e){return new Oc(e.firestore,e.converter,fb(e._query,this._limit,this._limitType))}}function Ru(t){return $ie("limit",t),L1._create("limit",t,"F")}function MM(t,e,r){if(typeof(r=Ht(r))=="string"){if(r==="")throw new ze(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mB(e)&&r.indexOf("/")!==-1)throw new ze(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(gr.fromString(r));if(!tt.isDocumentKey(n))throw new ze(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return JD(t,new tt(n))}if(r instanceof Lr)return JD(t,r._key);throw new ze(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${x1(r)}.`)}function $M(t,e){if(!Array.isArray(t)||t.length===0)throw new ze(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vU(t,e){const r=function(s,a){for(const o of s)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ze(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ze(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class bU{convertValue(e,r="none"){switch(yc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(xc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ot(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ic(e,(s,a)=>{n[s]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,s,a;const r=(a=(s=(n=e.fields)==null?void 0:n[db].arrayValue)==null?void 0:s.values)==null?void 0:a.map(o=>Yr(o.doubleValue));return new da(r)}convertGeoPoint(e){return new ua(Yr(e.latitude),Yr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=b1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Rg(e));default:return null}}convertTimestamp(e){const r=gc(e);return new or(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=gr.fromString(e);Qt($B(n),9688,{name:e});const s=new tf(n.get(1),n.get(3)),a=new tt(n.popFirst(5));return s.isEqual(r)||Wo(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class th{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oc extends xU{constructor(e,r,n,s,a,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(O1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=oc._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}oc._jsonSchemaVersion="firestore/documentSnapshot/1.0",oc._jsonSchema={type:cn("string",oc._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class Kp extends oc{data(e={}){return super.data(e)}}class lc{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new th(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Kp(this._firestore,this._userDataWriter,n.key,n,new th(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ze(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Kp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new th(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Kp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new th(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Ple(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=g1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ple(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){t=Ns(t,Lr);const e=Ns(t.firestore,ga);return xle(im(e),t._key).then(r=>wU(e,t,r))}lc._jsonSchemaVersion="firestore/querySnapshot/1.0",lc._jsonSchema={type:cn("string",lc._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class PC extends bU{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Lr(this.firestore,null,r)}}function Bt(t){t=Ns(t,Oc);const e=Ns(t.firestore,ga),r=im(e),n=new PC(e);return yU(t._query),yle(r,t._query).then(s=>new lc(e,n,t,s))}function bn(t,e,r){t=Ns(t,Lr);const n=Ns(t.firestore,ga),s=_C(t.converter,e,r);return om(n,[yC(ey(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Ss.none())])}function dt(t,e,r,...n){t=Ns(t,Lr);const s=Ns(t.firestore,ga),a=ey(s);let o;return o=typeof(e=Ht(e))=="string"||e instanceof am?fU(a,"updateDoc",t._key,e,r,n):hU(a,"updateDoc",t._key,e),om(s,[o.toMutation(t._key,Ss.exists(!0))])}function cc(t){return om(Ns(t.firestore,ga),[new P1(t._key,Ss.none())])}function ni(t,e){const r=Ns(t.firestore,ga),n=ke(t),s=_C(t.converter,e);return om(r,[yC(ey(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Ss.exists(!1))]).then(()=>n)}function Fr(t,...e){var c,u,d;t=Ht(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||DM(e[n])||(r=e[n++]);const s={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(DM(e[n])){const h=e[n];e[n]=(c=h.next)==null?void 0:c.bind(h),e[n+1]=(u=h.error)==null?void 0:u.bind(h),e[n+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,o,l;if(t instanceof Lr)o=Ns(t.firestore,ga),l=w1(t._key.path),a={next:h=>{e[n]&&e[n](wU(o,t,h))},error:e[n+1],complete:e[n+2]};else{const h=Ns(t,Oc);o=Ns(h.firestore,ga),l=h._query;const f=new PC(o);a={next:m=>{e[n]&&e[n](new lc(o,f,h,m))},error:e[n+1],complete:e[n+2]},yU(t._query)}return function(f,m,x,p){const v=new gC(p),w=new fC(m,v,x);return f.asyncQueue.enqueueAndForget(async()=>uC(await yb(f),w)),()=>{v.Nu(),f.asyncQueue.enqueueAndForget(async()=>dC(await yb(f),w))}}(im(o),l,s,a)}function om(t,e){return function(n,s){const a=new Ro;return n.asyncQueue.enqueueAndForget(async()=>ile(await gle(n),s,a)),a.promise}(im(t),e)}function wU(t,e,r){const n=r.docs.get(e._key),s=new PC(t);return new oc(t,s,e._key,n,new th(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ey(e)}set(e,r,n){this._verifyNotCommitted();const s=y2(e,this._firestore),a=_C(s.converter,r,n),o=yC(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,n);return this._mutations.push(o.toMutation(s._key,Ss.none())),this}update(e,r,n,...s){this._verifyNotCommitted();const a=y2(e,this._firestore);let o;return o=typeof(r=Ht(r))=="string"||r instanceof am?fU(this._dataReader,"WriteBatch.update",a._key,r,n,s):hU(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(o.toMutation(a._key,Ss.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=y2(e,this._firestore);return this._mutations=this._mutations.concat(new P1(r._key,Ss.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function y2(t,e){if((t=Ht(t)).firestore!==e)throw new ze(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function $e(){return new vC("serverTimestamp")}function ry(...t){return new bC("arrayUnion",t)}function AC(...t){return new wC("arrayRemove",t)}function ZE(t){return new jC("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t){return im(t=Ns(t,ga)),new jU(t,e=>om(t,e))}(function(e,r=!0){(function(s){em=s})(Zf),Xh(new Hu("firestore",(n,{instanceIdentifier:s,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new ga(new Tie(n.getProvider("auth-internal")),new Iie(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ze(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tf(u.options.projectId,d)}(o,s),o);return a={useFetchStreams:r,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),ic(FD,VD,e),ic(FD,VD,"esm2020")})();const NU=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:bU,Bytes:ri,CollectionReference:Oo,DocumentReference:Lr,DocumentSnapshot:oc,FieldPath:am,FieldValue:Dc,Firestore:ga,FirestoreError:ze,GeoPoint:ua,Query:Oc,QueryCompositeFilterConstraint:M1,QueryConstraint:D1,QueryDocumentSnapshot:Kp,QueryFieldFilterConstraint:ty,QueryLimitConstraint:L1,QueryOrderByConstraint:$1,QuerySnapshot:lc,SnapshotMetadata:th,Timestamp:or,VectorValue:da,WriteBatch:jU,_AutoId:g1,_ByteString:$n,_DatabaseId:tf,_DocumentKey:tt,_EmptyAuthCredentialsProvider:G9,_FieldPath:Dn,_cast:Ns,_logWarn:Zh,_validateIsNotUsedTogether:Y9,addDoc:ni,arrayRemove:AC,arrayUnion:ry,collection:Ze,deleteDoc:cc,doc:ke,ensureFirestoreConfigured:im,executeWrite:om,getDoc:Vt,getDocs:Bt,increment:ZE,initializeFirestore:lU,limit:Ru,onSnapshot:Fr,orderBy:ln,query:bt,serverTimestamp:$e,setDoc:bn,updateDoc:dt,where:Pt,writeBatch:Yp},Symbol.toStringTag,{value:"Module"})),e_={apiKey:"AIzaSyBU5gegpYNEQW2XjcS-s9WXpH1ztz6s5TQ",authDomain:"pal-519d0.firebaseapp.com",projectId:"pal-519d0",storageBucket:"pal-519d0.firebasestorage.app",messagingSenderId:"524719905581",appId:"1:524719905581:web:951d7e02ae378e4cdd51a4",databaseURL:"https://pal-519d0-default-rtdb.firebaseio.com"},TC=YV(e_),Ar=F9(TC),oe=lU(TC,{experimentalForceLongPolling:!0,useFetchStreams:!1});console.log(" Firebase initialized:",{projectId:e_.projectId,authDomain:e_.authDomain,currentUrl:typeof window<"u"?window.location.origin:"server"});typeof window<"u"&&Ar.onAuthStateChanged(t=>{console.log(" Auth state changed:",t?"User signed in":"No user")});typeof window<"u"&&(window.addEventListener("error",t=>{var r;const e=((r=t.message)==null?void 0:r.toLowerCase())||"";if(e.includes("xmlhttprequest")||e.includes("cors")||e.includes("access-control-allow-origin")||e.includes("firestore")||e.includes("channel")||e.includes("400")||e.includes("gsessionid"))return t.preventDefault(),t.stopPropagation(),!1},!0),window.addEventListener("unhandledrejection",t=>{var r,n,s;const e=((n=(r=t.reason)==null?void 0:r.message)==null?void 0:n.toLowerCase())||"";if(e.includes("xmlhttprequest")||e.includes("cors")||e.includes("access-control-allow-origin")||e.includes("firestore")||e.includes("channel")||e.includes("400")||e.includes("gsessionid")||((s=t.reason)==null?void 0:s.code)==="unavailable")return t.preventDefault(),t.stopPropagation(),!1}));class Ale{async logActivity(e){try{await ni(Ze(oe,"aiActivities"),{...e,timestamp:$e()}),console.log(" AI Activity logged:",e)}catch(r){console.error(" Error logging AI activity:",r)}}async logEnquiryActivity(e,r,n,s,a){await this.logActivity({type:"enquiry",action:r,itemId:e,confidence:n,reason:s,analysis:a})}async logProfileActivity(e,r,n,s,a){await this.logActivity({type:"profile",action:r,itemId:e,confidence:n,reason:s,analysis:a})}async logResponseActivity(e,r,n,s,a){await this.logActivity({type:"response",action:r,itemId:e,confidence:n,reason:s,analysis:a})}}const Cn=new Ale,uu=class uu{constructor(){An(this,"TIME_WINDOW_HOURS",24)}static getInstance(){return uu.instance||(uu.instance=new uu),uu.instance}async checkForDuplicates(e,r,n){try{console.log(" Duplicate Detection: Checking for duplicates...",{title:e.substring(0,30),userId:n});const s=or.fromDate(new Date(Date.now()-this.TIME_WINDOW_HOURS*60*60*1e3)),a=bt(Ze(oe,"enquiries"),Pt("createdAt",">=",s)),o=await Bt(a),l=[];o.forEach(h=>{const f=h.data();f.status==="rejected"||f.status==="deleted"||this.isExactDuplicate(e,r,f.title,f.description)&&l.push({enquiryId:h.id,userId:f.userId,title:f.title,description:f.description,createdAt:f.createdAt,isSameUser:f.userId===n})});const c=l.length>0,u=c?100:0;let d="";if(c){const h=l.filter(m=>m.isSameUser).length,f=l.filter(m=>!m.isSameUser).length;h>0&&f>0?d=`Exact duplicate detected: ${h} from same user, ${f} from different users`:h>0?d=`Exact duplicate detected: ${h} identical enquiry(ies) from same user`:d=`Exact duplicate detected: ${f} identical enquiry(ies) from different user(s)`}else d="No duplicates found";return console.log(" Duplicate Detection Result:",{isDuplicate:c,matchCount:l.length,reason:d}),{isDuplicate:c,matches:l,confidence:u,reason:d}}catch(s){return console.error(" Duplicate Detection Error:",s),{isDuplicate:!1,matches:[],confidence:0,reason:"Duplicate check failed - proceeding with normal review"}}}isExactDuplicate(e,r,n,s){const a=c=>c.trim().toLowerCase().replace(/\s+/g," "),o=a(e)===a(n),l=a(r)===a(s);return o&&l}getDuplicateIds(e){return e.map(r=>r.enquiryId)}formatDuplicateReason(e){if(!e.isDuplicate)return"";const r=this.getDuplicateIds(e.matches).join(", ");return`${e.reason}. Match IDs: ${r}`}};An(uu,"instance");let t_=uu;const Tle=t_.getInstance();class Cle{constructor(){An(this,"MIN_CONFIDENCE_THRESHOLD",40);An(this,"MEDIUM_CONFIDENCE_THRESHOLD",25);An(this,"LOW_CONFIDENCE_THRESHOLD",15)}async approveEnquiry(e){try{console.log(" AI: Analyzing enquiry for auto-approval...",e.id);const r=await Tle.checkForDuplicates(e.title,e.description,e.userId);if(r.isDuplicate)return console.log(" AI: Duplicate detected - flagging for manual review"),{approved:!1,confidence:0,reason:r.reason,requiresHumanReview:!0,aiAnalysis:{contentQuality:0,legitimacyScore:0,riskAssessment:100,categoryMatch:0}};const n=await this.analyzeContentQuality(e),s=await this.analyzeLegitimacy(e),a=await this.assessRisk(e),o=await this.analyzeCategoryMatch(e),l=Math.round((n+s+(100-a)+o)/4),c={contentQuality:n,legitimacyScore:s,riskAssessment:a,categoryMatch:o};console.log(" AI: Enquiry analysis scores:",{contentQuality:n,legitimacyScore:s,riskAssessment:a,categoryMatch:o,finalConfidence:l});let u=!1,d="",h=!1;l>=this.MIN_CONFIDENCE_THRESHOLD?(u=!0,d=`Auto-approved by AI (${l}% confidence). High quality enquiry with low risk.`):l>=this.MEDIUM_CONFIDENCE_THRESHOLD?(u=!1,h=!0,d=`Flagged for human review (${l}% confidence). Moderate quality with some concerns.`):l>=this.LOW_CONFIDENCE_THRESHOLD?(u=!1,h=!0,d=`Flagged for human review (${l}% confidence). Low quality or high risk detected.`):(u=!1,d=`Auto-rejected by AI (${l}% confidence). Poor quality or high risk content.`);const f={approved:u,confidence:l,reason:d,requiresHumanReview:h,aiAnalysis:c};return console.log(" AI: Enquiry analysis complete:",f),f}catch(r){return console.error(" AI: Error in enquiry approval:",r),{approved:!1,confidence:0,reason:"AI analysis failed. Requires human review.",requiresHumanReview:!0,aiAnalysis:{contentQuality:0,legitimacyScore:0,riskAssessment:100,categoryMatch:0}}}}async verifyProfile(e,r){try{console.log(" AI: Analyzing profile for auto-verification...",e.userId);const n=await this.analyzeDocumentClarity(r),s=await this.analyzeDocumentAuthenticity(r),a=await this.assessProfileRisk(e),o=await this.checkCompliance(e),l=Math.round((n+s+(100-a)+o)/4),c={documentClarity:n,authenticityScore:s,riskLevel:a,complianceCheck:o};let u=!1,d="",h=!1;l>=this.MIN_CONFIDENCE_THRESHOLD?(u=!0,d=`Auto-verified by AI (${l}% confidence). Document appears authentic and clear.`):l>=this.MEDIUM_CONFIDENCE_THRESHOLD?(u=!1,h=!0,d=`Flagged for human review (${l}% confidence). Document quality needs verification.`):(u=!1,d=`Auto-rejected by AI (${l}% confidence). Document appears invalid or unclear.`);const f={verified:u,confidence:l,reason:d,requiresHumanReview:h,aiAnalysis:c};return console.log(" AI: Profile verification complete:",f),f}catch(n){return console.error(" AI: Error in profile verification:",n),{verified:!1,confidence:0,reason:"AI analysis failed. Requires human review.",requiresHumanReview:!0,aiAnalysis:{documentClarity:0,authenticityScore:0,riskLevel:100,complianceCheck:0}}}}async approveSellerResponse(e){try{console.log(" AI: Analyzing seller response for auto-approval...",e.id);const r=await this.analyzeResponseQuality(e),n=await this.analyzePriceReasonableness(e),s=await this.analyzeSellerCredibility(e),a=await this.analyzeContentRelevance(e),o=Math.round((r+n+s+a)/4),l={responseQuality:r,priceReasonableness:n,sellerCredibility:s,contentRelevance:a};let c=!1,u="",d=!1;o>=this.MIN_CONFIDENCE_THRESHOLD?(c=!0,u=`Auto-approved by AI (${o}% confidence). High quality response with reasonable pricing.`):o>=this.MEDIUM_CONFIDENCE_THRESHOLD?(c=!1,d=!0,u=`Flagged for human review (${o}% confidence). Response needs quality verification.`):(c=!1,u=`Auto-rejected by AI (${o}% confidence). Poor quality or unreasonable response.`);const h={approved:c,confidence:o,reason:u,requiresHumanReview:d,aiAnalysis:l};return console.log(" AI: Seller response analysis complete:",h),h}catch(r){return console.error(" AI: Error in seller response approval:",r),{approved:!1,confidence:0,reason:"AI analysis failed. Requires human review.",requiresHumanReview:!0,aiAnalysis:{responseQuality:0,priceReasonableness:0,sellerCredibility:0,contentRelevance:0}}}}async analyzeContentQuality(e){var a,o;const r=((a=e.title)==null?void 0:a.length)||0,n=((o=e.description)==null?void 0:o.length)||0;let s=50;return r>=10&&r<=100?s+=25:r>=5&&r<=150?s+=15:r>0&&(s+=5),n>=50&&n<=500?s+=25:n>=20&&n<=1e3?s+=15:n>0&&(s+=5),Math.min(100,s)}async analyzeLegitimacy(e){var c,u;let r=70;(e.userVerified||e.isProfileVerified)&&(r=90,console.log(" AI: User is verified - higher legitimacy score"));const n=["urgent","quick","asap","immediately","cash only"],s=((c=e.title)==null?void 0:c.toLowerCase())||"",a=((u=e.description)==null?void 0:u.toLowerCase())||"",o=n.filter(d=>s.includes(d)||a.includes(d)).length,l=e.userVerified||e.isProfileVerified?5:10;return r-=o*l,Math.max(0,Math.min(100,r))}async assessRisk(e){let r=20;return e.budget>1e4?r+=20:e.budget>5e3&&(r+=10),e.isUrgent&&(r+=15),(!e.location||e.location.trim()==="")&&(r+=10),Math.min(100,r)}async analyzeCategoryMatch(e){return["jobs","services","products","real-estate","vehicles","electronics","fashion","health","education","other"].includes(e.category)?90:30}async analyzeDocumentClarity(e){return 85}async analyzeDocumentAuthenticity(e){return 80}async assessProfileRisk(e){let r=15;return(!e.fullName||e.fullName.trim()==="")&&(r+=20),(!e.phone||e.phone.trim()==="")&&(r+=15),Math.min(100,r)}async checkCompliance(e){return 90}async analyzeResponseQuality(e){var a,o;const r=((a=e.message)==null?void 0:a.length)||0,n=((o=e.title)==null?void 0:o.length)||0;let s=50;return r>=50&&r<=500?s+=30:r>=20&&r<=1e3?s+=20:r>0&&(s+=10),n>=10&&n<=100?s+=20:n>0&&(s+=10),Math.min(100,s)}async analyzePriceReasonableness(e){const r=parseFloat(e.price)||0;return r>0&&r<1e6?85:r===0?30:20}async analyzeSellerCredibility(e){let r=60;return e.isIdentityVerified&&(r+=25),e.userProfileVerified&&(r+=15),Math.min(100,r)}async analyzeContentRelevance(e){return 80}async executeEnquiryApproval(e,r){try{const n=await this.approveEnquiry(r);return n.approved?(await dt(ke(oe,"enquiries",e),{status:"live",adminNotes:`Auto-approved by AI: ${n.reason}`,aiApproval:{approved:!0,confidence:n.confidence,timestamp:$e(),analysis:n.aiAnalysis},updatedAt:$e()}),await Cn.logEnquiryActivity(e,"approved",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Enquiry auto-approved:",e),!0):n.requiresHumanReview?(await dt(ke(oe,"enquiries",e),{adminNotes:`AI flagged for review: ${n.reason}`,aiApproval:{approved:!1,confidence:n.confidence,requiresReview:!0,timestamp:$e(),analysis:n.aiAnalysis},updatedAt:$e()}),await Cn.logEnquiryActivity(e,"flagged",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Enquiry flagged for review:",e),!1):(await dt(ke(oe,"enquiries",e),{status:"rejected",adminNotes:`Auto-rejected by AI: ${n.reason}`,aiApproval:{approved:!1,confidence:n.confidence,timestamp:$e(),analysis:n.aiAnalysis},updatedAt:$e()}),await Cn.logEnquiryActivity(e,"rejected",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Enquiry auto-rejected:",e),!1)}catch(n){return console.error(" AI: Error executing enquiry approval:",n),!1}}async executeProfileVerification(e,r,n){try{const s=await this.verifyProfile(r,n);return s.verified?(await dt(ke(oe,"userProfiles",e),{isProfileVerified:!0,verificationStatus:"approved",verificationDate:$e(),aiVerification:{verified:!0,confidence:s.confidence,timestamp:$e(),analysis:s.aiAnalysis},updatedAt:$e()}),await Cn.logProfileActivity(e,"approved",s.confidence,s.reason,s.aiAnalysis),console.log(" AI: Profile auto-verified:",e),!0):s.requiresHumanReview?(await dt(ke(oe,"userProfiles",e),{verificationStatus:"pending",aiVerification:{verified:!1,confidence:s.confidence,requiresReview:!0,timestamp:$e(),analysis:s.aiAnalysis},updatedAt:$e()}),await Cn.logProfileActivity(e,"flagged",s.confidence,s.reason,s.aiAnalysis),console.log(" AI: Profile flagged for review:",e),!1):(await dt(ke(oe,"userProfiles",e),{isProfileVerified:!1,verificationStatus:"rejected",verificationDate:$e(),aiVerification:{verified:!1,confidence:s.confidence,timestamp:$e(),analysis:s.aiAnalysis},updatedAt:$e()}),await Cn.logProfileActivity(e,"rejected",s.confidence,s.reason,s.aiAnalysis),console.log(" AI: Profile auto-rejected:",e),!1)}catch(s){return console.error(" AI: Error executing profile verification:",s),!1}}async executeSellerResponseApproval(e,r){try{const n=await this.approveSellerResponse(r);return n.approved?(await dt(ke(oe,"sellerSubmissions",e),{status:"approved",updatedAt:$e(),aiApproval:{approved:!0,confidence:n.confidence,timestamp:$e(),analysis:n.aiAnalysis}}),await Cn.logResponseActivity(e,"approved",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Seller response auto-approved:",e),!0):n.requiresHumanReview?(await dt(ke(oe,"sellerSubmissions",e),{status:"pending",aiApproval:{approved:!1,confidence:n.confidence,requiresReview:!0,timestamp:$e(),analysis:n.aiAnalysis},updatedAt:$e()}),await Cn.logResponseActivity(e,"flagged",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Seller response flagged for review:",e),!1):(await dt(ke(oe,"sellerSubmissions",e),{status:"rejected",updatedAt:$e(),aiApproval:{approved:!1,confidence:n.confidence,timestamp:$e(),analysis:n.aiAnalysis}}),await Cn.logResponseActivity(e,"rejected",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Seller response auto-rejected:",e),!1)}catch(n){return console.error(" AI: Error executing seller response approval:",n),!1}}}const wh=new Cle;class kle{constructor(){An(this,"isRunning",!1);An(this,"unsubscribeFunctions",[]);An(this,"processingQueue",new Set);An(this,"PROCESSING_DELAY",2e3)}start(){if(typeof window>"u"){console.log(" Background AI: Skipping start - not in browser environment");return}if(this.isRunning){console.log(" Background AI: Service already running");return}this.isRunning=!0,this.monitorNewEnquiries(),this.monitorNewProfileVerifications(),this.monitorNewSellerResponses()}startForAdmin(){console.log(" Background AI: Starting for authenticated admin..."),this.start()}stop(){if(!this.isRunning){console.log(" Background AI: Service not running");return}console.log(" Background AI: Stopping service..."),this.isRunning=!1,this.unsubscribeFunctions.forEach(e=>e()),this.unsubscribeFunctions=[],this.processingQueue.clear(),console.log(" Background AI: Service stopped")}monitorNewEnquiries(){const e=bt(Ze(oe,"enquiries"),Pt("status","==","pending"),ln("createdAt","desc")),r=Fr(e,async n=>{if(!this.isRunning)return;const s=n.docChanges().filter(a=>a.type==="added").map(a=>({id:a.doc.id,...a.doc.data()}));for(const a of s)this.processingQueue.has(`enquiry-${a.id}`)||this.processEnquiryWithDelay(a)});this.unsubscribeFunctions.push(r)}monitorNewProfileVerifications(){const e=bt(Ze(oe,"userProfiles"),ln("updatedAt","desc")),r=Fr(e,async n=>{if(!this.isRunning)return;const s=n.docChanges().filter(a=>a.type==="modified"||a.type==="added").map(a=>({id:a.doc.id,...a.doc.data()})).filter(a=>a.verificationStatus==="pending");for(const a of s)this.processingQueue.has(`profile-${a.id}`)||this.processProfileWithDelay(a)});this.unsubscribeFunctions.push(r)}monitorNewSellerResponses(){const e=bt(Ze(oe,"sellerSubmissions"),Pt("status","==","pending"),ln("createdAt","desc")),r=Fr(e,async n=>{if(!this.isRunning)return;const s=n.docChanges().filter(a=>a.type==="added").map(a=>({id:a.doc.id,...a.doc.data()}));for(const a of s)this.processingQueue.has(`response-${a.id}`)||this.processSellerResponseWithDelay(a)});this.unsubscribeFunctions.push(r)}async processEnquiryWithDelay(e){const r=`enquiry-${e.id}`;this.processingQueue.add(r);try{if(await new Promise(s=>setTimeout(s,this.PROCESSING_DELAY)),!this.isRunning)return;const n=await wh.executeEnquiryApproval(e.id,e)}catch(n){console.error(" Background AI: Error processing enquiry:",e.id,n)}finally{this.processingQueue.delete(r)}}async processProfileWithDelay(e){const r=`profile-${e.id}`;this.processingQueue.add(r);try{if(await new Promise(a=>setTimeout(a,this.PROCESSING_DELAY)),!this.isRunning)return;console.log(" Background AI: Processing profile verification:",e.id);const n={front:e.idFrontImage||"",back:e.idBackImage||""},s=await wh.executeProfileVerification(e.id,e,n);console.log(s?" Background AI: Profile auto-verified:":" Background AI: Profile flagged for review:",e.id)}catch(n){console.error(" Background AI: Error processing profile:",e.id,n)}finally{this.processingQueue.delete(r)}}async processSellerResponseWithDelay(e){const r=`response-${e.id}`;this.processingQueue.add(r);try{if(await new Promise(s=>setTimeout(s,this.PROCESSING_DELAY)),!this.isRunning)return;console.log(" Background AI: Processing seller response:",e.id);const n=await wh.executeSellerResponseApproval(e.id,e);console.log(n?" Background AI: Seller response auto-approved:":" Background AI: Seller response flagged for review:",e.id)}catch(n){console.error(" Background AI: Error processing seller response:",e.id,n)}finally{this.processingQueue.delete(r)}}getStatus(){return{isRunning:this.isRunning,processingQueue:Array.from(this.processingQueue),activeListeners:this.unsubscribeFunctions.length}}async processExistingPendingItems(){if(!this.isRunning){console.log(" Background AI: Service not running, cannot process existing items");return}console.log(" Background AI: Processing existing pending items...");try{const e=await Bt(bt(Ze(oe,"enquiries"),Pt("status","==","pending")));for(const s of e.docs){const a={id:s.id,...s.data()};this.processingQueue.has(`enquiry-${a.id}`)||this.processEnquiryWithDelay(a)}const r=await Bt(bt(Ze(oe,"userProfiles")));for(const s of r.docs){const a={id:s.id,...s.data()};a.verificationStatus==="pending"&&(this.processingQueue.has(`profile-${a.id}`)||this.processProfileWithDelay(a))}const n=await Bt(bt(Ze(oe,"sellerSubmissions"),Pt("status","==","pending")));for(const s of n.docs){const a={id:s.id,...s.data()};this.processingQueue.has(`response-${a.id}`)||this.processSellerResponseWithDelay(a)}console.log(" Background AI: Existing pending items queued for processing")}catch(e){console.error(" Background AI: Error processing existing pending items:",e)}}}const jo=new kle;class Ile{constructor(){An(this,"isAIModeEnabled",!0);An(this,"processingQueue",new Set);An(this,"MAX_PROCESSING_TIME",5e3)}setAIMode(e){this.isAIModeEnabled=e,console.log(` Realtime AI: Mode ${e?"ENABLED":"DISABLED"}`)}isAIModeActive(){return this.isAIModeEnabled}async processEnquirySubmission(e,r){if(console.log(" Realtime AI: Processing enquiry submission:",e,"AI Mode:",this.isAIModeEnabled),!this.isAIModeEnabled)return console.log(" Realtime AI: AI mode disabled, skipping processing"),{success:!1,action:"flagged",confidence:0,reason:"AI mode disabled - requires manual review",processingTime:0};if(this.processingQueue.has(`enquiry-${e}`))return{success:!1,action:"flagged",confidence:0,reason:"Already processing",processingTime:0};const n=Date.now();this.processingQueue.add(`enquiry-${e}`);try{console.log(" Realtime AI: Processing enquiry submission:",e);const s=await wh.approveEnquiry(r),a=Date.now()-n;let o=!1,l="flagged";return s.approved?(await dt(ke(oe,"enquiries",e),{status:"live",adminNotes:`Auto-approved by AI: ${s.reason}`,aiApproval:{approved:!0,confidence:s.confidence,timestamp:$e(),analysis:s.aiAnalysis,processingTime:a},updatedAt:$e()}),await Cn.logEnquiryActivity(e,"approved",s.confidence,s.reason,s.aiAnalysis),o=!0,l="approved",console.log(" Realtime AI: Enquiry auto-approved and made live:",e)):s.requiresHumanReview?(await dt(ke(oe,"enquiries",e),{adminNotes:`AI flagged for review: ${s.reason}`,aiApproval:{approved:!1,confidence:s.confidence,requiresReview:!0,timestamp:$e(),analysis:s.aiAnalysis,processingTime:a},updatedAt:$e()}),await Cn.logEnquiryActivity(e,"flagged",s.confidence,s.reason,s.aiAnalysis),l="flagged",console.log(" Realtime AI: Enquiry flagged for review:",e)):(await dt(ke(oe,"enquiries",e),{status:"rejected",adminNotes:`Auto-rejected by AI: ${s.reason}`,aiApproval:{approved:!1,confidence:s.confidence,timestamp:$e(),analysis:s.aiAnalysis,processingTime:a},updatedAt:$e()}),await Cn.logEnquiryActivity(e,"rejected",s.confidence,s.reason,s.aiAnalysis),l="rejected",console.log(" Realtime AI: Enquiry auto-rejected:",e)),{success:o,action:l,confidence:s.confidence,reason:s.reason,processingTime:a}}catch(s){return console.error(" Realtime AI: Error processing enquiry:",e,s),{success:!1,action:"flagged",confidence:0,reason:"AI processing failed - requires manual review",processingTime:Date.now()-n}}finally{this.processingQueue.delete(`enquiry-${e}`)}}async processProfileVerification(e,r,n){if(console.log(" Realtime AI: Processing profile verification:",e,"AI Mode:",this.isAIModeEnabled),!this.isAIModeEnabled)return console.log(" Realtime AI: AI mode disabled, skipping processing"),{success:!1,action:"flagged",confidence:0,reason:"AI mode disabled - requires manual review",processingTime:0};if(this.processingQueue.has(`profile-${e}`))return{success:!1,action:"flagged",confidence:0,reason:"Already processing",processingTime:0};const s=Date.now();this.processingQueue.add(`profile-${e}`);try{console.log(" Realtime AI: Processing profile verification:",e);const a=await wh.verifyProfile(r,n),o=Date.now()-s;let l=!1,c="flagged";return a.verified?(await dt(ke(oe,"userProfiles",e),{isProfileVerified:!0,verificationStatus:"approved",verificationDate:$e(),aiVerification:{verified:!0,confidence:a.confidence,timestamp:$e(),analysis:a.aiAnalysis,processingTime:o},updatedAt:$e()}),await Cn.logProfileActivity(e,"approved",a.confidence,a.reason,a.aiAnalysis),l=!0,c="approved",console.log(" Realtime AI: Profile auto-verified:",e)):a.requiresHumanReview?(await dt(ke(oe,"userProfiles",e),{verificationStatus:"pending",aiVerification:{verified:!1,confidence:a.confidence,requiresReview:!0,timestamp:$e(),analysis:a.aiAnalysis,processingTime:o},updatedAt:$e()}),await Cn.logProfileActivity(e,"flagged",a.confidence,a.reason,a.aiAnalysis),c="flagged",console.log(" Realtime AI: Profile flagged for review:",e)):(await dt(ke(oe,"userProfiles",e),{isProfileVerified:!1,verificationStatus:"rejected",verificationDate:$e(),aiVerification:{verified:!1,confidence:a.confidence,timestamp:$e(),analysis:a.aiAnalysis,processingTime:o},updatedAt:$e()}),await Cn.logProfileActivity(e,"rejected",a.confidence,a.reason,a.aiAnalysis),c="rejected",console.log(" Realtime AI: Profile auto-rejected:",e)),{success:l,action:c,confidence:a.confidence,reason:a.reason,processingTime:o}}catch(a){return console.error(" Realtime AI: Error processing profile:",e,a),{success:!1,action:"flagged",confidence:0,reason:"AI processing failed - requires manual review",processingTime:Date.now()-s}}finally{this.processingQueue.delete(`profile-${e}`)}}async processSellerResponse(e,r){if(console.log(" Realtime AI: Processing seller response:",e,"AI Mode:",this.isAIModeEnabled),!this.isAIModeEnabled)return console.log(" Realtime AI: AI mode disabled, skipping processing"),{success:!1,action:"flagged",confidence:0,reason:"AI mode disabled - requires manual review",processingTime:0};if(this.processingQueue.has(`response-${e}`))return{success:!1,action:"flagged",confidence:0,reason:"Already processing",processingTime:0};const n=Date.now();this.processingQueue.add(`response-${e}`);try{console.log(" Realtime AI: Processing seller response:",e);const s=await wh.approveSellerResponse(r),a=Date.now()-n;let o=!1,l="flagged";return s.approved?(await dt(ke(oe,"sellerSubmissions",e),{status:"approved",updatedAt:$e(),aiApproval:{approved:!0,confidence:s.confidence,timestamp:$e(),analysis:s.aiAnalysis,processingTime:a}}),await Cn.logResponseActivity(e,"approved",s.confidence,s.reason,s.aiAnalysis),o=!0,l="approved",console.log(" Realtime AI: Seller response auto-approved:",e)):s.requiresHumanReview?(await dt(ke(oe,"sellerSubmissions",e),{status:"pending",aiApproval:{approved:!1,confidence:s.confidence,requiresReview:!0,timestamp:$e(),analysis:s.aiAnalysis,processingTime:a},updatedAt:$e()}),await Cn.logResponseActivity(e,"flagged",s.confidence,s.reason,s.aiAnalysis),l="flagged",console.log(" Realtime AI: Seller response flagged for review:",e)):(await dt(ke(oe,"sellerSubmissions",e),{status:"rejected",updatedAt:$e(),aiApproval:{approved:!1,confidence:s.confidence,timestamp:$e(),analysis:s.aiAnalysis,processingTime:a}}),await Cn.logResponseActivity(e,"rejected",s.confidence,s.reason,s.aiAnalysis),l="rejected",console.log(" Realtime AI: Seller response auto-rejected:",e)),{success:o,action:l,confidence:s.confidence,reason:s.reason,processingTime:a}}catch(s){return console.error(" Realtime AI: Error processing seller response:",e,s),{success:!1,action:"flagged",confidence:0,reason:"AI processing failed - requires manual review",processingTime:Date.now()-n}}finally{this.processingQueue.delete(`response-${e}`)}}getProcessingStatus(){return{isAIModeEnabled:this.isAIModeEnabled,processingQueue:Array.from(this.processingQueue),queueSize:this.processingQueue.size}}}const Ou=new Ile;Ou.setAIMode(!0);const Rle=1,Ole=1e6;let v2=0;function Dle(){return v2=(v2+1)%Number.MAX_SAFE_INTEGER,v2.toString()}const b2=new Map,LM=t=>{if(b2.has(t))return;const e=setTimeout(()=>{b2.delete(t),Qp({type:"REMOVE_TOAST",toastId:t})},Ole);b2.set(t,e)},Mle=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Rle)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?LM(r):t.toasts.forEach(n=>{LM(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},yv=[];let vv={toasts:[]};function Qp(t){vv=Mle(vv,t),yv.forEach(e=>{e(vv)})}function ce({...t}){const e=Dle(),r=s=>Qp({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Qp({type:"DISMISS_TOAST",toastId:e});return Qp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function $le(){const[t,e]=g.useState(vv);return g.useEffect(()=>(yv.push(e),()=>{const r=yv.indexOf(e);r>-1&&yv.splice(r,1)}),[t]),{...t,toast:ce,dismiss:r=>Qp({type:"DISMISS_TOAST",toastId:r})}}function De(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Lle(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function F1(...t){return e=>t.forEach(r=>Lle(r,e))}function At(...t){return g.useCallback(F1(...t),t)}function Fle(t,e=[]){let r=[];function n(a,o){const l=g.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,v=g.useMemo(()=>x,Object.values(x));return i.jsx(p.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[t][c])||l,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Vle(s,...e)]}function Vle(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Go=g.forwardRef((t,e)=>{const{children:r,...n}=t,s=g.Children.toArray(r),a=s.find(Ble);if(a){const o=a.props.children,l=s.map(c=>c===a?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:c);return i.jsx(r_,{...n,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,l):null})}return i.jsx(r_,{...n,ref:e,children:r})});Go.displayName="Slot";var r_=g.forwardRef((t,e)=>{const{children:r,...n}=t;if(g.isValidElement(r)){const s=qle(r);return g.cloneElement(r,{...Ule(n,r.props),ref:e?F1(e,s):s})}return g.Children.count(r)>1?g.Children.only(null):null});r_.displayName="SlotClone";var SU=({children:t})=>i.jsx(i.Fragment,{children:t});function Ble(t){return g.isValidElement(t)&&t.type===SU}function Ule(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function qle(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function V1(t){const e=t+"CollectionProvider",[r,n]=Fle(e),[s,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:p}=m,v=L.useRef(null),w=L.useRef(new Map).current;return i.jsx(s,{scope:x,itemMap:w,collectionRef:v,children:p})};o.displayName=e;const l=t+"CollectionSlot",c=L.forwardRef((m,x)=>{const{scope:p,children:v}=m,w=a(l,p),b=At(x,w.collectionRef);return i.jsx(Go,{ref:b,children:v})});c.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=L.forwardRef((m,x)=>{const{scope:p,children:v,...w}=m,b=L.useRef(null),j=At(x,b),N=a(u,p);return L.useEffect(()=>(N.itemMap.set(b,{ref:b,...w}),()=>void N.itemMap.delete(b))),i.jsx(Go,{[d]:"",ref:j,children:v})});h.displayName=u;function f(m){const x=a(t+"CollectionConsumer",m);return L.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((N,E)=>w.indexOf(N.ref.current)-w.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,n]}function zle(t,e){const r=g.createContext(e),n=a=>{const{children:o,...l}=a,c=g.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(a){const o=g.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,s]}function ba(t,e=[]){let r=[];function n(a,o){const l=g.createContext(o),c=r.length;r=[...r,o];const u=h=>{var w;const{scope:f,children:m,...x}=h,p=((w=f==null?void 0:f[t])==null?void 0:w[c])||l,v=g.useMemo(()=>x,Object.values(x));return i.jsx(p.Provider,{value:v,children:m})};u.displayName=a+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[t])==null?void 0:p[c])||l,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Wle(s,...e)]}function Wle(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Hle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],et=Hle.reduce((t,e)=>{const r=g.forwardRef((n,s)=>{const{asChild:a,...o}=n,l=a?Go:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function CC(t,e){t&&Cc.flushSync(()=>t.dispatchEvent(e))}function Mr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Gle(t,e=globalThis==null?void 0:globalThis.document){const r=Mr(t);g.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Kle="DismissableLayer",n_="dismissableLayer.update",Yle="dismissableLayer.pointerDownOutside",Qle="dismissableLayer.focusOutside",FM,EU=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),md=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=g.useContext(EU),[d,h]=g.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),x=At(e,_=>h(_)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=p.indexOf(v),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=w,E=Jle(_=>{const S=_.target,A=[...u.branches].some(T=>T.contains(S));!N||A||(s==null||s(_),o==null||o(_),_.defaultPrevented||l==null||l())},f),C=Zle(_=>{const S=_.target;[...u.branches].some(T=>T.contains(S))||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},f);return Gle(_=>{b===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},f),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(FM=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),VM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=FM)}},[d,f,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),VM())},[d,u]),g.useEffect(()=>{const _=()=>m({});return document.addEventListener(n_,_),()=>document.removeEventListener(n_,_)},[]),i.jsx(et.div,{...c,ref:x,style:{pointerEvents:j?N?"auto":"none":void 0,...t.style},onFocusCapture:De(t.onFocusCapture,C.onFocusCapture),onBlurCapture:De(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:De(t.onPointerDownCapture,E.onPointerDownCapture)})});md.displayName=Kle;var Xle="DismissableLayerBranch",_U=g.forwardRef((t,e)=>{const r=g.useContext(EU),n=g.useRef(null),s=At(e,n);return g.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(et.div,{...t,ref:s})});_U.displayName=Xle;function Jle(t,e=globalThis==null?void 0:globalThis.document){const r=Mr(t),n=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){PU(Yle,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Zle(t,e=globalThis==null?void 0:globalThis.document){const r=Mr(t),n=g.useRef(!1);return g.useEffect(()=>{const s=a=>{a.target&&!n.current&&PU(Qle,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function VM(){const t=new CustomEvent(n_);document.dispatchEvent(t)}function PU(t,e,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?CC(s,a):s.dispatchEvent(a)}var ece=md,tce=_U,Kn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},rce="Portal",lm=g.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,a]=g.useState(!1);Kn(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?LV.createPortal(i.jsx(et.div,{...n,ref:e}),o):null});lm.displayName=rce;function nce(t,e){return g.useReducer((r,n)=>e[r][n]??r,t)}var Ln=t=>{const{present:e,children:r}=t,n=sce(e),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),a=At(n.ref,ice(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:a}):null};Ln.displayName="Presence";function sce(t){const[e,r]=g.useState(),n=g.useRef({}),s=g.useRef(t),a=g.useRef("none"),o=t?"mounted":"unmounted",[l,c]=nce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=N0(n.current);a.current=l==="mounted"?u:"none"},[l]),Kn(()=>{const u=n.current,d=s.current;if(d!==t){const f=a.current,m=N0(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Kn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const p=N0(n.current).includes(m.animationName);if(m.target===e&&p&&(c("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=m=>{m.target===e&&(a.current=N0(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function N0(t){return(t==null?void 0:t.animationName)||"none"}function ice(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Za({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=ace({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,l=Mr(r),c=g.useCallback(u=>{if(a){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else s(u)},[a,t,s,l]);return[o,c]}function ace({defaultProp:t,onChange:e}){const r=g.useState(t),[n]=r,s=g.useRef(n),a=Mr(e);return g.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var oce="VisuallyHidden",ny=g.forwardRef((t,e)=>i.jsx(et.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ny.displayName=oce;var lce=ny,kC="ToastProvider",[IC,cce,uce]=V1("Toast"),[AU,FWe]=ba("Toast",[uce]),[dce,B1]=AU(kC),TU=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=t,[l,c]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),f=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${kC}\`. Expected non-empty \`string\`.`),i.jsx(IC.Provider,{scope:e,children:i.jsx(dce,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};TU.displayName=kC;var CU="ToastViewport",hce=["F8"],s_="toast.viewportPause",i_="toast.viewportResume",kU=g.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=hce,label:s="Notifications ({hotkey})",...a}=t,o=B1(CU,r),l=cce(r),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=At(e,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;g.useEffect(()=>{const v=w=>{var j;n.length!==0&&n.every(N=>w[N]||w.code===N)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),g.useEffect(()=>{const v=c.current,w=h.current;if(x&&v&&w){const b=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(s_);w.dispatchEvent(C),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(i_);w.dispatchEvent(C),o.isClosePausedRef.current=!1}},N=C=>{!v.contains(C.relatedTarget)&&j()},E=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",b),v.addEventListener("focusout",N),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",E),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[x,o.isClosePausedRef]);const p=g.useCallback(({tabbingDirection:v})=>{const b=l().map(j=>{const N=j.ref.current,E=[N,...Ece(N)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return g.useEffect(()=>{const v=h.current;if(v){const w=b=>{var E,C,_;const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const S=document.activeElement,A=b.shiftKey;if(b.target===v&&A){(E=u.current)==null||E.focus();return}const P=p({tabbingDirection:A?"backwards":"forwards"}),R=P.findIndex(M=>M===S);w2(P.slice(R+1))?b.preventDefault():A?(C=u.current)==null||C.focus():(_=d.current)==null||_.focus()}};return v.addEventListener("keydown",w),()=>v.removeEventListener("keydown",w)}},[l,p]),i.jsxs(tce,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&i.jsx(a_,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});w2(v)}}),i.jsx(IC.Slot,{scope:r,children:i.jsx(et.ol,{tabIndex:-1,...a,ref:f})}),x&&i.jsx(a_,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});w2(v)}})]})});kU.displayName=CU;var IU="ToastFocusProxy",a_=g.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,a=B1(IU,r);return i.jsx(ny,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});a_.displayName=IU;var U1="Toast",fce="toast.swipeStart",mce="toast.swipeMove",pce="toast.swipeCancel",gce="toast.swipeEnd",RU=g.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=t,[l=!0,c]=Za({prop:n,defaultProp:s,onChange:a});return i.jsx(Ln,{present:r||l,children:i.jsx(vce,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Mr(t.onPause),onResume:Mr(t.onResume),onSwipeStart:De(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:De(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:De(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:De(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});RU.displayName=U1;var[xce,yce]=AU(U1,{onClose(){}}),vce=g.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...x}=t,p=B1(U1,r),[v,w]=g.useState(null),b=At(e,M=>w(M)),j=g.useRef(null),N=g.useRef(null),E=s||p.duration,C=g.useRef(0),_=g.useRef(E),S=g.useRef(0),{onToastAdd:A,onToastRemove:T}=p,I=Mr(()=>{var q;(v==null?void 0:v.contains(document.activeElement))&&((q=p.viewport)==null||q.focus()),o()}),P=g.useCallback(M=>{!M||M===1/0||(window.clearTimeout(S.current),C.current=new Date().getTime(),S.current=window.setTimeout(I,M))},[I]);g.useEffect(()=>{const M=p.viewport;if(M){const q=()=>{P(_.current),u==null||u()},W=()=>{const B=new Date().getTime()-C.current;_.current=_.current-B,window.clearTimeout(S.current),c==null||c()};return M.addEventListener(s_,W),M.addEventListener(i_,q),()=>{M.removeEventListener(s_,W),M.removeEventListener(i_,q)}}},[p.viewport,E,c,u,P]),g.useEffect(()=>{a&&!p.isClosePausedRef.current&&P(E)},[a,E,p.isClosePausedRef,P]),g.useEffect(()=>(A(),()=>T()),[A,T]);const R=g.useMemo(()=>v?VU(v):null,[v]);return p.viewport?i.jsxs(i.Fragment,{children:[R&&i.jsx(bce,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),i.jsx(xce,{scope:r,onClose:I,children:Cc.createPortal(i.jsx(IC.ItemSlot,{scope:r,children:i.jsx(ece,{asChild:!0,onEscapeKeyDown:De(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:De(t.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:De(t.onPointerDown,M=>{M.button===0&&(j.current={x:M.clientX,y:M.clientY})}),onPointerMove:De(t.onPointerMove,M=>{if(!j.current)return;const q=M.clientX-j.current.x,W=M.clientY-j.current.y,B=!!N.current,D=["left","right"].includes(p.swipeDirection),V=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,K=D?V(0,q):0,G=D?0:V(0,W),Q=M.pointerType==="touch"?10:2,ae={x:K,y:G},U={originalEvent:M,delta:ae};B?(N.current=ae,S0(mce,h,U,{discrete:!1})):BM(ae,p.swipeDirection,Q)?(N.current=ae,S0(fce,d,U,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(q)>Q||Math.abs(W)>Q)&&(j.current=null)}),onPointerUp:De(t.onPointerUp,M=>{const q=N.current,W=M.target;if(W.hasPointerCapture(M.pointerId)&&W.releasePointerCapture(M.pointerId),N.current=null,j.current=null,q){const B=M.currentTarget,D={originalEvent:M,delta:q};BM(q,p.swipeDirection,p.swipeThreshold)?S0(gce,m,D,{discrete:!0}):S0(pce,f,D,{discrete:!0}),B.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),bce=t=>{const{__scopeToast:e,children:r,...n}=t,s=B1(U1,e),[a,o]=g.useState(!1),[l,c]=g.useState(!1);return Nce(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(lm,{asChild:!0,children:i.jsx(ny,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},wce="ToastTitle",OU=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(et.div,{...n,ref:e})});OU.displayName=wce;var jce="ToastDescription",DU=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(et.div,{...n,ref:e})});DU.displayName=jce;var MU="ToastAction",$U=g.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(FU,{altText:r,asChild:!0,children:i.jsx(RC,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${MU}\`. Expected non-empty \`string\`.`),null)});$U.displayName=MU;var LU="ToastClose",RC=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=yce(LU,r);return i.jsx(FU,{asChild:!0,children:i.jsx(et.button,{type:"button",...n,ref:e,onClick:De(t.onClick,s.onClose)})})});RC.displayName=LU;var FU=g.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return i.jsx(et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function VU(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Sce(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...VU(n))}}),e}function S0(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?CC(s,a):s.dispatchEvent(a)}var BM=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),a=n>s;return e==="left"||e==="right"?a&&n>r:!a&&s>r};function Nce(t=()=>{}){const e=Mr(t);Kn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Sce(t){return t.nodeType===t.ELEMENT_NODE}function Ece(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function w2(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var _ce=TU,BU=kU,UU=RU,qU=OU,zU=DU,WU=$U,HU=RC;function GU(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=GU(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function St(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=GU(t))&&(n&&(n+=" "),n+=e);return n}const UM=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qM=St,cm=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return qM(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=e,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const f=UM(d)||UM(h);return s[u][f]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(x=>{let[p,v]=x;return Array.isArray(v)?v.includes({...a,...l}[p]):{...a,...l}[p]===v})?[...u,h,f]:u},[]);return qM(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KU=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ace={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...Ace,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:KU("lucide",s),...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const r=g.forwardRef(({className:n,...s},a)=>g.createElement(Tce,{ref:a,iconNode:e,className:KU(`lucide-${Pce(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=Me("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=Me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=Me("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=Me("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=Me("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Me("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Me("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=Me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=Me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=Me("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=Me("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=Me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=Me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=Me("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=Me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=Me("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=Me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=Me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Me("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=Me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=Me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=Me("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=Me("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=Me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=Me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=Me("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Me("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=Me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=Me("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=Me("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=Me("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=Me("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=Me("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=Me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Me("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=Me("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=Me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=Me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=Me("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=Me("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Me("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=Me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=Me("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=Me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=Me("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=Me("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=Me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),LC="-",cue=t=>{const e=due(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(LC);return l[0]===""&&l.length!==1&&l.shift(),QU(l,e)||uue(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},QU=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?QU(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(LC);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},XM=/^\[(.+)\]$/,uue=t=>{if(XM.test(t)){const e=XM.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},due=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return fue(Object.entries(t.classGroups),r).forEach(([a,o])=>{c_(o,n,a,e)}),n},c_=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:JM(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(hue(s)){c_(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{c_(o,JM(e,a),r,n)})})},JM=(t,e)=>{let r=t;return e.split(LC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},hue=t=>t.isThemeGetter,fue=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,s]}):t,mue=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},XU="!",pue=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let w=l[v];if(u===0){if(w===s&&(n||l.slice(v,v+a)===e)){c.push(l.slice(d,v)),d=v+a;continue}if(w==="/"){h=v;continue}}w==="["?u++:w==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(XU),x=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},gue=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},xue=t=>({cache:mue(t.cacheSize),parseClassName:pue(t),...cue(t)}),yue=/\s+/,vue=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],o=t.trim().split(yue);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let x=!!m,p=n(x?f.substring(0,m):f);if(!p){if(!x){l=u+(l.length>0?" "+l:l);continue}if(p=n(f),!p){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=gue(d).join(":"),w=h?v+XU:v,b=w+p;if(a.includes(b))continue;a.push(b);const j=s(p,x);for(let N=0;N<j.length;++N){const E=j[N];a.push(w+E)}l=u+(l.length>0?" "+l:l)}return l};function bue(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=JU(e))&&(n&&(n+=" "),n+=r);return n}const JU=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=JU(t[n]))&&(r&&(r+=" "),r+=e);return r};function wue(t,...e){let r,n,s,a=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=xue(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=vue(c,r);return s(c,d),d}return function(){return a(bue.apply(null,arguments))}}const wr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ZU=/^\[(?:([a-z-]+):)?(.+)\]$/i,jue=/^\d+\/\d+$/,Nue=new Set(["px","full","screen"]),Sue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Eue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_ue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Aue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mo=t=>Sh(t)||Nue.has(t)||jue.test(t),xl=t=>um(t,"length",Mue),Sh=t=>!!t&&!Number.isNaN(Number(t)),P2=t=>um(t,"number",Sh),rp=t=>!!t&&Number.isInteger(Number(t)),Tue=t=>t.endsWith("%")&&Sh(t.slice(0,-1)),Et=t=>ZU.test(t),yl=t=>Sue.test(t),Cue=new Set(["length","size","percentage"]),kue=t=>um(t,Cue,e7),Iue=t=>um(t,"position",e7),Rue=new Set(["image","url"]),Oue=t=>um(t,Rue,Lue),Due=t=>um(t,"",$ue),np=()=>!0,um=(t,e,r)=>{const n=ZU.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Mue=t=>Eue.test(t)&&!_ue.test(t),e7=()=>!1,$ue=t=>Pue.test(t),Lue=t=>Aue.test(t),Fue=()=>{const t=wr("colors"),e=wr("spacing"),r=wr("blur"),n=wr("brightness"),s=wr("borderColor"),a=wr("borderRadius"),o=wr("borderSpacing"),l=wr("borderWidth"),c=wr("contrast"),u=wr("grayscale"),d=wr("hueRotate"),h=wr("invert"),f=wr("gap"),m=wr("gradientColorStops"),x=wr("gradientColorStopPositions"),p=wr("inset"),v=wr("margin"),w=wr("opacity"),b=wr("padding"),j=wr("saturate"),N=wr("scale"),E=wr("sepia"),C=wr("skew"),_=wr("space"),S=wr("translate"),A=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Et,e],P=()=>[Et,e],R=()=>["",mo,xl],M=()=>["auto",Sh,Et],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",Et],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Sh,Et];return{cacheSize:500,separator:":",theme:{colors:[np],spacing:[mo,xl],blur:["none","",yl,Et],brightness:G(),borderColor:[t],borderRadius:["none","","full",yl,Et],borderSpacing:P(),borderWidth:R(),contrast:G(),grayscale:V(),hueRotate:G(),invert:V(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[Tue,xl],inset:I(),margin:I(),opacity:G(),padding:P(),saturate:G(),scale:G(),sepia:V(),skew:G(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Et]}],container:["container"],columns:[{columns:[yl]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Et]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rp,Et]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Et]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",rp,Et]}],"grid-cols":[{"grid-cols":[np]}],"col-start-end":[{col:["auto",{span:["full",rp,Et]},Et]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[np]}],"row-start-end":[{row:["auto",{span:[rp,Et]},Et]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Et]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Et,e]}],"min-w":[{"min-w":[Et,e,"min","max","fit"]}],"max-w":[{"max-w":[Et,e,"none","full","min","max","fit","prose",{screen:[yl]},yl]}],h:[{h:[Et,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Et,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Et,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Et,e,"auto","min","max","fit"]}],"font-size":[{text:["base",yl,xl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",P2]}],"font-family":[{font:[np]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Et]}],"line-clamp":[{"line-clamp":["none",Sh,P2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mo,Et]}],"list-image":[{"list-image":["none",Et]}],"list-style-type":[{list:["none","disc","decimal",Et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mo,xl]}],"underline-offset":[{"underline-offset":["auto",mo,Et]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),Iue]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Oue]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[mo,Et]}],"outline-w":[{outline:[mo,xl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[mo,xl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",yl,Due]}],"shadow-color":[{shadow:[np]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",yl,Et]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Et]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Et]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[rp,Et]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Et]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Et]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Et]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mo,xl,P2]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Vue=wue(Fue);function He(...t){return Vue(St(t))}function Nb(t){if(!t)return"0";const e=t.toString().replace(/,/g,"");if(isNaN(Number(e)))return t.toString();const r=e.split(".");let n=r[0];const s=r[1]?"."+r[1]:"";let a=n.substring(n.length-3);const o=n.substring(0,n.length-3);return o!==""&&(a=","+a),o.replace(/\B(?=(\d{2})+(?!\d))/g,",")+a+s}const Bue=_ce,t7=g.forwardRef(({className:t,...e},r)=>i.jsx(BU,{ref:r,className:He("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));t7.displayName=BU.displayName;const Uue=cm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border p-4 pr-8 shadow-2xl transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border-gray-700 bg-gray-800 text-white shadow-xl",destructive:"destructive group border-red-700 bg-red-900 text-red-50"}},defaultVariants:{variant:"default"}}),r7=g.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(UU,{ref:n,className:He(Uue({variant:e}),t),...r}));r7.displayName=UU.displayName;const que=g.forwardRef(({className:t,...e},r)=>i.jsx(WU,{ref:r,className:He("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-gray-600 bg-gray-700 px-3 text-sm font-medium text-white ring-offset-background transition-colors hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-red-300/40 group-[.destructive]:hover:border-red-600/30 group-[.destructive]:hover:bg-red-700 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400",t),...e}));que.displayName=WU.displayName;const n7=g.forwardRef(({className:t,...e},r)=>i.jsx(HU,{ref:r,className:He("absolute right-2 top-2 rounded-md p-1 text-white/50 opacity-0 transition-opacity hover:text-white focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Qr,{className:"h-4 w-4"})}));n7.displayName=HU.displayName;const s7=g.forwardRef(({className:t,...e},r)=>i.jsx(qU,{ref:r,className:He("text-sm font-semibold text-white",t),...e}));s7.displayName=qU.displayName;const i7=g.forwardRef(({className:t,...e},r)=>i.jsx(zU,{ref:r,className:He("text-sm text-gray-200",t),...e}));i7.displayName=zU.displayName;function zue(){const{toasts:t}=$le();return i.jsxs(Bue,{children:[t.map(function({id:e,title:r,description:n,action:s,...a}){return i.jsxs(r7,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(s7,{children:r}),n&&i.jsx(i7,{children:n})]}),s,i.jsx(n7,{})]},e)}),i.jsx(t7,{})]})}var Sb=["light","dark"],FC="(prefers-color-scheme: dark)",Wue=typeof window>"u",VC=g.createContext(void 0),Hue={setTheme:t=>{},themes:[]},a7=()=>{var t;return(t=g.useContext(VC))!=null?t:Hue},Gue=t=>g.useContext(VC)?t.children:g.createElement(Yue,{...t}),Kue=["light","dark"],Yue=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:a=Kue,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[h,f]=g.useState(()=>ZM(s,o)),[m,x]=g.useState(()=>ZM(s)),p=c?Object.values(c):a,v=g.useCallback(N=>{let E=N;if(!E)return;N==="system"&&r&&(E=e5());let C=c?c[E]:E,_=e?Xue():null,S=document.documentElement;if(l==="class"?(S.classList.remove(...p),C&&S.classList.add(C)):C?S.setAttribute(l,C):S.removeAttribute(l),n){let A=Sb.includes(o)?o:null,T=Sb.includes(E)?E:A;S.style.colorScheme=T}_==null||_()},[]),w=g.useCallback(N=>{let E=typeof N=="function"?N(N):N;f(E);try{localStorage.setItem(s,E)}catch{}},[t]),b=g.useCallback(N=>{let E=e5(N);x(E),h==="system"&&r&&!t&&v("system")},[h,t]);g.useEffect(()=>{let N=window.matchMedia(FC);return N.addListener(b),b(N),()=>N.removeListener(b)},[b]),g.useEffect(()=>{let N=E=>{if(E.key!==s)return;let C=E.newValue||o;w(C)};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[w]),g.useEffect(()=>{v(t??h)},[t,h]);let j=g.useMemo(()=>({theme:h,setTheme:w,forcedTheme:t,resolvedTheme:h==="system"?m:h,themes:r?[...a,"system"]:a,systemTheme:r?m:void 0}),[h,w,t,m,r,a]);return g.createElement(VC.Provider,{value:j},g.createElement(Que,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:s,themes:a,defaultTheme:o,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},Que=g.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?Sb.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,p=!1,v=!0)=>{let w=o?o[x]:x,b=p?x+"|| ''":`'${w}'`,j="";return s&&v&&!p&&Sb.includes(x)&&(j+=`d.style.colorScheme = '${x}';`),r==="class"?p||w?j+=`c.add(${b})`:j+="null":w&&(j+=`d[s](n,${b})`),j},m=t?`!function(){${d}${f(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${FC}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${h}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),ZM=(t,e)=>{if(Wue)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},Xue=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},e5=t=>(t||(t=window.matchMedia(FC)),t.matches?"dark":"light"),Jue=t=>{switch(t){case"success":return tde;case"info":return nde;case"warning":return rde;case"error":return sde;default:return null}},Zue=Array(12).fill(0),ede=({visible:t})=>L.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},L.createElement("div",{className:"sonner-spinner"},Zue.map((e,r)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),tde=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rde=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nde=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sde=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ide=()=>{let[t,e]=L.useState(document.hidden);return L.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},u_=1,ade=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:u_++,a=this.toasts.find(l=>l.id===s),o=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:r}),{...l,...t,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0;return n.then(async a=>{if(lde(a)&&!a.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:r,type:"error",message:o,description:l})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(a):e.success,l=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async a=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(a):e.error,l=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=e.finally)==null||a.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||u_++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},Xs=new ade,ode=(t,e)=>{let r=(e==null?void 0:e.id)||u_++;return Xs.addToast({title:t,...e,id:r}),r},lde=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",cde=ode,ude=()=>Xs.toasts;Object.assign(cde,{success:Xs.success,info:Xs.info,warning:Xs.warning,error:Xs.error,custom:Xs.custom,message:Xs.message,promise:Xs.promise,dismiss:Xs.dismiss,loading:Xs.loading},{getHistory:ude});function dde(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}dde(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function E0(t){return t.label!==void 0}var hde=3,fde="32px",mde=4e3,pde=356,gde=14,xde=20,yde=200;function vde(...t){return t.filter(Boolean).join(" ")}var bde=t=>{var e,r,n,s,a,o,l,c,u,d;let{invert:h,toast:f,unstyled:m,interacting:x,setHeights:p,visibleToasts:v,heights:w,index:b,toasts:j,expanded:N,removeToast:E,defaultRichColors:C,closeButton:_,style:S,cancelButtonStyle:A,actionButtonStyle:T,className:I="",descriptionClassName:P="",duration:R,position:M,gap:q,loadingIcon:W,expandByDefault:B,classNames:D,icons:V,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:G,cn:Q}=t,[ae,U]=L.useState(!1),[Y,ue]=L.useState(!1),[Z,Pe]=L.useState(!1),[te,ye]=L.useState(!1),[F,z]=L.useState(0),[ie,ne]=L.useState(0),he=L.useRef(null),ve=L.useRef(null),ge=b===0,X=b+1<=v,le=f.type,de=f.dismissible!==!1,Ge=f.className||"",Xe=f.descriptionClassName||"",Tt=L.useMemo(()=>w.findIndex(_e=>_e.toastId===f.id)||0,[w,f.id]),ht=L.useMemo(()=>{var _e;return(_e=f.closeButton)!=null?_e:_},[f.closeButton,_]),Ct=L.useMemo(()=>f.duration||R||mde,[f.duration,R]),vt=L.useRef(0),Ot=L.useRef(0),_r=L.useRef(0),rr=L.useRef(null),[hs,nr]=M.split("-"),cr=L.useMemo(()=>w.reduce((_e,Ve,Ce)=>Ce>=Tt?_e:_e+Ve.height,0),[w,Tt]),fs=ide(),Ts=f.invert||h,re=le==="loading";Ot.current=L.useMemo(()=>Tt*q+cr,[Tt,cr]),L.useEffect(()=>{U(!0)},[]),L.useLayoutEffect(()=>{if(!ae)return;let _e=ve.current,Ve=_e.style.height;_e.style.height="auto";let Ce=_e.getBoundingClientRect().height;_e.style.height=Ve,ne(Ce),p(st=>st.find(Rt=>Rt.toastId===f.id)?st.map(Rt=>Rt.toastId===f.id?{...Rt,height:Ce}:Rt):[{toastId:f.id,height:Ce,position:f.position},...st])},[ae,f.title,f.description,p,f.id]);let J=L.useCallback(()=>{ue(!0),z(Ot.current),p(_e=>_e.filter(Ve=>Ve.toastId!==f.id)),setTimeout(()=>{E(f)},yde)},[f,E,p,Ot]);L.useEffect(()=>{if(f.promise&&le==="loading"||f.duration===1/0||f.type==="loading")return;let _e,Ve=Ct;return N||x||G&&fs?(()=>{if(_r.current<vt.current){let Ce=new Date().getTime()-vt.current;Ve=Ve-Ce}_r.current=new Date().getTime()})():Ve!==1/0&&(vt.current=new Date().getTime(),_e=setTimeout(()=>{var Ce;(Ce=f.onAutoClose)==null||Ce.call(f,f),J()},Ve)),()=>clearTimeout(_e)},[N,x,B,f,Ct,J,f.promise,le,G,fs]),L.useEffect(()=>{let _e=ve.current;if(_e){let Ve=_e.getBoundingClientRect().height;return ne(Ve),p(Ce=>[{toastId:f.id,height:Ve,position:f.position},...Ce]),()=>p(Ce=>Ce.filter(st=>st.toastId!==f.id))}},[p,f.id]),L.useEffect(()=>{f.delete&&J()},[J,f.delete]);function Re(){return V!=null&&V.loading?L.createElement("div",{className:"sonner-loader","data-visible":le==="loading"},V.loading):W?L.createElement("div",{className:"sonner-loader","data-visible":le==="loading"},W):L.createElement(ede,{visible:le==="loading"})}return L.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ve,className:Q(I,Ge,D==null?void 0:D.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[le],(r=f==null?void 0:f.classNames)==null?void 0:r[le]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:C,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ae,"data-promise":!!f.promise,"data-removed":Y,"data-visible":X,"data-y-position":hs,"data-x-position":nr,"data-index":b,"data-front":ge,"data-swiping":Z,"data-dismissible":de,"data-type":le,"data-invert":Ts,"data-swipe-out":te,"data-expanded":!!(N||B&&ae),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${Y?F:Ot.current}px`,"--initial-height":B?"auto":`${ie}px`,...S,...f.style},onPointerDown:_e=>{re||!de||(he.current=new Date,z(Ot.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(Pe(!0),rr.current={x:_e.clientX,y:_e.clientY}))},onPointerUp:()=>{var _e,Ve,Ce,st;if(te||!de)return;rr.current=null;let Rt=Number(((_e=ve.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Gt=new Date().getTime()-((Ve=he.current)==null?void 0:Ve.getTime()),Kt=Math.abs(Rt)/Gt;if(Math.abs(Rt)>=xde||Kt>.11){z(Ot.current),(Ce=f.onDismiss)==null||Ce.call(f,f),J(),ye(!0);return}(st=ve.current)==null||st.style.setProperty("--swipe-amount","0px"),Pe(!1)},onPointerMove:_e=>{var Ve;if(!rr.current||!de)return;let Ce=_e.clientY-rr.current.y,st=_e.clientX-rr.current.x,Rt=(hs==="top"?Math.min:Math.max)(0,Ce),Gt=_e.pointerType==="touch"?10:2;Math.abs(Rt)>Gt?(Ve=ve.current)==null||Ve.style.setProperty("--swipe-amount",`${Ce}px`):Math.abs(st)>Gt&&(rr.current=null)}},ht&&!f.jsx?L.createElement("button",{"aria-label":K,"data-disabled":re,"data-close-button":!0,onClick:re||!de?()=>{}:()=>{var _e;J(),(_e=f.onDismiss)==null||_e.call(f,f)},className:Q(D==null?void 0:D.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||L.isValidElement(f.title)?f.jsx||f.title:L.createElement(L.Fragment,null,le||f.icon||f.promise?L.createElement("div",{"data-icon":"",className:Q(D==null?void 0:D.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Re():null,f.type!=="loading"?f.icon||(V==null?void 0:V[le])||Jue(le):null):null,L.createElement("div",{"data-content":"",className:Q(D==null?void 0:D.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},L.createElement("div",{"data-title":"",className:Q(D==null?void 0:D.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?L.createElement("div",{"data-description":"",className:Q(P,Xe,D==null?void 0:D.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),L.isValidElement(f.cancel)?f.cancel:f.cancel&&E0(f.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||A,onClick:_e=>{var Ve,Ce;E0(f.cancel)&&de&&((Ce=(Ve=f.cancel).onClick)==null||Ce.call(Ve,_e),J())},className:Q(D==null?void 0:D.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,L.isValidElement(f.action)?f.action:f.action&&E0(f.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:_e=>{var Ve,Ce;E0(f.action)&&(_e.defaultPrevented||((Ce=(Ve=f.action).onClick)==null||Ce.call(Ve,_e),J()))},className:Q(D==null?void 0:D.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function t5(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var wde=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=hde,toastOptions:m,dir:x=t5(),gap:p=gde,loadingIcon:v,icons:w,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:j,cn:N=vde}=t,[E,C]=L.useState([]),_=L.useMemo(()=>Array.from(new Set([r].concat(E.filter(G=>G.position).map(G=>G.position)))),[E,r]),[S,A]=L.useState([]),[T,I]=L.useState(!1),[P,R]=L.useState(!1),[M,q]=L.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=L.useRef(null),B=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=L.useRef(null),V=L.useRef(!1),K=L.useCallback(G=>{var Q;(Q=E.find(ae=>ae.id===G.id))!=null&&Q.delete||Xs.dismiss(G.id),C(ae=>ae.filter(({id:U})=>U!==G.id))},[E]);return L.useEffect(()=>Xs.subscribe(G=>{if(G.dismiss){C(Q=>Q.map(ae=>ae.id===G.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{LV.flushSync(()=>{C(Q=>{let ae=Q.findIndex(U=>U.id===G.id);return ae!==-1?[...Q.slice(0,ae),{...Q[ae],...G},...Q.slice(ae+1)]:[G,...Q]})})})}),[]),L.useEffect(()=>{if(c!=="system"){q(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{q(G?"dark":"light")})},[c]),L.useEffect(()=>{E.length<=1&&I(!1)},[E]),L.useEffect(()=>{let G=Q=>{var ae,U;n.every(Y=>Q[Y]||Q.code===Y)&&(I(!0),(ae=W.current)==null||ae.focus()),Q.code==="Escape"&&(document.activeElement===W.current||(U=W.current)!=null&&U.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[n]),L.useEffect(()=>{if(W.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,V.current=!1)}},[W.current]),E.length?L.createElement("section",{"aria-label":`${b} ${B}`,tabIndex:-1},_.map((G,Q)=>{var ae;let[U,Y]=G.split("-");return L.createElement("ol",{key:G,dir:x==="auto"?t5():x,tabIndex:-1,ref:W,className:o,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":U,"data-x-position":Y,style:{"--front-toast-height":`${((ae=S[0])==null?void 0:ae.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||fde,"--width":`${pde}px`,"--gap":`${p}px`,...h},onBlur:ue=>{V.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(V.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||V.current||(V.current=!0,D.current=ue.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{P||I(!1)},onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},E.filter(ue=>!ue.position&&Q===0||ue.position===G).map((ue,Z)=>{var Pe,te;return L.createElement(bde,{key:ue.id,icons:w,index:Z,toast:ue,defaultRichColors:u,duration:(Pe=m==null?void 0:m.duration)!=null?Pe:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(te=m==null?void 0:m.closeButton)!=null?te:a,interacting:P,position:G,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:K,toasts:E.filter(ye=>ye.position==ue.position),heights:S.filter(ye=>ye.position==ue.position),setHeights:A,expandByDefault:s,gap:p,loadingIcon:v,expanded:T,pauseWhenPageIsHidden:j,cn:N})}))})):null};const jde=({...t})=>{const{theme:e="system"}=a7();return i.jsx(wde,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Nde=DF.useId||(()=>{}),Sde=0;function ha(t){const[e,r]=g.useState(Nde());return Kn(()=>{r(n=>n??String(Sde++))},[t]),e?`radix-${e}`:""}const Ede=["top","right","bottom","left"],wc=Math.min,ti=Math.max,Eb=Math.round,_0=Math.floor,jc=t=>({x:t,y:t}),_de={left:"right",right:"left",bottom:"top",top:"bottom"},Pde={start:"end",end:"start"};function d_(t,e,r){return ti(t,wc(e,r))}function Yo(t,e){return typeof t=="function"?t(e):t}function Qo(t){return t.split("-")[0]}function dm(t){return t.split("-")[1]}function BC(t){return t==="x"?"y":"x"}function UC(t){return t==="y"?"height":"width"}function Nc(t){return["top","bottom"].includes(Qo(t))?"y":"x"}function qC(t){return BC(Nc(t))}function Ade(t,e,r){r===void 0&&(r=!1);const n=dm(t),s=qC(t),a=UC(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=_b(o)),[o,_b(o)]}function Tde(t){const e=_b(t);return[h_(t),e,h_(e)]}function h_(t){return t.replace(/start|end/g,e=>Pde[e])}function Cde(t,e,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?a:o;default:return[]}}function kde(t,e,r,n){const s=dm(t);let a=Cde(Qo(t),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),e&&(a=a.concat(a.map(h_)))),a}function _b(t){return t.replace(/left|right|bottom|top/g,e=>_de[e])}function Ide(t){return{top:0,right:0,bottom:0,left:0,...t}}function o7(t){return typeof t!="number"?Ide(t):{top:t,right:t,bottom:t,left:t}}function Pb(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function r5(t,e,r){let{reference:n,floating:s}=t;const a=Nc(e),o=qC(e),l=UC(o),c=Qo(e),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(dm(e)){case"start":m[o]-=f*(r&&u?-1:1);break;case"end":m[o]+=f*(r&&u?-1:1);break}return m}const Rde=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=r5(u,n,c),f=n,m={},x=0;for(let p=0;p<l.length;p++){const{name:v,fn:w}=l[p],{x:b,y:j,data:N,reset:E}=await w({x:d,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=b??d,h=j??h,m={...m,[v]:{...m[v],...N}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:d,y:h}=r5(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function Ug(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Yo(e,t),x=o7(m),v=l[f?h==="floating"?"reference":"floating":h],w=Pb(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},E=Pb(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(w.top-E.top+x.top)/N.y,bottom:(E.bottom-w.bottom+x.bottom)/N.y,left:(w.left-E.left+x.left)/N.x,right:(E.right-w.right+x.right)/N.x}}const Ode=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Yo(t,e)||{};if(u==null)return{};const h=o7(d),f={x:r,y:n},m=qC(s),x=UC(m),p=await o.getDimensions(u),v=m==="y",w=v?"top":"left",b=v?"bottom":"right",j=v?"clientHeight":"clientWidth",N=a.reference[x]+a.reference[m]-f[m]-a.floating[x],E=f[m]-a.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=C?C[j]:0;(!_||!await(o.isElement==null?void 0:o.isElement(C)))&&(_=l.floating[j]||a.floating[x]);const S=N/2-E/2,A=_/2-p[x]/2-1,T=wc(h[w],A),I=wc(h[b],A),P=T,R=_-p[x]-I,M=_/2-p[x]/2+S,q=d_(P,M,R),W=!c.arrow&&dm(s)!=null&&M!==q&&a.reference[x]/2-(M<P?T:I)-p[x]/2<0,B=W?M<P?M-P:M-R:0;return{[m]:f[m]+B,data:{[m]:q,centerOffset:M-q-B,...W&&{alignmentOffset:B}},reset:W}}}),Dde=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...v}=Yo(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=Qo(s),b=Nc(l),j=Qo(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=f||(j||!p?[_b(l)]:Tde(l)),C=x!=="none";!f&&C&&E.push(...kde(l,p,x,N));const _=[l,...E],S=await Ug(e,v),A=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&A.push(S[w]),h){const M=Ade(s,o,N);A.push(S[M[0]],S[M[1]])}if(T=[...T,{placement:s,overflows:A}],!A.every(M=>M<=0)){var I,P;const M=(((I=a.flip)==null?void 0:I.index)||0)+1,q=_[M];if(q)return{data:{index:M,overflows:T},reset:{placement:q}};let W=(P=T.filter(B=>B.overflows[0]<=0).sort((B,D)=>B.overflows[1]-D.overflows[1])[0])==null?void 0:P.placement;if(!W)switch(m){case"bestFit":{var R;const B=(R=T.filter(D=>{if(C){const V=Nc(D.placement);return V===b||V==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(V=>V>0).reduce((V,K)=>V+K,0)]).sort((D,V)=>D[1]-V[1])[0])==null?void 0:R[0];B&&(W=B);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function n5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function s5(t){return Ede.some(e=>t[e]>=0)}const Mde=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Yo(t,e);switch(n){case"referenceHidden":{const a=await Ug(e,{...s,elementContext:"reference"}),o=n5(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:s5(o)}}}case"escaped":{const a=await Ug(e,{...s,altBoundary:!0}),o=n5(a,r.floating);return{data:{escapedOffsets:o,escaped:s5(o)}}}default:return{}}}}};async function $de(t,e){const{placement:r,platform:n,elements:s}=t,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Qo(r),l=dm(r),c=Nc(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,h=Yo(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const Lde=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=e,c=await $de(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},Fde=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:w,y:b}=v;return{x:w,y:b}}},...c}=Yo(t,e),u={x:r,y:n},d=await Ug(e,c),h=Nc(Qo(s)),f=BC(h);let m=u[f],x=u[h];if(a){const v=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=m+d[v],j=m-d[w];m=d_(b,m,j)}if(o){const v=h==="y"?"top":"left",w=h==="y"?"bottom":"right",b=x+d[v],j=x-d[w];x=d_(b,x,j)}const p=l.fn({...e,[f]:m,[h]:x});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[f]:a,[h]:o}}}}}},Vde=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Yo(t,e),d={x:r,y:n},h=Nc(s),f=BC(h);let m=d[f],x=d[h];const p=Yo(l,e),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=f==="y"?"height":"width",N=a.reference[f]-a.floating[j]+v.mainAxis,E=a.reference[f]+a.reference[j]-v.mainAxis;m<N?m=N:m>E&&(m=E)}if(u){var w,b;const j=f==="y"?"width":"height",N=["top","left"].includes(Qo(s)),E=a.reference[h]-a.floating[j]+(N&&((w=o.offset)==null?void 0:w[h])||0)+(N?0:v.crossAxis),C=a.reference[h]+a.reference[j]+(N?0:((b=o.offset)==null?void 0:b[h])||0)-(N?v.crossAxis:0);x<E?x=E:x>C&&(x=C)}return{[f]:m,[h]:x}}}},Bde=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Yo(t,e),d=await Ug(e,u),h=Qo(s),f=dm(s),m=Nc(s)==="y",{width:x,height:p}=a.floating;let v,w;h==="top"||h==="bottom"?(v=h,w=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,v=f==="end"?"top":"bottom");const b=p-d.top-d.bottom,j=x-d.left-d.right,N=wc(p-d[v],b),E=wc(x-d[w],j),C=!e.middlewareData.shift;let _=N,S=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(S=j),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(_=b),C&&!f){const T=ti(d.left,0),I=ti(d.right,0),P=ti(d.top,0),R=ti(d.bottom,0);m?S=x-2*(T!==0||I!==0?T+I:ti(d.left,d.right)):_=p-2*(P!==0||R!==0?P+R:ti(d.top,d.bottom))}await c({...e,availableWidth:S,availableHeight:_});const A=await o.getDimensions(l.floating);return x!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function W1(){return typeof window<"u"}function hm(t){return l7(t)?(t.nodeName||"").toLowerCase():"#document"}function ci(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function so(t){var e;return(e=(l7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function l7(t){return W1()?t instanceof Node||t instanceof ci(t).Node:!1}function xa(t){return W1()?t instanceof Element||t instanceof ci(t).Element:!1}function eo(t){return W1()?t instanceof HTMLElement||t instanceof ci(t).HTMLElement:!1}function i5(t){return!W1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ci(t).ShadowRoot}function sy(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=ya(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function Ude(t){return["table","td","th"].includes(hm(t))}function H1(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function zC(t){const e=WC(),r=xa(t)?ya(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function qde(t){let e=Sc(t);for(;eo(e)&&!hf(e);){if(zC(e))return e;if(H1(e))return null;e=Sc(e)}return null}function WC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hf(t){return["html","body","#document"].includes(hm(t))}function ya(t){return ci(t).getComputedStyle(t)}function G1(t){return xa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Sc(t){if(hm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||i5(t)&&t.host||so(t);return i5(e)?e.host:e}function c7(t){const e=Sc(t);return hf(e)?t.ownerDocument?t.ownerDocument.body:t.body:eo(e)&&sy(e)?e:c7(e)}function qg(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=c7(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),o=ci(s);if(a){const l=f_(o);return e.concat(o,o.visualViewport||[],sy(s)?s:[],l&&r?qg(l):[])}return e.concat(s,qg(s,[],r))}function f_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function u7(t){const e=ya(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=eo(t),a=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=Eb(r)!==a||Eb(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function HC(t){return xa(t)?t:t.contextElement}function Eh(t){const e=HC(t);if(!eo(e))return jc(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:a}=u7(e);let o=(a?Eb(r.width):r.width)/n,l=(a?Eb(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zde=jc(0);function d7(t){const e=ci(t);return!WC()||!e.visualViewport?zde:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Wde(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ci(t)?!1:e}function Xu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=HC(t);let o=jc(1);e&&(n?xa(n)&&(o=Eh(n)):o=Eh(t));const l=Wde(a,r,n)?d7(a):jc(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){const f=ci(a),m=n&&xa(n)?ci(n):n;let x=f,p=f_(x);for(;p&&n&&m!==x;){const v=Eh(p),w=p.getBoundingClientRect(),b=ya(p),j=w.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,N=w.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=j,u+=N,x=ci(p),p=f_(x)}}return Pb({width:d,height:h,x:c,y:u})}function Hde(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const a=s==="fixed",o=so(n),l=e?H1(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=jc(1);const d=jc(0),h=eo(n);if((h||!h&&!a)&&((hm(n)!=="body"||sy(o))&&(c=G1(n)),eo(n))){const f=Xu(n);u=Eh(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function Gde(t){return Array.from(t.getClientRects())}function m_(t,e){const r=G1(t).scrollLeft;return e?e.left+r:Xu(so(t)).left+r}function Kde(t){const e=so(t),r=G1(t),n=t.ownerDocument.body,s=ti(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=ti(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+m_(t);const l=-r.scrollTop;return ya(n).direction==="rtl"&&(o+=ti(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function Yde(t,e){const r=ci(t),n=so(t),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=WC();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function Qde(t,e){const r=Xu(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,a=eo(t)?Eh(t):jc(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function a5(t,e,r){let n;if(e==="viewport")n=Yde(t,r);else if(e==="document")n=Kde(so(t));else if(xa(e))n=Qde(e,r);else{const s=d7(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return Pb(n)}function h7(t,e){const r=Sc(t);return r===e||!xa(r)||hf(r)?!1:ya(r).position==="fixed"||h7(r,e)}function Xde(t,e){const r=e.get(t);if(r)return r;let n=qg(t,[],!1).filter(l=>xa(l)&&hm(l)!=="body"),s=null;const a=ya(t).position==="fixed";let o=a?Sc(t):t;for(;xa(o)&&!hf(o);){const l=ya(o),c=zC(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||sy(o)&&!c&&h7(t,o))?n=n.filter(d=>d!==o):s=l,o=Sc(o)}return e.set(t,n),n}function Jde(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?H1(e)?[]:Xde(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=a5(e,d,s);return u.top=ti(h.top,u.top),u.right=wc(h.right,u.right),u.bottom=wc(h.bottom,u.bottom),u.left=ti(h.left,u.left),u},a5(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Zde(t){const{width:e,height:r}=u7(t);return{width:e,height:r}}function ehe(t,e,r){const n=eo(e),s=so(e),a=r==="fixed",o=Xu(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=jc(0);if(n||!n&&!a)if((hm(e)!=="body"||sy(s))&&(l=G1(e)),n){const m=Xu(e,!0,a,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=m_(s));let u=0,d=0;if(s&&!n&&!a){const m=s.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-m_(s,m)}const h=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:h,y:f,width:o.width,height:o.height}}function A2(t){return ya(t).position==="static"}function o5(t,e){if(!eo(t)||ya(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return so(t)===r&&(r=r.ownerDocument.body),r}function f7(t,e){const r=ci(t);if(H1(t))return r;if(!eo(t)){let s=Sc(t);for(;s&&!hf(s);){if(xa(s)&&!A2(s))return s;s=Sc(s)}return r}let n=o5(t,e);for(;n&&Ude(n)&&A2(n);)n=o5(n,e);return n&&hf(n)&&A2(n)&&!zC(n)?r:n||qde(t)||r}const the=async function(t){const e=this.getOffsetParent||f7,r=this.getDimensions,n=await r(t.floating);return{reference:ehe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function rhe(t){return ya(t).direction==="rtl"}const nhe={convertOffsetParentRelativeRectToViewportRelativeRect:Hde,getDocumentElement:so,getClippingRect:Jde,getOffsetParent:f7,getElementRects:the,getClientRects:Gde,getDimensions:Zde,getScale:Eh,isElement:xa,isRTL:rhe};function she(t,e){let r=null,n;const s=so(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(l||e(),!h||!f)return;const m=_0(d),x=_0(s.clientWidth-(u+h)),p=_0(s.clientHeight-(d+f)),v=_0(u),b={rootMargin:-m+"px "+-x+"px "+-p+"px "+-v+"px",threshold:ti(0,wc(1,c))||1};let j=!0;function N(E){const C=E[0].intersectionRatio;if(C!==c){if(!j)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j=!1}try{r=new IntersectionObserver(N,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(t)}return o(!0),a}function ihe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=HC(t),d=s||a?[...u?qg(u):[],...qg(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const h=u&&l?she(u,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(w=>{let[b]=w;b&&b.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(e)})),r()}),u&&!c&&m.observe(u),m.observe(e));let x,p=c?Xu(t):null;c&&v();function v(){const w=Xu(t);p&&(w.x!==p.x||w.y!==p.y||w.width!==p.width||w.height!==p.height)&&r(),p=w,x=requestAnimationFrame(v)}return r(),()=>{var w;d.forEach(b=>{s&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),h==null||h(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const ahe=Lde,ohe=Fde,lhe=Dde,che=Bde,uhe=Mde,l5=Ode,dhe=Vde,hhe=(t,e,r)=>{const n=new Map,s={platform:nhe,...r},a={...s.platform,_c:n};return Rde(t,e,{...s,platform:a})};var jv=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Ab(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Ab(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!Ab(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function m7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function c5(t,e){const r=m7(t);return Math.round(e*r)/r}function T2(t){const e=g.useRef(t);return jv(()=>{e.current=t}),e}function fhe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=g.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=g.useState(n);Ab(f,n)||m(n);const[x,p]=g.useState(null),[v,w]=g.useState(null),b=g.useCallback(D=>{D!==C.current&&(C.current=D,p(D))},[]),j=g.useCallback(D=>{D!==_.current&&(_.current=D,w(D))},[]),N=a||x,E=o||v,C=g.useRef(null),_=g.useRef(null),S=g.useRef(d),A=c!=null,T=T2(c),I=T2(s),P=T2(u),R=g.useCallback(()=>{if(!C.current||!_.current)return;const D={placement:e,strategy:r,middleware:f};I.current&&(D.platform=I.current),hhe(C.current,_.current,D).then(V=>{const K={...V,isPositioned:P.current!==!1};M.current&&!Ab(S.current,K)&&(S.current=K,Cc.flushSync(()=>{h(K)}))})},[f,e,r,I,P]);jv(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[u]);const M=g.useRef(!1);jv(()=>(M.current=!0,()=>{M.current=!1}),[]),jv(()=>{if(N&&(C.current=N),E&&(_.current=E),N&&E){if(T.current)return T.current(N,E,R);R()}},[N,E,R,T,A]);const q=g.useMemo(()=>({reference:C,floating:_,setReference:b,setFloating:j}),[b,j]),W=g.useMemo(()=>({reference:N,floating:E}),[N,E]),B=g.useMemo(()=>{const D={position:r,left:0,top:0};if(!W.floating)return D;const V=c5(W.floating,d.x),K=c5(W.floating,d.y);return l?{...D,transform:"translate("+V+"px, "+K+"px)",...m7(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:K}},[r,l,W.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:R,refs:q,elements:W,floatingStyles:B}),[d,R,q,W,B])}const mhe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?l5({element:n.current,padding:s}).fn(r):{}:n?l5({element:n,padding:s}).fn(r):{}}}},phe=(t,e)=>({...ahe(t),options:[t,e]}),ghe=(t,e)=>({...ohe(t),options:[t,e]}),xhe=(t,e)=>({...dhe(t),options:[t,e]}),yhe=(t,e)=>({...lhe(t),options:[t,e]}),vhe=(t,e)=>({...che(t),options:[t,e]}),bhe=(t,e)=>({...uhe(t),options:[t,e]}),whe=(t,e)=>({...mhe(t),options:[t,e]});var jhe="Arrow",p7=g.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...a}=t;return i.jsx(et.svg,{...a,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});p7.displayName=jhe;var Nhe=p7;function She(t,e=[]){let r=[];function n(a,o){const l=g.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,v=g.useMemo(()=>x,Object.values(x));return i.jsx(p.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[t][c])||l,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Ehe(s,...e)]}function Ehe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function GC(t){const[e,r]=g.useState(void 0);return Kn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var KC="Popper",[g7,Mc]=She(KC),[_he,x7]=g7(KC),y7=t=>{const{__scopePopper:e,children:r}=t,[n,s]=g.useState(null);return i.jsx(_he,{scope:e,anchor:n,onAnchorChange:s,children:r})};y7.displayName=KC;var v7="PopperAnchor",b7=g.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,a=x7(v7,r),o=g.useRef(null),l=At(e,o);return g.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(et.div,{...s,ref:l})});b7.displayName=v7;var YC="PopperContent",[Phe,Ahe]=g7(YC),w7=g.forwardRef((t,e)=>{var Z,Pe,te,ye,F,z;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:x,...p}=t,v=x7(YC,r),[w,b]=g.useState(null),j=At(e,ie=>b(ie)),[N,E]=g.useState(null),C=GC(N),_=(C==null?void 0:C.width)??0,S=(C==null?void 0:C.height)??0,A=n+(a!=="center"?"-"+a:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],P=I.length>0,R={padding:T,boundary:I.filter(Che),altBoundary:P},{refs:M,floatingStyles:q,placement:W,isPositioned:B,middlewareData:D}=fhe({strategy:"fixed",placement:A,whileElementsMounted:(...ie)=>ihe(...ie,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[phe({mainAxis:s+S,alignmentAxis:o}),c&&ghe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?xhe():void 0,...R}),c&&yhe({...R}),vhe({...R,apply:({elements:ie,rects:ne,availableWidth:he,availableHeight:ve})=>{const{width:ge,height:X}=ne.reference,le=ie.floating.style;le.setProperty("--radix-popper-available-width",`${he}px`),le.setProperty("--radix-popper-available-height",`${ve}px`),le.setProperty("--radix-popper-anchor-width",`${ge}px`),le.setProperty("--radix-popper-anchor-height",`${X}px`)}}),N&&whe({element:N,padding:l}),khe({arrowWidth:_,arrowHeight:S}),f&&bhe({strategy:"referenceHidden",...R})]}),[V,K]=S7(W),G=Mr(x);Kn(()=>{B&&(G==null||G())},[B,G]);const Q=(Z=D.arrow)==null?void 0:Z.x,ae=(Pe=D.arrow)==null?void 0:Pe.y,U=((te=D.arrow)==null?void 0:te.centerOffset)!==0,[Y,ue]=g.useState();return Kn(()=>{w&&ue(window.getComputedStyle(w).zIndex)},[w]),i.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:B?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(ye=D.transformOrigin)==null?void 0:ye.x,(F=D.transformOrigin)==null?void 0:F.y].join(" "),...((z=D.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(Phe,{scope:r,placedSide:V,onArrowChange:E,arrowX:Q,arrowY:ae,shouldHideArrow:U,children:i.jsx(et.div,{"data-side":V,"data-align":K,...p,ref:j,style:{...p.style,animation:B?void 0:"none"}})})})});w7.displayName=YC;var j7="PopperArrow",The={top:"bottom",right:"left",bottom:"top",left:"right"},N7=g.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,a=Ahe(j7,n),o=The[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(Nhe,{...s,ref:r,style:{...s.style,display:"block"}})})});N7.displayName=j7;function Che(t){return t!==null}var khe=t=>({name:"transformOrigin",options:t,fn(e){var v,w,b;const{placement:r,rects:n,middlewareData:s}=e,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=S7(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,m=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let x="",p="";return u==="bottom"?(x=o?h:`${f}px`,p=`${-c}px`):u==="top"?(x=o?h:`${f}px`,p=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,p=o?h:`${m}px`):u==="left"&&(x=`${n.floating.width+c}px`,p=o?h:`${m}px`),{data:{x,y:p}}}});function S7(t){const[e,r="center"]=t.split("-");return[e,r]}var QC=y7,iy=b7,K1=w7,Y1=N7,[Q1,VWe]=ba("Tooltip",[Mc]),XC=Mc(),E7="TooltipProvider",Ihe=700,u5="tooltip.open",[Rhe,_7]=Q1(E7),P7=t=>{const{__scopeTooltip:e,delayDuration:r=Ihe,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,[o,l]=g.useState(!0),c=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(Rhe,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:g.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};P7.displayName=E7;var A7="Tooltip",[BWe,X1]=Q1(A7),p_="TooltipTrigger",Ohe=g.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=X1(p_,r),a=_7(p_,r),o=XC(r),l=g.useRef(null),c=At(e,l,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(iy,{asChild:!0,...o,children:i.jsx(et.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:De(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:De(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:De(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:De(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:De(t.onBlur,s.onClose),onClick:De(t.onClick,s.onClose)})})});Ohe.displayName=p_;var Dhe="TooltipPortal",[UWe,Mhe]=Q1(Dhe,{forceMount:void 0}),ff="TooltipContent",T7=g.forwardRef((t,e)=>{const r=Mhe(ff,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=t,o=X1(ff,t.__scopeTooltip);return i.jsx(Ln,{present:n||o.open,children:o.disableHoverableContent?i.jsx(C7,{side:s,...a,ref:e}):i.jsx($he,{side:s,...a,ref:e})})}),$he=g.forwardRef((t,e)=>{const r=X1(ff,t.__scopeTooltip),n=_7(ff,t.__scopeTooltip),s=g.useRef(null),a=At(e,s),[o,l]=g.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,f=g.useCallback(()=>{l(null),h(!1)},[h]),m=g.useCallback((x,p)=>{const v=x.currentTarget,w={x:x.clientX,y:x.clientY},b=Bhe(w,v.getBoundingClientRect()),j=Uhe(w,b),N=qhe(p.getBoundingClientRect()),E=Whe([...j,...N]);l(E),h(!0)},[h]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(c&&d){const x=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",p)}}},[c,d,m,f]),g.useEffect(()=>{if(o){const x=p=>{const v=p.target,w={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),j=!zhe(w,o);b?f():j&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,f]),i.jsx(C7,{...t,ref:a})}),[Lhe,Fhe]=Q1(A7,{isInside:!1}),C7=g.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=X1(ff,r),u=XC(r),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(u5,d),()=>document.removeEventListener(u5,d)),[d]),g.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),i.jsx(md,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:i.jsxs(K1,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(SU,{children:n}),i.jsx(Lhe,{scope:r,isInside:!0,children:i.jsx(lce,{id:c.contentId,role:"tooltip",children:s||n})})]})})});T7.displayName=ff;var k7="TooltipArrow",Vhe=g.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=XC(r);return Fhe(k7,r).isInside?null:i.jsx(Y1,{...s,...n,ref:e})});Vhe.displayName=k7;function Bhe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Uhe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function qhe(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function zhe(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,d=e[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function Whe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Hhe(e)}function Hhe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Ghe=P7,I7=T7;const Khe=Ghe,Yhe=g.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(I7,{ref:n,sideOffset:e,className:He("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Yhe.displayName=I7.displayName;var J1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Z1=typeof window>"u"||"Deno"in globalThis;function Ji(){}function Qhe(t,e){return typeof t=="function"?t(e):t}function Xhe(t){return typeof t=="number"&&t>=0&&t!==1/0}function Jhe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function d5(t,e){return typeof t=="function"?t(e):t}function Zhe(t,e){return typeof t=="function"?t(e):t}function h5(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==JC(o,e.options))return!1}else if(!Wg(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||a&&!a(e))}function f5(t,e){const{exact:r,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(zg(e.options.mutationKey)!==zg(a))return!1}else if(!Wg(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function JC(t,e){return((e==null?void 0:e.queryKeyHashFn)||zg)(t)}function zg(t){return JSON.stringify(t,(e,r)=>g_(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Wg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Wg(t[r],e[r])):!1}function R7(t,e){if(t===e)return t;const r=m5(t)&&m5(e);if(r||g_(t)&&g_(e)){const n=r?t:Object.keys(t),s=n.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=R7(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function m5(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function g_(t){if(!p5(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!p5(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function p5(t){return Object.prototype.toString.call(t)==="[object Object]"}function efe(t){return new Promise(e=>{setTimeout(e,t)})}function tfe(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?R7(t,e):e}function rfe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function nfe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var ZC=Symbol();function O7(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ZC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Su,$l,Dh,xF,sfe=(xF=class extends J1{constructor(){super();Yt(this,Su);Yt(this,$l);Yt(this,Dh);kt(this,Dh,e=>{if(!Z1&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ne(this,$l)||this.setEventListener(Ne(this,Dh))}onUnsubscribe(){var e;this.hasListeners()||((e=Ne(this,$l))==null||e.call(this),kt(this,$l,void 0))}setEventListener(e){var r;kt(this,Dh,e),(r=Ne(this,$l))==null||r.call(this),kt(this,$l,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Ne(this,Su)!==e&&(kt(this,Su,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Ne(this,Su)=="boolean"?Ne(this,Su):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Su=new WeakMap,$l=new WeakMap,Dh=new WeakMap,xF),D7=new sfe,Mh,Ll,$h,yF,ife=(yF=class extends J1{constructor(){super();Yt(this,Mh,!0);Yt(this,Ll);Yt(this,$h);kt(this,$h,e=>{if(!Z1&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ne(this,Ll)||this.setEventListener(Ne(this,$h))}onUnsubscribe(){var e;this.hasListeners()||((e=Ne(this,Ll))==null||e.call(this),kt(this,Ll,void 0))}setEventListener(e){var r;kt(this,$h,e),(r=Ne(this,Ll))==null||r.call(this),kt(this,Ll,e(this.setOnline.bind(this)))}setOnline(e){Ne(this,Mh)!==e&&(kt(this,Mh,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Ne(this,Mh)}},Mh=new WeakMap,Ll=new WeakMap,$h=new WeakMap,yF),Tb=new ife;function afe(){let t,e;const r=new Promise((s,a)=>{t=s,e=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function ofe(t){return Math.min(1e3*2**t,3e4)}function M7(t){return(t??"online")==="online"?Tb.isOnline():!0}var $7=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function C2(t){return t instanceof $7}function L7(t){let e=!1,r=0,n=!1,s;const a=afe(),o=p=>{var v;n||(f(new $7(p)),(v=t.abort)==null||v.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>D7.isFocused()&&(t.networkMode==="always"||Tb.isOnline())&&t.canRun(),d=()=>M7(t.networkMode)&&t.canRun(),h=p=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,p),s==null||s(),a.resolve(p))},f=p=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,p),s==null||s(),a.reject(p))},m=()=>new Promise(p=>{var v;s=w=>{(n||u())&&p(w)},(v=t.onPause)==null||v.call(t)}).then(()=>{var p;s=void 0,n||(p=t.onContinue)==null||p.call(t)}),x=()=>{if(n)return;let p;const v=r===0?t.initialPromise:void 0;try{p=v??t.fn()}catch(w){p=Promise.reject(w)}Promise.resolve(p).then(h).catch(w=>{var C;if(n)return;const b=t.retry??(Z1?0:3),j=t.retryDelay??ofe,N=typeof j=="function"?j(r,w):j,E=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,w);if(e||!E){f(w);return}r++,(C=t.onFail)==null||C.call(t,r,w),efe(N).then(()=>u()?void 0:m()).then(()=>{e?f(w):x()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():m().then(x),a)}}function lfe(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var xs=lfe(),Eu,vF,F7=(vF=class{constructor(){Yt(this,Eu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xhe(this.gcTime)&&kt(this,Eu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Z1?1/0:5*60*1e3))}clearGcTimeout(){Ne(this,Eu)&&(clearTimeout(Ne(this,Eu)),kt(this,Eu,void 0))}},Eu=new WeakMap,vF),Lh,Fh,Ei,rs,$x,_u,Zi,yo,bF,cfe=(bF=class extends F7{constructor(e){super();Yt(this,Zi);Yt(this,Lh);Yt(this,Fh);Yt(this,Ei);Yt(this,rs);Yt(this,$x);Yt(this,_u);kt(this,_u,!1),kt(this,$x,e.defaultOptions),this.setOptions(e.options),this.observers=[],kt(this,Ei,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,kt(this,Lh,dfe(this.options)),this.state=e.state??Ne(this,Lh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ne(this,rs))==null?void 0:e.promise}setOptions(e){this.options={...Ne(this,$x),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ne(this,Ei).remove(this)}setData(e,r){const n=tfe(this.state.data,e,this.options);return Jn(this,Zi,yo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Jn(this,Zi,yo).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=Ne(this,rs))==null?void 0:n.promise;return(s=Ne(this,rs))==null||s.cancel(e),r?r.then(Ji).catch(Ji):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ne(this,Lh))}isActive(){return this.observers.some(e=>Zhe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ZC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Jhe(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=Ne(this,rs))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=Ne(this,rs))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ne(this,Ei).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(Ne(this,rs)&&(Ne(this,_u)?Ne(this,rs).cancel({revert:!0}):Ne(this,rs).cancelRetry()),this.scheduleGc()),Ne(this,Ei).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Jn(this,Zi,yo).call(this,{type:"invalidate"})}fetch(e,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ne(this,rs))return Ne(this,rs).continueRetry(),Ne(this,rs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(kt(this,_u,!0),n.signal)})},a=()=>{const h=O7(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return s(f),kt(this,_u,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),kt(this,Fh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Jn(this,Zi,yo).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,m,x,p;C2(h)&&h.silent||Jn(this,Zi,yo).call(this,{type:"error",error:h}),C2(h)||((m=(f=Ne(this,Ei).config).onError)==null||m.call(f,h,this),(p=(x=Ne(this,Ei).config).onSettled)==null||p.call(x,this.state.data,h,this)),this.scheduleGc()};return kt(this,rs,L7({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,m,x,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(m=(f=Ne(this,Ei).config).onSuccess)==null||m.call(f,h,this),(p=(x=Ne(this,Ei).config).onSettled)==null||p.call(x,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{Jn(this,Zi,yo).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Jn(this,Zi,yo).call(this,{type:"pause"})},onContinue:()=>{Jn(this,Zi,yo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Ne(this,rs).start()}},Lh=new WeakMap,Fh=new WeakMap,Ei=new WeakMap,rs=new WeakMap,$x=new WeakMap,_u=new WeakMap,Zi=new WeakSet,yo=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ufe(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return C2(s)&&s.revert&&Ne(this,Fh)?{...Ne(this,Fh),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),xs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ne(this,Ei).notify({query:this,type:"updated",action:e})})},bF);function ufe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:M7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dfe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ia,wF,hfe=(wF=class extends J1{constructor(e={}){super();Yt(this,Ia);this.config=e,kt(this,Ia,new Map)}build(e,r,n){const s=r.queryKey,a=r.queryHash??JC(s,r);let o=this.get(a);return o||(o=new cfe({cache:this,queryKey:s,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Ne(this,Ia).has(e.queryHash)||(Ne(this,Ia).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Ne(this,Ia).get(e.queryHash);r&&(e.destroy(),r===e&&Ne(this,Ia).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ne(this,Ia).get(e)}getAll(){return[...Ne(this,Ia).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>h5(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>h5(e,n)):r}notify(e){xs.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){xs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ia=new WeakMap,wF),Ra,ps,Pu,Oa,bl,jF,ffe=(jF=class extends F7{constructor(e){super();Yt(this,Oa);Yt(this,Ra);Yt(this,ps);Yt(this,Pu);this.mutationId=e.mutationId,kt(this,ps,e.mutationCache),kt(this,Ra,[]),this.state=e.state||mfe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ne(this,Ra).includes(e)||(Ne(this,Ra).push(e),this.clearGcTimeout(),Ne(this,ps).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){kt(this,Ra,Ne(this,Ra).filter(r=>r!==e)),this.scheduleGc(),Ne(this,ps).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ne(this,Ra).length||(this.state.status==="pending"?this.scheduleGc():Ne(this,ps).remove(this))}continue(){var e;return((e=Ne(this,Pu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,l,c,u,d,h,f,m,x,p,v,w,b,j,N,E,C,_;kt(this,Pu,L7({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(S,A)=>{Jn(this,Oa,bl).call(this,{type:"failed",failureCount:S,error:A})},onPause:()=>{Jn(this,Oa,bl).call(this,{type:"pause"})},onContinue:()=>{Jn(this,Oa,bl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ne(this,ps).canRun(this)}));const r=this.state.status==="pending",n=!Ne(this,Pu).canStart();try{if(!r){Jn(this,Oa,bl).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(s=Ne(this,ps).config).onMutate)==null?void 0:a.call(s,e,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));A!==this.state.context&&Jn(this,Oa,bl).call(this,{type:"pending",context:A,variables:e,isPaused:n})}const S=await Ne(this,Pu).start();return await((u=(c=Ne(this,ps).config).onSuccess)==null?void 0:u.call(c,S,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,S,e,this.state.context)),await((m=(f=Ne(this,ps).config).onSettled)==null?void 0:m.call(f,S,null,this.state.variables,this.state.context,this)),await((p=(x=this.options).onSettled)==null?void 0:p.call(x,S,null,e,this.state.context)),Jn(this,Oa,bl).call(this,{type:"success",data:S}),S}catch(S){try{throw await((w=(v=Ne(this,ps).config).onError)==null?void 0:w.call(v,S,e,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,S,e,this.state.context)),await((E=(N=Ne(this,ps).config).onSettled)==null?void 0:E.call(N,void 0,S,this.state.variables,this.state.context,this)),await((_=(C=this.options).onSettled)==null?void 0:_.call(C,void 0,S,e,this.state.context)),S}finally{Jn(this,Oa,bl).call(this,{type:"error",error:S})}}finally{Ne(this,ps).runNext(this)}}},Ra=new WeakMap,ps=new WeakMap,Pu=new WeakMap,Oa=new WeakSet,bl=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xs.batch(()=>{Ne(this,Ra).forEach(n=>{n.onMutationUpdate(e)}),Ne(this,ps).notify({mutation:this,type:"updated",action:e})})},jF);function mfe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qs,Lx,NF,pfe=(NF=class extends J1{constructor(e={}){super();Yt(this,Qs);Yt(this,Lx);this.config=e,kt(this,Qs,new Map),kt(this,Lx,Date.now())}build(e,r,n){const s=new ffe({mutationCache:this,mutationId:++Jy(this,Lx)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=P0(e),n=Ne(this,Qs).get(r)??[];n.push(e),Ne(this,Qs).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=P0(e);if(Ne(this,Qs).has(r)){const s=(n=Ne(this,Qs).get(r))==null?void 0:n.filter(a=>a!==e);s&&(s.length===0?Ne(this,Qs).delete(r):Ne(this,Qs).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=Ne(this,Qs).get(P0(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=Ne(this,Qs).get(P0(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){xs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Ne(this,Qs).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>f5(r,n))}findAll(e={}){return this.getAll().filter(r=>f5(e,r))}notify(e){xs.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return xs.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ji))))}},Qs=new WeakMap,Lx=new WeakMap,NF);function P0(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function g5(t){return{onFetch:(e,r)=>{var d,h,f,m,x;const n=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((m=e.state.data)==null?void 0:m.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},w=O7(e.options,e.fetchOptions),b=async(j,N,E)=>{if(p)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const C={queryKey:e.queryKey,pageParam:N,direction:E?"backward":"forward",meta:e.options.meta};v(C);const _=await w(C),{maxPages:S}=e.options,A=E?nfe:rfe;return{pages:A(j.pages,_,S),pageParams:A(j.pageParams,N,S)}};if(s&&a.length){const j=s==="backward",N=j?gfe:x5,E={pages:a,pageParams:o},C=N(n,E);l=await b(E,C,j)}else{const j=t??a.length;do{const N=c===0?o[0]??n.initialPageParam:x5(n,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<j)}return l};e.options.persister?e.fetchFn=()=>{var p,v;return(v=(p=e.options).persister)==null?void 0:v.call(p,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function x5(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function gfe(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var zr,Fl,Vl,Vh,Bh,Bl,Uh,qh,SF,xfe=(SF=class{constructor(t={}){Yt(this,zr);Yt(this,Fl);Yt(this,Vl);Yt(this,Vh);Yt(this,Bh);Yt(this,Bl);Yt(this,Uh);Yt(this,qh);kt(this,zr,t.queryCache||new hfe),kt(this,Fl,t.mutationCache||new pfe),kt(this,Vl,t.defaultOptions||{}),kt(this,Vh,new Map),kt(this,Bh,new Map),kt(this,Bl,0)}mount(){Jy(this,Bl)._++,Ne(this,Bl)===1&&(kt(this,Uh,D7.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ne(this,zr).onFocus())})),kt(this,qh,Tb.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ne(this,zr).onOnline())})))}unmount(){var t,e;Jy(this,Bl)._--,Ne(this,Bl)===0&&((t=Ne(this,Uh))==null||t.call(this),kt(this,Uh,void 0),(e=Ne(this,qh))==null||e.call(this),kt(this,qh,void 0))}isFetching(t){return Ne(this,zr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ne(this,Fl).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Ne(this,zr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=Ne(this,zr).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(d5(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return Ne(this,zr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=Ne(this,zr).get(n.queryHash),a=s==null?void 0:s.state.data,o=Qhe(e,a);if(o!==void 0)return Ne(this,zr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return xs.batch(()=>Ne(this,zr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Ne(this,zr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Ne(this,zr);xs.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Ne(this,zr),n={type:"active",...t};return xs.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=xs.batch(()=>Ne(this,zr).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Ji).catch(Ji)}invalidateQueries(t={},e={}){return xs.batch(()=>{if(Ne(this,zr).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=xs.batch(()=>Ne(this,zr).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ji)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ji)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Ne(this,zr).build(this,e);return r.isStaleByTime(d5(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ji).catch(Ji)}fetchInfiniteQuery(t){return t.behavior=g5(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ji).catch(Ji)}ensureInfiniteQueryData(t){return t.behavior=g5(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Tb.isOnline()?Ne(this,Fl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ne(this,zr)}getMutationCache(){return Ne(this,Fl)}getDefaultOptions(){return Ne(this,Vl)}setDefaultOptions(t){kt(this,Vl,t)}setQueryDefaults(t,e){Ne(this,Vh).set(zg(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ne(this,Vh).values()];let r={};return e.forEach(n=>{Wg(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){Ne(this,Bh).set(zg(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ne(this,Bh).values()];let r={};return e.forEach(n=>{Wg(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ne(this,Vl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=JC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ZC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ne(this,Vl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ne(this,zr).clear(),Ne(this,Fl).clear()}},zr=new WeakMap,Fl=new WeakMap,Vl=new WeakMap,Vh=new WeakMap,Bh=new WeakMap,Bl=new WeakMap,Uh=new WeakMap,qh=new WeakMap,SF),yfe=g.createContext(void 0),vfe=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(yfe.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hg.apply(this,arguments)}var Hl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hl||(Hl={}));const y5="popstate";function bfe(t){t===void 0&&(t={});function e(n,s){let{pathname:a,search:o,hash:l}=n.location;return x_("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Cb(s)}return jfe(e,r,null,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function V7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wfe(){return Math.random().toString(36).substr(2,8)}function v5(t,e){return{usr:t.state,key:t.key,idx:e}}function x_(t,e,r,n){return r===void 0&&(r=null),Hg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fm(e):e,{state:r,key:e&&e.key||n||wfe()})}function Cb(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fm(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function jfe(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Hl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Hg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Hl.Pop;let v=d(),w=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:w})}function f(v,w){l=Hl.Push;let b=x_(p.location,v,w);u=d()+1;let j=v5(b,u),N=p.createHref(b);try{o.pushState(j,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(N)}a&&c&&c({action:l,location:p.location,delta:1})}function m(v,w){l=Hl.Replace;let b=x_(p.location,v,w);u=d();let j=v5(b,u),N=p.createHref(b);o.replaceState(j,"",N),a&&c&&c({action:l,location:p.location,delta:0})}function x(v){let w=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:Cb(v);return b=b.replace(/ $/,"%20"),dn(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let p={get action(){return l},get location(){return t(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(y5,h),c=v,()=>{s.removeEventListener(y5,h),c=null}},createHref(v){return e(s,v)},createURL:x,encodeLocation(v){let w=x(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(v){return o.go(v)}};return p}var b5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(b5||(b5={}));function Nfe(t,e,r){return r===void 0&&(r="/"),Sfe(t,e,r,!1)}function Sfe(t,e,r,n){let s=typeof e=="string"?fm(e):e,a=ek(s.pathname||"/",r);if(a==null)return null;let o=B7(t);Efe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Mfe(a);l=Ofe(o[c],u,n)}return l}function B7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(dn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=uc([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),B7(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Ife(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of U7(a.path))s(a,o,c)}),e}function U7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=U7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Efe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Rfe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _fe=/^:[\w-]+$/,Pfe=3,Afe=2,Tfe=1,Cfe=10,kfe=-2,w5=t=>t==="*";function Ife(t,e){let r=t.split("/"),n=r.length;return r.some(w5)&&(n+=kfe),e&&(n+=Afe),r.filter(s=>!w5(s)).reduce((s,a)=>s+(_fe.test(a)?Pfe:a===""?Tfe:Cfe),n)}function Rfe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Ofe(t,e,r){let{routesMeta:n}=t,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=j5({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=j5({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:uc([a,h.pathname]),pathnameBase:Vfe(uc([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=uc([a,h.pathnameBase]))}return o}function j5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Dfe(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=l[h]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[h];return m&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function Dfe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),V7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Mfe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return V7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ek(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function $fe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?fm(t):t;return{pathname:r?r.startsWith("/")?r:Lfe(r,e):e,search:Bfe(n),hash:Ufe(s)}}function Lfe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function k2(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ffe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function q7(t,e){let r=Ffe(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function z7(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=fm(t):(s=Hg({},t),dn(!s.pathname||!s.pathname.includes("?"),k2("?","pathname","search",s)),dn(!s.pathname||!s.pathname.includes("#"),k2("#","pathname","hash",s)),dn(!s.search||!s.search.includes("#"),k2("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=$fe(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const uc=t=>t.join("/").replace(/\/\/+/g,"/"),Vfe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bfe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ufe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qfe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const W7=["post","put","patch","delete"];new Set(W7);const zfe=["get",...W7];new Set(zfe);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gg.apply(this,arguments)}const tk=g.createContext(null),Wfe=g.createContext(null),pd=g.createContext(null),ej=g.createContext(null),$c=g.createContext({outlet:null,matches:[],isDataRoute:!1}),H7=g.createContext(null);function Hfe(t,e){let{relative:r}=e===void 0?{}:e;ay()||dn(!1);let{basename:n,navigator:s}=g.useContext(pd),{hash:a,pathname:o,search:l}=K7(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:uc([n,o])),s.createHref({pathname:c,search:l,hash:a})}function ay(){return g.useContext(ej)!=null}function il(){return ay()||dn(!1),g.useContext(ej).location}function G7(t){g.useContext(pd).static||g.useLayoutEffect(t)}function Jr(){let{isDataRoute:t}=g.useContext($c);return t?ime():Gfe()}function Gfe(){ay()||dn(!1);let t=g.useContext(tk),{basename:e,future:r,navigator:n}=g.useContext(pd),{matches:s}=g.useContext($c),{pathname:a}=il(),o=JSON.stringify(q7(s,r.v7_relativeSplatPath)),l=g.useRef(!1);return G7(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=z7(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:uc([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,a,t])}function oy(){let{matches:t}=g.useContext($c),e=t[t.length-1];return e?e.params:{}}function K7(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=g.useContext(pd),{matches:s}=g.useContext($c),{pathname:a}=il(),o=JSON.stringify(q7(s,n.v7_relativeSplatPath));return g.useMemo(()=>z7(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function Kfe(t,e){return Yfe(t,e)}function Yfe(t,e,r,n){ay()||dn(!1);let{navigator:s}=g.useContext(pd),{matches:a}=g.useContext($c),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=il(),d;if(e){var h;let v=typeof e=="string"?fm(e):e;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||dn(!1),d=v}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=Nfe(t,{pathname:m}),p=eme(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:uc([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:uc([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&p?g.createElement(ej.Provider,{value:{location:Gg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hl.Pop}},p):p}function Qfe(){let t=sme(),e=qfe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),r?g.createElement("pre",{style:s},r):null,null)}const Xfe=g.createElement(Qfe,null);class Jfe extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?g.createElement($c.Provider,{value:this.props.routeContext},g.createElement(H7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zfe(t){let{routeContext:e,match:r,children:n}=t,s=g.useContext(tk);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement($c.Provider,{value:e},n)}function eme(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||dn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,x=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,x=!1,p=null,v=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||Xfe,c&&(u<0&&f===0?(x=!0,v=null):u===f&&(x=!0,v=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),b=()=>{let j;return m?j=p:x?j=v:h.route.Component?j=g.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,g.createElement(Zfe,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:j})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(Jfe,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var Y7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Y7||{}),kb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kb||{});function tme(t){let e=g.useContext(tk);return e||dn(!1),e}function rme(t){let e=g.useContext(Wfe);return e||dn(!1),e}function nme(t){let e=g.useContext($c);return e||dn(!1),e}function Q7(t){let e=nme(),r=e.matches[e.matches.length-1];return r.route.id||dn(!1),r.route.id}function sme(){var t;let e=g.useContext(H7),r=rme(kb.UseRouteError),n=Q7(kb.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function ime(){let{router:t}=tme(Y7.UseNavigateStable),e=Q7(kb.UseNavigateStable),r=g.useRef(!1);return G7(()=>{r.current=!0}),g.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gg({fromRouteId:e},a)))},[t,e])}function Jt(t){dn(!1)}function ame(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Hl.Pop,navigator:a,static:o=!1,future:l}=t;ay()&&dn(!1);let c=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:a,static:o,future:Gg({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=fm(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:x="default"}=n,p=g.useMemo(()=>{let v=ek(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:m,key:x},navigationType:s}},[c,d,h,f,m,x,s]);return p==null?null:g.createElement(pd.Provider,{value:u},g.createElement(ej.Provider,{children:r,value:p}))}function ome(t){let{children:e,location:r}=t;return Kfe(y_(e),r)}new Promise(()=>{});function y_(t,e){e===void 0&&(e=[]);let r=[];return g.Children.forEach(t,(n,s)=>{if(!g.isValidElement(n))return;let a=[...e,s];if(n.type===g.Fragment){r.push.apply(r,y_(n.props.children,a));return}n.type!==Jt&&dn(!1),!n.props.index||!n.props.children||dn(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=y_(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v_.apply(this,arguments)}function lme(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function cme(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ume(t,e){return t.button===0&&(!e||e==="_self")&&!cme(t)}function b_(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function dme(t,e){let r=b_(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(a=>{r.append(s,a)})}),r}const hme=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fme="6";try{window.__reactRouterVersion=fme}catch{}const mme="startTransition",N5=DF[mme];function pme(t){let{basename:e,children:r,future:n,window:s}=t,a=g.useRef();a.current==null&&(a.current=bfe({window:s,v5Compat:!0}));let o=a.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(h=>{u&&N5?N5(()=>c(h)):c(h)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(ame,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const gme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xme=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=g.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=lme(e,hme),{basename:m}=g.useContext(pd),x,p=!1;if(typeof u=="string"&&xme.test(u)&&(x=u,gme))try{let j=new URL(window.location.href),N=u.startsWith("//")?new URL(j.protocol+u):new URL(u),E=ek(N.pathname,m);N.origin===j.origin&&E!=null?u=E+N.search+N.hash:p=!0}catch{}let v=Hfe(u,{relative:s}),w=yme(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function b(j){n&&n(j),j.defaultPrevented||w(j)}return g.createElement("a",v_({},f,{href:x||v,onClick:p||a?n:b,ref:r,target:c}))});var S5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(S5||(S5={}));var E5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(E5||(E5={}));function yme(t,e){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=Jr(),u=il(),d=K7(t,{relative:o});return g.useCallback(h=>{if(ume(h,r)){h.preventDefault();let f=n!==void 0?n:Cb(u)===Cb(d);c(t,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,t,a,o,l])}function X7(t){let e=g.useRef(b_(t)),r=g.useRef(!1),n=il(),s=g.useMemo(()=>dme(n.search,r.current?null:e.current),[n.search]),a=Jr(),o=g.useCallback((l,c)=>{const u=b_(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}const vme=()=>{const{pathname:t}=il();return g.useEffect(()=>{window.scrollTo(0,0)},[t]),null},bme=({isVisible:t,userName:e,onClose:r})=>{const[n,s]=g.useState(!1);return g.useEffect(()=>{if(t){const a=setTimeout(()=>{s(!0),setTimeout(()=>{r()},200)},2e3);return()=>{clearTimeout(a)}}},[t,r]),t?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20",children:i.jsx("div",{className:`max-w-[280px] w-[90%] transform transition-all duration-200 ${n?"scale-95 opacity-0 translate-y-1":"scale-100 opacity-100 translate-y-0"} bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden`,onClick:a=>{a.stopPropagation(),s(!0),setTimeout(()=>r(),200)},children:i.jsx("div",{className:"p-3 sm:p-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 bg-gray-800 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(xt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:["Welcome",e?`, ${e.split(" ")[0]}`:"","!"]}),i.jsx("p",{className:"text-[11px] sm:text-xs text-gray-600",children:"Successfully signed in"})]})]})})})}):null},J7=g.createContext(void 0),wme=({children:t})=>{const[e,r]=g.useState(null),[n,s]=g.useState(!0),[a,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(null),[h,f]=g.useState(!1),m=T=>{if(T){const I=ke(oe,"userProfiles",T.uid);return Fr(I,R=>{if(R.exists()){const M=R.data();c(M.isProfileVerified||!1),d(M.verificationStatus||null)}else c(!1),d(null)},R=>{console.log("Error in profile listener:",R),c(!1),d(null)})}else return c(!1),d(null),null};g.useEffect(()=>{let T=null;const I=ase(Ar,P=>{r(P),o((P==null?void 0:P.emailVerified)||!1),T&&T(),P&&(T=m(P)),s(!1)});return()=>{I(),T&&T()}},[]);const x=T=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T),p=async(T,I,P)=>{try{if(s(!0),x(T)){const R=await Jne(Ar,T,I);if(P!=null&&P.full_name&&await nse(R.user,{displayName:P.full_name}),P!=null&&P.full_name||P!=null&&P.first_name||P!=null&&P.last_name)try{await bn(ke(oe,"userProfiles",R.user.uid),{userId:R.user.uid,fullName:(P==null?void 0:P.full_name)||"",firstName:(P==null?void 0:P.first_name)||"",lastName:(P==null?void 0:P.last_name)||"",phone:"",isProfileVerified:!1,verificationMethod:"manual",createdAt:new Date,updatedAt:new Date}),console.log("User profile data stored successfully")}catch(M){console.error("Error storing user profile:",M)}return await _D(R.user,{url:`${window.location.origin}/auth/callback`,handleCodeInApp:!0}),ce({title:"Verification Email Sent!",description:`We've sent a verification link to ${T}. Check your inbox and spam folder, then click the verification link to activate your account.`}),s(!1),{error:null,requiresVerification:!0}}else return ce({title:"Phone authentication disabled",description:"Please use email authentication. Phone auth requires billing setup.",variant:"destructive"}),s(!1),{error:new Error("Phone authentication disabled")}}catch(R){return ce({title:"Sign up failed",description:R.message,variant:"destructive"}),s(!1),{error:R}}},v=async(T,I)=>{try{if(console.log(" Starting sign-in process for:",T),s(!0),x(T)){console.log(" Attempting email sign-in");let P=0;const R=2;for(;P<R;)try{const M=await Zne(Ar,T,I);return console.log(" Sign-in result:",{uid:M.user.uid,emailVerified:M.user.emailVerified}),console.log(" Sign-in successful, showing welcome popup"),f(!0),s(!1),{error:null}}catch(M){if(P++,console.warn(` Sign-in attempt ${P} failed:`,M.code),P>=R)throw M;await new Promise(q=>setTimeout(q,1e3))}}else return ce({title:"Phone authentication disabled",description:"Please use email authentication. Phone auth requires billing setup.",variant:"destructive"}),s(!1),{error:new Error("Phone authentication disabled")}}catch(P){console.error(" Firebase signIn error details:",{code:P.code,message:P.message,stack:P.stack,name:P.name});let R="Sign in failed",M=P.message;return P.code==="auth/invalid-credential"?(R="Invalid Credentials",M="The email or password you entered is incorrect. Please check your credentials and try again."):P.code==="auth/user-not-found"?(R="Account Not Found",M="No account found with this email address. Please sign up first or check your email."):P.code==="auth/wrong-password"?(R="Incorrect Password",M="The password you entered is incorrect. Please try again or reset your password."):P.code==="auth/too-many-requests"?(R="Too Many Attempts",M="Too many failed sign-in attempts. Please try again later."):P.code==="auth/network-request-failed"?(R="Network Connection Failed",M=`Unable to connect to Firebase servers. This could be due to:
 Internet connection issues
 Firebase project configuration
 CORS settings
 Firewall blocking the connection

Please check your internet connection and try again.`):P.code==="auth/user-disabled"?(R="Account Disabled",M="This account has been disabled. Please contact support."):P.code==="auth/operation-not-allowed"?(R="Sign-in Method Disabled",M="Email/password sign-in is not enabled. Please contact support."):P.code==="auth/user-already-exists"?(R="User Already Exists",M="An account with this email already exists. Please sign in instead."):P.code==="auth/invalid-api-key"?(R="Configuration Error",M="Firebase API key is invalid. Please contact support."):P.code==="auth/project-not-found"&&(R="Project Not Found",M="Firebase project not found. Please contact support."),ce({title:R,description:M,variant:"destructive"}),s(!1),{error:P}}},w=async()=>{try{console.log(" Starting sign-out process"),r(null),o(!1),c(!1),d(null),f(!1),await A9(Ar),console.log(" Sign-out successful"),ce({title:"Signed out",description:"You have been signed out successfully."}),setTimeout(()=>{window.location.href="/"},100)}catch(T){console.error(" Sign-out error:",T),ce({title:"Sign out failed",description:T.message,variant:"destructive"})}},b=()=>{f(!1)},j=()=>{console.log(" Clearing all authentication state"),r(null),o(!1),c(!1),d(null),f(!1),s(!1)},N=async()=>{try{if(!Ar.currentUser)throw new Error("No user is currently signed in.");const T=Ar.currentUser,I=T.uid;try{await cc(ke(oe,"userProfiles",I))}catch(P){console.error("Error deleting user profile:",P)}try{const P=bt(Ze(oe,"enquiries"),Pt("userId","==",I)),M=(await Bt(P)).docs.map(q=>cc(q.ref));await Promise.all(M)}catch(P){console.error("Error deleting user enquiries:",P)}try{const P=bt(Ze(oe,"responses"),Pt("userId","==",I)),M=(await Bt(P)).docs.map(q=>cc(q.ref));await Promise.all(M)}catch(P){console.error("Error deleting user responses:",P)}return await ose(T),ce({title:"Account Deleted",description:"Your account and all associated data have been permanently deleted."}),window.location.href="/",{error:null}}catch(T){console.error("Error deleting account:",T);let I="Failed to delete account. Please try again.";return T.code==="auth/requires-recent-login"?I="For security reasons, please sign in again before deleting your account.":T.message&&(I=T.message),ce({title:"Account Deletion Failed",description:I,variant:"destructive"}),{error:T}}},E=async()=>{try{if(!Ar.currentUser)throw new Error("You must be signed in to resend verification email.");return await _D(Ar.currentUser,{url:`${window.location.origin}/auth/callback`,handleCodeInApp:!0}),ce({title:"Email sent",description:"Verification email resent. Please check your inbox."}),{error:null}}catch(T){return ce({title:"Failed to resend email",description:T.message,variant:"destructive"}),{error:T}}},C=async T=>{try{return await Kne(Ar,T,{url:`${window.location.origin}/reset-password`,handleCodeInApp:!0}),ce({title:"Password reset email sent",description:"Please check your inbox for a password reset link."}),{error:null}}catch(I){return ce({title:"Failed to send password reset email",description:I.message,variant:"destructive"}),{error:I}}},_=async(T,I)=>{try{return await Yne(Ar,T,I),ce({title:"Password reset successful",description:"Your password has been reset. You can now sign in with your new password."}),{error:null}}catch(P){return ce({title:"Password reset failed",description:P.message,variant:"destructive"}),{error:P}}},S=async T=>{try{const I=T.startsWith("+")?T:`+${T}`;window.recaptchaVerifier||(window.recaptchaVerifier=new Ase(Ar,"recaptcha-container",{size:"invisible"}));const P=await kse(Ar,I,window.recaptchaVerifier);return window.verificationId=P.verificationId,ce({title:"OTP sent",description:"Please enter the OTP sent to your phone number."}),{error:null,verificationId:P.verificationId}}catch(I){return ce({title:"Failed to send OTP",description:I.message,variant:"destructive"}),{error:I}}},A=async(T,I)=>{try{const P=Iu.credential(I,T);if(Ar.currentUser)await Gne(Ar.currentUser,P),await bn(ke(oe,"users",Ar.currentUser.phoneNumber||""),{uid:Ar.currentUser.uid,phoneNumber:Ar.currentUser.phoneNumber,displayName:Ar.currentUser.displayName,createdAt:new Date});else{const R=await f1(Ar,P);await bn(ke(oe,"users",R.user.phoneNumber||""),{uid:R.user.uid,phoneNumber:R.user.phoneNumber,displayName:R.user.displayName,createdAt:new Date})}return ce({title:"Phone verified",description:"Your phone number has been verified successfully."}),{error:null}}catch(P){return ce({title:"OTP verification failed",description:P.message,variant:"destructive"}),{error:P}}};return i.jsxs(J7.Provider,{value:{user:e,loading:n,isEmailVerified:a,isProfileVerified:l,profileVerificationStatus:u,showWelcomePopup:h,signUp:p,signIn:v,signOut:w,resendConfirmation:E,sendPasswordResetEmail:C,confirmPasswordReset:_,sendPhoneOTP:S,verifyPhoneOTP:A,deleteAccount:N,closeWelcomePopup:b,clearAuthState:j},children:[t,i.jsx(bme,{isVisible:h,userName:(e==null?void 0:e.displayName)||void 0,onClose:b})]})},Rr=()=>{const t=g.useContext(J7);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Z7=g.createContext(void 0),jme=({children:t})=>{let e=null;try{const{user:_}=Rr();e=_}catch{console.warn("UsageProvider: AuthProvider not ready yet, continuing with null user")}const[r,n]=g.useState(null),[s,a]=g.useState({enquiriesPosted:0,supplierSubmissions:0,responseViewsUsed:{},purchasedCredits:{enquiries:0,submissions:0,responseViews:0},premiumSubscription:!1,premiumEnquiries:[],monthlyEnquiriesUsed:0,premiumPackPurchased:!1,premiumPackEnquiriesUsed:0});g.useEffect(()=>{if(!e)return;const _=`palUsageStats:${e.uid}`,S=localStorage.getItem(_);a(S?JSON.parse(S):{enquiriesPosted:0,supplierSubmissions:0,responseViewsUsed:{},purchasedCredits:{enquiries:0,submissions:0,responseViews:0},premiumSubscription:!1,premiumEnquiries:[],monthlyEnquiriesUsed:0,premiumPackPurchased:!1,premiumPackEnquiriesUsed:0})},[e]),g.useEffect(()=>{n(e?{id:e.uid,email:e.email||"",name:e.displayName||e.email||"User",role:"both"}:null)},[e]),g.useEffect(()=>{if(!e)return;const _=`palUsageStats:${e.uid}`;localStorage.setItem(_,JSON.stringify(s))},[s,e]);const o=()=>!!r,l=()=>{if(!r)return!1;const S=5+s.purchasedCredits.submissions;return s.supplierSubmissions<S},c=_=>r?(s.responseViewsUsed[_]||0)<2:!1,u=_=>{var S;return r&&(s.premiumSubscription||((S=s.premiumEnquiries)==null?void 0:S.includes(_)))||!1},d=_=>{var I;if(!r)return{canView:0,total:0,isPremium:!1};const S=2,A=s.responseViewsUsed[_]||0;return s.premiumSubscription||((I=s.premiumEnquiries)==null?void 0:I.includes(_))||!1?{canView:999,total:999,isPremium:!0}:{canView:Math.max(0,S-A),total:S,isPremium:!1}},h=()=>{a(_=>({..._,enquiriesPosted:_.enquiriesPosted+1}))},f=()=>{a(_=>({..._,supplierSubmissions:_.supplierSubmissions+1}))},m=_=>{a(S=>({...S,responseViewsUsed:{...S.responseViewsUsed,[_]:(S.responseViewsUsed[_]||0)+1}}))},x=()=>{if(!r)return 0;const S=5+s.purchasedCredits.enquiries;return Math.max(0,S-s.enquiriesPosted)},p=()=>{if(!r)return 0;const S=5+s.purchasedCredits.submissions;return Math.max(0,S-s.supplierSubmissions)},v=_=>{if(!r)return 0;const S=2,A=Object.values(s.responseViewsUsed).reduce((I,P)=>I+P,0),T=S+s.purchasedCredits.responseViews;return Math.max(0,T-A)},w=(_,S)=>{a(A=>({...A,purchasedCredits:{...A.purchasedCredits,[_]:A.purchasedCredits[_]+S}}))},b=_=>{if(!r)return 0;switch(_){case"enquiries":return 5+s.purchasedCredits.enquiries;case"submissions":return 5+s.purchasedCredits.submissions;case"responseViews":return 2+s.purchasedCredits.responseViews;default:return 0}},j=_=>{console.log("UsageContext: Purchasing premium for enquiry:",_),a(S=>{if(S.premiumEnquiries.includes(_))return console.log("UsageContext: Enquiry already premium, skipping"),S;const A={...S,premiumEnquiries:[...S.premiumEnquiries,_]};return console.log("UsageContext: Updated premiumEnquiries:",A.premiumEnquiries),A})},N=()=>{const _=new Date;_.setMonth(_.getMonth()+1),a(S=>({...S,premiumSubscription:!0,premiumSubscriptionExpiry:_,monthlyEnquiriesUsed:0}))},E=()=>{a(_=>({..._,premiumPackPurchased:!0,premiumPackEnquiriesUsed:0}))},C=()=>s.premiumPackPurchased?10-s.premiumPackEnquiriesUsed:0;return i.jsx(Z7.Provider,{value:{user:r,usageStats:s,setUser:n,canPostEnquiry:o,canSubmitResponse:l,canViewResponse:c,canViewAllResponses:u,getResponseViewLimit:d,incrementEnquiries:h,incrementSubmissions:f,incrementResponseViews:m,getRemainingEnquiries:x,getRemainingSubmissions:p,getRemainingResponseViews:v,purchaseCredits:w,getAvailableCredits:b,purchasePremiumEnquiry:j,purchaseMonthlySubscription:N,purchasePremiumPack:E,getRemainingPremiumPackEnquiries:C},children:t})},mm=()=>{const t=g.useContext(Z7);if(t===void 0)throw new Error("useUsage must be used within a UsageProvider");return t},Nme="modulepreload",Sme=function(t){return"/"+t},_5={},Ju=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Sme(c),c in _5)return;_5[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Nme,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Eme=g.createContext(void 0),_me=({children:t})=>{const[e,r]=g.useState(null),[n,s]=g.useState(!1),[a,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(null),[h,f]=g.useState(!1),m=A=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A),x=async(A,T,I)=>{try{if(s(!0),m(A)){const P={uid:`mock_${Date.now()}`,email:A,displayName:(I==null?void 0:I.full_name)||"Mock User",emailVerified:!1};return localStorage.setItem("mockUser",JSON.stringify(P)),ce({title:"Mock Account Created!",description:`Mock account created for ${A}. This is for testing only.`}),s(!1),{error:null,requiresVerification:!1}}else return ce({title:"Phone authentication disabled",description:"Please use email authentication in mock mode.",variant:"destructive"}),s(!1),{error:new Error("Phone authentication disabled")}}catch(P){return ce({title:"Mock sign up failed",description:P.message,variant:"destructive"}),s(!1),{error:P}}},p=async(A,T)=>{try{if(console.log(" Mock sign-in for:",A),s(!0),m(A)){const I=localStorage.getItem("mockUser");if(I){const R=JSON.parse(I);if(R.email===A)return r(R),o(!0),f(!0),s(!1),{error:null}}const P={uid:`mock_${Date.now()}`,email:A,displayName:"Mock User",emailVerified:!0};return localStorage.setItem("mockUser",JSON.stringify(P)),r(P),o(!0),f(!0),s(!1),{error:null}}else return ce({title:"Phone authentication disabled",description:"Please use email authentication in mock mode.",variant:"destructive"}),s(!1),{error:new Error("Phone authentication disabled")}}catch(I){return console.error(" Mock signIn error:",I),ce({title:"Mock sign in failed",description:I.message,variant:"destructive"}),s(!1),{error:I}}},v=async()=>{try{console.log(" Mock sign-out"),localStorage.removeItem("mockUser"),r(null),o(!1),c(!1),d(null),f(!1),ce({title:"Mock signed out",description:"You have been signed out from mock authentication."}),setTimeout(()=>{window.location.href="/"},100)}catch(A){console.error(" Mock sign-out error:",A),ce({title:"Mock sign out failed",description:A.message,variant:"destructive"})}},w=()=>{f(!1)},b=()=>{console.log(" Clearing mock authentication state"),r(null),o(!1),c(!1),d(null),f(!1),s(!1)};g.useEffect(()=>{const A=localStorage.getItem("mockUser");if(A){const T=JSON.parse(A);r(T),o(T.emailVerified)}},[]);const j=async()=>(ce({title:"Mock email sent",description:"Mock verification email resent."}),{error:null}),N=async A=>(ce({title:"Mock password reset email sent",description:"Mock password reset email sent."}),{error:null}),E=async(A,T)=>(ce({title:"Mock password reset successful",description:"Mock password reset successful."}),{error:null}),C=async A=>(ce({title:"Mock OTP sent",description:"Mock OTP sent to phone number."}),{error:null,verificationId:"mock_verification_id"}),_=async(A,T)=>(ce({title:"Mock phone verified",description:"Mock phone number verified."}),{error:null}),S=async()=>(localStorage.removeItem("mockUser"),r(null),ce({title:"Mock account deleted",description:"Mock account deleted successfully."}),window.location.href="/",{error:null});return i.jsx(Eme.Provider,{value:{user:e,loading:n,isEmailVerified:a,isProfileVerified:l,profileVerificationStatus:u,showWelcomePopup:h,signUp:x,signIn:p,signOut:v,resendConfirmation:j,sendPasswordResetEmail:N,confirmPasswordReset:E,sendPhoneOTP:C,verifyPhoneOTP:_,deleteAccount:S,closeWelcomePopup:w,clearAuthState:b},children:t})},Pme=({children:t})=>{const[e,r]=g.useState(!1),[n,s]=g.useState(!0);return g.useEffect(()=>{console.log(" Using Firebase Authentication (confirmed working)"),r(!1),s(!1)},[]),n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-slate-600 font-medium",children:"Initializing authentication..."})]})}):e?(console.log(" Using Mock Authentication Provider"),i.jsx(_me,{children:t})):(console.log(" Using Firebase Authentication Provider"),i.jsx(wme,{children:t}))};class Ame{constructor(){An(this,"userPreferences",new Map);An(this,"analytics",new Map)}async initializeUserNotifications(e){try{if(!e||typeof e!="string"){console.warn("Invalid userId provided to initializeUserNotifications");return}const r=this.getUserPreferences(e);this.userPreferences.set(e,r),this.analytics.set(e,{totalSent:0,readRate:0,clickRate:0,userEngagement:0,optimalTiming:[]}),console.log("Smart notifications initialized for user:",e)}catch(r){console.error("Failed to initialize notifications:",r)}}getUserPreferences(e){try{const r=localStorage.getItem(`notification_prefs_${e}`);if(r)return JSON.parse(r)}catch(r){console.warn("Failed to parse stored notification preferences:",r)}return{userId:e,enabledTypes:["admin_approval","new_response","new_chat","enquiry_update","achievement"],quietHours:{start:"22:00",end:"07:00"},frequency:"immediate",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}async saveUserPreferences(e,r){try{const s={...this.userPreferences.get(e)||this.getUserPreferences(e),...r};this.userPreferences.set(e,s),localStorage.setItem(`notification_prefs_${e}`,JSON.stringify(s))}catch(n){console.error("Failed to save preferences:",n)}}generateNotificationContent(e,r,n){const s=this.userPreferences.get(n);switch(this.isQuietTime(s),e){case"admin_approval":return{type:e,title:r.title||(r.approved?"Approved! ":"Update Required"),message:r.message||(r.approved?`${r.itemType||"Item"} has been approved and is now live!`:`${r.itemType||"Item"} needs some updates. Please check the requirements.`),priority:r.priority||(r.approved?"medium":"high"),actionUrl:r.actionUrl,actionText:r.actionText||(r.approved?"View Now":"Update Now"),metadata:{approved:r.approved,itemType:r.itemType}};case"new_response":return{type:e,title:r.title||"New Response! ",message:r.message||`You got a response to "${r.enquiryTitle||"your enquiry"}" from ${r.sellerName||"a seller"}`,priority:r.priority||"high",actionUrl:r.actionUrl||`/enquiry/${r.enquiryId}/responses?sellerId=${r.sellerId}`,actionText:r.actionText||"View Response",metadata:{enquiryId:r.enquiryId,sellerId:r.sellerId}};case"new_chat":return{type:e,title:r.title||"New Message! ",message:r.message||`New message from ${r.senderName||"someone"} about "${r.enquiryTitle||"your enquiry"}"`,priority:r.priority||"high",actionUrl:r.actionUrl||`/enquiry/${r.enquiryId}/responses?sellerId=${r.senderId}`,actionText:r.actionText||"Chat Now",metadata:{enquiryId:r.enquiryId,senderId:r.senderId}};case"enquiry_update":return{type:e,title:r.title||"Enquiry Update ",message:r.message||"Your enquiry has been updated",priority:r.priority||"medium",actionUrl:r.actionUrl||`/enquiry/${r.enquiryId}`,actionText:r.actionText||"View Details",metadata:{enquiryId:r.enquiryId,updateType:r.updateType}};case"achievement":return{type:e,title:"Achievement Unlocked! ",message:r.message,priority:"medium",actionUrl:r.actionUrl,actionText:"View Achievement",metadata:{achievementType:r.achievementType}};case"reminder":return{type:e,title:"Reminder ",message:r.message,priority:"low",actionUrl:r.actionUrl,actionText:"Take Action",metadata:{reminderType:r.reminderType}};case"system":return{type:e,title:"System Update ",message:r.message,priority:"low",actionUrl:r.actionUrl,actionText:"Learn More",metadata:{systemType:r.systemType}};default:return{type:e,title:"Notification",message:r.message||"You have a new notification",priority:"medium",actionUrl:r.actionUrl,actionText:"View",metadata:r}}}isQuietTime(e){if(!(e!=null&&e.quietHours))return!1;const r=new Date,n=r.getHours()*60+r.getMinutes(),[s,a]=e.quietHours.start.split(":").map(Number),[o,l]=e.quietHours.end.split(":").map(Number),c=s*60+a,u=o*60+l;return n>=c||n<=u}getOptimalDeliveryTime(e,r){const n=this.userPreferences.get(e),s=this.analytics.get(e);if(r==="urgent")return new Date;if(this.isQuietTime(n)){const a=new Date;return a.setDate(a.getDate()+1),a.setHours(8,0,0,0),a}if((s==null?void 0:s.optimalTiming.length)>0){const a=s.optimalTiming.reduce((l,c)=>c.engagement>l.engagement?c:l),o=new Date;return o.setHours(a.hour,0,0,0),o}return new Date}async createNotification(e,r,n){try{const s=this.generateNotificationContent(r,n,e),a=this.getOptimalDeliveryTime(e,s.priority),o={id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...s,timestamp:a,read:!1};return await this.storeNotification(e,o),this.updateAnalytics(e,"sent"),o}catch(s){throw console.error("Failed to create notification:",s),s}}async storeNotification(e,r){try{const n=`notifications_${e}`,s=JSON.parse(localStorage.getItem(n)||"[]");s.push(r),s.length>100&&s.splice(0,s.length-100),localStorage.setItem(n,JSON.stringify(s))}catch(n){console.error("Failed to store notification:",n)}}async getUserNotifications(e,r=20){try{const n=`notifications_${e}`;return JSON.parse(localStorage.getItem(n)||"[]").sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()).slice(0,r)}catch(n){return console.error("Failed to get notifications:",n),[]}}async markAsRead(e,r){try{const n=`notifications_${e}`,s=JSON.parse(localStorage.getItem(n)||"[]"),a=s.find(o=>o.id===r);a&&(a.read=!0,localStorage.setItem(n,JSON.stringify(s)),this.updateAnalytics(e,"read"))}catch(n){console.error("Failed to mark notification as read:",n)}}async markAsUnread(e,r){try{const n=`notifications_${e}`,s=JSON.parse(localStorage.getItem(n)||"[]"),a=s.find(o=>o.id===r);a&&(a.read=!1,localStorage.setItem(n,JSON.stringify(s)))}catch(n){console.error("Failed to mark notification as unread:",n)}}updateAnalytics(e,r){const n=this.analytics.get(e);if(n){switch(r){case"sent":n.totalSent++;break;case"read":n.readRate=(n.readRate+1)/n.totalSent;break;case"clicked":n.clickRate=(n.clickRate+1)/n.totalSent;break}this.analytics.set(e,n)}}getAnalytics(e){return this.analytics.get(e)||null}async clearAllNotifications(e){try{const r=`notifications_${e}`;localStorage.removeItem(r)}catch(r){console.error("Failed to clear notifications:",r)}}}const po=new Ame,wa=g.createContext(void 0),Tme=({children:t})=>{const{user:e}=Rr(),[r,n]=g.useState([]),[s,a]=g.useState(0),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,h]=g.useState(!1);g.useEffect(()=>{if(!(e!=null&&e.uid)){n([]),a(0),h(!1);return}(async()=>{try{await f(),await m(),n([]),a(0),h(!0)}catch(A){console.error("Failed to initialize notifications:",A),h(!0)}})()},[e==null?void 0:e.uid]);const f=async()=>{try{Object.keys(localStorage).forEach(A=>{(A.includes("notification")||A.includes("notif"))&&localStorage.removeItem(A)}),console.log("Cleared all old notifications from localStorage")}catch(S){console.error("Failed to clear old notifications:",S)}},m=async()=>{e!=null&&e.uid&&await po.initializeUserNotifications(e.uid)},x=async()=>{if(e!=null&&e.uid){l(!0);try{const S=new Date,A=await po.getUserNotifications(e.uid,20),I=(Array.isArray(A)?A:[]).filter(R=>!R||!R.timestamp?!1:(R.timestamp instanceof Date?R.timestamp:new Date(R.timestamp))>=S);n(I);const P=I.filter(R=>R&&!R.read).length;a(P)}catch(S){console.error("Failed to refresh notifications:",S),n([]),a(0)}finally{l(!1)}}},p=async S=>{if(!(!(e!=null&&e.uid)||!S))try{const A=r.find(T=>T.id===S);if(A&&A.read)return;await po.markAsRead(e.uid,S),n(T=>T.map(I=>I.id===S?{...I,read:!0}:I)),A&&!A.read&&a(T=>Math.max(0,T-1))}catch(A){console.error("Failed to mark notification as read:",A)}},v=async S=>{if(!(!(e!=null&&e.uid)||!S))try{const A=r.find(T=>T.id===S);if(A&&!A.read)return;await po.markAsUnread(e.uid,S),n(T=>T.map(I=>I.id===S?{...I,read:!1}:I)),A!=null&&A.read&&a(T=>T+1)}catch(A){console.error("Failed to mark notification as unread:",A)}},w=async()=>{if(e!=null&&e.uid)try{const S=r.filter(A=>A&&!A.read);if(S.length===0)return;for(const A of S)A.id&&await po.markAsRead(e.uid,A.id);n(A=>A.map(T=>({...T,read:!0}))),a(0)}catch(S){console.error("Failed to mark all as read:",S)}},b=async(S,A)=>{if(e!=null&&e.uid)try{const T=await po.createNotification(e.uid,S,A);n(I=>[T,...I]),a(I=>I+1)}catch(T){console.error("Failed to create notification:",T)}},j=async(S,A,T)=>{if(S)try{await po.createNotification(S,A,T),S===(e==null?void 0:e.uid)&&await x()}catch(I){console.error("Failed to create notification for user:",I)}},N=async()=>{if(e!=null&&e.uid)try{await po.clearAllNotifications(e.uid),n([]),a(0)}catch(S){console.error("Failed to clear notifications:",S)}},E=async S=>{if(e!=null&&e.uid)try{await po.saveUserPreferences(e.uid,S),u(A=>A?{...A,...S}:null)}catch(A){console.error("Failed to update preferences:",A)}},C=async()=>!1,_={notifications:Array.isArray(r)?r:[],unreadCount:typeof s=="number"?s:0,loading:typeof o=="boolean"?o:!1,preferences:c,createNotification:b,createNotificationForUser:j,markAsRead:p,markAsUnread:v,markAllAsRead:w,clearAllNotifications:N,updatePreferences:E,refreshNotifications:x,requestNotificationPermission:C};return i.jsx(wa.Provider,{value:_,children:t})},Cme=()=>{const t=g.useContext(wa);if(t===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return t},xe=g.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:He("rounded-2xl border-2 border-gray-100 bg-white text-card-foreground shadow-md hover:shadow-lg transition-all duration-300 ease-out",t),...e}));xe.displayName="Card";const jt=g.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:He("flex flex-col space-y-2 p-6 sm:p-8",t),...e}));jt.displayName="CardHeader";const mr=g.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:He("text-xl sm:text-2xl font-bold leading-tight tracking-tight text-gray-900",t),...e}));mr.displayName="CardTitle";const Mu=g.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:He("text-sm sm:text-base text-gray-600 leading-relaxed",t),...e}));Mu.displayName="CardDescription";const Ue=g.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:He("px-6 sm:px-8 pb-6 pt-0",t),...e}));Ue.displayName="CardContent";const kme=g.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:He("flex items-center px-6 sm:px-8 pb-6 pt-0 gap-2",t),...e}));kme.displayName="CardFooter";const eq=g.createContext({});function Ime(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const rk=typeof window<"u",Rme=rk?g.useLayoutEffect:g.useEffect,nk=g.createContext(null);function sk(t,e){t.indexOf(e)===-1&&t.push(e)}function ik(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Xo=(t,e,r)=>r>e?e:r<t?t:r;let Ib=()=>{};const Jo={},tq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function rq(t){return typeof t=="object"&&t!==null}const nq=t=>/^0[^.\s]+$/u.test(t);function ak(t){let e;return()=>(e===void 0&&(e=t()),e)}const Oi=t=>t,Ome=(t,e)=>r=>e(t(r)),ly=(...t)=>t.reduce(Ome),Kg=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class ok{constructor(){this.subscriptions=[]}add(e){return sk(this.subscriptions,e),()=>ik(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ha=t=>t*1e3,ki=t=>t/1e3;function sq(t,e){return e?t*(1e3/e):0}const iq=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Dme=1e-7,Mme=12;function $me(t,e,r,n,s){let a,o,l=0;do o=e+(r-e)/2,a=iq(o,n,s)-t,a>0?r=o:e=o;while(Math.abs(a)>Dme&&++l<Mme);return o}function cy(t,e,r,n){if(t===e&&r===n)return Oi;const s=a=>$me(a,0,1,t,r);return a=>a===0||a===1?a:iq(s(a),e,n)}const aq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oq=t=>e=>1-t(1-e),lq=cy(.33,1.53,.69,.99),lk=oq(lq),cq=aq(lk),uq=t=>(t*=2)<1?.5*lk(t):.5*(2-Math.pow(2,-10*(t-1))),ck=t=>1-Math.sin(Math.acos(t)),dq=oq(ck),hq=aq(ck),Lme=cy(.42,0,1,1),Fme=cy(0,0,.58,1),fq=cy(.42,0,.58,1),Vme=t=>Array.isArray(t)&&typeof t[0]!="number",mq=t=>Array.isArray(t)&&typeof t[0]=="number",P5={linear:Oi,easeIn:Lme,easeInOut:fq,easeOut:Fme,circIn:ck,circInOut:hq,circOut:dq,backIn:lk,backInOut:cq,backOut:lq,anticipate:uq},Bme=t=>typeof t=="string",A5=t=>{if(mq(t)){Ib(t.length===4);const[e,r,n,s]=t;return cy(e,r,n,s)}else if(Bme(t))return Ib(P5[t]!==void 0),P5[t];return t},A0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],T5={value:null,addProjectionMetrics:null};function Ume(t,e){let r=new Set,n=new Set,s=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),t()),c++,h(l)}const d={schedule:(h,f=!1,m=!1)=>{const p=m&&s?r:n;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),e&&T5.value&&T5.value.frameloop[e].push(c),c=0,r.clear(),s=!1,a&&(a=!1,d.process(h))}};return d}const qme=40;function pq(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=A0.reduce((j,N)=>(j[N]=Ume(a,e?N:void 0),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:x}=o,p=()=>{const j=Jo.useManualTiming?s.timestamp:performance.now();r=!1,Jo.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(j-s.timestamp,qme),1)),s.timestamp=j,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),x.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(p))},v=()=>{r=!0,n=!0,s.isProcessing||t(p)};return{schedule:A0.reduce((j,N)=>{const E=o[N];return j[N]=(C,_=!1,S=!1)=>(r||v(),E.schedule(C,_,S)),j},{}),cancel:j=>{for(let N=0;N<A0.length;N++)o[A0[N]].cancel(j)},state:s,steps:o}}const{schedule:kr,cancel:Ec,state:zn,steps:I2}=pq(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oi,!0);let Nv;function zme(){Nv=void 0}const Vs={now:()=>(Nv===void 0&&Vs.set(zn.isProcessing||Jo.useManualTiming?zn.timestamp:performance.now()),Nv),set:t=>{Nv=t,queueMicrotask(zme)}},gq=t=>e=>typeof e=="string"&&e.startsWith(t),uk=gq("--"),Wme=gq("var(--"),dk=t=>Wme(t)?Hme.test(t.split("/*")[0].trim()):!1,Hme=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yg={...pm,transform:t=>Xo(0,1,t)},T0={...pm,default:1},Jp=t=>Math.round(t*1e5)/1e5,hk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Gme(t){return t==null}const Kme=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fk=(t,e)=>r=>!!(typeof r=="string"&&Kme.test(r)&&r.startsWith(t)||e&&!Gme(r)&&Object.prototype.hasOwnProperty.call(r,e)),xq=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,a,o,l]=n.match(hk);return{[t]:parseFloat(s),[e]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Yme=t=>Xo(0,255,t),R2={...pm,transform:t=>Math.round(Yme(t))},xu={test:fk("rgb","red"),parse:xq("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+R2.transform(t)+", "+R2.transform(e)+", "+R2.transform(r)+", "+Jp(Yg.transform(n))+")"};function Qme(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const w_={test:fk("#"),parse:Qme,transform:xu.transform},uy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wl=uy("deg"),Ga=uy("%"),ct=uy("px"),Xme=uy("vh"),Jme=uy("vw"),C5={...Ga,parse:t=>Ga.parse(t)/100,transform:t=>Ga.transform(t*100)},rh={test:fk("hsl","hue"),parse:xq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Ga.transform(Jp(e))+", "+Ga.transform(Jp(r))+", "+Jp(Yg.transform(n))+")"},nn={test:t=>xu.test(t)||w_.test(t)||rh.test(t),parse:t=>xu.test(t)?xu.parse(t):rh.test(t)?rh.parse(t):w_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xu.transform(t):rh.transform(t),getAnimatableNone:t=>{const e=nn.parse(t);return e.alpha=0,nn.transform(e)}},Zme=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function epe(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(hk))==null?void 0:e.length)||0)+(((r=t.match(Zme))==null?void 0:r.length)||0)>0}const yq="number",vq="color",tpe="var",rpe="var(",k5="${}",npe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qg(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const l=e.replace(npe,c=>(nn.test(c)?(n.color.push(a),s.push(vq),r.push(nn.parse(c))):c.startsWith(rpe)?(n.var.push(a),s.push(tpe),r.push(c)):(n.number.push(a),s.push(yq),r.push(parseFloat(c))),++a,k5)).split(k5);return{values:r,split:l,indexes:n,types:s}}function bq(t){return Qg(t).values}function wq(t){const{split:e,types:r}=Qg(t),n=e.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],s[o]!==void 0){const l=r[o];l===yq?a+=Jp(s[o]):l===vq?a+=nn.transform(s[o]):a+=s[o]}return a}}const spe=t=>typeof t=="number"?0:nn.test(t)?nn.getAnimatableNone(t):t;function ipe(t){const e=bq(t);return wq(t)(e.map(spe))}const _c={test:epe,parse:bq,createTransformer:wq,getAnimatableNone:ipe};function O2(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ape({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,a=0,o=0;if(!e)s=a=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;s=O2(c,l,t+1/3),a=O2(c,l,t),o=O2(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function Rb(t,e){return r=>r>0?e:t}const $r=(t,e,r)=>t+(e-t)*r,D2=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},ope=[w_,xu,rh],lpe=t=>ope.find(e=>e.test(t));function I5(t){const e=lpe(t);if(!e)return!1;let r=e.parse(t);return e===rh&&(r=ape(r)),r}const R5=(t,e)=>{const r=I5(t),n=I5(e);if(!r||!n)return Rb(t,e);const s={...r};return a=>(s.red=D2(r.red,n.red,a),s.green=D2(r.green,n.green,a),s.blue=D2(r.blue,n.blue,a),s.alpha=$r(r.alpha,n.alpha,a),xu.transform(s))},j_=new Set(["none","hidden"]);function cpe(t,e){return j_.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function upe(t,e){return r=>$r(t,e,r)}function mk(t){return typeof t=="number"?upe:typeof t=="string"?dk(t)?Rb:nn.test(t)?R5:fpe:Array.isArray(t)?jq:typeof t=="object"?nn.test(t)?R5:dpe:Rb}function jq(t,e){const r=[...t],n=r.length,s=t.map((a,o)=>mk(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=s[o](a);return r}}function dpe(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=mk(t[s])(t[s],e[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function hpe(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][n[a]],l=t.values[o]??0;r[s]=l,n[a]++}return r}const fpe=(t,e)=>{const r=_c.createTransformer(e),n=Qg(t),s=Qg(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?j_.has(t)&&!s.values.length||j_.has(e)&&!n.values.length?cpe(t,e):ly(jq(hpe(n,s),s.values),r):Rb(t,e)};function Nq(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?$r(t,e,r):mk(t)(t,e)}const mpe=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>kr.update(e,r),stop:()=>Ec(e),now:()=>zn.isProcessing?zn.timestamp:Vs.now()}},Sq=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let a=0;a<s;a++)n+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Ob=2e4;function pk(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Ob;)e+=r,n=t.next(e);return e>=Ob?1/0:e}function ppe(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(pk(n),Ob);return{type:"keyframes",ease:a=>n.next(s*a).value/e,duration:ki(s)}}const gpe=5;function Eq(t,e,r){const n=Math.max(e-gpe,0);return sq(r-t(n),e-n)}const Wr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},M2=.001;function xpe({duration:t=Wr.duration,bounce:e=Wr.bounce,velocity:r=Wr.velocity,mass:n=Wr.mass}){let s,a,o=1-e;o=Xo(Wr.minDamping,Wr.maxDamping,o),t=Xo(Wr.minDuration,Wr.maxDuration,ki(t)),o<1?(s=u=>{const d=u*o,h=d*t,f=d-r,m=N_(u,o),x=Math.exp(-h);return M2-f/m*x},a=u=>{const h=u*o*t,f=h*r+r,m=Math.pow(o,2)*Math.pow(u,2)*t,x=Math.exp(-h),p=N_(Math.pow(u,2),o);return(-s(u)+M2>0?-1:1)*((f-m)*x)/p}):(s=u=>{const d=Math.exp(-u*t),h=(u-r)*t+1;return-M2+d*h},a=u=>{const d=Math.exp(-u*t),h=(r-u)*(t*t);return d*h});const l=5/t,c=vpe(s,a,l);if(t=Ha(t),isNaN(c))return{stiffness:Wr.stiffness,damping:Wr.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const ype=12;function vpe(t,e,r){let n=r;for(let s=1;s<ype;s++)n=n-t(n)/e(n);return n}function N_(t,e){return t*Math.sqrt(1-e*e)}const bpe=["duration","bounce"],wpe=["stiffness","damping","mass"];function O5(t,e){return e.some(r=>t[r]!==void 0)}function jpe(t){let e={velocity:Wr.velocity,stiffness:Wr.stiffness,damping:Wr.damping,mass:Wr.mass,isResolvedFromDuration:!1,...t};if(!O5(t,wpe)&&O5(t,bpe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*Xo(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Wr.mass,stiffness:s,damping:a}}else{const r=xpe(t);e={...e,...r,mass:Wr.mass},e.isResolvedFromDuration=!0}return e}function Db(t=Wr.visualDuration,e=Wr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=jpe({...r,velocity:-ki(r.velocity||0)}),x=f||0,p=u/(2*Math.sqrt(c*d)),v=o-a,w=ki(Math.sqrt(c/d)),b=Math.abs(v)<5;n||(n=b?Wr.restSpeed.granular:Wr.restSpeed.default),s||(s=b?Wr.restDelta.granular:Wr.restDelta.default);let j;if(p<1){const E=N_(w,p);j=C=>{const _=Math.exp(-p*w*C);return o-_*((x+p*w*v)/E*Math.sin(E*C)+v*Math.cos(E*C))}}else if(p===1)j=E=>o-Math.exp(-w*E)*(v+(x+w*v)*E);else{const E=w*Math.sqrt(p*p-1);j=C=>{const _=Math.exp(-p*w*C),S=Math.min(E*C,300);return o-_*((x+p*w*v)*Math.sinh(S)+E*v*Math.cosh(S))/E}}const N={calculatedDuration:m&&h||null,next:E=>{const C=j(E);if(m)l.done=E>=h;else{let _=E===0?x:0;p<1&&(_=E===0?Ha(x):Eq(j,E,C));const S=Math.abs(_)<=n,A=Math.abs(o-C)<=s;l.done=S&&A}return l.value=l.done?o:C,l},toString:()=>{const E=Math.min(pk(N),Ob),C=Sq(_=>N.next(E*_).value,E,30);return E+"ms "+C},toTransition:()=>{}};return N}Db.applyToOptions=t=>{const e=ppe(t,100,Db);return t.ease=e.ease,t.duration=Ha(e.duration),t.type="keyframes",t};function S_({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=S=>l!==void 0&&S<l||c!==void 0&&S>c,x=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let p=r*e;const v=h+p,w=o===void 0?v:o(v);w!==v&&(p=w-h);const b=S=>-p*Math.exp(-S/n),j=S=>w+b(S),N=S=>{const A=b(S),T=j(S);f.done=Math.abs(A)<=u,f.value=f.done?w:T};let E,C;const _=S=>{m(f.value)&&(E=S,C=Db({keyframes:[f.value,x(f.value)],velocity:Eq(j,S,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:S=>{let A=!1;return!C&&E===void 0&&(A=!0,N(S),_(S)),E!==void 0&&S>=E?C.next(S-E):(!A&&N(S),f)}}}function Npe(t,e,r){const n=[],s=r||Jo.mix||Nq,a=t.length-1;for(let o=0;o<a;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Oi:e;l=ly(c,l)}n.push(l)}return n}function Spe(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const a=t.length;if(Ib(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Npe(e,n,s),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Kg(t[h],t[h+1],d);return l[h](f)};return r?d=>u(Xo(t[0],t[a-1],d)):u}function Epe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Kg(0,e,n);t.push($r(r,1,s))}}function _pe(t){const e=[0];return Epe(e,t.length-1),e}function Ppe(t,e){return t.map(r=>r*e)}function Ape(t,e){return t.map(()=>e||fq).splice(0,t.length-1)}function Zp({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=Vme(n)?n.map(A5):A5(n),a={done:!1,value:e[0]},o=Ppe(r&&r.length===e.length?r:_pe(e),t),l=Spe(o,e,{ease:Array.isArray(s)?s:Ape(e,s)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const Tpe=t=>t!==null;function gk(t,{repeat:e,repeatType:r="loop"},n,s=1){const a=t.filter(Tpe),l=s<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const Cpe={decay:S_,inertia:S_,tween:Zp,keyframes:Zp,spring:Db};function _q(t){typeof t.type=="string"&&(t.type=Cpe[t.type])}class xk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const kpe=t=>t/100;class yk extends xk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Vs.now()&&this.tick(Vs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_q(e);const{type:r=Zp,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=r||Zp;c!==Zp&&typeof l[0]!="number"&&(this.mixKeyframes=ly(kpe,Nq(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=pk(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:x,onUpdate:p,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,N=n;if(h){const S=Math.min(this.currentTime,s)/l;let A=Math.floor(S),T=S%1;!T&&S>=1&&(T=1),T===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(f==="reverse"?(T=1-T,m&&(T-=m/l)):f==="mirror"&&(N=o)),j=Xo(0,1,T)*l}const E=b?{done:!1,value:d[0]}:N.next(j);a&&(E.value=a(E.value));let{done:C}=E;!b&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return _&&x!==S_&&(E.value=gk(d,this.options,v,this.speed)),p&&p(E.value),_&&this.finish(),E}then(e,r){return this.finished.then(e,r)}get duration(){return ki(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ki(e)}get time(){return ki(this.currentTime)}set time(e){var r;e=Ha(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vs.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ki(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=mpe,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(s=this.options).onPlay)==null||a.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Ipe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const yu=t=>t*180/Math.PI,E_=t=>{const e=yu(Math.atan2(t[1],t[0]));return __(e)},Rpe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:E_,rotateZ:E_,skewX:t=>yu(Math.atan(t[1])),skewY:t=>yu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},__=t=>(t=t%360,t<0&&(t+=360),t),D5=E_,M5=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$5=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ope={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:M5,scaleY:$5,scale:t=>(M5(t)+$5(t))/2,rotateX:t=>__(yu(Math.atan2(t[6],t[5]))),rotateY:t=>__(yu(Math.atan2(-t[2],t[0]))),rotateZ:D5,rotate:D5,skewX:t=>yu(Math.atan(t[4])),skewY:t=>yu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function P_(t){return t.includes("scale")?1:0}function A_(t,e){if(!t||t==="none")return P_(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=Ope,s=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Rpe,s=l}if(!s)return P_(e);const a=n[e],o=s[1].split(",").map(Mpe);return typeof a=="function"?a(o):o[a]}const Dpe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return A_(r,e)};function Mpe(t){return parseFloat(t.trim())}const gm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xm=new Set(gm),L5=t=>t===pm||t===ct,$pe=new Set(["x","y","z"]),Lpe=gm.filter(t=>!$pe.has(t));function Fpe(t){const e=[];return Lpe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const $u={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>A_(e,"x"),y:(t,{transform:e})=>A_(e,"y")};$u.translateX=$u.x;$u.translateY=$u.y;const Lu=new Set;let T_=!1,C_=!1,k_=!1;function Pq(){if(C_){const t=Array.from(Lu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=Fpe(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,o])=>{var l;(l=n.getValue(a))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}C_=!1,T_=!1,Lu.forEach(t=>t.complete(k_)),Lu.clear()}function Aq(){Lu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(C_=!0)})}function Vpe(){k_=!0,Aq(),Pq(),k_=!1}class vk{constructor(e,r,n,s,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Lu.add(this),T_||(T_=!0,kr.read(Aq),kr.resolveKeyframes(Pq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}Ipe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Lu.delete(this)}cancel(){this.state==="scheduled"&&(Lu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Bpe=t=>t.startsWith("--");function Upe(t,e,r){Bpe(e)?t.style.setProperty(e,r):t.style[e]=r}const qpe=ak(()=>window.ScrollTimeline!==void 0),zpe={};function Wpe(t,e){const r=ak(t);return()=>zpe[e]??r()}const Tq=Wpe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,F5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pp([0,.65,.55,1]),circOut:Pp([.55,0,1,.45]),backIn:Pp([.31,.01,.66,-.59]),backOut:Pp([.33,1.53,.69,.99])};function Cq(t,e){if(t)return typeof t=="function"?Tq()?Sq(t,e):"ease-out":mq(t)?Pp(t):Array.isArray(t)?t.map(r=>Cq(r,e)||F5.easeOut):F5[t]}function Hpe(t,e,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:r};c&&(d.offset=c);const h=Cq(l,s);Array.isArray(h)&&(d.easing=h);const f={delay:n,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function kq(t){return typeof t=="function"&&"applyToOptions"in t}function Gpe({type:t,...e}){return kq(t)&&Tq()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Kpe extends xk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Ib(typeof e.type!="string");const u=Gpe(e);this.animation=Hpe(r,n,s,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=gk(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Upe(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ki(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ki(e)}get time(){return ki(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ha(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&qpe()?(this.animation.timeline=e,Oi):r(this)}}const Iq={anticipate:uq,backInOut:cq,circInOut:hq};function Ype(t){return t in Iq}function Qpe(t){typeof t.ease=="string"&&Ype(t.ease)&&(t.ease=Iq[t.ease])}const V5=10;class Xpe extends Kpe{constructor(e){Qpe(e),_q(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new yk({...o,autoplay:!1}),c=Ha(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-V5).value,l.sample(c).value,V5),l.stop()}}const B5=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_c.test(t)||t==="0")&&!t.startsWith("url("));function Jpe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Zpe(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=B5(s,e),l=B5(a,e);return!o||!l?!1:Jpe(t)||(r==="spring"||kq(r))&&n}function I_(t){t.duration=0,t.type="keyframes"}const ege=new Set(["opacity","clipPath","filter","transform"]),tge=ak(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rge(t){var d;const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:a,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return tge()&&r&&ege.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&a!==0&&o!=="inertia"}const nge=40;class sge extends xk{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var x;super(),this.stop=()=>{var p,v;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Vs.now();const f={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||vk;this.keyframeResolver=new m(l,(p,v,w)=>this.onKeyframesResolved(p,v,f,!w),c,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Vs.now(),Zpe(e,a,o,l)||((Jo.instantAnimations||!c)&&(d==null||d(gk(e,n,r))),e[0]=e[e.length-1],I_(n),n.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>nge?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},m=!u&&rge(f)?new Xpe({...f,element:f.motionValue.owner.current}):new yk(f);m.finished.then(()=>this.notifyFinished()).catch(Oi),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Vpe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ige=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function age(t){const e=ige.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function Rq(t,e,r=1){const[n,s]=age(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return tq(o)?parseFloat(o):o}return dk(s)?Rq(s,e,r+1):s}function bk(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Oq=new Set(["width","height","top","left","right","bottom",...gm]),oge={test:t=>t==="auto",parse:t=>t},Dq=t=>e=>e.test(t),Mq=[pm,ct,Ga,wl,Jme,Xme,oge],U5=t=>Mq.find(Dq(t));function lge(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nq(t):!0}const cge=new Set(["brightness","contrast","saturate","opacity"]);function uge(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(hk)||[];if(!n)return t;const s=r.replace(n,"");let a=cge.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+s+")"}const dge=/\b([a-z-]*)\(.*?\)/gu,R_={..._c,getAnimatableNone:t=>{const e=t.match(dge);return e?e.map(uge).join(" "):t}},q5={...pm,transform:Math.round},hge={rotate:wl,rotateX:wl,rotateY:wl,rotateZ:wl,scale:T0,scaleX:T0,scaleY:T0,scaleZ:T0,skew:wl,skewX:wl,skewY:wl,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:Yg,originX:C5,originY:C5,originZ:ct},wk={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,backgroundPositionX:ct,backgroundPositionY:ct,...hge,zIndex:q5,fillOpacity:Yg,strokeOpacity:Yg,numOctaves:q5},fge={...wk,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:R_,WebkitFilter:R_},$q=t=>fge[t];function Lq(t,e){let r=$q(t);return r!==R_&&(r=_c),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const mge=new Set(["auto","none","0"]);function pge(t,e,r){let n=0,s;for(;n<t.length&&!s;){const a=t[n];typeof a=="string"&&!mge.has(a)&&Qg(a).values.length&&(s=t[n]),n++}if(s&&r)for(const a of e)t[a]=Lq(r,s)}class gge extends vk{constructor(e,r,n,s,a){super(e,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),dk(u))){const d=Rq(u,r.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Oq.has(n)||e.length!==2)return;const[s,a]=e,o=U5(s),l=U5(a);if(o!==l)if(L5(o)&&L5(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else $u[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||lge(e[s]))&&n.push(s);n.length&&pge(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$u[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=$u[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function xge(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const Fq=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function yge(t){return rq(t)&&"offsetHeight"in t}const z5=30,vge=t=>!isNaN(parseFloat(t));class bge{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const s=Vs.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Vs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vge(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new ok);const n=this.events[e].add(r);return e==="change"?()=>{n(),kr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>z5)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,z5);return sq(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mf(t,e){return new bge(t,e)}const{schedule:jk,cancel:qWe}=pq(queueMicrotask,!1),Yi={x:!1,y:!1};function Vq(){return Yi.x||Yi.y}function wge(t){return t==="x"||t==="y"?Yi[t]?null:(Yi[t]=!0,()=>{Yi[t]=!1}):Yi.x||Yi.y?null:(Yi.x=Yi.y=!0,()=>{Yi.x=Yi.y=!1})}function Bq(t,e){const r=xge(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function W5(t){return!(t.pointerType==="touch"||Vq())}function jge(t,e,r={}){const[n,s,a]=Bq(t,r),o=l=>{if(!W5(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=h=>{W5(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const Uq=(t,e)=>e?t===e?!0:Uq(t,e.parentElement):!1,Nk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Nge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Sge(t){return Nge.has(t.tagName)||t.tabIndex!==-1}const Sv=new WeakSet;function H5(t){return e=>{e.key==="Enter"&&t(e)}}function $2(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ege=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=H5(()=>{if(Sv.has(r))return;$2(r,"down");const s=H5(()=>{$2(r,"up")}),a=()=>$2(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function G5(t){return Nk(t)&&!Vq()}function _ge(t,e,r={}){const[n,s,a]=Bq(t,r),o=l=>{const c=l.currentTarget;if(!G5(l))return;Sv.add(c);const u=e(c,l),d=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Sv.has(c)&&Sv.delete(c),G5(m)&&typeof u=="function"&&u(m,{success:x})},h=m=>{d(m,c===window||c===document||r.useGlobalTarget||Uq(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),yge(l)&&(l.addEventListener("focus",u=>Ege(u,s)),!Sge(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function qq(t){return rq(t)&&"ownerSVGElement"in t}function Pge(t){return qq(t)&&t.tagName==="svg"}const os=t=>!!(t&&t.getVelocity),Age=[...Mq,nn,_c],Tge=t=>Age.find(Dq(t)),zq=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Cge(t=!0){const e=g.useContext(nk);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,a=g.useId();g.useEffect(()=>{if(t)return s(a)},[t]);const o=g.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,o]:[!0]}const Wq=g.createContext({strict:!1}),K5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pf={};for(const t in K5)pf[t]={isEnabled:e=>K5[t].some(r=>!!e[r])};function kge(t){for(const e in t)pf[e]={...pf[e],...t[e]}}const Ige=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ige.has(t)}let Hq=t=>!Mb(t);function Rge(t){typeof t=="function"&&(Hq=e=>e.startsWith("on")?!Mb(e):t(e))}try{Rge(require("@emotion/is-prop-valid").default)}catch{}function Oge(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(Hq(s)||r===!0&&Mb(s)||!e&&!Mb(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}const tj=g.createContext({});function rj(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Xg(t){return typeof t=="string"||Array.isArray(t)}const Sk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ek=["initial",...Sk];function nj(t){return rj(t.animate)||Ek.some(e=>Xg(t[e]))}function Gq(t){return!!(nj(t)||t.variants)}function Dge(t,e){if(nj(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Xg(r)?r:void 0,animate:Xg(n)?n:void 0}}return t.inherit!==!1?e:{}}function Mge(t){const{initial:e,animate:r}=Dge(t,g.useContext(tj));return g.useMemo(()=>({initial:e,animate:r}),[Y5(e),Y5(r)])}function Y5(t){return Array.isArray(t)?t.join(" "):t}const Jg={};function $ge(t){for(const e in t)Jg[e]=t[e],uk(e)&&(Jg[e].isCSSVariable=!0)}function Kq(t,{layout:e,layoutId:r}){return xm.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Jg[t]||t==="opacity")}const Lge={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fge=gm.length;function Vge(t,e,r){let n="",s=!0;for(let a=0;a<Fge;a++){const o=gm[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Fq(l,wk[o]);if(!c){s=!1;const d=Lge[o]||o;n+=`${d}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function _k(t,e,r){const{style:n,vars:s,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(xm.has(c)){o=!0;continue}else if(uk(c)){s[c]=u;continue}else{const d=Fq(u,wk[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(e.transform||(o||r?n.transform=Vge(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}const Pk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yq(t,e,r){for(const n in e)!os(e[n])&&!Kq(n,r)&&(t[n]=e[n])}function Bge({transformTemplate:t},e){return g.useMemo(()=>{const r=Pk();return _k(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Uge(t,e){const r=t.style||{},n={};return Yq(n,r,t),Object.assign(n,Bge(t,e)),n}function qge(t,e){const r={},n=Uge(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const zge={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wge={offset:"strokeDashoffset",array:"strokeDasharray"};function Hge(t,e,r=1,n=0,s=!0){t.pathLength=1;const a=s?zge:Wge;t[a.offset]=ct.transform(-n);const o=ct.transform(e),l=ct.transform(r);t[a.array]=`${o} ${l}`}function Qq(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(_k(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&Hge(h,s,a,o,!1)}const Xq=()=>({...Pk(),attrs:{}}),Jq=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Gge(t,e,r,n){const s=g.useMemo(()=>{const a=Xq();return Qq(a,e,Jq(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Yq(a,t.style,t),s.style={...a,...s.style}}return s}const Kge=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ak(t){return typeof t!="string"||t.includes("-")?!1:!!(Kge.indexOf(t)>-1||/[A-Z]/u.test(t))}function Yge(t,e,r,{latestValues:n},s,a=!1){const l=(Ak(t)?Gge:qge)(e,n,s,t),c=Oge(e,typeof t=="string",a),u=t!==g.Fragment?{...c,...l,ref:r}:{},{children:d}=e,h=g.useMemo(()=>os(d)?d.get():d,[d]);return g.createElement(t,{...u,children:h})}function Q5(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Tk(t,e,r,n){if(typeof e=="function"){const[s,a]=Q5(n);e=e(r!==void 0?r:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=Q5(n);e=e(r!==void 0?r:t.custom,s,a)}return e}function Ev(t){return os(t)?t.get():t}function Qge({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:Xge(r,n,s,t),renderState:e()}}function Xge(t,e,r,n){const s={},a=n(t,{});for(const f in a)s[f]=Ev(a[f]);let{initial:o,animate:l}=t;const c=nj(t),u=Gq(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!rj(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const x=Tk(t,f[m]);if(x){const{transitionEnd:p,transition:v,...w}=x;for(const b in w){let j=w[b];if(Array.isArray(j)){const N=d?j.length-1:0;j=j[N]}j!==null&&(s[b]=j)}for(const b in p)s[b]=p[b]}}}return s}const Zq=t=>(e,r)=>{const n=g.useContext(tj),s=g.useContext(nk),a=()=>Qge(t,e,n,s);return r?a():Ime(a)};function Ck(t,e,r){var a;const{style:n}=t,s={};for(const o in n)(os(n[o])||e.style&&os(e.style[o])||Kq(o,t)||((a=r==null?void 0:r.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const Jge=Zq({scrapeMotionValuesFromProps:Ck,createRenderState:Pk});function ez(t,e,r){const n=Ck(t,e,r);for(const s in t)if(os(t[s])||os(e[s])){const a=gm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=t[s]}return n}const Zge=Zq({scrapeMotionValuesFromProps:ez,createRenderState:Xq}),exe=Symbol.for("motionComponentSymbol");function nh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function txe(t,e,r){return g.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):nh(r)&&(r.current=n))},[e])}const kk=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rxe="framerAppearId",tz="data-"+kk(rxe),rz=g.createContext({});function nxe(t,e,r,n,s){var p,v;const{visualElement:a}=g.useContext(tj),o=g.useContext(Wq),l=g.useContext(nk),c=g.useContext(zq).reducedMotion,u=g.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:a,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=g.useContext(rz);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&sxe(u.current,r,s,h);const f=g.useRef(!1);g.useInsertionEffect(()=>{d&&f.current&&d.update(r,l)});const m=r[tz],x=g.useRef(!!m&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return Rme(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),g.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,m)}),x.current=!1),d.enteringChildren=void 0)}),d}function sxe(t,e,r,n){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:nz(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&nh(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function nz(t){if(t)return t.options.allowProjection!==!1?t.projection:nz(t.parent)}function L2(t,{forwardMotionProps:e=!1}={},r,n){r&&kge(r);const s=Ak(t)?Zge:Jge;function a(l,c){let u;const d={...g.useContext(zq),...l,layoutId:ixe(l)},{isStatic:h}=d,f=Mge(l),m=s(l,h);if(!h&&rk){axe();const x=oxe(d);u=x.MeasureLayout,f.visualElement=nxe(t,m,d,n,x.ProjectionNode)}return i.jsxs(tj.Provider,{value:f,children:[u&&f.visualElement?i.jsx(u,{visualElement:f.visualElement,...d}):null,Yge(t,l,txe(m,f.visualElement,c),m,h,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=g.forwardRef(a);return o[exe]=t,o}function ixe({layoutId:t}){const e=g.useContext(eq).id;return e&&t!==void 0?e+"-"+t:t}function axe(t,e){g.useContext(Wq).strict}function oxe(t){const{drag:e,layout:r}=pf;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function lxe(t,e){if(typeof Proxy>"u")return L2;const r=new Map,n=(a,o)=>L2(a,o,t,e),s=(a,o)=>n(a,o);return new Proxy(s,{get:(a,o)=>o==="create"?n:(r.has(o)||r.set(o,L2(o,void 0,t,e)),r.get(o))})}function sz({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function cxe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function uxe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function F2(t){return t===void 0||t===1}function O_({scale:t,scaleX:e,scaleY:r}){return!F2(t)||!F2(e)||!F2(r)}function nu(t){return O_(t)||iz(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function iz(t){return X5(t.x)||X5(t.y)}function X5(t){return t&&t!=="0%"}function $b(t,e,r){const n=t-r,s=e*n;return r+s}function J5(t,e,r,n,s){return s!==void 0&&(t=$b(t,s,n)),$b(t,r,n)+e}function D_(t,e=0,r=1,n,s){t.min=J5(t.min,e,r,n,s),t.max=J5(t.max,e,r,n,s)}function az(t,{x:e,y:r}){D_(t.x,e.translate,e.scale,e.originPoint),D_(t.y,r.translate,r.scale,r.originPoint)}const Z5=.999999999999,e4=1.0000000000001;function dxe(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let a,o;for(let l=0;l<s;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ih(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,az(t,o)),n&&nu(a.latestValues)&&ih(t,a.latestValues))}e.x<e4&&e.x>Z5&&(e.x=1),e.y<e4&&e.y>Z5&&(e.y=1)}function sh(t,e){t.min=t.min+e,t.max=t.max+e}function t4(t,e,r,n,s=.5){const a=$r(t.min,t.max,s);D_(t,e,r,a,n)}function ih(t,e){t4(t.x,e.x,e.scaleX,e.scale,e.originX),t4(t.y,e.y,e.scaleY,e.scale,e.originY)}function oz(t,e){return sz(uxe(t.getBoundingClientRect(),e))}function hxe(t,e,r){const n=oz(t,r),{scroll:s}=e;return s&&(sh(n.x,s.offset.x),sh(n.y,s.offset.y)),n}const r4=()=>({translate:0,scale:1,origin:0,originPoint:0}),ah=()=>({x:r4(),y:r4()}),n4=()=>({min:0,max:0}),Kr=()=>({x:n4(),y:n4()}),M_={current:null},lz={current:!1};function fxe(){if(lz.current=!0,!!rk)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>M_.current=t.matches;t.addEventListener("change",e),e()}else M_.current=!1}const mxe=new WeakMap;function pxe(t,e,r){for(const n in e){const s=e[n],a=r[n];if(os(s))t.addValue(n,s);else if(os(a))t.addValue(n,mf(s,{owner:t}));else if(a!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,mf(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const s4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gxe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Vs.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,kr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=nj(r),this.isVariantNode=Gq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&os(m)&&m.set(c[f])}}mount(e){var r;this.current=e,mxe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),lz.current||fxe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:M_.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ec(this.notifyUpdate),Ec(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=xm.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&kr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pf){const r=pf[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<s4.length;n++){const s=s4[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=e[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=pxe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=mf(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(tq(n)||nq(n))?n=parseFloat(n):!Tge(n)&&_c.test(r)&&(n=Lq(e,r)),this.setBaseTarget(e,os(n)?n.get():n)),os(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=Tk(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!os(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new ok),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){jk.render(this.render)}}class cz extends gxe{constructor(){super(...arguments),this.KeyframeResolver=gge}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;os(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function uz(t,{style:e,vars:r},n,s){const a=t.style;let o;for(o in e)a[o]=e[o];s==null||s.applyProjectionStyles(a,n);for(o in r)a.setProperty(o,r[o])}function xxe(t){return window.getComputedStyle(t)}class yxe extends cz{constructor(){super(...arguments),this.type="html",this.renderInstance=uz}readValueFromInstance(e,r){var n;if(xm.has(r))return(n=this.projection)!=null&&n.isProjecting?P_(r):Dpe(e,r);{const s=xxe(e),a=(uk(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return oz(e,r)}build(e,r,n){_k(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Ck(e,r,n)}}const dz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vxe(t,e,r,n){uz(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(dz.has(s)?s:kk(s),e.attrs[s])}class bxe extends cz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(xm.has(r)){const n=$q(r);return n&&n.default||0}return r=dz.has(r)?r:kk(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return ez(e,r,n)}build(e,r,n){Qq(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){vxe(e,r,n,s)}mount(e){this.isSVGTag=Jq(e.tagName),super.mount(e)}}const wxe=(t,e)=>Ak(t)?new bxe(e):new yxe(e,{allowProjection:t!==g.Fragment});function _h(t,e,r){const n=t.getProps();return Tk(n,e,r!==void 0?r:n.custom,t)}const $_=t=>Array.isArray(t);function jxe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,mf(r))}function Nxe(t){return $_(t)?t[t.length-1]||0:t}function Sxe(t,e){const r=_h(t,e);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const o in a){const l=Nxe(a[o]);jxe(t,o,l)}}function Exe(t){return!!(os(t)&&t.add)}function L_(t,e){const r=t.getValue("willChange");if(Exe(r))return r.add(e);if(!r&&Jo.WillChange){const n=new Jo.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function hz(t){return t.props[tz]}const _xe=t=>t!==null;function Pxe(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(_xe),a=e&&r!=="loop"&&e%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const Axe={type:"spring",stiffness:500,damping:25,restSpeed:10},Txe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Cxe={type:"keyframes",duration:.8},kxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ixe=(t,{keyframes:e})=>e.length>2?Cxe:xm.has(t)?t.startsWith("scale")?Txe(e[1]):Axe:kxe;function Rxe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Ik=(t,e,r,n={},s,a)=>o=>{const l=bk(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ha(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:s};Rxe(l)||Object.assign(d,Ixe(t,d)),d.duration&&(d.duration=Ha(d.duration)),d.repeatDelay&&(d.repeatDelay=Ha(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(I_(d),d.delay===0&&(h=!0)),(Jo.instantAnimations||Jo.skipAnimations)&&(h=!0,I_(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!a&&e.get()!==void 0){const f=Pxe(d.keyframes,l);if(f!==void 0){kr.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new yk(d):new sge(d)};function Oxe({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function fz(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(a=n);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),f=l[d];if(f===void 0||u&&Oxe(u,d))continue;const m={delay:r,...bk(a||{},d)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===x&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const w=hz(t);if(w){const b=window.MotionHandoffAnimation(w,d,kr);b!==null&&(m.startTime=b,p=!0)}}L_(t,d),h.start(Ik(d,h,f,t.shouldReduceMotion&&Oq.has(d)?{type:!1}:m,t,p));const v=h.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{kr.update(()=>{o&&Sxe(t,o)})}),c}function mz(t,e,r,n=0,s=1){const a=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(a,o):s===1?a*n:l-a*n}function F_(t,e,r={}){var c;const n=_h(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(fz(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return Dxe(t,e,u,d,h,f,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function Dxe(t,e,r=0,n=0,s=0,a=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(F_(c,e,{...o,delay:r+(typeof n=="function"?0:n)+mz(t.variantChildren,c,n,s,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Mxe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(a=>F_(t,a,r));n=Promise.all(s)}else if(typeof e=="string")n=F_(t,e,r);else{const s=typeof e=="function"?_h(t,e,r.custom):e;n=Promise.all(fz(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function pz(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const $xe=Ek.length;function gz(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?gz(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<$xe;r++){const n=Ek[r],s=t.props[n];(Xg(s)||s===!1)&&(e[n]=s)}return e}const Lxe=[...Sk].reverse(),Fxe=Sk.length;function Vxe(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Mxe(t,r,n)))}function Bxe(t){let e=Vxe(t),r=i4(),n=!0;const s=c=>(u,d)=>{var f;const h=_h(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:x,...p}=h;u={...u,...p,...x}}return u};function a(c){e=c(t)}function o(c){const{props:u}=t,d=gz(t.parent)||{},h=[],f=new Set;let m={},x=1/0;for(let v=0;v<Fxe;v++){const w=Lxe[v],b=r[w],j=u[w]!==void 0?u[w]:d[w],N=Xg(j),E=w===c?b.isActive:null;E===!1&&(x=v);let C=j===d[w]&&j!==u[w]&&N;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...m},!b.isActive&&E===null||!j&&!b.prevProp||rj(j)||typeof j=="boolean")continue;const _=Uxe(b.prevProp,j);let S=_||w===c&&b.isActive&&!C&&N||v>x&&N,A=!1;const T=Array.isArray(j)?j:[j];let I=T.reduce(s(w),{});E===!1&&(I={});const{prevResolvedValues:P={}}=b,R={...P,...I},M=B=>{S=!0,f.has(B)&&(A=!0,f.delete(B)),b.needsAnimating[B]=!0;const D=t.getValue(B);D&&(D.liveStyle=!1)};for(const B in R){const D=I[B],V=P[B];if(m.hasOwnProperty(B))continue;let K=!1;$_(D)&&$_(V)?K=!pz(D,V):K=D!==V,K?D!=null?M(B):f.add(B):D!==void 0&&f.has(B)?M(B):b.protectedKeys[B]=!0}b.prevProp=j,b.prevResolvedValues=I,b.isActive&&(m={...m,...I}),n&&t.blockInitialAnimation&&(S=!1);const q=C&&_;S&&(!q||A)&&h.push(...T.map(B=>{const D={type:w};if(typeof B=="string"&&n&&!q&&t.manuallyAnimateOnMount&&t.parent){const{parent:V}=t,K=_h(V,B);if(V.enteringChildren&&K){const{delayChildren:G}=K.transition||{};D.delay=mz(V.enteringChildren,t,G)}}return{animation:B,options:D}}))}if(f.size){const v={};if(typeof u.initial!="boolean"){const w=_h(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(v.transition=w.transition)}f.forEach(w=>{const b=t.getBaseTarget(w),j=t.getValue(w);j&&(j.liveStyle=!0),v[w]=b??null}),h.push({animation:v})}let p=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),n=!1,p?e(h):Promise.resolve()}function l(c,u){var h;if(r[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=o(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=i4()}}}function Uxe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pz(e,t):!1}function Yc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i4(){return{animate:Yc(!0),whileInView:Yc(),whileHover:Yc(),whileTap:Yc(),whileDrag:Yc(),whileFocus:Yc(),exit:Yc()}}class Lc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qxe extends Lc{constructor(e){super(e),e.animationState||(e.animationState=Bxe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rj(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let zxe=0;class Wxe extends Lc{constructor(){super(...arguments),this.id=zxe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Hxe={animation:{Feature:qxe},exit:{Feature:Wxe}};function Zg(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function dy(t){return{point:{x:t.pageX,y:t.pageY}}}const Gxe=t=>e=>Nk(e)&&t(e,dy(e));function eg(t,e,r,n){return Zg(t,e,Gxe(r),n)}const xz=1e-4,Kxe=1-xz,Yxe=1+xz,yz=.01,Qxe=0-yz,Xxe=0+yz;function ys(t){return t.max-t.min}function Jxe(t,e,r){return Math.abs(t-e)<=r}function a4(t,e,r,n=.5){t.origin=n,t.originPoint=$r(e.min,e.max,t.origin),t.scale=ys(r)/ys(e),t.translate=$r(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Kxe&&t.scale<=Yxe||isNaN(t.scale))&&(t.scale=1),(t.translate>=Qxe&&t.translate<=Xxe||isNaN(t.translate))&&(t.translate=0)}function tg(t,e,r,n){a4(t.x,e.x,r.x,n?n.originX:void 0),a4(t.y,e.y,r.y,n?n.originY:void 0)}function o4(t,e,r){t.min=r.min+e.min,t.max=t.min+ys(e)}function Zxe(t,e,r){o4(t.x,e.x,r.x),o4(t.y,e.y,r.y)}function l4(t,e,r){t.min=e.min-r.min,t.max=t.min+ys(e)}function rg(t,e,r){l4(t.x,e.x,r.x),l4(t.y,e.y,r.y)}function Si(t){return[t("x"),t("y")]}const vz=({current:t})=>t?t.ownerDocument.defaultView:null,c4=(t,e)=>Math.abs(t-e);function eye(t,e){const r=c4(t.x,e.x),n=c4(t.y,e.y);return Math.sqrt(r**2+n**2)}class bz{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=B2(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=eye(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!x)return;const{point:p}=f,{timestamp:v}=zn;this.history.push({...p,timestamp:v});const{onStart:w,onMove:b}=this.handlers;m||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=V2(m,this.transformPagePoint),kr.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:x,onSessionEnd:p,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=B2(f.type==="pointercancel"?this.lastMoveEventInfo:V2(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,w),p&&p(f,w)},!Nk(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const l=dy(e),c=V2(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=zn;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=r;h&&h(e,B2(c,this.history)),this.removeListeners=ly(eg(this.contextWindow,"pointermove",this.handlePointerMove),eg(this.contextWindow,"pointerup",this.handlePointerUp),eg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ec(this.updatePoint)}}function V2(t,e){return e?{point:e(t.point)}:t}function u4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function B2({point:t},e){return{point:t,delta:u4(t,wz(e)),offset:u4(t,tye(e)),velocity:rye(e,.1)}}function tye(t){return t[0]}function wz(t){return t[t.length-1]}function rye(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=wz(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>Ha(e)));)r--;if(!n)return{x:0,y:0};const a=ki(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nye(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?$r(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?$r(r,t,n.max):Math.min(t,r)),t}function d4(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function sye(t,{top:e,left:r,bottom:n,right:s}){return{x:d4(t.x,r,s),y:d4(t.y,e,n)}}function h4(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function iye(t,e){return{x:h4(t.x,e.x),y:h4(t.y,e.y)}}function aye(t,e){let r=.5;const n=ys(t),s=ys(e);return s>n?r=Kg(e.min,e.max-n,t.min):n>s&&(r=Kg(t.min,t.max-s,e.min)),Xo(0,1,r)}function oye(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const V_=.35;function lye(t=V_){return t===!1?t=0:t===!0&&(t=V_),{x:f4(t,"left","right"),y:f4(t,"top","bottom")}}function f4(t,e,r){return{min:m4(t,e),max:m4(t,r)}}function m4(t,e){return typeof t=="number"?t:t[e]||0}const cye=new WeakMap;class uye{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(dy(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:x,onDragStart:p}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wge(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(w=>{let b=this.getAxisMotionValue(w).get()||0;if(Ga.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const N=j.layout.layoutBox[w];N&&(b=ys(N)*(parseFloat(b)/100))}}this.originPoint[w]=b}),p&&kr.postRender(()=>p(h,f)),L_(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:p,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=f;if(x&&this.currentDirection===null){this.currentDirection=dye(w),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),v&&v(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Si(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new bz(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:vz(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&kr.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!C0(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=nye(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&nh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=sye(n.layoutBox,e):this.constraints=!1,this.elastic=lye(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Si(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=oye(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!nh(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=hxe(n,s.root,this.visualElement.getTransformPagePoint());let o=iye(s.layout.layoutBox,a);if(r){const l=r(cxe(o));this.hasMutatedConstraints=!!l,l&&(o=sz(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Si(d=>{if(!C0(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:n?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return L_(this.visualElement,e),n.start(Ik(e,n,0,r,this.visualElement,!1))}stopAnimation(){Si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Si(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Si(r=>{const{drag:n}=this.getProps();if(!C0(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];a.set(e[r]-$r(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!nh(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Si(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=aye({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Si(o=>{if(!C0(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set($r(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;cye.set(this.visualElement,this);const e=this.visualElement.current,r=eg(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();nh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),kr.read(n);const o=Zg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Si(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=V_,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function C0(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function dye(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class hye extends Lc{constructor(e){super(e),this.removeGroupControls=Oi,this.removeListeners=Oi,this.controls=new uye(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const p4=t=>(e,r)=>{t&&kr.postRender(()=>t(e,r))};class fye extends Lc{constructor(){super(...arguments),this.removePointerDownListener=Oi}onPointerDown(e){this.session=new bz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vz(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:p4(e),onStart:p4(r),onMove:n,onEnd:(a,o)=>{delete this.session,s&&kr.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=eg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _v={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function g4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ct.test(t))t=parseFloat(t);else return t;const r=g4(t,e.target.x),n=g4(t,e.target.y);return`${r}% ${n}%`}},mye={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=_c.parse(t);if(s.length>5)return n;const a=_c.createTransformer(t),o=typeof s[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const u=$r(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};let U2=!1;class pye extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=e;$ge(gye),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),U2&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_v.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,U2=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||kr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;U2=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jz(t){const[e,r]=Cge(),n=g.useContext(eq);return i.jsx(pye,{...t,layoutGroup:n,switchLayoutGroup:g.useContext(rz),isPresent:e,safeToRemove:r})}const gye={borderRadius:{...sp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sp,borderTopRightRadius:sp,borderBottomLeftRadius:sp,borderBottomRightRadius:sp,boxShadow:mye};function xye(t,e,r){const n=os(t)?t:mf(t);return n.start(Ik("",n,e,r)),n.animation}const yye=(t,e)=>t.depth-e.depth;class vye{constructor(){this.children=[],this.isDirty=!1}add(e){sk(this.children,e),this.isDirty=!0}remove(e){ik(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yye),this.isDirty=!1,this.children.forEach(e)}}function bye(t,e){const r=Vs.now(),n=({timestamp:s})=>{const a=s-r;a>=e&&(Ec(n),t(a-e))};return kr.setup(n,!0),()=>Ec(n)}const Nz=["TopLeft","TopRight","BottomLeft","BottomRight"],wye=Nz.length,x4=t=>typeof t=="string"?parseFloat(t):t,y4=t=>typeof t=="number"||ct.test(t);function jye(t,e,r,n,s,a){s?(t.opacity=$r(0,r.opacity??1,Nye(n)),t.opacityExit=$r(e.opacity??1,0,Sye(n))):a&&(t.opacity=$r(e.opacity??1,r.opacity??1,n));for(let o=0;o<wye;o++){const l=`border${Nz[o]}Radius`;let c=v4(e,l),u=v4(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||y4(c)===y4(u)?(t[l]=Math.max($r(x4(c),x4(u),n),0),(Ga.test(u)||Ga.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=$r(e.rotate||0,r.rotate||0,n))}function v4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Nye=Sz(0,.5,dq),Sye=Sz(.5,.95,Oi);function Sz(t,e,r){return n=>n<t?0:n>e?1:r(Kg(t,e,n))}function b4(t,e){t.min=e.min,t.max=e.max}function vi(t,e){b4(t.x,e.x),b4(t.y,e.y)}function w4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function j4(t,e,r,n,s){return t-=e,t=$b(t,1/r,n),s!==void 0&&(t=$b(t,1/s,n)),t}function Eye(t,e=0,r=1,n=.5,s,a=t,o=t){if(Ga.test(e)&&(e=parseFloat(e),e=$r(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=$r(a.min,a.max,n);t===a&&(l-=e),t.min=j4(t.min,e,r,l,s),t.max=j4(t.max,e,r,l,s)}function N4(t,e,[r,n,s],a,o){Eye(t,e[r],e[n],e[s],e.scale,a,o)}const _ye=["x","scaleX","originX"],Pye=["y","scaleY","originY"];function S4(t,e,r,n){N4(t.x,e,_ye,r?r.x:void 0,n?n.x:void 0),N4(t.y,e,Pye,r?r.y:void 0,n?n.y:void 0)}function E4(t){return t.translate===0&&t.scale===1}function Ez(t){return E4(t.x)&&E4(t.y)}function _4(t,e){return t.min===e.min&&t.max===e.max}function Aye(t,e){return _4(t.x,e.x)&&_4(t.y,e.y)}function P4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _z(t,e){return P4(t.x,e.x)&&P4(t.y,e.y)}function A4(t){return ys(t.x)/ys(t.y)}function T4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Tye{constructor(){this.members=[]}add(e){sk(this.members,e),e.scheduleRender()}remove(e){if(ik(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cye(t,e,r){let n="";const s=t.x.translate/e.x,a=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const q2=["","X","Y","Z"],kye=1e3;let Iye=0;function z2(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Pz(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=hz(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",kr,!(s||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Pz(n)}function Az({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Iye++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Dye),this.nodes.forEach(Fye),this.nodes.forEach(Vye),this.nodes.forEach(Mye)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new vye)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ok),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=qq(o)&&!Pge(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;kr.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=bye(f,250),_v.hasAnimatedSinceResize&&(_v.hasAnimatedSinceResize=!1,this.nodes.forEach(I4)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||Wye,{onLayoutAnimationStart:p,onLayoutAnimationComplete:v}=u.getProps(),w=!this.targetLayout||!_z(this.targetLayout,m),b=!h&&f;if(this.options.layoutRoot||this.resumeFrom||b||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...bk(x,"layout"),onPlay:p,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,b)}else h||I4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ec(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bye),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Pz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(k4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Lye),this.nodes.forEach(Rye),this.nodes.forEach(Oye)):this.nodes.forEach(k4),this.clearAllSnapshots();const l=Vs.now();zn.delta=Xo(0,1e3/60,l-zn.timestamp),zn.timestamp=l,zn.isProcessing=!0,I2.update.process(zn),I2.preRender.process(zn),I2.render.process(zn),zn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($ye),this.sharedNodes.forEach(Uye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ys(this.snapshot.measuredBox.x)&&!ys(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ez(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||nu(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Hye(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Kr();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Gye))){const{scroll:d}=this.root;d&&(sh(l.x,d.offset.x),sh(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Kr();if(vi(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&vi(l,o),sh(l.x,h.offset.x),sh(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Kr();vi(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ih(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),nu(d.latestValues)&&ih(c,d.latestValues)}return nu(this.latestValues)&&ih(c,this.latestValues),c}removeTransform(o){const l=Kr();vi(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!nu(u.latestValues))continue;O_(u.latestValues)&&u.updateSnapshot();const d=Kr(),h=u.measurePageBox();vi(d,h),S4(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return nu(this.latestValues)&&S4(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=zn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kr(),this.relativeTargetOrigin=Kr(),rg(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kr(),this.targetWithTransforms=Kr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vi(this.target,this.layout.layoutBox),az(this.target,this.targetDelta)):vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kr(),this.relativeTargetOrigin=Kr(),rg(this.relativeTargetOrigin,this.target,m.target),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||O_(this.parent.latestValues)||iz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===zn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;vi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;dxe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Kr());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(w4(this.prevProjectionDelta.x,this.projectionDelta.x),w4(this.prevProjectionDelta.y,this.projectionDelta.y)),tg(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!T4(this.projectionDelta.x,this.prevProjectionDelta.x)||!T4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ah(),this.projectionDelta=ah(),this.projectionDeltaWithTransform=ah()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=ah();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Kr(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,p=m!==x,v=this.getStack(),w=!v||v.members.length<=1,b=!!(p&&!w&&this.options.crossfade===!0&&!this.path.some(zye));this.animationProgress=0;let j;this.mixTargetDelta=N=>{const E=N/1e3;R4(h.x,o.x,E),R4(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rg(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qye(this.relativeTarget,this.relativeTargetOrigin,f,E),j&&Aye(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Kr()),vi(j,this.relativeTarget)),p&&(this.animationValues=d,jye(d,u,this.latestValues,E,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ec(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kr.update(()=>{_v.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mf(0)),this.currentAnimation=xye(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kye),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Tz(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Kr();const h=ys(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ys(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}vi(l,c),ih(l,d),tg(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Tye),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&z2("z",o,u,this.animationValues);for(let d=0;d<q2.length;d++)z2(`rotate${q2[d]}`,o,u,this.animationValues),z2(`skew${q2[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ev(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ev(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!nu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Cye(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Jg){if(d[x]===void 0)continue;const{correct:p,applyTo:v,isCSSVariable:w}=Jg[x],b=h==="none"?d[x]:p(d[x],u);if(v){const j=v.length;for(let N=0;N<j;N++)o[v[N]]=b}else w?this.options.visualElement.renderState.vars[x]=b:o[x]=b}this.options.layoutId&&(o.pointerEvents=u===this?Ev(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(C4),this.root.sharedNodes.clear()}}}function Rye(t){t.updateLayout()}function Oye(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?Si(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=ys(f);f.min=n[h].min,f.max=f.min+m}):Tz(a,e.layoutBox,n)&&Si(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=ys(n[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=ah();tg(l,n,e.layoutBox);const c=ah();o?tg(c,t.applyTransform(s,!0),e.measuredBox):tg(c,n,e.layoutBox);const u=!Ez(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const x=Kr();rg(x,e.layoutBox,f.layoutBox);const p=Kr();rg(p,n,m.layoutBox),_z(x,p)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Dye(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Mye(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $ye(t){t.clearSnapshot()}function C4(t){t.clearMeasurements()}function k4(t){t.isLayoutDirty=!1}function Lye(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function I4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Fye(t){t.resolveTargetDelta()}function Vye(t){t.calcProjection()}function Bye(t){t.resetSkewAndRotation()}function Uye(t){t.removeLeadSnapshot()}function R4(t,e,r){t.translate=$r(e.translate,0,r),t.scale=$r(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function O4(t,e,r,n){t.min=$r(e.min,r.min,n),t.max=$r(e.max,r.max,n)}function qye(t,e,r,n){O4(t.x,e.x,r.x,n),O4(t.y,e.y,r.y,n)}function zye(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Wye={duration:.45,ease:[.4,0,.1,1]},D4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),M4=D4("applewebkit/")&&!D4("chrome/")?Math.round:Oi;function $4(t){t.min=M4(t.min),t.max=M4(t.max)}function Hye(t){$4(t.x),$4(t.y)}function Tz(t,e,r){return t==="position"||t==="preserve-aspect"&&!Jxe(A4(e),A4(r),.2)}function Gye(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Kye=Az({attachResizeListener:(t,e)=>Zg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),W2={current:void 0},Cz=Az({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!W2.current){const t=new Kye({});t.mount(window),t.setOptions({layoutScroll:!0}),W2.current=t}return W2.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Yye={pan:{Feature:fye},drag:{Feature:hye,ProjectionNode:Cz,MeasureLayout:jz}};function L4(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&kr.postRender(()=>a(e,dy(e)))}class Qye extends Lc{mount(){const{current:e}=this.node;e&&(this.unmount=jge(e,(r,n)=>(L4(this.node,n,"Start"),s=>L4(this.node,s,"End"))))}unmount(){}}class Xye extends Lc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ly(Zg(this.node.current,"focus",()=>this.onFocus()),Zg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function F4(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&kr.postRender(()=>a(e,dy(e)))}class Jye extends Lc{mount(){const{current:e}=this.node;e&&(this.unmount=_ge(e,(r,n)=>(F4(this.node,n,"Start"),(s,{success:a})=>F4(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const B_=new WeakMap,H2=new WeakMap,Zye=t=>{const e=B_.get(t.target);e&&e(t)},e0e=t=>{t.forEach(Zye)};function t0e({root:t,...e}){const r=t||document;H2.has(r)||H2.set(r,{});const n=H2.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(e0e,{root:t,...e})),n[s]}function r0e(t,e,r){const n=t0e(e);return B_.set(t,r),n.observe(t),()=>{B_.delete(t),n.unobserve(t)}}const n0e={some:0,all:1};class s0e extends Lc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:n0e[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return r0e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(i0e(e,r))&&this.startObserver()}unmount(){}}function i0e({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const a0e={inView:{Feature:s0e},tap:{Feature:Jye},focus:{Feature:Xye},hover:{Feature:Qye}},o0e={layout:{ProjectionNode:Cz,MeasureLayout:jz}},l0e={...Hxe,...a0e,...Yye,...o0e},U_=lxe(l0e,wxe),c0e={scale:.95,transition:{duration:.1}},q_=cm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-2xl text-sm font-medium ring-offset-background transition-all duration-300 ease-out focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-pal-blue/20 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:cursor-not-allowed [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 cursor-pointer min-h-[44px]",{variants:{variant:{default:"bg-gradient-to-r from-pal-blue to-blue-600 text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:scale-95 font-semibold",destructive:"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-md hover:shadow-lg hover:-translate-y-0.5 active:scale-95",outline:"border-2 border-pal-blue/30 bg-white hover:bg-gray-50 hover:border-pal-blue hover:shadow-md shadow-sm active:scale-95",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 shadow-sm hover:shadow-md hover:-translate-y-0.5 active:scale-95",ghost:"hover:bg-gray-100 hover:shadow-sm active:scale-95",link:"text-pal-blue hover:text-pal-blue-dark underline-offset-4 hover:underline",hero:"bg-gradient-to-r from-pal-blue via-blue-600 to-pal-blue-dark text-white font-bold text-lg px-10 py-5 rounded-2xl shadow-xl hover:shadow-2xl hover:scale-105 hover:-translate-y-1 active:scale-95 min-h-[56px]",card:"bg-white border-2 border-gray-200 hover:border-pal-blue/30 hover:shadow-xl hover:-translate-y-1 text-foreground active:scale-[0.99]",prominent:"bg-gradient-to-r from-pal-blue to-blue-700 text-white shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-1 active:scale-95 font-semibold"},size:{default:"h-11 px-6 py-2.5",sm:"h-9 rounded-xl px-4 text-sm",lg:"h-12 rounded-2xl px-8 text-base",xl:"h-14 rounded-2xl px-10 text-lg font-semibold",icon:"h-11 w-11 p-0"}},defaultVariants:{variant:"default",size:"default"}}),H=g.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},a)=>{const o=n?Go:U_.button;return i.jsx(o,{className:He(q_({variant:e,size:r,className:t})),ref:a,whileTap:s.disabled?void 0:c0e,...s})});H.displayName="Button";const u0e=cm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Di=g.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:He(u0e({variant:e}),t),...r}));Di.displayName="Alert";const d0e=g.forwardRef(({className:t,...e},r)=>i.jsx("h5",{ref:r,className:He("mb-1 font-medium leading-none tracking-tight",t),...e}));d0e.displayName="AlertTitle";const Mi=g.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:He("text-sm [&_p]:leading-relaxed",t),...e}));Mi.displayName="AlertDescription";const bi=({children:t})=>{const{user:e,isEmailVerified:r,resendConfirmation:n}=Rr();return e?r?i.jsx(i.Fragment,{children:t}):i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs(xe,{className:"shadow-lg",children:[i.jsx(jt,{className:"text-center",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[i.jsx(Cr,{className:"h-8 w-8 text-pal-blue"}),i.jsx("span",{className:"text-xl font-semibold",children:"Email Verification Required"})]})}),i.jsxs(Ue,{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx(xt,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),i.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Welcome, ",e.displayName||"User","!"]}),i.jsx("p",{className:"text-muted-foreground",children:"Please verify your email address to access the platform."})]}),i.jsxs(Di,{className:"border-pal-blue/20 bg-pal-blue/5",children:[i.jsx(Wa,{className:"h-4 w-4"}),i.jsxs(Mi,{children:["We sent a verification email to ",i.jsx("strong",{children:e.email})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(H,{onClick:n,className:"w-full primary-gradient hover:shadow-glow transition-spring",children:[i.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Resend Verification Email"]}),i.jsx(H,{variant:"outline",className:"w-full",onClick:()=>window.location.reload(),children:"I've Verified My Email"})]}),i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:i.jsx("p",{children:"Check your inbox and spam folder for the verification link. Click the link to verify your account."})})]})]})})}):i.jsx(i.Fragment,{children:t})};class h0e extends g.Component{constructor(){super(...arguments);An(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Dashboard ErrorBoundary caught:",r,n)}render(){return this.state.hasError?this.props.fallback??i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:i.jsxs("div",{className:"max-w-md text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-slate-300 border-t-blue-600 mx-auto mb-4"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Something went wrong"}),i.jsx("p",{className:"text-slate-600",children:"Please refresh the page. If the issue persists, try signing out and back in."})]})}):this.props.children}}const f0e=cm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Te({className:t,variant:e,...r}){return i.jsx("div",{className:He(f0e({variant:e}),t),...r})}var G2="focusScope.autoFocusOnMount",K2="focusScope.autoFocusOnUnmount",V4={bubbles:!1,cancelable:!0},m0e="FocusScope",hy=g.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=t,[l,c]=g.useState(null),u=Mr(s),d=Mr(a),h=g.useRef(null),f=At(e,p=>c(p)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let p=function(j){if(m.paused||!l)return;const N=j.target;l.contains(N)?h.current=N:jl(h.current,{select:!0})},v=function(j){if(m.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||jl(h.current,{select:!0}))},w=function(j){if(document.activeElement===document.body)for(const E of j)E.removedNodes.length>0&&jl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(w);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),g.useEffect(()=>{if(l){U4.add(m);const p=document.activeElement;if(!l.contains(p)){const w=new CustomEvent(G2,V4);l.addEventListener(G2,u),l.dispatchEvent(w),w.defaultPrevented||(p0e(b0e(kz(l)),{select:!0}),document.activeElement===p&&jl(l))}return()=>{l.removeEventListener(G2,u),setTimeout(()=>{const w=new CustomEvent(K2,V4);l.addEventListener(K2,d),l.dispatchEvent(w),w.defaultPrevented||jl(p??document.body,{select:!0}),l.removeEventListener(K2,d),U4.remove(m)},0)}}},[l,u,d,m]);const x=g.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,w=document.activeElement;if(v&&w){const b=p.currentTarget,[j,N]=g0e(b);j&&N?!p.shiftKey&&w===N?(p.preventDefault(),r&&jl(j,{select:!0})):p.shiftKey&&w===j&&(p.preventDefault(),r&&jl(N,{select:!0})):w===b&&p.preventDefault()}},[r,n,m.paused]);return i.jsx(et.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});hy.displayName=m0e;function p0e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(jl(n,{select:e}),document.activeElement!==r)return}function g0e(t){const e=kz(t),r=B4(e,t),n=B4(e.reverse(),t);return[r,n]}function kz(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function B4(t,e){for(const r of t)if(!x0e(r,{upTo:e}))return r}function x0e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function y0e(t){return t instanceof HTMLInputElement&&"select"in t}function jl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&y0e(t)&&e&&t.select()}}var U4=v0e();function v0e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=q4(t,e),t.unshift(e)},remove(e){var r;t=q4(t,e),(r=t[0])==null||r.resume()}}}function q4(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function b0e(t){return t.filter(e=>e.tagName!=="A")}var Y2=0;function sj(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??z4()),document.body.insertAdjacentElement("beforeend",t[1]??z4()),Y2++,()=>{Y2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Y2--}},[])}function z4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $a=function(){return $a=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$a.apply(this,arguments)};function Iz(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function w0e(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Pv="right-scroll-bar-position",Av="width-before-scroll-bar",j0e="with-scroll-bars-hidden",N0e="--removed-body-scroll-bar-size";function Q2(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function S0e(t,e){var r=g.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var E0e=typeof window<"u"?g.useLayoutEffect:g.useEffect,W4=new WeakMap;function _0e(t,e){var r=S0e(null,function(n){return t.forEach(function(s){return Q2(s,n)})});return E0e(function(){var n=W4.get(r);if(n){var s=new Set(n),a=new Set(t),o=r.current;s.forEach(function(l){a.has(l)||Q2(l,null)}),a.forEach(function(l){s.has(l)||Q2(l,o)})}W4.set(r,t)},[t]),r}function P0e(t){return t}function A0e(t,e){e===void 0&&(e=P0e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function T0e(t){t===void 0&&(t={});var e=A0e(null);return e.options=$a({async:!0,ssr:!1},t),e}var Rz=function(t){var e=t.sideCar,r=Iz(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,$a({},r))};Rz.isSideCarExport=!0;function C0e(t,e){return t.useMedium(e),Rz}var Oz=T0e(),X2=function(){},ij=g.forwardRef(function(t,e){var r=g.useRef(null),n=g.useState({onScrollCapture:X2,onWheelCapture:X2,onTouchMoveCapture:X2}),s=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noIsolation,x=t.inert,p=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,b=t.gapMode,j=Iz(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,E=_0e([r,e]),C=$a($a({},j),s);return g.createElement(g.Fragment,null,d&&g.createElement(N,{sideCar:Oz,removeScrollBar:u,shards:h,noIsolation:m,inert:x,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:b}),o?g.cloneElement(g.Children.only(l),$a($a({},C),{ref:E})):g.createElement(w,$a({},C,{className:c,ref:E}),l))});ij.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ij.classNames={fullWidth:Av,zeroRight:Pv};var k0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=k0e();return e&&t.setAttribute("nonce",e),t}function R0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function O0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var D0e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=I0e())&&(R0e(e,r),O0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},M0e=function(){var t=D0e();return function(e,r){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Dz=function(){var t=M0e(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},$0e={left:0,top:0,right:0,gap:0},J2=function(t){return parseInt(t||"",10)||0},L0e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[J2(r),J2(n),J2(s)]},F0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $0e;var e=L0e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},V0e=Dz(),Ph="data-scroll-locked",B0e=function(t,e,r,n){var s=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(j0e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ph,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Av,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Pv," .").concat(Pv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Av," .").concat(Av,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ph,`] {
    `).concat(N0e,": ").concat(l,`px;
  }
`)},H4=function(){var t=parseInt(document.body.getAttribute(Ph)||"0",10);return isFinite(t)?t:0},U0e=function(){g.useEffect(function(){return document.body.setAttribute(Ph,(H4()+1).toString()),function(){var t=H4()-1;t<=0?document.body.removeAttribute(Ph):document.body.setAttribute(Ph,t.toString())}},[])},q0e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;U0e();var a=g.useMemo(function(){return F0e(s)},[s]);return g.createElement(V0e,{styles:B0e(a,!e,s,r?"":"!important")})},z_=!1;if(typeof window<"u")try{var k0=Object.defineProperty({},"passive",{get:function(){return z_=!0,!0}});window.addEventListener("test",k0,k0),window.removeEventListener("test",k0,k0)}catch{z_=!1}var Cd=z_?{passive:!1}:!1,z0e=function(t){return t.tagName==="TEXTAREA"},Mz=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!z0e(t)&&r[e]==="visible")},W0e=function(t){return Mz(t,"overflowY")},H0e=function(t){return Mz(t,"overflowX")},G4=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=$z(t,n);if(s){var a=Lz(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},G0e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},K0e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},$z=function(t,e){return t==="v"?W0e(e):H0e(e)},Lz=function(t,e){return t==="v"?G0e(e):K0e(e)},Y0e=function(t,e){return t==="h"&&e==="rtl"?-1:1},Q0e=function(t,e,r,n,s){var a=Y0e(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{var m=Lz(t,l),x=m[0],p=m[1],v=m[2],w=p-v-a*x;(x||w)&&$z(t,l)&&(h+=w,f+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},I0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},K4=function(t){return[t.deltaX,t.deltaY]},Y4=function(t){return t&&"current"in t?t.current:t},X0e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},J0e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Z0e=0,kd=[];function eve(t){var e=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),s=g.useState(Z0e++)[0],a=g.useState(Dz)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=w0e([t.lockRef.current],(t.shards||[]).map(Y4),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var w=I0(p),b=r.current,j="deltaX"in p?p.deltaX:b[0]-w[0],N="deltaY"in p?p.deltaY:b[1]-w[1],E,C=p.target,_=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in p&&_==="h"&&C.type==="range")return!1;var S=G4(_,C);if(!S)return!0;if(S?E=_:(E=_==="v"?"h":"v",S=G4(_,C)),!S)return!1;if(!n.current&&"changedTouches"in p&&(j||N)&&(n.current=E),!E)return!0;var A=n.current||E;return Q0e(A,v,p,A==="h"?j:N,!0)},[]),c=g.useCallback(function(p){var v=p;if(!(!kd.length||kd[kd.length-1]!==a)){var w="deltaY"in v?K4(v):I0(v),b=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&X0e(E.delta,w)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(Y4).filter(Boolean).filter(function(E){return E.contains(v.target)}),N=j.length>0?l(v,j[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),u=g.useCallback(function(p,v,w,b){var j={name:p,delta:v,target:w,should:b,shadowParent:tve(w)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(N){return N!==j})},1)},[]),d=g.useCallback(function(p){r.current=I0(p),n.current=void 0},[]),h=g.useCallback(function(p){u(p.type,K4(p),p.target,l(p,t.lockRef.current))},[]),f=g.useCallback(function(p){u(p.type,I0(p),p.target,l(p,t.lockRef.current))},[]);g.useEffect(function(){return kd.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Cd),document.addEventListener("touchmove",c,Cd),document.addEventListener("touchstart",d,Cd),function(){kd=kd.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Cd),document.removeEventListener("touchmove",c,Cd),document.removeEventListener("touchstart",d,Cd)}},[]);var m=t.removeScrollBar,x=t.inert;return g.createElement(g.Fragment,null,x?g.createElement(a,{styles:J0e(s)}):null,m?g.createElement(q0e,{gapMode:t.gapMode}):null)}function tve(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const rve=C0e(Oz,eve);var fy=g.forwardRef(function(t,e){return g.createElement(ij,$a({},t,{ref:e,sideCar:rve}))});fy.classNames=ij.classNames;var nve=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Id=new WeakMap,R0=new WeakMap,O0={},Z2=0,Fz=function(t){return t&&(t.host||Fz(t.parentNode))},sve=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Fz(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},ive=function(t,e,r,n){var s=sve(e,Array.isArray(t)?t:[t]);O0[r]||(O0[r]=new WeakMap);var a=O0[r],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(n),x=m!==null&&m!=="false",p=(Id.get(f)||0)+1,v=(a.get(f)||0)+1;Id.set(f,p),a.set(f,v),o.push(f),p===1&&x&&R0.set(f,!0),v===1&&f.setAttribute(r,"true"),x||f.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return d(e),l.clear(),Z2++,function(){o.forEach(function(h){var f=Id.get(h)-1,m=a.get(h)-1;Id.set(h,f),a.set(h,m),f||(R0.has(h)||h.removeAttribute(n),R0.delete(h)),m||h.removeAttribute(r)}),Z2--,Z2||(Id=new WeakMap,Id=new WeakMap,R0=new WeakMap,O0={})}},aj=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=nve(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),ive(n,s,r,"aria-hidden")):function(){return null}},Rk="Dialog",[Vz,WWe]=ba(Rk),[ave,ja]=Vz(Rk),Bz=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=g.useRef(null),c=g.useRef(null),[u=!1,d]=Za({prop:n,defaultProp:s,onChange:a});return i.jsx(ave,{scope:e,triggerRef:l,contentRef:c,contentId:ha(),titleId:ha(),descriptionId:ha(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};Bz.displayName=Rk;var Uz="DialogTrigger",qz=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ja(Uz,r),a=At(e,s.triggerRef);return i.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Mk(s.open),...n,ref:a,onClick:De(t.onClick,s.onOpenToggle)})});qz.displayName=Uz;var Ok="DialogPortal",[ove,zz]=Vz(Ok,{forceMount:void 0}),Wz=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,a=ja(Ok,e);return i.jsx(ove,{scope:e,forceMount:r,children:g.Children.map(n,o=>i.jsx(Ln,{present:r||a.open,children:i.jsx(lm,{asChild:!0,container:s,children:o})}))})};Wz.displayName=Ok;var Lb="DialogOverlay",Hz=g.forwardRef((t,e)=>{const r=zz(Lb,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=ja(Lb,t.__scopeDialog);return a.modal?i.jsx(Ln,{present:n||a.open,children:i.jsx(lve,{...s,ref:e})}):null});Hz.displayName=Lb;var lve=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ja(Lb,r);return i.jsx(fy,{as:Go,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(et.div,{"data-state":Mk(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Zu="DialogContent",Gz=g.forwardRef((t,e)=>{const r=zz(Zu,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=ja(Zu,t.__scopeDialog);return i.jsx(Ln,{present:n||a.open,children:a.modal?i.jsx(cve,{...s,ref:e}):i.jsx(uve,{...s,ref:e})})});Gz.displayName=Zu;var cve=g.forwardRef((t,e)=>{const r=ja(Zu,t.__scopeDialog),n=g.useRef(null),s=At(e,r.contentRef,n);return g.useEffect(()=>{const a=n.current;if(a)return aj(a)},[]),i.jsx(Kz,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:De(t.onFocusOutside,a=>a.preventDefault())})}),uve=g.forwardRef((t,e)=>{const r=ja(Zu,t.__scopeDialog),n=g.useRef(!1),s=g.useRef(!1);return i.jsx(Kz,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Kz=g.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=t,l=ja(Zu,r),c=g.useRef(null),u=At(e,c);return sj(),i.jsxs(i.Fragment,{children:[i.jsx(hy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(md,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Mk(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(dve,{titleId:l.titleId}),i.jsx(fve,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Dk="DialogTitle",Yz=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ja(Dk,r);return i.jsx(et.h2,{id:s.titleId,...n,ref:e})});Yz.displayName=Dk;var Qz="DialogDescription",Xz=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ja(Qz,r);return i.jsx(et.p,{id:s.descriptionId,...n,ref:e})});Xz.displayName=Qz;var Jz="DialogClose",Zz=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ja(Jz,r);return i.jsx(et.button,{type:"button",...n,ref:e,onClick:De(t.onClick,()=>s.onOpenChange(!1))})});Zz.displayName=Jz;function Mk(t){return t?"open":"closed"}var eW="DialogTitleWarning",[HWe,tW]=zle(eW,{contentName:Zu,titleName:Dk,docsSlug:"dialog"}),dve=({titleId:t})=>{const e=tW(eW),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},hve="DialogDescriptionWarning",fve=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tW(hve).contentName}}.`;return g.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},rW=Bz,mve=qz,nW=Wz,oj=Hz,lj=Gz,cj=Yz,uj=Xz,sW=Zz;const W_=rW,iW=mve,pve=nW,aW=g.forwardRef(({className:t,...e},r)=>i.jsx(oj,{className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));aW.displayName=oj.displayName;const gve=cm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$k=g.forwardRef(({side:t="right",className:e,children:r,...n},s)=>i.jsxs(pve,{children:[i.jsx(aW,{}),i.jsxs(lj,{ref:s,className:He(gve({side:t}),e),...n,children:[r,i.jsxs(sW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Qr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$k.displayName=lj.displayName;const xve=g.forwardRef(({className:t,...e},r)=>i.jsx(cj,{ref:r,className:He("text-lg font-semibold text-foreground",t),...e}));xve.displayName=cj.displayName;const yve=g.forwardRef(({className:t,...e},r)=>i.jsx(uj,{ref:r,className:He("text-sm text-muted-foreground",t),...e}));yve.displayName=uj.displayName;var vve=g.createContext(void 0);function my(t){const e=g.useContext(vve);return t||e||"ltr"}function bve(t,e=[]){let r=[];function n(a,o){const l=g.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,v=g.useMemo(()=>x,Object.values(x));return i.jsx(p.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[t][c])||l,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,wve(s,...e)]}function wve(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var eS="rovingFocusGroup.onEntryFocus",jve={bubbles:!1,cancelable:!0},dj="RovingFocusGroup",[H_,oW,Nve]=V1(dj),[Sve,hj]=bve(dj,[Nve]),[Eve,_ve]=Sve(dj),lW=g.forwardRef((t,e)=>i.jsx(H_.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(H_.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(Pve,{...t,ref:e})})}));lW.displayName=dj;var Pve=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=g.useRef(null),m=At(e,f),x=my(a),[p=null,v]=Za({prop:o,defaultProp:l,onChange:c}),[w,b]=g.useState(!1),j=Mr(u),N=oW(r),E=g.useRef(!1),[C,_]=g.useState(0);return g.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(eS,j),()=>S.removeEventListener(eS,j)},[j]),i.jsx(Eve,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:p,onItemFocus:g.useCallback(S=>v(S),[v]),onItemShiftTab:g.useCallback(()=>b(!0),[]),onFocusableItemAdd:g.useCallback(()=>_(S=>S+1),[]),onFocusableItemRemove:g.useCallback(()=>_(S=>S-1),[]),children:i.jsx(et.div,{tabIndex:w||C===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:De(t.onMouseDown,()=>{E.current=!0}),onFocus:De(t.onFocus,S=>{const A=!E.current;if(S.target===S.currentTarget&&A&&!w){const T=new CustomEvent(eS,jve);if(S.currentTarget.dispatchEvent(T),!T.defaultPrevented){const I=N().filter(W=>W.focusable),P=I.find(W=>W.active),R=I.find(W=>W.id===p),q=[P,R,...I].filter(Boolean).map(W=>W.ref.current);dW(q,d)}}E.current=!1}),onBlur:De(t.onBlur,()=>b(!1))})})}),cW="RovingFocusGroupItem",uW=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=t,l=ha(),c=a||l,u=_ve(cW,r),d=u.currentTabStopId===c,h=oW(r),{onFocusableItemAdd:f,onFocusableItemRemove:m}=u;return g.useEffect(()=>{if(n)return f(),()=>m()},[n,f,m]),i.jsx(H_.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(et.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:De(t.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:De(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:De(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const p=Cve(x,u.orientation,u.dir);if(p!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")w.reverse();else if(p==="prev"||p==="next"){p==="prev"&&w.reverse();const b=w.indexOf(x.currentTarget);w=u.loop?kve(w,b+1):w.slice(b+1)}setTimeout(()=>dW(w))}})})})});uW.displayName=cW;var Ave={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Tve(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Cve(t,e,r){const n=Tve(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ave[n]}function dW(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function kve(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var hW=lW,fW=uW,G_=["Enter"," "],Ive=["ArrowDown","PageUp","Home"],mW=["ArrowUp","PageDown","End"],Rve=[...Ive,...mW],Ove={ltr:[...G_,"ArrowRight"],rtl:[...G_,"ArrowLeft"]},Dve={ltr:["ArrowLeft"],rtl:["ArrowRight"]},py="Menu",[ex,Mve,$ve]=V1(py),[gd,pW]=ba(py,[$ve,Mc,hj]),fj=Mc(),gW=hj(),[Lve,xd]=gd(py),[Fve,gy]=gd(py),xW=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=t,l=fj(e),[c,u]=g.useState(null),d=g.useRef(!1),h=Mr(a),f=my(s);return g.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),i.jsx(QC,{...l,children:i.jsx(Lve,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:u,children:i.jsx(Fve,{scope:e,onClose:g.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:n})})})};xW.displayName=py;var Vve="MenuAnchor",Lk=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=fj(r);return i.jsx(iy,{...s,...n,ref:e})});Lk.displayName=Vve;var Fk="MenuPortal",[Bve,yW]=gd(Fk,{forceMount:void 0}),vW=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,a=xd(Fk,e);return i.jsx(Bve,{scope:e,forceMount:r,children:i.jsx(Ln,{present:r||a.open,children:i.jsx(lm,{asChild:!0,container:s,children:n})})})};vW.displayName=Fk;var $i="MenuContent",[Uve,Vk]=gd($i),bW=g.forwardRef((t,e)=>{const r=yW($i,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=xd($i,t.__scopeMenu),o=gy($i,t.__scopeMenu);return i.jsx(ex.Provider,{scope:t.__scopeMenu,children:i.jsx(Ln,{present:n||a.open,children:i.jsx(ex.Slot,{scope:t.__scopeMenu,children:o.modal?i.jsx(qve,{...s,ref:e}):i.jsx(zve,{...s,ref:e})})})})}),qve=g.forwardRef((t,e)=>{const r=xd($i,t.__scopeMenu),n=g.useRef(null),s=At(e,n);return g.useEffect(()=>{const a=n.current;if(a)return aj(a)},[]),i.jsx(Bk,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:De(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),zve=g.forwardRef((t,e)=>{const r=xd($i,t.__scopeMenu);return i.jsx(Bk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Bk=g.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:x,...p}=t,v=xd($i,r),w=gy($i,r),b=fj(r),j=gW(r),N=Mve(r),[E,C]=g.useState(null),_=g.useRef(null),S=At(e,_,v.onContentChange),A=g.useRef(0),T=g.useRef(""),I=g.useRef(0),P=g.useRef(null),R=g.useRef("right"),M=g.useRef(0),q=x?fy:g.Fragment,W=x?{as:Go,allowPinchZoom:!0}:void 0,B=V=>{var Z,Pe;const K=T.current+V,G=N().filter(te=>!te.disabled),Q=document.activeElement,ae=(Z=G.find(te=>te.ref.current===Q))==null?void 0:Z.textValue,U=G.map(te=>te.textValue),Y=rbe(U,K,ae),ue=(Pe=G.find(te=>te.textValue===Y))==null?void 0:Pe.ref.current;(function te(ye){T.current=ye,window.clearTimeout(A.current),ye!==""&&(A.current=window.setTimeout(()=>te(""),1e3))})(K),ue&&setTimeout(()=>ue.focus())};g.useEffect(()=>()=>window.clearTimeout(A.current),[]),sj();const D=g.useCallback(V=>{var G,Q;return R.current===((G=P.current)==null?void 0:G.side)&&sbe(V,(Q=P.current)==null?void 0:Q.area)},[]);return i.jsx(Uve,{scope:r,searchRef:T,onItemEnter:g.useCallback(V=>{D(V)&&V.preventDefault()},[D]),onItemLeave:g.useCallback(V=>{var K;D(V)||((K=_.current)==null||K.focus(),C(null))},[D]),onTriggerLeave:g.useCallback(V=>{D(V)&&V.preventDefault()},[D]),pointerGraceTimerRef:I,onPointerGraceIntentChange:g.useCallback(V=>{P.current=V},[]),children:i.jsx(q,{...W,children:i.jsx(hy,{asChild:!0,trapped:s,onMountAutoFocus:De(a,V=>{var K;V.preventDefault(),(K=_.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(md,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:i.jsx(hW,{asChild:!0,...j,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:C,onEntryFocus:De(c,V=>{w.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(K1,{role:"menu","aria-orientation":"vertical","data-state":MW(v.open),"data-radix-menu-content":"",dir:w.dir,...b,...p,ref:S,style:{outline:"none",...p.style},onKeyDown:De(p.onKeyDown,V=>{const G=V.target.closest("[data-radix-menu-content]")===V.currentTarget,Q=V.ctrlKey||V.altKey||V.metaKey,ae=V.key.length===1;G&&(V.key==="Tab"&&V.preventDefault(),!Q&&ae&&B(V.key));const U=_.current;if(V.target!==U||!Rve.includes(V.key))return;V.preventDefault();const ue=N().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);mW.includes(V.key)&&ue.reverse(),ebe(ue)}),onBlur:De(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(A.current),T.current="")}),onPointerMove:De(t.onPointerMove,tx(V=>{const K=V.target,G=M.current!==V.clientX;if(V.currentTarget.contains(K)&&G){const Q=V.clientX>M.current?"right":"left";R.current=Q,M.current=V.clientX}}))})})})})})})});bW.displayName=$i;var Wve="MenuGroup",Uk=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(et.div,{role:"group",...n,ref:e})});Uk.displayName=Wve;var Hve="MenuLabel",wW=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(et.div,{...n,ref:e})});wW.displayName=Hve;var Fb="MenuItem",Q4="menu.itemSelect",mj=g.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,a=g.useRef(null),o=gy(Fb,t.__scopeMenu),l=Vk(Fb,t.__scopeMenu),c=At(e,a),u=g.useRef(!1),d=()=>{const h=a.current;if(!r&&h){const f=new CustomEvent(Q4,{bubbles:!0,cancelable:!0});h.addEventListener(Q4,m=>n==null?void 0:n(m),{once:!0}),CC(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(jW,{...s,ref:c,disabled:r,onClick:De(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:De(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:De(t.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||G_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});mj.displayName=Fb;var jW=g.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=t,o=Vk(Fb,r),l=gW(r),c=g.useRef(null),u=At(e,c),[d,h]=g.useState(!1),[f,m]=g.useState("");return g.useEffect(()=>{const x=c.current;x&&m((x.textContent??"").trim())},[a.children]),i.jsx(ex.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:i.jsx(fW,{asChild:!0,...l,focusable:!n,children:i.jsx(et.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:De(t.onPointerMove,tx(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:De(t.onPointerLeave,tx(x=>o.onItemLeave(x))),onFocus:De(t.onFocus,()=>h(!0)),onBlur:De(t.onBlur,()=>h(!1))})})})}),Gve="MenuCheckboxItem",NW=g.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return i.jsx(AW,{scope:t.__scopeMenu,checked:r,children:i.jsx(mj,{role:"menuitemcheckbox","aria-checked":Vb(r)?"mixed":r,...s,ref:e,"data-state":zk(r),onSelect:De(s.onSelect,()=>n==null?void 0:n(Vb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});NW.displayName=Gve;var SW="MenuRadioGroup",[Kve,Yve]=gd(SW,{value:void 0,onValueChange:()=>{}}),EW=g.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,a=Mr(n);return i.jsx(Kve,{scope:t.__scopeMenu,value:r,onValueChange:a,children:i.jsx(Uk,{...s,ref:e})})});EW.displayName=SW;var _W="MenuRadioItem",PW=g.forwardRef((t,e)=>{const{value:r,...n}=t,s=Yve(_W,t.__scopeMenu),a=r===s.value;return i.jsx(AW,{scope:t.__scopeMenu,checked:a,children:i.jsx(mj,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":zk(a),onSelect:De(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});PW.displayName=_W;var qk="MenuItemIndicator",[AW,Qve]=gd(qk,{checked:!1}),TW=g.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,a=Qve(qk,r);return i.jsx(Ln,{present:n||Vb(a.checked)||a.checked===!0,children:i.jsx(et.span,{...s,ref:e,"data-state":zk(a.checked)})})});TW.displayName=qk;var Xve="MenuSeparator",CW=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});CW.displayName=Xve;var Jve="MenuArrow",kW=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=fj(r);return i.jsx(Y1,{...s,...n,ref:e})});kW.displayName=Jve;var Zve="MenuSub",[GWe,IW]=gd(Zve),Ap="MenuSubTrigger",RW=g.forwardRef((t,e)=>{const r=xd(Ap,t.__scopeMenu),n=gy(Ap,t.__scopeMenu),s=IW(Ap,t.__scopeMenu),a=Vk(Ap,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(Lk,{asChild:!0,...u,children:i.jsx(jW,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":MW(r.open),...t,ref:F1(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:De(t.onPointerMove,tx(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:De(t.onPointerLeave,tx(h=>{var m,x;d();const f=(m=r.content)==null?void 0:m.getBoundingClientRect();if(f){const p=(x=r.content)==null?void 0:x.dataset.side,v=p==="right",w=v?-5:5,b=f[v?"left":"right"],j=f[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:b,y:f.top},{x:j,y:f.top},{x:j,y:f.bottom},{x:b,y:f.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:De(t.onKeyDown,h=>{var m;const f=a.searchRef.current!=="";t.disabled||f&&h.key===" "||Ove[n.dir].includes(h.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),h.preventDefault())})})})});RW.displayName=Ap;var OW="MenuSubContent",DW=g.forwardRef((t,e)=>{const r=yW($i,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=xd($i,t.__scopeMenu),o=gy($i,t.__scopeMenu),l=IW(OW,t.__scopeMenu),c=g.useRef(null),u=At(e,c);return i.jsx(ex.Provider,{scope:t.__scopeMenu,children:i.jsx(Ln,{present:n||a.open,children:i.jsx(ex.Slot,{scope:t.__scopeMenu,children:i.jsx(Bk,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:De(t.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:De(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:De(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=Dve[o.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});DW.displayName=OW;function MW(t){return t?"open":"closed"}function Vb(t){return t==="indeterminate"}function zk(t){return Vb(t)?"indeterminate":t?"checked":"unchecked"}function ebe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function tbe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function rbe(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=tbe(t,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function nbe(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,d=e[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function sbe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return nbe(r,e)}function tx(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ibe=xW,abe=Lk,obe=vW,lbe=bW,cbe=Uk,ube=wW,dbe=mj,hbe=NW,fbe=EW,mbe=PW,pbe=TW,gbe=CW,xbe=kW,ybe=RW,vbe=DW,Wk="DropdownMenu",[bbe,KWe]=ba(Wk,[pW]),As=pW(),[wbe,$W]=bbe(Wk),LW=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=As(e),u=g.useRef(null),[d=!1,h]=Za({prop:s,defaultProp:a,onChange:o});return i.jsx(wbe,{scope:e,triggerId:ha(),triggerRef:u,contentId:ha(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:l,children:i.jsx(ibe,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};LW.displayName=Wk;var FW="DropdownMenuTrigger",VW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,a=$W(FW,r),o=As(r);return i.jsx(abe,{asChild:!0,...o,children:i.jsx(et.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:F1(e,a.triggerRef),onPointerDown:De(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:De(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});VW.displayName=FW;var jbe="DropdownMenuPortal",BW=t=>{const{__scopeDropdownMenu:e,...r}=t,n=As(e);return i.jsx(obe,{...n,...r})};BW.displayName=jbe;var UW="DropdownMenuContent",qW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=$W(UW,r),a=As(r),o=g.useRef(!1);return i.jsx(lbe,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:e,onCloseAutoFocus:De(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:De(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qW.displayName=UW;var Nbe="DropdownMenuGroup",Sbe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=As(r);return i.jsx(cbe,{...s,...n,ref:e})});Sbe.displayName=Nbe;var Ebe="DropdownMenuLabel",zW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=As(r);return i.jsx(ube,{...s,...n,ref:e})});zW.displayName=Ebe;var _be="DropdownMenuItem",WW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=As(r);return i.jsx(dbe,{...s,...n,ref:e})});WW.displayName=_be;var Pbe="DropdownMenuCheckboxItem",HW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=As(r);return i.jsx(hbe,{...s,...n,ref:e})});HW.displayName=Pbe;var Abe="DropdownMenuRadioGroup",Tbe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=As(r);return i.jsx(fbe,{...s,...n,ref:e})});Tbe.displayName=Abe;var Cbe="DropdownMenuRadioItem",GW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=As(r);return i.jsx(mbe,{...s,...n,ref:e})});GW.displayName=Cbe;var kbe="DropdownMenuItemIndicator",KW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=As(r);return i.jsx(pbe,{...s,...n,ref:e})});KW.displayName=kbe;var Ibe="DropdownMenuSeparator",YW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=As(r);return i.jsx(gbe,{...s,...n,ref:e})});YW.displayName=Ibe;var Rbe="DropdownMenuArrow",Obe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=As(r);return i.jsx(xbe,{...s,...n,ref:e})});Obe.displayName=Rbe;var Dbe="DropdownMenuSubTrigger",QW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=As(r);return i.jsx(ybe,{...s,...n,ref:e})});QW.displayName=Dbe;var Mbe="DropdownMenuSubContent",XW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=As(r);return i.jsx(vbe,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XW.displayName=Mbe;var $be=LW,Lbe=VW,Fbe=BW,JW=qW,ZW=zW,eH=WW,tH=HW,rH=GW,nH=KW,sH=YW,iH=QW,aH=XW;const K_=$be,Y_=Lbe,Vbe=g.forwardRef(({className:t,inset:e,children:r,...n},s)=>i.jsxs(iH,{ref:s,className:He("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,i.jsx(DC,{className:"ml-auto h-4 w-4"})]}));Vbe.displayName=iH.displayName;const Bbe=g.forwardRef(({className:t,...e},r)=>i.jsx(aH,{ref:r,className:He("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Bbe.displayName=aH.displayName;const Bb=g.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(Fbe,{children:i.jsx(JW,{ref:n,sideOffset:e,className:He("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Bb.displayName=JW.displayName;const Zs=g.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(eH,{ref:n,className:He("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));Zs.displayName=eH.displayName;const Ube=g.forwardRef(({className:t,children:e,checked:r,...n},s)=>i.jsxs(tH,{ref:s,className:He("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(nH,{children:i.jsx(hi,{className:"h-4 w-4"})})}),e]}));Ube.displayName=tH.displayName;const qbe=g.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(rH,{ref:n,className:He("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(nH,{children:i.jsx(Lce,{className:"h-2 w-2 fill-current"})})}),e]}));qbe.displayName=rH.displayName;const zbe=g.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(ZW,{ref:n,className:He("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));zbe.displayName=ZW.displayName;const oH=g.forwardRef(({className:t,...e},r)=>i.jsx(sH,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",t),...e}));oH.displayName=sH.displayName;const X4=768;function lH(){const[t,e]=g.useState(void 0);return g.useEffect(()=>{const r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),n=()=>{const l=window.innerWidth<X4||r;e(l)},s=window.matchMedia(`(max-width: ${X4-1}px)`),a=()=>{n()};return s.addEventListener("change",a),n(),()=>s.removeEventListener("change",a)},[]),!!t}function Wbe(){const t=[{id:"privacy",title:"Privacy Policy",icon:Cr,link:"/privacy-policy"},{id:"terms",title:"Terms & Conditions",icon:Rl,link:"/terms-and-conditions"},{id:"refund",title:"Refund Policy",icon:tue,link:"/refund-policy"},{id:"contact",title:"Contact Us",icon:Wa,link:"/contact-us"}];return i.jsx(i.Fragment,{children:i.jsx("footer",{className:"bg-background border-t border-border/50 pb-24 sm:pb-0",children:i.jsxs("div",{className:"container mx-auto px-3 sm:px-6 lg:px-8 py-2 sm:py-8",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3 sm:gap-8 lg:gap-12 mb-2 sm:mb-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-2 sm:space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-pal-blue to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-white font-bold text-sm sm:text-lg",children:"E"})}),i.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[i.jsxs("h3",{className:"text-xs sm:text-lg lg:text-xl font-bold text-foreground leading-tight",children:["Enqir",i.jsx("span",{className:"text-[10px] sm:text-xs",children:".in"})," Platform"]}),i.jsx("p",{className:"text-[9px] sm:text-xs text-muted-foreground max-w-md leading-relaxed",children:"they suggests we helps"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[i.jsxs("div",{className:"flex flex-col items-center text-center p-2 sm:p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-all duration-200 group",children:[i.jsx("div",{className:"w-8 h-8 bg-pal-blue/10 rounded-lg flex items-center justify-center group-hover:bg-pal-blue/20 transition-colors mb-1",children:i.jsx(Cr,{className:"h-4 w-4 text-pal-blue"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-foreground",children:"ID Verified"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground hidden sm:block",children:"Secure Users"})]})]}),i.jsxs("div",{className:"flex flex-col items-center text-center p-2 sm:p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-all duration-200 group",children:[i.jsx("div",{className:"w-8 h-8 bg-pal-blue/10 rounded-lg flex items-center justify-center group-hover:bg-pal-blue/20 transition-colors mb-1",children:i.jsx(Ko,{className:"h-4 w-4 text-pal-blue"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-foreground",children:"Secure"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground hidden sm:block",children:"Transactions"})]})]}),i.jsxs("div",{className:"flex flex-col items-center text-center p-2 sm:p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-all duration-200 group",children:[i.jsx("div",{className:"w-8 h-8 bg-pal-blue/10 rounded-lg flex items-center justify-center group-hover:bg-pal-blue/20 transition-colors mb-1",children:i.jsx($C,{className:"h-4 w-4 text-pal-blue"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-foreground",children:"Admin"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground hidden sm:block",children:"Oversight"})]})]})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("h4",{className:"text-[10px] sm:text-lg font-semibold text-foreground mb-2 sm:mb-6 border-b border-border/50 pb-1 sm:pb-3 text-center sm:text-left",children:"Quick Links"}),i.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-1 sm:hidden",children:t.map(e=>i.jsx(Je,{to:e.link,className:"text-[10px] text-muted-foreground hover:text-pal-blue transition-colors px-2 py-1 rounded relative after:content-[''] after:absolute after:right-[-6px] after:top-1/2 after:transform after:-translate-y-1/2 after:w-[1px] after:h-3 after:bg-border last:after:hidden",children:e.title},e.id))}),i.jsx("div",{className:"hidden sm:grid grid-cols-2 gap-2 sm:gap-4",children:t.map(e=>i.jsx(Je,{to:e.link,className:"group text-left p-2 sm:p-3 rounded-lg hover:bg-muted/30 transition-all duration-200 border border-transparent hover:border-pal-blue/20",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-pal-blue/10 rounded-md flex items-center justify-center group-hover:bg-pal-blue/20 transition-colors",children:i.jsx(e.icon,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-pal-blue"})}),i.jsx("span",{className:"text-xs sm:text-sm font-medium text-foreground group-hover:text-pal-blue transition-colors leading-tight",children:e.title})]})},e.id))})]})]}),i.jsx("div",{className:"pt-2 sm:pt-4 border-t border-border/50",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-2 sm:space-y-0",children:[i.jsx("div",{className:"text-center sm:text-left",children:i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground",children:" www.enqir.in. All Rights Reserved."})}),i.jsxs("div",{className:"flex items-center justify-center sm:justify-end space-x-4 sm:space-x-6",children:[i.jsx(Je,{to:"/",className:"text-[10px] sm:text-sm text-muted-foreground hover:text-foreground transition-colors relative after:content-[''] after:absolute after:right-[-12px] after:top-1/2 after:transform after:-translate-y-1/2 after:w-[1px] after:h-3 after:bg-border",children:"Home"}),i.jsx(Je,{to:"/enquiries",className:"text-[10px] sm:text-sm text-muted-foreground hover:text-foreground transition-colors relative after:content-[''] after:absolute after:right-[-12px] after:top-1/2 after:transform after:-translate-y-1/2 after:w-[1px] after:h-3 after:bg-border",children:"Browse"}),i.jsx(Je,{to:"/post-enquiry",className:"text-[10px] sm:text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Post Enquiry"})]})]})})]})})})}const tS={search:{enabled:!0,mobileOptimized:!0,suggestionLimit:5,trendingLimit:6,debounceMs:300},autocomplete:{enabled:!0,mobileOptimized:!0,minChars:2,maxSuggestions:4,debounceMs:200},chat:{enabled:!0,mobileOptimized:!0,smartReplies:!0,sentimentAnalysis:!0,translation:!1},image:{enabled:!0,mobileOptimized:!0,autoCategorization:!0,duplicateDetection:!0,maxImageSize:5*1024*1024},analytics:{enabled:!0,mobileOptimized:!0,realTimeUpdates:!0,performanceMode:!0},security:{enabled:!0,mobileOptimized:!0,spamDetection:!0,riskScoring:!0,trustIndicators:!0},content:{enabled:!0,mobileOptimized:!0,smartTitles:!0,tagSuggestions:!0,descriptionTemplates:!0},performance:{mobileFirst:!0,lazyLoading:!0,progressiveEnhancement:!0,fallbackMode:!0}},Hbe={openai:{enabled:!1,apiKey:"",endpoint:""},local:{smartSearch:!0,autocomplete:!0,imageRecognition:!0,sentimentAnalysis:!0,contentGeneration:!0}},Gbe={touchOptimized:!0,gestureSupport:!0,voiceInput:!0,cameraIntegration:!0,responsiveUI:!0,performanceMode:!0},Kbe=()=>{try{return!tS||typeof tS!="object"?(console.warn("AI_CONFIG is invalid, using fallback configuration"),J4()):{...tS,mobile:Gbe,services:Hbe}}catch(t){return console.error("Error getting AI config, using fallback:",t),J4()}},J4=()=>({search:{enabled:!1,mobileOptimized:!0,suggestionLimit:0,trendingLimit:0,debounceMs:300},autocomplete:{enabled:!1,mobileOptimized:!0,minChars:2,maxSuggestions:0,debounceMs:200},chat:{enabled:!1,mobileOptimized:!0,smartReplies:!1,sentimentAnalysis:!1,translation:!1},image:{enabled:!1,mobileOptimized:!0,autoCategorization:!1,duplicateDetection:!1,maxImageSize:5*1024*1024},analytics:{enabled:!1,mobileOptimized:!0,realTimeUpdates:!1,performanceMode:!0},security:{enabled:!1,mobileOptimized:!0,spamDetection:!1,riskScoring:!1,trustIndicators:!1},content:{enabled:!1,mobileOptimized:!0,smartTitles:!1,tagSuggestions:!1,descriptionTemplates:!1},performance:{mobileFirst:!0,lazyLoading:!0,progressiveEnhancement:!0,fallbackMode:!0}}),Ybe=()=>{const[t,e]=g.useState(!1),[r,n]=g.useState([]),[s,a]=g.useState(""),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState(!1),f=g.useRef(null),m=g.useRef(null);let x;try{x=Kbe()}catch(T){console.error("Failed to get AI config:",T),x=getFallbackAIConfig(),h(!0)}const p=["Post enquiry","Respond to enquiries","Trust badge","How to use","Contact support","Browse enquiries"],v={"how to post an enquiry":{answer:"To post an enquiry, click the 'Post Your Need' button on the homepage or go to 'Post Enquiry' in the menu. Fill in the details and submit!",actions:["Go to Post Enquiry","View Examples"]},"how to respond to enquiries":{answer:"To respond to enquiries, browse the 'Browse Enquiries' section, find something you can help with, and click 'I Can Provide' to submit your offer.",actions:["Browse Enquiries","View My Responses"]},"what is a trust badge":{answer:"A trust badge is an optional feature that shows other users you've verified your identity. It's completely optional and helps build trust in the community.",actions:["Learn More","Get Trust Badge"]},"how to use the app":{answer:"Our app is simple! Post what you need, browse what others need, and connect with people who can help. No big fees, just a friendly community helping each other.",actions:["Take Tour","View Features"]},"contact support":{answer:"For support, you can use this chat, check our FAQ, or email us. We're here to help make your experience smooth and enjoyable!",actions:["View FAQ","Email Support"]},"browse enquiries":{answer:"Browse enquiries by going to 'Browse' in the menu or clicking 'Browse Enquiries' on the homepage. Use the search to find exactly what you're looking for!",actions:["Browse Now","Search Enquiries"]}};g.useEffect(()=>{r.length===0&&b(`Hello! I'm your Enqir Assistant. I can help you with:

 Posting enquiries
 Finding what you need
 Understanding features
 Getting support

What would you like to know?`,"text")},[r.length]),g.useEffect(()=>{var T;(T=f.current)==null||T.scrollIntoView({behavior:"smooth"})},[r]);const w=(T,I,P="text")=>{const R={id:Date.now().toString(),text:T,sender:I,timestamp:new Date,type:P};n(M=>[...M,R])},b=(T,I="text")=>{l(!0),setTimeout(()=>{l(!1),w(T,"bot",I)},1e3)},j=async()=>{if(s.trim())try{const T=s.trim();w(T,"user"),a(""),u(!0),setTimeout(()=>{try{const I=N(T.toLowerCase());b(I.answer,"text"),I.actions&&I.actions.length>0&&setTimeout(()=>{b("Here are some quick actions:","suggestion"),I.actions.forEach(P=>{b(P,"quick-action")})},500)}catch(I){console.error("AI response generation failed:",I),b("I'm having trouble right now. You can still use all app features normally!","text")}finally{u(!1)}},1500)}catch(T){console.error("Message handling failed:",T),u(!1),b("Something went wrong. Please try again or use the app normally.","text")}},N=T=>{try{if(!T||typeof T!="string")return E();for(const[I,P]of Object.entries(v))if(T.includes(I)||I.includes(T))return P;return{answer:"I'm here to help! You can ask me about posting enquiries, responding to requests, trust badges, or how to use the app. What would you like to know?",actions:["View FAQ","Take Tour","Browse Enquiries"]}}catch(I){return console.error("AI response generation failed:",I),E()}},E=()=>({answer:"I'm having trouble processing your request right now. You can still use all the PAL app features normally. For help, try browsing enquiries or posting your own request!",actions:["Browse Enquiries","Post Enquiry","Contact Support"]}),C=T=>{w(T,"user"),a(""),u(!0),setTimeout(()=>{const I=N(T.toLowerCase());b(I.answer,"text"),u(!1)},1e3)},_=T=>{w(`I'll help you with: ${T}`,"user"),setTimeout(()=>{b(`Great! I'm taking you to ${T}. You can also use the menu or navigation to get there.`,"text")},1e3)},S=()=>{n([]),b("Chat cleared. How can I help you?","text")},A=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),j())};return i.jsx(i.Fragment,{children:i.jsx("div",{className:"fixed bottom-20 right-4 sm:bottom-6 sm:right-6 z-[60]",children:i.jsxs(W_,{open:t,onOpenChange:e,children:[i.jsx(iW,{asChild:!0,children:i.jsxs("div",{className:"group cursor-pointer relative",children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-gray-800/20 animate-ping"}),i.jsxs("button",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-white border-2 border-gray-800 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-105 group-active:scale-95 flex items-center justify-center relative overflow-hidden",children:[i.jsx(Gce,{className:"h-6 w-6 text-gray-800 group-hover:text-gray-900 transition-colors duration-200 relative z-10"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-800/10 to-gray-900/10 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white animate-pulse"}),i.jsx("div",{className:"absolute inset-0 rounded-full bg-gray-800/20 scale-0 group-hover:scale-110 transition-transform duration-500"})]}),i.jsxs("div",{className:"absolute -top-12 right-0 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-200 whitespace-nowrap pointer-events-none",children:[i.jsx("span",{className:"font-medium",children:"Enqir Assistant"}),i.jsx("div",{className:"absolute bottom-0 right-3 w-0 h-0 border-l-2 border-r-2 border-t-2 border-transparent border-t-gray-900"})]})]})}),i.jsxs($k,{side:"right",className:"w-[86vw] max-w-[380px] sm:w-[480px] h-[70vh] sm:h-[85vh] p-0 bg-white border-l border-gray-200 flex flex-col [&>button]:hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-white",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center",children:i.jsx(Da,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Enqir Assistant"}),i.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),d?"Limited mode":"Online"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Clear chat",children:i.jsx(jb,{className:"h-4 w-4 text-gray-500"})}),i.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Close chat",children:i.jsx(Qr,{className:"h-4 w-4 text-gray-500"})})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0 bg-gray-50/50",children:[r.map((T,I)=>i.jsx("div",{className:`flex ${T.sender==="user"?"justify-end":"justify-start"} animate-in slide-in-from-bottom-2 duration-300`,style:{animationDelay:`${I*100}ms`},children:i.jsxs("div",{className:`max-w-[80%] p-3 rounded-2xl transition-all duration-200 hover:shadow-md ${T.sender==="user"?"bg-gray-800 text-white rounded-br-md shadow-sm":"bg-white text-gray-900 rounded-bl-md border border-gray-200 shadow-sm"}`,children:[T.type==="quick-action"?i.jsxs("button",{onClick:()=>_(T.text),className:"text-left w-full hover:underline text-sm font-medium flex items-center gap-2 group",children:[i.jsx(_2,{className:"h-3 w-3 text-gray-800 group-hover:animate-spin"}),T.text]}):i.jsxs("div",{className:"space-y-2",children:[T.sender==="bot"&&i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Da,{className:"h-3 w-3 text-gray-800"}),i.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Assistant"})]}),i.jsx("p",{className:"text-sm leading-relaxed break-words whitespace-pre-wrap",children:T.text})]}),i.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-current/10",children:[i.jsx("p",{className:"text-xs opacity-70",children:T.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),T.sender==="user"&&i.jsx(_i,{className:"h-3 w-3 opacity-70"})]})]})},T.id)),o&&i.jsx("div",{className:"flex justify-start animate-in slide-in-from-bottom-2 duration-300",children:i.jsx("div",{className:"bg-white border border-gray-200 p-3 rounded-2xl rounded-bl-md",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Da,{className:"h-3 w-3 text-gray-800"}),i.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Assistant"})]}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),i.jsx("span",{className:"text-xs text-gray-500",children:"typing..."})]})})}),i.jsx("div",{ref:f})]}),i.jsx("div",{className:"p-4 border-t border-gray-100 bg-white",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-6 h-6 bg-gray-800 rounded-full flex items-center justify-center",children:i.jsx(_2,{className:"h-3 w-3 text-white"})}),i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Quick Help"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map((T,I)=>i.jsx("button",{onClick:()=>C(T),className:"text-left p-3 bg-gray-50 hover:bg-gray-100 border border-gray-200 hover:border-gray-800 rounded-lg transition-all duration-200 group disabled:opacity-50 hover:scale-105 active:scale-95",disabled:c,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-gray-800 rounded-full group-hover:bg-gray-900 group-hover:scale-125 transition-all duration-200"}),i.jsx("span",{className:"text-xs font-medium text-gray-700 group-hover:text-gray-900 truncate",children:T}),i.jsx(_2,{className:"h-3 w-3 text-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})},I))})]})}),i.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx("input",{ref:m,value:s,onChange:T=>a(T.target.value),onKeyPress:A,placeholder:"Type your message...",className:"w-full px-4 py-3 pr-12 text-sm border border-gray-200 rounded-2xl focus:border-gray-800 focus:ring-2 focus:ring-gray-200 transition-all duration-200 bg-gray-50 focus:bg-white",disabled:c}),s.trim()&&i.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})})]}),i.jsx("button",{onClick:j,disabled:!s.trim()||c,className:"px-4 py-3 bg-gray-800 hover:bg-gray-900 disabled:bg-gray-300 text-white rounded-2xl transition-all duration-200 disabled:cursor-not-allowed flex items-center justify-center min-w-[48px]",children:c?i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(l_,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-400",children:[i.jsx("span",{children:"Press Enter to send"}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"}),"Enqir Assistant"]})]})]})]})]})})})};function pt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Es(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Rn(t,e){const r=pt(t);return isNaN(e)?Es(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function fi(t,e){const r=pt(t);if(isNaN(e))return Es(t,NaN);if(!e)return r;const n=r.getDate(),s=Es(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}function cH(t,e){const r=+pt(t);return Es(t,r+e)}const Hk=6048e5,Qbe=864e5,Xbe=6e4,Jbe=36e5,D0=43200,Z4=1440;function Qc(t,e){return cH(t,e*Jbe)}let Zbe={};function ym(){return Zbe}function to(t,e){var l,c,u,d;const r=ym(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=pt(t),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function ed(t){return to(t,{weekStartsOn:1})}function uH(t){const e=pt(t),r=e.getFullYear(),n=Es(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=ed(n),a=Es(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=ed(a);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function gf(t){const e=pt(t);return e.setHours(0,0,0,0),e}function xf(t){const e=pt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function La(t,e){const r=gf(t),n=gf(e),s=+r-xf(r),a=+n-xf(n);return Math.round((s-a)/Qbe)}function ewe(t){const e=uH(t),r=Es(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),ed(r)}function M0(t,e){return cH(t,e*Xbe)}function Ah(t,e){const r=e*7;return Rn(t,r)}function twe(t,e){return fi(t,e*12)}function rwe(t){let e;return t.forEach(function(r){const n=pt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function nwe(t){let e;return t.forEach(r=>{const n=pt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function Tv(t,e){const r=pt(t),n=pt(e),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function swe(t){return Es(t,Date.now())}function Bs(t,e){const r=gf(t),n=gf(e);return+r==+n}function Gk(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function iwe(t){if(!Gk(t)&&typeof t!="number")return!1;const e=pt(t);return!isNaN(Number(e))}function yf(t,e){const r=pt(t),n=pt(e),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function awe(t,e,r){const n=to(t,r),s=to(e,r),a=+n-xf(n),o=+s-xf(s);return Math.round((a-o)/Hk)}function owe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function lwe(t,e){return+pt(t)-+pt(e)}function cwe(t){const e=pt(t);return e.setHours(23,59,59,999),e}function pj(t){const e=pt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function uwe(t){const e=pt(t);return+cwe(e)==+pj(e)}function dwe(t,e){const r=pt(t),n=pt(e),s=Tv(r,n),a=Math.abs(yf(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=Tv(r,n)===-s;uwe(pt(t))&&a===1&&Tv(t,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function hwe(t,e,r){const n=lwe(t,e)/1e3;return owe(r==null?void 0:r.roundingMethod)(n)}function Hs(t){const e=pt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function dH(t){const e=pt(t),r=Es(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Kk(t,e){var l,c,u,d;const r=ym(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=pt(t),a=s.getDay(),o=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function hH(t){return Kk(t,{weekStartsOn:1})}const fwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mwe=(t,e,r)=>{let n;const s=fwe[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function rS(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const pwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gwe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ywe={date:rS({formats:pwe,defaultWidth:"full"}),time:rS({formats:gwe,defaultWidth:"full"}),dateTime:rS({formats:xwe,defaultWidth:"full"})},vwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bwe=(t,e,r,n)=>vwe[t];function ip(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const wwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Nwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Swe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ewe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_we={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pwe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Awe={ordinalNumber:Pwe,era:ip({values:wwe,defaultWidth:"wide"}),quarter:ip({values:jwe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ip({values:Nwe,defaultWidth:"wide"}),day:ip({values:Swe,defaultWidth:"wide"}),dayPeriod:ip({values:Ewe,defaultWidth:"wide",formattingValues:_we,defaultFormattingWidth:"wide"})};function ap(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Cwe(l,h=>h.test(o)):Twe(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Twe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Cwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function kwe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const Iwe=/^(\d+)(th|st|nd|rd)?/i,Rwe=/\d+/i,Owe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dwe={any:[/^b/i,/^(a|c)/i]},Mwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$we={any:[/1/i,/2/i,/3/i,/4/i]},Lwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Uwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zwe={ordinalNumber:kwe({matchPattern:Iwe,parsePattern:Rwe,valueCallback:t=>parseInt(t,10)}),era:ap({matchPatterns:Owe,defaultMatchWidth:"wide",parsePatterns:Dwe,defaultParseWidth:"any"}),quarter:ap({matchPatterns:Mwe,defaultMatchWidth:"wide",parsePatterns:$we,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ap({matchPatterns:Lwe,defaultMatchWidth:"wide",parsePatterns:Fwe,defaultParseWidth:"any"}),day:ap({matchPatterns:Vwe,defaultMatchWidth:"wide",parsePatterns:Bwe,defaultParseWidth:"any"}),dayPeriod:ap({matchPatterns:Uwe,defaultMatchWidth:"any",parsePatterns:qwe,defaultParseWidth:"any"})},Yk={code:"en-US",formatDistance:mwe,formatLong:ywe,formatRelative:bwe,localize:Awe,match:zwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wwe(t){const e=pt(t);return La(e,dH(e))+1}function fH(t){const e=pt(t),r=+ed(e)-+ewe(e);return Math.round(r/Hk)+1}function mH(t,e){var d,h,f,m;const r=pt(t),n=r.getFullYear(),s=ym(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Es(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=to(o,e),c=Es(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=to(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Hwe(t,e){var l,c,u,d;const r=ym(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=mH(t,e),a=Es(t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),to(a,e)}function pH(t,e){const r=pt(t),n=+to(r,e)-+Hwe(r,e);return Math.round(n/Hk)+1}function Zt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const vl={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Zt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Zt(r+1,2)},d(t,e){return Zt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Zt(t.getHours()%12||12,e.length)},H(t,e){return Zt(t.getHours(),e.length)},m(t,e){return Zt(t.getMinutes(),e.length)},s(t,e){return Zt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Zt(s,e.length)}},Rd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},e3={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return vl.y(t,e)},Y:function(t,e,r,n){const s=mH(t,n),a=s>0?s:1-s;if(e==="YY"){const o=a%100;return Zt(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Zt(a,e.length)},R:function(t,e){const r=uH(t);return Zt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Zt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Zt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Zt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return vl.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Zt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=pH(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Zt(s,e.length)},I:function(t,e,r){const n=fH(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Zt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):vl.d(t,e)},D:function(t,e,r){const n=Wwe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Zt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Zt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Zt(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Zt(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Rd.noon:n===0?s=Rd.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Rd.evening:n>=12?s=Rd.afternoon:n>=4?s=Rd.morning:s=Rd.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return vl.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):vl.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Zt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Zt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):vl.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):vl.s(t,e)},S:function(t,e){return vl.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return r3(n);case"XXXX":case"XX":return su(n);case"XXXXX":case"XXX":default:return su(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return r3(n);case"xxxx":case"xx":return su(n);case"xxxxx":case"xxx":default:return su(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+t3(n,":");case"OOOO":default:return"GMT"+su(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+t3(n,":");case"zzzz":default:return"GMT"+su(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Zt(n,e.length)},T:function(t,e,r){const n=t.getTime();return Zt(n,e.length)}};function t3(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+e+Zt(a,2)}function r3(t,e){return t%60===0?(t>0?"-":"+")+Zt(Math.abs(t)/60,2):su(t,e)}function su(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Zt(Math.trunc(n/60),2),a=Zt(n%60,2);return r+s+e+a}const n3=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},gH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Gwe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return n3(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",n3(n,e)).replace("{{time}}",gH(s,e))},Kwe={p:gH,P:Gwe},Ywe=/^D+$/,Qwe=/^Y+$/,Xwe=["D","DD","YY","YYYY"];function Jwe(t){return Ywe.test(t)}function Zwe(t){return Qwe.test(t)}function e1e(t,e,r){const n=t1e(t,e,r);if(console.warn(n),Xwe.includes(t))throw new RangeError(n)}function t1e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const r1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,n1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,s1e=/^'([^]*?)'?$/,i1e=/''/g,a1e=/[a-zA-Z]/;function Zo(t,e,r){var d,h,f,m,x,p,v,w;const n=ym(),s=(r==null?void 0:r.locale)??n.locale??Yk,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,l=pt(t);if(!iwe(l))throw new RangeError("Invalid time value");let c=e.match(n1e).map(b=>{const j=b[0];if(j==="p"||j==="P"){const N=Kwe[j];return N(b,s.formatLong)}return b}).join("").match(r1e).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const j=b[0];if(j==="'")return{isToken:!1,value:o1e(b)};if(e3[j])return{isToken:!0,value:b};if(j.match(a1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const j=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Zwe(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Jwe(j))&&e1e(j,e,String(t));const N=e3[j[0]];return N(l,j,s.localize,u)}).join("")}function o1e(t){const e=t.match(s1e);return e?e[1].replace(i1e,"'"):t}function l1e(t,e,r){const n=ym(),s=(r==null?void 0:r.locale)??n.locale??Yk,a=2520,o=Tv(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=pt(e),u=pt(t)):(c=pt(t),u=pt(e));const d=hwe(u,c),h=(xf(u)-xf(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<Z4){const x=Math.round(f/60);return s.formatDistance("aboutXHours",x,l)}else{if(f<a)return s.formatDistance("xDays",1,l);if(f<D0){const x=Math.round(f/Z4);return s.formatDistance("xDays",x,l)}else if(f<D0*2)return m=Math.round(f/D0),s.formatDistance("aboutXMonths",m,l)}if(m=dwe(u,c),m<12){const x=Math.round(f/D0);return s.formatDistance("xMonths",x,l)}else{const x=m%12,p=Math.trunc(m/12);return x<3?s.formatDistance("aboutXYears",p,l):x<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function xH(t,e){return l1e(t,swe(t),e)}function c1e(t){const e=pt(t),r=e.getFullYear(),n=e.getMonth(),s=Es(t,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function u1e(t){return Math.trunc(+pt(t)/1e3)}function d1e(t){const e=pt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function h1e(t,e){return awe(d1e(t),Hs(t),e)+1}function Q_(t,e){const r=pt(t),n=pt(e);return r.getTime()>n.getTime()}function yH(t,e){const r=pt(t),n=pt(e);return+r<+n}function Qk(t,e){const r=pt(t),n=pt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function f1e(t,e){const r=pt(t),n=pt(e);return r.getFullYear()===n.getFullYear()}function nS(t,e){return Rn(t,-e)}function sS(t,e){const r=pt(t),n=r.getFullYear(),s=r.getDate(),a=Es(t,0);a.setFullYear(n,e,15),a.setHours(0,0,0,0);const o=c1e(a);return r.setMonth(e,Math.min(s,o)),r}function s3(t,e){const r=pt(t);return isNaN(+r)?Es(t,NaN):(r.setFullYear(e),r)}const i3=({className:t=""})=>{const e=g.useContext(wa),r=Jr(),[n,s]=g.useState(!1);if(!e)return null;const{notifications:a=[],unreadCount:o=0,markAsRead:l,markAllAsRead:c}=e,u=(h,f)=>{if(!(!h||!l))try{if(l(h),s(!1),f){let m=f;f.startsWith("/enquiry-responses/")&&(m=`/enquiry/${f.replace("/enquiry-responses/","")}/responses-page`),r(m)}}catch(m){console.error("Failed to handle notification click:",m)}},d=()=>{if(c)try{c()}catch(h){console.error("Failed to mark all as read:",h)}};return i.jsxs("div",{className:`relative ${t}`,children:[i.jsxs("button",{onClick:()=>s(!n),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Notifications",children:[i.jsx(jh,{className:"w-5 h-5 text-gray-700"}),o>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-semibold rounded-full w-5 h-5 flex items-center justify-center",children:o>9?"9+":o})]}),n&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),i.jsxs("div",{className:"fixed sm:absolute left-2 right-2 top-16 sm:left-auto sm:right-0 sm:top-12 w-auto sm:w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[calc(100vh-5rem)] sm:max-h-[500px] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-gray-200 bg-gray-50",children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Notifications"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o>0&&i.jsx("button",{onClick:d,className:"text-[10px] sm:text-xs bg-gray-800 hover:bg-gray-900 text-white font-medium px-2 py-1 rounded transition-colors",children:"Mark all read"}),i.jsx("button",{onClick:()=>s(!1),className:"p-1.5 hover:bg-gray-200 rounded transition-colors",children:i.jsx(Qr,{className:"w-4 h-4 text-gray-600"})})]})]}),i.jsx("div",{className:"overflow-y-auto flex-1 overscroll-contain max-h-[400px]",children:a.length===0?i.jsxs("div",{className:"p-6 sm:p-8 text-center text-gray-500",children:[i.jsx(jh,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 text-gray-300"}),i.jsx("p",{className:"text-xs sm:text-sm",children:"No notifications yet"})]}):i.jsx("div",{className:"divide-y divide-gray-100",children:(Array.isArray(a)?a:[]).slice(0,5).map(h=>{if(!h||!h.id)return null;try{return i.jsx("div",{onClick:()=>u(h.id,h.actionUrl),className:`p-3 sm:p-4 cursor-pointer hover:bg-gray-50 active:bg-gray-100 transition-colors ${h.read?"":"bg-gray-800/10"}`,children:i.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[i.jsx("div",{className:`flex-shrink-0 w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${h.type==="success"?"bg-green-100":h.type==="error"?"bg-red-100":h.type==="warning"?"bg-yellow-100":"bg-gray-800/20"}`,children:i.jsx(hi,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${h.type==="success"?"text-green-600":h.type==="error"?"text-red-600":h.type==="warning"?"text-yellow-600":"text-gray-800"}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-0.5 sm:mb-1 line-clamp-2",children:h.title||"Notification"}),i.jsx("p",{className:"text-[11px] sm:text-xs text-gray-600 mb-1 sm:mb-2 line-clamp-2",children:h.message||""}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400",children:h.timestamp?xH(new Date(h.timestamp),{addSuffix:!0}):"Just now"})]}),!h.read&&i.jsx("div",{className:"flex-shrink-0 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-gray-800 rounded-full mt-1.5 sm:mt-2"})]})},h.id)}catch(f){return console.error("Error rendering notification:",f),null}})})}),a.length>0&&i.jsx("div",{className:"border-t border-gray-200 p-3",children:i.jsx("button",{onClick:h=>{h.stopPropagation(),s(!1),r("/notifications")},className:"w-full text-center text-sm font-medium bg-gray-800 hover:bg-gray-900 text-white py-2 rounded transition-colors",children:"View All Notifications"})})]})]})]})},m1e=({id:t,title:e,message:r,type:n="info",actionUrl:s,onDismiss:a,index:o})=>{try{const l=Jr(),[c,u]=g.useState(!1),d=g.useRef(null),h=g.useRef(null),f=g.useRef(null),m=g.useCallback(()=>{try{u(!1),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{try{a&&t&&a(t)}catch(w){console.error("Error in onDismiss callback:",w)}},300)}catch(w){console.error("Error dismissing notification:",w)}},[a,t]);g.useEffect(()=>{try{return d.current=setTimeout(()=>{try{u(!0)}catch(w){console.error("Error setting visibility:",w)}},100),h.current=setTimeout(()=>{try{m()}catch(w){console.error("Error in auto dismiss:",w)}},6e3),()=>{try{d.current&&clearTimeout(d.current),h.current&&clearTimeout(h.current),f.current&&clearTimeout(f.current)}catch(w){console.error("Error clearing timers:",w)}}}catch(w){console.error("Error in popup effect:",w)}},[t,m]);const x=()=>{try{s&&(l(s),m())}catch(w){console.error("Failed to navigate:",w),m()}},p=()=>{try{switch(n){case"success":return i.jsx(hi,{className:"w-5 h-5 text-green-600"});case"error":return i.jsx(Vg,{className:"w-5 h-5 text-red-600"});case"warning":return i.jsx(Vg,{className:"w-5 h-5 text-yellow-600"});default:return i.jsx(KM,{className:"w-5 h-5 text-blue-600"})}}catch(w){return console.error("Error getting icon:",w),i.jsx(KM,{className:"w-5 h-5 text-blue-600"})}},v=()=>{try{switch(n){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}}catch(w){return console.error("Error getting bg color:",w),"bg-blue-50 border-blue-200"}};if(!t||!a)return null;try{return i.jsxs("div",{className:`fixed left-4 right-4 z-[9999] transition-all duration-300 ease-out ${c?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,style:{top:`${80+o*90}px`},children:[i.jsxs("div",{onClick:x,className:`${v()} border rounded-lg shadow-lg p-4 cursor-pointer active:scale-95 transition-transform`,children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 mt-0.5",children:p()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1 line-clamp-1",children:e}),i.jsx("p",{className:"text-xs text-gray-700 line-clamp-2",children:r})]}),i.jsx("button",{onClick:w=>{w.stopPropagation(),m()},className:"flex-shrink-0 p-1 hover:bg-white/50 rounded transition-colors",children:i.jsx(Qr,{className:"w-4 h-4 text-gray-600"})})]}),i.jsx("div",{className:"mt-3 h-1 bg-white/30 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gray-900/20 rounded-full",style:{animation:"shrink 6s linear forwards"}})})]}),i.jsx("style",{children:`
          @keyframes shrink {
            from { width: 100%; }
            to { width: 0%; }
          }
        `})]})}catch(w){return console.error("Error rendering popup:",w),null}}catch(l){return console.error("MobileNotificationPopup error:",l),null}},p1e=()=>{try{const t=g.useContext(wa),e=lH(),[r,n]=g.useState([]),s=g.useRef(new Set),a=g.useRef(0),o=g.useRef([]);if(!t)return null;const{notifications:l=[],markAsRead:c}=t;g.useEffect(()=>{try{if(!e){n([]);return}if(!Array.isArray(l))return;const d=l.filter(h=>h&&h.id&&typeof h.read=="boolean"&&!h.read&&!s.current.has(h.id));return d.length>0&&d.length<=2&&(o.current.forEach(h=>{try{clearTimeout(h)}catch{}}),o.current=[],d.slice(0,2).forEach((h,f)=>{try{const m=setTimeout(()=>{try{n(x=>{const p=Array.isArray(x)?x.slice(-1):[],v={notification:h,index:p.length};return h.id&&s.current.add(h.id),[...p,v]})}catch(x){console.error("Error setting active popup:",x)}},f*1e3);o.current.push(m)}catch(m){console.error("Error creating popup timeout:",m)}})),a.current=l.length,()=>{try{o.current.forEach(h=>{try{clearTimeout(h)}catch{}}),o.current=[]}catch(h){console.error("Error in cleanup:",h)}}}catch(d){console.error("Error in notification popup effect:",d)}},[l,e]);const u=g.useCallback(d=>{if(!(!d||!c))try{typeof c=="function"&&c(d),n(h=>{try{return Array.isArray(h)?h.filter(m=>m&&m.notification&&m.notification.id&&m.notification.id!==d).map((m,x)=>({...m,index:x})):[]}catch(f){return console.error("Error filtering popups:",f),[]}})}catch(h){console.error("Failed to dismiss notification:",h),n(f=>Array.isArray(f)?f.filter(m=>m&&m.notification&&m.notification.id!==d):[])}},[c]);if(g.useEffect(()=>{try{if(!Array.isArray(l))return;const d=setInterval(()=>{try{const h=new Set(l.filter(f=>f&&f.id).map(f=>f.id));s.current=new Set(Array.from(s.current).filter(f=>h.has(f)))}catch(h){console.error("Error in cleanup interval:",h)}},6e4);return()=>{try{clearInterval(d)}catch(h){console.error("Error clearing cleanup interval:",h)}}}catch(d){console.error("Error setting up cleanup interval:",d)}},[l]),!e||r.length===0)return null;try{return i.jsx(i.Fragment,{children:r.map(d=>{try{return!d||!d.notification||!d.notification.id?null:i.jsx(m1e,{id:d.notification.id,title:d.notification.title||"Notification",message:d.notification.message||"",type:d.notification.type||"info",actionUrl:d.notification.actionUrl,onDismiss:u,index:d.index||0},d.notification.id)}catch(h){return console.error("Error rendering popup:",h),null}})})}catch(d){return console.error("Error rendering notification popups:",d),null}}catch(t){return console.error("NotificationManager error:",t),null}},gj=rW,g1e=nW,vH=g.forwardRef(({className:t,...e},r)=>i.jsx(oj,{ref:r,className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));vH.displayName=oj.displayName;const xy=g.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(g1e,{children:[i.jsx(vH,{}),i.jsxs(lj,{ref:n,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,i.jsxs(sW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Qr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xy.displayName=lj.displayName;const yy=({className:t,...e})=>i.jsx("div",{className:He("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});yy.displayName="DialogHeader";const bH=({className:t,...e})=>i.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});bH.displayName="DialogFooter";const vy=g.forwardRef(({className:t,...e},r)=>i.jsx(cj,{ref:r,className:He("text-lg font-semibold leading-none tracking-tight",t),...e}));vy.displayName=cj.displayName;const by=g.forwardRef(({className:t,...e},r)=>i.jsx(uj,{ref:r,className:He("text-sm text-muted-foreground",t),...e}));by.displayName=uj.displayName;const x1e=({open:t,onOpenChange:e,onConfirm:r})=>{const[n,s]=g.useState(!1),a=async()=>{s(!0);try{await r()}finally{s(!1),e(!1)}};return i.jsx(gj,{open:t,onOpenChange:e,children:i.jsxs(xy,{className:"sm:max-w-sm border-2 border-blue-200 rounded-2xl",children:[i.jsxs(yy,{className:"text-center space-y-3",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 mx-auto bg-slate-100 rounded-full",children:i.jsx(wv,{className:"w-5 h-5 text-slate-600"})}),i.jsx(vy,{className:"text-lg font-medium text-slate-800",children:"Sign Out"}),i.jsx(by,{className:"text-sm text-slate-600 leading-relaxed",children:"You'll need to sign in again to access your account."})]}),i.jsxs(bH,{className:"flex gap-3 pt-4",children:[i.jsx(H,{variant:"outline",onClick:()=>e(!1),className:"flex-1 border-slate-200 text-slate-700 hover:bg-slate-50",disabled:n,children:"Cancel"}),i.jsx(H,{onClick:a,disabled:n,className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white",children:n?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing out..."]}):"Sign Out"})]})]})})},y1e=g.lazy(()=>Ju(()=>import("./MobileAIController-BUNRcO3-.js"),[]));function wt({children:t,showNavigation:e=!0}){const{user:r,signOut:n}=Rr(),{theme:s,setTheme:a}=a7(),o=il(),l=lH(),[c,u]=g.useState(!1),[d,h]=g.useState(!1);g.useState("");const[f,m]=g.useState(!1);g.useEffect(()=>{m(!0)},[]);const x=async()=>{await n(),u(!1)},p=()=>{h(!0)},v=j=>o.pathname===j,w=[{path:"/",label:"Home",icon:pu},{path:"/enquiries",label:"Browse",icon:Wl},{path:"/post-enquiry",label:"Post Enquiry",icon:Bg},{path:"/dashboard",label:"Dashboard",icon:bv},{path:"/profile",label:"Profile",icon:_i}],b=()=>i.jsx(W_,{open:c,onOpenChange:u,children:i.jsx($k,{side:"right",className:"w-[300px] sm:w-[340px] p-0 bg-white [&>button]:hidden",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"p-4 sm:p-5 border-b border-gray-200 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Menu"}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>u(!1),className:"h-8 w-8 p-0 rounded-lg hover:bg-gray-100 transition-colors",children:i.jsx(Qr,{className:"h-4 w-4 text-gray-600"})})]}),r?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-lg shadow-sm",children:[i.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center border border-white/20",children:i.jsx(_i,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-white truncate text-sm",children:r.displayName||r.email}),i.jsx("p",{className:"text-xs text-white/70 truncate",children:r.email})]})]}),i.jsx("div",{className:"flex items-center gap-1.5 flex-wrap",children:i.jsx(Te,{variant:"outline",className:`text-[10px] font-medium px-1.5 py-0.5 ${r.emailVerified?"border-green-300 bg-green-50 text-green-700":"border-gray-300"}`,children:r.emailVerified?" Verified":" Pending"})})]}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx(_i,{className:"h-6 w-6 text-gray-400"})}),i.jsx("p",{className:"text-gray-600 mb-3 text-sm",children:"Not signed in"}),i.jsx(Je,{to:"/signin",onClick:()=>u(!1),children:i.jsx(H,{className:"w-full bg-gray-800 hover:bg-gray-900 text-white font-medium text-sm h-9 rounded-lg",children:"Sign In"})})]})]}),i.jsx("nav",{className:"flex-1 overflow-y-auto p-4 sm:p-5",children:i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("p",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wider mb-3 px-1",children:"Navigation"}),w.map((j,N)=>{const E=j.icon;return i.jsx(U_.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.05},children:i.jsxs(Je,{to:j.path,onClick:()=>u(!1),className:`flex items-center space-x-3 p-3 rounded-lg transition-all duration-200 group ${v(j.path)?"bg-gray-800 text-white shadow-sm":"hover:bg-gray-50 text-gray-700"}`,children:[i.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-lg ${v(j.path)?"bg-white/10":"bg-gray-100 group-hover:bg-gray-200"} transition-colors`,children:i.jsx(E,{className:`h-4 w-4 ${v(j.path)?"text-white":"text-gray-600"}`,strokeWidth:2.5})}),i.jsx("span",{className:`font-medium text-sm flex-1 ${v(j.path)?"text-white":"text-gray-800"}`,children:j.label}),v(j.path)&&i.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})]})},j.path)})]})}),r&&i.jsxs("div",{className:"p-4 sm:p-5 border-t border-gray-200 bg-white space-y-2",children:[i.jsx("div",{className:"flex items-center justify-center pb-1",children:i.jsx(i3,{})}),f&&i.jsx(H,{variant:"outline",className:"w-full justify-start h-10 rounded-lg border-gray-300 hover:bg-gray-50 font-medium text-sm text-gray-700",onClick:()=>a(s==="dark"?"light":"dark"),children:s==="dark"?i.jsxs(i.Fragment,{children:[i.jsx(iue,{className:"h-4 w-4 mr-2.5 text-gray-600"}),"Light Mode"]}):i.jsxs(i.Fragment,{children:[i.jsx(Yce,{className:"h-4 w-4 mr-2.5 text-gray-600"}),"Dark Mode"]})}),i.jsx(Je,{to:"/settings",onClick:()=>u(!1),children:i.jsxs(H,{variant:"outline",className:"w-full justify-start h-10 rounded-lg border-gray-300 hover:bg-gray-50 font-medium text-sm text-gray-700",children:[i.jsx(jb,{className:"h-4 w-4 mr-2.5 text-gray-600"}),"Settings"]})}),i.jsxs(H,{variant:"outline",onClick:p,className:"w-full justify-start h-10 rounded-lg border-red-200 hover:bg-red-50 text-red-600 hover:text-red-700 font-medium text-sm",children:[i.jsx(wv,{className:"h-4 w-4 mr-2.5"}),"Sign Out"]})]})]})})});return i.jsxs("div",{className:"flex flex-col",children:[i.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsx("div",{className:"container mx-auto px-3 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex h-14 sm:h-20 items-center justify-between min-w-0",children:[i.jsxs(K_,{children:[i.jsx(Y_,{asChild:!0,children:i.jsxs("button",{className:"flex items-center space-x-2 sm:space-x-3 flex-shrink-0 hover:opacity-80 transition-opacity focus:outline-none focus:ring-0 active:outline-none",style:{WebkitTapHighlightColor:"transparent"},children:[i.jsx("div",{className:"hidden sm:flex w-7 h-7 sm:w-10 sm:h-10 bg-gray-800 rounded-lg sm:rounded-xl items-center justify-center shadow-lg"}),i.jsxs("span",{className:"text-lg sm:text-2xl font-bold text-foreground hidden sm:block",children:["Enqir",i.jsx("span",{className:"text-sm",children:".in"})]})]})}),i.jsxs(Bb,{align:"start",className:"w-56",children:[i.jsx(Zs,{asChild:!0,children:i.jsxs(Je,{to:"/",className:"flex items-center",children:[i.jsx(pu,{className:"h-4 w-4 mr-2"}),"Home"]})}),i.jsx(Zs,{asChild:!0,children:i.jsxs(Je,{to:"/enquiries",className:"flex items-center",children:[i.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Browse Enquiries"]})}),i.jsx(Zs,{asChild:!0,children:i.jsxs(Je,{to:"/post-enquiry",className:"flex items-center",children:[i.jsx(Bg,{className:"h-4 w-4 mr-2"}),"Post Enquiry"]})}),r&&i.jsxs(i.Fragment,{children:[i.jsx(Zs,{asChild:!0,children:i.jsxs(Je,{to:"/dashboard",className:"flex items-center",children:[i.jsx(bv,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),i.jsx(Zs,{asChild:!0,children:i.jsxs(Je,{to:"/profile",className:"flex items-center",children:[i.jsx(_i,{className:"h-4 w-4 mr-2"}),"Profile"]})}),i.jsx(Zs,{asChild:!0,children:i.jsxs(Je,{to:"/settings",className:"flex items-center",children:[i.jsx(jb,{className:"h-4 w-4 mr-2"}),"Settings"]})}),i.jsx(oH,{}),i.jsxs(Zs,{onClick:p,className:"text-red-600 focus:text-red-700",children:[i.jsx(wv,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]}),!r&&i.jsx(Zs,{asChild:!0,children:i.jsxs(Je,{to:"/signin",className:"flex items-center",children:[i.jsx(_i,{className:"h-4 w-4 mr-2"}),"Sign In"]})})]})]}),e&&!l&&i.jsx("nav",{className:"hidden md:flex items-center gap-2",children:w.map(j=>{const N=j.icon;return i.jsx(U_.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:i.jsxs(Je,{to:j.path,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-300 min-h-[44px] ${v(j.path)?"bg-gradient-to-r from-pal-blue to-blue-600 text-white shadow-md":"text-gray-700 hover:text-gray-900 hover:bg-gray-100 hover:shadow-sm"}`,children:[i.jsx(N,{className:"h-4 w-4"}),i.jsx("span",{children:j.label})]})},j.path)})}),i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-3 flex-shrink-0",children:[r?i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[o.pathname!=="/"&&i.jsx(Je,{to:"/",children:i.jsxs(H,{variant:"ghost",size:"sm",className:"flex h-7 sm:h-9 px-2 sm:px-3",children:[i.jsx(pu,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:"Home"})]})}),i.jsx(i3,{}),i.jsx(Je,{to:"/dashboard",children:i.jsxs(H,{variant:"ghost",size:"sm",className:"flex h-7 sm:h-9 px-2 sm:px-3",children:[i.jsx(bv,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:"Dashboard"})]})}),i.jsx(Je,{to:"/profile",children:i.jsxs(H,{variant:"ghost",size:"sm",className:"flex h-7 sm:h-9 px-2 sm:px-3",children:[i.jsx(_i,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:"Profile"})]})}),i.jsxs(H,{variant:"ghost",size:"sm",onClick:p,className:"flex h-7 sm:h-9 px-2 sm:px-3",children:[i.jsx(wv,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:"Sign Out"})]})]}):i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-3",children:[o.pathname!=="/"&&i.jsx(Je,{to:"/",children:i.jsxs(H,{variant:"ghost",size:"sm",className:"flex h-7 sm:h-9 px-2 sm:px-3",children:[i.jsx(pu,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:"Home"})]})}),i.jsx(Je,{to:"/signin",children:i.jsx(H,{variant:"outline",size:"sm",className:"hidden sm:flex",children:"Sign In"})}),i.jsx(Je,{to:"/signin",children:i.jsx(H,{size:"sm",className:"hidden sm:flex",children:"Get Started"})}),i.jsx(Je,{to:"/signin",className:"sm:hidden",children:i.jsx(H,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-2 h-7",children:"Get Started"})})]}),e&&i.jsx("div",{className:"lg:hidden",children:i.jsxs(W_,{open:c,onOpenChange:u,children:[i.jsx(iW,{asChild:!0,children:i.jsx(H,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-gray-800/10 rounded-lg transition-all duration-200 active:scale-95",onClick:()=>u(!0),children:i.jsx(Hce,{className:"h-5 w-5 text-gray-800 font-bold",strokeWidth:2.5})})}),i.jsx(b,{})]})})]})]})})}),i.jsx("main",{className:`flex-1 ${l&&e?"pb-24":""}`,children:i.jsx(g.Suspense,{fallback:i.jsx("div",{className:"min-h-screen",children:t}),children:i.jsx(y1e,{children:t})})}),l&&e&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t border-border/50",children:i.jsxs("div",{className:"flex items-center justify-around py-2 px-1",children:[w.slice(0,4).map(j=>{const N=j.icon;return i.jsxs(Je,{to:j.path,className:`flex flex-col items-center space-y-1 p-2 rounded-lg transition-colors min-w-0 flex-1 ${v(j.path)?"text-pal-blue bg-pal-blue/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[i.jsx(N,{className:"h-5 w-5"}),i.jsx("span",{className:"text-[10px] font-medium truncate leading-tight",children:j.label})]},j.path)}),i.jsxs(Je,{to:"/profile",className:`flex flex-col items-center space-y-1 p-2 rounded-lg transition-colors min-w-0 flex-1 ${v("/profile")?"text-pal-blue bg-pal-blue/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[i.jsx(_i,{className:"h-5 w-5"}),i.jsx("span",{className:"text-[10px] font-medium truncate leading-tight",children:"Profile"})]})]})}),i.jsx(Wbe,{}),i.jsx(p1e,{}),(()=>{try{return i.jsx(Ybe,{})}catch(j){return console.error("AI Chatbot failed to load:",j),null}})(),i.jsx(x1e,{open:d,onOpenChange:h,onConfirm:x})]})}const v1e="/assets/new-logo-Dc10frSm.png",wy=({deadline:t,className:e="",showIcon:r=!0,variant:n="default"})=>{const[s,a]=g.useState({days:0,hours:0,minutes:0,seconds:0,total:0}),[o,l]=g.useState(!1);g.useEffect(()=>{const m=()=>{const v=new Date;let w;if(t instanceof Date)w=t;else if(t&&typeof t.toDate=="function")w=t.toDate();else if(t&&typeof t.getTime=="function")w=t;else if(typeof t=="string"||typeof t=="number")w=new Date(t);else return l(!0),{days:0,hours:0,minutes:0,seconds:0,total:0};const b=w.getTime()-v.getTime();if(b<=0)return l(!0),{days:0,hours:0,minutes:0,seconds:0,total:0};const j=Math.floor(b/(1e3*60*60*24)),N=Math.floor(b%(1e3*60*60*24)/(1e3*60*60)),E=Math.floor(b%(1e3*60*60)/(1e3*60)),C=Math.floor(b%(1e3*60)/1e3);return{days:j,hours:N,minutes:E,seconds:C,total:b}},x=()=>{a(m())};x();const p=setInterval(x,1e3);return()=>clearInterval(p)},[t]);const c=()=>{if(o)return"expired";const m=s.total/(1e3*60*60);return m<1?"critical":m<6?"urgent":m<24?"high":m<72?"medium":"low"},u=m=>{switch(m){case"expired":return{bg:"bg-red-100 text-red-800 border-red-200",icon:i.jsx(It,{className:"h-3 w-3"}),text:"Expired"};case"critical":return{bg:"bg-red-100 text-red-800 border-red-200",icon:i.jsx(df,{className:"h-3 w-3"}),text:"Critical"};case"urgent":return{bg:"bg-orange-100 text-orange-800 border-orange-200",icon:i.jsx(df,{className:"h-3 w-3"}),text:"Urgent"};case"high":return{bg:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:i.jsx(jn,{className:"h-3 w-3"}),text:"High"};case"medium":return{bg:"bg-blue-100 text-blue-800 border-blue-200",icon:i.jsx(jn,{className:"h-3 w-3"}),text:"Medium"};default:return{bg:"bg-green-100 text-green-800 border-green-200",icon:i.jsx(jn,{className:"h-3 w-3"}),text:"Low"}}},d=()=>o?"Expired":s.days>0?`${s.days}d ${s.hours}h`:s.hours>0?`${s.hours}h ${s.minutes}m`:s.minutes>0?`${s.minutes}m ${s.seconds}s`:`${s.seconds}s`,h=c(),f=u(h);return i.jsxs("div",{className:`flex items-center gap-1 ${e}`,children:[r&&i.jsx("div",{className:"flex items-center",children:f.icon}),i.jsx(Te,{variant:"outline",className:`${f.bg} text-xs font-medium px-2 py-1 ${h==="critical"||h==="urgent"?"animate-pulse":""}`,children:d()})]})},b1e=()=>{const t=[{icon:Cr,title:"Trust Badge (Optional)",description:"Get a trust badge by sharing your ID - completely optional"},{icon:Wl,title:"AI-Powered Discovery",description:"Smart AI helps you find exactly what you need, instantly"},{icon:$C,title:"Simple & Safe",description:"Easy to use, safe to connect with others"}],e=[{name:"Household & Personal",icon:pu,color:"from-blue-50 to-blue-100/50"},{name:"Community Help",icon:Uce,color:"from-purple-50 to-purple-100/50"},{name:"Services & Skills",icon:Rce,color:"from-emerald-50 to-emerald-100/50"},{name:"Collectibles & Hobbies",icon:Qce,color:"from-amber-50 to-amber-100/50"},{name:"Transportation",icon:Oce,color:"from-slate-50 to-slate-100/50"},{name:"Home & Garden",icon:nue,color:"from-green-50 to-green-100/50"}],{user:r,signOut:n}=Rr(),s=g.useContext(wa),a=(s==null?void 0:s.createNotification)||(async()=>{console.warn("NotificationContext not available")}),o=Jr(),[l,c]=g.useState({enquiries:0,responses:0,views:0,lastActivity:null}),[u,d]=g.useState([]),[h,f]=g.useState([]),[m,x]=g.useState([]),[p,v]=g.useState([]),[w,b]=g.useState([]),[j,N]=g.useState(!1),[E,C]=g.useState("");g.useState([]);const[_,S]=g.useState(!1),[A,T]=g.useState(!1),[I,P]=g.useState([]),R=g.useRef(null),[M,q]=g.useState({top:0,left:0,width:0}),[W,B]=g.useState([]),D={car:"automobile",vehicle:"automobile",auto:"automobile",bike:"automobile",motorcycle:"automobile",house:"real-estate",home:"real-estate",property:"real-estate",apartment:"real-estate",job:"jobs",work:"jobs",employment:"jobs",career:"jobs",phone:"electronics-gadgets",mobile:"electronics-gadgets",laptop:"electronics-gadgets",computer:"electronics-gadgets",gadget:"electronics-gadgets",electronic:"electronics-gadgets",clothes:"fashion-apparel",fashion:"fashion-apparel",dress:"fashion-apparel",shirt:"fashion-apparel",furniture:"home-furniture",sofa:"home-furniture",chair:"home-furniture",table:"home-furniture",service:"professional-services",help:"professional-services",repair:"professional-services",fix:"professional-services",food:"food-beverage",restaurant:"food-beverage",catering:"food-beverage",travel:"travel-tourism",tourism:"travel-tourism",vacation:"travel-tourism",hotel:"travel-tourism",education:"education-training",training:"education-training",course:"education-training",learn:"education-training",tech:"technology",technology:"technology",software:"technology",app:"technology",gaming:"gaming-recreation",game:"gaming-recreation",entertainment:"entertainment-media",media:"entertainment-media",wedding:"wedding-events",event:"wedding-events",party:"wedding-events",childcare:"childcare-family",baby:"childcare-family",kids:"childcare-family",construction:"construction-renovation",renovation:"construction-renovation",building:"construction-renovation",legal:"legal-financial",lawyer:"legal-financial",finance:"legal-financial",money:"legal-financial",marketing:"marketing-advertising",advertising:"marketing-advertising",promotion:"marketing-advertising",insurance:"insurance-services",security:"security-safety",safety:"security-safety",transport:"transportation-logistics",logistics:"transportation-logistics",shipping:"transportation-logistics"},V=()=>{if(!E.trim())return;S(!0);const F=E.toLowerCase().trim(),z=[E,...I.filter(ne=>ne!==E)].slice(0,5);P(z),localStorage.setItem("recentSearches",JSON.stringify(z));const ie=D[F];o(ie?`/enquiries?category=${ie}`:`/enquiries?search=${encodeURIComponent(E)}`),setTimeout(()=>{C(""),S(!1),T(!1)},100)},K=F=>{F.key==="Enter"&&V()};g.useEffect(()=>{const F=localStorage.getItem("recentSearches");if(F)try{P(JSON.parse(F))}catch{console.log("Error loading recent searches")}},[]);const G=["car","house","job","phone","furniture","services","electronics","fashion"],Q=()=>E.trim()?[...I,...G].filter(z=>z.toLowerCase().includes(E.toLowerCase())).slice(0,6):[...I,...G].slice(0,6),ae=()=>{if(R.current){const F=R.current.getBoundingClientRect();q({top:F.bottom+window.scrollY+8,left:F.left+window.scrollX,width:F.width})}},U=w;g.useEffect(()=>{if(!(r!=null&&r.uid))return;(async()=>{var z;try{const ie=await Vt(ke(oe,"profiles",r.uid));if(ie.exists()){const ne=((z=ie.data())==null?void 0:z.savedEnquiries)||[];B(ne)}}catch(ie){console.error("Error loading saved enquiries:",ie)}})()},[r==null?void 0:r.uid]);const Y=async(F,z)=>{if(z.preventDefault(),z.stopPropagation(),!r){ce({title:"Sign In Required",description:"Please sign in to save enquiries.",variant:"destructive"});return}try{const ie=ke(oe,"profiles",r.uid),ne=await Vt(ie);W.includes(F)?(B(W.filter(he=>he!==F)),ne.exists()?await dt(ie,{savedEnquiries:AC(F)}):await bn(ie,{savedEnquiries:[]})):(B([...W,F]),ne.exists()?await dt(ie,{savedEnquiries:ry(F)}):await bn(ie,{savedEnquiries:[F]}))}catch(ie){console.error("Error updating save:",ie),ce({title:"Error",description:"Failed to save enquiry. Please try again.",variant:"destructive"})}},ue=async(F,z)=>{z.preventDefault(),z.stopPropagation();const ie=`${window.location.origin}/respond/${F.id}`,ne=`Check out this enquiry: ${F.title}`;try{const he=ke(oe,"enquiries",F.id);await dt(he,{shares:(F.shares||0)+1})}catch(he){console.error("Error updating share count:",he)}if(navigator.share)try{await navigator.share({title:F.title,text:ne,url:ie})}catch(he){he.name!=="AbortError"&&(console.error("Error sharing:",he),Z(ie,ne))}else Z(ie,ne)},Z=(F,z)=>{navigator.clipboard.writeText(`${z}
${F}`).then(()=>{}).catch(()=>{const ie=document.createElement("textarea");ie.value=`${z}
${F}`,document.body.appendChild(ie),ie.select(),document.execCommand("copy"),document.body.removeChild(ie)})};function Pe(F){return F.length<=3?F:F.slice().sort(()=>Math.random()-.5).slice(0,3)}function te(F){if(!F.deadline)return!1;const z=F.deadline.toDate?F.deadline.toDate():new Date(F.deadline);return new Date>z}g.useEffect(()=>{const F=bt(Ze(oe,"enquiries"),Pt("status","==","live"),ln("createdAt","desc")),z=Fr(F,ie=>{const ne=[];ie.forEach(X=>{const le=X.data();ne.push({id:X.id,...le})});const he=ne.filter(X=>!te(X)),ve=ne.filter(X=>te(X));he.sort((X,le)=>{var Xe,Tt;const de=(Xe=X.createdAt)!=null&&Xe.toDate?X.createdAt.toDate():new Date(X.createdAt);return((Tt=le.createdAt)!=null&&Tt.toDate?le.createdAt.toDate():new Date(le.createdAt)).getTime()-de.getTime()}),ve.sort((X,le)=>{var Xe,Tt;const de=(Xe=X.createdAt)!=null&&Xe.toDate?X.createdAt.toDate():new Date(X.createdAt);return((Tt=le.createdAt)!=null&&Tt.toDate?le.createdAt.toDate():new Date(le.createdAt)).getTime()-de.getTime()}),v([...he,...ve]);let ge=[];if(he.length>=3)ge=he.slice(0,3);else{const X=3-he.length;ge=[...he,...ve.slice(0,X)]}x(ge),b(ge)},ie=>{console.error("Error loading enquiries:",ie),v([]),x([]),b([])});return()=>z()},[]),g.useEffect(()=>{if(m.length<=1){b(m);return}const F=setInterval(()=>{b(Pe(m))},6e4);return()=>clearInterval(F)},[m]),g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!r)return;const F=bt(Ze(oe,"enquiries"),Pt("userId","==",r.uid),Ru(10));(async()=>{try{const ie=await Bt(F),ne=[];ie.forEach(ve=>{const ge=ve.data();ne.push({id:ve.id,title:ge.title,status:ge.status,createdAt:ge.createdAt,views:ge.views||0,responses:ge.responses||0})});const he=ne.sort((ve,ge)=>{var de,Ge;const X=(de=ve.createdAt)!=null&&de.toDate?ve.createdAt.toDate():new Date(ve.createdAt);return((Ge=ge.createdAt)!=null&&Ge.toDate?ge.createdAt.toDate():new Date(ge.createdAt)).getTime()-X.getTime()}).slice(0,3);if(d(he),c(ve=>({...ve,enquiries:he.length})),he.length>0){const ve=bt(Ze(oe,"submissions"),Pt("enquiryId","in",he.map(de=>de.id)),Ru(10)),ge=await Bt(ve),X=[];ge.forEach(de=>{const Ge=de.data();X.push({id:de.id,enquiryTitle:Ge.enquiryTitle,message:Ge.message,price:Ge.price,status:Ge.status,createdAt:Ge.createdAt})});const le=X.sort((de,Ge)=>{var ht,Ct;const Xe=(ht=de.createdAt)!=null&&ht.toDate?de.createdAt.toDate():new Date(de.createdAt);return((Ct=Ge.createdAt)!=null&&Ct.toDate?Ge.createdAt.toDate():new Date(Ge.createdAt)).getTime()-Xe.getTime()}).slice(0,3);f(le),c(de=>({...de,responses:le.length}))}}catch(ie){console.error("Error loading user data:",ie),d([]),f([]),c(ne=>({...ne,enquiries:0,responses:0}))}})()},[r,u.length]),g.useEffect(()=>{if(!r)return;let F=()=>{};if(u.length>0&&Array.isArray(u))try{const ie=u.slice(0,10).map(ne=>ne==null?void 0:ne.id).filter(Boolean);if(ie.length>0){const ne=bt(Ze(oe,"sellerSubmissions"),Pt("enquiryId","in",ie));F=Fr(ne,he=>{try{he.docChanges().forEach(ve=>{try{if(ve.type==="added"){const ge=ve.doc.data();if(!ge||!ge.enquiryId)return;const X=u.find(le=>(le==null?void 0:le.id)===ge.enquiryId);X&&X.id&&(ge.status==="approved"?a("new_response",{title:" New Response to Your Enquiry!",message:`"${ge.sellerName||"A seller"}" responded to "${X.title}"`,priority:"high",actionUrl:`/enquiry/${X.id}/responses-page`,actionText:"View Response"}):ge.status==="pending"&&a("new_response",{title:" New Response Submitted!",message:`"${ge.sellerName||"A seller"}" submitted a response to "${X.title}" (under review)`,priority:"medium",actionUrl:`/enquiry/${X.id}/responses-page`,actionText:"View Response"}))}}catch(ge){console.error("Error processing response change:",ge)}})}catch(ve){console.error("Error processing snapshot:",ve)}},he=>{var ve,ge;(ve=he==null?void 0:he.message)!=null&&ve.includes("CORS")||(ge=he==null?void 0:he.message)!=null&&ge.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in responses listener. Real-time updates may be limited."):console.error("Firestore responses listener error:",he)})}}catch(ie){console.error("Error setting up responses listener:",ie)}let z=()=>{};try{const ie=bt(Ze(oe,"chats"),Pt("participants","array-contains",r.uid));z=Fr(ie,ne=>{try{ne.docChanges().forEach(he=>{try{if(he.type==="modified"){const ve=he.doc.data();if(!ve||!ve.lastMessage||!ve.enquiryId)return;const ge=ve.lastMessage;ge&&ge.senderId!==r.uid&&ve.enquiryId&&a("new_chat",{title:" New Message",message:`${ge.senderName||"Someone"}: ${(ge.text||"").substring(0,50)}${(ge.text||"").length>50?"...":""}`,priority:"medium",actionUrl:`/enquiry/${ve.enquiryId}/responses`,actionText:"Open Chat"})}}catch(ve){console.error("Error processing chat change:",ve)}})}catch(he){console.error("Error processing chat snapshot:",he)}},ne=>{var he,ve;(he=ne==null?void 0:ne.message)!=null&&he.includes("CORS")||(ve=ne==null?void 0:ne.message)!=null&&ve.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in chat listener. Real-time updates may be limited."):console.error("Firestore chat listener error:",ne)})}catch(ie){console.error("Error setting up chat listener:",ie)}return()=>{try{F&&typeof F=="function"&&F(),z&&typeof z=="function"&&z()}catch(ie){console.error("Error cleaning up listeners:",ie)}}},[r,u,a]);const ye=F=>new Date(F).toLocaleDateString("en-US",{month:"short",day:"numeric"});return i.jsxs(wt,{showNavigation:!1,children:[i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-x-hidden overflow-y-auto",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-pal-blue/5 rounded-full animate-float"}),i.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 bg-pal-blue/10 rounded-full animate-float",style:{animationDelay:"2s"}}),i.jsx("div",{className:"absolute bottom-32 left-1/4 w-16 h-16 bg-pal-blue/5 rounded-full animate-float",style:{animationDelay:"4s"}})]}),i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[i.jsx("div",{className:"absolute inset-0 opacity-20 sm:opacity-25",children:i.jsxs("svg",{className:"w-full h-full min-w-full min-h-full",viewBox:"0 0 1200 800",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[i.jsxs("g",{transform:"translate(200, 300)",children:[i.jsx("circle",{cx:"0",cy:"-20",r:"15",fill:"black",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-12",y:"-5",width:"24",height:"30",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-8",y:"5",width:"16",height:"20",fill:"black"}),i.jsx("circle",{cx:"-5",cy:"-15",r:"2",fill:"white"}),i.jsx("circle",{cx:"5",cy:"-15",r:"2",fill:"white"}),i.jsx("path",{d:"M-3 -10 Q0 -5 3 -10",stroke:"black",strokeWidth:"1.5",fill:"none"}),i.jsx("rect",{x:"-15",y:"25",width:"6",height:"20",fill:"black"}),i.jsx("rect",{x:"9",y:"25",width:"6",height:"20",fill:"black"}),i.jsx("rect",{x:"-18",y:"45",width:"12",height:"4",fill:"black"}),i.jsx("rect",{x:"6",y:"45",width:"12",height:"4",fill:"black"}),i.jsx("text",{x:"0",y:"70",textAnchor:"middle",fontSize:"12",fill:"black",fontWeight:"bold",children:"BUYER"})]}),i.jsxs("g",{transform:"translate(800, 280)",children:[i.jsx("circle",{cx:"0",cy:"-20",r:"15",fill:"black",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-12",y:"-5",width:"24",height:"30",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-8",y:"5",width:"16",height:"20",fill:"black"}),i.jsx("circle",{cx:"-5",cy:"-15",r:"2",fill:"white"}),i.jsx("circle",{cx:"5",cy:"-15",r:"2",fill:"white"}),i.jsx("path",{d:"M-3 -10 Q0 -5 3 -10",stroke:"black",strokeWidth:"1.5",fill:"none"}),i.jsx("rect",{x:"-15",y:"25",width:"6",height:"20",fill:"black"}),i.jsx("rect",{x:"9",y:"25",width:"6",height:"20",fill:"black"}),i.jsx("rect",{x:"-18",y:"45",width:"12",height:"4",fill:"black"}),i.jsx("rect",{x:"6",y:"45",width:"12",height:"4",fill:"black"}),i.jsx("text",{x:"0",y:"70",textAnchor:"middle",fontSize:"12",fill:"black",fontWeight:"bold",children:"SELLER"})]}),i.jsxs("g",{transform:"translate(300, 400)",children:[i.jsx("rect",{x:"-8",y:"-15",width:"16",height:"30",fill:"white",stroke:"black",strokeWidth:"2",rx:"2"}),i.jsx("rect",{x:"-6",y:"-12",width:"12",height:"20",fill:"black"}),i.jsx("circle",{cx:"0",cy:"5",r:"2",fill:"white"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:""})]}),i.jsxs("g",{transform:"translate(500, 420)",children:[i.jsx("ellipse",{cx:"0",cy:"0",rx:"25",ry:"8",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-20",y:"-12",width:"15",height:"12",fill:"white",stroke:"black",strokeWidth:"1"}),i.jsx("rect",{x:"5",y:"-12",width:"15",height:"12",fill:"white",stroke:"black",strokeWidth:"1"}),i.jsx("circle",{cx:"-15",cy:"8",r:"4",fill:"black"}),i.jsx("circle",{cx:"15",cy:"8",r:"4",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:""})]}),i.jsxs("g",{transform:"translate(700, 400)",children:[i.jsx("rect",{x:"-15",y:"-10",width:"30",height:"20",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("polygon",{points:"-20,-10 0,-25 20,-10",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-8",y:"0",width:"6",height:"10",fill:"black"}),i.jsx("rect",{x:"2",y:"-5",width:"8",height:"6",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:""})]}),i.jsx("path",{d:"M215 300 Q400 200 300 400",stroke:"black",strokeWidth:"3",fill:"none",markerEnd:"url(#arrowhead)"}),i.jsx("path",{d:"M300 400 Q500 350 500 420",stroke:"black",strokeWidth:"3",fill:"none",markerEnd:"url(#arrowhead)"}),i.jsx("path",{d:"M500 420 Q700 380 700 400",stroke:"black",strokeWidth:"3",fill:"none",markerEnd:"url(#arrowhead)"}),i.jsx("path",{d:"M700 400 Q900 300 800 280",stroke:"black",strokeWidth:"3",fill:"none",markerEnd:"url(#arrowhead)"}),i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"black"})})}),i.jsxs("g",{transform:"translate(400, 200)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"20",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("text",{x:"0",y:"5",textAnchor:"middle",fontSize:"16",fill:"black",fontWeight:"bold",children:"$"}),i.jsx("text",{x:"0",y:"35",textAnchor:"middle",fontSize:"10",fill:"black",children:"MONEY"})]}),i.jsxs("g",{transform:"translate(600, 200)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"20",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("text",{x:"0",y:"5",textAnchor:"middle",fontSize:"16",fill:"black",fontWeight:"bold",children:""}),i.jsx("text",{x:"0",y:"35",textAnchor:"middle",fontSize:"10",fill:"black",children:"DEAL"})]}),i.jsxs("g",{transform:"translate(200, 200)",children:[i.jsx("ellipse",{cx:"0",cy:"0",rx:"40",ry:"25",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("text",{x:"0",y:"5",textAnchor:"middle",fontSize:"10",fill:"black",children:"I need this!"}),i.jsx("path",{d:"M-10 25 L-5 35 L0 25",stroke:"black",strokeWidth:"2",fill:"none"})]}),i.jsxs("g",{transform:"translate(800, 180)",children:[i.jsx("ellipse",{cx:"0",cy:"0",rx:"40",ry:"25",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("text",{x:"0",y:"5",textAnchor:"middle",fontSize:"10",fill:"black",children:"I have this!"}),i.jsx("path",{d:"M10 25 L5 35 L0 25",stroke:"black",strokeWidth:"2",fill:"none"})]}),i.jsxs("g",{transform:"translate(500, 150)",children:[i.jsx("path",{d:"M0,6 C0,2 4,0 6,2 C8,0 12,2 12,6 C12,10 6,16 6,16 C6,16 0,10 0,6 Z",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:"LOVE"})]}),i.jsxs("g",{transform:"translate(100, 100)",children:[i.jsx("polygon",{points:"0,-15 4,-4 15,-4 7,3 11,14 0,8 -11,14 -7,3 -15,-4 -4,-4",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:"STAR"})]}),i.jsxs("g",{transform:"translate(1100, 100)",children:[i.jsx("polygon",{points:"0,-15 4,-4 15,-4 7,3 11,14 0,8 -11,14 -7,3 -15,-4 -4,-4",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:"STAR"})]}),i.jsxs("g",{transform:"translate(200, 200)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"15",fill:"#FFE4B5",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"-5",cy:"-3",r:"3",fill:"black"}),i.jsx("circle",{cx:"5",cy:"-3",r:"3",fill:"black"}),i.jsx("circle",{cx:"-4",cy:"-2",r:"1",fill:"white"}),i.jsx("circle",{cx:"6",cy:"-2",r:"1",fill:"white"}),i.jsx("path",{d:"M-3 5 Q0 8 3 5",stroke:"black",strokeWidth:"2",fill:"none"}),i.jsx("text",{x:"0",y:"30",textAnchor:"middle",fontSize:"10",fill:"black",fontWeight:"bold",children:" WOW!"})]}),i.jsxs("g",{transform:"translate(500, 250)",children:[i.jsx("rect",{x:"-30",y:"-20",width:"60",height:"40",fill:"#FFB6C1",stroke:"black",strokeWidth:"2",rx:"8"}),i.jsx("text",{x:"0",y:"-5",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:" ENQUIRY"}),i.jsx("text",{x:"0",y:"10",textAnchor:"middle",fontSize:"7",fill:"black",children:"POST HERE!"}),i.jsx("circle",{cx:"0",cy:"15",r:"4",fill:"black"}),i.jsx("circle",{cx:"-2",cy:"13",r:"1",fill:"white"}),i.jsx("circle",{cx:"2",cy:"13",r:"1",fill:"white"}),i.jsx("path",{d:"M-1 16 Q0 18 1 16",stroke:"white",strokeWidth:"1",fill:"none"}),i.jsx("polygon",{points:"0,-25 8,-15 -8,-15",fill:"#FF69B4",stroke:"black",strokeWidth:"1"}),i.jsx("circle",{cx:"0",cy:"-20",r:"1",fill:"white"})]}),i.jsxs("g",{transform:"translate(700, 200)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"18",fill:"#E6E6FA",stroke:"black",strokeWidth:"2"}),i.jsx("path",{d:"M-10,-6 Q-5,-8 0,-6 Q5,-4 10,-6 Q12,-2 10,2 Q8,6 0,6 Q-8,6 -10,2 Q-12,-2 -10,-6",fill:"black"}),i.jsx("circle",{cx:"-5",cy:"-2",r:"2",fill:"white"}),i.jsx("circle",{cx:"5",cy:"-2",r:"2",fill:"white"}),i.jsx("path",{d:"M-3 2 Q0 4 3 2",stroke:"white",strokeWidth:"1",fill:"none"}),i.jsx("text",{x:"0",y:"30",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:" SUPER AI"})]}),i.jsxs("g",{transform:"translate(700, 300)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"20",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"0",cy:"0",r:"15",fill:"#FFD700",opacity:"0.3"}),i.jsx("circle",{cx:"0",cy:"0",r:"10",fill:"#FFD700",opacity:"0.5"}),i.jsx("circle",{cx:"0",cy:"0",r:"5",fill:"#FFD700"}),i.jsx("text",{x:"0",y:"35",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:" MAGIC MATCH"})]}),i.jsxs("g",{transform:"translate(500, 400)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"12",fill:"#FFE4B5",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"-3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"-2",cy:"-2",r:"0.5",fill:"white"}),i.jsx("circle",{cx:"4",cy:"-2",r:"0.5",fill:"white"}),i.jsx("path",{d:"M-2 3 Q0 5 2 3",stroke:"black",strokeWidth:"1",fill:"none"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:" SELLER"})]}),i.jsxs("g",{transform:"translate(700, 400)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"12",fill:"#FFE4B5",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"-3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"-2",cy:"-2",r:"0.5",fill:"white"}),i.jsx("circle",{cx:"4",cy:"-2",r:"0.5",fill:"white"}),i.jsx("path",{d:"M-2 3 Q0 5 2 3",stroke:"black",strokeWidth:"1",fill:"none"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:" SELLER"})]}),i.jsxs("g",{transform:"translate(900, 400)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"12",fill:"#FFE4B5",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"-3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"-2",cy:"-2",r:"0.5",fill:"white"}),i.jsx("circle",{cx:"4",cy:"-2",r:"0.5",fill:"white"}),i.jsx("path",{d:"M-2 3 Q0 5 2 3",stroke:"black",strokeWidth:"1",fill:"none"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:" SELLER"})]}),i.jsxs("g",{transform:"translate(600, 520)",children:[i.jsx("rect",{x:"-20",y:"-15",width:"40",height:"30",fill:"white",stroke:"black",strokeWidth:"2",rx:"5"}),i.jsx("rect",{x:"-15",y:"-10",width:"30",height:"20",fill:"#FF69B4"}),i.jsx("circle",{cx:"0",cy:"0",r:"3",fill:"white"}),i.jsx("text",{x:"0",y:"30",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:" AMAZING ITEM"})]}),i.jsxs("g",{transform:"translate(350, 570)",children:[i.jsx("rect",{x:"-25",y:"-20",width:"50",height:"40",fill:"white",stroke:"black",strokeWidth:"2",rx:"8"}),i.jsx("text",{x:"0",y:"-5",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:" FUN CHAT"}),i.jsx("circle",{cx:"-8",cy:"5",r:"2",fill:"black"}),i.jsx("circle",{cx:"0",cy:"5",r:"2",fill:"black"}),i.jsx("circle",{cx:"8",cy:"5",r:"2",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"7",fill:"black",children:"Let's talk! "})]}),i.jsxs("g",{transform:"translate(550, 650)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"25",fill:"white",stroke:"black",strokeWidth:"3"}),i.jsx("text",{x:"0",y:"8",textAnchor:"middle",fontSize:"20",fill:"black",fontWeight:"bold",children:""}),i.jsx("text",{x:"0",y:"35",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:"EPIC DEAL!"})]}),i.jsxs("g",{transform:"translate(300, 650)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"18",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("text",{x:"0",y:"8",textAnchor:"middle",fontSize:"16",fill:"black",fontWeight:"bold",children:""}),i.jsx("text",{x:"0",y:"30",textAnchor:"middle",fontSize:"8",fill:"black",children:"MONEY RAIN!"})]}),i.jsxs("g",{transform:"translate(800, 650)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"18",fill:"#FFE4B5",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"-5",cy:"-3",r:"3",fill:"black"}),i.jsx("circle",{cx:"5",cy:"-3",r:"3",fill:"black"}),i.jsx("circle",{cx:"-4",cy:"-2",r:"1",fill:"white"}),i.jsx("circle",{cx:"6",cy:"-2",r:"1",fill:"white"}),i.jsx("path",{d:"M-6 3 Q0 8 6 3",stroke:"black",strokeWidth:"2",fill:"none"}),i.jsx("text",{x:"0",y:"30",textAnchor:"middle",fontSize:"8",fill:"black",children:" SUPER HAPPY!"})]})]})}),i.jsx("div",{className:"absolute inset-0 hero-gradient"})]}),i.jsxs("div",{className:"relative z-10 text-center px-3 sm:px-6 lg:px-8 max-w-4xl mx-auto w-full",children:[i.jsx("div",{className:"mb-3 sm:mb-4 animate-slide-up text-center",children:i.jsxs("div",{className:"relative inline-block -m-1 sm:-m-2",children:[i.jsx("img",{src:v1e,alt:"Enqir.in",className:"h-64 sm:h-72 md:h-80 lg:h-96 xl:h-[28rem] 2xl:h-[32rem] w-auto animate-float drop-shadow-2xl block relative z-20",style:{background:"transparent",padding:0,margin:0,border:"none",outline:"none",objectFit:"contain",objectPosition:"center",filter:"drop-shadow(0 0 20px rgba(59, 130, 246, 0.3)) drop-shadow(0 0 40px rgba(59, 130, 246, 0.2))"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-white/20 to-transparent blur-2xl"}),i.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30",children:i.jsxs("svg",{className:"w-full h-full min-w-full min-h-full",viewBox:"0 0 400 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[i.jsxs("g",{transform:"translate(200, 200)",opacity:"0.8",children:[i.jsx("circle",{cx:"0",cy:"0",r:"25",fill:"none",stroke:"#6B7280",strokeWidth:"2"}),i.jsx("circle",{cx:"0",cy:"0",r:"20",fill:"none",stroke:"#6B7280",strokeWidth:"1.5",opacity:"0.7"}),i.jsx("circle",{cx:"0",cy:"0",r:"15",fill:"none",stroke:"#6B7280",strokeWidth:"1",opacity:"0.5"}),i.jsx("text",{x:"0",y:"5",textAnchor:"middle",fontSize:"12",fill:"#4B5563",fontWeight:"600",children:"ENQIR.IN"})]}),i.jsxs("g",{transform:"translate(200, 80)",opacity:"0.8",children:[i.jsx("circle",{cx:"0",cy:"0",r:"12",fill:"none",stroke:"#6B7280",strokeWidth:"1.5"}),i.jsx("circle",{cx:"-3",cy:"-2",r:"1.5",fill:"#6B7280"}),i.jsx("circle",{cx:"3",cy:"-2",r:"1.5",fill:"#6B7280"}),i.jsx("path",{d:"M-2 3 Q0 4 2 3",stroke:"#6B7280",strokeWidth:"1.2",fill:"none"}),i.jsx("rect",{x:"-8",y:"8",width:"16",height:"20",fill:"none",stroke:"#6B7280",strokeWidth:"1",rx:"2"}),i.jsx("rect",{x:"-6",y:"12",width:"12",height:"8",fill:"#6B7280",opacity:"0.3"}),i.jsx("text",{x:"0",y:"35",textAnchor:"middle",fontSize:"8",fill:"#4B5563",fontWeight:"500",children:"User"})]}),i.jsxs("g",{transform:"translate(100, 200)",opacity:"0.8",children:[i.jsx("rect",{x:"-15",y:"-12",width:"30",height:"24",fill:"none",stroke:"#6B7280",strokeWidth:"1.5",rx:"3"}),i.jsx("circle",{cx:"-6",cy:"0",r:"2",fill:"#6B7280"}),i.jsx("circle",{cx:"0",cy:"0",r:"2",fill:"#6B7280"}),i.jsx("circle",{cx:"6",cy:"0",r:"2",fill:"#6B7280"}),i.jsx("path",{d:"M-4 -6 L4 6 M4 -6 L-4 6",stroke:"#6B7280",strokeWidth:"1",opacity:"0.6"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"#4B5563",fontWeight:"500",children:"AI Engine"}),i.jsx("path",{d:"M-20 -5 L-15 -5",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"}),i.jsx("path",{d:"M-20 0 L-15 0",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"}),i.jsx("path",{d:"M-20 5 L-15 5",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"}),i.jsx("path",{d:"M15 -5 L20 -5",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"}),i.jsx("path",{d:"M15 0 L20 0",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"}),i.jsx("path",{d:"M15 5 L20 5",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"})]}),i.jsxs("g",{transform:"translate(300, 200)",opacity:"0.8",children:[i.jsx("circle",{cx:"0",cy:"0",r:"15",fill:"none",stroke:"#6B7280",strokeWidth:"1.5"}),i.jsx("circle",{cx:"0",cy:"0",r:"10",fill:"none",stroke:"#6B7280",strokeWidth:"1.2",opacity:"0.7"}),i.jsx("circle",{cx:"0",cy:"0",r:"5",fill:"none",stroke:"#6B7280",strokeWidth:"1",opacity:"0.5"}),i.jsx("circle",{cx:"0",cy:"0",r:"2",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"22",textAnchor:"middle",fontSize:"8",fill:"#4B5563",fontWeight:"500",children:"Match"}),i.jsx("circle",{cx:"-12",cy:"-8",r:"2",fill:"#6B7280",opacity:"0.6"}),i.jsx("circle",{cx:"12",cy:"-8",r:"2",fill:"#6B7280",opacity:"0.6"}),i.jsx("circle",{cx:"-12",cy:"8",r:"2",fill:"#6B7280",opacity:"0.6"}),i.jsx("circle",{cx:"12",cy:"8",r:"2",fill:"#6B7280",opacity:"0.6"}),i.jsx("path",{d:"M-12 -8 L-5 -3",stroke:"#6B7280",strokeWidth:"0.8",opacity:"0.4"}),i.jsx("path",{d:"M12 -8 L5 -3",stroke:"#6B7280",strokeWidth:"0.8",opacity:"0.4"}),i.jsx("path",{d:"M-12 8 L-5 3",stroke:"#6B7280",strokeWidth:"0.8",opacity:"0.4"}),i.jsx("path",{d:"M12 8 L5 3",stroke:"#6B7280",strokeWidth:"0.8",opacity:"0.4"})]}),i.jsxs("g",{transform:"translate(200, 320)",opacity:"0.8",children:[i.jsx("circle",{cx:"0",cy:"0",r:"16",fill:"none",stroke:"#6B7280",strokeWidth:"1.5"}),i.jsx("path",{d:"M-6 0 L-2 4 L6 -2",stroke:"#6B7280",strokeWidth:"2.5",fill:"none"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"#4B5563",fontWeight:"500",children:"Success!"}),i.jsx("path",{d:"M-20 -8 L-18 -6 L-16 -8 L-18 -10 Z",fill:"#6B7280",opacity:"0.6"}),i.jsx("path",{d:"M20 -8 L22 -6 L24 -8 L22 -10 Z",fill:"#6B7280",opacity:"0.6"}),i.jsx("path",{d:"M-20 8 L-18 10 L-16 8 L-18 6 Z",fill:"#6B7280",opacity:"0.6"}),i.jsx("path",{d:"M20 8 L22 10 L24 8 L22 6 Z",fill:"#6B7280",opacity:"0.6"})]}),i.jsx("path",{d:"M200 92 L200 175",stroke:"#6B7280",strokeWidth:"1.5",fill:"none",opacity:"0.6",markerEnd:"url(#arrowhead)",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,100;100,0;0,100",dur:"3s",repeatCount:"indefinite"})}),i.jsx("path",{d:"M130 200 L175 200",stroke:"#6B7280",strokeWidth:"1.5",fill:"none",opacity:"0.6",markerEnd:"url(#arrowhead)",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,100;100,0;0,100",dur:"3s",repeatCount:"indefinite",begin:"0.5s"})}),i.jsx("path",{d:"M225 200 L270 200",stroke:"#6B7280",strokeWidth:"1.5",fill:"none",opacity:"0.6",markerEnd:"url(#arrowhead)",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,100;100,0;0,100",dur:"3s",repeatCount:"indefinite",begin:"1s"})}),i.jsx("path",{d:"M100 225 L175 275",stroke:"#6B7280",strokeWidth:"1.5",fill:"none",opacity:"0.6",markerEnd:"url(#arrowhead)",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,100;100,0;0,100",dur:"3s",repeatCount:"indefinite",begin:"1.5s"})}),i.jsx("path",{d:"M300 225 L225 275",stroke:"#6B7280",strokeWidth:"1.5",fill:"none",opacity:"0.6",markerEnd:"url(#arrowhead)",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,100;100,0;0,100",dur:"3s",repeatCount:"indefinite",begin:"2s"})}),i.jsxs("g",{transform:"translate(150, 120)",opacity:"0.6",children:[i.jsx("circle",{cx:"0",cy:"0",r:"8",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"2",textAnchor:"middle",fontSize:"8",fill:"white",children:""}),i.jsx("text",{x:"0",y:"15",textAnchor:"middle",fontSize:"6",fill:"#4B5563",children:"Secure"})]}),i.jsxs("g",{transform:"translate(250, 120)",opacity:"0.6",children:[i.jsx("circle",{cx:"0",cy:"0",r:"8",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"2",textAnchor:"middle",fontSize:"8",fill:"white",children:""}),i.jsx("text",{x:"0",y:"15",textAnchor:"middle",fontSize:"6",fill:"#4B5563",children:"Fast"})]}),i.jsxs("g",{transform:"translate(150, 280)",opacity:"0.6",children:[i.jsx("circle",{cx:"0",cy:"0",r:"8",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"2",textAnchor:"middle",fontSize:"8",fill:"white",children:""}),i.jsx("text",{x:"0",y:"15",textAnchor:"middle",fontSize:"6",fill:"#4B5563",children:"Chat"})]}),i.jsxs("g",{transform:"translate(250, 280)",opacity:"0.6",children:[i.jsx("circle",{cx:"0",cy:"0",r:"8",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"2",textAnchor:"middle",fontSize:"8",fill:"white",children:""}),i.jsx("text",{x:"0",y:"15",textAnchor:"middle",fontSize:"6",fill:"#4B5563",children:"Quality"})]}),i.jsxs("g",{transform:"translate(60, 60)",opacity:"0.4",children:[i.jsx("circle",{cx:"0",cy:"0",r:"4",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"1",textAnchor:"middle",fontSize:"5",fill:"white",children:""})]}),i.jsxs("g",{transform:"translate(340, 60)",opacity:"0.4",children:[i.jsx("circle",{cx:"0",cy:"0",r:"4",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"1",textAnchor:"middle",fontSize:"5",fill:"white",children:""})]}),i.jsxs("g",{transform:"translate(60, 340)",opacity:"0.4",children:[i.jsx("circle",{cx:"0",cy:"0",r:"4",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"1",textAnchor:"middle",fontSize:"5",fill:"white",children:""})]}),i.jsxs("g",{transform:"translate(340, 340)",opacity:"0.4",children:[i.jsx("circle",{cx:"0",cy:"0",r:"4",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"1",textAnchor:"middle",fontSize:"5",fill:"white",children:""})]}),i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"8",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:i.jsx("polygon",{points:"0 0, 8 3, 0 6",fill:"#6B7280"})})})]})})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-center justify-center mb-6 sm:mb-16 animate-slide-up px-1 sm:px-0",style:{animationDelay:"0.4s"},children:[i.jsx(Je,{to:"/post-enquiry",className:"w-full sm:w-auto",children:i.jsxs("button",{className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 text-white font-semibold py-2.5 sm:py-2 px-4 sm:px-4 rounded-lg sm:rounded-lg flex items-center justify-center gap-1.5 sm:gap-2 transition-all duration-200 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[i.jsx("span",{className:"text-xs sm:text-base",children:"Post Your Need"}),i.jsx(bb,{className:"h-3 w-3 sm:h-5 sm:w-5 group-hover:translate-x-1 transition-transform duration-200"})]})}),i.jsx(Je,{to:"/enquiries",className:"w-full sm:w-auto",children:i.jsxs("button",{className:"w-full sm:w-auto bg-white hover:bg-gray-50 text-gray-800 font-semibold py-2 sm:py-2 px-3 sm:px-4 rounded-lg sm:rounded-lg border-2 border-gray-800 hover:border-gray-800 flex items-center justify-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[i.jsx(fr,{className:"h-3 w-3 sm:h-5 sm:w-5 group-hover:scale-110 transition-transform duration-200"}),i.jsx("span",{className:"text-[10px] sm:text-base",children:"Show All Enquiries"})]})}),i.jsx("div",{className:"w-full sm:w-auto relative z-50",style:{zIndex:50},children:i.jsxs("div",{className:"flex gap-2 sm:gap-2",children:[i.jsxs("div",{className:"relative flex-1",style:{zIndex:50},children:[i.jsx(Wl,{className:"absolute left-2 sm:left-5 top-1/2 transform -translate-y-1/2 h-3 w-3 sm:h-5 sm:w-5 text-gray-400"}),i.jsx("input",{ref:R,type:"text",placeholder:"Search enquiries...",value:E,onChange:F=>{C(F.target.value),T(!0),ae()},onFocus:()=>{T(!0),ae()},onBlur:()=>setTimeout(()=>T(!1),200),onKeyPress:K,className:"w-full px-2 sm:px-5 py-2.5 sm:py-4 pl-8 sm:pl-12 pr-3 sm:pr-4 text-xs sm:text-base border-2 border-gray-200 rounded-lg sm:rounded-2xl focus:border-blue-500 focus:ring-2 sm:focus:ring-4 focus:ring-blue-100 transition-all duration-300 ease-out bg-white shadow-sm placeholder-gray-400"})]}),i.jsx("button",{onClick:V,disabled:_,className:"bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-800 hover:to-gray-900 text-white font-semibold py-2.5 sm:py-2 px-3 sm:px-3 rounded-lg sm:rounded-lg flex items-center justify-center transition-all duration-200 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl min-w-[40px] sm:min-w-[52px]",children:_?i.jsx("div",{className:"w-3 h-3 sm:w-5 sm:h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(Wl,{className:"h-3 w-3 sm:h-5 sm:w-5"})})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-6 mb-6 sm:mb-16 animate-slide-up px-1 sm:px-0",style:{animationDelay:"0.6s"},children:t.map((F,z)=>i.jsxs(xe,{className:"p-3 sm:p-6 glass-card hover-lift transition-spring group bg-blue-50/30 border-blue-100/50 rounded-xl sm:rounded-2xl",children:[i.jsxs("div",{className:"relative",children:[i.jsx(F.icon,{className:"h-5 w-5 sm:h-8 sm:w-8 text-pal-blue mx-auto mb-2 sm:mb-4 group-hover:scale-110 transition-spring"}),i.jsx("div",{className:"absolute inset-0 bg-pal-blue/20 blur-xl opacity-0 group-hover:opacity-100 transition-spring"})]}),i.jsx("h3",{className:"text-xs sm:text-lg font-semibold text-foreground mb-1 sm:mb-2 text-center group-hover:text-pal-blue transition-spring",children:F.title}),i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground text-center leading-relaxed",children:F.description})]},z))}),i.jsxs("section",{className:"py-4 sm:py-16",children:[i.jsx("div",{className:"text-center mb-4 sm:mb-12"}),i.jsxs("div",{className:"text-center mb-4 sm:mb-8",children:[i.jsx("h3",{className:"text-sm sm:text-2xl md:text-3xl font-bold text-foreground mb-1 sm:mb-4",children:"Live Needs"}),i.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1 sm:py-2 bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200 rounded-full shadow-sm",children:[i.jsx("div",{className:"w-1 h-1 sm:w-2 sm:h-2 bg-green-500 rounded-full animate-pulse"}),i.jsxs("span",{className:"text-sm sm:text-sm font-medium text-slate-700",children:[p.length," enquir",p.length!==1?"ys":"y"," available"]})]})]}),U.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 mb-6 px-1 sm:px-0",children:(j?U:U.slice(0,3)).map(F=>{var z;return i.jsx(Je,{to:`/enquiry/${F.id}`,className:"block h-full",children:i.jsxs("div",{className:`bg-white rounded-lg shadow-md hover:shadow-lg border border-gray-200 hover:border-gray-300 flex flex-col h-full transform transition-all duration-200 hover:scale-[1.01] overflow-hidden group ${te(F)?"opacity-70 bg-gray-100 border-gray-300 grayscale":""}`,children:[i.jsx("div",{className:"bg-gray-800 px-2.5 sm:px-3 lg:px-6 py-1.5 sm:py-2 lg:py-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"flex items-center gap-0.5 sm:gap-1 lg:gap-2",children:(F.userProfileVerified||F.idFrontImage||F.idBackImage)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`flex items-center justify-center w-2.5 h-2.5 sm:w-3 sm:h-3 lg:w-4 lg:h-4 rounded-full ${te(F)?"bg-gray-400":"bg-blue-500"}`,children:i.jsx(hi,{className:"h-1 w-1 sm:h-1.5 sm:w-1.5 lg:h-2 lg:w-2 text-white"})}),i.jsx("span",{className:`text-[8px] sm:text-[9px] lg:text-xs font-medium hidden sm:inline ${te(F)?"text-gray-300":"text-blue-300"}`,children:"Verified"})]})}),i.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 lg:gap-2",children:[!te(F)&&i.jsx(Te,{variant:"default",className:"text-[8px] sm:text-[9px] lg:text-xs px-1 sm:px-1.5 lg:px-2.5 py-0.5 lg:py-1 bg-green-100 text-green-700 border-green-200",children:"Live"}),F.isUrgent&&!te(F)&&i.jsx(Te,{variant:"destructive",className:"text-[8px] sm:text-[9px] lg:text-xs px-1 sm:px-1.5 lg:px-2.5 py-0.5 lg:py-1",children:"Urgent"}),te(F)&&i.jsx(Te,{variant:"outline",className:"text-[8px] sm:text-[9px] lg:text-xs px-1 sm:px-1.5 lg:px-2.5 py-0.5 lg:py-1 text-gray-300 border-gray-400",children:"Expired"})]})]})}),i.jsxs("div",{className:"p-2.5 sm:p-3 lg:p-6 flex-1 flex flex-col",children:[i.jsx("h3",{className:`text-[12px] sm:text-[13px] lg:text-lg font-semibold mb-1 sm:mb-1.5 lg:mb-3 leading-snug line-clamp-2 ${te(F)?"text-gray-600":"text-gray-900"}`,children:F.title}),i.jsx("div",{className:"mb-1.5 sm:mb-2.5 lg:mb-4",children:i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 lg:gap-3 text-[10px] sm:text-[11px] lg:text-base text-slate-700 flex-wrap",children:[F.budget&&i.jsxs("span",{className:"inline-flex items-center font-semibold text-slate-900",children:[i.jsx("span",{className:"mr-0.5 sm:mr-1 lg:mr-1.5 text-[12px] sm:text-[13px] lg:text-lg",children:""}),Nb(F.budget)]}),F.budget&&F.location&&i.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),F.location&&i.jsxs("span",{className:"hidden sm:inline-flex items-center",children:[i.jsx(uf,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 lg:h-4 lg:w-4 mr-1 lg:mr-1.5 text-slate-500"}),i.jsx("span",{className:"line-clamp-1",children:F.location})]})]})}),i.jsxs("div",{className:"mb-2 sm:mb-3 lg:mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Te,{variant:"secondary",className:"text-[9px] sm:text-[10px] lg:text-sm px-1.5 sm:px-2 lg:px-3 py-0.5 lg:py-1",children:F.category}),i.jsxs("div",{className:"flex items-center text-[9px] sm:text-[10px] lg:text-sm text-slate-500",children:[i.jsx(jn,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 lg:h-4 lg:w-4 mr-0.5 sm:mr-1 lg:mr-1.5"}),i.jsx("span",{className:"whitespace-nowrap",children:(z=F.createdAt)!=null&&z.toDate?ye(F.createdAt.toDate().toISOString()):"N/A"})]})]}),F.location&&i.jsx("div",{className:"sm:hidden mt-1.5",children:i.jsxs("div",{className:"flex items-start justify-end gap-1",children:[i.jsx(uf,{className:"h-2.5 w-2.5 mt-0.5 text-slate-600"}),i.jsx("span",{className:"text-[9px] text-slate-700 text-right break-words",children:F.location})]})}),F.deadline&&!te(F)&&i.jsx("div",{className:"mt-0.5 sm:mt-1 lg:mt-2",children:i.jsx(wy,{deadline:F.deadline.toDate?F.deadline.toDate():new Date(F.deadline),className:"text-[9px] sm:text-[10px] lg:text-sm"})})]}),i.jsx("div",{className:"flex flex-col gap-0.5 sm:gap-1 lg:gap-2 mt-auto -mx-2.5 sm:-mx-3 lg:-mx-6 px-2.5 sm:px-3 lg:px-6",children:r?F.userId===r.uid?i.jsx("button",{className:"w-full h-5 sm:h-6 lg:h-10 bg-gray-100 text-gray-600 text-[8px] sm:text-[9px] lg:text-sm font-medium rounded border border-gray-300",disabled:!0,children:" Your Enquiry"}):te(F)?i.jsx("button",{className:"w-full h-5 sm:h-6 lg:h-10 bg-gray-100 text-gray-600 text-[8px] sm:text-[9px] lg:text-sm font-medium rounded border border-gray-300",disabled:!0,children:"Expired"}):i.jsx("button",{className:"w-full h-5 sm:h-6 lg:h-10 bg-gray-800 text-white text-[8px] sm:text-[9px] lg:text-sm font-medium rounded hover:bg-gray-900 transition-colors",onClick:()=>o(`/respond/${F.id}`),children:"I Can Provide This"}):i.jsx("button",{className:"w-full h-5 sm:h-6 lg:h-10 bg-gray-100 text-gray-700 text-[8px] sm:text-[9px] lg:text-sm font-medium rounded border border-gray-300 hover:bg-gray-200 transition-colors",onClick:()=>o("/signin"),children:"Sign In to Respond"})}),i.jsx("div",{className:"border-t border-gray-700 bg-gray-800 rounded-b-lg -mx-2.5 sm:-mx-3 lg:-mx-6 -mb-2.5 sm:-mb-3 lg:-mb-6 px-2.5 sm:px-3 lg:px-6 py-1.5 sm:py-2 lg:py-4",children:i.jsxs("div",{className:"flex items-center justify-between h-[18px] sm:h-[20px] lg:h-[28px]",children:[i.jsxs("button",{onClick:ie=>Y(F.id,ie),className:`inline-flex items-center gap-0.5 sm:gap-1 lg:gap-2 px-1 sm:px-1.5 lg:px-3 py-0.5 lg:py-1 h-auto text-[8px] sm:text-[9px] lg:text-sm transition-all duration-150 ${W.includes(F.id)?"text-blue-300 hover:text-blue-200":"text-gray-300 hover:text-blue-300"}`,disabled:!r,children:[i.jsx(Du,{className:`h-2.5 w-2.5 sm:h-3 sm:w-3 lg:h-4 lg:w-4 transition-transform duration-150 ${W.includes(F.id)?"fill-current scale-110":"hover:scale-110"}`}),i.jsx("span",{className:"hidden sm:inline",children:W.includes(F.id)?"Saved":"Save"})]}),i.jsxs("button",{onClick:ie=>ue(F,ie),className:"inline-flex items-center gap-0.5 sm:gap-1 lg:gap-2 px-1 sm:px-1.5 lg:px-3 py-0.5 lg:py-1 h-auto text-[8px] sm:text-[9px] lg:text-sm text-gray-300 hover:text-blue-300 transition-all duration-150",children:[i.jsx(YU,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 lg:h-4 lg:w-4 transition-transform duration-150 hover:scale-110"}),i.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]})})]})]})},F.id)})}),U.length>3&&i.jsx("div",{className:"text-center mt-6",children:i.jsx(H,{onClick:()=>N(!j),variant:"outline",className:"mobile-button-outline",children:j?"Show Less":`Load More Enquiries (${U.length-3} more)`})}),i.jsx("div",{className:"text-center mt-4",children:i.jsx(Je,{to:"/enquiries",children:i.jsxs(H,{variant:"outline",className:"h-7 sm:h-10 px-3 sm:px-6 text-[10px] sm:text-sm font-medium border-2 border-gray-800 text-gray-800 hover:border-gray-800 hover:bg-gray-50 transition-all duration-200",children:[i.jsx(fr,{className:"mr-1 sm:mr-2 h-2.5 w-2.5 sm:h-4 sm:w-4"}),"Show All Enquiries"]})})})]}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Rl,{className:"h-8 w-8 text-gray-400"})}),E?i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No results found"}),i.jsxs("p",{className:"text-muted-foreground mb-6",children:['No enquiries match your search for "',E,'". Try different keywords!']}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(H,{onClick:()=>C(""),variant:"outline",children:"Clear Search"}),i.jsx(Je,{to:"/post-enquiry",children:i.jsxs(H,{className:"bg-pal-blue hover:bg-pal-blue-dark text-white",children:["Post Your Enquiry",i.jsx(bb,{className:"ml-2 h-4 w-4"})]})})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No live enquiries yet"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Post your needs and start connecting with sellers!"}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:i.jsx(Je,{to:"/post-enquiry",children:i.jsx(H,{variant:"default",className:"bg-pal-blue hover:bg-pal-blue-dark text-white",children:"Post First Enquiry"})})})]})]})]}),r&&i.jsx("div",{className:"mb-16 animate-slide-up px-4 sm:px-0",style:{animationDelay:"1s"},children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx("p",{className:"text-slate-600 font-medium text-[10px] sm:text-xs md:text-base mb-4 sm:mb-6 leading-tight",children:"Stay anonymous until closing the deal"}),i.jsxs("div",{className:"flex flex-row gap-1.5 sm:gap-2 justify-center items-center",children:[i.jsx(Je,{to:"/dashboard",children:i.jsxs("button",{className:"bg-gray-800 text-white px-2 sm:px-3 py-1 text-[10px] sm:text-xs rounded-md inline-flex items-center",children:[i.jsx(bv,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 mr-0.5 sm:mr-1"}),"Dashboard"]})}),i.jsx(Je,{to:"/post-enquiry",children:i.jsx("button",{className:"bg-gray-800 text-white px-2 sm:px-3 py-1 text-[10px] sm:text-xs rounded-md inline-flex items-center",children:"Post Enquiry"})})]})]})}),i.jsxs("div",{className:"mb-8 sm:mb-12 animate-slide-up px-4 sm:px-0",style:{animationDelay:"1.2s"},children:[i.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Popular Categories"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Explore what people are looking for"})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-3 gap-3 sm:gap-4 max-w-4xl mx-auto",children:e.map((F,z)=>{const ie=F.icon;return i.jsx("div",{className:"group cursor-pointer",style:{animationDelay:`${z*.05}s`},children:i.jsxs("div",{className:"relative h-full p-4 sm:p-5 bg-white border border-gray-200/60 rounded-xl sm:rounded-2xl hover:border-gray-300 hover:shadow-lg transition-all duration-300 ease-out overflow-hidden",children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${F.color} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),i.jsxs("div",{className:"relative flex flex-col items-center text-center space-y-2 sm:space-y-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gray-50 group-hover:bg-white/80 flex items-center justify-center transition-all duration-300 group-hover:scale-110 group-hover:shadow-sm",children:i.jsx(ie,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600 group-hover:text-gray-900 transition-colors duration-300"})}),i.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-800 group-hover:text-gray-900 transition-colors duration-300 leading-tight",children:F.name})]}),i.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})})]})},z)})})]})]}),i.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:i.jsx("div",{className:"w-6 h-10 border-2 border-muted-foreground/50 rounded-full flex justify-center glass-effect backdrop-blur-sm",children:i.jsx("div",{className:"w-1 h-3 bg-gradient-to-b from-pal-blue to-transparent rounded-full mt-2 animate-pulse"})})})]}),i.jsx("section",{className:"py-10 sm:py-16 relative bg-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-4 sm:mb-12",children:[i.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-900 mb-1",children:"How It Works"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"3 simple steps to connect"})]}),i.jsx("div",{className:"bg-white p-4 sm:p-14 rounded-xl sm:rounded-3xl border border-gray-200 sm:border-2 shadow-md sm:shadow-lg",children:i.jsxs("svg",{viewBox:"0 0 1200 600",className:"w-full h-[400px] sm:h-[650px]",children:[i.jsxs("g",{transform:"translate(120, 150)",children:[i.jsx("circle",{cx:"0",cy:"-40",r:"48",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-8; 0,0",dur:"2s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"-16",cy:"-56",r:"6",fill:"#1F2937",children:i.jsx("animate",{attributeName:"r",values:"6;8;6",dur:"1.5s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"16",cy:"-56",r:"6",fill:"#1F2937",children:i.jsx("animate",{attributeName:"r",values:"6;8;6",dur:"1.5s",repeatCount:"indefinite"})}),i.jsx("path",{d:"M-16,-36 Q0,-28 16,-36",stroke:"#1F2937",strokeWidth:"4",fill:"none",strokeLinecap:"round",children:i.jsx("animate",{attributeName:"d",values:"M-16,-36 Q0,-28 16,-36; M-16,-36 Q0,-22 16,-36",dur:"2s",repeatCount:"indefinite"})}),i.jsx("ellipse",{cx:"0",cy:"20",rx:"36",ry:"55",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"1,1; 1.08,1; 1,1",dur:"3s",repeatCount:"indefinite"})}),i.jsxs("g",{transform:"translate(-35, 15)",children:[i.jsx("path",{d:"M0,0 L-28,-25",stroke:"#1F2937",strokeWidth:"4",strokeLinecap:"round",children:i.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0 0 0; -25 0 0; 0 0 0",dur:"2.5s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"-28",cy:"-25",r:"8",fill:"#1F2937"})]}),i.jsxs("g",{transform:"translate(35, 15)",children:[i.jsx("path",{d:"M0,0 L28,-25",stroke:"#1F2937",strokeWidth:"4",strokeLinecap:"round",children:i.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0 0 0; 25 0 0; 0 0 0",dur:"2.5s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"28",cy:"-25",r:"8",fill:"#1F2937"})]}),i.jsx("circle",{cx:"0",cy:"-40",r:"65",fill:"none",stroke:"#1F2937",strokeWidth:"2",opacity:"0.3",children:i.jsx("animate",{attributeName:"r",values:"65;75;65",dur:"2s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"0",cy:"-40",r:"55",fill:"none",stroke:"#1F2937",strokeWidth:"1.5",opacity:"0.2",children:i.jsx("animate",{attributeName:"r",values:"55;65;55",dur:"2.3s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"0",cy:"-40",r:"45",fill:"none",stroke:"#1F2937",strokeWidth:"1",opacity:"0.15",children:i.jsx("animate",{attributeName:"r",values:"45;55;45",dur:"2.6s",repeatCount:"indefinite"})})]}),i.jsxs("g",{transform:"translate(280, 220)",children:[i.jsx("line",{x1:"0",y1:"0",x2:"140",y2:"0",stroke:"#1F2937",strokeWidth:"5",opacity:"0.7",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,400;140,0;0,0",dur:"3s",repeatCount:"indefinite",begin:"0s"})}),i.jsx("polygon",{points:"155,0 140,-12 125,0 140,12",fill:"#1F2937"})]}),i.jsxs("g",{transform:"translate(450, 150)",children:[i.jsx("rect",{x:"-60",y:"-60",width:"120",height:"120",rx:"16",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.08;1",dur:"2s",repeatCount:"indefinite"})}),i.jsx("rect",{x:"-45",y:"-45",width:"90",height:"90",fill:"#F9FAFB"}),i.jsxs("circle",{cx:"0",cy:"-20",r:"10",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite"}),i.jsx("animate",{attributeName:"r",values:"10;12;10",dur:"2s",repeatCount:"indefinite"})]}),i.jsxs("circle",{cx:"-20",cy:"-10",r:"8",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.15s"}),i.jsx("animate",{attributeName:"r",values:"8;10;8",dur:"2s",repeatCount:"indefinite",begin:"0.15s"})]}),i.jsxs("circle",{cx:"20",cy:"-10",r:"8",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.3s"}),i.jsx("animate",{attributeName:"r",values:"8;10;8",dur:"2s",repeatCount:"indefinite",begin:"0.3s"})]}),i.jsxs("circle",{cx:"-18",cy:"10",r:"8",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.45s"}),i.jsx("animate",{attributeName:"r",values:"8;10;8",dur:"2s",repeatCount:"indefinite",begin:"0.45s"})]}),i.jsxs("circle",{cx:"18",cy:"10",r:"8",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.6s"}),i.jsx("animate",{attributeName:"r",values:"8;10;8",dur:"2s",repeatCount:"indefinite",begin:"0.6s"})]}),i.jsxs("circle",{cx:"-15",cy:"28",r:"7",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.75s"}),i.jsx("animate",{attributeName:"r",values:"7;9;7",dur:"2s",repeatCount:"indefinite",begin:"0.75s"})]}),i.jsxs("circle",{cx:"15",cy:"28",r:"7",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.9s"}),i.jsx("animate",{attributeName:"r",values:"7;9;7",dur:"2s",repeatCount:"indefinite",begin:"0.9s"})]}),i.jsx("circle",{cx:"0",cy:"35",r:"9",fill:"#1F2937",opacity:"0.6",children:i.jsx("animate",{attributeName:"r",values:"9;12;9",dur:"2s",repeatCount:"indefinite"})}),i.jsx("line",{x1:"-20",y1:"-10",x2:"0",y2:"-20",stroke:"#1F2937",strokeWidth:"3",opacity:"0.4",children:i.jsx("animate",{attributeName:"opacity",values:"0.2;0.8;0.2",dur:"1.5s",repeatCount:"indefinite"})}),i.jsx("line",{x1:"20",y1:"-10",x2:"0",y2:"-20",stroke:"#1F2937",strokeWidth:"3",opacity:"0.4",children:i.jsx("animate",{attributeName:"opacity",values:"0.2;0.8;0.2",dur:"1.5s",repeatCount:"indefinite",begin:"0.3s"})}),i.jsx("line",{x1:"-18",y1:"10",x2:"-20",y2:"-10",stroke:"#1F2937",strokeWidth:"3",opacity:"0.3",children:i.jsx("animate",{attributeName:"opacity",values:"0.1;0.6;0.1",dur:"1.5s",repeatCount:"indefinite",begin:"0.6s"})}),i.jsx("line",{x1:"18",y1:"10",x2:"20",y2:"-10",stroke:"#1F2937",strokeWidth:"3",opacity:"0.3",children:i.jsx("animate",{attributeName:"opacity",values:"0.1;0.6;0.1",dur:"1.5s",repeatCount:"indefinite",begin:"0.9s"})})]}),i.jsxs("g",{transform:"translate(580, 220)",children:[i.jsx("line",{x1:"0",y1:"0",x2:"160",y2:"0",stroke:"#1F2937",strokeWidth:"5",opacity:"0.7",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,400;160,0;0,0",dur:"3s",repeatCount:"indefinite",begin:"0.5s"})}),i.jsx("polygon",{points:"175,0 160,-12 145,0 160,12",fill:"#1F2937"})]}),i.jsxs("g",{transform:"translate(780, 80)",children:[i.jsxs("g",{transform:"translate(-70, 0)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"45",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-18; 0,0",dur:"2s",repeatCount:"indefinite",begin:"0s"})}),i.jsx("circle",{cx:"-16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("circle",{cx:"16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("path",{d:"M-18,15 Q0,10 18,15",stroke:"#1F2937",strokeWidth:"4",fill:"none"}),i.jsx("path",{d:"M-35,25 L35,25 M-42,38 L42,38",stroke:"#1F2937",strokeWidth:"4",strokeLinecap:"round"})]}),i.jsxs("g",{transform:"translate(0, 0)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"45",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-18; 0,0",dur:"2s",repeatCount:"indefinite",begin:"0.4s"})}),i.jsx("circle",{cx:"-16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("circle",{cx:"16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("path",{d:"M-18,15 Q0,10 18,15",stroke:"#1F2937",strokeWidth:"4",fill:"none"}),i.jsx("path",{d:"M-35,25 L35,25 M-42,38 L42,38",stroke:"#1F2937",strokeWidth:"4",strokeLinecap:"round"})]}),i.jsxs("g",{transform:"translate(70, 0)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"45",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-18; 0,0",dur:"2s",repeatCount:"indefinite",begin:"0.8s"})}),i.jsx("circle",{cx:"-16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("circle",{cx:"16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("path",{d:"M-18,15 Q0,10 18,15",stroke:"#1F2937",strokeWidth:"4",fill:"none"}),i.jsx("path",{d:"M-35,25 L35,25 M-42,38 L42,38",stroke:"#1F2937",strokeWidth:"4",strokeLinecap:"round"})]})]}),i.jsxs("g",{transform:"translate(620, 130)",children:[i.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"90",stroke:"#1F2937",strokeWidth:"4",opacity:"0.7",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,250;90,0;0,0",dur:"3s",repeatCount:"indefinite",begin:"1s"})}),i.jsx("polygon",{points:"0,95 -8,88 0,105 8,88",fill:"#1F2937"})]}),i.jsxs("g",{transform:"translate(580, 260)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"65",fill:"#1F2937",opacity:"0.9",children:i.jsx("animate",{attributeName:"r",values:"65;72;65",dur:"2s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"0",cy:"0",r:"52",fill:"none",stroke:"white",strokeWidth:"3"}),i.jsx("path",{d:"M-24,-8 L-8,15 L24,-15",stroke:"white",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.15;1",dur:"1.5s",repeatCount:"indefinite"})})]}),i.jsxs("g",{transform:"translate(140, 450)",children:[i.jsx("text",{x:"0",y:"0",textAnchor:"start",fontSize:"16",fill:"#1F2937",fontWeight:"700",className:"sm:text-2xl",children:"1. Post Need"}),i.jsx("text",{x:"0",y:"20",textAnchor:"start",fontSize:"12",fill:"#6B7280",className:"sm:text-lg",children:" Share what you need"})]}),i.jsxs("g",{transform:"translate(470, 450)",children:[i.jsx("text",{x:"0",y:"0",textAnchor:"start",fontSize:"16",fill:"#1F2937",fontWeight:"700",className:"sm:text-2xl",children:"2. AI Matches"}),i.jsx("text",{x:"0",y:"20",textAnchor:"start",fontSize:"12",fill:"#6B7280",className:"sm:text-lg",children:" Finds verified sellers"})]}),i.jsxs("g",{transform:"translate(800, 450)",children:[i.jsx("text",{x:"0",y:"0",textAnchor:"start",fontSize:"16",fill:"#1F2937",fontWeight:"700",className:"sm:text-2xl",children:"3. Connect & Complete"}),i.jsx("text",{x:"0",y:"20",textAnchor:"start",fontSize:"12",fill:"#6B7280",className:"sm:text-lg",children:" Chat & close deal"})]})]})})]})}),A&&Q().length>0&&Cc.createPortal(i.jsx("div",{className:"fixed bg-white border-2 border-blue-400 rounded-2xl shadow-2xl max-h-60 overflow-y-auto z-[99999]",style:{top:M.top,left:M.left,width:M.width,zIndex:99999},children:Q().map((F,z)=>i.jsxs("button",{onClick:()=>{C(F),T(!1),V()},className:"w-full px-4 py-3 text-left hover:bg-blue-100 transition-colors duration-150 first:rounded-t-2xl last:rounded-b-2xl flex items-center gap-3 border-b border-gray-200 last:border-b-0",children:[i.jsx(Wl,{className:"h-4 w-4 text-blue-500"}),i.jsx("span",{className:"text-sm text-gray-800 font-medium",children:F})]},z))}),document.body)]})},X_=({name:t,isVerified:e=!1,className:r="",showVerification:n=!0})=>{const s=r.includes("text-2xl")||r.includes("text-3xl")||r.includes("text-4xl")||r.includes("text-5xl")||r.includes("text-6xl")||r.includes("text-7xl");return i.jsxs("span",{className:He("inline-flex items-center gap-1 sm:gap-2",r),children:[i.jsx("span",{children:t}),e&&n&&i.jsx("div",{className:He("flex-shrink-0 bg-blue-500 rounded-full flex items-center justify-center",s?"h-5 w-5 sm:h-8 sm:w-8":"h-2 w-2 sm:h-3 sm:w-3"),title:"Verified User",children:i.jsx(hi,{className:He("text-white font-bold",s?"h-3 w-3 sm:h-5 sm:w-5":"h-1 w-1 sm:h-1.5 sm:w-1.5"),strokeWidth:2.5})})]})},ls=[{id:"free",name:"Free",price:0,responses:2,description:"AI-powered smart matching with verified sellers",features:[" Unlock 2 AI-ranked seller responses"," Smart seller matching"," Mobile-optimized experience"]},{id:"basic",name:"Basic",price:99,responses:5,description:"Unlock more AI-curated quality responses",features:[" Unlock 5 AI-ranked seller responses"," Priority AI matching"," Smart response filtering"]},{id:"standard",name:"Standard",price:199,responses:10,description:"AI-powered premium access to top sellers",features:[" Unlock 10 AI-ranked seller responses"," Advanced AI recommendations"," AI-powered search filters"]},{id:"premium",name:"Premium",price:499,responses:-1,description:"Unlimited AI-matched seller connections",features:[" Unlock ALL AI-ranked seller responses"," Exclusive premium sellers"," Priority AI processing"],isPopular:!0}],Xk=(t,e,r,n)=>{if(console.log(" getUpgradeOptions called with:",{currentPlanId:t,userCurrentPlan:e}),t==="premium")return console.log(" Already premium, no upgrades available"),[];const s=ls.findIndex(c=>c.id===t);if(s===-1)return console.log(" Current plan not found, returning all paid plans"),ls.filter(c=>c.id!=="free");const a=ls[s],o=a.price;console.log(" Current plan details:",{id:a.id,name:a.name,price:o});let l=ls.filter(c=>{const u=c.price>o,d=c.id!=="pro",h=c.id!=="free",f=c.id!==t;return u&&d&&h&&f});return console.log(" Available upgrade plans:",l.map(c=>({id:c.id,name:c.name,price:c.price}))),l},w1e=Object.freeze(Object.defineProperty({__proto__:null,PAYMENT_PLANS:ls,getUpgradeOptions:Xk},Symbol.toStringTag,{value:"Module"})),j1e=({isOpen:t,onClose:e,selectedPlan:r,enquiryId:n,userId:s,onPaymentSuccess:a,isUpgrade:o=!1,currentPlanPrice:l=0})=>{const[c,u]=g.useState("form"),[d,h]=g.useState(!1),[f,m]=g.useState({cardNumber:"",expiryDate:"",cvv:"",name:""}),x=r.price-l,p=o?x:r.price,v=async()=>{u("processing"),h(!0);try{await new Promise(j=>setTimeout(j,2e3)),console.log(" Dummy payment successful:",{enquiryId:n,userId:s,planId:r.id,amount:r.price,paymentDetails:f}),u("success"),setTimeout(()=>{a(r.id,r.price),w()},1500)}catch(j){console.error("Payment failed:",j),u("failed"),h(!1)}},w=()=>{u("form"),h(!1),m({cardNumber:"",expiryDate:"",cvv:"",name:""}),e()},b=f.cardNumber&&f.expiryDate&&f.cvv&&f.name;return t?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-[95vw] sm:max-w-2xl my-4 sm:my-8 flex flex-col",children:[i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:o?"Upgrade Payment":"Complete Payment"}),i.jsx("button",{onClick:w,className:"text-slate-400 hover:text-slate-600 transition-colors p-1",children:i.jsx(Qr,{className:"h-6 w-6 sm:h-7 sm:w-7"})})]}),c==="form"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs(xe,{className:"border-2 border-blue-200",children:[i.jsx(jt,{className:"pb-3",children:i.jsxs(mr,{className:"text-lg flex items-center gap-2",children:[i.jsx(o_,{className:"h-5 w-5 text-blue-600"}),r.name," Plan"]})}),i.jsxs(Ue,{className:"pt-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium text-slate-900",children:o?"Upgrade Amount":"Plan Price"}),i.jsxs("span",{className:"text-lg font-bold text-slate-900",children:["",p]})]}),o&&i.jsx("div",{className:"text-sm text-slate-600 mb-2",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["New Plan: ",r.price]}),i.jsxs("span",{children:["Current Plan: ",l]})]})}),i.jsx("p",{className:"text-sm text-slate-600",children:r.responses===-1?"Unlimited responses per enquiry":`${r.responses} unlocked responses per enquiry`})]})]}),i.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Card Number"}),i.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",value:f.cardNumber,onChange:j=>m(N=>({...N,cardNumber:j.target.value})),className:"w-full px-4 py-3 text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Expiry Date"}),i.jsx("input",{type:"text",placeholder:"MM/YY",value:f.expiryDate,onChange:j=>m(N=>({...N,expiryDate:j.target.value})),className:"w-full px-4 py-3 text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CVV"}),i.jsx("input",{type:"text",placeholder:"123",value:f.cvv,onChange:j=>m(N=>({...N,cvv:j.target.value})),className:"w-full px-4 py-3 text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cardholder Name"}),i.jsx("input",{type:"text",placeholder:"John Doe",value:f.name,onChange:j=>m(N=>({...N,name:j.target.value})),className:"w-full px-4 py-3 text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg mb-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-yellow-600 text-xs",children:""})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-yellow-800 text-sm",children:"Test Mode"}),i.jsx("p",{className:"text-yellow-700 text-xs",children:"Use any card details - payment will be simulated"})]})]})})]}),c==="processing"&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(cf,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Processing Payment"}),i.jsx("p",{className:"text-slate-600",children:"Please wait while we process your payment..."})]}),c==="success"&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(xt,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Payment Successful! "}),i.jsx("p",{className:"text-slate-600",children:o?"Your plan has been upgraded successfully!":"Your payment has been processed successfully!"})]}),c==="failed"&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Vg,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Payment Failed"}),i.jsx("p",{className:"text-slate-600 mb-4",children:"There was an error processing your payment. Please try again."}),i.jsx(H,{onClick:()=>u("form"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Try Again"})]})]}),c==="form"&&i.jsx("div",{className:"border-t border-gray-200 p-5 bg-white rounded-b-xl shadow-lg",children:i.jsxs("div",{className:"flex space-x-3",children:[i.jsx(H,{onClick:w,variant:"outline",className:"flex-1 py-3",disabled:d,children:"Cancel"}),i.jsxs(H,{onClick:v,disabled:d||!b,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3",children:[d?i.jsx(cf,{className:"h-5 w-5 animate-spin mr-2"}):i.jsx(o_,{className:"h-5 w-5 mr-2"}),o?`Upgrade for ${p}`:`Pay ${p}`]})]})})]})}):null},wH=async(t,e,r,n)=>{try{await new Promise(a=>setTimeout(a,1e3));const s=`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return console.log(" Payment processed successfully:",{enquiryId:t,userId:e,planId:r.id,amount:r.price,transactionId:s}),{success:!0,transactionId:s}}catch(s){return console.error("Payment processing error:",s),{success:!1,error:"Payment processing failed. Please try again."}}},xj=async(t,e,r,n)=>{try{const s={enquiryId:t,userId:e,planId:r.id,planPrice:r.price,responsesUnlocked:r.responses,isUnlimited:r.responses===-1,purchasedAt:new Date,isActive:!0,paymentMethod:"card",transactionId:n},a=ke(oe,"payments",`${t}_${e}_${Date.now()}`);return await bn(a,{...s,purchasedAt:$e()}),a.id}catch(s){throw console.error("Error saving payment record:",s),new Error("Failed to save payment record")}},yj=async(t,e,r,n)=>{try{const s=ke(oe,"userPayments",t),a=await Vt(s);if(a.exists()){const o=a.data(),l={currentPlan:e,lastUpgrade:$e(),activePayments:ry(r)};await dt(s,l),console.log(" User payment plan updated successfully:",{userId:t,planId:e,proEnquiriesRemaining:l.proEnquiriesRemaining})}else{const o={userId:t,currentPlan:e,totalSpent:0,lastUpgrade:$e(),activePayments:[r]};await bn(s,o),console.log(" User payment plan created successfully:",{userId:t,planId:e,proEnquiriesRemaining:o.proEnquiriesRemaining})}}catch(s){throw console.error("Error updating user payment plan:",s),new Error("Failed to update user payment plan")}},Th=async t=>{try{const e=ke(oe,"userPayments",t),r=await Vt(e);if(r.exists()){const n=r.data();return console.log(" User Payment Plan:",{userId:t,currentPlan:n.currentPlan,proEnquiriesRemaining:n.proEnquiriesRemaining,hasProActivation:!!n.proActivationDate}),n}return console.log(" No payment plan found for user:",t),null}catch(e){return console.error("Error getting user payment plan:",e),null}},jH=async t=>{try{const e=await Th(t);return!!(e&&e.currentPlan==="pro"&&e.proEnquiriesRemaining&&e.proEnquiriesRemaining>0)}catch(e){return console.error("Error checking Pro enquiries remaining:",e),!1}},NH=Object.freeze(Object.defineProperty({__proto__:null,getUserPaymentPlan:Th,hasProEnquiriesRemaining:jH,processPayment:wH,savePaymentRecord:xj,updateUserPaymentPlan:yj},Symbol.toStringTag,{value:"Module"})),vf=({currentPlanId:t="free",enquiryId:e,userId:r,onPlanSelect:n,isUpgrade:s=!1,enquiryCreatedAt:a,className:o=""})=>{const[l,c]=g.useState(t),[u,d]=g.useState(!1),[h,f]=g.useState(null),[m,x]=g.useState(!1),[p,v]=g.useState(!0),[w,b]=g.useState("free"),[j,N]=g.useState(null);g.useEffect(()=>{(async()=>{v(!0);const R=await Th(r);if(R&&(b(R.currentPlan),N(R.proActivationDate)),!s){const M=await jH(r);x(M),M&&ls.find(W=>W.id==="premium")&&(c("premium"),setTimeout(()=>n("premium",0),0))}v(!1)})()},[r,s,n]);let E=s?Xk(t,w):m?[]:ls;if(s&&(t==="basic"||t==="standard")){const P=ls.find(R=>R.id==="premium");P&&!E.find(R=>R.id==="premium")&&(console.log(" Premium plan not in available plans, adding it explicitly"),E=[...E,P])}console.log(" PaymentPlanSelector Debug:",{currentPlanId:t,isUpgrade:s,availablePlansCount:E.length,availablePlans:E.map(P=>({id:P.id,name:P.name,price:P.price}))});const C=P=>{c(P.id),f(P),P.price===0?n(P.id,P.price):s?d(!0):n(P.id,P.price)},_=(P,R)=>{n(P,R),d(!1)},S=E.find(P=>P.id===t),A=(S==null?void 0:S.price)||0,T=P=>P.isPro?i.jsx(un,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-yellow-500"}):P.isPopular?i.jsx(z1,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-blue-500"}):i.jsx(df,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-gray-500"}),I=P=>P.isPro?i.jsx(Te,{className:"bg-yellow-100 text-yellow-800 text-[8px] sm:text-[9px] px-0.5 py-0 h-3.5 sm:h-4",children:"Pro"}):P.isPopular?i.jsx(Te,{className:"bg-blue-100 text-blue-800 text-[8px] sm:text-[9px] px-0.5 py-0 h-3.5 sm:h-4",children:"Popular"}):null;return i.jsxs("div",{className:`space-y-4 ${o}`,children:[i.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 sm:mb-2",children:s?"Upgrade Your Plan":"Choose Your Plan"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600",children:s?"Unlock more responses for this enquiry":"Select the plan that works best for you"})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2 min-h-[120px]",children:[E.length===0&&s&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl",children:[i.jsx(xt,{className:"h-16 w-16 text-green-600 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"You're Already at the Top! "}),i.jsx("p",{className:"text-gray-600 text-center max-w-md",children:t==="pro"?"Your enquiry has Pro features with unlimited responses. This is the highest tier!":"Your enquiry already has Premium features with unlimited responses. Enjoy full access to all seller responses!"})]}),E.map(P=>i.jsxs(xe,{className:`relative cursor-pointer transition-all duration-200 hover:shadow-md overflow-hidden ${l===P.id?"ring-2 ring-blue-500 shadow-md border-blue-300":"hover:shadow-sm"} ${P.isPopular?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,onClick:()=>C(P),children:[i.jsx("div",{className:"bg-gray-800 px-2.5 sm:px-3 py-2 h-auto min-h-[42px] flex items-center",children:i.jsxs("div",{className:"flex items-center justify-between w-full gap-1.5",children:[i.jsxs("div",{className:"flex items-center space-x-1.5 flex-1 min-w-0",children:[i.jsx("div",{className:"flex-shrink-0",children:T(P)}),i.jsxs("h3",{className:"text-[11px] sm:text-xs font-semibold text-white flex items-center gap-1 truncate",children:[P.name,I(P)]})]}),i.jsxs("div",{className:"text-right flex-shrink-0 ml-1.5",children:[i.jsxs("div",{className:"text-xs sm:text-sm font-bold text-white",children:["",P.price]}),P.price>0&&i.jsx("div",{className:"text-[9px] text-gray-300",children:"per enquiry"})]})]})}),i.jsxs(Ue,{className:"p-2.5 sm:p-3",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[i.jsx("input",{type:"radio",name:"paymentPlan",checked:l===P.id,onChange:()=>C(P),className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-blue-600 focus:ring-blue-500 border-gray-300 flex-shrink-0"}),i.jsx("div",{className:"min-w-0 flex-1",children:i.jsx("p",{className:"text-[9px] sm:text-[10px] text-gray-600 truncate",children:P.description})})]}),i.jsx("div",{className:"hidden lg:flex flex-1 justify-center max-w-md",children:i.jsxs("div",{className:"space-y-0.5",children:[P.features.slice(0,2).map((R,M)=>i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(hi,{className:"h-2 w-2 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-[9px] sm:text-[10px] text-gray-700 truncate",children:R})]},M)),P.features.length>2&&i.jsxs("div",{className:"text-[9px] sm:text-[10px] text-gray-500 ml-3",children:["+",P.features.length-2," more"]})]})}),i.jsx("div",{className:"flex items-center justify-end",children:i.jsxs(H,{size:"sm",className:`h-6 sm:h-7 text-[9px] sm:text-[10px] ${l===P.id||P.isPopular?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-900"} px-2 sm:px-3`,onClick:R=>{R.stopPropagation(),C(P)},children:[i.jsx("span",{className:"hidden sm:inline",children:l===P.id?"Selected":"Select"}),i.jsx("span",{className:"sm:hidden",children:l===P.id?"":"Select"})]})})]}),i.jsx("div",{className:"sm:hidden mt-2 pt-2 border-t border-gray-200",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:P.features.map((R,M)=>i.jsxs("div",{className:"flex items-start space-x-1",children:[i.jsx(hi,{className:"h-2 w-2 text-green-500 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-[9px] sm:text-[10px] text-gray-700 leading-tight",children:R})]},M))})})]})]},P.id))]}),l!==t&&i.jsx("div",{className:"mt-3 sm:mt-4 p-2.5 sm:p-3 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-blue-900",children:s?"Upgrade Confirmation":"Plan Selected"}),i.jsx("p",{className:"text-[9px] sm:text-[10px] text-blue-700",children:s?"You will be charged the difference for the upgrade":"Proceed to payment to activate this plan"})]}),i.jsx(H,{size:"sm",className:"h-6 sm:h-7 text-[9px] sm:text-[10px] bg-blue-600 hover:bg-blue-700 text-white px-2.5 sm:px-3 flex-shrink-0",onClick:()=>{const P=E.find(R=>R.id===l);P&&n(P.id,P.price)},children:s?"Upgrade Now":"Continue"})]})}),h&&i.jsx(j1e,{isOpen:u,onClose:()=>d(!1),selectedPlan:h,enquiryId:e,userId:r,onPaymentSuccess:_,isUpgrade:s,currentPlanPrice:A})]})},N1e=()=>{const{user:t,isProfileVerified:e}=Rr(),{canPostEnquiry:r,incrementEnquiries:n,getRemainingEnquiries:s,usageStats:a,purchasePremiumEnquiry:o}=mm(),l=g.useContext(wa),c=(l==null?void 0:l.createNotification)||(async()=>{console.warn("NotificationContext not available")}),u=Jr(),[d,h]=g.useState([]),[f,m]=g.useState([]),[x,p]=g.useState({}),[v,w]=g.useState([]),[b,j]=g.useState(!1),[N,E]=g.useState(!0),[C,_]=g.useState(!1),[S,A]=g.useState(null),[T,I]=g.useState(!1),[P,R]=g.useState(null);g.useState({});const[M,q]=g.useState([]),[W,B]=g.useState(!1),[D,V]=g.useState(null),[K,G]=g.useState("free");g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{(t==null?void 0:t.email)==="admin@example.com"&&_(!0)},[t]),g.useEffect(()=>{if(!(t!=null&&t.uid))return;(async()=>{try{const z=await Vt(ke(oe,"userProfiles",t.uid));z.exists()&&A(z.data())}catch(z){console.error("Error fetching user profile:",z)}})()},[t==null?void 0:t.uid]),g.useEffect(()=>{if(!(t!=null&&t.uid))return;let F=null;return(async()=>{try{const ie=ke(oe,"profiles",t.uid);F=Fr(ie,async ne=>{var he;try{const ve=ne.exists()?((he=ne.data())==null?void 0:he.savedEnquiries)||[]:[];if(ve.length===0){q([]);return}const ge=ve.map(async le=>{try{const de=await Vt(ke(oe,"enquiries",le));return de.exists()?{id:de.id,...de.data()}:null}catch(de){return console.error(`Error fetching saved enquiry ${le}:`,de),null}}),X=(await Promise.all(ge)).filter(le=>le!==null);q(X)}catch(ve){console.error("Error processing saved enquiries snapshot:",ve)}},ne=>{var he,ve;(he=ne==null?void 0:ne.message)!=null&&he.includes("CORS")||(ve=ne==null?void 0:ne.message)!=null&&ve.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in saved enquiries listener. Real-time updates may be limited."):console.error("Error listening to saved enquiries:",ne)})}catch(ie){console.error("Error setting up saved enquiries listener:",ie)}})(),()=>{F&&F()}},[t==null?void 0:t.uid]);const Q=async(F=!1)=>{if(!t){E(!1),j(!1);return}F&&I(!0),F||j(!1),console.log("Dashboard: Starting to fetch data for user:",t.uid);try{console.log("Dashboard: Fetching initial data with getDocs (simplified)");const z=await Bt(bt(Ze(oe,"enquiries"),Pt("userId","==",t.uid),ln("createdAt","desc"),Ru(10)));let ie;try{ie=await Bt(bt(Ze(oe,"sellerSubmissions"),Pt("sellerId","==",t.uid),ln("createdAt","desc")))}catch(le){console.error("Dashboard: Query with orderBy failed, trying without orderBy:",le),ie=await Bt(bt(Ze(oe,"sellerSubmissions"),Pt("sellerId","==",t.uid)))}const ne=[];z.forEach(le=>{ne.push({id:le.id,...le.data()})}),h(ne);const he=[];ie.forEach(le=>{const de={id:le.id,...le.data()};de.userProfileVerified=e,he.push(de)}),he.sort((le,de)=>{var Tt,ht;const Ge=(Tt=le.createdAt)!=null&&Tt.toDate?le.createdAt.toDate():new Date(le.createdAt);return((ht=de.createdAt)!=null&&ht.toDate?de.createdAt.toDate():new Date(de.createdAt)).getTime()-Ge.getTime()}),console.log("Dashboard:  Seller submissions loaded from fetchDashboardData:",he.length),console.log("Dashboard: Setting seller submissions state NOW"),m(he),w(he),j(!0),console.log("Dashboard:  responsesSummary state updated with",he.length,"items - responsesReady set to true");const ve=ne.map(async le=>{try{const de=bt(Ze(oe,"sellerSubmissions"),Pt("enquiryId","==",le.id),ln("createdAt","desc"),Ru(20)),Ge=await Bt(de),Xe=[];return Ge.forEach(Tt=>Xe.push({id:Tt.id,...Tt.data()})),{enquiryId:le.id,responses:Xe}}catch{return{enquiryId:le.id,responses:[]}}}),ge=await Promise.all(ve),X={};ge.forEach(({enquiryId:le,responses:de})=>{X[le]=de}),p(X),console.log("Dashboard: All initial data loaded"),I(!1)}catch(z){console.error("Dashboard: Error fetching initial data:",z),I(!1),E(!1),j(!1),w([]),c("system",{title:"Failed to Load Dashboard Data",message:"There was an issue loading your data. Please try refreshing the page.",priority:"high",actionUrl:"/dashboard",actionText:"Refresh Page"})}},ae=()=>{Q(!0)};g.useEffect(()=>{if(!t)return;let F=null,z=null,ie=null;return(async()=>{E(!0),j(!1),w([]);try{await Q(),console.log("Dashboard: setupDashboard complete, responsesReady should be true now")}catch(X){console.error("Dashboard: Error in setupDashboard:",X),E(!1),j(!1);return}const he=bt(Ze(oe,"sellerSubmissions"),Pt("sellerId","==",t.uid),ln("createdAt","desc"));let ve=!0;z=Fr(he,X=>{const le=[];if(X.forEach(de=>{const Ge={id:de.id,...de.data()};Ge.userProfileVerified=e,le.push(Ge)}),le.sort((de,Ge)=>{var ht,Ct;const Xe=(ht=de.createdAt)!=null&&ht.toDate?de.createdAt.toDate():new Date(de.createdAt);return((Ct=Ge.createdAt)!=null&&Ct.toDate?Ge.createdAt.toDate():new Date(Ge.createdAt)).getTime()-Xe.getTime()}),ve){ve=!1,console.log("Dashboard: Skipping initial snapshot, data already loaded");return}console.log("Dashboard: Seller submissions updated (realtime):",le.length),m(le),w(le),j(!0)},X=>{var le,de;(le=X==null?void 0:X.message)!=null&&le.includes("CORS")||(de=X==null?void 0:X.message)!=null&&de.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in seller submissions listener. Real-time updates may be limited."):console.error("Error in seller submissions listener:",X)}),E(!1);const ge=bt(Ze(oe,"enquiries"),Pt("userId","==",t.uid),ln("createdAt","desc"),Ru(10));F=Fr(ge,X=>{const le=[];X.forEach(Ge=>{const Xe=Ge.data();Xe.deadline&&(Xe.deadline.toDate?Xe.deadline.toDate():new Date(Xe.deadline)),Xe.status!=="pending_payment"&&le.push({id:Ge.id,...Xe})}),le.sort((Ge,Xe)=>{var Ct,vt;const Tt=(Ct=Ge.createdAt)!=null&&Ct.toDate?Ge.createdAt.toDate():new Date(Ge.createdAt);return((vt=Xe.createdAt)!=null&&vt.toDate?Xe.createdAt.toDate():new Date(Xe.createdAt)).getTime()-Tt.getTime()}),h(le),(async()=>{if(le.length===0){p({});return}const Ge={},Xe=le;if(Xe.length===0){p({});return}const Tt=Xe.map(async Ct=>{try{const vt=bt(Ze(oe,"sellerSubmissions"),Pt("enquiryId","==",Ct.id)),Ot=await Bt(vt),_r=[];return Ot.forEach(rr=>{_r.push({id:rr.id,...rr.data()})}),{enquiryId:Ct.id,responses:_r}}catch(vt){return console.error("Error fetching responses for enquiry:",Ct.id,vt),{enquiryId:Ct.id,responses:[]}}});(await Promise.all(Tt)).forEach(({enquiryId:Ct,responses:vt})=>{Ge[Ct]=vt}),p(Ge)})()},X=>{var le,de;(le=X==null?void 0:X.message)!=null&&le.includes("CORS")||(de=X==null?void 0:X.message)!=null&&de.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in enquiries listener. Real-time updates may be limited."):console.error("Dashboard: Enquiry listener error:",X)});try{const X=bt(Ze(oe,"chats"),Pt("participants","array-contains",t.uid));ie=Fr(X,le=>{try{le.docChanges().forEach(de=>{try{if(de.type==="modified"){const Ge=de.doc.data();if(!Ge||!Ge.lastMessage||!Ge.enquiryId)return;const Xe=Ge.lastMessage;Xe&&Xe.senderId!==t.uid&&Ge.enquiryId&&c("new_chat",{title:" New Message",message:`${Xe.senderName||"Someone"}: ${(Xe.text||"").substring(0,50)}${(Xe.text||"").length>50?"...":""}`,priority:"medium",actionUrl:`/enquiry/${Ge.enquiryId}/responses`,actionText:"Open Chat"})}}catch(Ge){console.error("Error processing chat change:",Ge)}})}catch(de){console.error("Error processing chat snapshot:",de)}},le=>{var de,Ge;(de=le==null?void 0:le.message)!=null&&de.includes("CORS")||(Ge=le==null?void 0:le.message)!=null&&Ge.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in chat listener. Real-time updates may be limited."):console.error("Firestore chat listener error:",le)})}catch(X){console.error("Error setting up chat listener:",X)}})().catch(he=>{console.error("Dashboard setup error:",he),E(!1)}),()=>{F&&F(),z&&z(),ie&&ie()}},[t,c,e]),g.useEffect(()=>{let F;const z=()=>{!document.hidden&&t&&(F&&window.clearTimeout(F),F=window.setTimeout(()=>{console.log("Dashboard: Page became visible (debounced), refreshing data"),Q(!0)},500))},ie=ve=>{(ve.key===null||ve.key.startsWith("pal"))&&(console.log("Dashboard: Storage cleared, refreshing data"),Q(!0))},ne=()=>{console.log("Dashboard: Data cleared event received, refreshing data"),Q(!0)};document.addEventListener("visibilitychange",z),window.addEventListener("storage",ie),window.addEventListener("palDataCleared",ne);const he=setInterval(()=>{t&&!document.hidden&&(console.log("Dashboard: Periodic refresh"),Q(!0))},3e4);return()=>{document.removeEventListener("visibilitychange",z),window.removeEventListener("storage",ie),window.removeEventListener("palDataCleared",ne),clearInterval(he),F&&window.clearTimeout(F)}},[t]);const U=async F=>{try{await cc(ke(oe,"enquiries",F)),h(z=>z.filter(ie=>ie.id!==F)),p(z=>{const ie={...z};return delete ie[F],ie}),ce({title:"Enquiry Deleted",description:"Your enquiry has been successfully deleted.",variant:"default"})}catch(z){console.error("Error deleting enquiry:",z),ce({title:"Error",description:"Failed to delete enquiry. Please try again.",variant:"destructive"})}},Y=async(F,z)=>{if(!(!D||!t))try{R(D.id);const ie=`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,ne=ls.find(ve=>ve.id===F);if(!ne)throw new Error("Plan not found");const he=await xj(D.id,t.uid,ne,ie);await yj(t.uid,F,he,D.id),await dt(ke(oe,"enquiries",D.id),{selectedPlanId:F,selectedPlanPrice:z,isPremium:z>0,updatedAt:$e()}),h(ve=>ve.map(ge=>ge.id===D.id?{...ge,selectedPlanId:F,selectedPlanPrice:z,isPremium:z>0}:ge)),B(!1),V(null),R(null),ce({title:"Payment Successful! ",description:`Your enquiry has been upgraded to ${ne.name} plan.`,variant:"default"})}catch(ie){console.error("Error upgrading enquiry:",ie),R(null),ce({title:"Payment Failed",description:"There was an error processing your payment. Please try again.",variant:"destructive"})}},ue=(F,z)=>{z.stopPropagation(),V(F),G(F.selectedPlanId||"free"),B(!0)},Z=F=>{const z=x[F]||[],ie=d.find(X=>X.id===F);if(!ie)return z;const ne=ie.selectedPlanId||"free";console.log(" Dashboard getVisibleResponses DEBUG:",{enquiryId:F,totalResponses:z.length,selectedPlanId:ne,isPremiumUser:a.premiumSubscription,isPremiumEnquiry:ie.isPremium,userEmail:t==null?void 0:t.email,enquiryTitle:ie.title,enquiryBudget:ie.budget});let he=2;switch(ne){case"free":he=2;break;case"basic":he=5;break;case"standard":he=10;break;case"premium":case"pro":he=-1;break;default:he=2}if(he===-1)return console.log(" Showing all responses (unlimited plan)"),z;const ve=z.slice(0,he),ge=Math.max(0,z.length-he);return console.log(" PLAN LIMIT RESULT:",{plan:ne,limit:he,visible:ve.length,locked:ge,total:z.length,status:ge>0?"LIMITED":"ALL_VISIBLE"}),ve},Pe=F=>{const z=x[F]||[],ie=d.find(ge=>ge.id===F);if(!ie)return[];const ne=ie.selectedPlanId||"free";let he=2;switch(ne){case"free":he=2;break;case"basic":he=5;break;case"standard":he=10;break;case"premium":case"pro":he=-1;break;default:he=2}if(he===-1)return console.log("No locked responses (unlimited plan)"),[];const ve=z.slice(he);return console.log(`Locked responses for ${ne} plan:`,ve.length),ve},te=F=>{const z=x[F]||[],ie=Z(F);return Math.max(0,z.length-ie.length)},ye=()=>{console.log(" TESTING PREMIUM PLAN LIMITS:"),console.log("================================"),d.forEach(F=>{const z=x[F.id]||[],ie=Z(F.id),ne=Pe(F.id);console.log(`
 Enquiry: "${F.title}"`),console.log(`   Plan: ${F.selectedPlanId||"free"}`),console.log(`   Total Responses: ${z.length}`),console.log(`   Visible: ${ie.length}`),console.log(`   Locked: ${ne.length}`),console.log(`   Status: ${ne.length>0?"LIMITED":"ALL_VISIBLE"}`)}),console.log(`
 Test completed! Check the results above.`)};return window.testPremiumPlanLimits=ye,N?i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 px-4 py-8",children:i.jsx("div",{className:"text-center w-full max-w-2xl mx-auto flex flex-col items-center justify-center",children:i.jsxs("div",{className:"bg-white p-6 sm:p-10 rounded-2xl sm:rounded-3xl border border-gray-200 shadow-lg sm:shadow-xl flex flex-col items-center justify-center w-full",children:[i.jsxs("svg",{viewBox:"0 0 500 280",className:"w-full h-[200px] sm:h-[250px] mx-auto mb-4 sm:mb-6",preserveAspectRatio:"xMidYMid meet",children:[i.jsxs("g",{id:"step1",transform:"translate(80, 80)",children:[i.jsxs("g",{children:[i.jsx("circle",{cx:"0",cy:"-25",r:"20",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-4; 0,0",dur:"2s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"-8",cy:"-32",r:"3",fill:"#1F2937"}),i.jsx("circle",{cx:"8",cy:"-32",r:"3",fill:"#1F2937"}),i.jsx("path",{d:"M-8,-18 Q0,-14 8,-18",stroke:"#1F2937",strokeWidth:"2",fill:"none"}),i.jsx("ellipse",{cx:"0",cy:"5",rx:"15",ry:"25",fill:"none",stroke:"#1F2937",strokeWidth:"2.5"})]}),i.jsxs("g",{transform:"translate(40, -10)",children:[i.jsx("rect",{x:"0",y:"0",width:"0",height:"35",rx:"4",fill:"#F9FAFB",stroke:"#1F2937",strokeWidth:"2",children:i.jsx("animate",{attributeName:"width",values:"0;50;50;50",dur:"4s",repeatCount:"indefinite",begin:"0s"})}),i.jsxs("line",{x1:"5",y1:"8",x2:"0",y2:"8",stroke:"#1F2937",strokeWidth:"1.5",opacity:"0",children:[i.jsx("animate",{attributeName:"x2",values:"0;40;40;40",dur:"4s",repeatCount:"indefinite",begin:"0.5s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"0.5s"})]}),i.jsxs("line",{x1:"5",y1:"18",x2:"0",y2:"18",stroke:"#1F2937",strokeWidth:"1.5",opacity:"0",children:[i.jsx("animate",{attributeName:"x2",values:"0;35;35;35",dur:"4s",repeatCount:"indefinite",begin:"0.8s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"0.8s"})]})]}),i.jsx("circle",{cx:"0",cy:"-25",r:"30",fill:"none",stroke:"#E5E7EB",strokeWidth:"2"}),i.jsxs("circle",{cx:"0",cy:"-25",r:"30",fill:"none",stroke:"#1F2937",strokeWidth:"2",strokeDasharray:"47 94",transform:"rotate(-90 0 -25)",opacity:"0",children:[i.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"-90 0 -25; 270 0 -25",dur:"1.5s",repeatCount:"indefinite",begin:"0s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"0s"})]})]}),i.jsxs("g",{transform:"translate(170, 125)",children:[i.jsxs("line",{x1:"0",y1:"0",x2:"70",y2:"0",stroke:"#1F2937",strokeWidth:"3",opacity:"0",children:[i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;70,0;0,0",dur:"1.5s",repeatCount:"indefinite",begin:"1.5s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"1.5s"})]}),i.jsx("polygon",{points:"75,0 62,-6 62,6",fill:"#1F2937",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"1.5s"})})]}),i.jsxs("g",{id:"step2",transform:"translate(260, 80)",children:[i.jsxs("rect",{x:"-30",y:"-30",width:"60",height:"60",rx:"8",fill:"none",stroke:"#1F2937",strokeWidth:"3",opacity:"0",children:[i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"0.8;1;1;1",dur:"4s",repeatCount:"indefinite",begin:"2s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"2s"})]}),i.jsx("rect",{x:"-22",y:"-22",width:"44",height:"44",fill:"#F9FAFB",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"2s"})}),i.jsxs("circle",{cx:"0",cy:"-10",r:"6",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.2s"}),i.jsx("animate",{attributeName:"r",values:"6;7;6",dur:"1s",repeatCount:"indefinite",begin:"2.2s"})]}),i.jsxs("circle",{cx:"-12",cy:"0",r:"5",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.4s"}),i.jsx("animate",{attributeName:"r",values:"5;6;5",dur:"1s",repeatCount:"indefinite",begin:"2.4s"})]}),i.jsxs("circle",{cx:"12",cy:"0",r:"5",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.6s"}),i.jsx("animate",{attributeName:"r",values:"5;6;5",dur:"1s",repeatCount:"indefinite",begin:"2.6s"})]}),i.jsxs("circle",{cx:"0",cy:"10",r:"6",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.8s"}),i.jsx("animate",{attributeName:"r",values:"6;7;6",dur:"1s",repeatCount:"indefinite",begin:"2.8s"})]}),i.jsx("line",{x1:"-12",y1:"0",x2:"0",y2:"-10",stroke:"#1F2937",strokeWidth:"2",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;0.5;0.5;0",dur:"4s",repeatCount:"indefinite",begin:"2.5s"})}),i.jsx("line",{x1:"12",y1:"0",x2:"0",y2:"-10",stroke:"#1F2937",strokeWidth:"2",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;0.5;0.5;0",dur:"4s",repeatCount:"indefinite",begin:"2.7s"})})]}),i.jsxs("g",{transform:"translate(330, 125)",children:[i.jsxs("line",{x1:"0",y1:"0",x2:"70",y2:"0",stroke:"#1F2937",strokeWidth:"3",opacity:"0",children:[i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;70,0;0,0",dur:"1.5s",repeatCount:"indefinite",begin:"3.5s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"3.5s"})]}),i.jsx("polygon",{points:"75,0 62,-6 62,6",fill:"#1F2937",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"3.5s"})})]}),i.jsxs("g",{id:"step3",transform:"translate(420, 80)",children:[i.jsxs("g",{transform:"translate(-25, 0)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"18",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:[i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-8; 0,0",dur:"2s",repeatCount:"indefinite",begin:"4s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"4s"})]}),i.jsx("circle",{cx:"-6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("circle",{cx:"6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("path",{d:"M-8,8 Q0,5 8,8",stroke:"#1F2937",strokeWidth:"2",fill:"none"})]}),i.jsxs("g",{transform:"translate(0, 0)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"18",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:[i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-8; 0,0",dur:"2s",repeatCount:"indefinite",begin:"4.3s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"4.3s"})]}),i.jsx("circle",{cx:"-6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("circle",{cx:"6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("path",{d:"M-8,8 Q0,5 8,8",stroke:"#1F2937",strokeWidth:"2",fill:"none"})]}),i.jsxs("g",{transform:"translate(25, 0)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"18",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:[i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-8; 0,0",dur:"2s",repeatCount:"indefinite",begin:"4.6s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"4.6s"})]}),i.jsx("circle",{cx:"-6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("circle",{cx:"6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("path",{d:"M-8,8 Q0,5 8,8",stroke:"#1F2937",strokeWidth:"2",fill:"none"})]})]}),i.jsxs("g",{transform:"translate(250, 180)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"25",fill:"#1F2937",opacity:"0.8",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.8;0.8;0",dur:"4s",repeatCount:"indefinite",begin:"6.5s"}),i.jsx("animate",{attributeName:"r",values:"25;28;25",dur:"1.5s",repeatCount:"indefinite",begin:"6.5s"})]}),i.jsxs("path",{d:"M-10,-3 L-3,8 L10,-8",stroke:"white",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"6.5s"}),i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"6.5s"})]})]}),i.jsxs("g",{transform:"translate(100, 240)",children:[i.jsx("rect",{x:"0",y:"0",width:"300",height:"6",rx:"3",fill:"#E5E7EB"}),i.jsx("rect",{x:"0",y:"0",width:"0",height:"6",rx:"3",fill:"#1F2937",children:i.jsx("animate",{attributeName:"width",values:"0;75;150;225;300;300",dur:"8s",repeatCount:"indefinite"})})]})]}),i.jsxs("p",{className:"text-base sm:text-xl text-slate-700 font-semibold text-center tracking-tight",children:["Loading your dashboard",i.jsx("span",{className:"inline-block animate-pulse",children:"..."})]})]})})})}):i.jsx(wt,{children:i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-6 pt-0 sm:pt-2 pb-2 sm:pb-8",children:[i.jsx("div",{className:"mb-1 sm:mb-2 relative z-50 -mt-2 sm:-mt-4",children:i.jsx(H,{variant:"ghost",type:"button",onClick:F=>{F.preventDefault(),F.stopPropagation(),u("/")},className:"p-2 sm:p-2 hover:bg-slate-100 rounded-xl transition-colors relative z-50",children:i.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5"})})}),i.jsxs("div",{className:"text-center mb-4 sm:mb-16 px-2 -mt-2 sm:-mt-6",children:[i.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 mb-1.5 sm:mb-3",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 sm:w-20 sm:h-20 bg-gray-800 rounded-lg sm:rounded-2xl shadow-lg sm:shadow-xl",children:i.jsx($C,{className:"h-4 w-4 sm:h-10 sm:w-10 text-white"})}),i.jsx(H,{onClick:ae,disabled:T,variant:"outline",size:"sm",className:"h-7 w-7 sm:h-12 sm:w-12 rounded-full shadow-lg sm:shadow-xl hover:shadow-2xl transition-all duration-200 hover:scale-105",title:"Refresh Dashboard Data",children:i.jsx(wb,{className:`h-3 w-3 sm:h-5 sm:w-5 ${T?"animate-spin":""}`})})]}),i.jsx("h1",{className:"mb-0.5 sm:mb-2",children:i.jsx(X_,{name:(S==null?void 0:S.fullName)||"User",isVerified:(S==null?void 0:S.isProfileVerified)||!1,className:"text-2xl sm:text-7xl font-bold text-slate-900 inline-flex items-center gap-1.5 justify-center"})}),i.jsx("p",{className:"text-xs sm:text-base text-slate-600 max-w-3xl mx-auto leading-relaxed px-2 text-center",children:"Use AI to search for you"})]}),i.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-2 gap-2 sm:gap-6 mb-3 sm:mb-20",children:[i.jsx(xe,{className:"border shadow-sm bg-white rounded-lg",onClick:F=>F.stopPropagation(),children:i.jsxs(Ue,{className:"p-2 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-3",children:[i.jsx("div",{className:"w-5 h-5 sm:w-8 sm:h-8 bg-blue-600 rounded-md flex items-center justify-center",children:i.jsx(fr,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-white"})}),i.jsx(aue,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-blue-600 opacity-60"})]}),i.jsx("h3",{className:"text-base sm:text-2xl font-bold text-slate-900 mb-0.5 sm:mb-2",children:d.length}),i.jsx("p",{className:"text-slate-600 font-semibold text-[10px] sm:text-xs",children:"Total Enquiries"}),i.jsxs("div",{className:"mt-0.5 sm:mt-3 flex items-center text-[9px] sm:text-xs text-slate-500",children:[i.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"All your enquiries and needs"}),i.jsx("span",{className:"sm:hidden",children:"All enquiries"})]})]})}),i.jsx(xe,{className:"border shadow-sm bg-white rounded-lg",onClick:F=>F.stopPropagation(),children:i.jsxs(Ue,{className:"p-2 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-3",children:[i.jsx("div",{className:"w-5 h-5 sm:w-8 sm:h-8 bg-emerald-600 rounded-md flex items-center justify-center",children:i.jsx(yr,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-white"})}),i.jsx(Lg,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-emerald-600 opacity-60"})]}),i.jsx("h3",{className:"text-base sm:text-2xl font-bold text-slate-900 mb-0.5 sm:mb-2",children:d.filter(F=>F.status==="live").length}),i.jsx("p",{className:"text-slate-600 font-semibold text-[10px] sm:text-xs",children:"Active Enquiries"}),i.jsxs("div",{className:"mt-0.5 sm:mt-3 flex items-center text-[9px] sm:text-xs text-slate-500",children:[i.jsx("span",{className:"w-1 h-1 bg-emerald-500 rounded-full mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Active enquiries getting responses"}),i.jsx("span",{className:"sm:hidden",children:"Getting responses"})]})]})}),i.jsx(xe,{className:"border shadow-sm bg-white rounded-lg",onClick:F=>F.stopPropagation(),children:i.jsxs(Ue,{className:"p-2 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-3",children:[i.jsx("div",{className:"w-5 h-5 sm:w-8 sm:h-8 bg-orange-600 rounded-md flex items-center justify-center",children:i.jsx(Du,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-white"})}),i.jsx(Du,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-orange-600 opacity-60"})]}),i.jsx("h3",{className:"text-base sm:text-2xl font-bold text-slate-900 mb-0.5 sm:mb-2",children:M.length}),i.jsx("p",{className:"text-slate-600 font-semibold text-[10px] sm:text-xs",children:"Saved Enquiries"}),i.jsxs("div",{className:"mt-0.5 sm:mt-3 flex items-center text-[9px] sm:text-xs text-slate-500",children:[i.jsx("span",{className:"w-1 h-1 bg-orange-500 rounded-full mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Your bookmarked favourites"}),i.jsx("span",{className:"sm:hidden",children:"Bookmarked"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-6 lg:gap-8 mb-0",children:[i.jsxs(xe,{className:"group cursor-pointer border-2 border-blue-200 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden bg-white hover:bg-gradient-to-br hover:from-blue-50 hover:to-blue-100 rounded-2xl relative",onClick:F=>{F.stopPropagation(),u("/my-enquiries")},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),i.jsxs(jt,{className:"p-3 sm:p-8 pb-2 sm:pb-6 relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-8",children:[i.jsx("div",{className:"w-10 h-10 sm:w-20 sm:h-20 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl sm:rounded-3xl flex items-center justify-center shadow-lg sm:shadow-xl group-hover:scale-110 transition-transform duration-300",children:i.jsx(fr,{className:"h-5 w-5 sm:h-10 sm:w-10 text-white"})}),i.jsx("div",{className:"text-right",children:i.jsxs(Te,{className:"bg-blue-100 text-blue-800 text-xs sm:text-sm font-semibold px-2 sm:px-4 py-1 sm:py-2 rounded-full",children:[d.length," Total"]})})]}),i.jsxs("div",{className:"text-left lg:text-center",children:[i.jsx("h2",{className:"text-sm sm:text-2xl md:text-3xl lg:text-4xl font-bold text-slate-900 mb-1 sm:mb-4 whitespace-nowrap",children:"Your Enquiries"}),i.jsx("p",{className:"text-slate-600 text-xs sm:text-lg leading-relaxed",children:"Track all your simple needs to mighty requirements"})]})]}),i.jsxs(Ue,{className:"p-3 sm:p-6 lg:p-8 pt-0 relative z-10",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-1 sm:gap-4 mb-3 sm:mb-8",children:[i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-emerald-50 rounded-lg sm:rounded-2xl border border-emerald-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-emerald-600 mb-0.5 sm:mb-2",children:d.filter(F=>F.status==="live").length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-emerald-700 font-semibold",children:"Live"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-amber-50 rounded-lg sm:rounded-2xl border border-amber-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-amber-600 mb-0.5 sm:mb-2",children:d.filter(F=>F.status==="pending").length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-amber-700 font-semibold",children:"Pending"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-slate-50 rounded-lg sm:rounded-2xl border border-slate-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-slate-600 mb-0.5 sm:mb-2",children:d.filter(F=>F.status==="completed").length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-slate-700 font-semibold",children:"Completed"})]})]}),i.jsxs("div",{className:"mb-3 sm:mb-8",children:[i.jsx("h4",{className:"text-xs sm:text-xl font-semibold text-slate-800 mb-1 sm:mb-4",children:"Your Enquiries"}),d.length===0?i.jsx("p",{className:"text-slate-500 text-center py-3 text-xs sm:text-sm",children:"No enquiries yet"}):i.jsx("div",{className:"space-y-2 sm:space-y-3",children:(()=>{const F=new Date,z=le=>le.deadline?(le.deadline.toDate?le.deadline.toDate():new Date(le.deadline))<F:!1,ie=le=>le!=null&&le.toDate?le.toDate():new Date(le),ne=d.filter(le=>!z(le)).sort((le,de)=>ie(de.createdAt).getTime()-ie(le.createdAt).getTime()),he=d.filter(le=>z(le)).sort((le,de)=>ie(de.createdAt).getTime()-ie(le.createdAt).getTime()),ve=ne.slice(0,3),ge=he.slice(0,3-ve.length);return[...ve,...ge].map(le=>{const de=x[le.id]||[];Z(le.id),Pe(le.id);const Ge=te(le.id),Xe=z(le),ht=(()=>{if(le.selectedPlanId)switch(le.selectedPlanId){case"free":return{name:"Free Plan",price:"0"};case"basic":return{name:"Basic Plan",price:"99"};case"standard":return{name:"Standard Plan",price:"199"};case"premium":return{name:"Premium Plan",price:"499"};case"pro":return{name:"Pro Plan",price:"1,499"};default:return{name:"Paid Plan",price:"0"}}else return le.isPremium?{name:"Premium Plan",price:"0"}:{name:"Free Plan",price:"0"}})();return i.jsxs("div",{className:`rounded-lg sm:rounded-xl shadow-sm transition-all duration-200 overflow-hidden ${Xe?"opacity-70 grayscale pointer-events-none bg-gray-100 border-2 border-gray-300":"bg-white border-2 border-blue-200 hover:shadow-md cursor-pointer"}`,onClick:()=>!Xe&&u(`/my-enquiries?highlight=${le.id}`),children:[i.jsxs("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h5",{className:`text-xs sm:text-lg font-semibold truncate ${Xe?"text-gray-300":"text-white"}`,children:le.title}),i.jsx(Te,{className:`text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 ${le.selectedPlanId==="free"||!le.selectedPlanId&&!le.isPremium?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-800"}`,children:ht.name})]}),Xe&&i.jsx("div",{className:"mt-1 text-[10px] sm:text-xs text-red-300",children:"Expired"})]}),i.jsxs("div",{className:"p-2 sm:p-4",children:[i.jsxs("div",{className:"mb-1 sm:mb-2",children:[i.jsxs("span",{className:"text-xs sm:text-base font-medium text-green-600",children:[de.length," responses"]}),Ge>0&&i.jsxs("span",{className:"text-[10px] sm:text-xs text-slate-500 ml-1 sm:ml-2",children:["(",Ge," locked)"]})]}),i.jsx("div",{className:"mb-2 sm:mb-3",children:i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-[10px] sm:text-sm text-slate-600",children:[i.jsx(un,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500"}),i.jsxs("span",{children:[ht.name," (",ht.price,")"]}),le.selectedPlanPrice&&le.selectedPlanPrice>0&&i.jsxs("span",{className:"font-semibold text-blue-600",children:["- ",le.selectedPlanPrice]})]})}),le.deadline&&i.jsx("div",{className:"mb-2 sm:mb-3",children:i.jsx(wy,{deadline:le.deadline.toDate?le.deadline.toDate():new Date(le.deadline),className:"justify-start"})}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:Ct=>{Ct.stopPropagation(),u(`/enquiry/${le.id}/responses`)},disabled:de.length===0,className:"text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9",children:"View Responses"}),!le.isPremium&&i.jsx(H,{variant:"default",size:"sm",onClick:Ct=>ue(le,Ct),className:"text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9 bg-blue-600 hover:bg-blue-700 text-white",children:"Upgrade"}),le.isPremium&&i.jsx(Te,{className:"bg-blue-100 text-blue-800 text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 sm:py-1",children:"Premium"}),i.jsx(H,{variant:"destructive",size:"sm",onClick:Ct=>{Ct.stopPropagation(),window.confirm(`Are you sure you want to delete the enquiry "${le.title}"? This action cannot be undone.`)&&U(le.id)},className:"text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9",children:"Delete"})]})]})]},le.id)})})()})]}),d.length>3&&i.jsx("div",{className:"flex justify-center mt-1 sm:mt-4",children:i.jsx(H,{variant:"outline",onClick:F=>{F.stopPropagation(),u("/my-enquiries")},className:"h-5 sm:h-9 text-[9px] sm:text-sm px-2 sm:px-4",children:"Show More"})})]})]}),i.jsxs(xe,{className:"group cursor-pointer border-2 border-blue-200 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden bg-white hover:bg-gradient-to-br hover:from-gray-50 hover:to-gray-100 rounded-2xl relative",onClick:F=>{F.stopPropagation(),u("/my-responses")},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-800/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),i.jsxs(jt,{className:"p-3 sm:p-8 pb-2 sm:pb-6 relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-8",children:[i.jsx("div",{className:"w-10 h-10 sm:w-20 sm:h-20 bg-gradient-to-br from-gray-700 to-gray-800 rounded-xl sm:rounded-3xl flex items-center justify-center shadow-lg sm:shadow-xl group-hover:scale-110 transition-transform duration-300",children:i.jsx(Nh,{className:"h-5 w-5 sm:h-10 sm:w-10 text-white"})}),i.jsx("div",{className:"text-right",children:i.jsx(Te,{className:"bg-gray-100 text-gray-800 text-xs sm:text-sm font-semibold px-2 sm:px-4 py-1 sm:py-2 rounded-full",children:b?`${v.length} Total`:"Loading..."})})]}),i.jsxs("div",{className:"text-left lg:text-center",children:[i.jsx("h2",{className:"text-sm sm:text-2xl md:text-3xl lg:text-4xl font-bold text-slate-900 mb-1 sm:mb-4 whitespace-nowrap",children:"Your Responses"}),i.jsx("p",{className:"text-xs sm:text-lg text-slate-600 leading-relaxed",children:"Track your seller submissions and their status"})]})]}),i.jsxs(Ue,{className:"p-3 sm:p-6 lg:p-8 pt-0 relative z-10",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-1 sm:gap-4 mb-3 sm:mb-8",children:[i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-emerald-50 rounded-lg sm:rounded-2xl border border-emerald-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-emerald-600 mb-0.5 sm:mb-2",children:b?v.filter(F=>F.status==="approved").length:""}),i.jsx("div",{className:"text-[10px] sm:text-sm text-emerald-700 font-semibold",children:"Approved"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-amber-50 rounded-lg sm:rounded-2xl border border-amber-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-amber-600 mb-0.5 sm:mb-2",children:b?v.filter(F=>F.status==="pending").length:""}),i.jsx("div",{className:"text-[10px] sm:text-sm text-amber-700 font-semibold",children:"Reviewing"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-red-50 rounded-lg sm:rounded-2xl border border-red-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-red-600 mb-0.5 sm:mb-2",children:b?v.filter(F=>F.status==="rejected").length:""}),i.jsx("div",{className:"text-[10px] sm:text-sm text-red-700 font-semibold",children:"Rejected"})]})]}),i.jsxs("div",{className:"mb-3 sm:mb-8",children:[i.jsx("h4",{className:"text-xs sm:text-xl font-semibold text-slate-800 mb-1 sm:mb-4",children:"Your Submissions"}),b?v.length===0?i.jsx("div",{className:"text-slate-500 text-center py-3 text-xs sm:text-sm",children:i.jsx("p",{children:"No submissions yet"})}):i.jsx("div",{className:"space-y-2 sm:space-y-3",children:v.slice(0,3).map(F=>{var z,ie;return i.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl border-2 border-blue-200 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h5",{className:"text-xs sm:text-lg font-semibold text-white truncate",children:F.title}),i.jsx(Te,{className:`text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 ${F.status==="approved"?"bg-green-100 text-green-700":F.status==="pending"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:F.status.charAt(0).toUpperCase()+F.status.slice(1)})]})}),i.jsxs("div",{className:"p-2 sm:p-4",children:[i.jsxs("div",{className:"mb-1 sm:mb-2",children:[i.jsx("span",{className:"text-xs sm:text-base font-medium text-blue-600",children:F.status==="approved"?"Live Response":"Under Review"}),F.status==="approved"&&i.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500 ml-1 sm:ml-2",children:"(Ready for chat)"})]}),i.jsx("div",{className:"mb-2 sm:mb-3",children:i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-[10px] sm:text-sm text-slate-600",children:[i.jsx("span",{className:"font-medium",children:"Experience:"}),i.jsx("span",{children:((z=F.message)==null?void 0:z.split(" ").slice(0,3).join(" "))||"Professional service"})]})}),i.jsx("div",{className:"mb-2 sm:mb-3",children:i.jsxs("div",{className:"text-[10px] sm:text-sm text-slate-500",children:["Submitted: ",(ie=F.createdAt)!=null&&ie.toDate?F.createdAt.toDate().toLocaleString():"N/A"]})}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap",children:[F.status==="approved"&&i.jsx(H,{size:"sm",variant:"outline",onClick:ne=>{ne.stopPropagation(),u(`/enquiry/${F.enquiryId}/responses?sellerId=${F.sellerId}`)},className:"text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9",children:"Chat"}),i.jsx(H,{variant:"outline",size:"sm",onClick:ne=>{ne.stopPropagation(),u("/my-responses")},className:"text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9",children:"View Details"})]})]})]},F.id)})}):i.jsx("div",{className:"text-slate-500 text-center py-3 text-xs sm:text-sm",children:i.jsx("p",{children:"Loading your submissions..."})})]}),v.length>3&&i.jsx("div",{className:"flex justify-center mt-1 sm:mt-4",children:i.jsx(H,{variant:"outline",onClick:F=>{F.stopPropagation(),u("/my-responses")},className:"h-5 sm:h-9 text-[9px] sm:text-sm px-2 sm:px-4",children:"Show More"})})]})]})]}),i.jsxs(xe,{className:"group cursor-pointer border-2 border-blue-200 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden bg-white hover:bg-gradient-to-br hover:from-orange-50 hover:to-orange-100 rounded-2xl mt-8 sm:mt-6 lg:mt-8",onClick:F=>F.stopPropagation(),onTouchStart:F=>F.stopPropagation(),style:{position:"relative",zIndex:10},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs(jt,{className:"p-3 sm:p-8 pb-2 sm:pb-6 relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-8",children:[i.jsx("div",{className:"w-10 h-10 sm:w-20 sm:h-20 bg-gradient-to-br from-orange-600 to-orange-700 rounded-xl sm:rounded-3xl flex items-center justify-center shadow-lg sm:shadow-xl group-hover:scale-110 transition-transform duration-300",children:i.jsx(Du,{className:"h-5 w-5 sm:h-10 sm:w-10 text-white"})}),i.jsx("div",{className:"text-right",children:i.jsxs(Te,{className:"bg-orange-100 text-orange-800 text-xs sm:text-sm font-semibold px-2 sm:px-4 py-1 sm:py-2 rounded-full",children:[M.length," Total"]})})]}),i.jsxs("div",{className:"text-left lg:text-center",children:[i.jsx("h2",{className:"text-sm sm:text-2xl md:text-3xl lg:text-4xl font-bold text-slate-900 mb-1 sm:mb-4 whitespace-nowrap",children:"Your Saved Favorites"}),i.jsx("p",{className:"text-xs sm:text-lg text-slate-600 leading-relaxed",children:"Quickly access your bookmarked enquiries anytime"})]})]}),i.jsxs(Ue,{className:"p-3 sm:p-6 lg:p-8 pt-0 relative z-10",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-1 sm:gap-4 mb-3 sm:mb-8",children:[i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-orange-50 rounded-lg sm:rounded-2xl border border-orange-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-orange-600 mb-0.5 sm:mb-2",children:M.length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-orange-700 font-semibold",children:"Total"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-blue-50 rounded-lg sm:rounded-2xl border border-blue-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-blue-600 mb-0.5 sm:mb-2",children:M.filter(F=>F.status==="live").length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-blue-700 font-semibold",children:"Live"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-purple-50 rounded-lg sm:rounded-2xl border border-purple-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-purple-600 mb-0.5 sm:mb-2",children:M.filter(F=>F.status==="completed").length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-purple-700 font-semibold",children:"Completed"})]})]}),i.jsxs("div",{className:"mb-3 sm:mb-8",children:[i.jsx("h4",{className:"text-xs sm:text-xl font-semibold text-slate-800 mb-1 sm:mb-4",children:"Your Saved Enquiries"}),M.length===0?i.jsx("p",{className:"text-slate-500 text-center py-3 text-xs sm:text-sm",children:"No saved enquiries yet"}):i.jsx("div",{className:"space-y-2 sm:space-y-3",children:M.slice(0,3).map(F=>{var z;return i.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl border-2 border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 p-2 sm:p-4",children:[i.jsx("div",{className:"flex items-start justify-between gap-2",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-xs sm:text-base font-semibold text-gray-900 mb-1 line-clamp-1",children:F.title}),i.jsx("p",{className:"text-[10px] sm:text-sm text-gray-600 mb-2 line-clamp-2",children:F.description}),i.jsxs("div",{className:"flex items-center gap-3 text-[10px] sm:text-sm text-gray-500",children:[i.jsx(Te,{variant:"secondary",className:"text-[9px] sm:text-xs",children:F.category}),i.jsxs("span",{children:["",(z=F.budget)==null?void 0:z.toLocaleString("en-IN")]}),F.location&&i.jsxs("span",{children:[" ",F.location]})]})]})}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>u(`/enquiry/${F.id}`),className:"w-full mt-2 text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9",children:"View Details"})]},F.id)})})]}),M.length>3&&i.jsx("div",{className:"flex justify-center mt-1 sm:mt-4",onClick:F=>F.stopPropagation(),children:i.jsx(H,{variant:"outline",onClick:F=>{F.preventDefault(),F.stopPropagation(),console.log("Navigating to saved enquiries"),u("/saved-enquiries")},className:"h-5 sm:h-9 text-[9px] sm:text-sm px-2 sm:px-4",children:"Show More"})})]})]}),i.jsx(xe,{className:"border-2 border-blue-200 shadow-xl bg-gradient-to-r from-slate-50 to-white overflow-hidden rounded-2xl mt-4 sm:mt-6 lg:mt-8 mb-2 sm:mb-4",onClick:F=>F.stopPropagation(),children:i.jsxs(Ue,{className:"p-3 sm:p-12",children:[i.jsxs("div",{className:"text-center mb-2 sm:mb-10",children:[i.jsx("h3",{className:"text-base sm:text-2xl font-bold text-slate-900 mb-1 sm:mb-4",children:"Quick Actions"}),i.jsx("p",{className:"text-xs sm:text-lg text-slate-600 text-center",children:"Post your needs or help others with their requests"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6 items-center",children:[i.jsx(Je,{to:"/post-enquiry",className:"group flex-1 w-full",children:i.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-200 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[i.jsx(Bg,{className:"h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Post Your Need"})]})}),i.jsx(Je,{to:"/enquiries",className:"group flex-1 w-full",children:i.jsxs("button",{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-200 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[i.jsx(fr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Show All Enquiries"})]})})]})]})})]}),W&&D&&i.jsx(gj,{open:W,onOpenChange:B,children:i.jsxs(xy,{className:"max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs(yy,{children:[i.jsxs(vy,{className:"text-sm sm:text-base font-bold text-center mb-2 sm:mb-4 flex items-center justify-center gap-2",children:[i.jsx(un,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-500"}),'Upgrade Plan for "',D.title,'"']}),i.jsx(by,{className:"text-center text-[10px] sm:text-xs text-slate-600",children:"Choose a plan to unlock more responses and premium features for this enquiry"})]}),i.jsx("div",{className:"mt-6",children:i.jsx(vf,{currentPlanId:K,enquiryId:D.id,userId:(t==null?void 0:t.uid)||"",onPlanSelect:Y,isUpgrade:!0,enquiryCreatedAt:D.createdAt,className:"max-w-5xl mx-auto"})})]})})]})})};class J_{static async analyzeSearchQuery(e){try{const r=e.toLowerCase().trim(),n=this.analyzeWithRules(r);return{category:n.category,confidence:n.confidence,reasoning:n.reasoning,alternativeCategories:n.alternatives}}catch(r){return console.error("AI Search Error:",r),{category:null,confidence:0,reasoning:"Error analyzing search query"}}}static analyzeWithRules(e){const r={automobile:[/\b(car|cars|vehicle|vehicles|auto|automobile|bike|bikes|motorcycle|motorcycles|truck|trucks|scooter|scooters|bus|buses|van|vans|transport|transportation|driving|driver|ride|rides)\b/,/\b(engine|motor|brake|brakes|tire|tires|wheel|wheels|fuel|gas|petrol|diesel|oil|lubricant)\b/,/\b(garage|mechanic|repair|maintenance|service|parts|accessories|insurance|registration)\b/],thrift:[/\b(clothing|clothes|fashion|dress|dresses|shirt|shirts|pants|trousers|jeans|shoes|boots|sneakers|sandals|heels|flats)\b/,/\b(jacket|jackets|coat|coats|sweater|sweaters|hoodie|hoodies|t-shirt|tshirt|blouse|blouses)\b/,/\b(bag|bags|purse|purses|handbag|handbags|backpack|backpacks|wallet|wallets|belt|belts)\b/,/\b(jewelry|jewellery|necklace|necklaces|earrings|bracelet|bracelets|ring|rings|watch|watches)\b/,/\b(accessories|fashion|style|outfit|outfits|wardrobe|thrift|secondhand|used|vintage)\b/],electronics:[/\b(phone|phones|mobile|smartphone|iphone|android|samsung|xiaomi|oneplus|huawei)\b/,/\b(laptop|laptops|computer|computers|pc|mac|macbook|desktop|monitor|monitors|keyboard|mouse)\b/,/\b(tablet|tablets|ipad|android tablet|surface|kindle|ereader)\b/,/\b(camera|cameras|dslr|mirrorless|gopro|action camera|video|recording)\b/,/\b(headphones|earphones|earbuds|speaker|speakers|audio|sound|music|gaming|console)\b/,/\b(tv|television|smart tv|led|lcd|oled|projector|home theater|entertainment)\b/,/\b(gadget|gadgets|tech|technology|electronic|electronics|device|devices|smart|iot)\b/],catering:[/\b(food|meal|meals|eat|eating|restaurant|restaurants|cafe|cafes|coffee|tea|drink|drinks)\b/,/\b(cooking|chef|cook|kitchen|recipe|recipes|ingredients|spices|herbs|flavors)\b/,/\b(catering|caterer|party|parties|event|events|celebration|celebrations|wedding|birthday)\b/,/\b(delivery|takeout|takeaway|dine|dining|menu|menus|cuisine|cuisines|taste|tasting)\b/,/\b(bakery|baker|bread|cake|cakes|pastry|pastries|dessert|desserts|sweet|sweets)\b/],jobs:[/\b(job|jobs|work|employment|career|careers|position|positions|hiring|recruitment|recruit)\b/,/\b(employee|employees|staff|worker|workers|professional|professionals|expert|experts)\b/,/\b(manager|managers|director|directors|executive|executives|officer|officers|assistant|assistants)\b/,/\b(developer|developers|engineer|engineers|designer|designers|marketing|sales|finance|hr)\b/,/\b(part-time|full-time|contract|freelance|remote|work from home|wfh|office|offices)\b/],"real-estate":[/\b(house|houses|home|homes|property|properties|apartment|apartments|flat|flats|condo|condos)\b/,/\b(rent|rental|renting|lease|leasing|buy|buying|purchase|purchasing|sell|selling|sale|sales)\b/,/\b(land|plot|plots|villa|villas|mansion|mansions|townhouse|townhouses|studio|studios)\b/,/\b(real estate|realtor|realtors|agent|agents|broker|brokers|property management)\b/,/\b(mortgage|loan|loans|financing|investment|investments|commercial|residential)\b/],"raw-materials-industrial":[/\b(fuel|oil|crude|petroleum|diesel|gas|petrol|chemicals|chemical|steel|metal|metals)\b/,/\b(plastic|plastics|rubber|cement|concrete|lumber|timber|wood|materials|material)\b/,/\b(industrial|manufacturing|production|factory|factories|plant|plants|machinery|equipment)\b/,/\b(supplies|supply|components|parts|hardware|tools|raw|raw materials|bulk|wholesale)\b/,/\b(mining|extraction|processing|refining|synthesis|compound|compounds|alloy|alloys)\b/],construction:[/\b(construction|building|build|builds|contractor|contractors|renovation|renovations|repair|repairs)\b/,/\b(maintenance|maintain|plumbing|plumber|electrical|electrician|painting|painter|roofing|roofer)\b/,/\b(flooring|tiling|carpentry|carpenter|masonry|mason|welding|welder|installation|install)\b/,/\b(remodeling|remodel|renovate|restore|restoration|demolition|demolish|excavation|excavate)\b/,/\b(architecture|architect|design|designer|planning|planner|engineering|engineer|survey|surveyor)\b/],healthcare:[/\b(healthcare|health|medical|medicine|doctor|doctors|physician|physicians|nurse|nurses)\b/,/\b(hospital|hospitals|clinic|clinics|pharmacy|pharmacist|therapist|therapy|treatment|treatments)\b/,/\b(wellness|fitness|gym|gyms|exercise|training|coach|coaching|nutrition|diet|dietician)\b/,/\b(mental health|psychology|psychologist|psychiatrist|counseling|counselor|therapy|therapist)\b/,/\b(emergency|urgent|ambulance|paramedic|first aid|rescue|rescue services|medical equipment)\b/],education:[/\b(education|school|schools|college|colleges|university|universities|learning|learn|study|studies)\b/,/\b(teacher|teachers|tutor|tutors|tutoring|training|course|courses|class|classes|lesson|lessons)\b/,/\b(student|students|pupil|pupils|academic|academics|scholar|scholars|research|researcher)\b/,/\b(degree|degrees|diploma|diplomas|certificate|certificates|qualification|qualifications)\b/,/\b(online|offline|distance|remote|virtual|classroom|classrooms|library|libraries|books)\b/],"wedding-events":[/\b(wedding|weddings|marriage|marriages|bride|groom|ceremony|ceremonies|reception|receptions)\b/,/\b(party|parties|celebration|celebrations|event|events|function|functions|gathering|gatherings)\b/,/\b(birthday|birthdays|anniversary|anniversaries|graduation|graduations|festival|festivals)\b/,/\b(venue|venues|hall|halls|banquet|banquets|catering|caterer|photography|photographer)\b/,/\b(decoration|decorations|flowers|florist|music|musician|entertainment|entertainer|dj|djs)\b/],"waste-management":[/\b(waste|garbage|trash|rubbish|refuse|disposal|dispose|recycling|recycle|recyclable)\b/,/\b(cleaning|clean|cleaner|cleaners|hygiene|sanitation|sanitary|environment|environmental)\b/,/\b(compost|composting|biodegradable|sustainable|sustainability|green|eco|ecological)\b/,/\b(collection|collector|collectors|pickup|pick-up|removal|removers|dumping|dump|landfill)\b/,/\b(sewage|sewer|drain|drains|plumbing|plumber|maintenance|maintain|service|services)\b/]};let n={category:null,confidence:0,reasoning:"",alternatives:[]};const s=[];for(const[a,o]of Object.entries(r)){let l=0,c=[];for(const u of o)u.test(e)&&(l+=.3,c.push(u.source));l>0&&s.push({category:a,confidence:Math.min(l,1),reasoning:`Matched patterns: ${c.join(", ")}`})}return s.sort((a,o)=>o.confidence-a.confidence),s.length>0?n={category:s[0].category,confidence:s[0].confidence,reasoning:s[0].reasoning,alternatives:s.slice(1,3).map(a=>a.category)}:n={category:null,confidence:0,reasoning:`No patterns matched for "${e}"`,alternatives:[]},n}static async searchEnquiries(e,r){const n=await this.analyzeSearchQuery(r);if(!n.category)return{results:e,searchedCategory:null,noResultsInCategory:!1,showAllFallback:!0,aiAnalysis:n};const s=e.filter(a=>a.category===n.category||a.categories&&a.categories.includes(n.category));return s.length===0?{results:e,searchedCategory:n.category,noResultsInCategory:!0,showAllFallback:!0,aiAnalysis:n}:{results:s,searchedCategory:n.category,noResultsInCategory:!1,showAllFallback:!1,aiAnalysis:n}}}An(J_,"CATEGORIES",["automobile","thrift","electronics","catering","jobs","real-estate","raw-materials-industrial","construction","healthcare","education","wedding-events","waste-management","other"]),An(J_,"CATEGORY_DESCRIPTIONS",{automobile:"Cars, vehicles, bikes, motorcycles, trucks, transportation, automotive parts, vehicle services",thrift:"Clothing, fashion, accessories, shoes, bags, jewelry, second-hand items, personal style",electronics:"Phones, laptops, computers, gadgets, tech devices, cameras, audio equipment, electronic components",catering:"Food, meals, restaurants, cooking, catering services, kitchen equipment, culinary services",jobs:"Employment, work opportunities, career positions, hiring, recruitment, professional services","real-estate":"Houses, properties, rent, buy, apartments, land, real estate services, property management","raw-materials-industrial":"Fuel, oil, chemicals, steel, metal, plastic, rubber, cement, lumber, industrial materials, manufacturing supplies",construction:"Building, construction, renovation, repair, maintenance, plumbing, electrical, painting, roofing",healthcare:"Medical services, healthcare, doctors, nurses, hospitals, clinics, pharmacy, therapy, wellness, fitness",education:"Schools, colleges, universities, tutoring, training, courses, teachers, learning, education services","wedding-events":"Weddings, parties, celebrations, events, functions, ceremonies, receptions, festivals","waste-management":"Waste disposal, recycling, garbage, cleaning, hygiene, sanitation, environmental services",other:"General services, miscellaneous, help, support, consultation, assistance"});const io=({message:t="Loading...",className:e=""})=>i.jsx("div",{className:`min-h-screen flex items-center justify-center bg-slate-50 px-4 py-8 ${e}`,children:i.jsx("div",{className:"text-center w-full max-w-2xl mx-auto flex flex-col items-center justify-center",children:i.jsxs("div",{className:"bg-white p-6 sm:p-10 rounded-2xl sm:rounded-3xl border border-gray-200 shadow-lg sm:shadow-xl flex flex-col items-center justify-center w-full mx-auto",children:[i.jsxs("svg",{viewBox:"0 0 500 280",className:"w-full h-[200px] sm:h-[250px] mx-auto mb-4 sm:mb-6",preserveAspectRatio:"xMidYMid meet",children:[i.jsxs("g",{id:"step1",transform:"translate(80, 80)",children:[i.jsxs("g",{children:[i.jsx("circle",{cx:"0",cy:"-25",r:"20",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-4; 0,0",dur:"2s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"-8",cy:"-32",r:"3",fill:"#1F2937"}),i.jsx("circle",{cx:"8",cy:"-32",r:"3",fill:"#1F2937"}),i.jsx("path",{d:"M-8,-18 Q0,-14 8,-18",stroke:"#1F2937",strokeWidth:"2",fill:"none"}),i.jsx("ellipse",{cx:"0",cy:"5",rx:"15",ry:"25",fill:"none",stroke:"#1F2937",strokeWidth:"2.5"})]}),i.jsxs("g",{transform:"translate(40, -10)",children:[i.jsx("rect",{x:"0",y:"0",width:"0",height:"35",rx:"4",fill:"#F9FAFB",stroke:"#1F2937",strokeWidth:"2",children:i.jsx("animate",{attributeName:"width",values:"0;50;50;50",dur:"4s",repeatCount:"indefinite",begin:"0s"})}),i.jsxs("line",{x1:"5",y1:"8",x2:"0",y2:"8",stroke:"#1F2937",strokeWidth:"1.5",opacity:"0",children:[i.jsx("animate",{attributeName:"x2",values:"0;40;40;40",dur:"4s",repeatCount:"indefinite",begin:"0.5s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"0.5s"})]}),i.jsxs("line",{x1:"5",y1:"18",x2:"0",y2:"18",stroke:"#1F2937",strokeWidth:"1.5",opacity:"0",children:[i.jsx("animate",{attributeName:"x2",values:"0;35;35;35",dur:"4s",repeatCount:"indefinite",begin:"0.8s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"0.8s"})]})]}),i.jsx("circle",{cx:"0",cy:"-25",r:"30",fill:"none",stroke:"#E5E7EB",strokeWidth:"2"}),i.jsxs("circle",{cx:"0",cy:"-25",r:"30",fill:"none",stroke:"#1F2937",strokeWidth:"2",strokeDasharray:"47 94",transform:"rotate(-90 0 -25)",opacity:"0",children:[i.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"-90 0 -25; 270 0 -25",dur:"1.5s",repeatCount:"indefinite",begin:"0s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"0s"})]})]}),i.jsxs("g",{transform:"translate(170, 125)",children:[i.jsxs("line",{x1:"0",y1:"0",x2:"70",y2:"0",stroke:"#1F2937",strokeWidth:"3",opacity:"0",children:[i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;70,0;0,0",dur:"1.5s",repeatCount:"indefinite",begin:"1.5s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"1.5s"})]}),i.jsx("polygon",{points:"75,0 62,-6 62,6",fill:"#1F2937",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"1.5s"})})]}),i.jsxs("g",{id:"step2",transform:"translate(260, 80)",children:[i.jsxs("rect",{x:"-30",y:"-30",width:"60",height:"60",rx:"8",fill:"none",stroke:"#1F2937",strokeWidth:"3",opacity:"0",children:[i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"0.8;1;1;1",dur:"4s",repeatCount:"indefinite",begin:"2s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"2s"})]}),i.jsx("rect",{x:"-22",y:"-22",width:"44",height:"44",fill:"#F9FAFB",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"2s"})}),i.jsxs("circle",{cx:"0",cy:"-10",r:"6",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.2s"}),i.jsx("animate",{attributeName:"r",values:"6;7;6",dur:"1s",repeatCount:"indefinite",begin:"2.2s"})]}),i.jsxs("circle",{cx:"-12",cy:"0",r:"5",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.4s"}),i.jsx("animate",{attributeName:"r",values:"5;6;5",dur:"1s",repeatCount:"indefinite",begin:"2.4s"})]}),i.jsxs("circle",{cx:"12",cy:"0",r:"5",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.6s"}),i.jsx("animate",{attributeName:"r",values:"5;6;5",dur:"1s",repeatCount:"indefinite",begin:"2.6s"})]}),i.jsxs("circle",{cx:"0",cy:"10",r:"6",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.8s"}),i.jsx("animate",{attributeName:"r",values:"6;7;6",dur:"1s",repeatCount:"indefinite",begin:"2.8s"})]}),i.jsx("line",{x1:"-12",y1:"0",x2:"0",y2:"-10",stroke:"#1F2937",strokeWidth:"2",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;0.5;0.5;0",dur:"4s",repeatCount:"indefinite",begin:"2.5s"})}),i.jsx("line",{x1:"12",y1:"0",x2:"0",y2:"-10",stroke:"#1F2937",strokeWidth:"2",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;0.5;0.5;0",dur:"4s",repeatCount:"indefinite",begin:"2.7s"})})]}),i.jsxs("g",{transform:"translate(330, 125)",children:[i.jsxs("line",{x1:"0",y1:"0",x2:"70",y2:"0",stroke:"#1F2937",strokeWidth:"3",opacity:"0",children:[i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;70,0;0,0",dur:"1.5s",repeatCount:"indefinite",begin:"3.5s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"3.5s"})]}),i.jsx("polygon",{points:"75,0 62,-6 62,6",fill:"#1F2937",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"3.5s"})})]}),i.jsxs("g",{id:"step3",transform:"translate(420, 80)",children:[i.jsxs("g",{transform:"translate(-25, 0)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"18",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:[i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-8; 0,0",dur:"2s",repeatCount:"indefinite",begin:"4s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"4s"})]}),i.jsx("circle",{cx:"-6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("circle",{cx:"6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("path",{d:"M-8,8 Q0,5 8,8",stroke:"#1F2937",strokeWidth:"2",fill:"none"})]}),i.jsxs("g",{transform:"translate(0, 0)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"18",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:[i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-8; 0,0",dur:"2s",repeatCount:"indefinite",begin:"4.3s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"4.3s"})]}),i.jsx("circle",{cx:"-6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("circle",{cx:"6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("path",{d:"M-8,8 Q0,5 8,8",stroke:"#1F2937",strokeWidth:"2",fill:"none"})]}),i.jsxs("g",{transform:"translate(25, 0)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"18",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:[i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-8; 0,0",dur:"2s",repeatCount:"indefinite",begin:"4.6s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"4.6s"})]}),i.jsx("circle",{cx:"-6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("circle",{cx:"6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("path",{d:"M-8,8 Q0,5 8,8",stroke:"#1F2937",strokeWidth:"2",fill:"none"})]})]}),i.jsxs("g",{transform:"translate(250, 180)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"25",fill:"#1F2937",opacity:"0.8",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.8;0.8;0",dur:"4s",repeatCount:"indefinite",begin:"6.5s"}),i.jsx("animate",{attributeName:"r",values:"25;28;25",dur:"1.5s",repeatCount:"indefinite",begin:"6.5s"})]}),i.jsxs("path",{d:"M-10,-3 L-3,8 L10,-8",stroke:"white",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"6.5s"}),i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"6.5s"})]})]}),i.jsxs("g",{transform:"translate(100, 240)",children:[i.jsx("rect",{x:"0",y:"0",width:"300",height:"6",rx:"3",fill:"#E5E7EB"}),i.jsx("rect",{x:"0",y:"0",width:"0",height:"6",rx:"3",fill:"#1F2937",children:i.jsx("animate",{attributeName:"width",values:"0;75;150;225;300;300",dur:"8s",repeatCount:"indefinite"})})]})]}),i.jsxs("p",{className:"text-base sm:text-xl text-slate-700 font-semibold text-center tracking-tight",children:[t,i.jsx("span",{className:"inline-block animate-pulse",children:"..."})]})]})})});function a3(){var R,M,q,W,B;const{user:t}=Rr(),[e]=X7(),[r,n]=g.useState([]),[s,a]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState("all"),[d,h]=g.useState("grid"),[f,m]=g.useState(!1),[x,p]=g.useState(null),[v,w]=g.useState([]),[b,j]=g.useState(!1),[N,E]=g.useState(!1);g.useEffect(()=>{const D=e.get("category"),V=e.get("search");D&&u(D),V&&l(V)},[e]),g.useEffect(()=>{(async()=>{try{const K=(await Bt(bt(Ze(oe,"enquiries"),Pt("status","==","live")))).docs.map(Y=>({id:Y.id,...Y.data()})),G=new Date,Q=K.filter(Y=>Y.deadline?(Y.deadline.toDate?Y.deadline.toDate():new Date(Y.deadline))>=G:!0),ae=K.filter(Y=>Y.deadline?(Y.deadline.toDate?Y.deadline.toDate():new Date(Y.deadline))<G:!1);Q.sort((Y,ue)=>{var te,ye;const Z=(te=Y.createdAt)!=null&&te.toDate?Y.createdAt.toDate():new Date(Y.createdAt);return((ye=ue.createdAt)!=null&&ye.toDate?ue.createdAt.toDate():new Date(ue.createdAt)).getTime()-Z.getTime()}),ae.sort((Y,ue)=>{var te,ye;const Z=(te=Y.createdAt)!=null&&te.toDate?Y.createdAt.toDate():new Date(Y.createdAt);return((ye=ue.createdAt)!=null&&ye.toDate?ue.createdAt.toDate():new Date(ue.createdAt)).getTime()-Z.getTime()});const U=[...Q,...ae];n(U),a(!1)}catch(V){console.error("Error loading enquiries:",V),a(!1)}})()},[]);const C=async D=>{if(!D.trim()){p(null),E(!1);return}E(!0);try{const V=await J_.searchEnquiries(r,D);p(V)}catch(V){console.error("AI Search Error:",V),p(null)}finally{E(!1)}},_=async D=>{if(l(D),D.trim()){const K=["car","vehicle","phone","laptop","food","catering","job","work","house","apartment","fuel","oil","construction","healthcare","education","wedding","event","waste","cleaning","clothing","fashion","electronics"].filter(G=>G.toLowerCase().includes(D.toLowerCase())).slice(0,5);w(K),j(K.length>0),await C(D)}else w([]),j(!1),p(null)},A=x?x.results:r.filter(D=>{const V=!o||D.title.toLowerCase().includes(o.toLowerCase())||D.description.toLowerCase().includes(o.toLowerCase()),K=c==="all"||D.category===c||D.categories&&D.categories.includes(c);return V&&K}),T=D=>t&&D.userId===t.uid,I=D=>{if(!D.deadline)return!1;const V=D.deadline.toDate?D.deadline.toDate():new Date(D.deadline);return new Date>V},P=D=>new Date(D).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return s?i.jsx(io,{message:"Loading enquiries"}):i.jsx(wt,{children:i.jsx("div",{className:"flex flex-col flex-grow bg-gradient-to-br from-background to-muted/20",children:i.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8",children:[i.jsxs("div",{className:"text-center mb-4 sm:mb-8",children:[i.jsx("h1",{className:"text-lg sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-4",children:"Live Enquiries"}),i.jsx("p",{className:"text-[9px] sm:text-xs text-muted-foreground max-w-xl mx-auto",children:"Connect with buyers from individuals to businesses."})]}),i.jsxs("div",{className:"mb-6 sm:mb-8 space-y-3 sm:space-y-4",children:[i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"relative",children:[i.jsx(Wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:"Search enquiries... (try 'car', 'jacket', 'phone')",value:o,onChange:D=>_(D.target.value),onFocus:()=>j(v.length>0),onBlur:()=>setTimeout(()=>j(!1),200),className:"mobile-input min-touch",disabled:N}),N&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}),b&&v.length>0&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:v.map((D,V)=>i.jsx("button",{onClick:()=>{_(D),j(!1)},className:"w-full text-left px-4 py-3 hover:bg-slate-50 border-b border-slate-100 last:border-b-0 min-touch",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wl,{className:"h-4 w-4 text-slate-400"}),i.jsx("span",{className:"text-sm text-slate-700",children:D})]})},V))})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 justify-center max-w-full",children:[{value:"all",label:"All"},{value:"agriculture-farming",label:"Agriculture"},{value:"antiques",label:"Antiques"},{value:"art",label:"Art"},{value:"automobile",label:"Automobile"},{value:"books-publications",label:"Books"},{value:"childcare-family",label:"Childcare"},{value:"collectibles",label:"Collectibles"},{value:"construction-renovation",label:"Construction"},{value:"education-training",label:"Education"},{value:"electronics-gadgets",label:"Electronics"},{value:"entertainment-media",label:"Entertainment"},{value:"events-entertainment",label:"Events"},{value:"fashion-apparel",label:"Fashion"},{value:"food-beverage",label:"Food"},{value:"gaming-recreation",label:"Gaming"},{value:"government-public",label:"Government"},{value:"health-beauty",label:"Health"},{value:"home-furniture",label:"Home"},{value:"insurance-services",label:"Insurance"},{value:"jobs",label:"Jobs"},{value:"jewelry-accessories",label:"Jewelry"},{value:"legal-financial",label:"Legal"},{value:"marketing-advertising",label:"Marketing"},{value:"memorabilia",label:"Memorabilia"},{value:"non-profit-charity",label:"Non-Profit"},{value:"pets",label:"Pets"},{value:"professional-services",label:"Services"},{value:"raw-materials-industrial",label:"Industrial"},{value:"real-estate",label:"Real Estate"},{value:"real-estate-services",label:"Real Estate Services"},{value:"renewable-energy",label:"Renewable Energy"},{value:"security-safety",label:"Security"},{value:"sneakers",label:"Sneakers"},{value:"souvenir",label:"Souvenir"},{value:"sports-outdoor",label:"Sports"},{value:"technology",label:"Technology"},{value:"thrift",label:"Thrift"},{value:"transportation-logistics",label:"Transportation"},{value:"travel-tourism",label:"Travel"},{value:"vintage",label:"Vintage"},{value:"waste-management",label:"Waste Management"},{value:"wedding-events",label:"Wedding"},{value:"other",label:"Other"}].map((D,V)=>i.jsx("div",{className:`${V<6?"block":f?"block animate-fade-in":"hidden sm:block"} transition-all duration-300`,children:i.jsx(H,{variant:c===D.value?"default":"outline",size:"sm",onClick:()=>u(D.value),className:"mobile-button-secondary text-xs whitespace-nowrap min-w-fit flex-shrink-0",children:D.label})},D.value))}),i.jsx("div",{className:"text-center sm:hidden mt-2",children:i.jsx(H,{variant:"outline",size:"sm",onClick:()=>m(!f),className:"mobile-button-outline text-xs",children:f?i.jsxs(i.Fragment,{children:[i.jsx(Qr,{className:"w-2.5 h-2.5 mr-1"}),"Show Less"]}):i.jsxs(i.Fragment,{children:[i.jsx(Fce,{className:"w-2.5 h-2.5 mr-1"}),"Show More (+38)"]})})})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[i.jsxs("h3",{className:"text-sm sm:text-xl font-semibold text-foreground",children:[A.length," enquiries"]}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[i.jsxs(H,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>h("grid"),className:"h-5 sm:h-8 px-1.5 sm:px-3 text-[9px] sm:text-sm",children:[i.jsx(Bce,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 mr-0.5 sm:mr-1"}),"Grid"]}),i.jsxs(H,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>h("list"),className:"h-5 sm:h-8 px-1.5 sm:px-3 text-[9px] sm:text-sm",children:[i.jsx(Wce,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 mr-0.5 sm:mr-1"}),"List"]})]})]}),A.length>0?i.jsxs(i.Fragment,{children:[x&&i.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:x.noResultsInCategory?i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-blue-800 font-medium text-sm",children:["No enquiries found in ",(R=x.searchedCategory)==null?void 0:R.replace("-"," ")," category"]}),i.jsxs("p",{className:"text-blue-600 text-xs mt-1",children:["AI Analysis: ",(M=x.aiAnalysis)==null?void 0:M.reasoning]}),i.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Showing all enquiries below"})]}):x.showAllFallback?i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-blue-800 font-medium text-sm",children:[`AI couldn't determine category for "`,o,'"']}),i.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Showing all enquiries"})]}):i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-blue-800 font-medium text-sm",children:["AI found ",x.results.length," enquiry",x.results.length!==1?"ies":""," in ",(q=x.searchedCategory)==null?void 0:q.replace("-"," ")," category"]}),i.jsxs("p",{className:"text-blue-600 text-xs mt-1",children:["Confidence: ",Math.round((((W=x.aiAnalysis)==null?void 0:W.confidence)||0)*100),"% | ",(B=x.aiAnalysis)==null?void 0:B.reasoning]})]})}),i.jsx("div",{className:`${d==="grid"?"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2 sm:gap-3 items-stretch":"space-y-4"}`,children:A.map(D=>{var V;return i.jsx("div",{className:"block",children:i.jsx(Je,{to:`/enquiry/${D.id}`,className:"block",children:i.jsxs(xe,{className:`${d==="grid"?"h-full border-2 border-blue-200 shadow-sm hover:shadow-md hover:border-slate-300 flex flex-col rounded-2xl":""} transition-all duration-200 hover:shadow-lg cursor-pointer ${I(D)?"opacity-70 bg-gray-100 border-gray-300 grayscale":"border-l-4 border-l-green-500"}`,children:[i.jsx(jt,{className:`${d==="list"?"pb-2":"p-2 sm:p-3"}`,children:d==="list"?i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:`mobile-heading-2 line-clamp-1 truncate flex-1 ${I(D)?"text-gray-600":"text-foreground"}`,children:D.title}),(D.userProfileVerified||D.idFrontImage||D.idBackImage)&&i.jsx("div",{className:`flex items-center justify-center w-4 h-4 rounded-full flex-shrink-0 ${I(D)?"bg-gray-400":"bg-blue-500"}`,children:i.jsx(hi,{className:"h-2.5 w-2.5 text-white"})})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Te,{variant:"secondary",className:"text-xs",children:D.category.replace("-"," ")}),D.isUrgent&&!I(D)&&i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),I(D)&&i.jsx(Te,{variant:"outline",className:"text-xs text-gray-500 border-gray-300",children:"Expired"})]})]}),T(D)&&i.jsx(Te,{variant:"secondary",className:"text-xs",children:"Your Enquiry"})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-1 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[i.jsx("h3",{className:`text-xs sm:text-sm font-semibold leading-tight line-clamp-2 flex-1 ${I(D)?"text-gray-600":"text-foreground"}`,children:D.title}),(D.userProfileVerified||D.idFrontImage||D.idBackImage)&&i.jsx("div",{className:`flex items-center justify-center w-3 h-3 sm:w-4 sm:h-4 rounded-full flex-shrink-0 ${I(D)?"bg-gray-400":"bg-blue-500"}`,children:i.jsx(hi,{className:"h-2 w-2 sm:h-2.5 sm:w-2.5 text-white"})})]}),D.isUrgent&&!I(D)&&i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"}),I(D)&&i.jsx("span",{className:"text-xs text-gray-500 font-medium flex-shrink-0",children:"Expired"})]}),i.jsxs("div",{className:"flex flex-col gap-1.5 text-xs sm:text-sm text-slate-700",children:[D.budget&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-semibold",children:""}),i.jsx("span",{className:"truncate font-medium",children:Nb(D.budget)})]}),D.location&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(uf,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:D.location})]})]}),D.deadline&&!I(D)&&i.jsx("div",{className:"mt-2",children:i.jsx(wy,{deadline:D.deadline.toDate?D.deadline.toDate():new Date(D.deadline),className:"text-xs sm:text-sm"})}),i.jsx("div",{className:"mt-2",children:i.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground capitalize truncate bg-slate-100 px-2 py-1 rounded inline-block",children:D.category.replace("-"," ")})})]})}),i.jsx(Ue,{className:`${d==="list"?"flex-1 flex flex-col sm:flex-row sm:items-center sm:gap-6":"flex-1 flex flex-col p-2 sm:p-3 justify-between"}`,children:d==="list"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:D.description}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[D.budget&&i.jsxs("span",{className:"font-medium",children:["",Nb(D.budget)]}),D.location&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(uf,{className:"h-4 w-4"}),i.jsx("span",{children:D.location})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(yr,{className:"h-4 w-4"}),i.jsxs("span",{children:[D.responses||0," responses"]})]})}),T(D)?i.jsx(H,{variant:"outline",size:"sm",disabled:!0,children:"Your Enquiry"}):t?I(D)?i.jsx(H,{variant:"outline",size:"sm",disabled:!0,children:"Expired"}):i.jsxs(H,{className:"font-medium",onClick:()=>window.location.href=`/respond/${D.id}`,children:["I Can Provide",i.jsx(bb,{className:"h-4 w-4 ml-2"})]}):i.jsx(Je,{to:"/signin",children:i.jsx(H,{variant:"outline",children:"Sign In to Respond"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between text-[8px] md:text-xs text-muted-foreground mb-1 md:mb-2",children:[i.jsx("div",{className:"flex items-center gap-1 md:gap-2",children:i.jsxs("div",{className:"flex items-center gap-0.5",children:[i.jsx(yr,{className:"h-1.5 w-1.5 md:h-3 md:w-3"}),i.jsxs("span",{children:[D.responses||0," responses"]})]})}),i.jsx("div",{className:"text-[8px] md:text-xs",children:(V=D.createdAt)!=null&&V.toDate?P(D.createdAt.toDate().toISOString()):"N/A"})]}),T(D)?i.jsx(H,{variant:"outline",size:"sm",className:"w-full h-4 md:h-8 text-[8px] md:text-xs",disabled:!0,children:"Your Enquiry"}):t?i.jsxs(H,{className:"w-full h-4 md:h-8 text-[8px] md:text-xs font-medium",onClick:()=>window.location.href=`/respond/${D.id}`,children:["I Can Provide",i.jsx(bb,{className:"h-2 w-2 md:h-3 md:w-3 ml-1"})]}):i.jsx(Je,{to:"/signin",children:i.jsx(H,{className:"w-full h-4 md:h-8 text-[8px] md:text-xs font-medium",variant:"outline",children:"Sign In to Respond"})})]})})]})})},D.id)})})]}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Rl,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No enquiries found"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:o||c!=="all"?"Try adjusting your search or filters":"No live enquiries available at the moment"}),(o||c!=="all")&&i.jsx(H,{variant:"outline",onClick:()=>{l(""),u("all")},children:"Clear All"})]})]})})})}const pr=g.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:He("flex h-12 w-full rounded-xl border border-input bg-background px-4 py-3 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-spring hover:border-ring/50",t),ref:n,...r}));pr.displayName="Input";const td=g.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-xl border border-input bg-background px-4 py-3 text-base ring-offset-background placeholder:text-muted-foreground/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-spring hover:border-ring/50 resize-none",t),ref:r,...e}));td.displayName="Textarea";var S1e="Label",SH=g.forwardRef((t,e)=>i.jsx(et.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));SH.displayName=S1e;var EH=SH;const E1e=cm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ft=g.forwardRef(({className:t,...e},r)=>i.jsx(EH,{ref:r,className:He(E1e(),t),...e}));ft.displayName=EH.displayName;var Jk="Popover",[_H,YWe]=ba(Jk,[Mc]),jy=Mc(),[_1e,Fc]=_H(Jk),PH=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=t,l=jy(e),c=g.useRef(null),[u,d]=g.useState(!1),[h=!1,f]=Za({prop:n,defaultProp:s,onChange:a});return i.jsx(QC,{...l,children:i.jsx(_1e,{scope:e,contentId:ha(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:o,children:r})})};PH.displayName=Jk;var AH="PopoverAnchor",P1e=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Fc(AH,r),a=jy(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(iy,{...a,...n,ref:e})});P1e.displayName=AH;var TH="PopoverTrigger",CH=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Fc(TH,r),a=jy(r),o=At(e,s.triggerRef),l=i.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":DH(s.open),...n,ref:o,onClick:De(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(iy,{asChild:!0,...a,children:l})});CH.displayName=TH;var Zk="PopoverPortal",[A1e,T1e]=_H(Zk,{forceMount:void 0}),kH=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,a=Fc(Zk,e);return i.jsx(A1e,{scope:e,forceMount:r,children:i.jsx(Ln,{present:r||a.open,children:i.jsx(lm,{asChild:!0,container:s,children:n})})})};kH.displayName=Zk;var bf="PopoverContent",IH=g.forwardRef((t,e)=>{const r=T1e(bf,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,a=Fc(bf,t.__scopePopover);return i.jsx(Ln,{present:n||a.open,children:a.modal?i.jsx(C1e,{...s,ref:e}):i.jsx(k1e,{...s,ref:e})})});IH.displayName=bf;var C1e=g.forwardRef((t,e)=>{const r=Fc(bf,t.__scopePopover),n=g.useRef(null),s=At(e,n),a=g.useRef(!1);return g.useEffect(()=>{const o=n.current;if(o)return aj(o)},[]),i.jsx(fy,{as:Go,allowPinchZoom:!0,children:i.jsx(RH,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:De(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),k1e=g.forwardRef((t,e)=>{const r=Fc(bf,t.__scopePopover),n=g.useRef(!1),s=g.useRef(!1);return i.jsx(RH,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),RH=g.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=t,f=Fc(bf,r),m=jy(r);return sj(),i.jsx(hy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(md,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:i.jsx(K1,{"data-state":DH(f.open),role:"dialog",id:f.contentId,...m,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),OH="PopoverClose",I1e=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Fc(OH,r);return i.jsx(et.button,{type:"button",...n,ref:e,onClick:De(t.onClick,()=>s.onOpenChange(!1))})});I1e.displayName=OH;var R1e="PopoverArrow",O1e=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=jy(r);return i.jsx(Y1,{...s,...n,ref:e})});O1e.displayName=R1e;function DH(t){return t?"open":"closed"}var D1e=PH,M1e=CH,$1e=kH,MH=IH;const $H=D1e,LH=M1e,eI=g.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>i.jsx($1e,{children:i.jsx(MH,{ref:s,align:e,sideOffset:r,className:He("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));eI.displayName=MH.displayName;function tI(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var rI="Checkbox",[L1e,QWe]=ba(rI),[F1e,V1e]=L1e(rI),FH=g.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,m]=g.useState(null),x=At(e,N=>m(N)),p=g.useRef(!1),v=f?d||!!f.closest("form"):!0,[w=!1,b]=Za({prop:s,defaultProp:a,onChange:u}),j=g.useRef(w);return g.useEffect(()=>{const N=f==null?void 0:f.form;if(N){const E=()=>b(j.current);return N.addEventListener("reset",E),()=>N.removeEventListener("reset",E)}},[f,b]),i.jsxs(F1e,{scope:r,state:w,disabled:l,children:[i.jsx(et.button,{type:"button",role:"checkbox","aria-checked":dc(w)?"mixed":w,"aria-required":o,"data-state":UH(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onKeyDown:De(t.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:De(t.onClick,N=>{b(E=>dc(E)?!0:!E),v&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),v&&i.jsx(B1e,{control:f,bubbles:!p.current,name:n,value:c,checked:w,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:dc(a)?!1:a})]})});FH.displayName=rI;var VH="CheckboxIndicator",BH=g.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,a=V1e(VH,r);return i.jsx(Ln,{present:n||dc(a.state)||a.state===!0,children:i.jsx(et.span,{"data-state":UH(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});BH.displayName=VH;var B1e=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:s,...a}=t,o=g.useRef(null),l=tI(r),c=GC(e);g.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&m){const x=new Event("click",{bubbles:n});d.indeterminate=dc(r),m.call(d,dc(r)?!1:r),d.dispatchEvent(x)}},[l,r,n]);const u=g.useRef(dc(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function dc(t){return t==="indeterminate"}function UH(t){return dc(t)?"indeterminate":t?"checked":"unchecked"}var qH=FH,U1e=BH;const zH=g.forwardRef(({className:t,...e},r)=>i.jsx(qH,{ref:r,className:He("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(U1e,{className:He("flex items-center justify-center text-current"),children:i.jsx(hi,{className:"h-4 w-4"})})}));zH.displayName=qH.displayName;const q1e=({type:t,onUpgrade:e,compact:r=!1})=>{mm();const s=(()=>{switch(t){case"enquiry":return{title:"Buy More Enquiry Credits",description:"You've used all your enquiry credits. Purchase more to continue posting enquiries.",icon:i.jsx(df,{className:"h-5 w-5"}),price:"50"};case"submission":return{title:"Buy More Submission Credits",description:"You've used all your submission credits. Purchase more to respond to enquiries.",icon:i.jsx(z1,{className:"h-5 w-5"}),price:"30"};case"response":return{title:"Buy Response View Credits",description:"You've used all your response view credits. Purchase more to see supplier proposals.",icon:i.jsx(un,{className:"h-5 w-5"}),price:"20"}}})(),o=(()=>{switch(t){case"enquiry":return["10 enquiry credits","Instant activation","No expiry","24/7 support"];case"submission":return["10 submission credits","Instant activation","No expiry","24/7 support"];case"response":return["20 response view credits","Instant activation","No expiry","24/7 support"]}})(),l=()=>{e&&e()};return r?i.jsx(xe,{className:"border-pal-blue/20 bg-gradient-to-r from-pal-blue/5 to-pal-blue/10",children:i.jsx(Ue,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-pal-blue/10 rounded-full",children:s.icon}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:s.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]}),i.jsxs(H,{size:"sm",className:"bg-pal-blue hover:bg-pal-blue-dark",onClick:l,children:[i.jsx(un,{className:"h-4 w-4 mr-1"}),"OK"]})]})})}):i.jsxs(xe,{className:"border-pal-blue/20 bg-gradient-to-br from-pal-blue/5 via-white to-pal-blue/10 shadow-lg",children:[i.jsxs(jt,{className:"text-center pb-4",children:[i.jsx("div",{className:"mx-auto p-3 bg-pal-blue/10 rounded-full w-fit mb-4",children:s.icon}),i.jsx(mr,{className:"text-xl font-bold",children:s.title}),i.jsx(Mu,{className:"text-base",children:s.description})]}),i.jsxs(Ue,{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx("span",{className:"text-3xl font-bold text-pal-blue",children:s.price}),i.jsx("span",{className:"text-muted-foreground",children:"one-time"})]}),i.jsxs(Te,{variant:"secondary",className:"bg-pal-blue/10 text-pal-blue",children:[i.jsx(un,{className:"h-3 w-3 mr-1"}),"Credit Pack"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-center",children:"What you get:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map((c,u)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(xt,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{children:c})]},u))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(H,{className:"w-full bg-pal-blue hover:bg-pal-blue-dark text-white font-semibold py-3",onClick:l,children:[i.jsx(un,{className:"h-4 w-4 mr-2"}),"OK"]}),i.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Demo mode enabled: clicking OK bypasses payment and should grant access."})]})]})]})},ng={cloudName:"dlsddhj4m",uploadPreset:"ml_default"},Ub=async t=>{try{console.log("Starting Cloudinary upload for:",t.name);const e=new FormData;e.append("file",t),e.append("upload_preset",ng.uploadPreset),e.append("cloud_name",ng.cloudName),e.append("folder","id-verification");const r=await fetch(`https://api.cloudinary.com/v1_1/${ng.cloudName}/image/upload`,{method:"POST",body:e});if(!r.ok)throw new Error(`Upload failed: ${r.status} ${r.statusText}`);const n=await r.json();return console.log("Cloudinary upload successful:",n.secure_url),n.secure_url}catch(e){throw console.error("Cloudinary upload error:",e),new Error(`Failed to upload image: ${e}`)}},o3=async t=>{try{console.log("Starting unsigned Cloudinary upload for:",t.name);const e=new FormData;e.append("file",t),e.append("upload_preset",ng.uploadPreset);const r=await fetch(`https://api.cloudinary.com/v1_1/${ng.cloudName}/image/upload`,{method:"POST",body:e});if(!r.ok)throw new Error(`Upload failed: ${r.status} ${r.statusText}`);const n=await r.json();return console.log("Cloudinary upload successful:",n.secure_url),n.secure_url}catch(e){throw console.error("Cloudinary upload error:",e),new Error(`Failed to upload image: ${e}`)}};function Z_(t,[e,r]){return Math.min(r,Math.max(e,t))}var z1e=[" ","Enter","ArrowUp","ArrowDown"],W1e=[" ","Enter"],Ny="Select",[vj,bj,H1e]=V1(Ny),[vm,XWe]=ba(Ny,[H1e,Mc]),wj=Mc(),[G1e,Vc]=vm(Ny),[K1e,Y1e]=vm(Ny),WH=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:x}=t,p=wj(e),[v,w]=g.useState(null),[b,j]=g.useState(null),[N,E]=g.useState(!1),C=my(u),[_=!1,S]=Za({prop:n,defaultProp:s,onChange:a}),[A,T]=Za({prop:o,defaultProp:l,onChange:c}),I=g.useRef(null),P=v?x||!!v.closest("form"):!0,[R,M]=g.useState(new Set),q=Array.from(R).map(W=>W.props.value).join(";");return i.jsx(QC,{...p,children:i.jsxs(G1e,{required:m,scope:e,trigger:v,onTriggerChange:w,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:ha(),value:A,onValueChange:T,open:_,onOpenChange:S,dir:C,triggerPointerDownPosRef:I,disabled:f,children:[i.jsx(vj.Provider,{scope:e,children:i.jsx(K1e,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(W=>{M(B=>new Set(B).add(W))},[]),onNativeOptionRemove:g.useCallback(W=>{M(B=>{const D=new Set(B);return D.delete(W),D})},[]),children:r})}),P?i.jsxs(gG,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:A,onChange:W=>T(W.target.value),disabled:f,form:x,children:[A===void 0?i.jsx("option",{value:""}):null,Array.from(R)]},q):null]})})};WH.displayName=Ny;var HH="SelectTrigger",GH=g.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,a=wj(r),o=Vc(HH,r),l=o.disabled||n,c=At(e,o.onTriggerChange),u=bj(r),d=g.useRef("touch"),[h,f,m]=xG(p=>{const v=u().filter(j=>!j.disabled),w=v.find(j=>j.value===o.value),b=yG(v,p,w);b!==void 0&&o.onValueChange(b.value)}),x=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(iy,{asChild:!0,...a,children:i.jsx(et.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pG(o.value)?"":void 0,...s,ref:c,onClick:De(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&x(p)}),onPointerDown:De(s.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:De(s.onKeyDown,p=>{const v=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(v&&p.key===" ")&&z1e.includes(p.key)&&(x(),p.preventDefault())})})})});GH.displayName=HH;var KH="SelectValue",YH=g.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=t,c=Vc(KH,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=At(e,c.onValueNodeChange);return Kn(()=>{u(d)},[u,d]),i.jsx(et.span,{...l,ref:h,style:{pointerEvents:"none"},children:pG(c.value)?i.jsx(i.Fragment,{children:o}):a})});YH.displayName=KH;var Q1e="SelectIcon",QH=g.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return i.jsx(et.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});QH.displayName=Q1e;var X1e="SelectPortal",XH=t=>i.jsx(lm,{asChild:!0,...t});XH.displayName=X1e;var rd="SelectContent",JH=g.forwardRef((t,e)=>{const r=Vc(rd,t.__scopeSelect),[n,s]=g.useState();if(Kn(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Cc.createPortal(i.jsx(ZH,{scope:t.__scopeSelect,children:i.jsx(vj.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(eG,{...t,ref:e})});JH.displayName=rd;var Qi=10,[ZH,Bc]=vm(rd),J1e="SelectContentImpl",eG=g.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v,...w}=t,b=Vc(rd,r),[j,N]=g.useState(null),[E,C]=g.useState(null),_=At(e,Z=>N(Z)),[S,A]=g.useState(null),[T,I]=g.useState(null),P=bj(r),[R,M]=g.useState(!1),q=g.useRef(!1);g.useEffect(()=>{if(j)return aj(j)},[j]),sj();const W=g.useCallback(Z=>{const[Pe,...te]=P().map(z=>z.ref.current),[ye]=te.slice(-1),F=document.activeElement;for(const z of Z)if(z===F||(z==null||z.scrollIntoView({block:"nearest"}),z===Pe&&E&&(E.scrollTop=0),z===ye&&E&&(E.scrollTop=E.scrollHeight),z==null||z.focus(),document.activeElement!==F))return},[P,E]),B=g.useCallback(()=>W([S,j]),[W,S,j]);g.useEffect(()=>{R&&B()},[R,B]);const{onOpenChange:D,triggerPointerDownPosRef:V}=b;g.useEffect(()=>{if(j){let Z={x:0,y:0};const Pe=ye=>{var F,z;Z={x:Math.abs(Math.round(ye.pageX)-(((F=V.current)==null?void 0:F.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((z=V.current)==null?void 0:z.y)??0))}},te=ye=>{Z.x<=10&&Z.y<=10?ye.preventDefault():j.contains(ye.target)||D(!1),document.removeEventListener("pointermove",Pe),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",te,{capture:!0})}}},[j,D,V]),g.useEffect(()=>{const Z=()=>D(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[D]);const[K,G]=xG(Z=>{const Pe=P().filter(F=>!F.disabled),te=Pe.find(F=>F.ref.current===document.activeElement),ye=yG(Pe,Z,te);ye&&setTimeout(()=>ye.ref.current.focus())}),Q=g.useCallback((Z,Pe,te)=>{const ye=!q.current&&!te;(b.value!==void 0&&b.value===Pe||ye)&&(A(Z),ye&&(q.current=!0))},[b.value]),ae=g.useCallback(()=>j==null?void 0:j.focus(),[j]),U=g.useCallback((Z,Pe,te)=>{const ye=!q.current&&!te;(b.value!==void 0&&b.value===Pe||ye)&&I(Z)},[b.value]),Y=n==="popper"?eP:tG,ue=Y===eP?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v}:{};return i.jsx(ZH,{scope:r,content:j,viewport:E,onViewportChange:C,itemRefCallback:Q,selectedItem:S,onItemLeave:ae,itemTextRefCallback:U,focusSelectedItem:B,selectedItemText:T,position:n,isPositioned:R,searchRef:K,children:i.jsx(fy,{as:Go,allowPinchZoom:!0,children:i.jsx(hy,{asChild:!0,trapped:b.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:De(s,Z=>{var Pe;(Pe=b.trigger)==null||Pe.focus({preventScroll:!0}),Z.preventDefault()}),children:i.jsx(md,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(Y,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Z=>Z.preventDefault(),...w,...ue,onPlaced:()=>M(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:De(w.onKeyDown,Z=>{const Pe=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!Pe&&Z.key.length===1&&G(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let ye=P().filter(F=>!F.disabled).map(F=>F.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const F=Z.target,z=ye.indexOf(F);ye=ye.slice(z+1)}setTimeout(()=>W(ye)),Z.preventDefault()}})})})})})})});eG.displayName=J1e;var Z1e="SelectItemAlignedPosition",tG=g.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,a=Vc(rd,r),o=Bc(rd,r),[l,c]=g.useState(null),[u,d]=g.useState(null),h=At(e,_=>d(_)),f=bj(r),m=g.useRef(!1),x=g.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:w,focusSelectedItem:b}=o,j=g.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&v&&w){const _=a.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),T=w.getBoundingClientRect();if(a.dir!=="rtl"){const F=T.left-S.left,z=A.left-F,ie=_.left-z,ne=_.width+ie,he=Math.max(ne,S.width),ve=window.innerWidth-Qi,ge=Z_(z,[Qi,Math.max(Qi,ve-he)]);l.style.minWidth=ne+"px",l.style.left=ge+"px"}else{const F=S.right-T.right,z=window.innerWidth-A.right-F,ie=window.innerWidth-_.right-z,ne=_.width+ie,he=Math.max(ne,S.width),ve=window.innerWidth-Qi,ge=Z_(z,[Qi,Math.max(Qi,ve-he)]);l.style.minWidth=ne+"px",l.style.right=ge+"px"}const I=f(),P=window.innerHeight-Qi*2,R=p.scrollHeight,M=window.getComputedStyle(u),q=parseInt(M.borderTopWidth,10),W=parseInt(M.paddingTop,10),B=parseInt(M.borderBottomWidth,10),D=parseInt(M.paddingBottom,10),V=q+W+R+D+B,K=Math.min(v.offsetHeight*5,V),G=window.getComputedStyle(p),Q=parseInt(G.paddingTop,10),ae=parseInt(G.paddingBottom,10),U=_.top+_.height/2-Qi,Y=P-U,ue=v.offsetHeight/2,Z=v.offsetTop+ue,Pe=q+W+Z,te=V-Pe;if(Pe<=U){const F=I.length>0&&v===I[I.length-1].ref.current;l.style.bottom="0px";const z=u.clientHeight-p.offsetTop-p.offsetHeight,ie=Math.max(Y,ue+(F?ae:0)+z+B),ne=Pe+ie;l.style.height=ne+"px"}else{const F=I.length>0&&v===I[0].ref.current;l.style.top="0px";const ie=Math.max(U,q+p.offsetTop+(F?Q:0)+ue)+te;l.style.height=ie+"px",p.scrollTop=Pe-U+p.offsetTop}l.style.margin=`${Qi}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,a.trigger,a.valueNode,l,u,p,v,w,a.dir,n]);Kn(()=>j(),[j]);const[N,E]=g.useState();Kn(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const C=g.useCallback(_=>{_&&x.current===!0&&(j(),b==null||b(),x.current=!1)},[j,b]);return i.jsx(tje,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:i.jsx(et.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});tG.displayName=Z1e;var eje="SelectPopperPosition",eP=g.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Qi,...a}=t,o=wj(r);return i.jsx(K1,{...o,...a,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eP.displayName=eje;var[tje,nI]=vm(rd,{}),tP="SelectViewport",rG=g.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,a=Bc(tP,r),o=nI(tP,r),l=At(e,a.onViewportChange),c=g.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(vj.Slot,{scope:r,children:i.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:De(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const x=window.innerHeight-Qi*2,p=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),w=Math.max(p,v);if(w<x){const b=w+m,j=Math.min(x,b),N=b-j;h.style.height=j+"px",h.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});rG.displayName=tP;var nG="SelectGroup",[rje,nje]=vm(nG),sje=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=ha();return i.jsx(rje,{scope:r,id:s,children:i.jsx(et.div,{role:"group","aria-labelledby":s,...n,ref:e})})});sje.displayName=nG;var sG="SelectLabel",iG=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=nje(sG,r);return i.jsx(et.div,{id:s.id,...n,ref:e})});iG.displayName=sG;var qb="SelectItem",[ije,aG]=vm(qb),oG=g.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=t,l=Vc(qb,r),c=Bc(qb,r),u=l.value===n,[d,h]=g.useState(a??""),[f,m]=g.useState(!1),x=At(e,b=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,b,n,s)}),p=ha(),v=g.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(ije,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:g.useCallback(b=>{h(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(vj.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(et.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:De(o.onFocus,()=>m(!0)),onBlur:De(o.onBlur,()=>m(!1)),onClick:De(o.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:De(o.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:De(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:De(o.onPointerMove,b=>{var j;v.current=b.pointerType,s?(j=c.onItemLeave)==null||j.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(o.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:De(o.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(W1e.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});oG.displayName=qb;var Tp="SelectItemText",lG=g.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...a}=t,o=Vc(Tp,r),l=Bc(Tp,r),c=aG(Tp,r),u=Y1e(Tp,r),[d,h]=g.useState(null),f=At(e,w=>h(w),c.onItemTextChange,w=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,w,c.value,c.disabled)}),m=d==null?void 0:d.textContent,x=g.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Kn(()=>(p(x),()=>v(x)),[p,v,x]),i.jsxs(i.Fragment,{children:[i.jsx(et.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Cc.createPortal(a.children,o.valueNode):null]})});lG.displayName=Tp;var cG="SelectItemIndicator",uG=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return aG(cG,r).isSelected?i.jsx(et.span,{"aria-hidden":!0,...n,ref:e}):null});uG.displayName=cG;var rP="SelectScrollUpButton",dG=g.forwardRef((t,e)=>{const r=Bc(rP,t.__scopeSelect),n=nI(rP,t.__scopeSelect),[s,a]=g.useState(!1),o=At(e,n.onScrollButtonChange);return Kn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(fG,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dG.displayName=rP;var nP="SelectScrollDownButton",hG=g.forwardRef((t,e)=>{const r=Bc(nP,t.__scopeSelect),n=nI(nP,t.__scopeSelect),[s,a]=g.useState(!1),o=At(e,n.onScrollButtonChange);return Kn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(fG,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});hG.displayName=nP;var fG=g.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,a=Bc("SelectScrollButton",r),o=g.useRef(null),l=bj(r),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Kn(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(et.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:De(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:De(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:De(s.onPointerLeave,()=>{c()})})}),aje="SelectSeparator",mG=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(et.div,{"aria-hidden":!0,...n,ref:e})});mG.displayName=aje;var sP="SelectArrow",oje=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=wj(r),a=Vc(sP,r),o=Bc(sP,r);return a.open&&o.position==="popper"?i.jsx(Y1,{...s,...n,ref:e}):null});oje.displayName=sP;function pG(t){return t===""||t===void 0}var gG=g.forwardRef((t,e)=>{const{value:r,...n}=t,s=g.useRef(null),a=At(e,s),o=tI(r);return g.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const h=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(h)}},[o,r]),i.jsx(ny,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});gG.displayName="BubbleSelect";function xG(t){const e=Mr(t),r=g.useRef(""),n=g.useRef(0),s=g.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function yG(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=lje(t,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function lje(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var cje=WH,vG=GH,uje=YH,dje=QH,hje=XH,bG=JH,fje=rG,wG=iG,jG=oG,mje=lG,pje=uG,NG=dG,SG=hG,EG=mG;const Ol=cje,Dl=uje,No=g.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(vG,{ref:n,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(dje,{asChild:!0,children:i.jsx(Fg,{className:"h-4 w-4 opacity-50"})})]}));No.displayName=vG.displayName;const _G=g.forwardRef(({className:t,...e},r)=>i.jsx(NG,{ref:r,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(Mce,{className:"h-4 w-4"})}));_G.displayName=NG.displayName;const PG=g.forwardRef(({className:t,...e},r)=>i.jsx(SG,{ref:r,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(Fg,{className:"h-4 w-4"})}));PG.displayName=SG.displayName;const So=g.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>i.jsx(hje,{children:i.jsxs(bG,{ref:s,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(_G,{}),i.jsx(fje,{className:He("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(PG,{})]})}));So.displayName=bG.displayName;const gje=g.forwardRef(({className:t,...e},r)=>i.jsx(wG,{ref:r,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));gje.displayName=wG.displayName;const Or=g.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(jG,{ref:n,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(pje,{children:i.jsx(hi,{className:"h-4 w-4"})})}),i.jsx(mje,{children:e})]}));Or.displayName=jG.displayName;const xje=g.forwardRef(({className:t,...e},r)=>i.jsx(EG,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",t),...e}));xje.displayName=EG.displayName;var ut=function(){return ut=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ut.apply(this,arguments)};function yje(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function AG(t,e,r){for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Sy(t){return t.mode==="multiple"}function Ey(t){return t.mode==="range"}function jj(t){return t.mode==="single"}var vje={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function bje(t,e){return Zo(t,"LLLL y",e)}function wje(t,e){return Zo(t,"d",e)}function jje(t,e){return Zo(t,"LLLL",e)}function Nje(t){return"".concat(t)}function Sje(t,e){return Zo(t,"cccccc",e)}function Eje(t,e){return Zo(t,"yyyy",e)}var _je=Object.freeze({__proto__:null,formatCaption:bje,formatDay:wje,formatMonthCaption:jje,formatWeekNumber:Nje,formatWeekdayName:Sje,formatYearCaption:Eje}),Pje=function(t,e,r){return Zo(t,"do MMMM (EEEE)",r)},Aje=function(){return"Month: "},Tje=function(){return"Go to next month"},Cje=function(){return"Go to previous month"},kje=function(t,e){return Zo(t,"cccc",e)},Ije=function(t){return"Week n. ".concat(t)},Rje=function(){return"Year: "},Oje=Object.freeze({__proto__:null,labelDay:Pje,labelMonthDropdown:Aje,labelNext:Tje,labelPrevious:Cje,labelWeekNumber:Ije,labelWeekday:kje,labelYearDropdown:Rje});function Dje(){var t="buttons",e=vje,r=Yk,n={},s={},a=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:_je,labels:Oje,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:o,today:l,mode:"default"}}function Mje(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,s=t.toMonth,a=t.fromDate,o=t.toDate;return n?a=Hs(n):e&&(a=new Date(e,0,1)),s?o=pj(s):r&&(o=new Date(r,11,31)),{fromDate:a?gf(a):void 0,toDate:o?gf(o):void 0}}var TG=g.createContext(void 0);function $je(t){var e,r=t.initialProps,n=Dje(),s=Mje(r),a=s.fromDate,o=s.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(jj(r)||Sy(r)||Ey(r))&&(c=r.onSelect);var u=ut(ut(ut({},n),r),{captionLayout:l,classNames:ut(ut({},n.classNames),r.classNames),components:ut({},r.components),formatters:ut(ut({},n.formatters),r.formatters),fromDate:a,labels:ut(ut({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ut(ut({},n.modifiers),r.modifiers),modifiersClassNames:ut(ut({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:ut(ut({},n.styles),r.styles),toDate:o});return i.jsx(TG.Provider,{value:u,children:t.children})}function br(){var t=g.useContext(TG);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function CG(t){var e=br(),r=e.locale,n=e.classNames,s=e.styles,a=e.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:r})})}function Lje(t){return i.jsx("svg",ut({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kG(t){var e,r,n=t.onChange,s=t.value,a=t.children,o=t.caption,l=t.className,c=t.style,u=br(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:Lje;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),i.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:a}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Fje(t){var e,r=br(),n=r.fromDate,s=r.toDate,a=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var h=[];if(f1e(n,s))for(var f=Hs(n),m=n.getMonth();m<=s.getMonth();m++)h.push(sS(f,m));else for(var f=Hs(new Date),m=0;m<=11;m++)h.push(sS(f,m));var x=function(v){var w=Number(v.target.value),b=sS(Hs(t.displayMonth),w);t.onChange(b)},p=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:kG;return i.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:x,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:h.map(function(v){return i.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function Vje(t){var e,r=t.displayMonth,n=br(),s=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,f=[];if(!s)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});for(var m=s.getFullYear(),x=a.getFullYear(),p=m;p<=x;p++)f.push(s3(dH(new Date),p));var v=function(b){var j=s3(Hs(r),Number(b.target.value));t.onChange(j)},w=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:kG;return i.jsx(w,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:f.map(function(b){return i.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function Bje(t,e){var r=g.useState(t),n=r[0],s=r[1],a=e===void 0?n:e;return[a,s]}function Uje(t){var e=t.month,r=t.defaultMonth,n=t.today,s=e||r||n||new Date,a=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(a&&yf(a,s)<0){var u=-1*(c-1);s=fi(a,u)}return o&&yf(s,o)<0&&(s=o),Hs(s)}function qje(){var t=br(),e=Uje(t),r=Bje(e,t.month),n=r[0],s=r[1],a=function(o){var l;if(!t.disableNavigation){var c=Hs(o);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[n,a]}function zje(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,s=Hs(t),a=Hs(fi(s,n)),o=yf(a,s),l=[],c=0;c<o;c++){var u=fi(s,c);l.push(u)}return r&&(l=l.reverse()),l}function Wje(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,s=e.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=Hs(t);if(!r)return fi(l,o);var c=yf(r,t);if(!(c<a))return fi(l,o)}}function Hje(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,s=e.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=Hs(t);if(!r)return fi(l,-o);var c=yf(l,r);if(!(c<=0))return fi(l,-o)}}var IG=g.createContext(void 0);function Gje(t){var e=br(),r=qje(),n=r[0],s=r[1],a=zje(n,e),o=Wje(n,e),l=Hje(n,e),c=function(h){return a.some(function(f){return Qk(h,f)})},u=function(h,f){c(h)||(f&&yH(h,f)?s(fi(h,1+e.numberOfMonths*-1)):s(h))},d={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(IG.Provider,{value:d,children:t.children})}function _y(){var t=g.useContext(IG);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function l3(t){var e,r=br(),n=r.classNames,s=r.styles,a=r.components,o=_y().goToMonth,l=function(d){o(fi(d,t.displayIndex?-t.displayIndex:0))},c=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:CG,u=i.jsx(c,{id:t.id,displayMonth:t.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(Fje,{onChange:l,displayMonth:t.displayMonth}),i.jsx(Vje,{onChange:l,displayMonth:t.displayMonth})]})}function Kje(t){return i.jsx("svg",ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Yje(t){return i.jsx("svg",ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var zb=g.forwardRef(function(t,e){var r=br(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];t.className&&a.push(t.className);var o=a.join(" "),l=ut(ut({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),i.jsx("button",ut({},t,{ref:e,type:"button",className:o,style:l}))});function Qje(t){var e,r,n=br(),s=n.dir,a=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,h=n.components;if(!t.nextMonth&&!t.previousMonth)return i.jsx(i.Fragment,{});var f=u(t.previousMonth,{locale:a}),m=[o.nav_button,o.nav_button_previous].join(" "),x=d(t.nextMonth,{locale:a}),p=[o.nav_button,o.nav_button_next].join(" "),v=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:Yje,w=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:Kje;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&i.jsx(zb,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?i.jsx(v,{className:o.nav_icon,style:l.nav_icon}):i.jsx(w,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&i.jsx(zb,{name:"next-month","aria-label":x,className:p,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?i.jsx(w,{className:o.nav_icon,style:l.nav_icon}):i.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function c3(t){var e=br().numberOfMonths,r=_y(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return Qk(t.displayMonth,x)}),c=l===0,u=l===o.length-1,d=e>1&&(c||!u),h=e>1&&(u||!c),f=function(){n&&a(n)},m=function(){s&&a(s)};return i.jsx(Qje,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:f,onNextClick:m})}function Xje(t){var e,r=br(),n=r.classNames,s=r.disableNavigation,a=r.styles,o=r.captionLayout,l=r.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:CG,u;return s?u=i.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=i.jsx(l3,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(l3,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),i.jsx(c3,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(c3,{displayMonth:t.displayMonth,id:t.id})]}),i.jsx("div",{className:n.caption,style:a.caption,children:u})}function Jje(t){var e=br(),r=e.footer,n=e.styles,s=e.classNames.tfoot;return r?i.jsx("tfoot",{className:s,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function Zje(t,e,r){for(var n=r?ed(new Date):to(new Date,{locale:t,weekStartsOn:e}),s=[],a=0;a<7;a++){var o=Rn(n,a);s.push(o)}return s}function eNe(){var t=br(),e=t.classNames,r=t.styles,n=t.showWeekNumber,s=t.locale,a=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=Zje(s,a,o);return i.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,h){return i.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function tNe(){var t,e=br(),r=e.classNames,n=e.styles,s=e.components,a=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:eNe;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(a,{})})}function rNe(t){var e=br(),r=e.locale,n=e.formatters.formatDay;return i.jsx(i.Fragment,{children:n(t.date,{locale:r})})}var sI=g.createContext(void 0);function nNe(t){if(!Sy(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return i.jsx(sI.Provider,{value:e,children:t.children})}return i.jsx(sNe,{initialProps:t.initialProps,children:t.children})}function sNe(t){var e=t.initialProps,r=t.children,n=e.selected,s=e.min,a=e.max,o=function(u,d,h){var f,m;(f=e.onDayClick)===null||f===void 0||f.call(e,u,d,h);var x=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!x){var p=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!p){var v=n?AG([],n):[];if(d.selected){var w=v.findIndex(function(b){return Bs(u,b)});v.splice(w,1)}else v.push(u);(m=e.onSelect)===null||m===void 0||m.call(e,v,u,d,h)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=a&&n.length>a-1,h=n.some(function(f){return Bs(f,u)});return!!(d&&!h)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(sI.Provider,{value:c,children:r})}function iI(){var t=g.useContext(sI);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function iNe(t,e){var r=e||{},n=r.from,s=r.to;return n&&s?Bs(s,t)&&Bs(n,t)?void 0:Bs(s,t)?{from:s,to:void 0}:Bs(n,t)?void 0:Q_(n,t)?{from:t,to:s}:{from:n,to:t}:s?Q_(t,s)?{from:s,to:t}:{from:t,to:s}:n?yH(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var aI=g.createContext(void 0);function aNe(t){if(!Ey(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(aI.Provider,{value:e,children:t.children})}return i.jsx(oNe,{initialProps:t.initialProps,children:t.children})}function oNe(t){var e=t.initialProps,r=t.children,n=e.selected,s=n||{},a=s.from,o=s.to,l=e.min,c=e.max,u=function(m,x,p){var v,w;(v=e.onDayClick)===null||v===void 0||v.call(e,m,x,p);var b=iNe(m,n);(w=e.onSelect)===null||w===void 0||w.call(e,b,m,x,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],Bs(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),l&&(a&&!o&&d.disabled.push({after:nS(a,l-1),before:Rn(a,l-1)}),a&&o&&d.disabled.push({after:a,before:Rn(a,l-1)}),!a&&o&&d.disabled.push({after:nS(o,l-1),before:Rn(o,l-1)})),c){if(a&&!o&&(d.disabled.push({before:Rn(a,-c+1)}),d.disabled.push({after:Rn(a,c-1)})),a&&o){var h=La(o,a)+1,f=c-h;d.disabled.push({before:nS(a,f)}),d.disabled.push({after:Rn(o,f)})}!a&&o&&(d.disabled.push({before:Rn(o,-c+1)}),d.disabled.push({after:Rn(o,c-1)}))}return i.jsx(aI.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function oI(){var t=g.useContext(aI);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Cv(t){return Array.isArray(t)?AG([],t):t!==void 0?[t]:[]}function lNe(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],s=r[1];e[n]=Cv(s)}),e}var va;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(va||(va={}));var cNe=va.Selected,go=va.Disabled,uNe=va.Hidden,dNe=va.Today,iS=va.RangeEnd,aS=va.RangeMiddle,oS=va.RangeStart,hNe=va.Outside;function fNe(t,e,r){var n,s=(n={},n[cNe]=Cv(t.selected),n[go]=Cv(t.disabled),n[uNe]=Cv(t.hidden),n[dNe]=[t.today],n[iS]=[],n[aS]=[],n[oS]=[],n[hNe]=[],n);return t.fromDate&&s[go].push({before:t.fromDate}),t.toDate&&s[go].push({after:t.toDate}),Sy(t)?s[go]=s[go].concat(e.modifiers[go]):Ey(t)&&(s[go]=s[go].concat(r.modifiers[go]),s[oS]=r.modifiers[oS],s[aS]=r.modifiers[aS],s[iS]=r.modifiers[iS]),s}var RG=g.createContext(void 0);function mNe(t){var e=br(),r=iI(),n=oI(),s=fNe(e,r,n),a=lNe(e.modifiers),o=ut(ut({},s),a);return i.jsx(RG.Provider,{value:o,children:t.children})}function OG(){var t=g.useContext(RG);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function pNe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function gNe(t){return!!(t&&typeof t=="object"&&"from"in t)}function xNe(t){return!!(t&&typeof t=="object"&&"after"in t)}function yNe(t){return!!(t&&typeof t=="object"&&"before"in t)}function vNe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function bNe(t,e){var r,n=e.from,s=e.to;if(n&&s){var a=La(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var o=La(t,n)>=0&&La(s,t)>=0;return o}return s?Bs(s,t):n?Bs(n,t):!1}function wNe(t){return Gk(t)}function jNe(t){return Array.isArray(t)&&t.every(Gk)}function NNe(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(wNe(r))return Bs(t,r);if(jNe(r))return r.includes(t);if(gNe(r))return bNe(t,r);if(vNe(r))return r.dayOfWeek.includes(t.getDay());if(pNe(r)){var n=La(r.before,t),s=La(r.after,t),a=n>0,o=s<0,l=Q_(r.before,r.after);return l?o&&a:a||o}return xNe(r)?La(t,r.after)>0:yNe(r)?La(r.before,t)>0:typeof r=="function"?r(t):!1})}function lI(t,e,r){var n=Object.keys(e).reduce(function(a,o){var l=e[o];return NNe(t,l)&&a.push(o),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!Qk(t,r)&&(s.outside=!0),s}function SNe(t,e){for(var r=Hs(t[0]),n=pj(t[t.length-1]),s,a,o=r;o<=n;){var l=lI(o,e),c=!l.disabled&&!l.hidden;if(!c){o=Rn(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),s||(s=o),o=Rn(o,1)}return a||s}var ENe=365;function DG(t,e){var r=e.moveBy,n=e.direction,s=e.context,a=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,f={day:Rn,week:Ah,month:fi,year:twe,startOfWeek:function(v){return s.ISOWeek?ed(v):to(v,{locale:h,weekStartsOn:c})},endOfWeek:function(v){return s.ISOWeek?hH(v):Kk(v,{locale:h,weekStartsOn:c})}},m=f[r](t,n==="after"?1:-1);n==="before"&&u?m=rwe([u,m]):n==="after"&&d&&(m=nwe([d,m]));var x=!0;if(a){var p=lI(m,a);x=!p.disabled&&!p.hidden}return x?m:l.count>ENe?l.lastFocused:DG(m,{moveBy:r,direction:n,context:s,modifiers:a,retry:ut(ut({},l),{count:l.count+1})})}var MG=g.createContext(void 0);function _Ne(t){var e=_y(),r=OG(),n=g.useState(),s=n[0],a=n[1],o=g.useState(),l=o[0],c=o[1],u=SNe(e.displayMonths,r),d=s??(l&&e.isDateDisplayed(l))?l:u,h=function(){c(s),a(void 0)},f=function(v){a(v)},m=br(),x=function(v,w){if(s){var b=DG(s,{moveBy:v,direction:w,context:m,modifiers:r});Bs(s,b)||(e.goToDate(b,s),f(b))}},p={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return i.jsx(MG.Provider,{value:p,children:t.children})}function cI(){var t=g.useContext(MG);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function PNe(t,e){var r=OG(),n=lI(t,r,e);return n}var uI=g.createContext(void 0);function ANe(t){if(!jj(t.initialProps)){var e={selected:void 0};return i.jsx(uI.Provider,{value:e,children:t.children})}return i.jsx(TNe,{initialProps:t.initialProps,children:t.children})}function TNe(t){var e=t.initialProps,r=t.children,n=function(a,o,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,a,o,l),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,o,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,o,l)},s={selected:e.selected,onDayClick:n};return i.jsx(uI.Provider,{value:s,children:r})}function $G(){var t=g.useContext(uI);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function CNe(t,e){var r=br(),n=$G(),s=iI(),a=oI(),o=cI(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,f=o.focus,m=o.focusMonthBefore,x=o.focusMonthAfter,p=o.focusYearBefore,v=o.focusYearAfter,w=o.focusStartOfWeek,b=o.focusEndOfWeek,j=function(B){var D,V,K,G;jj(r)?(D=n.onDayClick)===null||D===void 0||D.call(n,t,e,B):Sy(r)?(V=s.onDayClick)===null||V===void 0||V.call(s,t,e,B):Ey(r)?(K=a.onDayClick)===null||K===void 0||K.call(a,t,e,B):(G=r.onDayClick)===null||G===void 0||G.call(r,t,e,B)},N=function(B){var D;f(t),(D=r.onDayFocus)===null||D===void 0||D.call(r,t,e,B)},E=function(B){var D;h(),(D=r.onDayBlur)===null||D===void 0||D.call(r,t,e,B)},C=function(B){var D;(D=r.onDayMouseEnter)===null||D===void 0||D.call(r,t,e,B)},_=function(B){var D;(D=r.onDayMouseLeave)===null||D===void 0||D.call(r,t,e,B)},S=function(B){var D;(D=r.onDayPointerEnter)===null||D===void 0||D.call(r,t,e,B)},A=function(B){var D;(D=r.onDayPointerLeave)===null||D===void 0||D.call(r,t,e,B)},T=function(B){var D;(D=r.onDayTouchCancel)===null||D===void 0||D.call(r,t,e,B)},I=function(B){var D;(D=r.onDayTouchEnd)===null||D===void 0||D.call(r,t,e,B)},P=function(B){var D;(D=r.onDayTouchMove)===null||D===void 0||D.call(r,t,e,B)},R=function(B){var D;(D=r.onDayTouchStart)===null||D===void 0||D.call(r,t,e,B)},M=function(B){var D;(D=r.onDayKeyUp)===null||D===void 0||D.call(r,t,e,B)},q=function(B){var D;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),u();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),d();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?p():m();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?v():x();break;case"Home":B.preventDefault(),B.stopPropagation(),w();break;case"End":B.preventDefault(),B.stopPropagation(),b();break}(D=r.onDayKeyDown)===null||D===void 0||D.call(r,t,e,B)},W={onClick:j,onFocus:N,onBlur:E,onKeyDown:q,onKeyUp:M,onMouseEnter:C,onMouseLeave:_,onPointerEnter:S,onPointerLeave:A,onTouchCancel:T,onTouchEnd:I,onTouchMove:P,onTouchStart:R};return W}function kNe(){var t=br(),e=$G(),r=iI(),n=oI(),s=jj(t)?e.selected:Sy(t)?r.selected:Ey(t)?n.selected:void 0;return s}function INe(t){return Object.values(va).includes(t)}function RNe(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var s=t.modifiersClassNames[n];if(s)r.push(s);else if(INe(n)){var a=t.classNames["day_".concat(n)];a&&r.push(a)}}),r}function ONe(t,e){var r=ut({},t.styles.day);return Object.keys(e).forEach(function(n){var s;r=ut(ut({},r),(s=t.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function DNe(t,e,r){var n,s,a,o=br(),l=cI(),c=PNe(t,e),u=CNe(t,c),d=kNe(),h=!!(o.onDayClick||o.mode!=="default");g.useEffect(function(){var C;c.outside||l.focusedDay&&h&&Bs(l.focusedDay,t)&&((C=r.current)===null||C===void 0||C.focus())},[l.focusedDay,t,r,h,c.outside]);var f=RNe(o,c).join(" "),m=ONe(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(a=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:rNe,v=i.jsx(p,{date:t,displayMonth:e,activeModifiers:c}),w={style:m,className:f,children:v,role:"gridcell"},b=l.focusTarget&&Bs(l.focusTarget,t)&&!c.outside,j=l.focusedDay&&Bs(l.focusedDay,t),N=ut(ut(ut({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=j||b?0:-1,n)),u),E={isButton:h,isHidden:x,activeModifiers:c,selectedDays:d,buttonProps:N,divProps:w};return E}function MNe(t){var e=g.useRef(null),r=DNe(t.date,t.displayMonth,e);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(zb,ut({name:"day",ref:e},r.buttonProps)):i.jsx("div",ut({},r.divProps))}function $Ne(t){var e=t.number,r=t.dates,n=br(),s=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return i.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var h=c(Number(e),{locale:l}),f=function(m){s(e,r,m)};return i.jsx(zb,{name:"week-number","aria-label":h,className:o.weeknumber,style:a.weeknumber,onClick:f,children:d})}function LNe(t){var e,r,n=br(),s=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:MNe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:$Ne,d;return o&&(d=i.jsx("td",{className:a.cell,style:s.cell,children:i.jsx(u,{number:t.weekNumber,dates:t.dates})})),i.jsxs("tr",{className:a.row,style:s.row,children:[d,t.dates.map(function(h){return i.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:i.jsx(c,{displayMonth:t.displayMonth,date:h})},u1e(h))})]})}function u3(t,e,r){for(var n=r!=null&&r.ISOWeek?hH(e):Kk(e,r),s=r!=null&&r.ISOWeek?ed(t):to(t,r),a=La(n,s),o=[],l=0;l<=a;l++)o.push(Rn(s,l));var c=o.reduce(function(u,d){var h=r!=null&&r.ISOWeek?fH(d):pH(d,r),f=u.find(function(m){return m.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function FNe(t,e){var r=u3(Hs(t),pj(t),e);if(e!=null&&e.useFixedWeeks){var n=h1e(t,e);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],o=Ah(a,6-n),l=u3(Ah(a,1),o,e);r.push.apply(r,l)}}return r}function VNe(t){var e,r,n,s=br(),a=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,m=s.ISOWeek,x=FNe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:a,weekStartsOn:h,firstWeekContainsDate:f}),p=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:tNe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:LNe,w=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Jje;return i.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&i.jsx(p,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(b){return i.jsx(v,{displayMonth:t.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),i.jsx(w,{displayMonth:t.displayMonth})]})}function BNe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var UNe=BNe()?g.useLayoutEffect:g.useEffect,lS=!1,qNe=0;function d3(){return"react-day-picker-".concat(++qNe)}function zNe(t){var e,r=t??(lS?d3():null),n=g.useState(r),s=n[0],a=n[1];return UNe(function(){s===null&&a(d3())},[]),g.useEffect(function(){lS===!1&&(lS=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function WNe(t){var e,r,n=br(),s=n.dir,a=n.classNames,o=n.styles,l=n.components,c=_y().displayMonths,u=zNe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,h=[a.month],f=o.month,m=t.displayIndex===0,x=t.displayIndex===c.length-1,p=!m&&!x;s==="rtl"&&(e=[m,x],x=e[0],m=e[1]),m&&(h.push(a.caption_start),f=ut(ut({},f),o.caption_start)),x&&(h.push(a.caption_end),f=ut(ut({},f),o.caption_end)),p&&(h.push(a.caption_between),f=ut(ut({},f),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Xje;return i.jsxs("div",{className:h.join(" "),style:f,children:[i.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(VNe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function HNe(t){var e=br(),r=e.classNames,n=e.styles;return i.jsx("div",{className:r.months,style:n.months,children:t.children})}function GNe(t){var e,r,n=t.initialProps,s=br(),a=cI(),o=_y(),l=g.useState(!1),c=l[0],u=l[1];g.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=ut(ut({},s.styles.root),s.style),f=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,p){var v;return ut(ut({},x),(v={},v[p]=n[p],v))},{}),m=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:HNe;return i.jsx("div",ut({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:i.jsx(m,{children:o.displayMonths.map(function(x,p){return i.jsx(WNe,{displayIndex:p,displayMonth:x},p)})})}))}function KNe(t){var e=t.children,r=yje(t,["children"]);return i.jsx($je,{initialProps:r,children:i.jsx(Gje,{children:i.jsx(ANe,{initialProps:r,children:i.jsx(nNe,{initialProps:r,children:i.jsx(aNe,{initialProps:r,children:i.jsx(mNe,{children:i.jsx(_Ne,{children:e})})})})})})})}function YNe(t){return i.jsx(KNe,ut({},t,{children:i.jsx(GNe,{initialProps:t})}))}function LG({className:t,classNames:e,showOutsideDays:r=!0,...n}){return i.jsx(YNe,{showOutsideDays:r,className:He("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:He(q_({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:He(q_({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>i.jsx(Dce,{className:"h-4 w-4"}),IconRight:({...s})=>i.jsx(DC,{className:"h-4 w-4"})},...n})}LG.displayName="Calendar";const QNe=({value:t,onChange:e,className:r=""})=>{var S;const[n,s]=g.useState(!1),[a,o]=g.useState("quick"),[l,c]=g.useState("1hour"),[u,d]=g.useState(new Date);g.useState("12:00");const[h,f]=g.useState("1"),[m,x]=g.useState("hours"),p=[{value:"5min",label:"5 minutes",icon:"",color:"text-red-600"},{value:"15min",label:"15 minutes",icon:"",color:"text-orange-600"},{value:"30min",label:"30 minutes",icon:"",color:"text-yellow-600"},{value:"1hour",label:"1 hour",icon:"",color:"text-blue-600"},{value:"2hours",label:"2 hours",icon:"",color:"text-indigo-600"},{value:"6hours",label:"6 hours",icon:"",color:"text-purple-600"},{value:"12hours",label:"12 hours",icon:"",color:"text-pink-600"},{value:"1day",label:"1 day",icon:"",color:"text-green-600"},{value:"3days",label:"3 days",icon:"",color:"text-emerald-600"},{value:"1week",label:"1 week",icon:"",color:"text-teal-600"},{value:"2weeks",label:"2 weeks",icon:"",color:"text-cyan-600"},{value:"1month",label:"1 month",icon:"",color:"text-sky-600"}],v=[{value:"minutes",label:"Minutes",max:59},{value:"hours",label:"Hours",max:23},{value:"days",label:"Days",max:30},{value:"weeks",label:"Weeks",max:12},{value:"months",label:"Months",max:12}],w=()=>{const A=new Date;if(a==="quick")switch(l){case"5min":return M0(A,5);case"15min":return M0(A,15);case"30min":return M0(A,30);case"1hour":return Qc(A,1);case"2hours":return Qc(A,2);case"6hours":return Qc(A,6);case"12hours":return Qc(A,12);case"1day":return Rn(A,1);case"3days":return Rn(A,3);case"1week":return Ah(A,1);case"2weeks":return Ah(A,2);case"1month":return fi(A,1);default:return Qc(A,1)}else{const T=parseInt(h)||1,I=u||A;switch(m){case"minutes":return M0(I,T);case"hours":return Qc(I,T);case"days":return Rn(I,T);case"weeks":return Ah(I,T);case"months":return fi(I,T);default:return Qc(I,T)}}},b=A=>{c(A);const T=w();e(T)},j=()=>{const A=w();e(A),s(!1)},N=A=>{const T=new Date,I=(A.getTime()-T.getTime())/(1e3*60*60);return I<1?{level:"critical",color:"bg-red-100 text-red-800",icon:""}:I<6?{level:"urgent",color:"bg-orange-100 text-orange-800",icon:""}:I<24?{level:"high",color:"bg-yellow-100 text-yellow-800",icon:""}:I<72?{level:"medium",color:"bg-blue-100 text-blue-800",icon:""}:{level:"low",color:"bg-green-100 text-green-800",icon:""}},E=A=>{const T=new Date,I=A.getTime()-T.getTime(),P=Math.floor(I/(1e3*60)),R=Math.floor(I/(1e3*60*60)),M=Math.floor(I/(1e3*60*60*24));return P<60?`${P} minutes`:R<24?`${R} hours`:M<7?`${M} days`:Zo(A,"MMM dd, yyyy")},C=t?new Date(t):w(),_=N(C);return i.jsxs("div",{className:`space-y-4 ${r}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jn,{className:"h-5 w-5 text-slate-600"}),i.jsx(ft,{className:"text-sm font-medium",children:"Response Deadline"}),t&&i.jsxs(Te,{className:_.color,children:[i.jsx("span",{className:"mr-1",children:_.icon}),E(C)]})]}),i.jsxs($H,{open:n,onOpenChange:s,children:[i.jsx(LH,{asChild:!0,children:i.jsxs(H,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[i.jsx(OC,{className:"mr-2 h-4 w-4"}),t?E(C):"Set deadline"]})}),i.jsx(eI,{className:"w-80 p-0",align:"start",children:i.jsxs(xe,{className:"border-0 shadow-none",children:[i.jsx(jt,{className:"pb-3",children:i.jsx(mr,{className:"text-sm font-medium",children:"Set Response Deadline"})}),i.jsxs(Ue,{className:"space-y-4",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(H,{variant:a==="quick"?"default":"outline",size:"sm",onClick:()=>o("quick"),className:"flex-1",children:"Quick Select"}),i.jsx(H,{variant:a==="custom"?"default":"outline",size:"sm",onClick:()=>o("custom"),className:"flex-1",children:"Custom"})]}),a==="quick"?i.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(A=>i.jsxs(H,{variant:l===A.value?"default":"outline",size:"sm",onClick:()=>b(A.value),className:"justify-start text-xs",children:[i.jsx("span",{className:"mr-1",children:A.icon}),A.label]},A.value))}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ft,{className:"text-xs text-slate-600",children:"Start Date"}),i.jsx(LG,{mode:"single",selected:u,onSelect:d,className:"rounded-md border"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx(ft,{className:"text-xs text-slate-600",children:"Duration"}),i.jsx(pr,{type:"number",value:h,onChange:A=>f(A.target.value),min:"1",max:((S=v.find(A=>A.value===m))==null?void 0:S.max)||12,className:"text-sm"})]}),i.jsxs("div",{children:[i.jsx(ft,{className:"text-xs text-slate-600",children:"Type"}),i.jsxs(Ol,{value:m,onValueChange:x,children:[i.jsx(No,{className:"text-sm",children:i.jsx(Dl,{})}),i.jsx(So,{children:v.map(A=>i.jsx(Or,{value:A.value,children:A.label},A.value))})]})]})]}),i.jsx(H,{onClick:j,className:"w-full",children:"Apply Custom Time"})]}),t&&i.jsx("div",{className:"pt-3 border-t",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Deadline:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Te,{className:_.color,children:[i.jsx("span",{className:"mr-1",children:_.icon}),_.level.toUpperCase()]}),i.jsx("span",{className:"font-medium",children:Zo(C,"MMM dd, yyyy HH:mm")})]})]})})]})]})})]})]})};function XNe(){const{user:t,isProfileVerified:e,profileVerificationStatus:r,loading:n}=Rr(),s=e||r==="approved"||r==="verified"||r==="completed";g.useEffect(()=>{console.log(" PostEnquiry Debug:",{isProfileVerified:e,profileVerificationStatus:r,isUserVerified:s,authLoading:n,userId:t==null?void 0:t.uid,shouldShowID:!s})},[e,r,s,n,t==null?void 0:t.uid]);const{canPostEnquiry:a,incrementEnquiries:o,getRemainingEnquiries:l}=mm();Cme();const c=Jr(),[u,d]=g.useState(""),[h,f]=g.useState(""),[m,x]=g.useState(""),[p,v]=g.useState([]),[w,b]=g.useState(""),[j,N]=g.useState(""),[E,C]=g.useState(null),[_,S]=g.useState(null),[A,T]=g.useState(""),[I,P]=g.useState(!1),[R,M]=g.useState(!1),[q,W]=g.useState(!1),[B,D]=g.useState("form"),[V,K]=g.useState({cardNumber:"",expiryDate:"",cvv:"",name:""}),[G,Q]=g.useState(!1),[ae,U]=g.useState(!1),[Y,ue]=g.useState(null),[Z,Pe]=g.useState(null),[te,ye]=g.useState(!1),[F,z]=g.useState(0),[ie,ne]=g.useState(""),[he,ve]=g.useState(null),[ge,X]=g.useState("pending"),[le,de]=g.useState(!1),[Ge,Xe]=g.useState(!1),[Tt,ht]=g.useState([]),[Ct,vt]=g.useState(!1),Ot=async()=>{if(!(!_||!(t!=null&&t.uid))){D("processing"),W(!0);try{const re=await wH("temp-enquiry-id",t.uid,_,V);D("success"),setTimeout(async()=>{var J;try{P(!0);const Re={title:u.trim(),description:h.trim(),category:p.length>0?p[0]:"other",categories:p.length>0?p:["other"],budget:w?parseFloat(w.replace(/[^\d]/g,"")):null,location:j.trim(),deadline:E,isUrgent:E?(()=>{const st=new Date;return(E.getTime()-st.getTime())/(1e3*60*60)<72})():!1,status:"live",isPremium:_.price>0,selectedPlanId:_.id,selectedPlanPrice:_.price,paymentStatus:"completed",createdAt:$e(),userId:t==null?void 0:t.uid,userEmail:t==null?void 0:t.email,userName:(t==null?void 0:t.displayName)||((J=t==null?void 0:t.email)==null?void 0:J.split("@")[0]),notes:A.trim()||null,governmentIdFront:null,governmentIdBack:null,isUserVerified:s,profileVerificationStatus:r},Ve=(await ni(Ze(oe,"enquiries"),Re)).id;console.log("Premium enquiry saved successfully with ID:",Ve);const Ce=await xj(Ve,t.uid,_,re.transactionId||"");await yj(t.uid,_.id,Ce,Ve),ve(Ve),X("live"),de(!0),o(),Q(!0),Xe(!0),ce({title:"Payment Successful! ",description:"Your premium enquiry is now live!"})}catch(Re){console.error("Error creating premium enquiry:",Re),ce({title:"Error",description:"Failed to create enquiry. Please try again.",variant:"destructive"})}finally{P(!1)}W(!1),M(!1),D("form"),K({cardNumber:"",expiryDate:"",cvv:"",name:""})},1e3)}catch(re){console.error("Payment failed:",re),D("failed"),W(!1)}}},_r=()=>{D("form"),W(!1),K({cardNumber:"",expiryDate:"",cvv:"",name:""}),M(!1)};if(g.useEffect(()=>{if(!t){c("/signin",{state:{message:"Please sign in to post an enquiry",redirectTo:"/post-enquiry"}});return}},[t,c]),g.useEffect(()=>{t&&(async()=>{try{console.log("Testing database connection...");const J=bt(Ze(oe,"enquiries"),Ru(1)),Re=await Bt(J);console.log("Database connection successful, found",Re.size,"documents")}catch(J){console.error("Database connection failed:",J),alert("Database connection failed. Please check your internet connection and try again.")}})()},[t]),g.useEffect(()=>{if(!he){console.log(" No submittedEnquiryId, skipping real-time listener setup");return}console.log(" Setting up REAL-TIME listener for enquiry:",he),console.log(" This works for BOTH free and premium submissions"),window.scrollTo(0,0);const re=ke(oe,"enquiries",he);let J,Re=!1,_e=0,Ve="pending";return J=setInterval(async()=>{if(_e++,console.log(` POLLING ATTEMPT #${_e} for enquiry:`,he),Re){console.log(" Navigation already triggered, stopping polling"),clearInterval(J);return}try{const Ce=await Vt(re);if(Ce.exists()){const Rt=Ce.data().status;console.log(" POLLING CHECK #"+_e+" - Current status:",Rt,"Previous:",Ve),Ve=Rt,X(Rt),Rt==="live"||Rt==="approved"?(Re=!0,de(!0),console.log(" ENQUIRY APPROVED! Auto-navigating to live enquiries page..."),console.log(" Status changed from pending to",Rt),clearInterval(J),ce({title:"Enquiry Approved! ",description:"Your enquiry is now live and visible to sellers!"}),console.log(" NAVIGATING TO LIVE ENQUIRIES NOW..."),c("/enquiries")):Rt==="rejected"?(Re=!0,console.log(" ENQUIRY REJECTED! Auto-navigating to dashboard..."),clearInterval(J),ce({title:"Enquiry Rejected",description:"Your enquiry was not approved. Check your dashboard for details.",variant:"destructive"}),console.log(" NAVIGATING TO DASHBOARD NOW..."),c("/dashboard")):console.log(" Status update:",Rt,"(no navigation needed)")}else console.log(" Document not found for enquiry:",he)}catch(Ce){console.error(" Error in polling check #"+_e+":",Ce)}},1e3),()=>{console.log(" Cleaning up enquiry status listener and polling"),clearInterval(J)}},[he,c]),!t)return i.jsx(wt,{children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pal-blue mx-auto mb-4"}),i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground whitespace-nowrap",children:"Redirecting to sign in..."})]})})});R&&(B==="form"&&(_!=null&&_.name,_!=null&&_.price,_!=null&&_.description,V.cardNumber,V.expiryDate,V.cvv,V.name,q||!V.cardNumber||!V.expiryDate||!V.cvv||V.name,q||`${(_==null?void 0:_.price)||0}`));let rr=[{value:"jobs",label:"Jobs & Employment",group:"Professional"},{value:"professional-services",label:"Professional Services",group:"Professional"},{value:"real-estate",label:"Real Estate",group:"Professional"},{value:"real-estate-services",label:"Real Estate Services",group:"Professional"},{value:"legal-financial",label:"Legal & Financial",group:"Professional"},{value:"marketing-advertising",label:"Marketing & Advertising",group:"Professional"},{value:"insurance-services",label:"Insurance Services",group:"Professional"},{value:"government-public",label:"Government & Public",group:"Professional"},{value:"non-profit-charity",label:"Non-Profit & Charity",group:"Professional"},{value:"antiques",label:"Antiques",group:"Products"},{value:"art",label:"Art & Artifacts",group:"Products"},{value:"automobile",label:"Automobile",group:"Products"},{value:"books-publications",label:"Books & Publications",group:"Products"},{value:"collectibles",label:"Collectibles",group:"Products"},{value:"electronics-gadgets",label:"Electronics & Gadgets",group:"Products"},{value:"fashion-apparel",label:"Fashion & Apparel",group:"Products"},{value:"home-furniture",label:"Home & Furniture",group:"Products"},{value:"jewelry-accessories",label:"Jewelry & Accessories",group:"Products"},{value:"memorabilia",label:"Memorabilia",group:"Products"},{value:"sneakers",label:"Sneakers",group:"Products"},{value:"souvenir",label:"Souvenir",group:"Products"},{value:"thrift",label:"Thrift",group:"Products"},{value:"vintage",label:"Vintage Items",group:"Products"},{value:"agriculture-farming",label:"Agriculture & Farming",group:"Lifestyle"},{value:"childcare-family",label:"Childcare & Family",group:"Lifestyle"},{value:"education-training",label:"Education & Training",group:"Lifestyle"},{value:"entertainment-media",label:"Entertainment & Media",group:"Lifestyle"},{value:"events-entertainment",label:"Events & Entertainment",group:"Lifestyle"},{value:"food-beverage",label:"Food & Beverage",group:"Lifestyle"},{value:"gaming-recreation",label:"Gaming & Recreation",group:"Lifestyle"},{value:"health-beauty",label:"Health & Beauty",group:"Lifestyle"},{value:"pets",label:"Pets & Animals",group:"Lifestyle"},{value:"sports-outdoor",label:"Sports & Outdoor",group:"Lifestyle"},{value:"travel-tourism",label:"Travel & Tourism",group:"Lifestyle"},{value:"wedding-events",label:"Wedding & Events",group:"Lifestyle"},{value:"technology",label:"Technology",group:"Technology"},{value:"renewable-energy",label:"Renewable Energy",group:"Technology"},{value:"construction-renovation",label:"Construction & Renovation",group:"Industrial"},{value:"raw-materials-industrial",label:"Raw Materials & Industrial",group:"Industrial"},{value:"transportation-logistics",label:"Transportation & Logistics",group:"Industrial"},{value:"waste-management",label:"Waste Management",group:"Industrial"},{value:"security-safety",label:"Security & Safety",group:"Security"},{value:"other",label:"Other",group:"Other"}];rr=[...rr.filter(re=>re.value!=="other").sort((re,J)=>re.label.localeCompare(J.label)),rr.find(re=>re.value==="other")],l();const hs=re=>{v(J=>J.includes(re)?J.filter(Re=>Re!==re):J.length<3?[...J,re]:J)},nr=re=>{const J=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry","Mumbai","Delhi","Bangalore","Hyderabad","Ahmedabad","Chennai","Kolkata","Surat","Pune","Jaipur","Lucknow","Kanpur","Nagpur","Indore","Thane","Bhopal","Visakhapatnam","Pimpri-Chinchwad","Patna","Vadodara","Ghaziabad","Ludhiana","Agra","Nashik","Faridabad","Meerut","Rajkot","Kalyan-Dombivali","Vasai-Virar","Varanasi","Srinagar","Aurangabad","Navi Mumbai","Solapur","Vijayawada","Ranchi","Chandigarh","Mysore","Jodhpur","Guwahati","Jabalpur","Gwalior","Noida","Coimbatore","Kochi","Bhubaneswar","Dehradun","Amritsar","Allahabad","Howrah","Rourkela","Dhanbad","Asansol","Nanded","Kolhapur","Ajmer","Guntur","Salem","Warangal","Udaipur","Tiruchirappalli","Kozhikode","Thrissur","Alappuzha","Vellore","Tirunelveli","Kollam","Kottayam","Palakkad","Malappuram","Kannur","Pathanamthitta","Ernakulam","Wayanad","Idukki","Aligarh","Ambala","Bareilly","Belgaum","Bhavnagar","Bilaspur","Cuttack","Durgapur","Gaya","Gorakhpur","Hubli","Jamnagar","Jhansi","Kakinada","Kharagpur","Kurnool","Mathura","Moradabad","Muzaffarnagar","Muzaffarpur","Nellore","Panipat","Rohtak","Saharanpur","Sangli","Shimla","Siliguri","Tirupati","Ujjain","Vellore","Vijayanagaram","Yamunanagar","Anywhere","Everywhere","Remote","Work from Home","Online","Virtual","Global","International"];if(!re.trim()){ht([]);return}const Re=J.filter(_e=>_e.toLowerCase().includes(re.toLowerCase())).slice(0,12);ht(Re)},cr=re=>{const J=re.target.value;N(J),nr(J),vt(!0)},fs=re=>{N(re),vt(!1),ht([])},Ts=async re=>{if(re.preventDefault(),console.log(" FORM SUBMITTED! "),console.log("Form submission started"),console.log("Form data:",{title:u,description:h,category:m,budget:w,location:j,deadline:E,notes:A}),console.log("ID images:",{idFrontImage:!!Y,idBackImage:!!Z}),console.log("Current loading state:",I),console.log("Current selectedPlan:",_),!t){alert("Please sign in to post an enquiry.");return}if(!a()){console.log("Cannot post enquiry - usage limit reached"),U(!0);return}if(!u.trim()||!h.trim()||p.length===0&&!m||!w.trim()||!j.trim()){alert("Please fill in all required fields (title, description, categories, budget, location).");return}if(console.log("Checking premium status:",{selectedPlan:_}),_&&_.price>0){console.log(" Opening payment modal for premium enquiry"),M(!0);return}try{P(!0);let J=null,Re=null;if(!s&&(Y||Z)){console.log("Starting ID image upload for non-verified user..."),ye(!0),ne("Uploading ID documents..."),z(0);try{Y&&(ne("Uploading front ID to Cloudinary..."),z(25),J=await Ub(Y),console.log("Front ID uploaded to Cloudinary")),Z&&(ne("Uploading back ID to Cloudinary..."),z(50),Re=await Ub(Z),console.log("Back ID uploaded to Cloudinary")),z(75),ne("ID documents uploaded successfully!")}catch(Ce){throw console.error("Error uploading ID documents:",Ce),ne(`Upload failed: ${Ce}`),new Error(`Failed to upload ID documents: ${Ce}`)}}else e?(console.log("User is verified - skipping ID upload"),ne("User verified - no ID upload needed"),z(100)):(console.log("No ID images to upload"),ne("No ID images provided"),z(100));console.log("Now saving to Firestore..."),ne("Saving enquiry to database..."),z(90);const _e=!1,Ve={title:u.trim(),description:h.trim(),category:p.length>0?p[0]:"other",categories:p.length>0?p:["other"],budget:w?parseFloat(w.replace(/[^\d]/g,"")):null,location:j.trim(),deadline:E,isUrgent:E?(()=>{const Ce=new Date;return(E.getTime()-Ce.getTime())/(1e3*60*60)<72})():!1,status:_&&_.price>0?"pending_payment":s?"live":"pending",isPremium:_e||(_?_.price>0:!1),selectedPlanId:_e?"premium":(_==null?void 0:_.id)||"free",selectedPlanPrice:_e?0:(_==null?void 0:_.price)||0,isAutoProEnquiry:_e,paymentStatus:_&&_.price>0?"pending":"completed",createdAt:$e(),userId:t.uid,responses:0,likes:0,shares:0,views:0,userLikes:[],notes:A.trim(),userVerified:s,isProfileVerified:s};J&&(Ve.idFrontImage=J),Re&&(Ve.idBackImage=Re),console.log("Saving enquiry data:",Ve);try{const Ce=await ni(Ze(oe,"enquiries"),Ve);console.log("Enquiry saved successfully with ID:",Ce.id),ve(Ce.id),X("pending"),de(!1),z(100),ne("Enquiry submitted successfully!"),console.log(" Processing free enquiry through AI approval system...");try{const{enquiryApprovalAI:st}=await Ju(async()=>{const{enquiryApprovalAI:Kt}=await import("./enquiryApproval-CTDSUkNF.js");return{enquiryApprovalAI:Kt}},[]),Rt={id:Ce.id,title:Ve.title,description:Ve.description,category:Ve.category,budget:Ve.budget,location:Ve.location,deadline:Ve.deadline,isPremium:!1,userId:t.uid,createdAt:Ve.createdAt};if(await st.processEnquiry(Ce.id,Rt))await dt(ke(oe,"enquiries",Ce.id),{status:"live",adminNotes:"AI Approved - High quality enquiry"}),X("live"),de(!0),console.log(" Free enquiry approved by AI"),ce({title:"Enquiry Posted Successfully! ",description:"Your enquiry is now live and visible to sellers.",variant:"default"});else{X("pending"),console.log(" Free enquiry sent to manual review");const Zr=(await Vt(ke(oe,"enquiries",Ce.id))).data();Zr!=null&&Zr.isDuplicate?ce({title:"Duplicate Detected",description:"Your enquiry appears similar to existing ones. It's under review by our team.",variant:"default"}):ce({title:"Under Review",description:"Your enquiry is being reviewed. You'll be notified once it's approved.",variant:"default"})}}catch(st){console.error(" AI processing failed for free enquiry:",st),X("pending"),ce({title:"Enquiry Submitted",description:"Your enquiry is being reviewed. You'll be notified once it's approved.",variant:"default"})}await new Promise(st=>setTimeout(st,1e3)),o(),Q(!0),s?(console.log(" Trust Badge User: Enquiry automatically approved and made live!"),setTimeout(()=>{c("/enquiries")},3e3)):(console.log(" PostEnquiry: Starting AI processing for enquiry:",Ce.id,"User verified:",e),Ou.processEnquirySubmission(Ce.id,Ve).then(st=>{st.success?console.log(" AI: Enquiry auto-approved and made live instantly!"):st.action==="flagged"?console.log(" AI: Enquiry flagged for manual review"):console.log(" AI: Enquiry auto-rejected")}).catch(st=>{console.error(" AI: Error processing enquiry:",st)}))}catch(Ce){throw console.error("Error saving to Firestore:",Ce),new Error(`Failed to save enquiry to database: ${Ce}`)}}catch(J){console.error("Error submitting enquiry:",J),alert(`Failed to submit enquiry: ${(J==null?void 0:J.message)||"Unknown error occurred"}. Please try again.`)}finally{P(!1),ye(!1),z(0),ne("")}};return g.useEffect(()=>{G&&window.scrollTo(0,0)},[G]),G?i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center py-20 px-4",children:i.jsxs(xe,{className:"max-w-2xl w-full mx-auto p-8 text-center shadow-xl border-2 border-blue-200 rounded-2xl",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(xt,{className:"h-8 w-8 text-green-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Enquiry sent for verification"}),i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground mb-6 leading-relaxed",children:"Our AI system will review your enquiry and make it live shortly"}),i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-200 rounded-lg p-6 mb-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-lg font-semibold text-green-700",children:" AI Processing Active"}),i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),i.jsx("p",{className:"text-[10px] sm:text-sm font-medium text-green-600 whitespace-nowrap",children:"Auto-redirect when approved"}),i.jsx("p",{className:"text-[10px] sm:text-xs mt-1 text-green-500 whitespace-nowrap",children:"Watching for updates every second"})]}),i.jsx("div",{className:"bg-pal-blue-light p-4 rounded-lg mb-6",children:i.jsxs("p",{className:"text-[10px] sm:text-sm text-pal-blue-dark whitespace-nowrap overflow-hidden text-ellipsis",children:[i.jsx(Cr,{className:"h-4 w-4 inline mr-1"}),"Your personal details remain private"]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(Je,{to:"/enquiries",children:i.jsx(H,{variant:"default",children:"Browse Other Enquiries"})}),i.jsx(Je,{to:"/dashboard",children:i.jsx(H,{variant:"outline",children:"View My Dashboard"})})]}),he&&i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg text-left",children:[i.jsx("p",{className:"text-sm text-gray-700 mb-3 font-semibold",children:" Debug Information"}),i.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Enquiry ID:"})," ",he]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Current Status:"})," ",ge]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Real-time monitoring:"})," ",he?" Active":" Inactive"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"isSubmitted:"})," ",G?" True":" False"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"isEnquiryApproved:"})," ",le?" True":" False"]})]}),i.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:i.jsx(H,{variant:"outline",size:"sm",onClick:async()=>{console.log(" MANUAL TEST: Checking enquiry status...");try{const re=ke(oe,"enquiries",he),J=await Vt(re);if(J.exists()){const Re=J.data();console.log(" MANUAL TEST: Current status:",Re.status),console.log(" MANUAL TEST: Full data:",Re),ce({title:"Manual Check Complete",description:`Status: ${Re.status}`})}else console.log(" MANUAL TEST: Document not found"),ce({title:"Document Not Found",description:"Enquiry document not found in database",variant:"destructive"})}catch(re){console.error(" MANUAL TEST ERROR:",re),ce({title:"Check Failed",description:"Error checking enquiry status",variant:"destructive"})}},className:"w-full",children:" Manual Status Check"})})]})]})})}):i.jsxs(wt,{children:[i.jsx("div",{className:"min-h-screen bg-slate-50 py-6 lg:py-8",children:i.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6",children:[i.jsx("div",{className:"mb-8 rounded-2xl overflow-hidden shadow-lg",children:i.jsxs("div",{className:"bg-gray-800 px-6 py-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx(H,{variant:"ghost",onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-700 rounded-lg text-white",children:i.jsx(wn,{className:"h-5 w-5"})}),i.jsx("div",{className:"text-center flex-1",children:i.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-white tracking-tight",children:"Post Enquiry"})}),i.jsx("div",{className:"w-10"})," "]}),i.jsx("p",{className:"text-gray-300 text-[10px] sm:text-xs lg:text-sm max-w-2xl mx-auto text-center whitespace-nowrap",children:"AI matches you with verified sellers"})]})}),G&&i.jsx(xe,{className:"border-2 border-blue-200 shadow-sm mb-6 rounded-2xl",children:i.jsxs(Ue,{className:"p-6 text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-6 w-6 text-green-600"})}),i.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Enquiry Posted Successfully!"}),i.jsx("p",{className:"text-[10px] sm:text-sm text-green-700 mb-4 whitespace-nowrap overflow-hidden text-ellipsis",children:"Sent for verification - You'll get notified"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[i.jsx(Je,{to:"/dashboard",children:i.jsx(H,{className:"bg-green-600 hover:bg-green-700 text-white",children:"View Dashboard"})}),i.jsx(H,{variant:"outline",onClick:()=>Q(!1),className:"border-green-300 text-green-700 hover:bg-green-50",children:"Post Another Enquiry"})]})]})}),!G&&i.jsx(xe,{className:"border-2 border-blue-200 shadow-sm rounded-2xl",children:i.jsx(Ue,{className:"p-6 lg:p-8",children:i.jsxs("form",{onSubmit:Ts,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ft,{htmlFor:"title",className:"text-sm font-medium text-slate-700",children:[m==="jobs"?"Job Title":"What you need"," *"]}),i.jsx(pr,{id:"title",placeholder:m==="jobs"?"e.g., Senior Web Developer":"e.g., Vintage Toyota Car",value:u,onChange:re=>d(re.target.value),className:"h-12 sm:h-11 text-xs sm:text-base border-slate-200 focus:border-slate-400 focus:ring-slate-400 min-touch",required:!0})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ft,{className:"text-sm font-medium text-slate-700",children:"Choose Categories *"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 whitespace-nowrap overflow-hidden text-ellipsis",children:" Select up to 3 categories for better reach"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs($H,{children:[i.jsx(LH,{asChild:!0,children:i.jsxs(H,{variant:"outline",className:`w-full justify-between min-h-[44px] h-auto py-2 px-3 border-slate-200 focus:border-slate-400 focus:ring-slate-400 ${p.length===0?"border-pal-blue/30 bg-pal-blue/5":""}`,children:[i.jsx("div",{className:"flex flex-wrap gap-1.5 flex-1 text-left items-center min-w-0",children:p.length===0?i.jsx("span",{className:"text-xs sm:text-base text-slate-500",children:"Select categories..."}):p.map(re=>{const J=rr.find(Re=>Re.value===re);return i.jsx(Te,{variant:"secondary",className:"text-[10px] sm:text-xs px-2 py-0.5 whitespace-nowrap flex-shrink-0",children:J==null?void 0:J.label},re)})}),i.jsx(Fg,{className:"ml-2 h-4 w-4 flex-shrink-0"})]})}),i.jsxs(eI,{className:"w-[var(--radix-popover-trigger-width)] max-w-[100vw] p-0",align:"start",children:[i.jsx("div",{className:"max-h-60 overflow-y-auto",children:rr.map(re=>{const J=p.includes(re.value),Re=!J&&p.length>=3;return i.jsxs("div",{className:`flex items-center space-x-2 p-3 hover:bg-slate-50 ${Re?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx(zH,{id:re.value,checked:J,disabled:Re,onCheckedChange:()=>hs(re.value)}),i.jsx(ft,{htmlFor:re.value,className:`text-sm flex-1 ${Re?"cursor-not-allowed text-slate-400":"cursor-pointer text-slate-700"}`,children:re.label})]},re.value)})}),p.length>=3&&i.jsx("div",{className:"p-3 bg-blue-50 border-t border-blue-200",children:i.jsx("p",{className:"text-[10px] sm:text-xs text-blue-600 whitespace-nowrap",children:" Max 3 categories selected"})})]})]}),p.length===0&&i.jsx("p",{className:"text-[10px] sm:text-xs text-pal-blue whitespace-nowrap",children:" Select at least one category"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ft,{htmlFor:"description",className:"text-sm font-medium text-slate-700",children:[p.includes("jobs")?"Job Description":"Description"," *"]}),i.jsx(td,{id:"description",placeholder:p.includes("jobs")?"Job responsibilities, requirements, experience needed...":"Specifications, requirements, timeline...",value:h,onChange:re=>f(re.target.value),rows:4,className:"border-slate-200 focus:border-slate-400 focus:ring-slate-400 resize-none text-xs sm:text-base min-h-[120px] min-touch",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ft,{htmlFor:"budget",className:"text-sm font-medium text-slate-700",children:[p.includes("jobs")?"Salary ()":"Budget ()"," *"]}),i.jsx(pr,{id:"budget",placeholder:p.includes("jobs")?"50,000/month":"50,000",value:w,onChange:re=>{const Re=re.target.value.replace(/[^\d,]/g,"").replace(/,/g,"");if(Re===""||/^\d+$/.test(Re)){const _e=Re===""?"":parseInt(Re).toLocaleString("en-IN");b(_e)}},onBlur:re=>{re.target.value&&!re.target.value.startsWith("")&&b(""+re.target.value)},className:"h-12 sm:h-11 text-xs sm:text-base border-slate-200 focus:border-slate-400 focus:ring-slate-400 min-touch",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ft,{htmlFor:"location",className:"text-sm font-medium text-slate-700",children:"Location *"}),i.jsxs("div",{className:"relative",children:[i.jsx(pr,{id:"location",placeholder:"Anywhere",value:j,onChange:cr,onFocus:()=>vt(!0),onBlur:()=>setTimeout(()=>vt(!1),200),className:"h-12 sm:h-11 text-xs sm:text-base border-slate-200 focus:border-slate-400 focus:ring-slate-400 min-touch",required:!0}),Ct&&Tt.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Tt.map((re,J)=>i.jsxs("button",{type:"button",onClick:()=>fs(re),className:"w-full px-4 py-2 text-left hover:bg-slate-50 focus:bg-slate-50 focus:outline-none text-xs sm:text-sm",children:[i.jsx("span",{className:"font-medium",children:re}),(re==="Anywhere"||re==="Everywhere")&&i.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:"Global"})]},J))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[i.jsx("div",{className:"space-y-2",children:i.jsx(QNe,{value:E,onChange:C,className:"w-full"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ft,{htmlFor:"notes",className:"text-sm font-medium text-slate-700",children:"Notes (Optional)"}),i.jsx(td,{id:"notes",placeholder:"Additional requirements or preferences...",value:A,onChange:re=>T(re.target.value),rows:3,className:"border-slate-200 focus:border-slate-400 focus:ring-slate-400 resize-none text-xs sm:text-base"})]})]}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ft,{className:"text-[11px] sm:text-xs font-medium text-slate-700",children:"Choose Your Plan (Optional)"}),i.jsx(vf,{currentPlanId:(_==null?void 0:_.id)||"free",enquiryId:"new-enquiry",userId:(t==null?void 0:t.uid)||"",onPlanSelect:(re,J)=>{const Re=ls.find(_e=>_e.id===re);S(Re||null)},isUpgrade:!1,className:"max-w-4xl mx-auto"})]}),_&&_.price>0&&i.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-blue-600 text-xs",children:""})}),i.jsxs("div",{className:"text-[10px] sm:text-sm text-blue-800",children:[i.jsxs("p",{className:"font-medium mb-1 whitespace-nowrap",children:[_.name," Plan Benefits:"]}),i.jsx("ul",{className:"text-[10px] sm:text-xs space-y-1 text-blue-700",children:_.features.map((re,J)=>i.jsxs("li",{children:[" ",re]},J))})]})]})})]}),!n&&!s&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Cr,{className:"h-4 w-4 text-slate-600"}),i.jsx(ft,{className:"text-sm font-medium text-slate-700",children:"ID Verification (Optional)"})]}),i.jsx("div",{className:"p-3 bg-slate-50 border border-slate-200 rounded-lg",children:i.jsx("p",{className:"text-[10px] sm:text-xs text-slate-600 whitespace-nowrap overflow-hidden text-ellipsis",children:Y||Z?" ID uploaded - pending verification":"Upload ID to build trust"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ft,{htmlFor:"idFront",className:"text-xs font-medium text-slate-600",children:"Front Side"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"file",id:"idFront",accept:"image/*",onChange:re=>{var J;return ue(((J=re.target.files)==null?void 0:J[0])||null)},className:"hidden"}),i.jsx("label",{htmlFor:"idFront",className:`block w-full h-20 border border-dashed rounded-lg cursor-pointer transition-all flex flex-col items-center justify-center text-center ${Y?"border-green-300 bg-green-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:Y?i.jsxs("div",{className:"space-y-1",children:[i.jsx(xt,{className:"h-4 w-4 text-green-600 mx-auto"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-green-700 font-medium whitespace-nowrap",children:"Uploaded"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-green-600 whitespace-nowrap overflow-hidden text-ellipsis",children:Y.name})]}):i.jsxs("div",{className:"space-y-1",children:[i.jsx(gu,{className:"h-5 w-5 sm:h-6 sm:w-6 text-muted-foreground mx-auto"}),i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground font-medium whitespace-nowrap",children:"Click to upload"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground whitespace-nowrap",children:"Front side of ID"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ft,{htmlFor:"idBack",className:"text-xs font-medium text-slate-600",children:"Back Side"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"file",id:"idBack",accept:"image/*",onChange:re=>{var J;return Pe(((J=re.target.files)==null?void 0:J[0])||null)},className:"hidden"}),i.jsx("label",{htmlFor:"idBack",className:`block w-full h-20 border border-dashed rounded-lg cursor-pointer transition-all flex flex-col items-center justify-center text-center ${Z?"border-green-300 bg-green-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:Z?i.jsxs("div",{className:"space-y-1",children:[i.jsx(xt,{className:"h-4 w-4 text-green-600 mx-auto"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-green-700 font-medium whitespace-nowrap",children:"Uploaded"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-green-600 whitespace-nowrap overflow-hidden text-ellipsis",children:Z.name})]}):i.jsxs("div",{className:"space-y-1",children:[i.jsx(gu,{className:"h-4 w-4 text-slate-400 mx-auto"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 font-medium whitespace-nowrap",children:"Click to upload"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-slate-400 whitespace-nowrap",children:"Back side"})]})})]})]})]})]}),!n&&s&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xt,{className:"h-4 w-4 text-green-600"}),i.jsx(ft,{className:"text-sm font-medium text-green-700",children:"Trust Badge Verified"})]}),i.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:i.jsx("p",{className:"text-xs text-green-700",children:" You have a trust badge - no ID upload needed for verification"})})]}),!n&&!s&&te&&i.jsxs("div",{className:"space-y-3 p-4 bg-muted/20 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:ie}),i.jsxs("span",{className:"text-[10px] sm:text-sm text-muted-foreground whitespace-nowrap",children:[F,"%"]})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-pal-blue h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${F}%`}})})]}),i.jsxs("div",{className:"pt-6",children:[i.jsx(H,{type:"submit",disabled:I||te,className:"w-full h-12 bg-slate-900 hover:bg-slate-800 text-white font-medium rounded-lg transition-colors disabled:opacity-50",children:I?i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Submitting..."})]}):"Post Enquiry"}),I&&i.jsxs("div",{className:"mt-4 p-3 bg-slate-50 border border-slate-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-slate-600 border-t-transparent rounded-full animate-spin"}),i.jsx("span",{className:"text-sm font-medium text-slate-700",children:te?"Uploading ID...":"Submitting enquiry..."})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:i.jsx("div",{className:"bg-slate-600 h-2 rounded-full transition-all duration-300",style:{width:`${F}%`}})})]})]})]})})}),he&&i.jsx(xe,{className:"mt-6 border-2 border-blue-200 bg-green-50/50 rounded-2xl",children:i.jsxs(Ue,{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:Ge?" Payment Successful!":" Enquiry Submitted Successfully!"}),i.jsx("p",{className:"text-sm text-green-700",children:Ge?"Your premium enquiry is now under review. Check the status below:":s?"Your enquiry is automatically approved and live thanks to your trust badge!":"Your enquiry is being processed by AI. Check the status below:"})]}),i.jsxs("div",{className:"bg-white border border-green-300 rounded-lg p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${ge==="live"||ge==="approved"?"bg-green-500":ge==="rejected"?"bg-pal-blue":"bg-yellow-500"}`,children:ge==="live"||ge==="approved"?i.jsx(xt,{className:"h-5 w-5 text-white"}):ge==="rejected"?i.jsx(Qr,{className:"h-5 w-5 text-white"}):i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-slate-800",children:ge==="live"||ge==="approved"?" Enquiry Approved!":ge==="rejected"?" Enquiry Rejected":" Processing..."}),i.jsx("p",{className:"text-sm text-slate-600",children:ge==="live"||ge==="approved"?"Your enquiry is now live and visible to sellers!":ge==="rejected"?"Your enquiry was not approved. Please check the requirements and try again.":"Our AI is reviewing your enquiry. This usually takes a few seconds..."})]})]}),i.jsx("div",{className:"mt-3 flex items-center justify-center",children:i.jsxs("div",{className:"flex items-center space-x-2 text-[10px] sm:text-xs text-slate-500",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"whitespace-nowrap",children:"Real-time updates active"})]})}),i.jsx("div",{className:"mt-2 text-center",children:i.jsx(H,{variant:"outline",size:"sm",onClick:async()=>{if(he)try{const re=ke(oe,"enquiries",he),J=await Vt(re);if(J.exists()){const Re=J.data();console.log("Manual status check:",Re.status),X(Re.status),ce({title:"Status Check",description:`Current status: ${Re.status}`})}}catch(re){console.error("Manual status check failed:",re)}},className:"text-xs",children:"Check Status Manually"})})]}),i.jsxs("div",{className:"mt-4 text-center",children:[i.jsx(H,{variant:"outline",onClick:()=>{ve(null),X("pending"),de(!1),Xe(!1),d(""),f(""),x(""),b(""),N(""),C(null),S(null),T(""),ue(null),Pe(null)},className:"mr-3",children:"Submit Another"}),i.jsx(H,{onClick:()=>c("/enquiries"),className:"bg-green-600 hover:bg-green-700",children:"View Live Enquiries"})]}),(ge==="live"||ge==="approved")&&i.jsx("div",{className:"mt-3 text-center",children:i.jsx("p",{className:"text-xs text-green-600",children:"Redirecting to live enquiries page in 3 seconds..."})}),ge==="rejected"&&i.jsx("div",{className:"mt-3 text-center",children:i.jsx("p",{className:"text-xs text-red-600",children:"Redirecting to dashboard in 3 seconds..."})})]})}),ae&&i.jsx(q1e,{type:"enquiry",onUpgrade:()=>{U(!1),alert("Premium features activated! You can now post unlimited enquiries.")}})]})}),R&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:re=>{re.target===re.currentTarget&&M(!1)},children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:" Test Payment"}),i.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),i.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[i.jsxs("p",{className:"font-semibold text-blue-800",children:["Amount: ",(_==null?void 0:_.price)||0]}),i.jsx("p",{className:"text-sm text-blue-600",children:(_==null?void 0:_.name)||"Premium Enquiry"}),i.jsx("p",{className:"text-xs text-blue-500 mt-1",children:" Test Mode - Payment will always succeed"})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsx("input",{type:"text",placeholder:"Card Number: 1234 5678 9012 3456",value:V.cardNumber,onChange:re=>K(J=>({...J,cardNumber:re.target.value})),className:"w-full p-2 border border-gray-300 rounded text-xs sm:text-base"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",placeholder:"MM/YY",value:V.expiryDate,onChange:re=>K(J=>({...J,expiryDate:re.target.value})),className:"flex-1 p-2 border border-gray-300 rounded text-xs sm:text-base"}),i.jsx("input",{type:"text",placeholder:"CVV",value:V.cvv,onChange:re=>K(J=>({...J,cvv:re.target.value})),className:"flex-1 p-2 border border-gray-300 rounded text-xs sm:text-base"})]}),i.jsx("input",{type:"text",placeholder:"Cardholder Name",value:V.name,onChange:re=>K(J=>({...J,name:re.target.value})),className:"w-full p-2 border border-gray-300 rounded text-xs sm:text-base"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>{M(!1),D("form"),K({cardNumber:"",expiryDate:"",cvv:"",name:""})},className:"flex-1 py-2 px-4 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"}),i.jsx("button",{onClick:Ot,disabled:q||!V.cardNumber||!V.expiryDate||!V.cvv||!V.name,className:"flex-1 py-2 px-4 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:q?"Processing...":"Pay Now"})]})]})})]})}var JNe="Separator",h3="horizontal",ZNe=["horizontal","vertical"],FG=g.forwardRef((t,e)=>{const{decorative:r,orientation:n=h3,...s}=t,a=e2e(n)?n:h3,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(et.div,{"data-orientation":a,...l,...s,ref:e})});FG.displayName=JNe;function e2e(t){return ZNe.includes(t)}var VG=FG;const Os=g.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>i.jsx(VG,{ref:s,decorative:r,orientation:e,className:He("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Os.displayName=VG.displayName;function t2e(t,e=[]){let r=[];function n(a,o){const l=g.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,v=g.useMemo(()=>x,Object.values(x));return i.jsx(p.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[t][c])||l,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,r2e(s,...e)]}function r2e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var dI="Progress",hI=100,[n2e,JWe]=t2e(dI),[s2e,i2e]=n2e(dI),BG=g.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=a2e,...o}=t;(s||s===0)&&!f3(s)&&console.error(o2e(`${s}`,"Progress"));const l=f3(s)?s:hI;n!==null&&!m3(n,l)&&console.error(l2e(`${n}`,"Progress"));const c=m3(n,l)?n:null,u=Wb(c)?a(c,l):void 0;return i.jsx(s2e,{scope:r,value:c,max:l,children:i.jsx(et.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Wb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":zG(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});BG.displayName=dI;var UG="ProgressIndicator",qG=g.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=i2e(UG,r);return i.jsx(et.div,{"data-state":zG(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});qG.displayName=UG;function a2e(t,e){return`${Math.round(t/e*100)}%`}function zG(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Wb(t){return typeof t=="number"}function f3(t){return Wb(t)&&!isNaN(t)&&t>0}function m3(t,e){return Wb(t)&&!isNaN(t)&&t<=e&&t>=0}function o2e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hI}\`.`}function l2e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hI} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WG=BG,c2e=qG;const sg=g.forwardRef(({className:t,value:e,...r},n)=>i.jsx(WG,{ref:n,className:He("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:i.jsx(c2e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));sg.displayName=WG.displayName;const u2e=()=>{var fs,Ts;const{enquiryId:t}=oy(),e=Jr(),r=g.useContext(wa),n=(r==null?void 0:r.createNotification)||(async()=>{console.warn("NotificationContext not available")}),[s,a]=g.useState(""),[o,l]=g.useState(""),[c,u]=g.useState(""),[d,h]=g.useState(""),[f,m]=g.useState(Array(5).fill(null)),[x,p]=g.useState(Array(5).fill("")),[v,w]=g.useState(Array(5).fill(0)),[b,j]=g.useState(""),[N,E]=g.useState(""),[C,_]=g.useState(null),[S,A]=g.useState(""),[T,I]=g.useState(0),[P,R]=g.useState(!1),[M,q]=g.useState(null),[W,B]=g.useState(!0),[D,V]=g.useState(!1),[K,G]=g.useState(!1);g.useState(0);const[Q,ae]=g.useState(0),[U,Y]=g.useState({}),[ue,Z]=g.useState(!1),[Pe,te]=g.useState(null),[ye,F]=g.useState(null),[z,ie]=g.useState(!1),[ne,he]=g.useState(!1),[ve,ge]=g.useState(null),[X,le]=g.useState(5),{user:de,isProfileVerified:Ge,profileVerificationStatus:Xe,loading:Tt}=Rr(),ht=Ge||Xe==="approved"||Xe==="verified"||Xe==="completed";g.useEffect(()=>{console.log(" SellerResponse Debug:",{isProfileVerified:Ge,profileVerificationStatus:Xe,isUserVerified:ht,authLoading:Tt,userId:de==null?void 0:de.uid})},[Ge,Xe,ht,Tt,de==null?void 0:de.uid]),g.useEffect(()=>{const re=[o,c],Re=re.filter(_e=>_e.trim().length>0).length/re.length*100;ae(Re)},[o,c]),g.useEffect(()=>{(async()=>{if(!(!t||!de))try{const J=await Vt(ke(oe,"enquiries",t));if(J.exists()){const Re=J.data();q(Re),a(Re.title),Re.userId===de.uid&&V(!0)}else e("/enquiries")}catch(J){console.error("Error fetching enquiry:",J),e("/enquiries")}finally{B(!1)}})()},[t,de,e]),g.useEffect(()=>{if(!ve||!de)return;const re=ke(oe,"sellerSubmissions",ve),J=Fr(re,Re=>{if(Re.exists()){const Ve=Re.data().status;F(Ve),Ve==="approved"?(ie(!0),he(!1)):Ve==="rejected"?(he(!0),ie(!1)):(ie(!1),he(!1))}});return()=>J()},[ve,de]),g.useEffect(()=>{(async()=>{if(!(!t||!de))try{const J=bt(Ze(oe,"sellerSubmissions"),Pt("enquiryId","==",t),Pt("sellerId","==",de.uid)),Re=await Bt(J);if(!Re.empty){const _e=Re.docs[0].data(),Ve=Re.docs[0].id;te(_e),ge(Ve),Z(!0),console.log("User has already submitted to this enquiry:",_e)}}catch(J){console.error("Error checking existing submission:",J)}})()},[t,de]),g.useEffect(()=>{D&&e("/dashboard")},[D,e]),g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{P&&window.scrollTo({top:0,behavior:"smooth"})},[P]),g.useEffect(()=>{if(P){const re=setInterval(()=>{le(J=>J<=1?(clearInterval(re),console.log(" Auto-redirecting to dashboard"),e("/dashboard"),0):J-1)},1e3);return()=>clearInterval(re)}},[P,e]);const Ct=re=>new Promise((J,Re)=>{const _e=document.createElement("canvas"),Ve=_e.getContext("2d"),Ce=new Image;if(!Ve){console.warn("Canvas context not available, using original file"),J(re);return}Ce.onload=()=>{try{let{width:Gt,height:Kt}=Ce;(Gt>1200||Kt>1200)&&(Gt>Kt?(Kt=Kt*1200/Gt,Gt=1200):(Gt=Gt*1200/Kt,Kt=1200)),_e.width=Gt,_e.height=Kt,Ve.fillStyle="#FFFFFF",Ve.fillRect(0,0,Gt,Kt),Ve.drawImage(Ce,0,0,Gt,Kt),_e.toBlob(Zr=>{Zr?J(new File([Zr],re.name,{type:"image/jpeg",lastModified:Date.now()})):(console.warn("Failed to create blob, using original file"),J(re))},"image/jpeg",.85)}catch(st){console.error("Error compressing image:",st),J(re)}},Ce.onerror=()=>{console.error("Error loading image for compression"),J(re)},Ce.src=URL.createObjectURL(re)}),vt=()=>{console.log("Validation started"),console.log("title:",s,"length:",s.length),console.log("description:",o,"length:",o.length),console.log("price:",c);const re={};if(o.trim()||(re.description="Description is required",console.log("Description validation failed - empty")),!c.trim())re.price="Price is required",console.log("Price validation failed - empty");else{const Re=parseFloat(c.replace(/[^\d]/g,""));console.log("Parsed price:",Re),Re<=0&&(re.price="Price must be greater than 0",console.log("Price validation failed - <= 0"))}return x.filter(Re=>Re.trim()!==""),(b.trim()||N.trim()||C||S)&&(b.trim()||(re.govIdType="Please select an ID type"),N.trim()?N.length<8&&(re.govIdNumber="ID number must be at least 8 characters"):re.govIdNumber="ID number is required when uploading ID",!C&&!S&&(re.govId="Please upload your government ID document")),console.log("Validation errors:",re),console.log("Validation result:",Object.keys(re).length===0),Y(re),Object.keys(re).length===0},Ot=async(re,J)=>{var Ve;const Re=(Ve=re.target.files)==null?void 0:Ve[0];if(!Re)return;if(Re.size>5*1024*1024){Y(Ce=>({...Ce,[`image_${J}`]:"Image must be less than 5MB"}));return}if(!Re.type.startsWith("image/")){Y(Ce=>({...Ce,[`image_${J}`]:"Please upload a valid image file"}));return}const _e=[...f];_e[J]=Re,m(_e),Y(Ce=>({...Ce,[`image_${J}`]:""}));try{const Ce=[...v];Ce[J]=25,w(Ce);const st=await Ct(Re),Rt=await o3(st);Ce[J]=100,w(Ce);const Gt=[...x];Gt[J]=Rt,p(Gt),Y(Kt=>{const Zr={...Kt};return delete Zr[`image_${J}`],Zr})}catch(Ce){console.error("Error uploading image:",Ce);const st=[...v];st[J]=0,w(st),Y(Rt=>({...Rt,[`image_${J}`]:"Failed to upload image. Please try again."}))}},_r=re=>{const J=[...f],Re=[...x],_e=[...v];J[re]=null,Re[re]="",_e[re]=0,m(J),p(Re),w(_e),Y(Ve=>({...Ve,[`image_${re}`]:""}))},rr=async re=>{var Re;const J=(Re=re.target.files)==null?void 0:Re[0];if(J){if(J.size>10*1024*1024){Y(_e=>({..._e,govId:"ID document must be less than 10MB"}));return}if(!J.type.startsWith("image/")&&J.type!=="application/pdf"){Y(_e=>({..._e,govId:"Please upload a valid image or PDF file"}));return}_(J),Y(_e=>({..._e,govId:""}));try{I(25);const _e=await Ct(J),Ve=await o3(_e);I(100),A(Ve)}catch(_e){console.error("Error uploading government ID:",_e),I(0),Y(Ve=>({...Ve,govId:"Failed to upload ID document. Please try again."}))}}},hs=()=>{_(null),A(""),I(0),Y(re=>({...re,govId:""}))},nr=async re=>{if(re.preventDefault(),console.log("Form submission started"),console.log("enquiry:",M),console.log("isOwnEnquiry:",D),console.log("enquiryId:",t),console.log("authUser:",de),!M||D){console.log("Form submission blocked: no enquiry or own enquiry");return}if(console.log("Validating form..."),!vt()){console.log("Form validation failed");return}console.log("Form validation passed"),G(!0);try{const J=x.filter(Ce=>Ce.trim()!==""),Re=f.filter((Ce,st)=>Ce!==null&&x[st]!=="").map(Ce=>(Ce==null?void 0:Ce.name)||""),_e={enquiryId:t,sellerId:(de==null?void 0:de.uid)||"",sellerName:(de==null?void 0:de.displayName)||(de==null?void 0:de.email)||"Anonymous Seller",sellerEmail:(de==null?void 0:de.email)||"",title:s.trim(),message:o.trim(),price:c.trim(),notes:d.trim(),imageUrls:J,imageNames:Re,imageCount:J.length,govIdType:b.trim(),govIdNumber:N.trim(),govIdUrl:S||"",govIdFileName:(C==null?void 0:C.name)||"",isIdentityVerified:ht||!!(b&&N&&S),status:ht?"approved":"pending",createdAt:$e(),updatedAt:$e(),buyerViewed:!1,chatEnabled:!1,userVerified:ht,isProfileVerified:ht};console.log("Submitting seller response:",_e);const Ve=await ni(Ze(oe,"sellerSubmissions"),_e);if(console.log("Seller response saved with ID:",Ve.id),ge(Ve.id),ht?console.log(" Trust Badge User: Seller response automatically approved and made live!"):(console.log(" SellerResponse: Starting AI processing for response:",Ve.id),Ou.processSellerResponse(Ve.id,_e).then(Ce=>{Ce.success?console.log(" AI: Seller response auto-approved instantly!"):Ce.action==="flagged"?console.log(" AI: Seller response flagged for manual review"):console.log(" AI: Seller response auto-rejected")}).catch(Ce=>{console.error(" AI: Error processing seller response:",Ce)})),M){const Ce=ke(oe,"enquiries",t);await dt(Ce,{responses:(M.responses||0)+1,lastResponseAt:$e()})}R(!0),G(!1);try{await n("new_response",{title:"Response Submitted Successfully! ",message:`Your offer for "${M==null?void 0:M.title}" has been submitted and is ${ht?"now live!":"under review."}`,priority:"high",actionUrl:"/my-responses",actionText:"View My Responses"})}catch(Ce){console.error("Failed to create notification:",Ce)}if(M!=null&&M.userId&&M.userId!==(de==null?void 0:de.uid)&&(r!=null&&r.createNotificationForUser))try{await r.createNotificationForUser(M.userId,"new_response",{title:" New Response to Your Enquiry!",message:`${(de==null?void 0:de.displayName)||"A seller"} responded to "${M.title}"`,priority:"high",actionUrl:`/enquiry/${t}/responses?sellerId=${de==null?void 0:de.uid}`,actionText:"View Response",enquiryId:t,sellerId:de==null?void 0:de.uid,sellerName:(de==null?void 0:de.displayName)||(de==null?void 0:de.email)||"Anonymous Seller"}),console.log(" Buyer notification created successfully")}catch(Ce){console.error("Failed to create buyer notification:",Ce)}}catch(J){console.error("Error submitting response:",J),Y({submit:"Failed to submit response. Please check your connection and try again."}),R(!1)}finally{G(!1)}},cr=re=>{if(!re)return"No deadline";let J;if(re.toDate&&typeof re.toDate=="function")J=re.toDate();else if(typeof re=="string"||typeof re=="number")J=new Date(re);else if(re instanceof Date)J=re;else return"Invalid date";return isNaN(J.getTime())?"Invalid date":J.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})};return W?i.jsx(io,{message:"Loading enquiry"}):D?i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(It,{className:"h-8 w-8 text-yellow-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Cannot Respond to Your Own Enquiry"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"You cannot respond to enquiries that you posted yourself."}),i.jsxs("div",{className:"space-x-4",children:[i.jsx(Je,{to:"/enquiries",children:i.jsx(H,{variant:"default",children:"Browse Other Enquiries"})}),i.jsx(Je,{to:"/dashboard",children:i.jsx(H,{variant:"outline",children:"Go to Dashboard"})})]})]})})}):M?P?i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center py-8 sm:py-12 px-4",children:i.jsx("div",{className:"max-w-md w-full",children:i.jsx(xe,{className:"border-2 border-gray-200 shadow-xl",children:i.jsxs(Ue,{className:"p-6 sm:p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(xt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-green-600"})}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Offer Submitted"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:ht?"Your offer is now live and visible to buyers":"Your offer is under review"}),ht&&i.jsxs("div",{className:"inline-flex items-center px-3 py-1.5 bg-green-50 text-green-700 rounded-full text-xs sm:text-sm font-medium mb-6",children:[i.jsx(xt,{className:"h-3.5 w-3.5 mr-1.5"}),"Verified User"]}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:ht?"Your offer is immediately visible to buyers. They can contact you directly through the platform.":"Our admin team will review your offer. You'll be notified once it's approved."})}),i.jsxs("p",{className:"text-xs text-gray-500 mb-6",children:["Redirecting in ",X," seconds..."]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx(Je,{to:"/dashboard",className:"flex-1",children:i.jsx(H,{className:"w-full bg-gray-800 hover:bg-gray-900 text-white text-sm py-2.5",children:"Go to Dashboard"})}),i.jsx(Je,{to:"/enquiries",className:"flex-1",children:i.jsx(H,{variant:"outline",className:"w-full border-gray-300 text-gray-700 hover:bg-gray-50 text-sm py-2.5",children:"Browse Enquiries"})})]})]})})})})}):i.jsx(wt,{children:i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/20",children:[i.jsx("div",{className:"bg-gray-800 text-white py-6 sm:py-12 lg:py-16",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-8",children:[i.jsx("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:i.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center text-[10px] sm:text-xs lg:text-sm text-white/80 hover:text-white transition-all",children:[i.jsx(wn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Back to Enquiries"]})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4 lg:mb-6",children:i.jsx(Rl,{className:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8 text-white"})}),i.jsx("h1",{className:"text-lg sm:text-2xl lg:text-4xl xl:text-5xl font-black mb-2 sm:mb-3 lg:mb-4 text-white px-2",children:"Help with this Request"}),i.jsxs("p",{className:"text-[11px] sm:text-sm lg:text-lg text-white/90 max-w-2xl mx-auto px-2 mb-3 sm:mb-4 lg:mb-6",children:["Share your offer for: ",i.jsxs("span",{className:"font-semibold",children:['"',M==null?void 0:M.title,'"']})]}),i.jsxs("div",{className:"mt-3 sm:mt-4 lg:mt-6 flex flex-wrap items-center justify-center gap-2 sm:gap-3 lg:gap-4 text-[10px] sm:text-xs lg:text-sm text-white/80 px-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Cr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 lg:h-4 lg:w-4 mr-1 flex-shrink-0"}),i.jsx("span",{children:"Secure & Private"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(j2,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 lg:h-4 lg:w-4 mr-1 flex-shrink-0"}),i.jsx("span",{children:"Admin Reviewed"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ko,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 lg:h-4 lg:w-4 mr-1 flex-shrink-0"}),i.jsx("span",{children:"Confidential"})]})]})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[ue&&Pe&&i.jsx(xe,{className:"mb-6 sm:mb-8 border-2 border-gray-200 bg-white rounded-2xl shadow-sm",children:i.jsx(Ue,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-amber-600"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-1.5",children:"You've Already Submitted an Offer"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-5",children:"You have already submitted an offer for this enquiry"}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 mb-5 text-left",children:[i.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-800 mb-3",children:"Your Submitted Offer"}),i.jsxs("div",{className:"space-y-2 text-xs sm:text-sm text-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Price:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["",Pe.price]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Status:"}),i.jsx(Te,{variant:Pe.status==="approved"?"default":Pe.status==="rejected"?"destructive":"secondary",className:"ml-2 text-[10px] sm:text-xs",children:Pe.status})]}),i.jsxs("div",{className:"flex items-center justify-between pt-1 border-t border-gray-200",children:[i.jsx("span",{className:"text-gray-600",children:"Submitted:"}),i.jsx("span",{className:"text-gray-900 font-medium",children:(fs=Pe.createdAt)!=null&&fs.toDate?Pe.createdAt.toDate().toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}):"N/A"})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2.5 sm:gap-3",children:[i.jsx(Je,{to:"/dashboard",className:"flex-1",children:i.jsx(H,{className:"w-full bg-gray-800 hover:bg-gray-900 text-white text-xs sm:text-sm py-2.5",children:"View Dashboard"})}),i.jsx(Je,{to:"/enquiries",className:"flex-1",children:i.jsx(H,{variant:"outline",className:"w-full border-gray-300 text-gray-700 hover:bg-gray-50 text-xs sm:text-sm py-2.5",children:"Find More Requests"})})]})]})})}),i.jsxs(xe,{className:"mb-6 sm:mb-8 card-premium overflow-hidden border-2 border-blue-200 rounded-2xl",children:[i.jsxs(jt,{className:"bg-gray-800 p-3 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2.5 sm:mb-3",children:[i.jsx("p",{className:`text-xs sm:text-sm font-semibold ${M.idFrontImage||M.idBackImage?"text-blue-300":"text-white"}`,children:M.idFrontImage||M.idBackImage?"Trusted User Request":"Enquiry Details"}),i.jsx(Te,{variant:"secondary",className:"bg-white/90 text-gray-800 text-[10px] sm:text-xs font-medium px-2.5 py-1 rounded-full",children:M.category})]}),i.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 sm:gap-3",children:[i.jsxs("div",{className:"flex items-center text-[10px] sm:text-xs text-gray-300",children:[i.jsx(jn,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 flex-shrink-0"}),M.createdAt&&i.jsxs("span",{children:["Posted ",cr(M.createdAt.toDate().toISOString())]})]}),i.jsxs("div",{className:"flex items-center text-[10px] sm:text-xs text-green-400",children:[i.jsx(fr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 flex-shrink-0"}),"Live & Active"]})]})]}),i.jsx(Ue,{className:"p-3 sm:p-4",children:i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"space-y-2 sm:space-y-2.5",children:[i.jsxs("h3",{className:"text-sm sm:text-lg font-bold text-gray-800 flex items-start gap-2",children:[i.jsx("span",{className:"text-base sm:text-xl flex-shrink-0",children:""}),i.jsxs("span",{children:["Need: ",M.title]})]}),i.jsx("p",{className:"text-[11px] sm:text-sm text-gray-600 leading-relaxed pl-6 sm:pl-8",children:M.description})]}),i.jsxs("div",{className:"space-y-2 sm:space-y-2.5",children:[M.deadline&&i.jsxs("div",{className:"flex items-center px-2.5 py-1.5 sm:px-3 sm:py-2 bg-red-50 border border-red-200 rounded-lg",children:[i.jsx(It,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-red-500 mr-1.5 flex-shrink-0"}),i.jsxs("span",{className:"text-[11px] sm:text-xs text-red-700 font-medium",children:["Deadline: ",cr(M.deadline)]})]}),M.idFrontImage||M.idBackImage?i.jsxs("div",{className:"flex items-center px-2.5 py-1.5 sm:px-3 sm:py-2 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx(Cr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-green-500 mr-1.5 flex-shrink-0"}),i.jsx("span",{className:"text-[11px] sm:text-xs text-green-700 font-medium",children:"This buyer has a trust badge"})]}):null]})]})})]}),!ue&&i.jsxs(xe,{className:"card-premium overflow-hidden border-2 border-blue-200 rounded-2xl",children:[i.jsx(jt,{className:"bg-gray-800 border-b",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-pal-blue rounded-xl flex items-center justify-center",children:i.jsx(z1,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-white",children:"Your Offer"}),i.jsx("p",{className:"text-[10px] sm:text-base text-gray-300",children:"AI will instantly verify and approve your offer"})]})]})}),i.jsxs(Ue,{className:"p-8",children:[U.submit&&i.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(It,{className:"h-4 w-4 text-red-500 mr-2"}),i.jsx("span",{className:"text-sm text-red-700",children:U.submit})]})}),i.jsxs("form",{onSubmit:nr,className:"space-y-8",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ft,{htmlFor:"title",className:"text-sm sm:text-lg font-black text-foreground flex items-center",children:[i.jsx(Rl,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 sm:mr-3 text-pal-blue"}),i.jsxs("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[i.jsx("span",{className:"hidden sm:inline",children:"Response Title *"}),i.jsx("span",{className:"sm:hidden",children:"Title *"})]})]}),i.jsx(pr,{id:"title",value:s,readOnly:!0,disabled:!0,className:"h-12 input-touch font-bold text-lg bg-gray-100 cursor-not-allowed",required:!0})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ft,{htmlFor:"description",className:"text-base sm:text-lg font-black text-foreground flex items-center",children:[i.jsx(Rl,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 sm:mr-3 text-pal-blue"}),i.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Detailed Description *"})]}),i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground",children:"Describe your offering in detail. Include any relevant information that would help the buyer make a decision."}),i.jsx(td,{id:"description",placeholder:"Tell buyers about your product/service, pricing, availability, and any other important details...",value:o,onChange:re=>l(re.target.value),className:`min-h-[140px] input-touch placeholder:text-[8px] sm:placeholder:text-sm ${U.description?"border-red-500 focus:border-red-500":"border-border focus:border-pal-blue"}`}),i.jsxs("div",{className:"flex justify-between items-center",children:[U.description&&i.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[i.jsx(It,{className:"h-3 w-3 mr-1"}),U.description]}),i.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:[o.length,"/500"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ft,{htmlFor:"price",className:"text-sm sm:text-lg font-black text-foreground flex items-center",children:[i.jsx("span",{className:"text-lg sm:text-2xl mr-2 sm:mr-3",children:""}),i.jsx("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Your Price *"})]}),M&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 sm:p-3 mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs sm:text-sm text-blue-700 font-medium",children:"Buyer's Budget:"}),i.jsxs("span",{className:"text-sm sm:text-lg font-bold text-blue-800",children:["",((Ts=M.budget)==null?void 0:Ts.toLocaleString("en-IN"))||"Not specified"]})]}),i.jsx("p",{className:"text-[9px] sm:text-xs text-blue-600 mt-1 whitespace-nowrap",children:" Consider pricing within or near this budget for better chances"})]}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Enter your competitive price for this offering"}),i.jsxs("div",{className:"relative",children:[i.jsx(pr,{id:"price",placeholder:"Enter amount (e.g., 50000)",value:c,onChange:re=>{const J=re.target.value.replace(/[^\d]/g,"");if(J){const Re=parseInt(J);u(Re.toLocaleString("en-IN"))}else u("")},onBlur:re=>{re.target.value&&!re.target.value.startsWith("")&&u(""+re.target.value)},className:`h-12 text-lg font-semibold input-touch ${U.price?"border-red-500 focus:border-red-500":"border-border focus:border-pal-blue"}`,required:!0}),i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx("span",{className:"text-sm text-muted-foreground",children:"INR"})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[U.price&&i.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[i.jsx(It,{className:"h-3 w-3 mr-1"}),U.price]}),i.jsx("span",{className:"text-xs text-green-600 ml-auto",children:" Competitive pricing attracts buyers"})]})]}),i.jsx(Os,{className:"my-8"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ft,{htmlFor:"notes",className:"text-sm sm:text-lg font-black text-foreground flex items-center",children:[i.jsx(Rl,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 sm:mr-3 text-gray-500"}),i.jsx("span",{className:"bg-gradient-to-r from-gray-600 to-slate-600 bg-clip-text text-transparent",children:"Additional Information (Optional)"})]}),i.jsx("p",{className:"text-[8px] sm:text-sm text-muted-foreground",children:"Include payment terms, delivery details, warranties, or any special conditions"}),i.jsx(td,{id:"notes",placeholder:` Payment terms (cash, installments, etc.)
 Delivery/pickup details
 Warranty or return policy
 Special conditions or requirements`,value:d,onChange:re=>h(re.target.value),className:"min-h-[120px] input-touch placeholder:text-[8px] sm:placeholder:text-sm"}),i.jsxs("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[d.length,"/300 characters"]})]}),i.jsx(Os,{className:"my-8"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs(ft,{className:"text-sm sm:text-base font-semibold text-foreground flex items-center justify-center mb-2",children:[i.jsx(q1,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-pal-blue"}),"Product Images Gallery (Optional)"]}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Upload up to 5 high-quality images to showcase your product (Optional, Max 5MB each)"}),i.jsxs("div",{className:"mt-2 text-[10px] sm:text-xs text-pal-blue font-medium",children:[x.filter(re=>re.trim()!=="").length,"/5 images uploaded"]})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:Array.from({length:5},(re,J)=>i.jsx("div",{className:"aspect-square",children:i.jsxs("div",{className:`
                        relative h-full border-2 border-dashed rounded-xl overflow-hidden transition-all duration-300
                        ${x[J]?"border-green-400 bg-green-50":"border-gray-300 hover:border-pal-blue hover:bg-pal-blue/5"}
                      `,children:[x[J]?i.jsxs("div",{className:"relative h-full group",children:[i.jsx("img",{src:x[J],alt:`Product ${J+1}`,className:"w-full h-full object-cover",onError:Re=>{console.error("Image display error:",x[J]),Re.currentTarget.style.display="none"}}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:i.jsx(H,{type:"button",variant:"destructive",size:"sm",className:"text-xs",onClick:()=>_r(J),children:"Remove"})}),i.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:""}),i.jsx("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:J+1})]}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-3 text-center",children:[i.jsx("div",{className:`
                              w-8 h-8 mb-2 rounded-full flex items-center justify-center
                              ${v[J]>0?"bg-pal-blue":"bg-gray-100"}
                            `,children:v[J]>0&&v[J]<100?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):i.jsx(gu,{className:`h-4 w-4 ${v[J]>0?"text-white":"text-gray-400"}`})}),i.jsx(pr,{id:`image-${J}`,type:"file",accept:"image/*",onChange:Re=>Ot(Re,J),className:"hidden"}),i.jsxs(ft,{htmlFor:`image-${J}`,className:"cursor-pointer text-xs text-pal-blue hover:text-pal-blue-dark font-medium",children:["Add Image ",J+1]}),v[J]>0&&v[J]<100&&i.jsxs("div",{className:"mt-2 w-full",children:[i.jsx(sg,{value:v[J],className:"h-1"}),i.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[v[J],"%"]})]})]}),U[`image_${J}`]&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-red-500 text-white text-[10px] p-1 text-center",children:"Error"})]})},J))}),U.images&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(It,{className:"h-4 w-4 text-red-500 mr-2"}),i.jsx("span",{className:"text-sm font-medium text-red-700",children:"Image Requirement:"})]}),i.jsx("p",{className:"text-xs text-red-600",children:U.images})]}),(()=>{const re=Object.entries(U).filter(([J])=>J.startsWith("image_")).filter(([J])=>{const Re=parseInt(J.split("_")[1]),_e=v[Re]>0&&v[Re]<100,Ve=x[Re]&&x[Re].length>0;return!_e&&!Ve});return re.length>0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(It,{className:"h-4 w-4 text-red-500 mr-2"}),i.jsx("span",{className:"text-sm font-medium text-red-700",children:"Image Upload Issues:"})]}),i.jsx("div",{className:"text-xs text-red-600",children:re.map(([J,Re])=>{const _e=J.split("_")[1];return i.jsxs("p",{children:["Image ",parseInt(_e)+1,": ",Re]},J)})})]})})()]}),i.jsx(Os,{className:"my-8"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs(ft,{className:"text-sm sm:text-lg font-black text-foreground flex items-center justify-center mb-2",children:[i.jsx(Cr,{className:"h-4 w-4 sm:h-6 sm:w-6 mr-2 sm:mr-3 text-pal-blue"}),i.jsx("span",{className:"bg-gradient-to-r from-gray-700 to-gray-800 bg-clip-text text-transparent",children:"Trust Badge"})]}),!Tt&&ht?i.jsxs("div",{className:"p-3 sm:p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2 mb-2 sm:mb-2.5",children:[i.jsx(xt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0"}),i.jsx("span",{className:"text-green-800 font-semibold text-xs sm:text-base",children:"Profile Verified"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-green-700 mb-2 sm:mb-2.5",children:"Already verified. No ID upload needed."}),i.jsx("div",{className:"inline-flex",children:i.jsxs(Te,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-300 text-[10px] sm:text-xs px-2 py-0.5",children:[i.jsx(Cr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"Verified Response"]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:b&&N&&S?" Trust Badge Pending: Your ID will be verified when admin approves  You'll get trust badge benefits!":"Completely optional - submit without ID anytime  Upload ID for trust badge benefits"}),i.jsxs("div",{className:"mt-1 flex items-center justify-center space-x-1",children:[i.jsx(j2,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-500"}),i.jsx("span",{className:"text-xs sm:text-xs text-green-600 font-medium",children:b&&N&&S?"Trust badge pending":"Upload ID for trust badge benefits"})]})]})]}),!Tt&&!ht&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-3 sm:gap-6",children:[i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs(ft,{htmlFor:"govIdType",className:"text-sm sm:text-base font-semibold text-foreground flex items-center",children:[i.jsx(Rl,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 text-pal-blue"}),"ID Document Type"]}),i.jsxs("select",{id:"govIdType",value:b,onChange:re=>j(re.target.value),className:`w-full h-8 sm:h-12 px-2 sm:px-3 border rounded-lg input-touch text-xs sm:text-sm ${U.govIdType?"border-red-500 focus:border-red-500":"border-border focus:border-pal-blue"} bg-background`,children:[i.jsx("option",{value:"",children:"Select ID Type"}),i.jsx("option",{value:"aadhaar",children:"Aadhaar Card"}),i.jsx("option",{value:"pan",children:"PAN Card"}),i.jsx("option",{value:"passport",children:"Passport"}),i.jsx("option",{value:"driving_license",children:"Driving License"}),i.jsx("option",{value:"voter_id",children:"Voter ID Card"})]}),U.govIdType&&i.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[i.jsx(It,{className:"h-3 w-3 mr-1"}),U.govIdType]})]}),i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs(ft,{htmlFor:"govIdNumber",className:"text-sm sm:text-base font-semibold text-foreground flex items-center",children:[i.jsx(Ko,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 text-pal-blue"}),"ID Number"]}),i.jsx(pr,{id:"govIdNumber",placeholder:"Enter ID number",value:N,onChange:re=>E(re.target.value.toUpperCase()),className:`h-8 sm:h-12 input-touch text-xs sm:text-sm ${U.govIdNumber?"border-red-500 focus:border-red-500":"border-border focus:border-pal-blue"}`}),U.govIdNumber&&i.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[i.jsx(It,{className:"h-3 w-3 mr-1"}),U.govIdNumber]}),i.jsx("p",{className:"text-xs sm:text-xs text-muted-foreground",children:"This information is encrypted and securely stored"})]})]}),i.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[i.jsxs(ft,{className:"text-sm sm:text-base font-semibold text-foreground flex items-center",children:[i.jsx(gu,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 text-pal-blue"}),"Upload ID Document"]}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Upload a clear photo or scan of your government ID (Front side only, Max 10MB)"}),i.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-all ${S?"border-green-400 bg-green-50":"border-gray-300 hover:border-pal-blue hover:bg-pal-blue/5"}`,children:S?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:S,alt:"Government ID",className:"max-w-xs max-h-48 mx-auto rounded-lg shadow-md"}),i.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:" Verified"})]}),i.jsx("p",{className:"text-sm text-green-600 font-medium",children:" ID document uploaded successfully!"}),i.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:hs,children:"Remove Document"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto ${T>0?"bg-pal-blue":"bg-gray-100"}`,children:T>0&&T<100?i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent"}):i.jsx(gu,{className:`h-6 w-6 ${T>0?"text-white":"text-gray-400"}`})}),i.jsxs("div",{children:[i.jsx(pr,{id:"govId",type:"file",accept:"image/*,application/pdf",onChange:rr,className:"hidden"}),i.jsxs(ft,{htmlFor:"govId",className:"cursor-pointer inline-flex items-center px-6 py-3 bg-pal-blue text-white rounded-lg hover:bg-pal-blue-dark transition-colors font-medium",children:[i.jsx(gu,{className:"h-4 w-4 mr-2"}),"Choose ID Document"]})]}),i.jsx("p",{className:"text-xs sm:text-xs text-muted-foreground",children:"JPEG, PNG, PDF up to 10MB"}),T>0&&T<100&&i.jsxs("div",{className:"mt-4",children:[i.jsx(sg,{value:T,className:"h-2"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Uploading ID document... ",T,"%"]})]})]})}),U.govId&&i.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[i.jsx(It,{className:"h-3 w-3 mr-1"}),U.govId]})]}),i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full flex-shrink-0",children:i.jsx(j2,{className:"h-4 w-4 text-blue-600"})}),i.jsxs("div",{className:"text-[10px] sm:text-xs text-blue-700",children:[i.jsx("p",{className:"font-semibold mb-1",children:"Automatic Trust Badge Process:"}),i.jsxs("ul",{className:"space-y-0.5",children:[i.jsx("li",{children:" Upload ID  Admin approves response  Your profile gets trust badge automatically"}),i.jsx("li",{children:" Verified profiles appear with a badge on all enquiries and responses"}),i.jsx("li",{children:" ID information is encrypted and never shared with buyers"}),i.jsx("li",{children:" Skip this section if you prefer to remain unverified"})]})]})]})})]})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Cr,{className:"h-5 w-5 text-blue-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-blue-900 mb-1",children:"Security & Privacy"}),i.jsxs("ul",{className:"text-[10px] sm:text-xs text-blue-700 space-y-1",children:[i.jsx("li",{children:" Your response is submitted securely and reviewed by our admin team"}),i.jsx("li",{children:" Personal contact details are kept confidential until approval"}),i.jsx("li",{children:" All communications are monitored for safety and quality"})]})]})]})}),i.jsxs("div",{className:"pt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-foreground",children:"Form Completion"}),i.jsxs("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[Math.round(Q),"% Complete"]})]}),i.jsx(sg,{value:Q,className:"h-2"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Fill in the details and price to share your offer (title is auto-filled)"})]}),i.jsxs("div",{className:"pt-6 space-y-4",children:[i.jsx(H,{type:"submit",className:`w-full h-16 text-lg font-bold rounded-xl btn-primary transition-all transform hover:scale-[1.02] ${K?"opacity-70 cursor-not-allowed":""}`,disabled:!c||K,children:K?i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),i.jsx("span",{children:"Submitting Response..."})]}):i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(xt,{className:"h-5 w-5"}),i.jsx("span",{children:"Submit Offer"})]})}),i.jsx("p",{className:"text-[10px] sm:text-xs text-center text-muted-foreground",children:"By submitting, you agree to our terms and confirm all information is accurate"})]})]})]})]})]})]})}):i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(It,{className:"h-8 w-8 text-red-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Enquiry Not Found"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"The enquiry you're looking for doesn't exist or has been removed."}),i.jsx(Je,{to:"/enquiries",children:i.jsx(H,{variant:"default",children:"Browse Enquiries"})})]})})})},d2e=()=>{const{user:t}=Rr(),e=Jr(),[r,n]=g.useState([]),[s,a]=g.useState({});g.useState(null);const[o,l]=g.useState(!0),[c,u]=g.useState(!1),[d,h]=g.useState(null),[f,m]=g.useState("free"),[x,p]=g.useState(null),[v,w]=g.useState(null),b=g.useRef(null);g.useEffect(()=>{if(!t)return;l(!0),console.log("MyEnquiries: Starting to fetch user enquiries for:",t.uid),(async()=>{try{const q=await Th(t.uid);p(q),m((q==null?void 0:q.currentPlan)||"free")}catch(q){console.error("Error fetching user payment plan:",q)}})();const R=bt(Ze(oe,"enquiries"),Pt("userId","==",t.uid),ln("createdAt","desc"));(async()=>{try{const q=await Bt(R),W=[];q.forEach(ae=>{W.push({id:ae.id,...ae.data()})});const B=new Date,D=ae=>ae.deadline?(ae.deadline.toDate?ae.deadline.toDate():new Date(ae.deadline))<B:!1,V=ae=>ae!=null&&ae.toDate?ae.toDate():new Date(ae),K=W.filter(ae=>!D(ae)).sort((ae,U)=>V(U.createdAt).getTime()-V(ae.createdAt).getTime()),G=W.filter(ae=>D(ae)).sort((ae,U)=>V(U.createdAt).getTime()-V(ae.createdAt).getTime()),Q=[...K,...G];console.log("MyEnquiries: Ordered live then expired:",{live:K.length,expired:G.length}),n(Q),l(!1)}catch(q){console.log("Error loading enquiries:",q),l(!1)}})()},[t]),g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!t)return;(async()=>{try{const R=await Th(t.uid);p(R),R&&R.currentPlan&&m(R.currentPlan)}catch(R){console.error("Error fetching user payment plan:",R)}})()},[t]),g.useEffect(()=>{if(r.length===0)return;console.log("MyEnquiries: Setting up real-time response listeners for",r.length,"enquiries"),console.log("MyEnquiries: Enquiry IDs:",r.map(R=>R.id));const P=[];for(const R of r)try{console.log(`MyEnquiries: Setting up listener for enquiry: ${R.id}`);const M=bt(Ze(oe,"sellerSubmissions"),Pt("enquiryId","==",R.id));(async()=>{try{const W=await Bt(M),B=[];W.forEach(D=>{const V=D.data();B.push({id:D.id,...V,status:V.status||"pending"})}),console.log(`MyEnquiries: Loaded responses for enquiry ${R.id}:`,{count:B.length,responses:B.map(D=>({id:D.id,sellerName:D.sellerName,status:D.status,price:D.price}))}),a(D=>({...D,[R.id]:B}))}catch(W){console.log(`Error loading responses for enquiry ${R.id}:`,W)}})()}catch(M){console.error("Error setting up response listener for enquiry:",R.id,M)}return()=>{console.log("MyEnquiries: Cleaning up response listeners"),P.forEach(R=>R())}},[r]);const j=async P=>{if(window.confirm("Are you sure you want to delete this enquiry? This action cannot be undone."))try{await cc(ke(oe,"enquiries",P)),ce({title:"Enquiry Deleted",description:"Your enquiry has been removed successfully."})}catch(R){console.error("Error deleting enquiry:",R),ce({title:"Error",description:"Failed to delete enquiry. Please try again.",variant:"destructive"})}},N=async(P,R)=>{if(!(!d||!t)){console.log("MyEnquiries: Plan selected:",{planId:P,price:R,enquiryId:d.id});try{const{updateDoc:M,serverTimestamp:q}=await Ju(async()=>{const{updateDoc:Q,serverTimestamp:ae}=await Promise.resolve().then(()=>NU);return{updateDoc:Q,serverTimestamp:ae}},void 0),{updateUserPaymentPlan:W,savePaymentRecord:B}=await Ju(async()=>{const{updateUserPaymentPlan:Q,savePaymentRecord:ae}=await Promise.resolve().then(()=>NH);return{updateUserPaymentPlan:Q,savePaymentRecord:ae}},void 0),D=`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,V=ls.find(Q=>Q.id===P);if(!V)throw new Error("Plan not found");const K=await B(d.id,t.uid,V,D);await W(t.uid,P,K,d.id),await M(ke(oe,"enquiries",d.id),{selectedPlanId:P,selectedPlanPrice:R,isPremium:R>0,updatedAt:q()}),n(Q=>Q.map(ae=>ae.id===d.id?{...ae,selectedPlanId:P,selectedPlanPrice:R,isPremium:R>0}:ae));const G=await Th(t.uid);p(G),m((G==null?void 0:G.currentPlan)||"free"),u(!1),h(null),ce(P==="premium"?{title:"Premium Plan Activated! ",description:"Your enquiry now has unlimited responses!"}:{title:"Payment Successful! ",description:`Your enquiry is now on the ${P} plan (${R}).`})}catch(M){console.error("Error updating enquiry plan:",M),ce({title:"Error",description:"Failed to update plan. Please try again.",variant:"destructive"})}}},E=P=>{const R=P.selectedPlanId||(P.isPremium?"premium":"free");console.log(" Upgrade clicked for enquiry:",{enquiryId:P.id,currentPlanId:R,selectedPlanId:P.selectedPlanId,isPremium:P.isPremium}),h(P),m(R),u(!0)},C=P=>{const R={pending:"bg-amber-100 text-amber-800 border-amber-200",live:"bg-emerald-100 text-emerald-800 border-emerald-200",rejected:"bg-red-100 text-red-800 border-red-200",completed:"bg-slate-100 text-slate-800 border-slate-200"};return i.jsx(Te,{className:`text-[10px] sm:text-xs rounded-full border ${R[P]||"bg-gray-100 text-gray-800"}`,children:P.charAt(0).toUpperCase()+P.slice(1)})},_=P=>{switch(P){case"live":return i.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-emerald-600"});case"pending":return i.jsx(jn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-600"});case"rejected":return i.jsx(It,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600"});case"completed":return i.jsx(z1,{className:"h-3 w-3 sm:h-4 sm:w-4 text-slate-600"});default:return i.jsx(jn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-600"})}},S=P=>{if(!ls.find(M=>M.id===P))return"Shows 2 responses";switch(P){case"free":return"Shows 2 responses";case"basic":return"Shows 5 responses";case"standard":return"Shows 10 responses";case"premium":return"Shows unlimited responses";case"pro":return"Shows unlimited responses";default:return"Shows 2 responses"}},A=P=>{switch(P.status){case"live":return"Your enquiry is live and receiving responses from sellers";case"pending":return"Your enquiry is under admin review";case"rejected":return"Your enquiry was not approved by admin";case"completed":return"Your enquiry has been completed";default:return"Status unknown"}},T=P=>P?(P.toDate?P.toDate():new Date(P)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Recently",I=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(P);return o?i.jsx(io,{message:"Loading your enquiries"}):i.jsxs(wt,{children:[i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-2 sm:px-6 lg:px-8 py-2 sm:py-8",children:[i.jsx("div",{className:"mb-3 sm:mb-8 rounded-xl sm:rounded-2xl overflow-hidden shadow-xl border-2 border-gray-700",children:i.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-gray-800 px-3 py-3 sm:px-6 sm:py-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-4",children:[i.jsx(H,{variant:"ghost",onClick:()=>e("/dashboard"),className:"p-1.5 sm:p-2 hover:bg-gray-700 rounded-lg text-white font-bold",children:i.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),i.jsx("div",{className:"text-center flex-1",children:i.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-black text-white tracking-tight drop-shadow-lg",children:"Your Enquiries"})}),i.jsx("div",{className:"w-8 sm:w-10"})," "]}),i.jsx("p",{className:"text-gray-200 text-[10px] sm:text-xs lg:text-sm max-w-2xl mx-auto leading-relaxed text-center font-medium",children:"Manage and track your requests"})]})}),i.jsx("div",{className:"flex justify-center mb-3 sm:mb-8",children:i.jsx(Je,{to:"/post-enquiry",className:"w-full sm:w-auto",children:i.jsxs(H,{className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 sm:px-8 sm:py-3 text-xs sm:text-sm font-black shadow-lg hover:shadow-xl transition-all duration-300 rounded-lg",children:[i.jsx(Bg,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1.5 sm:mr-2"}),"Post New Enquiry"]})})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-5 mb-3 sm:mb-8",children:[i.jsxs(xe,{className:"p-2.5 sm:p-6 text-center border border-gray-200 shadow-md bg-white hover:shadow-lg transition-all duration-300 rounded-lg",children:[i.jsx("div",{className:"text-xl sm:text-4xl font-black text-blue-600 mb-1 sm:mb-2",children:r.length}),i.jsx("p",{className:"text-[9px] sm:text-sm text-gray-700 font-black uppercase tracking-wider",children:"Total Enquiries"})]}),i.jsxs(xe,{className:"p-2.5 sm:p-6 text-center border border-gray-200 shadow-md bg-white hover:shadow-lg transition-all duration-300 rounded-lg",children:[i.jsx("div",{className:"text-xl sm:text-4xl font-black text-green-600 mb-1 sm:mb-2",children:r.filter(P=>P.status==="live").length}),i.jsx("p",{className:"text-[9px] sm:text-sm text-gray-700 font-black uppercase tracking-wider",children:"Live"})]}),i.jsxs(xe,{className:"p-2.5 sm:p-6 text-center border border-gray-200 shadow-md bg-white hover:shadow-lg transition-all duration-300 rounded-lg",children:[i.jsx("div",{className:"text-xl sm:text-4xl font-black text-yellow-600 mb-1 sm:mb-2",children:r.filter(P=>P.status==="pending").length}),i.jsx("p",{className:"text-[9px] sm:text-sm text-gray-700 font-black uppercase tracking-wider",children:"Pending"})]}),i.jsxs(xe,{className:"p-2.5 sm:p-6 text-center border border-gray-200 shadow-md bg-white hover:shadow-lg transition-all duration-300 rounded-lg",children:[i.jsx("div",{className:"text-xl sm:text-4xl font-black text-gray-600 mb-1 sm:mb-2",children:r.filter(P=>P.status==="completed").length}),i.jsx("p",{className:"text-[9px] sm:text-sm text-gray-700 font-black uppercase tracking-wider",children:"Completed"})]})]}),r.length===0?i.jsxs(xe,{className:"p-6 sm:p-12 text-center border-0 shadow-lg",children:[i.jsx("div",{className:"w-12 h-12 sm:w-20 sm:h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:i.jsx(fr,{className:"h-6 w-6 sm:h-10 sm:w-10 text-blue-600"})}),i.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-slate-900 mb-2 sm:mb-3",children:"No enquiries yet"}),i.jsx("p",{className:"text-xs sm:text-base text-slate-600 mb-4 sm:mb-6 max-w-md mx-auto",children:"Start by posting your first enquiry to find what you're looking for in our community."}),i.jsx(Je,{to:"/post-enquiry",children:i.jsxs(H,{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 sm:px-8 py-2 sm:py-3 text-xs sm:text-base",children:[i.jsx(Bg,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"}),"Post Your First Enquiry"]})})]}):i.jsx("div",{className:"space-y-2.5 sm:space-y-6",children:r.map(P=>{var M;const R=P.deadline?(P.deadline.toDate?P.deadline.toDate():new Date(P.deadline))<new Date:!1;return i.jsxs(xe,{className:`${R?"opacity-70 bg-gray-100 border-2 sm:border-4 border-gray-400 grayscale":"border-2 sm:border-4 border-blue-300"} shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden`,children:[i.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-gray-800 px-2.5 py-2 sm:px-6 sm:py-4 border-b-2 border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between gap-1 sm:gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-3 flex-1 min-w-0",children:[_(P.status),i.jsx("h3",{className:`text-[11px] sm:text-lg font-black truncate ${R?"text-gray-300":"text-white"} drop-shadow-sm`,children:P.title})]}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[R&&i.jsx(Te,{variant:"outline",className:"text-[8px] sm:text-xs text-gray-500 border border-gray-400 font-bold",children:"Expired"}),C(P.status)]})]}),i.jsx("div",{className:"mt-1 sm:mt-2",children:i.jsx("span",{className:"text-[9px] sm:text-xs text-white font-bold opacity-95",children:A(P)})})]}),i.jsxs(Ue,{className:"p-2 sm:p-4 space-y-2 sm:space-y-3",children:[i.jsxs("div",{className:"space-y-1.5 sm:space-y-2 pb-2 border-b border-gray-200",children:[P.deadline&&i.jsx("div",{className:"pb-1.5",children:i.jsx(wy,{deadline:P.deadline.toDate?P.deadline.toDate():new Date(P.deadline),className:"justify-start"})}),P.isUrgent&&i.jsx(Te,{variant:"destructive",className:"text-[8px] sm:text-xs font-bold mb-1",children:" Urgent"}),i.jsx("p",{className:"text-[10px] sm:text-sm text-gray-900 leading-snug line-clamp-2 font-bold",children:P.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2.5 pt-1",children:[i.jsxs("span",{className:"flex items-center space-x-1 text-[9px] sm:text-xs text-gray-700 font-black",children:[i.jsx(yr,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-blue-600"}),i.jsx("span",{children:P.responses||0})]}),i.jsxs("span",{className:"flex items-center space-x-1 text-[9px] sm:text-xs text-gray-700 font-black",children:[i.jsx(fr,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-gray-600"}),i.jsx("span",{children:P.views||0})]}),i.jsx(Te,{variant:"outline",className:"text-[8px] sm:text-xs font-black border border-gray-300 text-gray-800 px-1.5 py-0",children:P.category})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white rounded border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center space-x-1.5",children:[i.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-black text-[9px] sm:text-xs",children:""})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[8px] sm:text-[9px] text-gray-600 font-bold",children:"Budget"}),i.jsx("div",{className:"text-xs sm:text-base font-black text-gray-900",children:I(P.budget)})]})]}),P.location&&i.jsxs("div",{className:"flex items-center space-x-1 text-[9px] sm:text-xs text-gray-700 font-bold",children:[i.jsx("span",{className:"text-sm",children:""}),i.jsx("span",{className:"truncate max-w-[120px] sm:max-w-none",children:P.location})]})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2 p-2 sm:p-3 bg-white rounded-lg border-2 border-blue-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[i.jsx(un,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"text-[8px] sm:text-[9px] text-gray-600 font-bold uppercase",children:"Plan"}),i.jsx("div",{className:"text-[10px] sm:text-xs font-black text-gray-900 truncate",children:P.selectedPlanId?P.selectedPlanId==="free"?"Free":P.selectedPlanId==="basic"?"Basic (99)":P.selectedPlanId==="standard"?"Standard (199)":P.selectedPlanId==="premium"?"Premium (499)":P.selectedPlanId==="pro"?"Pro (1,499)":"Paid":P.isPremium?"Premium (Legacy)":"Free"})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse"}),i.jsx("span",{className:"text-[9px] sm:text-xs font-black text-blue-700",children:S(P.selectedPlanId||(P.isPremium?"premium":"free"))})]})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex gap-1.5",children:[P.selectedPlanId&&P.selectedPlanId!=="free"&&i.jsx(Te,{className:`${P.selectedPlanId==="basic"||P.selectedPlanId==="standard"?"bg-blue-100 text-blue-800 border-blue-300":P.selectedPlanId==="premium"?"bg-blue-600 text-white border-blue-700":"bg-gray-100 text-gray-800 border-gray-300"} text-[8px] sm:text-xs font-black border shadow-sm px-1.5 py-0`,children:P.selectedPlanId==="basic"?"Basic":P.selectedPlanId==="standard"?"Standard":P.selectedPlanId==="premium"?"Premium":P.selectedPlanId==="pro"?"Pro":"Paid"}),!P.selectedPlanId&&P.isPremium&&i.jsx(Te,{className:"bg-blue-600 text-white text-[8px] sm:text-xs font-black border border-blue-700 shadow-sm px-1.5 py-0",children:"Premium"}),!P.selectedPlanId&&!P.isPremium&&i.jsx(Te,{className:"bg-gray-100 text-gray-800 text-[8px] sm:text-xs font-black border border-gray-300 shadow-sm px-1.5 py-0",children:"Free"})]})}),(()=>{const q=P.selectedPlanId||(P.isPremium?"premium":"free");return q==="premium"||q==="pro"?!1:Xk(q,x==null?void 0:x.currentPlan,P.createdAt,x==null?void 0:x.proActivationDate).length>0})()&&i.jsx("div",{className:"pt-1.5 border-t border-gray-200",children:i.jsxs(H,{onClick:()=>E(P),className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-[9px] sm:text-xs py-1.5 sm:py-2 font-black shadow-md hover:shadow-lg transition-all duration-200 rounded",size:"sm",children:[i.jsx(un,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"Upgrade to Premium"]})})]}),i.jsxs("div",{className:"space-y-1.5 pt-1.5 border-t border-gray-200",children:[P.adminNotes&&i.jsx("div",{className:"p-2 bg-yellow-50 border-l-2 border-yellow-500 rounded",children:i.jsxs("div",{className:"flex items-start space-x-1.5",children:[i.jsx("div",{className:"w-3.5 h-3.5 bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-white text-[8px] font-bold",children:"!"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-[9px] font-bold text-gray-900 mb-0.5",children:"Admin Notes:"}),i.jsx("p",{className:"text-gray-700 text-[9px] leading-tight",children:P.adminNotes})]})]})}),i.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 text-[8px] sm:text-[9px] text-gray-500",children:[i.jsxs("span",{className:"flex items-center space-x-0.5",children:[i.jsx(jn,{className:"h-2.5 w-2.5"}),i.jsxs("span",{className:"font-medium",children:["Created: ",T(P.createdAt)]})]}),P.approvedAt&&i.jsxs("span",{className:"flex items-center space-x-0.5 text-green-600 font-medium",children:[i.jsx(xt,{className:"h-2.5 w-2.5"}),i.jsxs("span",{children:["Approved: ",T(P.approvedAt)]})]}),P.rejectedAt&&i.jsxs("span",{className:"flex items-center space-x-0.5 text-red-600 font-medium",children:[i.jsx(It,{className:"h-2.5 w-2.5"}),i.jsxs("span",{children:["Rejected: ",T(P.rejectedAt)]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-1.5 sm:gap-2 pt-2 border-t-2 border-gray-200 bg-gray-50 rounded-lg p-2 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-1.5 sm:gap-2",children:[i.jsx(Je,{to:`/enquiry/${P.id}`,className:"flex-1 sm:flex-none min-w-[100px]",children:i.jsxs(H,{variant:"outline",size:"sm",className:"w-full sm:w-auto border border-blue-400 text-blue-800 hover:bg-blue-100 hover:border-blue-500 text-[9px] sm:text-xs py-1.5 sm:py-2 px-2 sm:px-3 font-black shadow-sm hover:shadow-md transition-all duration-200 bg-white",children:[i.jsx(fr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-0.5 sm:mr-1"}),i.jsx("span",{className:"whitespace-nowrap",children:"View Details"})]})}),i.jsxs(H,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none min-w-[110px] sm:min-w-[140px] w-full sm:w-auto border border-gray-300 text-gray-800 hover:bg-gray-100 hover:border-gray-400 text-[9px] sm:text-xs py-1.5 sm:py-2 px-2 sm:px-3 font-black shadow-sm hover:shadow-md transition-all duration-200 bg-white",onClick:()=>e(`/enquiry/${P.id}/responses-page`),children:[i.jsx(yr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-0.5 sm:mr-1"}),i.jsxs("span",{className:"whitespace-nowrap text-[8px] sm:text-xs",children:["Responses (",((M=s[P.id])==null?void 0:M.length)||0,")"]})]}),P.status==="live"&&i.jsx(Je,{to:`/enquiry/${P.id}/responses`,className:"flex-1 sm:flex-none min-w-[100px]",children:i.jsxs(H,{variant:"outline",size:"sm",className:"w-full sm:w-auto border border-gray-300 text-gray-800 hover:bg-gray-100 hover:border-gray-400 text-[9px] sm:text-xs py-1.5 sm:py-2 px-2 sm:px-3 font-black shadow-sm hover:shadow-md transition-all duration-200 bg-white",children:[i.jsx(yr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-0.5 sm:mr-1"}),i.jsx("span",{className:"whitespace-nowrap",children:"View Chats"})]})})]}),i.jsx("div",{className:"flex justify-center sm:justify-end pt-1 border-t border-gray-300",children:i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>j(P.id),className:"border border-red-400 text-red-800 hover:bg-red-100 hover:border-red-500 text-[9px] sm:text-xs py-1.5 sm:py-2 px-2 sm:px-3 font-black shadow-sm hover:shadow-md transition-all duration-200 bg-white",children:[i.jsx(rn,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-0.5 sm:mr-1"}),i.jsx("span",{className:"hidden sm:inline",children:"Delete Enquiry"}),i.jsx("span",{className:"sm:hidden",children:"Delete"})]})})]})]})]},P.id)})})]})}),c&&d&&i.jsx(gj,{open:c,onOpenChange:u,children:i.jsxs(xy,{className:"max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs(yy,{children:[i.jsxs(vy,{className:"text-sm sm:text-base font-bold text-center mb-2 sm:mb-4 flex items-center justify-center gap-2",children:[i.jsx(un,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-500"}),'Upgrade Plan for "',d.title,'"']}),i.jsx(by,{className:"text-center text-[10px] sm:text-xs text-slate-600",children:"Choose a plan to unlock more responses and premium features for this enquiry"})]}),i.jsx("div",{className:"mt-6",children:i.jsx(vf,{currentPlanId:f,enquiryId:d.id,userId:(t==null?void 0:t.uid)||"",onPlanSelect:N,isUpgrade:!0,enquiryCreatedAt:d.createdAt,className:"max-w-5xl mx-auto"})})]})}),v&&i.jsx("div",{ref:b,className:"fixed inset-0 z-[9999] bg-black bg-opacity-95 flex items-center justify-center p-0 sm:p-4",onClick:P=>{P.preventDefault(),P.stopPropagation(),w(null)},children:i.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",onClick:P=>P.stopPropagation(),children:[i.jsx("img",{src:v,alt:"Fullscreen view",className:"w-full h-full object-contain sm:rounded-lg",style:{maxHeight:"100vh",maxWidth:"100vw",width:"100%",height:"100%"},onClick:P=>P.stopPropagation()}),i.jsxs("button",{type:"button",onClick:P=>{P.preventDefault(),P.stopPropagation(),P.nativeEvent.stopImmediatePropagation(),console.log("Back button clicked"),w(null)},onMouseDown:P=>{P.preventDefault(),P.stopPropagation(),P.nativeEvent.stopImmediatePropagation()},onTouchStart:P=>{P.preventDefault(),P.stopPropagation(),P.nativeEvent.stopImmediatePropagation()},className:"absolute top-2 left-2 sm:top-4 sm:left-4 bg-white hover:bg-gray-100 text-gray-800 rounded-full p-2 sm:p-3 shadow-lg z-10 flex items-center gap-1 border-0 outline-none focus:outline-none",children:[i.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Back"})]})]})})]})},h2e=()=>{const{user:t,isProfileVerified:e}=Rr();Jr();const[r,n]=g.useState([]),[s,a]=g.useState({}),[o,l]=g.useState(!0);g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!(t!=null&&t.uid))return;window.scrollTo(0,0),l(!0),console.log("MyResponses: Current user:",t.uid);const x=bt(Ze(oe,"sellerSubmissions"),Pt("sellerId","==",t.uid)),p=Fr(x,v=>{const w=[];v.forEach(b=>{const j={id:b.id,...b.data()};j.userProfileVerified=e,w.push(j)}),w.sort((b,j)=>{var C,_;const N=(C=b.createdAt)!=null&&C.toDate?b.createdAt.toDate():new Date(b.createdAt);return((_=j.createdAt)!=null&&_.toDate?j.createdAt.toDate():new Date(j.createdAt)).getTime()-N.getTime()}),n(w),l(!1),console.log("MyResponses: Real-time seller submissions:",w.length)},v=>{console.log("Error loading seller submissions (real-time):",v),l(!1)});return()=>p()},[t==null?void 0:t.uid,e]),g.useEffect(()=>{if(console.log("MyResponses: Seller submissions:",r),r.length===0)return;(async()=>{const p=[...new Set(r.map(w=>w.enquiryId))],v={};try{const w=p.map(async j=>{try{const N=await Vt(ke(oe,"enquiries",j));return N.exists()?{id:j,...N.data()}:null}catch(N){return console.error("Error fetching enquiry:",j,N),null}});(await Promise.all(w)).forEach(j=>{j&&(v[j.id]=j)}),console.log("MyResponses: Loaded enquiries:",Object.keys(v).length),a(v)}catch(w){console.error("Error loading enquiries:",w)}})()},[r]);const c=x=>{const p={pending:"bg-amber-100 text-amber-800 border-amber-200",approved:"bg-emerald-100 text-emerald-800 border-emerald-200",rejected:"bg-red-100 text-red-800 border-red-200"};return i.jsx(Te,{className:`text-xs rounded-full border ${p[x]||"bg-gray-100 text-gray-800"}`,children:x.charAt(0).toUpperCase()+x.slice(1)})},u=x=>{switch(x){case"approved":return i.jsx(xt,{className:"h-4 w-4 text-emerald-600"});case"pending":return i.jsx(jn,{className:"h-4 w-4 text-amber-600"});case"rejected":return i.jsx(It,{className:"h-4 w-4 text-red-600"});default:return i.jsx(jn,{className:"h-4 w-4 text-gray-600"})}},d=x=>{const p=s[x.enquiryId];if(p&&p.deadline){const v=new Date;if((p.deadline.toDate?p.deadline.toDate():new Date(p.deadline))<v)return"Enquiry expired - no longer active"}switch(x.status){case"approved":return"Approved! Buyer can see your offer.";case"pending":return"Under admin review";case"rejected":return"Not approved by admin";default:return"Status unknown"}},h=x=>{const p=s[x];if(!p||!p.deadline)return!1;const v=new Date;return(p.deadline.toDate?p.deadline.toDate():new Date(p.deadline))<v},f=x=>x?(x.toDate?x.toDate():new Date(x)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Recently",m=x=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(x);return t?o?i.jsx(io,{message:"Loading your responses"}):i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx("div",{className:"mb-8 rounded-2xl overflow-hidden shadow-lg",children:i.jsxs("div",{className:"bg-gray-800 px-6 py-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx(H,{variant:"ghost",onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-700 rounded-lg text-white",children:i.jsx(wn,{className:"h-5 w-5"})}),i.jsx("div",{className:"text-center flex-1",children:i.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-white tracking-tight whitespace-nowrap",children:"Your Responses"})}),i.jsx("div",{className:"w-10"})," "]}),i.jsx("p",{className:"text-gray-300 text-xs lg:text-sm max-w-2xl mx-auto leading-relaxed text-center",children:"Track your seller submissions and their status"})]})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8",children:[i.jsxs(xe,{className:"p-3 text-center border-0 shadow-lg bg-gradient-to-br from-gray-700 to-gray-800",children:[i.jsx("div",{className:"text-xl font-bold text-white mb-1",children:r.length}),i.jsx("p",{className:"text-xs text-gray-100 font-medium",children:"Total Responses"})]}),i.jsxs(xe,{className:"p-3 text-center border-0 shadow-lg bg-gradient-to-br from-emerald-50 to-emerald-100",children:[i.jsx("div",{className:"text-xl font-bold text-emerald-600 mb-1",children:r.filter(x=>x.status==="approved").length}),i.jsx("p",{className:"text-xs text-emerald-700 font-medium",children:"Approved"})]}),i.jsxs(xe,{className:"p-3 text-center border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100",children:[i.jsx("div",{className:"text-xl font-bold text-amber-600 mb-1",children:r.filter(x=>x.status==="pending").length}),i.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"Under Review"})]}),i.jsxs(xe,{className:"p-3 text-center border-0 shadow-lg bg-gradient-to-br from-red-50 to-red-100",children:[i.jsx("div",{className:"text-xl font-bold text-red-600 mb-1",children:r.filter(x=>x.status==="rejected").length}),i.jsx("p",{className:"text-xs text-red-700 font-medium",children:"Rejected"})]})]}),r.length===0?i.jsxs(xe,{className:"p-12 text-center border-0 shadow-lg",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Nh,{className:"h-10 w-10 text-white"})}),i.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"You never responded to any enquiry"}),i.jsx("p",{className:"text-slate-600 mb-6 max-w-md mx-auto",children:"You haven't submitted any responses to buyer enquiries yet. Start helping others by responding to their requests and needs!"}),i.jsx(Je,{to:"/enquiries",children:i.jsxs(H,{className:"bg-gray-800 hover:bg-gray-900 text-white px-8 py-3",children:[i.jsx(Nh,{className:"h-5 w-5 mr-2"}),"Browse Enquiries"]})})]}):i.jsx("div",{className:"space-y-6",children:r.map(x=>{const p=s[x.enquiryId],v=h(x.enquiryId);return i.jsxs(xe,{className:`border-0 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden ${v?"opacity-60":""}`,children:[i.jsxs("div",{className:`px-6 py-4 ${v?"bg-red-900":"bg-gray-800"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[v?i.jsx(It,{className:"h-4 w-4 text-red-300"}):u(x.status),i.jsx("h3",{className:"text-lg font-semibold text-white truncate",children:x.title})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[v&&i.jsx(Te,{className:"text-xs bg-red-100 text-red-800 border-red-300",children:"Expired"}),c(x.status)]})]}),i.jsx("div",{className:"mt-2",children:i.jsx("span",{className:`text-xs sm:text-sm ${v?"text-red-200":"text-gray-300"}`,children:d(x)})})]}),i.jsxs(Ue,{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[(x.userProfileVerified||x.isIdentityVerified)&&i.jsx("div",{className:"mb-3",children:i.jsxs(Te,{className:"text-xs bg-green-100 text-green-800 border-green-300",children:[i.jsx(Cr,{className:"h-3 w-3 mr-1"}),"Trusted User"]})}),i.jsx("p",{className:"text-slate-600 mb-3 line-clamp-2",children:x.message}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-500",children:[i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(q1,{className:"h-4 w-4"}),i.jsxs("span",{children:[x.imageCount," images"]})]}),i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(yr,{className:"h-4 w-4"}),i.jsxs("span",{children:["",x.price]})]}),x.govIdUrl&&i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(Cr,{className:"h-4 w-4"}),i.jsx("span",{children:"ID Uploaded"})]})]})]}),p&&i.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-blue-800 mb-2",children:"Responding to:"}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-blue-900 font-medium text-sm sm:text-base",children:p.title}),i.jsxs("p",{className:"text-blue-700 text-xs sm:text-sm",children:["Budget: ",m(p.budget),"  ",p.category]})]}),i.jsx(Je,{to:`/enquiry/${p.id}`,children:i.jsxs(H,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-700 hover:bg-blue-50 text-xs sm:text-sm",children:[i.jsx(fr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"View Enquiry"]})})]})]}),x.notes&&i.jsxs("div",{className:"mb-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-slate-800 mb-2",children:"Additional Notes:"}),i.jsx("p",{className:"text-slate-700 text-sm",children:x.notes})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-4 text-xs text-slate-500 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),i.jsxs("span",{className:"text-slate-600",children:["Submitted: ",f(x.createdAt)]})]}),x.updatedAt&&x.updatedAt!==x.createdAt&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),i.jsxs("span",{className:"text-slate-600",children:["Updated: ",f(x.updatedAt)]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex space-x-3",children:[x.status==="approved"&&i.jsx(Je,{to:`/enquiry/${x.enquiryId}/responses?sellerId=${x.sellerId}`,children:i.jsxs(H,{variant:"outline",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[i.jsx(yr,{className:"h-4 w-4 mr-2"}),"Chat Available"]})}),x.status==="rejected"&&i.jsx(Je,{to:"/enquiries",children:i.jsxs(H,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:[i.jsx(Nh,{className:"h-4 w-4 mr-2"}),"Submit New Response"]})})]}),i.jsx("div",{className:"text-sm text-slate-500",children:x.buyerViewed&&i.jsx("span",{className:"text-emerald-600",children:" Buyer has viewed"})})]})]})]},x.id)})})]})})}):i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-gray-800 mx-auto"}),i.jsx("p",{className:"mt-4 text-slate-600 font-medium",children:"Loading your account..."})]})})})},f2e=()=>{const{user:t}=Rr(),e=Jr(),[r,n]=g.useState([]),[s,a]=g.useState(!0);return g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!(t!=null&&t.uid))return;(()=>{try{const l=ke(oe,"profiles",t.uid),c=Fr(l,async u=>{var m;const d=u.exists()?((m=u.data())==null?void 0:m.savedEnquiries)||[]:[];if(d.length===0){n([]),a(!1);return}const h=d.map(async x=>{try{const p=await Vt(ke(oe,"enquiries",x));return p.exists()?{id:p.id,...p.data()}:null}catch(p){return console.error(`Error fetching saved enquiry ${x}:`,p),null}}),f=(await Promise.all(h)).filter(x=>x!==null);n(f),a(!1)},u=>{console.error("Error listening to saved enquiries:",u),a(!1)});return()=>c()}catch(l){console.error("Error setting up saved enquiries listener:",l),a(!1)}})()},[t==null?void 0:t.uid]),s?i.jsx(io,{message:"Loading saved enquiries"}):i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-6 sm:py-12",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(H,{variant:"ghost",onClick:()=>e("/dashboard"),onTouchEnd:()=>e("/dashboard"),className:"mb-6 text-slate-600 hover:text-slate-900 transition-colors h-12 px-4 touch-manipulation text-sm font-medium",children:[i.jsx(wn,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]}),i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 sm:p-12 shadow-2xl border border-white/30",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-800 to-gray-900 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:i.jsx(Du,{className:"h-10 w-10 text-white"})}),i.jsx("h1",{className:"text-2xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-4",children:" Your Saved Favorites"}),i.jsx("p",{className:"text-base sm:text-lg text-slate-600 max-w-2xl mx-auto leading-relaxed",children:"Quickly access your bookmarked enquiries anytime"})]})})]}),r.length===0?i.jsx(xe,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm",children:i.jsxs(Ue,{className:"text-center py-8 sm:py-24",children:[i.jsx("div",{className:"w-12 h-12 sm:w-20 sm:h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg",children:i.jsx(Du,{className:"h-6 w-6 sm:h-10 sm:w-10 text-gray-500"})}),i.jsx("h2",{className:"text-base sm:text-2xl font-semibold text-gray-700 mb-3 sm:mb-4",children:"No saved enquiries yet"}),i.jsx("p",{className:"text-xs sm:text-base text-gray-500 mb-6 sm:mb-8 max-w-md mx-auto",children:"Start saving enquiries you're interested in to access them quickly later"}),i.jsx(H,{onClick:()=>e("/enquiries"),onTouchEnd:()=>e("/enquiries"),size:"lg",className:"h-10 sm:h-14 px-4 sm:px-8 text-xs sm:text-base font-medium bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:"Browse Enquiries"})]})}):i.jsx("div",{className:"space-y-3 sm:space-y-6",children:r.map(o=>{var l;return i.jsx(xe,{className:"hover:shadow-xl transition-all duration-300 cursor-pointer touch-manipulation border-0 bg-white/90 backdrop-blur-sm shadow-lg hover:scale-[1.01] sm:hover:scale-[1.02]",onClick:()=>e(`/enquiry/${o.id}`),onTouchEnd:()=>e(`/enquiry/${o.id}`),children:i.jsx(Ue,{className:"p-3 sm:p-8",children:i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm sm:text-xl font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-2 leading-tight",children:o.title}),i.jsx("p",{className:"text-xs sm:text-base text-gray-600 mb-3 sm:mb-4 line-clamp-3 leading-relaxed",children:o.description})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[i.jsx(Te,{variant:"secondary",className:"text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-1.5 bg-blue-100 text-blue-700 font-medium",children:o.category}),i.jsxs("div",{className:"text-xs sm:text-sm font-semibold text-green-600",children:["",(l=o.budget)==null?void 0:l.toLocaleString("en-IN")]}),o.location&&i.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 flex items-center",children:[" ",o.location]})]}),i.jsx(H,{variant:"outline",size:"lg",onClick:c=>{c.stopPropagation(),e(`/enquiry/${o.id}`)},onTouchEnd:c=>{c.stopPropagation(),e(`/enquiry/${o.id}`)},className:"w-full h-10 sm:h-12 text-xs sm:text-base font-medium border-2 border-blue-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-200",children:"View Details"})]})})},o.id)})})]})})})};function m2e(t){if(typeof t!="object"||t===null)return t;const e={...t};return["email","phone","phoneNumber","idNumber","address","password"].forEach(n=>{e[n]&&(e[n]="[HIDDEN]")}),e}const p2e=()=>{var By,Uy,Bm,Um,qy,_a;const{user:t}=Rr(),e=g.useContext(wa),r=(e==null?void 0:e.createNotification)||(async()=>{console.warn("NotificationContext not available")}),{canViewResponse:n,canViewAllResponses:s,getResponseViewLimit:a,purchasePremiumEnquiry:o,purchaseMonthlySubscription:l,usageStats:c}=mm(),u=Jr(),{enquiryId:d}=oy(),[h,f]=g.useState(null),[m,x]=g.useState([]),[p,v]=g.useState(null),b=new URLSearchParams(window.location.search).get("sellerId"),[j,N]=g.useState([]),[E,C]=g.useState(""),[_,S]=g.useState(!0),[A,T]=g.useState(!1),[I,P]=g.useState(!1),[R,M]=g.useState([]),[q,W]=g.useState(!1),[B,D]=g.useState(!1),[V,K]=g.useState(0),[G,Q]=g.useState(null),[ae,U]=g.useState([]),[Y,ue]=g.useState(null),[Z,Pe]=g.useState({}),[te,ye]=g.useState(!1),[F,z]=g.useState(!1),[ie,ne]=g.useState({}),[he,ve]=g.useState({});g.useState(null);const[ge,X]=g.useState(!1),[le,de]=g.useState(!1),[Ge,Xe]=g.useState(!1),[Tt,ht]=g.useState(!1),[Ct,vt]=g.useState(null),[Ot,_r]=g.useState(!1),[rr,hs]=g.useState(!1),[nr,cr]=g.useState("idle");g.useEffect(()=>{ir.current=nr},[nr]);const[fs,Ts]=g.useState(null),[re,J]=g.useState(null),[Re,_e]=g.useState(!1),Ve=g.useRef(null),Ce=g.useRef(null),st=g.useRef(null),Rt=g.useRef(null),Gt=g.useRef(null),Kt=g.useRef(null),Zr=g.useRef([]),xi=g.useRef(new Set),ir=g.useRef("idle"),fn=g.useRef(null),yi=g.useRef(null),[mn,ul]=g.useState(0);g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!d||!t)return;S(!0),console.log("EnquiryResponses: Starting to fetch data for enquiry:",d),(async()=>{try{const we=await Vt(ke(oe,"enquiries",d));if(we.exists()){const Ae={id:we.id,...we.data()};f(Ae),console.log("EnquiryResponses: Fetched enquiry:",Ae)}}catch(we){console.error("Error fetching enquiry:",we),ce({title:"Error",description:"Failed to fetch enquiry details",variant:"destructive"})}})(),(async()=>{try{const we=bt(Ze(oe,"sellerSubmissions"),Pt("enquiryId","==",d)),Ae=await Bt(we),Ee=[];Ae.forEach(be=>{const We=be.data();We&&Ee.push({id:be.id,...We})});const Le=Ee.filter(be=>be.status==="approved").sort((be,We)=>{var it,at;const Fe=(it=be.createdAt)!=null&&it.toDate?be.createdAt.toDate():new Date(be.createdAt);return((at=We.createdAt)!=null&&at.toDate?We.createdAt.toDate():new Date(We.createdAt)).getTime()-Fe.getTime()});if(console.log("EnquiryResponses: Fetched approved responses:",Le),x(Le),b&&Ee.length>0){const be=Ee.find(We=>We.sellerId===b);be&&(v(be),console.log("EnquiryResponses: Auto-selected seller from URL:",m2e({sellerName:be.sellerName})))}S(!1)}catch(we){console.log("Error loading responses:",we),S(!1)}})()},[d,t]),g.useEffect(()=>{if(b&&m.length>0){const ee=m.find(Se=>Se.sellerId===b);ee&&((t==null?void 0:t.uid)===(h==null?void 0:h.userId)||(t==null?void 0:t.uid)===ee.sellerId?(v(ee),console.log("EnquiryResponses: Selected seller from URL change:",ee.sellerName)):console.log("EnquiryResponses: User not authorized to chat with this seller"))}},[b,m,t,h]),g.useEffect(()=>{if(!p||!d)return;if(p.enquiryId!==d){console.log("EnquiryResponses: Selected response does not belong to current enquiry, clearing selection"),v(null);return}console.log("Setting up real-time chat for enquiry:",d,"seller:",p.sellerId);const ee=bt(Ze(oe,"chatMessages"),Pt("enquiryId","==",d),Pt("sellerId","==",p.sellerId)),Se=Fr(ee,we=>{const Ae=[];we.forEach(Ee=>{const Le={id:Ee.id,...Ee.data()};Ae.push(Le)}),Ae.sort((Ee,Le)=>{var Fe,rt;const be=(Fe=Ee.timestamp)!=null&&Fe.toDate?Ee.timestamp.toDate():new Date(Ee.timestamp),We=(rt=Le.timestamp)!=null&&rt.toDate?Le.timestamp.toDate():new Date(Le.timestamp);return be.getTime()-We.getTime()}),N(Ae),P(!0),setTimeout(()=>{const Ee=document.getElementById("chat-messages");Ee&&(Ee.scrollTop=Ee.scrollHeight)},100)},we=>{console.log("Chat error:",we),P(!1)});return()=>{Se(),N([]),P(!1)}},[p,d]),g.useEffect(()=>{if(j.length===0)return;const ee=[...new Set(j.map(Ae=>Ae.senderId))],Se={};(async()=>{for(const Ae of ee)try{const Ee=await Vt(ke(oe,"userProfiles",Ae));Ee.exists()&&(Se[Ae]=Ee.data())}catch(Ee){console.error("Error fetching user profile:",Ee)}Pe(Se)})()},[j]),g.useEffect(()=>{if(!(p!=null&&p.sellerId)&&!(t!=null&&t.uid))return;(async()=>{try{if(p!=null&&p.sellerId){const Se=await Vt(ke(oe,"userProfiles",p.sellerId));Se.exists()&&Pe(we=>({...we,[p.sellerId]:Se.data()}))}if(t!=null&&t.uid){const Se=await Vt(ke(oe,"userProfiles",t.uid));Se.exists()&&Pe(we=>({...we,[t.uid]:Se.data()}))}}catch(Se){console.error("Error fetching profiles:",Se)}})()},[p==null?void 0:p.sellerId,t==null?void 0:t.uid]);const co=async()=>{var we,Ae,Ee;if(!E.trim()&&R.length===0||!p||!d||!t)return;const ee=E.trim(),Se=t.uid===p.sellerId;C(""),M([]);try{const Le=(await Promise.all(R.map(async(be,We)=>{const Fe=`${Date.now()}-${We}`;ve(rt=>({...rt,[Fe]:!0})),ne(rt=>({...rt,[Fe]:0}));try{let rt=be;be.type.startsWith("image/")?(ne(at=>({...at,[Fe]:25})),rt=await hl(be),ne(at=>({...at,[Fe]:50}))):be.type.startsWith("audio/")?(ne(at=>({...at,[Fe]:25})),rt=await Ea(be),ne(at=>({...at,[Fe]:50}))):(ne(at=>({...at,[Fe]:25})),rt=await _d(be),ne(at=>({...at,[Fe]:50})));const it={name:rt.name,type:rt.type,size:rt.size,lastModified:rt.lastModified};if(rt.type.startsWith("image/")||rt.type.startsWith("audio/")||rt.type.startsWith("video/")){if(rt.size>3145728)return console.log("File is still too large after compression, skipping"),ne(ur=>({...ur,[Fe]:0})),null;ne(ur=>({...ur,[Fe]:75}));const at=await new Promise(ur=>{const Vn=new FileReader;Vn.onload=()=>ur(Vn.result),Vn.readAsDataURL(rt)});return ne(ur=>({...ur,[Fe]:100})),{...it,base64:at}}return ne(at=>({...at,[Fe]:100})),it}finally{ve(rt=>({...rt,[Fe]:!1})),setTimeout(()=>{ne(rt=>{const it={...rt};return delete it[Fe],it})},1e3)}}))).filter(be=>be!==null);await ni(Ze(oe,"chatMessages"),{enquiryId:d,sellerId:p.sellerId,senderId:t.uid,senderName:((we=Z[t.uid])==null?void 0:we.fullName)||"User",senderType:Se?"seller":"buyer",message:ee,attachments:Le,timestamp:$e()});try{const be=Se?h==null?void 0:h.userId:p.sellerId;be&&be!==t.uid&&(e!=null&&e.createNotificationForUser)&&(await e.createNotificationForUser(be,"new_chat",{title:" New Message",message:`${((Ae=Z[t.uid])==null?void 0:Ae.fullName)||"Someone"} sent you a message about "${h==null?void 0:h.title}"`,priority:"high",actionUrl:`/enquiry/${d}/responses?sellerId=${p.sellerId}`,actionText:"View Message",enquiryId:d,senderId:t.uid,senderName:((Ee=Z[t.uid])==null?void 0:Ee.fullName)||"Someone"}),console.log(" Chat notification sent to recipient"))}catch(be){console.error("Failed to create chat notification:",be)}}catch(Le){console.error("Error sending message:",Le),C(ee),M(R)}},uo=async()=>{var Se,we,Ae;if(!E.trim()&&R.length===0||!p||!d||!t)return;const ee=E.trim();C(""),M([]);try{const Ee=(await Promise.all(R.map(async(Le,be)=>{const We=`seller-${Date.now()}-${be}`;ve(Fe=>({...Fe,[We]:!0})),ne(Fe=>({...Fe,[We]:0}));try{let Fe=Le;Le.type.startsWith("image/")?(ne(it=>({...it,[We]:25})),Fe=await hl(Le),ne(it=>({...it,[We]:50}))):Le.type.startsWith("audio/")?(ne(it=>({...it,[We]:25})),Fe=await Ea(Le),ne(it=>({...it,[We]:50}))):(ne(it=>({...it,[We]:25})),Fe=await _d(Le),ne(it=>({...it,[We]:50})));const rt={name:Fe.name,type:Fe.type,size:Fe.size,lastModified:Fe.lastModified};if(Fe.type.startsWith("image/")||Fe.type.startsWith("audio/")||Fe.type.startsWith("video/")){if(Fe.size>3145728)return console.log("File is still too large after compression, skipping"),ne(at=>({...at,[We]:0})),null;ne(at=>({...at,[We]:75}));const it=await new Promise(at=>{const ur=new FileReader;ur.onload=()=>at(ur.result),ur.readAsDataURL(Fe)});return ne(at=>({...at,[We]:100})),{...rt,base64:it}}return ne(it=>({...it,[We]:100})),rt}finally{ve(Fe=>({...Fe,[We]:!1})),setTimeout(()=>{ne(Fe=>{const rt={...Fe};return delete rt[We],rt})},1e3)}}))).filter(Le=>Le!==null);await ni(Ze(oe,"chatMessages"),{enquiryId:d,sellerId:p.sellerId,senderId:t.uid,senderName:((Se=Z[t.uid])==null?void 0:Se.fullName)||"User",senderType:"seller",message:ee,attachments:Ee,timestamp:$e()});try{const Le=h==null?void 0:h.userId;Le&&Le!==t.uid&&(e!=null&&e.createNotificationForUser)&&(await e.createNotificationForUser(Le,"new_chat",{title:" New Message",message:`${((we=Z[t.uid])==null?void 0:we.fullName)||"Seller"} sent you a message about "${h==null?void 0:h.title}"`,priority:"high",actionUrl:`/enquiry/${d}/responses?sellerId=${p.sellerId}`,actionText:"View Message",enquiryId:d,senderId:t.uid,senderName:((Ae=Z[t.uid])==null?void 0:Ae.fullName)||"Seller"}),console.log(" Chat notification sent to buyer"))}catch(Le){console.error("Failed to create seller chat notification:",Le)}}catch(Ee){console.error("Error sending seller message:",Ee),C(ee),M(R)}},wd=()=>{v(null),N([]),C(""),T(!1)},jN=()=>{de(!0)},dl=async()=>{de(!1);try{if(h&&p){const ee=bt(Ze(oe,"chatMessages"),Pt("enquiryId","==",h.id),Pt("sellerId","==",p.sellerId)),we=(await Bt(ee)).docs.map(Ae=>cc(Ae.ref));await Promise.all(we),ce({title:"Chat Ended",description:"Chat history has been deleted permanently."}),wd()}}catch(ee){console.error("Error ending chat:",ee),ce({title:"Error",description:"Failed to end chat",variant:"destructive"})}},NN=()=>{var we;if(!p||!h||!t)return;const ee=t.uid===h.userId?p.sellerId:h.userId,Se=t.uid===h.userId?p.sellerName:((we=Z[h.userId])==null?void 0:we.fullName)||"User";vt({id:ee,name:Se}),Xe(!0)},SN=async()=>{if(!(!Ct||!t)){Xe(!1);try{const ee=ke(oe,"users",t.uid),Se=await Vt(ee);Se.exists()?(Se.data().blockedUsers||[]).includes(Ct.id)||await dt(ee,{blockedUsers:ry(Ct.id)}):await bn(ee,{blockedUsers:[Ct.id]},{merge:!0}),ce({title:"User Blocked",description:`${Ct.name} has been blocked. You will no longer receive messages from this user.`}),wd(),vt(null)}catch(ee){console.error("Error blocking user:",ee),ce({title:"Error",description:"Failed to block user",variant:"destructive"}),vt(null)}}},jd=()=>{ht(!0)},Dy=async()=>{ht(!1);try{if(h){await dt(ke(oe,"enquiries",h.id),{status:"deal_closed",dealClosed:!0,dealClosedAt:$e(),dealClosedBy:t==null?void 0:t.uid}),ce({title:"Deal Closed",description:'This enquiry has been marked as "Deal Closed" and will appear in your history.'});try{await r("enquiry_update",{title:"Deal Closed Successfully! ",message:`The deal for "${h.title}" has been closed and marked as completed.`,priority:"high",actionUrl:"/my-enquiries",actionText:"View My Enquiries"})}catch(ee){console.error("Failed to create deal closure notification:",ee)}wd()}}catch(ee){console.error("Error closing deal:",ee),ce({title:"Error",description:"Failed to close deal",variant:"destructive"})}},Dm=()=>{T(!0),setTimeout(()=>T(!1),3e3)},Hc=async ee=>{const Se={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]},we=new RTCPeerConnection(Se);return ee.getTracks().forEach(Ae=>{we.addTrack(Ae,ee)}),we.ontrack=Ae=>{console.log("Received remote track:",Ae.track),console.log("Remote streams:",Ae.streams),Ae.streams[0]&&(J(Ae.streams[0]),Rt.current&&(Rt.current.srcObject=Ae.streams[0],Rt.current.play().catch(Ee=>{console.error("Error playing remote audio:",Ee)}),console.log("Remote audio element set and playing")))},we.onicecandidate=async Ae=>{if(Ae.candidate&&p&&h&&t){const Ee=t.uid===h.userId?p.sellerId:h.userId,Le=t.uid<Ee?`${t.uid}_${Ee}`:`${Ee}_${t.uid}`,be=ke(oe,"callSignaling",Le);try{const We=Ae.candidate.toJSON();console.log("Sending ICE candidate:",We),await dt(be,{[`${t.uid}.lastCandidate`]:We,[`${t.uid}.lastCandidateTime`]:$e()}).catch(async Fe=>{console.log("Document not found, creating it"),await bn(be,{[`${t.uid}.lastCandidate`]:We,[`${t.uid}.lastCandidateTime`]:$e()})})}catch(We){console.error("Error sending ICE candidate:",We)}}else Ae.candidate||console.log("All ICE candidates have been sent")},we.onconnectionstatechange=()=>{if(console.log("Connection state changed:",we.connectionState),we.connectionState==="connected")cr("active"),ir.current="active",hs(!0),console.log("Call connected successfully!");else if(we.connectionState==="disconnected"){const Ae=ir.current;Ae==="active"||Ae==="connecting"?(console.log("Call disconnected during active call, ending call"),ce({title:"Call Disconnected",description:"The call was disconnected. This may be due to network issues.",variant:"default"}),_n()):console.log("Connection disconnected but call not active, ignoring")}else if(we.connectionState==="failed"||we.connectionState==="closed"){const Ae=ir.current;Ae==="active"||Ae==="connecting"?(console.log("Call failed/closed:",we.connectionState),ce({title:"Call Failed",description:"The call failed to connect. Please check your internet connection.",variant:"destructive"}),_n()):console.log("Connection failed/closed but call not active, ignoring")}},we.oniceconnectionstatechange=()=>{const Ae=we.iceConnectionState;if(console.log("ICE connection state:",Ae),Ae==="failed"){const Ee=ir.current;(Ee==="connecting"||Ee==="active")&&(console.log("ICE connection failed - network issue detected"),ce({title:"Connection Failed",description:"Unable to establish connection. The other person may be offline or have network issues.",variant:"destructive"}),setTimeout(()=>{var Le;((Le=Gt.current)==null?void 0:Le.iceConnectionState)==="failed"&&(ir.current==="connecting"||ir.current==="calling")&&(console.log("ICE failed and did not recover, ending call"),_n(!1))},5e3))}else Ae==="disconnected"&&ir.current==="active"&&(console.log("ICE disconnected - possible network issue"),ce({title:"Connection Lost",description:"The connection was lost. Attempting to reconnect...",variant:"default"}),setTimeout(()=>{var Le;((Le=Gt.current)==null?void 0:Le.iceConnectionState)==="disconnected"&&ir.current==="active"&&(console.log("Connection lost and did not recover, ending call"),ce({title:"Call Ended",description:"Unable to reconnect. The other person may have lost internet connection.",variant:"destructive"}),_n(!1))},1e4))},we},Sa=async()=>{var ee,Se;if(!(!p||!h||!t))try{if(!navigator.onLine){ce({title:"No Internet Connection",description:"Please check your internet connection and try again.",variant:"destructive"});return}_r(!0),_e(!0),cr("calling"),ir.current="calling",yi.current=Date.now(),ul(0);const we=setInterval(()=>{if(yi.current){const it=Math.floor((Date.now()-yi.current)/1e3);if(ul(it),!navigator.onLine){console.log("Network offline detected"),clearInterval(we),ce({title:"No Internet Connection",description:"Your internet connection was lost. The call cannot continue.",variant:"destructive"}),_n(!1);return}it>=60&&ir.current==="calling"&&(console.log("Call timeout - no answer after 60 seconds, ending call"),clearInterval(we),ce({title:"Call Not Answered",description:"The call was not answered. The other person may be offline or have network issues.",variant:"default"}),_n(!1))}},1e3);fn.current=we,console.log("Requesting microphone access...");const Ae=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1});console.log("Microphone access granted, stream created:",Ae),console.log("Audio tracks:",Ae.getAudioTracks()),Ts(Ae),st.current&&(st.current.srcObject=Ae,st.current.muted=!0,st.current.play().catch(it=>{console.error("Error playing local audio:",it)}));const Ee=await Hc(Ae);Gt.current=Ee,console.log("Creating offer...");const Le=await Ee.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!1});await Ee.setLocalDescription(Le),console.log("Offer created and local description set");const be=t.uid===h.userId?p.sellerId:h.userId,We=t.uid<be?`${t.uid}_${be}`:`${be}_${t.uid}`,Fe=ke(oe,"callSignaling",We);await bn(Fe,{callerId:t.uid,receiverId:be,enquiryId:h.id,offer:JSON.stringify(Le),status:"calling",createdAt:$e(),[t.uid]:{offer:JSON.stringify(Le),timestamp:$e()}});try{e!=null&&e.createNotificationForUser&&(await e.createNotificationForUser(be,"new_chat",{title:" Incoming Call",message:`${((ee=Z[t.uid])==null?void 0:ee.fullName)||"Someone"} is calling you about "${h.title}"`,priority:"urgent",actionUrl:`/enquiry/${d}/responses?sellerId=${p.sellerId}`,actionText:"Answer",enquiryId:d,callerId:t.uid,callerName:((Se=Z[t.uid])==null?void 0:Se.fullName)||"Someone"}),console.log(" Incoming call notification sent to recipient"))}catch(it){console.error("Failed to create call notification:",it)}const rt=Fr(Fe,async it=>{var pn;const at=it.data();if(!at||!Ee)return;if(at.status==="answered"&&at.answer&&Ee.localDescription&&!Ee.remoteDescription){if(console.log("Received answer, setting remote description"),!navigator.onLine){console.log("Network offline when receiving answer"),ce({title:"Connection Lost",description:"Lost internet connection while connecting. Please try again.",variant:"destructive"}),_n(!1);return}fn.current&&(clearInterval(fn.current),fn.current=null);const Pn=JSON.parse(at.answer);for(await Ee.setRemoteDescription(new RTCSessionDescription(Pn)),cr("connecting"),ir.current="connecting";Zr.current.length>0;){const ks=Zr.current.shift();if(ks)try{await Ee.addIceCandidate(ks),console.log("Added pending ICE candidate")}catch(fl){console.error("Error adding pending ICE candidate:",fl)}}}const ur=t.uid===h.userId?p.sellerId:h.userId,Vn=at[`${ur}.lastCandidate`],Cs=at[`${ur}.lastCandidateTime`];if(Vn){const Pn=`${Vn.candidate}-${Vn.sdpMLineIndex}-${Vn.sdpMid}`;if(xi.current.has(Pn))return;try{if(Ee.remoteDescription)await Ee.addIceCandidate(new RTCIceCandidate(Vn)),xi.current.add(Pn),console.log("Added ICE candidate from remote");else{const ks=new RTCIceCandidate(Vn);Zr.current.push(ks),xi.current.add(Pn),console.log("Queued ICE candidate (waiting for remote description)")}}catch(ks){(pn=ks.message)!=null&&pn.includes("already been set")||console.error("Error adding ICE candidate:",ks)}}at.status==="rejected"||at.status==="ended"&&Ee.remoteDescription?(console.log("Call ended/rejected, ending call"),_n()):at.status==="ended"&&!Ee.remoteDescription&&(console.log("Call ended before answer, resetting state"),cr("idle"),ir.current="idle",_r(!1),fs&&(fs.getTracks().forEach(Pn=>Pn.stop()),Ts(null)))});Kt.current=rt}catch(we){console.error("Error initiating call:",we),ce({title:"Error",description:"Failed to start call. Please check microphone permissions.",variant:"destructive"}),_n()}},My=async()=>{if(!(!p||!h||!t))try{if(!navigator.onLine){ce({title:"No Internet Connection",description:"Please check your internet connection and try again.",variant:"destructive"});return}_r(!0),_e(!1),cr("connecting"),ir.current="connecting",console.log("Answering call, requesting microphone access...");const ee=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1});console.log("Microphone access granted (answer), stream created:",ee),console.log("Audio tracks:",ee.getAudioTracks()),Ts(ee),st.current&&(st.current.srcObject=ee,st.current.muted=!0,st.current.play().catch(be=>{console.error("Error playing local audio (answer):",be)}));const Se=await Hc(ee);Gt.current=Se;const we=t.uid===h.userId?p.sellerId:h.userId,Ae=t.uid<we?`${t.uid}_${we}`:`${we}_${t.uid}`,Ee=ke(oe,"callSignaling",Ae),Le=await Vt(Ee);if(Le.exists()&&Le.data().offer){console.log("Answering call, setting remote description");const be=JSON.parse(Le.data().offer);for(await Se.setRemoteDescription(new RTCSessionDescription(be));Zr.current.length>0;){const rt=Zr.current.shift();if(rt)try{await Se.addIceCandidate(rt),console.log("Added pending ICE candidate (answer side)")}catch(it){console.error("Error adding pending ICE candidate:",it)}}fn.current&&(clearInterval(fn.current),fn.current=null),console.log("Creating answer...");const We=await Se.createAnswer();await Se.setLocalDescription(We),console.log("Answer created and local description set"),await dt(Ee,{answer:JSON.stringify(We),status:"answered",[`${t.uid}.answer`]:JSON.stringify(We),[`${t.uid}.timestamp`]:$e()});const Fe=Fr(Ee,async rt=>{var Vn;const it=rt.data();if(!it||!Se)return;const at=t.uid===h.userId?p.sellerId:h.userId,ur=it[`${at}.lastCandidate`];if(ur){const Cs=`${ur.candidate}-${ur.sdpMLineIndex}-${ur.sdpMid}`;if(xi.current.has(Cs))return;try{if(Se.remoteDescription)await Se.addIceCandidate(new RTCIceCandidate(ur)),xi.current.add(Cs),console.log("Added ICE candidate from remote (answer side)");else{const pn=new RTCIceCandidate(ur);Zr.current.push(pn),xi.current.add(Cs),console.log("Queued ICE candidate (answer side, waiting for remote description)")}}catch(pn){(Vn=pn.message)!=null&&Vn.includes("already been set")||console.error("Error adding ICE candidate:",pn)}}it.status==="ended"&&_n()});Kt.current=Fe}}catch(ee){console.error("Error answering call:",ee),ce({title:"Error",description:"Failed to answer call. Please check microphone permissions.",variant:"destructive"}),_n()}},_n=async(ee=!1)=>{const Se=ir.current;if(console.log("endCall called, currentStatus:",Se,"skipFirestoreUpdate:",ee),fn.current&&(clearInterval(fn.current),fn.current=null),yi.current=null,ul(0),fs&&(fs.getTracks().forEach(we=>we.stop()),Ts(null)),Gt.current&&(Gt.current.close(),Gt.current=null),Kt.current&&(Kt.current(),Kt.current=null),!ee&&p&&h&&t){const we=t.uid===h.userId?p.sellerId:h.userId,Ae=t.uid<we?`${t.uid}_${we}`:`${we}_${t.uid}`;try{const Ee=ke(oe,"callSignaling",Ae),Le=await Vt(Ee);Se==="active"||Se==="connecting"||Se==="calling"&&Re||Le.exists()&&Le.data().status==="answered"?(console.log("Updating Firestore to ended status"),await dt(Ee,{status:"ended",endedAt:$e(),endedBy:t.uid})):console.log("Skipping Firestore update - call not yet answered")}catch(Ee){console.error("Error updating call status:",Ee)}}_r(!1),hs(!1),cr("idle"),ir.current="idle",J(null),_e(!1),Zr.current=[],xi.current.clear(),st.current&&(st.current.srcObject=null),Rt.current&&(Rt.current.srcObject=null)};g.useEffect(()=>{if(!p||!h||!t)return;const ee=t.uid===h.userId?p.sellerId:h.userId,Se=t.uid<ee?`${t.uid}_${ee}`:`${ee}_${t.uid}`,we=ke(oe,"callSignaling",Se);console.log("Setting up incoming call listener for:",Se),(async()=>{var Le;try{const be=await Vt(we);if(be.exists()){const We=be.data(),Fe=(Le=We.createdAt)!=null&&Le.toMillis?We.createdAt.toMillis():Date.now(),rt=Date.now()-Fe,it=2*60*1e3;rt>it&&(We.status==="calling"||We.status==="ringing")&&(console.log("Cleaning up old call document:",Se),await dt(we,{status:"ended",endedAt:$e(),autoEnded:!0}))}}catch(be){console.error("Error cleaning up old call:",be)}})();const Ee=Fr(we,Le=>{var it;const be=Le.data(),We=ir.current,Fe=Ot,rt=rr;if(console.log("Incoming call listener triggered:",{hasData:!!be,status:be==null?void 0:be.status,callerId:be==null?void 0:be.callerId,currentStatus:We,currentIsCalling:Fe,currentIsInCall:rt}),!be){We==="ringing"&&(console.log("Call document deleted while ringing, resetting state"),cr("idle"),ir.current="idle");return}if(!Fe&&!rt&&We==="idle"&&be.status==="calling"&&be.callerId&&be.callerId!==t.uid){const at=(it=be.createdAt)!=null&&it.toMillis?be.createdAt.toMillis():Date.now(),ur=Date.now()-at,Vn=2*60*1e3;if(ur>Vn){console.log("Ignoring old call (older than 2 minutes):",be.callerId,"age:",Math.floor(ur/1e3),"seconds");return}console.log("Incoming call detected from:",be.callerId),cr("ringing"),ir.current="ringing",yi.current=Date.now(),ul(0),fn.current&&clearInterval(fn.current);const Cs=setInterval(()=>{if(yi.current){const pn=Math.floor((Date.now()-yi.current)/1e3);if(ul(pn),!navigator.onLine){console.log("Network offline detected while ringing"),clearInterval(Cs),ce({title:"No Internet Connection",description:"Your internet connection was lost. Cannot receive calls.",variant:"destructive"});const Pn=t.uid===h.userId?p.sellerId:h.userId,ks=t.uid<Pn?`${t.uid}_${Pn}`:`${Pn}_${t.uid}`,fl=ke(oe,"callSignaling",ks);dt(fl,{status:"rejected",rejectedAt:$e(),rejectedBy:t.uid,rejectionReason:"network_offline"}).catch(Pa=>console.error("Error rejecting call:",Pa)),cr("idle"),ir.current="idle",_r(!1),hs(!1);return}if(pn>=60&&ir.current==="ringing"){console.log("Incoming call timeout - not answered after 60 seconds, auto-rejecting"),clearInterval(Cs),ce({title:"Call Missed",description:"You did not answer the call in time.",variant:"default"});const Pn=t.uid===h.userId?p.sellerId:h.userId,ks=t.uid<Pn?`${t.uid}_${Pn}`:`${Pn}_${t.uid}`,fl=ke(oe,"callSignaling",ks);dt(fl,{status:"rejected",rejectedAt:$e(),rejectedBy:t.uid}).catch(Pa=>console.error("Error rejecting call:",Pa)),cr("idle"),ir.current="idle",_r(!1),hs(!1)}}},1e3);fn.current=Cs}if(We==="ringing"&&be.status==="calling"&&be.callerId&&be.callerId!==t.uid){console.log("Call still ringing, status:",be.status);return}(be.status==="ended"||be.status==="rejected")&&(We==="ringing"||Fe||rt)&&(console.log("Call ended/rejected remotely, status:",be.status),cr("idle"),ir.current="idle",Fe||rt?_n():(_r(!1),hs(!1))),We==="ringing"&&be.status!=="calling"&&be.status!=="answered"&&be.status!=="ended"&&be.status!=="rejected"&&(console.log("Call cancelled by caller (status changed to:",be.status,")"),cr("idle"),ir.current="idle")});return()=>{console.log("Cleaning up incoming call listener"),Ee()}},[p,h,t,Ot,rr]);const Gc=ee=>{const Se=ee.target.files;if(Se){const we=Array.from(Se);M(Ae=>[...Ae,...we])}},Mm=ee=>{M(Se=>Se.filter((we,Ae)=>Ae!==ee))},ho=ee=>{if(ee===0)return"0 Bytes";const Se=1024,we=["Bytes","KB","MB","GB"],Ae=Math.floor(Math.log(ee)/Math.log(Se));return parseFloat((ee/Math.pow(Se,Ae)).toFixed(2))+" "+we[Ae]},$m=async()=>{try{const ee=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),Se=new MediaRecorder(ee,{mimeType:"audio/webm;codecs=opus"}),we=[];Se.ondataavailable=Ee=>{Ee.data.size>0&&we.push(Ee.data)},Se.onstop=()=>{const Ee=new Blob(we,{type:"audio/webm"});ue(Ee),U(we),ee.getTracks().forEach(Le=>Le.stop())},Se.onerror=Ee=>{console.error("Recording error:",Ee),D(!1),ee.getTracks().forEach(Le=>Le.stop())},Se.start(100),Q(Se),D(!0),K(0),U([]);const Ae=setInterval(()=>{K(Ee=>Ee+1)},1e3);Se.timer=Ae}catch(ee){console.error("Error starting recording:",ee),ce({title:"Error",description:"Could not access microphone",variant:"destructive"})}},Nd=()=>{G&&B&&(G.stop(),D(!1),G.timer&&clearInterval(G.timer))},Sd=()=>{G&&B&&(G.stop(),D(!1),ue(null),U([]),K(0),G.timer&&clearInterval(G.timer))},$y=async()=>{var ee;if(!(!Y||!p||!d||!t)){ye(!0);try{const Se=t.uid===p.sellerId,we=await new Promise(Ee=>{const Le=new FileReader;Le.onload=()=>Ee(Le.result),Le.readAsDataURL(Y)}),Ae=[{name:`voice-message-${Date.now()}.webm`,type:"audio/webm",size:Y.size,lastModified:Date.now(),base64:we}];await ni(Ze(oe,"chatMessages"),{enquiryId:d,sellerId:p.sellerId,senderId:t.uid,senderName:((ee=Z[t.uid])==null?void 0:ee.fullName)||"User",senderType:Se?"seller":"buyer",message:` Voice message (${Math.floor(V/60)}:${(V%60).toString().padStart(2,"0")})`,attachments:Ae,timestamp:$e()}),ue(null),U([]),K(0)}catch(Se){console.error("Error sending voice message:",Se),ce({title:"Error",description:"Failed to send voice message",variant:"destructive"})}finally{ye(!1)}}},Ed=ee=>{const Se=Math.floor(ee/60),we=ee%60;return`${Se}:${we.toString().padStart(2,"0")}`},hl=(ee,Se=.8)=>new Promise(we=>{const Ae=document.createElement("canvas"),Ee=Ae.getContext("2d"),Le=document.createElement("img");Le.onload=()=>{let{width:We,height:Fe}=Le;We>Fe&&We>800?(Fe=Fe*800/We,We=800):Fe>800&&(We=We*800/Fe,Fe=800),Ae.width=We,Ae.height=Fe,Ee.drawImage(Le,0,0,We,Fe),Ae.toBlob(rt=>{if(rt){const it=Object.assign(rt,{name:ee.name,lastModified:Date.now()});we(it)}else we(ee)},"image/jpeg",Se)},Le.src=URL.createObjectURL(ee)}),Ea=ee=>new Promise(Se=>{if(ee.size<=3*1024*1024){console.log("Audio file is small enough, no compression needed"),Se(ee);return}console.log("Audio file is large, but compression is complex - using original"),Se(ee)}),_d=ee=>new Promise(Se=>{if(ee.size<=20*1024*1024){Se(ee);return}Se(ee)}),EN=()=>{Ve.current&&(Ve.current.scrollTop=Ve.current.scrollHeight)},Ly=()=>{if(!d||!h||!t)return[];const ee=[...m].sort((Se,we)=>{var Le,be;const Ae=(Le=Se.createdAt)!=null&&Le.toDate?Se.createdAt.toDate():new Date(Se.createdAt),Ee=(be=we.createdAt)!=null&&be.toDate?we.createdAt.toDate():new Date(we.createdAt);return Ae.getTime()-Ee.getTime()});if(t.uid===h.userId){const Se=h.selectedPlanId||"free";let we=2;switch(Se){case"free":we=2;break;case"basic":we=5;break;case"standard":we=10;break;case"premium":case"pro":we=-1;break;default:we=2}return we===-1?ee:ee.slice(0,we)}return ee.filter(Se=>Se.sellerId===t.uid)},Fy=()=>!h||!t||t.uid===h.userId||!m.find(we=>we.sellerId===t.uid)||h.isPremium?!1:m.findIndex(we=>we.sellerId===t.uid)>=2,Pr=ee=>!h||!t||!h.isPremium&&!c.premiumSubscription&&m.findIndex(we=>we.id===ee.id)>=2?!1:t.uid===h.userId?!0:t.uid!==ee.sellerId?!1:!h.isPremium&&!c.premiumSubscription?m.findIndex(we=>we.sellerId===t.uid)<2:!0,Lm=ee=>{d&&v(ee)},Fm=()=>{d&&(o(d),X(!1),ce({title:"Premium Unlocked! ",description:"You can now view all responses for this enquiry"}))};g.useEffect(()=>{EN()},[j]),g.useEffect(()=>{const ee=Se=>{Ce.current&&!Ce.current.contains(Se.target)&&W(!1)};return document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[]),g.useEffect(()=>()=>{G&&B&&(G.stop(),G.timer&&clearInterval(G.timer))},[G,B]);const Vy=ee=>ee?(ee.toDate?ee.toDate():new Date(ee)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Recently",Vm=ee=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(ee);return g.useEffect(()=>()=>{document.querySelectorAll("[data-image-overlay]").forEach(Se=>Se.remove())},[]),_?i.jsx(io,{message:"Loading responses"}):h&&m.length===0&&!_?i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(H,{variant:"ghost",onClick:()=>u("/my-enquiries"),className:"p-2 hover:bg-slate-100 rounded-lg",children:i.jsx(wn,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Enquiry Responses"}),i.jsx("p",{className:"text-slate-600",children:"View and chat with approved sellers"})]})]})}),i.jsx(xe,{className:"mb-8 border-0 shadow-lg",children:i.jsx(Ue,{className:"p-6",children:i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:[h.title,h.isUrgent&&i.jsx(Te,{variant:"destructive",className:"ml-2 text-xs",children:"Urgent"})]}),i.jsx("p",{className:"text-slate-600 mb-3",children:h.description}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500",children:[i.jsx(Te,{variant:"outline",children:h.category}),i.jsxs("span",{children:["Budget: ",Vm(h.budget)]}),h.location&&i.jsxs("span",{children:[" ",h.location]})]})]})})})}),i.jsx(xe,{className:"border-0 shadow-lg",children:i.jsxs(Ue,{className:"p-16 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(yr,{className:"h-12 w-12 text-slate-600"})}),i.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"No Responses Yet"}),i.jsx("p",{className:"text-slate-600 text-lg mb-6 max-w-md mx-auto",children:"Your enquiry hasn't received any approved responses yet. Sellers are reviewing your request and will respond soon."}),i.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[i.jsxs(H,{onClick:()=>window.history.back(),variant:"outline",className:"border-slate-300 text-slate-700 hover:bg-slate-50",children:[i.jsx(wn,{className:"h-4 w-4 mr-2"}),"Back to My Enquiries"]}),i.jsx(H,{onClick:()=>u("/"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Browse More Enquiries"})]})]})})]})})}):h?i.jsxs(wt,{children:[i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[i.jsx("div",{className:"mb-4 sm:mb-6 lg:mb-8 rounded-lg overflow-hidden shadow-lg",children:i.jsxs("div",{className:"bg-gray-800 px-4 sm:px-6 py-4 sm:py-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(H,{variant:"ghost",onClick:()=>u("/my-enquiries"),className:"p-2 hover:bg-gray-700 rounded-lg min-touch text-white",children:i.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),i.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2",children:i.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black text-white tracking-tight",children:"Chat"})}),i.jsx("div",{className:"w-10"})," "]}),i.jsx("div",{className:"bg-gray-800 rounded-lg p-2 sm:p-3",children:i.jsxs("div",{className:"text-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm sm:text-base font-bold",children:h.title}),i.jsx("div",{className:"text-lg sm:text-xl font-bold",children:"1"})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-300 mb-1",children:[i.jsx("span",{children:"fulltime"}),i.jsx("span",{children:h.category})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-300 mb-1",children:[i.jsxs("span",{children:["Budget: ",Vm(h.budget)]}),i.jsxs("span",{children:[" ",h.location]})]}),i.jsx("div",{className:"text-center text-xs text-gray-300",children:"Approved Responses"})]})})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-8",children:[i.jsxs("div",{className:"lg:col-span-1 order-2 lg:order-1",children:[i.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-slate-900 mb-2 sm:mb-3 lg:mb-4",children:"Approved Responses"}),m.length===0?i.jsxs(xe,{className:"p-4 sm:p-6 lg:p-8 text-center border-0 shadow-lg",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx(yr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600"})}),i.jsx("h4",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"No response till now"}),i.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"We are still pushing your enquiry to the right sellers"})]}):i.jsx("div",{className:"space-y-3 sm:space-y-4",children:Ly().map((ee,Se)=>i.jsx("div",{className:`cursor-pointer border-0 shadow-lg transition-all duration-300 min-touch rounded-lg border bg-card text-card-foreground ${(p==null?void 0:p.id)===ee.id?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-xl"}`,onClick:()=>Lm(ee),children:i.jsxs("div",{className:"p-3 sm:p-4 pointer-events-none",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1 mr-2",children:[(t==null?void 0:t.uid)===(h==null?void 0:h.userId)&&i.jsxs(Te,{variant:"outline",className:"text-xs font-medium",children:["Response #",Se+1]}),i.jsx("h4",{className:"font-semibold text-slate-900 line-clamp-2 text-sm sm:text-base",children:ee.title})]}),i.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:ee.isIdentityVerified&&i.jsxs(Te,{className:"bg-emerald-100 text-emerald-800 text-xs",children:[i.jsx(Cr,{className:"h-3 w-3 mr-1"}),"Verified"]})})]}),i.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mb-2 sm:mb-3 line-clamp-2",children:ee.message}),i.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-slate-500",children:[i.jsxs("span",{className:"font-semibold text-emerald-600",children:["",ee.price]}),i.jsxs("span",{children:[ee.imageCount," images"]})]})]})},ee.id))}),Fy()&&i.jsx(xe,{className:"border-0 shadow-lg bg-green-50 border-green-200 md:hidden mt-6 relative z-0",children:i.jsx(Ue,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(xt,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"Response Submitted Successfully"}),i.jsx("p",{className:"text-green-700 text-sm",children:"Your response has been submitted. The buyer will review it and get back to you if interested."})]})]})})})]}),i.jsx("div",{className:"lg:col-span-2 order-1 lg:order-2 min-h-0",children:p?i.jsxs(i.Fragment,{children:[i.jsxs(xe,{className:"border border-slate-200 shadow-sm h-[600px] sm:h-[500px] lg:h-[600px] flex flex-col bg-white",children:[i.jsxs(jt,{className:"pb-2 sm:pb-3 border-b border-slate-200 bg-slate-50/50 p-3 sm:p-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0",children:[i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[i.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 bg-slate-600 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(yr,{className:"h-3.5 w-3.5 lg:h-4 lg:w-4 text-white"})}),i.jsx("div",{className:"min-w-0 flex-1",children:i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[i.jsx("h2",{className:"text-xs sm:text-sm lg:text-base font-medium text-slate-900",children:"Chat"}),i.jsx("span",{className:"text-xs text-slate-500",children:"with"}),i.jsx(X_,{name:(t==null?void 0:t.uid)===(h==null?void 0:h.userId)?((By=Z[p.sellerId])==null?void 0:By.fullName)||"Seller":((Uy=Z[h==null?void 0:h.userId])==null?void 0:Uy.fullName)||"Buyer",isVerified:(t==null?void 0:t.uid)===(h==null?void 0:h.userId)?((Bm=Z[p.sellerId])==null?void 0:Bm.isProfileVerified)||!1:((Um=Z[h==null?void 0:h.userId])==null?void 0:Um.isProfileVerified)||!1,className:"text-xs"}),h&&i.jsx(Te,{variant:h.status==="live"?"default":"secondary",className:"text-[10px] sm:text-xs h-4 lg:h-5 px-1.5 lg:px-2 flex-shrink-0",children:h.status==="live"?"Live":"Ended"})]})})]}),i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0 flex-wrap sm:flex-nowrap",children:[Pr(p)&&i.jsx(H,{onClick:()=>{Ot||rr?_n():Sa()},variant:"ghost",size:"sm",className:`h-8 w-8 sm:h-9 sm:w-9 p-0 rounded-md transition-colors duration-200 flex-shrink-0 relative z-10 ${Ot||rr?"text-red-600 hover:text-red-700 hover:bg-red-50":"text-blue-600 hover:text-blue-700 hover:bg-blue-50"}`,disabled:nr==="ringing",title:Ot||rr?"End Call":"Start Call",children:Ot||rr?i.jsx(S2,{className:"h-4 w-4"}):i.jsx(E2,{className:"h-4 w-4"})}),h&&(t==null?void 0:t.uid)===h.userId&&i.jsx(H,{onClick:jd,variant:"outline",size:"sm",className:"text-slate-600 hover:text-green-700 hover:border-green-300 hover:bg-green-50 text-[10px] sm:text-xs font-medium px-2 sm:px-3 py-1.5 h-8 sm:h-9 rounded-md border-slate-200 transition-colors duration-200 flex-shrink-0 whitespace-nowrap",children:"Deal Closed"}),i.jsx(H,{onClick:jN,variant:"outline",size:"sm",className:"text-slate-600 hover:text-orange-700 hover:border-orange-300 hover:bg-orange-50 text-[10px] sm:text-xs font-medium px-2 sm:px-3 py-1.5 h-8 sm:h-9 rounded-md border-slate-200 transition-colors duration-200 flex-shrink-0 whitespace-nowrap",children:"End Chat"}),i.jsx(H,{onClick:NN,variant:"outline",size:"sm",className:"text-slate-600 hover:text-red-700 hover:border-red-300 hover:bg-red-50 text-[10px] sm:text-xs font-medium px-2 sm:px-3 py-1.5 h-8 sm:h-9 rounded-md border-slate-200 transition-colors duration-200 flex-shrink-0 whitespace-nowrap",children:"Block User"}),i.jsx(H,{variant:"ghost",size:"sm",onClick:wd,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-100 h-8 w-8 sm:h-9 sm:w-9 p-0 rounded-md transition-colors duration-200 flex-shrink-0",children:i.jsx(Qr,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"pt-2 border-t border-slate-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("h3",{className:"text-xs lg:text-sm font-medium text-slate-900 truncate",children:[h.title,h.isUrgent&&i.jsx(Te,{variant:"destructive",className:"ml-1 lg:ml-2 text-xs h-3 lg:h-4 px-1",children:"Urgent"})]}),i.jsx("p",{className:"text-xs text-slate-500 truncate",children:h.description})]}),i.jsx("div",{className:"text-right ml-2 lg:ml-3 flex-shrink-0",children:i.jsxs("div",{className:"text-xs lg:text-sm font-semibold text-emerald-600",children:["",p.price]})})]})})]}),i.jsx("div",{ref:Ve,id:"chat-messages",className:"flex-1 overflow-y-auto bg-slate-50/30",children:j.length===0?i.jsxs("div",{className:"text-center py-8 sm:py-12 lg:py-16",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-16 lg:h-16 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3 lg:mb-4",children:i.jsx(yr,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-slate-500"})}),i.jsx("h4",{className:"text-xs sm:text-sm lg:text-base font-medium text-slate-700 mb-1 lg:mb-2",children:"Start chatting"}),(t==null?void 0:t.uid)!==(p==null?void 0:p.sellerId)&&i.jsx("p",{className:"text-slate-500 text-xs sm:text-sm max-w-sm mx-auto px-3 sm:px-4",children:"Begin discussing details and negotiating with this seller"})]}):i.jsxs("div",{className:"px-2 sm:px-3 lg:px-4 py-2 sm:py-3 lg:py-4 space-y-1 sm:space-y-1.5 lg:space-y-2",children:[j.map((ee,Se)=>{var we;return i.jsx("div",{className:`flex ${ee.senderId===(t==null?void 0:t.uid)?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[200px] sm:max-w-[240px] lg:max-w-[280px] px-2 sm:px-2.5 lg:px-3 py-1.5 sm:py-2 rounded-lg relative ${ee.senderId===(t==null?void 0:t.uid)?"bg-blue-600 text-white":"bg-white border border-slate-200 text-slate-900"}`,children:[ee.message&&i.jsx("p",{className:"text-xs lg:text-sm leading-relaxed break-words",children:ee.message}),ee.attachments&&ee.attachments.length>0&&i.jsx("div",{className:"mt-2 space-y-2",children:ee.attachments.map((Ae,Ee)=>i.jsxs("div",{children:[Ae.type.startsWith("image/")&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:Ae.base64,alt:Ae.name,className:"max-w-[200px] max-h-[200px] rounded-lg object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{document.querySelectorAll("[data-image-overlay]").forEach(at=>at.remove());const be=document.createElement("div");be.setAttribute("data-image-overlay","true"),be.style.position="fixed",be.style.top="0",be.style.left="0",be.style.width="100vw",be.style.height="100vh",be.style.backgroundColor="rgba(0, 0, 0, 0.9)",be.style.zIndex="9999",be.style.display="flex",be.style.alignItems="center",be.style.justifyContent="center",be.style.cursor="pointer";const We=document.createElement("img");We.src=Ae.base64,We.style.maxWidth="90vw",We.style.maxHeight="90vh",We.style.objectFit="contain",We.style.borderRadius="8px",We.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",We.style.cursor="default";const Fe=document.createElement("button");Fe.innerHTML="",Fe.style.position="absolute",Fe.style.top="20px",Fe.style.right="20px",Fe.style.background="rgba(255, 255, 255, 0.2)",Fe.style.border="none",Fe.style.borderRadius="50%",Fe.style.width="40px",Fe.style.height="40px",Fe.style.color="white",Fe.style.fontSize="20px",Fe.style.cursor="pointer",Fe.style.display="flex",Fe.style.alignItems="center",Fe.style.justifyContent="center",be.appendChild(We),be.appendChild(Fe),document.body.appendChild(be);const rt=()=>{try{be&&be.parentNode&&be.parentNode.removeChild(be)}catch(at){console.error("Error removing overlay:",at)}};be.onclick=at=>{at.target===be&&rt()},Fe.onclick=rt;const it=at=>{at.key==="Escape"&&(rt(),document.removeEventListener("keydown",it))};document.addEventListener("keydown",it)}}),i.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:ho(Ae.size)})]}),Ae.type.startsWith("audio/")&&i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg border border-gray-200",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(lu,{className:"h-6 w-6 text-gray-800"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Voice Message"}),i.jsx("p",{className:"text-xs text-gray-600",children:ho(Ae.size)})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("audio",{src:Ae.base64,controls:!0,preload:"metadata",className:"h-8 w-32",style:{backgroundColor:"transparent",border:"none",outline:"none"},onError:Le=>{console.error("Audio error:",Le);const be=Le.target;console.log("Audio failed to load:",be.src)},onLoadStart:()=>console.log("Audio loading started"),onCanPlay:()=>console.log("Audio can play")})})]}),!Ae.type.startsWith("image/")&&!Ae.type.startsWith("audio/")&&i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gradient-to-r from-slate-50 to-gray-50 rounded-lg border border-slate-200",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(N2,{className:"h-6 w-6 text-slate-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-slate-700 truncate",children:Ae.name}),i.jsx("p",{className:"text-xs text-slate-500",children:ho(Ae.size)})]}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{const Le=document.createElement("a");if(Ae.base64)Le.href=Ae.base64;else if(Ae.blobUrl)Le.href=Ae.blobUrl;else{const be=new Blob([Ae],{type:Ae.type});Le.href=URL.createObjectURL(be)}Le.download=Ae.name,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le)},className:"h-8 w-8 p-0 text-slate-600 hover:text-blue-600 hover:bg-blue-100",children:""})]})]},Ee))}),i.jsxs("div",{className:"flex items-center justify-end space-x-1 mt-1",children:[i.jsx("span",{className:`text-xs ${ee.senderId===(t==null?void 0:t.uid)?"text-blue-100":"text-slate-400"}`,children:Vy(ee.timestamp)}),ee.senderId===(t==null?void 0:t.uid)&&i.jsx("div",{className:"ml-1",children:i.jsx(xt,{className:"h-2.5 w-2.5 lg:h-3 lg:w-3 text-blue-100"})})]}),ee.senderId!==(t==null?void 0:t.uid)&&i.jsx("div",{className:"mt-1",children:i.jsx(X_,{name:ee.senderName,isVerified:((we=Z[ee.senderId])==null?void 0:we.isProfileVerified)||!1,className:"text-xs"})})]})},ee.id||`message-${Se}`)}),A&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"px-2.5 lg:px-3 py-1.5 lg:py-2 rounded-lg bg-white border border-slate-200",children:i.jsx("div",{className:"flex items-center space-x-1",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})}),I&&i.jsx("div",{className:"flex justify-center py-2",children:i.jsxs("div",{className:"flex items-center space-x-2 text-xs px-3 py-1 rounded-full bg-green-100 text-green-700",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),i.jsx("span",{children:"Live Chat - Real-time"})]})})]})}),i.jsx("div",{className:"border-t border-slate-200 bg-white",children:i.jsxs("div",{className:"p-3 sm:p-4",children:[i.jsx("div",{className:"flex items-center space-x-2 sm:space-x-2 mb-3 sm:mb-4 overflow-x-auto pb-3",children:(t==null?void 0:t.uid)===(p==null?void 0:p.sellerId)?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>C("Payment: 50% advance, 50% on delivery"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-blue-50 text-blue-700 border border-blue-200 rounded-md hover:bg-blue-100 hover:border-blue-300 transition-colors duration-200 font-medium min-touch",children:" Payment"}),i.jsx("button",{onClick:()=>C("Delivery: 3-5 days"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-green-50 text-green-700 border border-green-200 rounded-md hover:bg-green-100 hover:border-green-300 transition-colors duration-200 font-medium",children:" Delivery"}),i.jsx("button",{onClick:()=>C("Bulk discounts available"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-gray-50 text-gray-700 border border-gray-200 rounded-md hover:bg-gray-100 hover:border-gray-300 transition-colors duration-200 font-medium",children:" Bulk"}),i.jsx("button",{onClick:()=>C("Quality guarantee included"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-emerald-50 text-emerald-700 border border-emerald-200 rounded-md hover:bg-emerald-100 hover:border-emerald-300 transition-colors duration-200 font-medium",children:" Quality"}),i.jsx("button",{onClick:()=>C("Can we schedule a meetup to discuss details?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-orange-50 text-orange-700 border border-orange-200 rounded-md hover:bg-orange-100 hover:border-orange-300 transition-colors duration-200 font-medium",children:" Meetup"}),i.jsx("button",{onClick:()=>C("I can provide samples for testing"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-pink-50 text-pink-700 border border-pink-200 rounded-md hover:bg-pink-100 hover:border-pink-300 transition-colors duration-200 font-medium",children:" Samples"})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>C("Can you provide more details about pricing?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-blue-50 text-blue-700 border border-blue-200 rounded-md hover:bg-blue-100 hover:border-blue-300 transition-colors duration-200 font-medium",children:" Pricing"}),i.jsx("button",{onClick:()=>C("What's the delivery timeline?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-green-50 text-green-700 border border-green-200 rounded-md hover:bg-green-100 hover:border-green-300 transition-colors duration-200 font-medium",children:" Timeline"}),i.jsx("button",{onClick:()=>C("Can you share more images?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-gray-50 text-gray-700 border border-gray-200 rounded-md hover:bg-gray-100 hover:border-gray-300 transition-colors duration-200 font-medium",children:" Images"}),i.jsx("button",{onClick:()=>C("What are the payment terms?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-emerald-50 text-emerald-700 border border-emerald-200 rounded-md hover:bg-emerald-100 hover:border-emerald-300 transition-colors duration-200 font-medium",children:" Terms"}),i.jsx("button",{onClick:()=>C("Can we meet in person to discuss?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-orange-50 text-orange-700 border border-orange-200 rounded-md hover:bg-orange-100 hover:border-orange-300 transition-colors duration-200 font-medium",children:" Meetup"}),i.jsx("button",{onClick:()=>C("Do you have samples I can check?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-pink-50 text-pink-700 border border-pink-200 rounded-md hover:bg-pink-100 hover:border-pink-300 transition-colors duration-200 font-medium",children:" Samples"}),i.jsx("button",{onClick:()=>C("What's your best price for this?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-yellow-50 text-yellow-700 border border-yellow-200 rounded-md hover:bg-yellow-100 hover:border-yellow-300 transition-colors duration-200 font-medium",children:" Best Price"}),i.jsx("button",{onClick:()=>C("Can you provide references or reviews?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-indigo-50 text-indigo-700 border border-indigo-200 rounded-md hover:bg-indigo-100 hover:border-indigo-300 transition-colors duration-200 font-medium",children:" Reviews"})]})}),R.length>0&&i.jsxs("div",{className:"mb-3 p-2 bg-slate-50 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["Attachments (",R.length,")"]}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>M([]),className:"text-xs h-6 px-2",children:"Clear All"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:R.map((ee,Se)=>{const we=`${Date.now()}-${Se}`,Ae=he[we],Ee=ie[we]||0;return i.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-md border p-2 text-xs relative",children:[ee.type.startsWith("image/")?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:URL.createObjectURL(ee),alt:ee.name,className:"w-8 h-8 rounded object-cover"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"truncate font-medium text-slate-700",children:ee.name}),i.jsx("p",{className:"text-slate-500",children:ho(ee.size)})]})]}):ee.type.startsWith("audio/")?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 rounded bg-gray-100 flex items-center justify-center",children:i.jsx(lu,{className:"h-4 w-4 text-gray-800"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"truncate font-medium text-slate-700",children:ee.name}),i.jsx("p",{className:"text-slate-500",children:ho(ee.size)})]})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 rounded bg-slate-100 flex items-center justify-center",children:i.jsx(N2,{className:"h-4 w-4 text-slate-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"truncate font-medium text-slate-700",children:ee.name}),i.jsx("p",{className:"text-slate-500",children:ho(ee.size)})]})]}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>Mm(Se),className:"h-5 w-5 p-0 text-slate-400 hover:text-red-500",disabled:Ae,children:i.jsx(Qr,{className:"h-3 w-3"})}),Ae&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 rounded-md flex items-center justify-center",children:i.jsxs("div",{className:"w-full mx-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-slate-600",children:"Uploading..."}),i.jsxs("span",{className:"text-xs text-slate-600",children:[Ee,"%"]})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5",children:i.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Ee}%`}})})]})})]},Se)})})]}),B&&i.jsxs("div",{className:"mb-3 p-4 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full animate-pulse"}),i.jsx("div",{className:"absolute inset-0 w-4 h-4 bg-red-500 rounded-full animate-ping opacity-75"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-semibold text-red-700",children:"Recording..."}),i.jsx("div",{className:"text-lg text-red-600 font-mono font-bold",children:Ed(V)})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:Sd,className:"text-red-600 hover:text-red-700 hover:bg-red-100 rounded-full p-2",children:i.jsx(Qr,{className:"h-4 w-4"})}),i.jsx(H,{variant:"ghost",size:"sm",onClick:Nd,className:"text-red-600 hover:text-red-700 hover:bg-red-100 rounded-full p-2",children:i.jsx(sue,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"mt-2 text-xs text-red-500 text-center",children:"Hold to record, release to send"})]}),Y&&!B&&i.jsxs("div",{className:"mb-3 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(lu,{className:"h-6 w-6 text-blue-600"}),i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full animate-pulse"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-blue-700",children:"Voice Message"}),i.jsx("p",{className:"text-lg text-blue-600 font-mono font-bold",children:Ed(V)})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{ue(null),K(0)},className:"text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-full p-2",children:i.jsx(Qr,{className:"h-4 w-4"})}),i.jsx(H,{onClick:$y,disabled:te,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 rounded-full p-2",children:te?i.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(l_,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"mt-2 text-xs text-blue-500 text-center",children:"Tap to send voice message"})]}),i.jsxs("div",{className:"flex items-end space-x-2",children:[!B&&!Y&&i.jsx(H,{variant:"ghost",size:"sm",disabled:!Pr(p),onMouseDown:()=>{Pr(p)&&(z(!0),$m())},onMouseUp:()=>{Pr(p)&&(z(!1),Nd())},onMouseLeave:()=>{Pr(p)&&(z(!1),Nd())},onTouchStart:ee=>{ee.preventDefault(),Pr(p)&&(z(!0),$m())},onTouchEnd:ee=>{ee.preventDefault(),Pr(p)&&(z(!1),Nd())},className:`h-9 w-9 lg:h-10 lg:w-10 p-0 transition-all duration-150 ${Pr(p)?F?"text-white bg-red-600 scale-110 shadow-lg":"text-red-600 hover:text-red-700 hover:bg-red-50 active:bg-red-100 active:scale-95":"md:text-red-600 md:hover:text-red-700 md:hover:bg-red-50 md:active:bg-red-100 md:active:scale-95 text-slate-300 cursor-not-allowed"}`,children:i.jsx(lu,{className:"h-4 w-4"})}),i.jsxs("div",{className:"relative",ref:Ce,children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>Pr(p)&&W(!q),disabled:!Pr(p),className:`h-9 w-9 lg:h-10 lg:w-10 p-0 ${Pr(p)?"text-slate-600 hover:text-blue-600 hover:bg-blue-50":"md:text-slate-600 md:hover:text-blue-600 md:hover:bg-blue-50 text-slate-300 cursor-not-allowed"}`,children:i.jsx(Xce,{className:"h-4 w-4"})}),q&&i.jsx("div",{className:"absolute bottom-full left-0 mb-2 bg-white border border-slate-200 rounded-lg shadow-lg p-2 z-10",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsxs("label",{className:"flex items-center space-x-2 px-3 py-2 text-sm hover:bg-slate-50 rounded cursor-pointer",children:[i.jsx(q1,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{children:"Image"}),i.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Gc,className:"hidden"})]}),i.jsxs("label",{className:"flex items-center space-x-2 px-3 py-2 text-sm hover:bg-slate-50 rounded cursor-pointer",children:[i.jsx(lu,{className:"h-4 w-4 text-gray-800"}),i.jsx("span",{children:"Audio"}),i.jsx("input",{type:"file",accept:"audio/*",multiple:!0,onChange:Gc,className:"hidden"})]}),i.jsxs("label",{className:"flex items-center space-x-2 px-3 py-2 text-sm hover:bg-slate-50 rounded cursor-pointer",children:[i.jsx(N2,{className:"h-4 w-4 text-slate-600"}),i.jsx("span",{children:"File"}),i.jsx("input",{type:"file",multiple:!0,onChange:Gc,className:"hidden"})]})]})})]}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(td,{placeholder:Pr(p)?"Type a message...":"Chat not available - Response submitted successfully",value:E,onChange:ee=>{Pr(p)&&(C(ee.target.value),ee.target.value.length>0&&Dm())},disabled:!Pr(p),className:`resize-none border-slate-200 focus:border-slate-400 focus:ring-slate-400 rounded-lg px-3 py-2 pr-12 text-sm min-touch ${Pr(p)?"":"bg-slate-50 text-slate-400 cursor-not-allowed"}`,rows:1,style:{minHeight:"50px",maxHeight:"100px"},onKeyPress:ee=>{ee.key==="Enter"&&!ee.shiftKey&&Pr(p)&&(ee.preventDefault(),(t==null?void 0:t.uid)===(p==null?void 0:p.sellerId)?uo():co())},onKeyDown:ee=>{ee.key==="Enter"&&!ee.shiftKey&&Pr(p)&&(ee.preventDefault(),(t==null?void 0:t.uid)===(p==null?void 0:p.sellerId)?uo():co())}}),i.jsxs("div",{className:"absolute bottom-1.5 lg:bottom-2 right-1.5 lg:right-2 text-xs text-slate-400",children:[E.length,"/500"]})]}),i.jsx(H,{onClick:()=>{Pr(p)&&((t==null?void 0:t.uid)===(p==null?void 0:p.sellerId)?uo():co())},disabled:!Pr(p)||!E.trim()&&R.length===0||Object.values(he).some(ee=>ee),className:`h-8 w-8 sm:h-9 sm:w-9 lg:h-10 lg:w-10 p-0 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed min-touch ${Pr(p)?"bg-slate-600 hover:bg-slate-700 text-white":"md:bg-slate-600 md:hover:bg-slate-700 md:text-white bg-slate-300 text-slate-500"}`,children:Object.values(he).some(ee=>ee)?i.jsx("div",{className:"h-3.5 w-3.5 lg:h-4 lg:w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(l_,{className:"h-3.5 w-3.5 lg:h-4 lg:w-4"})})]})]})})]}),!Pr(p)&&i.jsx(xe,{className:"border border-slate-200 shadow-sm h-[500px] lg:h-[600px] flex items-center justify-center bg-amber-50/30",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-amber-200 rounded-full flex items-center justify-center mx-auto mb-2 lg:mb-3",children:i.jsx(jn,{className:"h-6 w-6 lg:h-8 lg:w-8 text-amber-600"})}),i.jsx("h3",{className:"text-sm lg:text-base font-medium text-amber-800 mb-1",children:"Chat Not Available"}),i.jsx("p",{className:"text-amber-700 text-xs lg:text-sm px-4",children:h!=null&&h.isPremium?"You can only chat with your own response":"Only the first 2 sellers can chat with the buyer for non-premium enquiries"})]})})]}):i.jsx(xe,{className:"border border-slate-200 shadow-sm h-[500px] lg:h-[600px] flex items-center justify-center bg-slate-50/30",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-2 lg:mb-3",children:i.jsx(yr,{className:"h-6 w-6 lg:h-8 lg:w-8 text-slate-500"})}),i.jsx("h3",{className:"text-sm lg:text-base font-medium text-slate-700 mb-1",children:"Select a response"}),i.jsx("p",{className:"text-slate-500 text-xs lg:text-sm px-4",children:"Choose from the left to start chatting"})]})})})]})]})}),t&&h&&t.uid===h.userId&&h.isPremium!==!0&&m.length>2&&i.jsxs("div",{className:"my-4 text-center",children:[i.jsxs("p",{className:"text-amber-700 text-sm mb-2",children:["Upgrade to Premium to view all ",m.length," responses."]}),i.jsx(H,{variant:"default",onClick:Fm,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Upgrade to Premium (99+)"})]}),i.jsx("audio",{ref:st,autoPlay:!0,muted:!0,playsInline:!0,style:{display:"none"}}),i.jsx("audio",{ref:Rt,autoPlay:!0,playsInline:!0,style:{display:"none"}}),(Ot||rr||nr==="ringing")&&i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 sm:p-8 max-w-sm w-[90%] mx-auto",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsxs("div",{className:"relative mx-auto mb-4",children:[i.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:nr==="active"?i.jsx(Zce,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600 animate-pulse"}):i.jsx(E2,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"})}),(nr==="calling"||nr==="ringing")&&i.jsx("div",{className:"absolute inset-0 w-20 h-20 sm:w-24 sm:h-24 bg-blue-200 rounded-full animate-ping opacity-75"})]}),i.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-slate-900 mb-2",children:[nr==="ringing"&&"Incoming Call",nr==="calling"&&"Calling...",nr==="connecting"&&"Connecting...",nr==="active"&&"Call Active"]}),i.jsx("p",{className:"text-sm text-slate-600 mb-2",children:p&&h&&t&&(t.uid===h.userId?((qy=Z[p.sellerId])==null?void 0:qy.fullName)||"Seller":((_a=Z[h.userId])==null?void 0:_a.fullName)||"Buyer")}),(nr==="calling"||nr==="ringing")&&mn>0&&i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-slate-500",children:mn<60?`${mn}s / 60s`:"Timeout"}),!navigator.onLine&&i.jsx("p",{className:"text-xs text-red-500 font-medium",children:" No Internet Connection"})]}),nr==="active"&&yi.current&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-xs text-slate-500",children:[Math.floor((Date.now()-yi.current)/1e3),"s"]}),!navigator.onLine&&i.jsx("p",{className:"text-xs text-red-500 font-medium",children:" Connection Lost"})]}),nr==="connecting"&&i.jsx(i.Fragment,{children:!navigator.onLine&&i.jsx("p",{className:"text-xs text-red-500 font-medium",children:" No Internet - Cannot Connect"})})]}),i.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[nr==="ringing"&&i.jsxs(i.Fragment,{children:[i.jsx(H,{onClick:My,className:"bg-green-600 hover:bg-green-700 text-white rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center",children:i.jsx(E2,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),i.jsx(H,{onClick:_n,variant:"destructive",className:"bg-red-600 hover:bg-red-700 text-white rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center",children:i.jsx(S2,{className:"h-6 w-6 sm:h-7 sm:w-7"})})]}),(nr==="calling"||nr==="connecting"||nr==="active")&&i.jsx(H,{onClick:_n,variant:"destructive",className:"bg-red-600 hover:bg-red-700 text-white rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center",children:i.jsx(S2,{className:"h-6 w-6 sm:h-7 sm:w-7"})})]}),nr==="active"&&i.jsx("div",{className:"text-center mt-4",children:i.jsx("p",{className:"text-xs text-slate-500",children:"Call in progress"})})]})}),le&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998] transition-opacity duration-200",onClick:()=>de(!1)}),i.jsx("div",{className:"fixed inset-x-0 bottom-0 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 z-[9999] transition-all duration-300",children:i.jsxs(xe,{className:"mx-3 sm:mx-auto sm:w-[400px] bg-white shadow-2xl border border-gray-200 rounded-t-2xl sm:rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:i.jsx(It,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})}),i.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-bold text-white",children:"End Chat"})]}),i.jsx("button",{onClick:()=>de(!1),className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg hover:bg-white/10 transition-colors flex items-center justify-center touch-manipulation",children:i.jsx(Qr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsx("p",{className:"text-xs sm:text-sm lg:text-base text-gray-700 leading-relaxed mb-6 sm:mb-8",children:"Are you sure you want to end this chat? This will delete all chat history between you and this user."}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3",children:[i.jsx("button",{onClick:()=>de(!1),className:"flex-1 px-4 py-2.5 sm:py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-semibold text-xs sm:text-sm lg:text-base hover:bg-gray-50 transition-colors touch-manipulation min-h-[44px] active:scale-95",children:"Cancel"}),i.jsx("button",{onClick:dl,className:"flex-1 px-4 py-2.5 sm:py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg font-semibold text-xs sm:text-sm lg:text-base transition-colors touch-manipulation min-h-[44px] active:scale-95 shadow-sm",children:"End Chat"})]})]})]})})]}),Ge&&Ct&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998] transition-opacity duration-200",onClick:()=>{Xe(!1),vt(null)}}),i.jsx("div",{className:"fixed inset-x-0 bottom-0 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 z-[9999] transition-all duration-300",children:i.jsxs(xe,{className:"mx-3 sm:mx-auto sm:w-[400px] bg-white shadow-2xl border border-gray-200 rounded-t-2xl sm:rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:i.jsx(It,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})}),i.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-bold text-white",children:"Block User"})]}),i.jsx("button",{onClick:()=>{Xe(!1),vt(null)},className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg hover:bg-white/10 transition-colors flex items-center justify-center touch-manipulation",children:i.jsx(Qr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("p",{className:"text-xs sm:text-sm lg:text-base text-gray-700 leading-relaxed mb-6 sm:mb-8",children:["Are you sure you want to block ",i.jsx("span",{className:"font-semibold",children:Ct.name}),"? You will no longer receive messages or calls from this user."]}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3",children:[i.jsx("button",{onClick:()=>{Xe(!1),vt(null)},className:"flex-1 px-4 py-2.5 sm:py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-semibold text-xs sm:text-sm lg:text-base hover:bg-gray-50 transition-colors touch-manipulation min-h-[44px] active:scale-95",children:"Cancel"}),i.jsx("button",{onClick:SN,className:"flex-1 px-4 py-2.5 sm:py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg font-semibold text-xs sm:text-sm lg:text-base transition-colors touch-manipulation min-h-[44px] active:scale-95 shadow-sm",children:"Block User"})]})]})]})})]}),Tt&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998] transition-opacity duration-200",onClick:()=>ht(!1)}),i.jsx("div",{className:"fixed inset-x-0 bottom-0 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 z-[9999] transition-all duration-300",children:i.jsxs(xe,{className:"mx-3 sm:mx-auto sm:w-[400px] bg-white shadow-2xl border border-gray-200 rounded-t-2xl sm:rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-amber-500/20 rounded-lg flex items-center justify-center",children:i.jsx(It,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500"})}),i.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-bold text-white",children:"Close Deal"})]}),i.jsx("button",{onClick:()=>ht(!1),className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg hover:bg-white/10 transition-colors flex items-center justify-center touch-manipulation",children:i.jsx(Qr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsx("p",{className:"text-xs sm:text-sm lg:text-base text-gray-700 leading-relaxed mb-6 sm:mb-8",children:'Are you sure you want to close this deal? This will mark the enquiry as "Deal Closed" and prevent further responses.'}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3",children:[i.jsx("button",{onClick:()=>ht(!1),className:"flex-1 px-4 py-2.5 sm:py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-semibold text-xs sm:text-sm lg:text-base hover:bg-gray-50 transition-colors touch-manipulation min-h-[44px] active:scale-95",children:"Cancel"}),i.jsx("button",{onClick:Dy,className:"flex-1 px-4 py-2.5 sm:py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg font-semibold text-xs sm:text-sm lg:text-base transition-colors touch-manipulation min-h-[44px] active:scale-95 shadow-sm",children:"Close Deal"})]})]})]})})]})]}):i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4 py-8",children:i.jsxs("div",{className:"text-center w-full max-w-sm mx-auto",children:[i.jsx(It,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"Enquiry Not Found"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-5 sm:mb-6 leading-relaxed px-2",children:"The enquiry you're looking for doesn't exist or has been removed."}),i.jsxs(H,{onClick:()=>u("/my-enquiries"),size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm px-4 sm:px-6 bg-gray-800 hover:bg-gray-900 text-white",children:[i.jsx(wn,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-2"}),"Back to My Enquiries"]})]})})})},g2e=({isVerified:t=!1,size:e="sm",className:r=""})=>{if(!t)return null;const n={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},s={sm:"text-xs",md:"text-sm",lg:"text-base"};return i.jsxs(Te,{className:`bg-blue-100 text-blue-800 border-blue-200 ${s[e]} ${r}`,children:[i.jsx(xt,{className:`${n[e]} mr-1`}),"Verified"]})},x2e=()=>{const{enquiryId:t}=oy(),e=Jr(),{user:r}=Rr();mm();const[n,s]=g.useState(null),[a,o]=g.useState([]),[l,c]=g.useState(!0),[u,d]=g.useState("free"),[h,f]=g.useState(!1),[m,x]=g.useState({}),p=async(N,E)=>{if(!(!n||!r))try{const{updateDoc:C,serverTimestamp:_}=await Ju(async()=>{const{updateDoc:R,serverTimestamp:M}=await Promise.resolve().then(()=>NU);return{updateDoc:R,serverTimestamp:M}},void 0),{PAYMENT_PLANS:S}=await Ju(async()=>{const{PAYMENT_PLANS:R}=await Promise.resolve().then(()=>w1e);return{PAYMENT_PLANS:R}},void 0),A=`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,T=S.find(R=>R.id===N);if(!T)throw new Error("Plan not found");const I=await xj(n.id,r.uid,T,A);await yj(r.uid,N,I,n.id);const P=ke(oe,"enquiries",n.id);await C(P,{selectedPlanId:N,selectedPlanPrice:E,isPremium:E>0,updatedAt:_()}),d(N),s({...n,selectedPlanId:N,isPremium:E>0}),f(!1),window.location.reload()}catch(C){console.error("Error updating plan:",C)}};g.useEffect(()=>{if(!t||!r)return;(async()=>{try{const E=await Vt(ke(oe,"enquiries",t));if(E.exists()){const C=E.data();s(C),d(C.selectedPlanId||"free"),console.log(" Enquiry loaded - Current plan:",C.selectedPlanId||"free"),console.log(" Enquiry data:",{id:C.id,isPremium:C.isPremium,selectedPlanId:C.selectedPlanId,title:C.title})}}catch(E){console.error("Error fetching enquiry:",E)}})()},[t,r]),g.useEffect(()=>{if(!t)return;const N=bt(Ze(oe,"sellerSubmissions"),Pt("enquiryId","==",t),ln("createdAt","asc")),E=Fr(N,C=>{const _=[];C.forEach(S=>{_.push({id:S.id,...S.data()})}),o(_),c(!1)});return()=>E()},[t]),g.useEffect(()=>{if(a.length===0)return;(async()=>{const E={};for(const C of a)try{const _=await Vt(ke(oe,"userProfiles",C.sellerId));_.exists()&&(E[C.sellerId]=_.data())}catch(_){console.error("Error fetching profile:",_)}x(E)})()},[a]);const v=()=>{if(!n||!r)return[];if(console.log("DetailedResponses: getVisibleResponses debug:",{enquiryId:n.id,selectedPlanId:n.selectedPlanId,isPremium:n.isPremium,totalResponses:a.length,userIsOwner:r.uid===n.userId,userRole:r.uid===n.userId?"buyer":"seller"}),r.uid===n.userId){const N=n.selectedPlanId||"free";let E=2;switch(N){case"free":E=2;break;case"basic":E=5;break;case"standard":E=10;break;case"premium":case"pro":E=-1;break;default:E=2}if(E===-1)return console.log("DetailedResponses: Unlimited plan - returning all responses:",a.length),a;const C=a.slice(0,E);return console.log(`DetailedResponses: ${N} plan - returning ${C.length} responses (limit: ${E})`),C}return console.log("DetailedResponses: Seller view - returning own responses"),a.filter(N=>N.sellerId===r.uid)},w=N=>{e(`/enquiry/${t}/responses?sellerId=${N.sellerId}`)},b=N=>{window.open(N,"_blank")};if(l)return i.jsx(io,{message:"Loading responses"});if(!n)return i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Enquiry Not Found"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"The enquiry you're looking for doesn't exist."}),i.jsxs(H,{onClick:()=>window.history.back(),children:[i.jsx(wn,{className:"h-4 w-4 mr-2"}),"Back to My Enquiries"]})]})})});const j=v();return i.jsxs(wt,{children:[i.jsx("div",{className:"min-h-screen bg-slate-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 lg:px-6 py-3 sm:py-6",children:[i.jsxs("div",{className:"mb-3 sm:mb-6",children:[i.jsx("div",{className:"flex items-center gap-2 sm:gap-4 mb-3 sm:mb-4",children:i.jsx(H,{variant:"ghost",onClick:()=>e("/my-enquiries"),className:"p-1.5 sm:p-2 hover:bg-slate-100 rounded-lg h-8 w-8 sm:h-9 sm:w-9",children:i.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5"})})}),i.jsxs(xe,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl overflow-hidden mb-3 sm:mb-6",children:[i.jsxs("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:[i.jsx("h1",{className:"text-sm sm:text-lg lg:text-xl font-semibold text-white mb-1 sm:mb-2",children:n.title}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-[10px] sm:text-xs text-gray-300",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(yr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsxs("span",{children:[a.length," responses"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full"}),i.jsxs("span",{children:[j.length," available"]})]}),n.isPremium&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(un,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-400"}),i.jsx("span",{className:"text-yellow-300",children:"Premium"})]})]})]}),i.jsx(Ue,{className:"p-3 sm:p-4 lg:p-6",children:i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs sm:text-sm font-medium text-slate-700 mb-1.5 sm:mb-2",children:"Description"}),i.jsx("p",{className:"text-[11px] sm:text-sm text-slate-600 leading-relaxed",children:n.description})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 pt-2 sm:pt-3 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500",children:"Budget:"}),i.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-green-600",children:["",n.budget.toLocaleString()]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500",children:"Category:"}),i.jsx(Te,{variant:"secondary",className:"text-[9px] sm:text-[10px] px-1.5 sm:px-2 py-0.5 bg-gray-100 text-gray-700",children:n.category})]}),n.deadline&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500",children:"Deadline:"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium text-slate-700",children:new Date(n.deadline).toLocaleDateString()})]})]}),r&&n.userId===r.uid&&!n.isPremium&&i.jsx("div",{className:"pt-2 sm:pt-3 border-t border-gray-200",children:i.jsxs(H,{onClick:()=>f(!0),className:"w-full sm:w-auto h-8 sm:h-9 text-[10px] sm:text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-4",size:"sm",children:[i.jsx(un,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5"}),"Upgrade Plan"]})})]})})]}),r&&n&&r.uid===n.userId&&!n.isPremium&&i.jsx(xe,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl mb-3 sm:mb-6",children:i.jsxs(Ue,{className:"p-3 sm:p-4 lg:p-6",children:[i.jsxs("div",{className:"text-center mb-3 sm:mb-4",children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 sm:mb-2",children:"Unlock More Responses"}),i.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-600",children:["You're seeing ",j.length," of ",a.length," responses. Upgrade to see all."]})]}),i.jsx(vf,{currentPlanId:u,enquiryId:n.id,userId:r.uid,onPlanSelect:p,isUpgrade:!0,enquiryCreatedAt:n.createdAt,className:"max-w-4xl mx-auto"})]})})]}),j.length>0?i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[i.jsx("h2",{className:"text-base sm:text-xl font-bold text-slate-900",children:"Seller Responses"}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] sm:text-xs text-slate-600",children:[i.jsx(yr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsxs("span",{children:[j.length," available"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:j.map((N,E)=>i.jsxs(xe,{className:"border-2 border-blue-200 shadow-sm hover:shadow-md transition-all duration-200 rounded-xl sm:rounded-2xl overflow-hidden",children:[i.jsx("div",{className:"bg-gray-800 px-2 sm:px-3 py-2 sm:py-2.5",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-gray-700 rounded-full flex items-center justify-center text-white font-semibold text-[10px] sm:text-xs flex-shrink-0",children:E+1}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-white truncate",children:N.title}),i.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[i.jsxs("span",{className:"text-[9px] sm:text-[10px] text-gray-300 truncate",children:["by ",N.sellerName||"Anonymous"]}),N.isIdentityVerified&&i.jsx(g2e,{isVerified:!0,size:"sm"})]})]})]}),i.jsxs("div",{className:"text-right flex-shrink-0",children:[i.jsxs("div",{className:"text-base sm:text-lg font-bold text-emerald-400",children:["",N.price]}),i.jsx("div",{className:"text-[9px] sm:text-[10px] text-gray-400",children:"Starting price"})]})]})}),i.jsxs(Ue,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-slate-600 mb-3 sm:mb-4 line-clamp-3 leading-relaxed",children:N.message}),N.imageUrls.length>0&&i.jsxs("div",{className:"mb-3 sm:mb-4",children:[i.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:i.jsxs("span",{className:"text-[9px] sm:text-[10px] font-medium text-slate-600",children:[N.imageUrls.length," image",N.imageUrls.length>1?"s":""]})}),i.jsx("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-2",children:N.imageUrls.map((C,_)=>i.jsx("div",{className:"aspect-square bg-slate-100 rounded-md sm:rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>b(C),children:i.jsx("img",{src:C,alt:`Product ${_+1}`,className:"w-full h-full object-cover",onError:S=>{console.error("Image load error:",C),S.currentTarget.style.display="none"}})},_))})]}),i.jsxs("div",{className:"pt-2 sm:pt-3 border-t border-gray-200 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2 text-[9px] sm:text-[10px] text-slate-500",children:i.jsx("span",{children:new Date(N.createdAt.toDate()).toLocaleDateString()})}),i.jsxs(H,{onClick:()=>w(N),size:"sm",className:"h-7 sm:h-8 text-[9px] sm:text-[10px] bg-gray-800 hover:bg-gray-900 text-white px-2 sm:px-3",children:[i.jsx(yr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"Chat"]})]})]})]},N.id))})]}):i.jsx("div",{className:"text-center py-8 sm:py-12",children:i.jsxs("div",{className:"max-w-md mx-auto px-4",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx(yr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"})}),i.jsx("h3",{className:"text-base sm:text-xl font-bold text-slate-900 mb-2",children:"No Responses Yet"}),i.jsx("p",{className:"text-[11px] sm:text-sm text-slate-600 mb-4 leading-relaxed",children:"We're still pushing your enquiry to the right sellers. Check back soon for responses!"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] sm:text-xs text-slate-500",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),i.jsx("span",{children:"Searching for matching sellers..."})]})]})})]})}),h&&n&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[i.jsx("h2",{className:"text-sm sm:text-base font-bold text-slate-900",children:"Choose Your Plan"}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600",children:i.jsx(Qr,{className:"h-6 w-6"})})]}),i.jsx(vf,{currentPlanId:u,enquiryId:n.id,userId:r.uid,onPlanSelect:p,isUpgrade:!0,enquiryCreatedAt:n.createdAt,className:"max-w-5xl mx-auto"})]})})})]})},y2e=()=>{const{user:t}=Rr(),e=Jr(),{enquiryId:r}=oy(),[n,s]=g.useState(null),[a,o]=g.useState([]),[l,c]=g.useState(!0),[u,d]=g.useState(null),h=g.useRef(null),[f,m]=g.useState(!1),[x,p]=g.useState(null),[v,w]=g.useState("free"),[b,j]=g.useState("newest"),N=(A,T)=>{console.log(" SortResponses called:",{sortType:T,responseCount:A.length,responses:A.map(P=>({id:P.id,price:P.price}))});const I=[...A];switch(T){case"price-high":return I.sort((P,R)=>{var W,B;const M=parseFloat(((W=P.price)==null?void 0:W.replace(/[^0-9.-]/g,""))||"0"),q=parseFloat(((B=R.price)==null?void 0:B.replace(/[^0-9.-]/g,""))||"0");return console.log("Price high sort:",{priceA:M,priceB:q,result:q-M}),q-M});case"price-low":return I.sort((P,R)=>{var W,B;const M=parseFloat(((W=P.price)==null?void 0:W.replace(/[^0-9.-]/g,""))||"0"),q=parseFloat(((B=R.price)==null?void 0:B.replace(/[^0-9.-]/g,""))||"0");return console.log("Price low sort:",{priceA:M,priceB:q,result:M-q}),M-q});case"newest":return I.sort((P,R)=>{var W,B;const M=(W=P.createdAt)!=null&&W.toDate?P.createdAt.toDate():new Date(P.createdAt),q=(B=R.createdAt)!=null&&B.toDate?R.createdAt.toDate():new Date(R.createdAt);return console.log("Newest sort:",{dateA:M.getTime(),dateB:q.getTime(),result:q.getTime()-M.getTime()}),q.getTime()-M.getTime()});case"oldest":return I.sort((P,R)=>{var W,B;const M=(W=P.createdAt)!=null&&W.toDate?P.createdAt.toDate():new Date(P.createdAt),q=(B=R.createdAt)!=null&&B.toDate?R.createdAt.toDate():new Date(R.createdAt);return console.log("Oldest sort:",{dateA:M.getTime(),dateB:q.getTime(),result:M.getTime()-q.getTime()}),M.getTime()-q.getTime()});case"default":default:return I.sort((P,R)=>{var W,B;const M=(W=P.createdAt)!=null&&W.toDate?P.createdAt.toDate():new Date(P.createdAt),q=(B=R.createdAt)!=null&&B.toDate?R.createdAt.toDate():new Date(R.createdAt);return console.log("Default sort:",{dateA:M.getTime(),dateB:q.getTime(),result:M.getTime()-q.getTime()}),M.getTime()-q.getTime()})}},E=g.useMemo(()=>{if(console.log(" VisibleResponses useMemo called:",{enquiry:n==null?void 0:n.title,user:t==null?void 0:t.uid,responsesCount:a.length,sortBy:b}),!n||!t)return[];let A=a;if(n.userId===t.uid){const T=n.selectedPlanId||"free";let I=2;switch(T){case"free":I=2;break;case"basic":I=5;break;case"standard":I=10;break;case"premium":case"pro":I=-1;break;default:I=2}I===-1?A=a:(A=a.slice(0,I),console.log(` EnquiryResponsesPage: Limiting to ${I} responses for ${T} plan`))}else A=a.filter(T=>T.sellerId===t.uid);return N(A,b)},[n,t,a,b]);console.log("EnquiryResponsesPage: Debug info:",{enquiry:n==null?void 0:n.title,enquiryId:r,responsesCount:a.length,visibleResponsesCount:E.length,user:t==null?void 0:t.uid,isOwner:(n==null?void 0:n.userId)===(t==null?void 0:t.uid),sortBy:b,sortedResponses:E.map(A=>({id:A.id,price:A.price,createdAt:A.createdAt}))}),g.useEffect(()=>{if(!t||!r)return;(async()=>{c(!0);try{const T=await Vt(ke(oe,"enquiries",r));if(T.exists()){const I={id:T.id,...T.data()};s(I),w(I.selectedPlanId||(I.isPremium?"premium":"free"));const P=bt(Ze(oe,"sellerSubmissions"),Pt("enquiryId","==",r)),R=Fr(P,M=>{try{const q=M.docs.map(W=>{try{const B=W.data();if(!B)return null;const{sellerEmail:D,...V}=B,K=B.sellerName&&(B.sellerName.includes("@")||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B.sellerName))?B.sellerName.split("@")[0].charAt(0).toUpperCase()+B.sellerName.split("@")[0].slice(1)||"Seller":B.sellerName;return{id:W.id,...V,sellerName:K,status:B.status||"pending"}}catch(B){return console.error("Error processing response doc:",B),null}}).filter(Boolean);console.log("EnquiryResponsesPage: Loaded responses:",q.length),o(q)}catch(q){console.error("Error processing snapshot:",q)}},M=>{var q,W;(q=M.message)!=null&&q.includes("CORS")||(W=M.message)!=null&&W.includes("Access-Control-Allow-Origin")?(console.warn("Firestore CORS error detected. This may be due to network configuration."),console.warn("The app will continue to work, but real-time updates may be limited.")):console.error("Firestore listener error:",M),o([])});return()=>R()}else ce({title:"Enquiry not found",description:"This enquiry may have been deleted.",variant:"destructive"}),e("/my-enquiries")}catch(T){console.error("Error loading enquiry and responses:",T),ce({title:"Error",description:"Failed to load enquiry details. Please try again.",variant:"destructive"})}finally{c(!1)}})()},[t,r,e]);const C=A=>{p(A),w(A.selectedPlanId||(A.isPremium?"premium":"free")),m(!0)},_=async(A,T)=>{if(!(!x||!t))try{const{updateUserPaymentPlan:I,savePaymentRecord:P}=await Ju(async()=>{const{updateUserPaymentPlan:B,savePaymentRecord:D}=await Promise.resolve().then(()=>NH);return{updateUserPaymentPlan:B,savePaymentRecord:D}},void 0),R=`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,M=ls.find(B=>B.id===A);if(!M)throw new Error("Plan not found");const q=await P(x.id,t.uid,M,R);await I(t.uid,A,q,x.id);const W=ke(oe,"enquiries",x.id);await dt(W,{selectedPlanId:A,selectedPlanPrice:T,isPremium:T>0}),ce({title:"Payment Successful! ",description:`Your enquiry has been upgraded to ${M.name} plan.`}),m(!1),p(null),window.location.reload()}catch(I){console.error("Error updating plan:",I),ce({title:"Error",description:"Failed to update plan. Please try again.",variant:"destructive"})}},S=A=>{if(!A)return"Seller";if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A.trim())){const I=A.split("@")[0];return I.charAt(0).toUpperCase()+I.slice(1)||"Seller"}if(A.includes("@")){const I=A.split("@")[0];return I.charAt(0).toUpperCase()+I.slice(1)||"Seller"}return A};return l?i.jsx(io,{message:"Loading enquiry responses"}):n?i.jsxs(wt,{children:[i.jsxs("div",{className:"container mx-auto px-2 sm:px-6 lg:px-8 py-2 sm:py-8 bg-white text-gray-900 min-h-screen",children:[i.jsx("div",{className:"flex items-center mb-3 sm:mb-6",children:i.jsxs(H,{variant:"ghost",onClick:()=>window.history.back(),className:"text-gray-700 hover:bg-gray-100 p-1.5 sm:p-2",children:[i.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"}),i.jsx("span",{className:"text-xs sm:text-base",children:"Back"})]})}),i.jsx("div",{className:"mb-3 sm:mb-6 rounded-lg overflow-hidden shadow-lg border-2 border-gray-700",children:i.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-gray-800 px-3 py-3 sm:px-6 sm:py-6",children:[i.jsxs("h2",{className:"text-lg sm:text-3xl font-black text-white mb-1 sm:mb-2 tracking-tight",children:['Responses to "',n.title,'"']}),i.jsx("p",{className:"text-gray-200 mb-0 sm:mb-6 text-[10px] sm:text-base font-medium",children:"View and manage responses from sellers for this enquiry"})]})}),E.length>1&&i.jsxs("div",{className:"mb-3 sm:mb-6 p-2 sm:p-4 bg-gray-800 rounded-lg border border-gray-700",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2 sm:mb-3 space-y-1.5 sm:space-y-0",children:[i.jsx("h3",{className:"text-white font-bold text-xs sm:text-base",children:"Sort Responses"}),i.jsxs("span",{className:"text-gray-300 text-[10px] sm:text-sm font-medium",children:[E.length," responses"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-1.5 sm:gap-3",children:[i.jsxs(K_,{children:[i.jsx(Y_,{asChild:!0,children:i.jsxs(H,{variant:"outline",size:"sm",className:"w-full sm:w-auto text-[10px] sm:text-xs bg-gray-700 border-gray-600 text-white hover:bg-gray-600 h-7 sm:h-9",children:[i.jsx(kce,{className:"h-3 w-3 mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Sort by Amount"}),i.jsx("span",{className:"sm:hidden",children:"Amount"}),i.jsx(Fg,{className:"h-3 w-3 ml-1 sm:ml-2"})]})}),i.jsxs(Bb,{className:"w-full sm:w-56 bg-gray-800 border-gray-600",children:[i.jsxs(Zs,{onClick:()=>{console.log(" Price high sort clicked"),j("price-high")},className:"text-white hover:bg-gray-700 cursor-pointer text-xs sm:text-sm",children:[i.jsx(Cce,{className:"h-3 w-3 mr-2"}),"Highest to Lowest"]}),i.jsxs(Zs,{onClick:()=>{console.log(" Price low sort clicked"),j("price-low")},className:"text-white hover:bg-gray-700 cursor-pointer text-xs sm:text-sm",children:[i.jsx(Ice,{className:"h-3 w-3 mr-2"}),"Lowest to Highest"]})]})]}),i.jsxs(K_,{children:[i.jsx(Y_,{asChild:!0,children:i.jsxs(H,{variant:"outline",size:"sm",className:"w-full sm:w-auto text-[10px] sm:text-xs bg-gray-700 border-gray-600 text-white hover:bg-gray-600 h-7 sm:h-9",children:[i.jsx(jn,{className:"h-3 w-3 mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Sort by Date"}),i.jsx("span",{className:"sm:hidden",children:"Date"}),i.jsx(Fg,{className:"h-3 w-3 ml-1 sm:ml-2"})]})}),i.jsxs(Bb,{className:"w-full sm:w-56 bg-gray-800 border-gray-600",children:[i.jsxs(Zs,{onClick:()=>{console.log(" Newest sort clicked"),j("newest")},className:"text-white hover:bg-gray-700 cursor-pointer text-xs sm:text-sm",children:[i.jsx(jn,{className:"h-3 w-3 mr-2"}),"Newest First"]}),i.jsxs(Zs,{onClick:()=>{console.log(" Oldest sort clicked"),j("oldest")},className:"text-white hover:bg-gray-700 cursor-pointer text-xs sm:text-sm",children:[i.jsx(jn,{className:"h-3 w-3 mr-2"}),"Oldest First"]})]})]})]})]}),i.jsx("div",{className:"space-y-2.5 sm:space-y-6",children:E.length>0?E.map((A,T)=>{var I,P,R;return i.jsxs("div",{className:"border-2 sm:border-4 border-blue-300 rounded-lg bg-white shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-gray-800 px-3 py-2 sm:px-6 sm:py-4 border-b-2 border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-1.5 sm:space-x-2 flex-1 min-w-0",children:[i.jsxs("div",{className:"bg-blue-600 text-white rounded-full w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center font-black text-[10px] sm:text-sm flex-shrink-0",children:["#",T+1]}),i.jsxs("span",{className:"text-[10px] sm:text-sm font-bold text-white",children:["Response ",T+1," of ",E.length]})]}),i.jsx(Te,{variant:A.status==="approved"?"default":A.status==="rejected"?"destructive":"secondary",className:"text-[9px] sm:text-xs px-2 sm:px-3 py-0.5 sm:py-1 font-black flex-shrink-0",children:A.status||"pending"})]})}),i.jsxs("div",{className:"p-2.5 sm:p-6 space-y-2.5 sm:space-y-4",children:[i.jsxs("div",{className:"space-y-2 pb-2 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[i.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 bg-blue-600 rounded-full flex items-center justify-center shadow-sm flex-shrink-0",children:i.jsx("span",{className:"text-white font-black text-xs sm:text-sm",children:S(A.sellerName).charAt(0).toUpperCase()})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h4",{className:"font-black text-xs sm:text-sm text-gray-900 truncate",children:S(A.sellerName)}),i.jsxs("div",{className:"flex items-center space-x-1.5",children:[A.isIdentityVerified&&i.jsxs("div",{className:"flex items-center space-x-0.5",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-[9px] sm:text-xs font-bold text-green-600",children:"Verified"})]}),i.jsx("span",{className:"text-[9px] sm:text-xs text-gray-500",children:(I=A.createdAt)!=null&&I.toDate?A.createdAt.toDate().toLocaleDateString():"N/A"})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center space-x-1 mb-0.5",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px] font-black",children:""})}),i.jsx("span",{className:"text-[8px] sm:text-[9px] font-bold text-gray-600",children:"Price"})]}),i.jsx("p",{className:"font-black text-sm sm:text-lg text-blue-600",children:(P=A.price)!=null&&P.includes("")?A.price:`${A.price||"N/A"}`})]})]}),A.isIdentityVerified&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white text-[8px] font-black",children:""})}),i.jsx("span",{className:"text-[9px] sm:text-xs font-bold text-green-600",children:" Trust Badge Verified"})]})]}),i.jsxs("div",{className:"space-y-2 pb-2 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-1.5 mb-1.5",children:[i.jsx(yr,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600"}),i.jsx("span",{className:"text-[9px] sm:text-xs font-black text-gray-700",children:"Message"})]}),i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-2",children:i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-900 leading-snug",children:A.message||"No message provided"})})]}),A.notes&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-1.5 mb-1.5",children:[i.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px] font-black",children:""})}),i.jsx("span",{className:"text-[9px] sm:text-xs font-black text-gray-700",children:"Additional Notes"})]}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-2",children:i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-900 leading-snug",children:A.notes})})]})]}),A.imageUrls&&A.imageUrls.length>0&&i.jsxs("div",{className:"pb-2 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-1.5 mb-2",children:[i.jsx(q1,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600"}),i.jsxs("span",{className:"text-[9px] sm:text-xs font-black text-gray-700",children:["Images (",A.imageUrls.length,")"]})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2",children:A.imageUrls.map((M,q)=>i.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{console.log("Image clicked:",M),d(M)},children:[i.jsx("img",{src:M,alt:`Response image ${q+1}`,className:"w-full h-20 sm:h-24 object-cover rounded-lg border border-gray-300 hover:border-blue-500 transition-all duration-200 hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 rounded-lg transition-all duration-200 flex items-center justify-center pointer-events-none",children:i.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:i.jsx("div",{className:"bg-white rounded-full p-1.5",children:i.jsx(fr,{className:"h-3 w-3 text-gray-600"})})})})]},q))})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 pt-2 border-t border-gray-200",children:[i.jsxs("div",{className:"text-[9px] sm:text-xs text-gray-500 flex items-center space-x-1",children:[i.jsx(jn,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),i.jsxs("span",{children:["Submitted: ",(R=A.createdAt)!=null&&R.toDate?A.createdAt.toDate().toLocaleString():"N/A"]})]}),i.jsxs(H,{size:"sm",onClick:()=>e(`/enquiry/${n.id}/responses?sellerId=${A.sellerId}`),className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-1.5 sm:py-2 rounded-lg text-[9px] sm:text-xs font-black shadow-md hover:shadow-lg transition-all duration-200",children:[i.jsx(yr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Start Chat"]})]})]})]},A.id)}):i.jsxs("div",{className:"text-center py-6 sm:py-10 bg-white rounded-lg border-2 border-gray-200 shadow-md",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx(yr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"})}),i.jsx("h3",{className:"text-base sm:text-xl font-black text-gray-900 mb-2",children:"No Responses Yet"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-4 max-w-md mx-auto leading-relaxed",children:t&&n&&t.uid===n.userId?"Your enquiry hasn't received any approved responses yet. Sellers are reviewing your request and will respond soon.":"Be the first to respond to this enquiry!"}),t&&n&&t.uid===n.userId&&i.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] sm:text-xs text-gray-500",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse"}),i.jsx("span",{children:"Searching for matching sellers..."})]})]})}),(()=>{const A=(n==null?void 0:n.selectedPlanId)||(n!=null&&n.isPremium?"premium":"free"),T=A==="premium"||A==="pro";if(!t||!n||t.uid!==n.userId||T)return null;const I=ls.find(R=>R.id===A),P=(I==null?void 0:I.responses)||2;return(a.length||0)<=P?null:i.jsxs("div",{className:"my-3 sm:my-6 text-center bg-white border-2 border-blue-200 rounded-lg p-3 sm:p-5 flex flex-col items-center shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[i.jsx(un,{className:"h-5 w-5 sm:h-7 sm:w-7 text-blue-600 mr-2"}),i.jsx("span",{className:"text-sm sm:text-lg font-black text-gray-900",children:"Unlock All Responses"})]}),i.jsxs("p",{className:"text-gray-700 text-xs sm:text-base font-bold mb-2 sm:mb-3",children:["Only the first ",P," responses are visible for your current plan.",i.jsx("br",{}),"Upgrade to a higher plan to view all ",a.length," responses."]}),i.jsx(H,{variant:"default",className:"bg-blue-600 hover:bg-blue-700 text-white w-full max-w-xs mt-1 sm:mt-2 py-2 sm:py-3 text-xs sm:text-base font-black rounded-lg shadow-md hover:shadow-lg",onClick:()=>C(n),children:"Upgrade Plan"})]})})()]}),u&&i.jsx("div",{ref:h,className:"fixed inset-0 z-[9999] bg-black bg-opacity-95 flex items-center justify-center p-0 sm:p-4",onClick:()=>d(null),children:i.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",onClick:A=>A.stopPropagation(),children:[i.jsx("img",{src:u,alt:"Fullscreen view",className:"w-full h-full object-contain sm:rounded-lg",style:{maxHeight:"100vh",maxWidth:"100vw",width:"100%",height:"100%"},onClick:A=>A.stopPropagation()}),i.jsxs("button",{type:"button",onClick:A=>{A.preventDefault(),A.stopPropagation(),A.nativeEvent.stopImmediatePropagation(),d(null)},className:"absolute top-2 left-2 sm:top-4 sm:left-4 bg-white hover:bg-gray-100 text-gray-800 rounded-full p-2 sm:p-3 shadow-lg z-10 flex items-center gap-1 border-0 outline-none focus:outline-none",children:[i.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Back"})]})]})}),f&&x&&i.jsx(gj,{open:f,onOpenChange:m,children:i.jsxs(xy,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(yy,{children:[i.jsx(vy,{className:"text-sm sm:text-base font-bold text-center mb-2 sm:mb-4",children:"Upgrade Your Enquiry Plan"}),i.jsxs(by,{className:"text-center text-[10px] sm:text-xs text-slate-600",children:['Choose a plan to unlock more responses for "',x.title,'"']})]}),i.jsx("div",{className:"py-4",children:i.jsx(vf,{currentPlanId:v,enquiryId:x.id,userId:(t==null?void 0:t.uid)||"",onPlanSelect:_,isUpgrade:!0,enquiryCreatedAt:x.createdAt,className:"max-w-5xl mx-auto"})})]})})]}):i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Enquiry Not Found"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"This enquiry may have been deleted or doesn't exist."}),i.jsxs(H,{onClick:()=>window.history.back(),children:[i.jsx(wn,{className:"h-4 w-4 mr-2"}),"Back to My Enquiries"]})]})})})},v2e=()=>{var j,N;const{id:t}=oy(),e=Jr(),{user:r}=Rr(),[n,s]=g.useState(null),[a,o]=g.useState(null),[l,c]=g.useState(!0),[u,d]=g.useState(!1),[h,f]=g.useState([]);g.useEffect(()=>{t&&m()},[t]),g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!(r!=null&&r.uid))return;(async()=>{try{const C=await Vt(ke(oe,"profiles",r.uid));if(C.exists()){const _=C.data();f(_.savedEnquiries||[])}}catch(C){console.error("Error loading saved enquiries:",C)}})()},[r==null?void 0:r.uid]);const m=async()=>{try{c(!0);const E=await Vt(ke(oe,"enquiries",t));if(!E.exists()){ce({title:"Enquiry Not Found",description:"This enquiry may have been removed or doesn't exist.",variant:"destructive"}),e("/enquiries");return}const C={id:E.id,...E.data()};s(C);try{await dt(ke(oe,"enquiries",t),{views:ZE(1)})}catch(_){console.warn("Failed to increment view count:",_)}if(C.userId){const _=await Vt(ke(oe,"profiles",C.userId));_.exists()&&o({..._.data()})}}catch(E){console.error("Error loading enquiry details:",E),(E==null?void 0:E.code)==="permission-denied"?ce({title:"Sign in for free to sell",description:"You already found the demand!",variant:"default",className:"bg-gradient-to-r from-emerald-50 to-green-50 border-emerald-200 text-emerald-800 shadow-lg max-w-sm mx-auto sm:max-w-md",action:i.jsx("button",{onClick:()=>e("/signin"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1.5 rounded-md text-sm font-medium transition-colors",children:"Sign In"})}):(E==null?void 0:E.code)==="not-found"?(ce({title:"Enquiry Not Found",description:"This enquiry may have been removed or doesn't exist.",variant:"destructive"}),e("/enquiries")):ce({title:"Error",description:"Failed to load enquiry details. Please try again.",variant:"destructive"})}finally{c(!1)}},x=async()=>{if(!r||!n){ce({title:"Sign In Required",description:"Please sign in to save enquiries.",variant:"destructive"});return}try{const E=ke(oe,"profiles",r.uid),C=await Vt(E);h.includes(n.id)?(f(h.filter(_=>_!==n.id)),C.exists()?await dt(E,{savedEnquiries:AC(n.id)}):await bn(E,{savedEnquiries:[]}),ce({title:"Removed from Saved",description:"This enquiry has been removed from your saved list."})):(f([...h,n.id]),C.exists()?await dt(E,{savedEnquiries:ry(n.id)}):await bn(E,{savedEnquiries:[n.id]}),ce({title:"Saved!",description:"This enquiry has been saved to your list."}))}catch(E){console.error("Error updating save:",E),ce({title:"Error",description:"Failed to save enquiry. Please try again.",variant:"destructive"})}},p=()=>{if(!r){ce({title:"Sign In Required",description:"Please sign in to respond to this enquiry.",variant:"destructive"}),e("/signin");return}d(!0),e(`/respond/${n==null?void 0:n.id}`)},v=async()=>{if(n)try{await dt(ke(oe,"enquiries",n.id),{shares:ZE(1)}),s(C=>C?{...C,shares:(C.shares||0)+1}:null);const E=`${window.location.origin}/enquiry/${n.id}`;await navigator.clipboard.writeText(E),ce({title:"Link Copied!",description:"Enquiry link has been copied to your clipboard."})}catch(E){console.error("Error sharing enquiry:",E),ce({title:"Error",description:"Failed to share enquiry. Please try again.",variant:"destructive"})}},w=E=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(E),b=E=>{const C={pending:"bg-amber-100 text-amber-800 border-amber-200",live:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200",completed:"bg-blue-100 text-blue-800 border-blue-200"};return i.jsx(Te,{className:`text-xs rounded-full border ${C[E]||"bg-gray-100 text-gray-800"}`,children:E.charAt(0).toUpperCase()+E.slice(1)})};return l?i.jsx(io,{message:"Loading enquiry details"}):n?i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen bg-slate-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 lg:px-6 py-3 sm:py-6",children:[i.jsxs("div",{className:"mb-3 sm:mb-6",children:[i.jsx(H,{variant:"ghost",onClick:()=>e(-1),className:"mb-2 sm:mb-3 p-1.5 sm:p-2 hover:bg-slate-100 rounded-lg h-8 w-8 sm:h-9 sm:w-9",children:i.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),i.jsxs(xe,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[b(n.status),(n.userProfileVerified||n.isIdentityVerified)&&i.jsx("div",{title:"Verified Enquiry",children:i.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-400"})}),r&&r.uid===n.userId&&n.isPremium&&i.jsxs(Te,{className:"bg-yellow-100 text-yellow-800 border-yellow-300 px-1.5 sm:px-2 py-0.5 text-[9px] sm:text-[10px]",children:[i.jsx(un,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 mr-1"}),"Premium"]}),n.isUrgent&&i.jsxs(Te,{className:"bg-red-100 text-red-800 border-red-200 px-1.5 sm:px-2 py-0.5 text-[9px] sm:text-[10px]",children:[i.jsx(jn,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 mr-1"}),"Urgent"]})]}),i.jsx("h1",{className:"text-sm sm:text-lg lg:text-xl font-semibold text-white mb-1.5 sm:mb-2",children:n.title})]}),i.jsx(Ue,{className:"p-3 sm:p-4 lg:p-6",children:i.jsx("div",{className:"space-y-3 sm:space-y-4",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs sm:text-sm font-medium text-slate-700 mb-1.5 sm:mb-2",children:"Description"}),i.jsx("p",{className:"text-[11px] sm:text-sm text-slate-600 leading-relaxed",children:n.description})]})})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 sm:gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-3 sm:space-y-4",children:i.jsxs(xe,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl",children:[i.jsx("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:i.jsxs("h2",{className:"text-xs sm:text-sm font-semibold text-white flex items-center gap-2",children:[i.jsx(QM,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Enquiry Details"]})}),i.jsxs(Ue,{className:"p-3 sm:p-4 lg:p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:[i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5",children:"Budget"}),i.jsx("p",{className:"text-sm sm:text-base font-semibold text-green-600",children:w(n.budget)})]})]})}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(uf,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5",children:"Location"}),i.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-800 truncate",children:n.location})]})]})}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(QM,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5",children:"Category"}),i.jsx(Te,{variant:"secondary",className:"text-[9px] sm:text-[10px] px-1.5 sm:px-2 py-0.5 bg-gray-100 text-gray-700",children:n.category})]})]})}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(OC,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5",children:"Deadline"}),i.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-800",children:n.deadline&&(n.deadline instanceof Date||(j=n.deadline)!=null&&j.toDate||typeof n.deadline=="string"||typeof n.deadline=="number")?i.jsx(wy,{deadline:n.deadline}):i.jsx("span",{className:"text-gray-500 text-[10px] sm:text-xs",children:"No deadline"})})]})]})})]}),n.notes&&i.jsxs("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200",children:[i.jsxs("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-700 mb-2 flex items-center gap-1.5",children:[i.jsx(yr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Additional Notes"]}),i.jsx("p",{className:"text-[11px] sm:text-sm text-slate-600 leading-relaxed",children:n.notes})]})]})]})}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs(xe,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl",children:[i.jsx("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:i.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-white",children:r&&n.userId===r.uid?"Your Enquiry":"Ready to Respond?"})}),i.jsx(Ue,{className:"p-3 sm:p-4",children:i.jsxs("div",{className:"space-y-3",children:[r&&n.userId===r.uid?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-3",children:"View responses and manage from dashboard"}),i.jsxs(H,{disabled:!0,className:"w-full h-8 sm:h-9 text-[10px] sm:text-xs bg-gray-100 text-gray-500 cursor-not-allowed",children:[i.jsx(yr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5"}),"Your Enquiry"]}),i.jsx(H,{onClick:()=>e("/dashboard"),variant:"outline",className:"w-full h-8 sm:h-9 text-[10px] sm:text-xs border-gray-300",children:"View Dashboard"})]}):i.jsxs(H,{onClick:p,disabled:u||n.status!=="live",className:"w-full h-8 sm:h-9 text-[10px] sm:text-xs bg-gray-800 hover:bg-gray-900 text-white",children:[i.jsx(yr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5"}),u?"Opening...":"Respond to Enquiry"]}),i.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-200",children:[i.jsxs(H,{variant:"outline",onClick:x,className:`flex-1 h-7 sm:h-8 text-[9px] sm:text-[10px] border-gray-300 ${h.includes(n.id)?"bg-blue-50 text-blue-600 border-blue-200":""}`,children:[i.jsx(Du,{className:`h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 ${h.includes(n.id)?"fill-current":""}`}),h.includes(n.id)?"Saved":"Save"]}),i.jsxs(H,{variant:"outline",className:"flex-1 h-7 sm:h-8 text-[9px] sm:text-[10px] border-gray-300",onClick:v,children:[i.jsx(YU,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"Share"]})]})]})})]}),a&&i.jsxs(xe,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl",children:[i.jsx("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:i.jsxs("h3",{className:"text-xs sm:text-sm font-semibold text-white flex items-center gap-1.5",children:[i.jsx(_i,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Posted by"]})}),i.jsxs(Ue,{className:"p-3 sm:p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-800 rounded-full flex items-center justify-center text-white font-semibold text-xs sm:text-sm flex-shrink-0",children:((N=a.displayName)==null?void 0:N.charAt(0))||"U"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-semibold text-xs sm:text-sm text-gray-900 truncate",children:a.displayName||"User"}),a.isVerified?i.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-[9px] sm:text-[10px] font-medium",children:[i.jsx(xt,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),"Verified"]}):i.jsx("div",{className:"text-gray-500 text-[9px] sm:text-[10px]",children:"Regular User"})]})]}),a.location&&i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-1.5 text-gray-700",children:[i.jsx(uf,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-gray-500 flex-shrink-0"}),i.jsx("span",{className:"font-medium text-[10px] sm:text-xs truncate",children:a.location})]})})]})]})]})]})]})})}):i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4 py-8",children:i.jsxs("div",{className:"text-center w-full max-w-sm mx-auto",children:[i.jsx(It,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"Enquiry Not Found"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-5 sm:mb-6 leading-relaxed px-2",children:"The enquiry you're looking for doesn't exist or has been removed."}),i.jsxs(H,{onClick:()=>e("/my-enquiries"),size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm px-4 sm:px-6 bg-gray-800 hover:bg-gray-900 text-white",children:[i.jsx(wn,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-2"}),"Back to My Enquiries"]})]})})})},b2e=()=>{const{user:t}=Rr(),[e,r]=g.useState(!1),[n,s]=g.useState({enquiries:0,sellerSubmissions:0,chatMessages:0,users:0,userProfiles:0,notifications:0,aiActivities:0,submissions:0}),a=(t==null?void 0:t.email)==="admin@example.com"||(t==null?void 0:t.uid)==="admin",o=async()=>{try{const d=["enquiries","sellerSubmissions","chatMessages","users","userProfiles","notifications","aiActivities","submissions"],h={};for(const f of d){const m=await Bt(Ze(oe,f));h[f]=m.size}s(h)}catch(d){console.error("Error getting stats:",d),ce({title:"Error",description:"Failed to get collection stats",variant:"destructive"})}},l=async()=>{if(!a){ce({title:"Access Denied",description:"Only admins can clear data",variant:"destructive"});return}if(confirm(` WARNING: This will delete ALL data permanently!

This includes:
 All enquiries and responses
 All chat messages
 All user profiles and data
 All notifications
 All AI activity logs
 All localStorage data

Are you absolutely sure you want to continue?`)){r(!0);try{const d=["enquiries","sellerSubmissions","chatMessages","users","userProfiles","notifications","aiActivities","submissions"];let h=0;for(const x of d){console.log(`Clearing collection: ${x}`);const v=(await Bt(Ze(oe,x))).docs,w=500;for(let b=0;b<v.length;b+=w){const j=Yp(oe),N=v.slice(b,b+w);N.forEach(E=>{j.delete(E.ref),h++}),await j.commit(),console.log(`Deleted batch ${Math.floor(b/w)+1} for ${x}: ${N.length} documents`)}console.log(`Completed clearing ${x}: ${v.length} documents`)}console.log("Clearing localStorage data...");const f=Object.keys(localStorage);let m=0;f.forEach(x=>{(x.startsWith("palUsageStats:")||x.startsWith("pal")||x.includes("pal"))&&(localStorage.removeItem(x),m++)}),console.log(`Cleared ${m} localStorage entries`),ce({title:"Data Cleared Successfully",description:`Deleted ${h} documents from all collections and ${m} localStorage entries`}),s({enquiries:0,sellerSubmissions:0,chatMessages:0,users:0,userProfiles:0,notifications:0,aiActivities:0,submissions:0}),setTimeout(()=>{localStorage.clear(),sessionStorage.clear(),window.dispatchEvent(new CustomEvent("palDataCleared")),window.location.reload()},2e3)}catch(d){console.error("Error clearing data:",d),ce({title:"Error",description:"Failed to clear data",variant:"destructive"})}finally{r(!1)}}},c=async d=>{if(!a){ce({title:"Access Denied",description:"Only admins can clear data",variant:"destructive"});return}if(confirm(` WARNING: This will delete ALL ${d} permanently!

Are you sure?`)){r(!0);try{const f=(await Bt(Ze(oe,d))).docs;let m=0;const x=500;for(let p=0;p<f.length;p+=x){const v=Yp(oe),w=f.slice(p,p+x);w.forEach(b=>{v.delete(b.ref),m++}),await v.commit(),console.log(`Deleted batch ${Math.floor(p/x)+1} for ${d}: ${w.length} documents`)}ce({title:"Collection Cleared",description:`Deleted ${m} documents from ${d}`}),s(p=>({...p,[d]:0}))}catch(h){console.error(`Error clearing ${d}:`,h),ce({title:"Error",description:`Failed to clear ${d}`,variant:"destructive"})}finally{r(!1)}}},u=async()=>{if(!a){ce({title:"Access Denied",description:"Only admins can clear data",variant:"destructive"});return}if(confirm(` WARNING: This will delete ALL user dashboard data (enquiries & responses) permanently!

Are you sure?`)){r(!0);try{const d=["enquiries","sellerSubmissions"];let h=0;for(const x of d){const v=(await Bt(Ze(oe,x))).docs,w=500;for(let b=0;b<v.length;b+=w){const j=Yp(oe);v.slice(b,b+w).forEach(E=>{j.delete(E.ref),h++}),await j.commit()}}const f=Object.keys(localStorage);let m=0;f.forEach(x=>{(x.startsWith("palUsageStats:")||x.startsWith("pal")||x.includes("pal"))&&(localStorage.removeItem(x),m++)}),ce({title:"User Dashboard Data Cleared",description:`Deleted ${h} documents from enquiries and sellerSubmissions. Also cleared ${m} localStorage entries.`}),setTimeout(()=>{localStorage.clear(),sessionStorage.clear(),window.dispatchEvent(new CustomEvent("palDataCleared")),window.location.reload()},2e3)}catch(d){console.error("Error clearing user dashboard data:",d),ce({title:"Error",description:"Failed to clear user dashboard data",variant:"destructive"})}finally{r(!1)}}};return a?i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:" Data Management"}),i.jsx("p",{className:"text-xl text-slate-600",children:"Clear all data for fresh testing"})]}),i.jsx(xe,{className:"mb-8 border-red-200 bg-red-50",children:i.jsx(Ue,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(It,{className:"h-8 w-8 text-red-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-red-800",children:" DANGER ZONE"}),i.jsx("p",{className:"text-red-700",children:"This will permanently delete ALL data from your Firestore database including enquiries, responses, chats, user profiles, notifications, AI logs, and localStorage data. This action cannot be undone!"})]})]})})}),i.jsxs(xe,{className:"mb-8",children:[i.jsxs(jt,{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Current Data Status"}),i.jsx("p",{className:"text-slate-600",children:"Overview of documents in each collection"})]}),i.jsxs(Ue,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.enquiries}),i.jsx("div",{className:"text-sm text-blue-700",children:"Enquiries"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.sellerSubmissions}),i.jsx("div",{className:"text-sm text-green-700",children:"Seller Submissions"})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-100 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-800",children:n.chatMessages}),i.jsx("div",{className:"text-sm text-gray-700",children:"Chat Messages"})]}),i.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:n.users}),i.jsx("div",{className:"text-sm text-orange-700",children:"Users"})]}),i.jsxs("div",{className:"text-center p-4 bg-cyan-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-cyan-600",children:n.userProfiles}),i.jsx("div",{className:"text-sm text-cyan-700",children:"User Profiles"})]}),i.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-pink-600",children:n.notifications}),i.jsx("div",{className:"text-sm text-pink-700",children:"Notifications"})]}),i.jsxs("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:n.aiActivities}),i.jsx("div",{className:"text-sm text-indigo-700",children:"AI Activities"})]}),i.jsxs("div",{className:"text-center p-4 bg-teal-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-teal-600",children:n.submissions}),i.jsx("div",{className:"text-sm text-teal-700",children:"Submissions"})]})]}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs(H,{onClick:o,variant:"outline",disabled:e,children:[i.jsx(xt,{className:"h-4 w-4 mr-2"}),"Refresh Stats"]})})]})]}),i.jsxs(xe,{className:"mb-8",children:[i.jsxs(jt,{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Clear Individual Collections"}),i.jsx("p",{className:"text-slate-600",children:"Clear specific collections one by one"})]}),i.jsx(Ue,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Enquiries"}),i.jsxs(Te,{variant:"outline",children:[n.enquiries," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Buyer enquiries and requests"}),i.jsxs(H,{onClick:()=>c("enquiries"),variant:"destructive",size:"sm",disabled:e||n.enquiries===0,children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Clear Enquiries"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Seller Submissions"}),i.jsxs(Te,{variant:"outline",children:[n.sellerSubmissions," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Seller responses to enquiries"}),i.jsxs(H,{onClick:()=>c("sellerSubmissions"),variant:"destructive",size:"sm",disabled:e||n.sellerSubmissions===0,children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Clear Submissions"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Chat Messages"}),i.jsxs(Te,{variant:"outline",children:[n.chatMessages," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"All chat conversations"}),i.jsxs(H,{onClick:()=>c("chatMessages"),variant:"destructive",size:"sm",disabled:e||n.chatMessages===0,children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Clear Messages"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Users"}),i.jsxs(Te,{variant:"outline",children:[n.users," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"User profiles and data"}),i.jsxs(H,{onClick:()=>c("users"),variant:"destructive",size:"sm",disabled:e||n.users===0,children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Clear Users"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"User Profiles"}),i.jsxs(Te,{variant:"outline",children:[n.userProfiles," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Detailed user profile data"}),i.jsxs(H,{onClick:()=>c("userProfiles"),variant:"destructive",size:"sm",disabled:e||n.userProfiles===0,children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Clear Profiles"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Notifications"}),i.jsxs(Te,{variant:"outline",children:[n.notifications," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"User notifications and alerts"}),i.jsxs(H,{onClick:()=>c("notifications"),variant:"destructive",size:"sm",disabled:e||n.notifications===0,children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Clear Notifications"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"AI Activities"}),i.jsxs(Te,{variant:"outline",children:[n.aiActivities," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"AI processing logs and activities"}),i.jsxs(H,{onClick:()=>c("aiActivities"),variant:"destructive",size:"sm",disabled:e||n.aiActivities===0,children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Clear AI Logs"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Submissions"}),i.jsxs(Te,{variant:"outline",children:[n.submissions," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"General submissions and forms"}),i.jsxs(H,{onClick:()=>c("submissions"),variant:"destructive",size:"sm",disabled:e||n.submissions===0,children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Clear Submissions"]})]})]})})]}),i.jsxs(xe,{className:"border-red-300 bg-red-50",children:[i.jsxs(jt,{children:[i.jsx("h2",{className:"text-2xl font-bold text-red-800",children:" Nuclear Option"}),i.jsx("p",{className:"text-red-700",children:"Clear ALL data at once"})]}),i.jsx(Ue,{children:i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-red-700 mb-4",children:["This will delete ",i.jsx("strong",{children:"ALL documents"})," from ",i.jsx("strong",{children:"ALL collections"})," in one operation."]}),i.jsx(H,{onClick:l,variant:"destructive",size:"lg",disabled:e,className:"px-8 py-3",children:e?i.jsxs(i.Fragment,{children:[i.jsx(cf,{className:"h-5 w-5 mr-2 animate-spin"}),"Clearing Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(rn,{className:"h-5 w-5 mr-2"}),"Clear ALL Data"]})})]})})]}),i.jsxs(xe,{className:"border-yellow-300 bg-yellow-50 mb-8",children:[i.jsxs(jt,{children:[i.jsx("h2",{className:"text-2xl font-bold text-yellow-800",children:" Clear User Dashboard Data"}),i.jsx("p",{className:"text-yellow-700",children:"Delete all user enquiries and responses (dashboard histories) only"})]}),i.jsx(Ue,{children:i.jsx("div",{className:"text-center",children:i.jsx(H,{onClick:u,variant:"destructive",size:"lg",disabled:e,className:"px-8 py-3",children:e?i.jsxs(i.Fragment,{children:[i.jsx(cf,{className:"h-5 w-5 mr-2 animate-spin"}),"Clearing User Dashboard Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(rn,{className:"h-5 w-5 mr-2"}),"Clear User Dashboard Data"]})})})})]})]})})}):i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:i.jsxs(xe,{className:"max-w-md w-full mx-4",children:[i.jsxs(jt,{className:"text-center",children:[i.jsx(It,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Access Denied"}),i.jsx("p",{className:"text-slate-600",children:"Only administrators can access this page."})]}),i.jsxs(Ue,{className:"text-center",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"To access data clearing, you need to be logged in as an admin user."}),i.jsx(H,{onClick:()=>window.history.back(),children:"Go Back"})]})]})})})},w2e=({enquiries:t,sellerSubmissions:e,className:r=""})=>i.jsx("div",{className:`space-y-4 ${r}`}),j2e=()=>{var D;const{user:t}=Rr(),e=g.useContext(wa),r=(e==null?void 0:e.createNotification)||(async()=>{console.warn("NotificationContext not available")}),[n,s]=g.useState(""),[a,o]=g.useState(""),[l,c]=g.useState("+91"),[u,d]=g.useState(!1),[h,f]=g.useState(null),[m,x]=g.useState(""),[p,v]=g.useState(""),[w,b]=g.useState(null),[j,N]=g.useState(null),[E,C]=g.useState(!1),[_,S]=g.useState(0),[A,T]=g.useState(null),[I,P]=g.useState([]),[R,M]=g.useState([]),q=[{code:"+91",country:"India",flag:""},{code:"+1",country:"USA/Canada",flag:""},{code:"+44",country:"UK",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+971",country:"UAE",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+65",country:"Singapore",flag:""},{code:"+60",country:"Malaysia",flag:""},{code:"+66",country:"Thailand",flag:""},{code:"+63",country:"Philippines",flag:""},{code:"+62",country:"Indonesia",flag:""},{code:"+84",country:"Vietnam",flag:""},{code:"+86",country:"China",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+82",country:"South Korea",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+33",country:"France",flag:""},{code:"+39",country:"Italy",flag:""},{code:"+34",country:"Spain",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+52",country:"Mexico",flag:""},{code:"+54",country:"Argentina",flag:""},{code:"+27",country:"South Africa",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+234",country:"Nigeria",flag:""},{code:"+254",country:"Kenya",flag:""},{code:"+233",country:"Ghana",flag:""},{code:"+212",country:"Morocco",flag:""},{code:"+216",country:"Tunisia",flag:""}];g.useEffect(()=>{if(!t)return;console.log(" Profile: Setting up real-time profile listener for:",t.uid);const V=ke(oe,"userProfiles",t.uid),K=Fr(V,G=>{if(G.exists()){const Q=G.data();console.log(" Profile: Profile data updated (REALTIME):",Q),s(Q.fullName||""),o(Q.phone||""),c(Q.countryCode||"+91"),d(Q.isProfileVerified||!1),f(Q.verificationStatus||null)}else console.log(" Profile: No profile found, setting defaults"),d(!1),f(null)},G=>{console.error("Error in profile listener:",G),d(!1),f(null)});return()=>{console.log(" Profile: Cleaning up profile listener"),K()}},[t]),g.useEffect(()=>{if(!t)return;(async()=>{try{const K=bt(Ze(oe,"enquiries"),Pt("userId","==",t.uid),ln("createdAt","desc")),Q=(await Bt(K)).docs.map(ue=>({id:ue.id,...ue.data()}));P(Q);const ae=bt(Ze(oe,"sellerSubmissions"),Pt("sellerId","==",t.uid),ln("createdAt","desc")),Y=(await Bt(ae)).docs.map(ue=>({id:ue.id,...ue.data()}));M(Y)}catch(K){console.error("Error loading security data:",K)}})()},[t]);const W=async()=>{if(!(!t||!n.trim()||!a.trim()))try{await bn(ke(oe,"userProfiles",t.uid),{userId:t.uid,fullName:n.trim(),phone:a.trim(),countryCode:l,isProfileVerified:u,verificationStatus:h,updatedAt:$e()},{merge:!0}),ce({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(V){console.error("Error updating profile:",V),ce({title:"Update Failed",description:"Failed to update profile. Please try again.",variant:"destructive"})}},B=async()=>{if(!w||!m||!p){ce({title:"Missing Information",description:"Please fill in all required fields and upload front ID image.",variant:"destructive"});return}console.log(" Starting ID upload process..."),C(!0),S(10);try{console.log(" Uploading front ID to Cloudinary..."),S(25);const V=await Ub(w);console.log(" Front ID uploaded to Cloudinary:",V),S(50);let K=null;j&&(console.log(" Uploading back ID to Cloudinary..."),S(75),K=await Ub(j),console.log(" Back ID uploaded to Cloudinary:",K)),console.log(" Storing verification data in Firestore..."),S(90);const G={userId:t.uid,fullName:n||t.displayName||"",phone:a||"",isProfileVerified:!1,verificationStatus:"pending",idType:m,idNumber:p,frontImageUrl:V,backImageUrl:K,verificationRequestedAt:$e(),updatedAt:$e()};console.log(" Profile data to store:",G);const Q=ke(oe,"userProfiles",t.uid);await bn(Q,G,{merge:!0}),console.log(" Profile verification request stored successfully in userProfiles"),T(t.uid),console.log(" Profile: Starting AI processing for profile verification:",t.uid),Ou.processProfileVerification(t.uid,G,{front:V,back:K}).then(ae=>{ae.success?(console.log(" AI: Profile auto-verified instantly!"),r("achievement",{title:" Trust Badge Verified!",message:"Your profile has been verified and you now have a trust badge!",priority:"high",actionUrl:"/profile",actionText:"View Profile"})):ae.action==="flagged"?(console.log(" AI: Profile flagged for manual review"),r("enquiry_update",{title:" Trust Badge Under Review",message:"Your profile verification is being reviewed by our team. You will be notified when approved.",priority:"medium",actionUrl:"/profile",actionText:"View Profile"})):(console.log(" AI: Profile auto-rejected"),r("enquiry_update",{title:" Trust Badge Not Approved",message:"Your profile verification was not approved. Please try again with clearer ID images.",priority:"medium",actionUrl:"/profile",actionText:"Try Again"}))}).catch(ae=>{console.error(" AI: Error processing profile verification:",ae),r("enquiry_update",{title:" Verification Error",message:"There was an error processing your verification. Please try again.",priority:"medium",actionUrl:"/profile",actionText:"Try Again"})}),f("pending"),d(!1),S(100),ce({title:"ID Upload Successful!",description:"Your ID has been uploaded and is pending admin review. You'll get a verified badge once approved."}),b(null),N(null),x(""),v(""),console.log(" ID upload process completed successfully!")}catch(V){console.error(" Error uploading ID:",V),ce({title:"Upload Failed",description:"Failed to upload ID. Please try again.",variant:"destructive"})}finally{C(!1),setTimeout(()=>S(0),2e3)}};return t?i.jsx(wt,{children:i.jsxs("div",{className:"max-w-2xl mx-auto px-3 sm:px-4 py-4 sm:py-8",children:[i.jsx("div",{className:"mb-4 sm:mb-8",children:i.jsx(xe,{children:i.jsxs(jt,{className:"text-center p-4 sm:p-6",children:[i.jsx("div",{className:"mx-auto p-3 sm:p-4 bg-pal-blue/10 rounded-full w-fit mb-3 sm:mb-4",children:i.jsx(_i,{className:"h-8 w-8 sm:h-12 sm:w-12 text-pal-blue"})}),i.jsx(mr,{className:"text-lg sm:text-2xl font-bold",children:n||t.displayName||"Profile"}),i.jsx(Mu,{className:"text-sm sm:text-lg",children:t.email}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2",children:"AI-powered profile verification for enhanced trust"}),u&&i.jsx("div",{className:"mt-3 sm:mt-4",children:i.jsxs(Te,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs sm:text-sm",children:[i.jsx(Cr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Verified Profile"]})})]})})}),i.jsxs(xe,{children:[i.jsxs(jt,{className:"p-4 sm:p-6",children:[i.jsx(mr,{className:"text-base sm:text-lg",children:"Profile Information"}),i.jsx(Mu,{className:"text-xs sm:text-sm",children:"Update your profile details"})]}),i.jsxs(Ue,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"fullName",className:"text-xs sm:text-sm",children:"Full Name *"}),i.jsx(pr,{id:"fullName",value:n,onChange:V=>s(V.target.value),placeholder:"Enter your full name",className:"h-8 sm:h-10 text-xs sm:text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ft,{htmlFor:"phone",className:"text-xs sm:text-sm font-medium text-slate-700",children:"Phone Number *"}),i.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[i.jsxs(Ol,{value:l,onValueChange:c,children:[i.jsx(No,{className:"w-14 sm:w-16 h-8 sm:h-10 border-slate-200 focus:border-slate-400 focus:ring-slate-400",children:i.jsx(Dl,{placeholder:"Code",children:l&&i.jsxs("span",{className:"flex items-center gap-0.5 sm:gap-1",children:[i.jsx("span",{className:"text-[10px] sm:text-xs",children:(D=q.find(V=>V.code===l))==null?void 0:D.flag}),i.jsx("span",{className:"font-medium text-[10px] sm:text-xs",children:l})]})})}),i.jsx(So,{children:q.map(V=>i.jsx(Or,{value:V.code,children:i.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[i.jsx("span",{className:"text-xs sm:text-sm",children:V.flag}),i.jsx("span",{className:"font-medium text-xs sm:text-sm",children:V.code}),i.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500",children:V.country})]})},V.code))})]}),i.jsx(pr,{id:"phone",value:a,onChange:V=>o(V.target.value),placeholder:"Enter phone number",className:"flex-1 h-8 sm:h-10 border-slate-200 focus:border-slate-400 focus:ring-slate-400 text-xs sm:text-sm",required:!0})]})]})]}),i.jsx("div",{className:"flex justify-end space-x-1 sm:space-x-2",children:i.jsx(H,{onClick:W,disabled:!n.trim()||!a.trim(),className:"h-8 sm:h-10 text-xs sm:text-sm px-3 sm:px-4",children:"Save Changes"})})]})]}),i.jsxs(xe,{className:"mt-4 sm:mt-6",children:[i.jsxs(jt,{className:"p-4 sm:p-6",children:[i.jsx(mr,{className:"text-base sm:text-lg",children:"Trust Badge (Optional)"}),i.jsx(Mu,{className:"text-xs sm:text-sm",children:"Upload your government ID to get a trust badge and build trust"})]}),i.jsxs(Ue,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[h==="approved"&&i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 sm:p-6 text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mb-3 sm:mb-4",children:i.jsx(xt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})}),i.jsx("h3",{className:"text-base sm:text-xl font-semibold text-green-800 mb-2",children:"Profile Verified!"}),i.jsx("p",{className:"text-green-700 text-xs sm:text-sm",children:"Congratulations! Your profile has been verified and you now have a verified badge."}),i.jsx("div",{className:"mt-3 sm:mt-4",children:i.jsxs(Te,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-300 text-xs sm:text-sm",children:[i.jsx(Cr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Verified Profile"]})})]}),h==="pending"&&i.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200 rounded-xl p-4 sm:p-6 text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 sm:w-16 sm:h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-3 sm:mb-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-2 border-yellow-500 border-t-transparent"})}),i.jsx("h3",{className:"text-base sm:text-xl font-semibold text-yellow-800 mb-2",children:"Verification Pending"}),i.jsx("p",{className:"text-yellow-700 text-xs sm:text-sm",children:"Your ID has been uploaded and is under admin review."})]}),h==="rejected"&&i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl p-4 sm:p-6 text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 sm:w-16 sm:h-16 bg-red-100 rounded-full flex items-center justify-center mb-3 sm:mb-4",children:i.jsx(MC,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600"})}),i.jsx("h3",{className:"text-base sm:text-xl font-semibold text-red-800 mb-2",children:"Verification Rejected"}),i.jsx("p",{className:"text-red-700 text-xs sm:text-sm",children:"Your trust badge request was rejected. Please upload a clearer image and try again."})]}),!h||h==="rejected"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"idType",className:"text-xs sm:text-sm",children:"ID Type"}),i.jsxs(Ol,{value:m,onValueChange:x,children:[i.jsx(No,{className:"h-8 sm:h-10",children:i.jsx(Dl,{placeholder:"Select ID type"})}),i.jsxs(So,{children:[i.jsx(Or,{value:"aadhar",children:"Aadhar Card"}),i.jsx(Or,{value:"pan",children:"PAN Card"}),i.jsx(Or,{value:"driving_license",children:"Driving License"}),i.jsx(Or,{value:"passport",children:"Passport"})]})]})]}),i.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"idNumber",className:"text-xs sm:text-sm",children:"ID Number"}),i.jsx(pr,{id:"idNumber",value:p,onChange:V=>v(V.target.value),placeholder:"Enter ID number",className:"h-8 sm:h-10 text-xs sm:text-sm"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"idFront",className:"text-xs sm:text-sm",children:"Front Side *"}),i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 sm:p-4 text-center hover:border-pal-blue transition-colors",children:[i.jsx("input",{id:"idFront",type:"file",accept:"image/*",onChange:V=>{var K;return b(((K=V.target.files)==null?void 0:K[0])||null)},className:"hidden"}),i.jsx(ft,{htmlFor:"idFront",className:"cursor-pointer",children:i.jsxs("div",{className:"flex flex-col items-center space-y-1 sm:space-y-2",children:[i.jsx(zM,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"}),i.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:w?w.name:"Click to upload front side"})]})})]})]}),i.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"idBack",className:"text-xs sm:text-sm",children:"Back Side (Optional)"}),i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 sm:p-4 text-center hover:border-pal-blue transition-colors",children:[i.jsx("input",{id:"idBack",type:"file",accept:"image/*",onChange:V=>{var K;return N(((K=V.target.files)==null?void 0:K[0])||null)},className:"hidden"}),i.jsx(ft,{htmlFor:"idBack",className:"cursor-pointer",children:i.jsxs("div",{className:"flex flex-col items-center space-y-1 sm:space-y-2",children:[i.jsx(zM,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"}),i.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:j?j.name:"Click to upload back side"})]})})]})]})]}),_>0&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4",children:[i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-blue-700 mb-1",children:[i.jsx("span",{children:"Uploading ID..."}),i.jsxs("span",{children:[_,"%"]})]}),i.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 sm:h-3",children:i.jsx("div",{className:"bg-blue-600 h-2 sm:h-3 rounded-full transition-all duration-300 ease-out",style:{width:`${_}%`}})})]}),i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm text-blue-600",children:[i.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-2 border-blue-500 border-t-transparent"}),i.jsxs("span",{children:[_<25&&"Preparing upload...",_>=25&&_<50&&"Uploading front ID...",_>=50&&_<75&&"Uploading back ID...",_>=75&&_<100&&"Saving to database...",_===100&&"Upload complete!"]})]})]}),i.jsxs(H,{onClick:B,disabled:!m||!p||!w||E,className:"w-full h-8 sm:h-10 text-xs sm:text-sm",children:[i.jsx(gu,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),E?"Uploading...":"Upload ID for Trust Badge"]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground text-center",children:"Trust badge is completely optional. Upload to get a trust badge and build trust."})]}):null]})]}),i.jsx(w2e,{enquiries:I,sellerSubmissions:R,className:"mt-4 sm:mt-6"})]})}):i.jsx(wt,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pal-blue mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})})};var fI="Tabs",[N2e,ZWe]=ba(fI,[hj]),HG=hj(),[S2e,mI]=N2e(fI),GG=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=my(l),[h,f]=Za({prop:n,onChange:s,defaultProp:a});return i.jsx(S2e,{scope:r,baseId:ha(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:i.jsx(et.div,{dir:d,"data-orientation":o,...u,ref:e})})});GG.displayName=fI;var KG="TabsList",YG=g.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=mI(KG,r),o=HG(r);return i.jsx(hW,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(et.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});YG.displayName=KG;var QG="TabsTrigger",XG=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,o=mI(QG,r),l=HG(r),c=eK(o.baseId,n),u=tK(o.baseId,n),d=n===o.value;return i.jsx(fW,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(et.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:e,onMouseDown:De(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:De(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:De(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(n)})})})});XG.displayName=QG;var JG="TabsContent",ZG=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=t,l=mI(JG,r),c=eK(l.baseId,n),u=tK(l.baseId,n),d=n===l.value,h=g.useRef(d);return g.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(Ln,{present:s||d,children:({present:f})=>i.jsx(et.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});ZG.displayName=JG;function eK(t,e){return`${t}-trigger-${e}`}function tK(t,e){return`${t}-content-${e}`}var E2e=GG,rK=YG,nK=XG,sK=ZG;const pI=E2e,Nj=g.forwardRef(({className:t,...e},r)=>i.jsx(rK,{ref:r,className:He("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Nj.displayName=rK.displayName;const na=g.forwardRef(({className:t,...e},r)=>i.jsx(nK,{ref:r,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));na.displayName=nK.displayName;const sa=g.forwardRef(({className:t,...e},r)=>i.jsx(sK,{ref:r,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));sa.displayName=sK.displayName;const _2e=()=>{const{signUp:t,signIn:e}=Rr(),r=Jr(),[n,s]=g.useState(""),[a,o]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState(""),[h,f]=g.useState(""),[m,x]=g.useState(""),[p,v]=g.useState(""),[w,b]=g.useState(""),[j,N]=g.useState(""),[E,C]=g.useState(!1),[_,S]=g.useState(!1),A=R=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R),T=R=>{const M=R.target.value;c(M);const q=M.trim().split(" ");q.length>=2?(d(q[0]),f(q.slice(1).join(" "))):q.length===1?(d(q[0]),f("")):(d(""),f(""))},I=async R=>{R.preventDefault(),b(""),S(!0);try{if(console.log(" Attempting sign in with:",n),!A(n)){b("Please enter a valid email address."),S(!1);return}console.log(" About to call signIn with:",{identifier:n,password:"***"});const M=await e(n,a);console.log(" Sign in result:",M),M.error?(console.log(" Sign in failed:",M.error.message),b(M.error.message||"Sign in failed")):(console.log(" Sign in successful, navigating to home"),r("/"))}catch(M){console.error(" Sign in error:",M),b("An unexpected error occurred during sign in")}finally{S(!1)}},P=async R=>{R.preventDefault(),b(""),S(!0);try{if(console.log("Attempting sign up with:",m),!A(m)){b("Please enter a valid email address."),S(!1);return}const M=await t(m,p,{full_name:l,first_name:u,last_name:h});console.log("Sign up result:",M),!M.error&&M.requiresVerification?(C(!0),N("Account created successfully!"),b("")):M.error&&(b(M.error.message||"Sign up failed"),N(""))}catch(M){console.error("Sign up error:",M),b("An unexpected error occurred during sign up")}finally{S(!1)}};return console.log("SignIn component rendering, loading:",_),i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("div",{className:"text-center mb-6 sm:mb-8",children:i.jsxs("h1",{className:"text-2xl sm:text-4xl font-bold text-foreground mb-4",children:["Welcome to ",i.jsx("span",{className:"text-blue-600 text-3xl sm:text-5xl",children:"Enqir"}),".in"]})}),i.jsxs(xe,{className:"shadow-lg border-2 border-blue-200 rounded-2xl overflow-hidden",children:[i.jsx(jt,{className:"bg-gray-800 p-4 sm:p-6 lg:p-8",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(Cr,{className:"h-6 w-6 sm:h-7 sm:w-7 text-white"}),i.jsx("span",{className:"text-lg sm:text-xl font-semibold text-white",children:"Secure Access"})]})}),i.jsxs(Ue,{className:"p-4 sm:p-6 lg:p-8",children:[w&&i.jsxs(Di,{className:"mb-4 border-red-200 bg-red-50",children:[i.jsx(It,{className:"h-4 w-4 text-red-600"}),i.jsx(Mi,{className:"text-sm text-red-800",children:w})]}),j&&i.jsxs(Di,{className:"mb-4 border-green-200 bg-green-50",children:[i.jsx(Cr,{className:"h-4 w-4 text-green-600"}),i.jsx(Mi,{className:"text-sm text-green-800",children:j})]}),E&&i.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Wa,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Verification Email Sent!"}),i.jsxs("p",{className:"text-green-700 text-sm mb-4",children:["We've sent a verification link to ",i.jsx("strong",{className:"text-green-800",children:m})]}),i.jsx("div",{className:"bg-white p-4 rounded-lg border border-green-200 shadow-sm",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-sm text-green-600 flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-lg",children:""})," Check your inbox and spam folder"]}),i.jsxs("p",{className:"text-sm text-green-600 flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-lg",children:""})," Click the verification link in the email"]}),i.jsxs("p",{className:"text-sm text-green-600 flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-lg",children:""})," Then come back here to sign in"]})]})}),i.jsxs("div",{className:"mt-4 space-x-2",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:()=>{C(!1),N(""),b("")},className:"border-green-300 text-green-700 hover:bg-green-50",children:"Got it, let me sign in"}),i.jsx(H,{variant:"default",size:"sm",onClick:()=>r("/signin"),className:"bg-green-600 hover:bg-green-700 text-white",children:"Sign In"})]})]})}),i.jsxs(pI,{defaultValue:"signin",className:"w-full",children:[i.jsxs(Nj,{className:"grid w-full grid-cols-2 h-12 sm:h-14",children:[i.jsx(na,{value:"signin",className:"text-base sm:text-lg font-semibold",children:"Sign In"}),i.jsx(na,{value:"signup",className:"text-base sm:text-lg font-semibold",children:"Sign Up"})]}),i.jsxs(sa,{value:"signin",children:[i.jsxs("form",{onSubmit:I,className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"identifier",className:"text-xs sm:text-sm",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Wa,{className:"absolute left-2.5 sm:left-3 top-2.5 sm:top-3 h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}),i.jsx(pr,{id:"identifier",type:"email",placeholder:"Enter your email address",className:"pl-8 sm:pl-10 h-9 sm:h-10 text-xs sm:text-sm",value:n,onChange:R=>s(R.target.value),required:!0})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Use your email address to sign in"})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"password",className:"text-xs sm:text-sm",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ko,{className:"absolute left-2.5 sm:left-3 top-2.5 sm:top-3 h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}),i.jsx(pr,{id:"password",type:"password",placeholder:"Enter your password",className:"pl-8 sm:pl-10 h-9 sm:h-10 text-xs sm:text-sm",value:a,onChange:R=>o(R.target.value),required:!0})]})]}),i.jsx(H,{type:"submit",className:"w-full h-12 sm:h-14 primary-gradient hover:shadow-glow transition-spring text-sm sm:text-base font-medium",disabled:_,children:_?"Signing in...":"Sign In"})]}),i.jsx("div",{className:"mt-3 sm:mt-4 text-center",children:i.jsx(Je,{to:"/forgot-password",className:"text-xs sm:text-sm text-pal-blue hover:underline",children:"Forgot your password?"})})]}),i.jsx(sa,{value:"signup",children:i.jsxs("form",{onSubmit:P,className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"name",className:"text-xs sm:text-sm",children:"Full Name *"}),i.jsxs("div",{className:"relative",children:[i.jsx(_i,{className:"absolute left-2.5 sm:left-3 top-2.5 sm:top-3 h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}),i.jsx(pr,{id:"name",type:"text",placeholder:"Enter your full name (e.g., John Smith)",className:"pl-8 sm:pl-10 h-9 sm:h-10 text-xs sm:text-sm",value:l,onChange:T,required:!0})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"We'll automatically extract your first and last name"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"firstName",className:"text-xs sm:text-sm",children:"First Name"}),i.jsx(pr,{id:"firstName",type:"text",value:u,readOnly:!0,disabled:!0,className:"bg-gray-50 border-gray-200 text-gray-700 cursor-not-allowed h-9 sm:h-10 text-xs sm:text-sm"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Auto-extracted"})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"lastName",className:"text-xs sm:text-sm",children:"Last Name"}),i.jsx(pr,{id:"lastName",type:"text",value:h,readOnly:!0,disabled:!0,className:"bg-gray-50 border-gray-200 text-gray-700 cursor-not-allowed h-9 sm:h-10 text-xs sm:text-sm"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Auto-extracted"})]})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"signup-identifier",className:"text-xs sm:text-sm",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Wa,{className:"absolute left-2.5 sm:left-3 top-2.5 sm:top-3 h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}),i.jsx(pr,{id:"signup-identifier",type:"email",placeholder:"Enter your email address",className:"pl-8 sm:pl-10 h-9 sm:h-10 text-xs sm:text-sm",value:m,onChange:R=>x(R.target.value),required:!0})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"We'll send a verification email to your inbox"})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ft,{htmlFor:"signup-password",className:"text-xs sm:text-sm",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ko,{className:"absolute left-2.5 sm:left-3 top-2.5 sm:top-3 h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}),i.jsx(pr,{id:"signup-password",type:"password",placeholder:"Create a secure password",className:"pl-8 sm:pl-10 h-9 sm:h-10 text-xs sm:text-sm",value:p,onChange:R=>v(R.target.value),required:!0})]})]}),i.jsx(H,{type:"submit",className:"w-full h-12 sm:h-14 primary-gradient hover:shadow-glow transition-spring text-sm sm:text-base font-medium",disabled:_,children:_?"Creating account...":"Create Account"})]})})]}),i.jsx(Os,{className:"my-6"}),i.jsx("div",{className:"text-center text-xs text-muted-foreground",children:i.jsxs("p",{children:["By continuing, you agree to our"," ",i.jsx(Je,{to:"/terms",className:"text-pal-blue hover:underline",children:"Terms of Service"})," ","and"," ",i.jsx(Je,{to:"/privacy",className:"text-pal-blue hover:underline",children:"Privacy Policy"})]})})]})]})]})})})},P2e=()=>{const{sendPasswordResetEmail:t}=Rr(),[e,r]=g.useState(""),[n,s]=g.useState(!1),[a,o]=g.useState(!1),[l,c]=g.useState(""),[u,d]=g.useState("");Jr();const h=async m=>{m.preventDefault(),o(!0),c(""),d("");try{const x=await t(e);x.error?c(x.error.message||"Failed to send reset email"):(s(!0),d("Password reset email sent successfully! Check your inbox."))}catch(x){c(x.message||"An unexpected error occurred")}finally{o(!1)}},f=()=>{window.history.back()};return i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Reset Password"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Enter your email to receive a password reset link"})]}),i.jsxs(xe,{className:"shadow-lg",children:[i.jsx(jt,{className:"space-y-1",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[i.jsx(Cr,{className:"h-6 w-6 text-pal-blue"}),i.jsx("span",{className:"text-lg font-semibold",children:"Secure Password Reset"})]})}),i.jsxs(Ue,{children:[n?i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Check Your Email"}),i.jsxs("p",{className:"text-muted-foreground",children:["We've sent a password reset link to ",i.jsx("strong",{children:e})]}),i.jsxs(Di,{className:"border-green-200 bg-green-50",children:[i.jsx(xt,{className:"h-4 w-4 text-green-600"}),i.jsxs(Mi,{className:"text-sm text-green-800",children:[i.jsx("strong",{children:"Next steps:"}),i.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[i.jsx("li",{children:"Check your email inbox (and spam folder)"}),i.jsx("li",{children:'Click the "Reset Password" link in the email'}),i.jsx("li",{children:"Create a new secure password"}),i.jsx("li",{children:"Sign in with your new password"})]})]})]}),i.jsxs("div",{className:"space-y-3 pt-4",children:[i.jsxs(H,{onClick:h,variant:"outline",className:"w-full",children:[i.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Resend Email"]}),i.jsxs(H,{onClick:f,variant:"ghost",className:"w-full",children:[i.jsx(wn,{className:"h-4 w-4 mr-2"}),"Back to Sign In"]})]})]}):i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs(Di,{className:"border-blue-200 bg-blue-50",children:[i.jsx(It,{className:"h-4 w-4"}),i.jsxs(Mi,{className:"text-sm",children:[i.jsx("strong",{children:"How it works:"})," Enter your email address and we'll send you a secure link to reset your password."]})]}),l&&i.jsxs(Di,{className:"border-red-200 bg-red-50",children:[i.jsx(It,{className:"h-4 w-4 text-red-600"}),i.jsx(Mi,{className:"text-sm text-red-800",children:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ft,{htmlFor:"email",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Wa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(pr,{id:"email",type:"email",placeholder:"Enter your email address",className:"pl-10",value:e,onChange:m=>r(m.target.value),required:!0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll send a password reset link to this email"})]}),i.jsx(H,{type:"submit",className:"w-full primary-gradient hover:shadow-glow transition-spring",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),i.jsx(Os,{className:"my-6"}),i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:i.jsxs("p",{children:["Remember your password?"," ",i.jsx(Je,{to:"/signin",className:"text-pal-blue hover:underline",children:"Sign in here"})]})})]})]})]})})})},A2e=()=>{const{confirmPasswordReset:t}=Rr(),[e]=X7(),[r,n]=g.useState(""),[s,a]=g.useState(""),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState(!1),[f,m]=g.useState(""),[x,p]=g.useState(!1),[v,w]=g.useState(!1),b=Jr(),j=e.get("oobCode");g.useEffect(()=>{j?w(!0):m("Invalid or expired password reset link")},[j]);const N=async E=>{if(E.preventDefault(),h(!0),m(""),r.length<6){m("Password must be at least 6 characters long"),h(!1);return}if(r!==s){m("Passwords do not match"),h(!1);return}try{const C=await t(j,r);C.error?m(C.error.message||"Failed to reset password"):(p(!0),setTimeout(()=>{b("/signin")},3e3))}catch(C){m(C.message||"An unexpected error occurred")}finally{h(!1)}};return v?x?i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsx(xe,{className:"shadow-lg",children:i.jsxs(Ue,{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(xt,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Password Reset Successful!"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Your password has been updated successfully. You will be redirected to the sign-in page in a few seconds."}),i.jsx(H,{onClick:()=>b("/signin"),className:"w-full",children:"Go to Sign In"})]})})})})}):i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Set New Password"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Create a new secure password for your account"})]}),i.jsxs(xe,{className:"shadow-lg",children:[i.jsx(jt,{className:"space-y-1",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[i.jsx(Cr,{className:"h-6 w-6 text-pal-blue"}),i.jsx("span",{className:"text-lg font-semibold",children:"Secure Password Update"})]})}),i.jsxs(Ue,{children:[i.jsxs("form",{onSubmit:N,className:"space-y-4",children:[i.jsxs(Di,{className:"border-blue-200 bg-blue-50",children:[i.jsx(It,{className:"h-4 w-4"}),i.jsxs(Mi,{className:"text-sm",children:[i.jsx("strong",{children:"Security tip:"})," Choose a strong password that you don't use elsewhere."]})]}),f&&i.jsxs(Di,{className:"border-red-200 bg-red-50",children:[i.jsx(It,{className:"h-4 w-4 text-red-600"}),i.jsx(Mi,{className:"text-sm text-red-800",children:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ft,{htmlFor:"password",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ko,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(pr,{id:"password",type:o?"text":"password",placeholder:"Enter new password",className:"pl-10 pr-10",value:r,onChange:E=>n(E.target.value),required:!0,minLength:6}),i.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?i.jsx(HM,{className:"h-4 w-4"}):i.jsx(fr,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters long"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ft,{htmlFor:"confirmPassword",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ko,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(pr,{id:"confirmPassword",type:c?"text":"password",placeholder:"Confirm new password",className:"pl-10 pr-10",value:s,onChange:E=>a(E.target.value),required:!0,minLength:6}),i.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),children:c?i.jsx(HM,{className:"h-4 w-4"}):i.jsx(fr,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Re-enter your new password to confirm"})]}),i.jsx(H,{type:"submit",className:"w-full primary-gradient hover:shadow-glow transition-spring",disabled:d,children:d?"Updating Password...":"Update Password"})]}),i.jsx(Os,{className:"my-6"}),i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:i.jsxs("p",{children:["Remember your password?"," ",i.jsx(H,{variant:"link",className:"p-0 h-auto text-pal-blue hover:underline",onClick:()=>b("/signin"),children:"Sign in here"})]})})]})]})]})})}):i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsx(xe,{className:"shadow-lg",children:i.jsxs(Ue,{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(It,{className:"h-8 w-8 text-red-600"})}),i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Invalid Reset Link"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"This password reset link is invalid or has expired. Please request a new one."}),i.jsx(H,{onClick:()=>b("/forgot-password"),className:"w-full",children:"Request New Reset Link"})]})})})})})},T2e=()=>{const t=Jr();return g.useEffect(()=>{(async()=>{try{const r=new URLSearchParams(window.location.search),n=r.get("mode"),s=r.get("oobCode"),a=r.get("continueUrl")||"/dashboard";if(n==="verifyEmail"&&s)try{await Xne(Ar,s),await Qne(Ar,s),ce({title:"Email verified!",description:"Your email has been successfully verified."}),t(a);return}catch(o){ce({title:"Verification failed",description:o.message,variant:"destructive"}),t("/signin");return}if(ese(Ar,window.location.href)){const o=window.localStorage.getItem("emailForSignIn")||"";if(!o){ce({title:"Email required",description:"Please sign in again.",variant:"destructive"}),t("/signin");return}try{await tse(Ar,o,window.location.href),window.localStorage.removeItem("emailForSignIn"),ce({title:"Signed in",description:"Welcome back!"}),t("/dashboard");return}catch(l){ce({title:"Sign in failed",description:l.message,variant:"destructive"}),t("/signin");return}}t("/signin")}catch{ce({title:"An error occurred",description:"There was an error processing your authentication.",variant:"destructive"}),t("/signin")}})()},[t]),i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pal-blue mx-auto"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Processing authentication..."})]})})})};var gI="Switch",[C2e,eHe]=ba(gI),[k2e,I2e]=C2e(gI),iK=g.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,m]=g.useState(null),x=At(e,j=>m(j)),p=g.useRef(!1),v=f?d||!!f.closest("form"):!0,[w=!1,b]=Za({prop:s,defaultProp:a,onChange:u});return i.jsxs(k2e,{scope:r,checked:w,disabled:l,children:[i.jsx(et.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":lK(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:De(t.onClick,j=>{b(N=>!N),v&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),v&&i.jsx(R2e,{control:f,bubbles:!p.current,name:n,value:c,checked:w,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});iK.displayName=gI;var aK="SwitchThumb",oK=g.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=I2e(aK,r);return i.jsx(et.span,{"data-state":lK(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});oK.displayName=aK;var R2e=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,a=g.useRef(null),o=tI(r),l=GC(e);return g.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&h){const f=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(f)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function lK(t){return t?"checked":"unchecked"}var cK=iK,O2e=oK;const Bd=g.forwardRef(({className:t,...e},r)=>i.jsx(cK,{className:He("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:i.jsx(O2e,{className:He("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Bd.displayName=cK.displayName;const D2e=({items:t})=>{const e=il(),n=t||(()=>{const s=e.pathname.split("/").filter(Boolean),a=[{label:"Home",href:"/"}],o={enquiries:"Browse Enquiries","post-enquiry":"Post Enquiry",profile:"Profile",settings:"Settings",respond:"Submit Response"};return s.forEach((l,c)=>{const u="/"+s.slice(0,c+1).join("/"),d=o[l]||l.charAt(0).toUpperCase()+l.slice(1);a.push({label:d,href:c===s.length-1?void 0:u})}),a})();return n.length<=1?null:i.jsx("nav",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-6",children:n.map((s,a)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[a>0&&i.jsx(DC,{className:"h-4 w-4"}),s.href?i.jsxs(Je,{to:s.href,className:"hover:text-foreground transition-colors flex items-center space-x-1",children:[a===0&&i.jsx(pu,{className:"h-4 w-4"}),i.jsx("span",{children:s.label})]}):i.jsxs("span",{className:"text-foreground font-medium flex items-center space-x-1",children:[a===0&&i.jsx(pu,{className:"h-4 w-4"}),i.jsx("span",{children:s.label})]})]},a))})},M2e=({isOpen:t,onClose:e,onConfirm:r,userName:n})=>{const[s,a]=g.useState(!1),[o,l]=g.useState(""),[c,u]=g.useState(!1),d=async()=>{c&&(a(!0),await r(),a(!1),e())},h=f=>{const m=f.target.value;l(m),u(m.toLowerCase()==="delete")};return t?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:i.jsxs(xe,{className:"w-80 sm:w-96 mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs(jt,{className:"text-center pb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx(rn,{className:"h-6 w-6 text-red-600"})}),i.jsx(mr,{className:"text-lg sm:text-xl text-slate-900",children:"Delete Account"})]}),i.jsxs(Ue,{className:"space-y-4",children:[i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm sm:text-base text-slate-600 mb-4",children:["Are you sure you want to permanently delete your account",n?`, ${n}`:"","?"]})}),i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 space-y-2",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(It,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-xs sm:text-sm text-red-800",children:[i.jsx("p",{className:"font-semibold mb-1",children:"This action cannot be undone!"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[i.jsx("li",{children:" All your enquiries will be deleted"}),i.jsx("li",{children:" All your responses will be deleted"}),i.jsx("li",{children:" Your profile data will be removed"}),i.jsx("li",{children:" You will be signed out immediately"})]})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ft,{htmlFor:"confirmation",className:"text-sm font-medium",children:["Type ",i.jsx("span",{className:"font-bold text-red-600",children:"DELETE"})," to confirm:"]}),i.jsx(pr,{id:"confirmation",value:o,onChange:h,placeholder:"Type DELETE here",className:"text-sm",disabled:s})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2",children:[i.jsx(H,{variant:"outline",onClick:e,className:"flex-1",disabled:s,children:"Cancel"}),i.jsxs(H,{variant:"destructive",onClick:d,disabled:!c||s,className:"flex-1",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),s?"Deleting...":"Delete Account"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 pt-2",children:[i.jsx(Cr,{className:"h-3 w-3"}),i.jsx("span",{children:"Your data will be permanently removed from our servers"})]})]})]})}):null},$2e=()=>{const{user:t}=mm(),{user:e,deleteAccount:r}=Rr(),[n,s]=g.useState(!1),[a,o]=g.useState([]),[l,c]=g.useState(!1),[u,d]=g.useState({profileVisibility:"public",showContactInfo:!0,dataCollection:!0}),[h,f]=g.useState({language:"en",timezone:"Asia/Kolkata",currency:"INR"}),[m,x]=g.useState({voiceCommands:!0,touchGestures:!0,mobileOptimization:!0,isRecording:!1}),[p,v]=g.useState({name:(t==null?void 0:t.name)||(e==null?void 0:e.displayName)||"",email:(t==null?void 0:t.email)||(e==null?void 0:e.email)||"",role:"buyer",bio:""}),[w,b]=g.useState(!1);g.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{const S=ke(oe,"userProfiles",e.uid),A=await Vt(S);if(A.exists()){const T=A.data();v({name:T.fullName||e.displayName||"",email:e.email||"",role:T.role||"buyer",bio:T.bio||""}),d({profileVisibility:T.profileVisibility||"public",showContactInfo:T.showContactInfo!==!1,dataCollection:T.dataCollection!==!1}),f({language:T.language||"en",timezone:T.timezone||"Asia/Kolkata",currency:T.currency||"INR"}),x({voiceCommands:T.voiceCommands!==!1,touchGestures:T.touchGestures!==!1,mobileOptimization:T.mobileOptimization!==!1,isRecording:!1})}}catch(S){console.error("Failed to load user profile:",S)}})()},[e==null?void 0:e.uid]);const j=async()=>{if(e!=null&&e.uid){b(!0);try{await bn(ke(oe,"userProfiles",e.uid),{userId:e.uid,fullName:p.name,email:p.email,role:p.role,bio:p.bio,updatedAt:$e()},{merge:!0}),ce({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(_){console.error("Failed to save profile:",_),ce({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"})}finally{b(!1)}}},N=async()=>{if(e!=null&&e.uid){b(!0);try{await bn(ke(oe,"userProfiles",e.uid),{profileVisibility:u.profileVisibility,showContactInfo:u.showContactInfo,dataCollection:u.dataCollection,updatedAt:$e()},{merge:!0}),ce({title:"Privacy Settings Updated",description:"Your privacy settings have been saved."})}catch(_){console.error("Failed to save privacy settings:",_),ce({title:"Error",description:"Failed to save privacy settings. Please try again.",variant:"destructive"})}finally{b(!1)}}},E=async()=>{if(e!=null&&e.uid){b(!0);try{await bn(ke(oe,"userProfiles",e.uid),{language:h.language,timezone:h.timezone,currency:h.currency,updatedAt:$e()},{merge:!0}),ce({title:"Preferences Updated",description:"Your preferences have been saved."})}catch(_){console.error("Failed to save preferences:",_),ce({title:"Error",description:"Failed to save preferences. Please try again.",variant:"destructive"})}finally{b(!1)}}},C=async()=>{if(e!=null&&e.uid){b(!0);try{await bn(ke(oe,"userProfiles",e.uid),{voiceCommands:m.voiceCommands,touchGestures:m.touchGestures,mobileOptimization:m.mobileOptimization,updatedAt:$e()},{merge:!0}),ce({title:"AI Features Updated",description:"Your AI feature settings have been saved."})}catch(_){console.error("Failed to save AI features:",_),ce({title:"Error",description:"Failed to save AI features. Please try again.",variant:"destructive"})}finally{b(!1)}}};return g.useEffect(()=>{(async()=>{var S,A;if(e!=null&&e.uid){c(!0);try{const T=bt(Ze(oe,"payments"),Pt("userId","==",e.uid),ln("purchasedAt","desc")),I=await Bt(T),P=[];for(const R of I.docs){const M=R.data(),q={id:R.id,enquiryId:M.enquiryId||"",planId:M.planId||"",planPrice:M.planPrice||0,responsesUnlocked:M.responsesUnlocked||0,isUnlimited:M.isUnlimited||!1,purchasedAt:((S=M.purchasedAt)==null?void 0:S.toDate())||new Date,isActive:M.isActive!==!1,paymentMethod:M.paymentMethod||"card",transactionId:M.transactionId||""};try{const W=ke(oe,"enquiries",q.enquiryId),B=await Vt(W);B.exists()&&(q.enquiryTitle=((A=B.data())==null?void 0:A.title)||"Untitled Enquiry")}catch(W){console.warn("Could not fetch enquiry title:",W)}P.push(q)}o(P)}catch(T){console.error("Failed to fetch purchase history:",T)}finally{c(!1)}}})()},[e==null?void 0:e.uid]),i.jsxs(wt,{children:[i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx(D2e,{}),i.jsxs("div",{className:"mb-6 sm:mb-8",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"Settings"}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage your account preferences and platform settings"})]}),i.jsxs(pI,{defaultValue:"profile",className:"space-y-4 sm:space-y-6",children:[i.jsxs(Nj,{className:"grid w-full grid-cols-3 sm:grid-cols-5 overflow-x-auto sm:overflow-visible",children:[i.jsx(na,{value:"profile",className:"text-xs sm:text-sm px-2 sm:px-3",children:"Profile"}),i.jsx(na,{value:"privacy",className:"text-xs sm:text-sm px-2 sm:px-3",children:"Privacy"}),i.jsx(na,{value:"premium",className:"text-xs sm:text-sm px-2 sm:px-3",children:"Premium History"}),i.jsx(na,{value:"preferences",className:"text-xs sm:text-sm px-2 sm:px-3",children:"Preferences"}),i.jsx(na,{value:"ai",className:"text-xs sm:text-sm px-2 sm:px-3",children:"AI Features"})]}),i.jsx(sa,{value:"profile",className:"space-y-4 sm:space-y-6",children:i.jsxs(xe,{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[i.jsx(_i,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Profile Information"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Full Name"}),i.jsx(pr,{value:p.name,onChange:_=>v({...p,name:_.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Email"}),i.jsx(pr,{value:p.email,type:"email",disabled:!0,className:"opacity-60"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Role"}),i.jsxs(Ol,{value:p.role,onValueChange:_=>v({...p,role:_}),children:[i.jsx(No,{children:i.jsx(Dl,{})}),i.jsxs(So,{children:[i.jsx(Or,{value:"buyer",children:"Buyer"}),i.jsx(Or,{value:"supplier",children:"Supplier"}),i.jsx(Or,{value:"both",children:"Both"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Bio"}),i.jsx("textarea",{className:"w-full min-h-[100px] p-3 border border-border rounded-md bg-background",placeholder:"Tell us about yourself...",value:p.bio,onChange:_=>v({...p,bio:_.target.value})})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx(Te,{variant:"secondary",className:"text-xs",children:"Credit-Based User"}),i.jsxs(Te,{variant:"outline",className:"text-xs text-pal-blue",children:[i.jsx(hi,{className:"h-3 w-3 mr-1"}),"Pay-per-Use"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-2 pt-4",children:[i.jsx(H,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>v({name:(t==null?void 0:t.name)||(e==null?void 0:e.displayName)||"",email:(t==null?void 0:t.email)||(e==null?void 0:e.email)||"",role:"buyer",bio:""}),children:"Cancel"}),i.jsx(H,{className:"w-full sm:w-auto bg-pal-blue hover:bg-pal-blue-dark",onClick:j,disabled:w,children:w?"Saving...":"Save Changes"})]})]})]})}),i.jsx(sa,{value:"privacy",className:"space-y-4 sm:space-y-6",children:i.jsxs(xe,{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[i.jsx(Cr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Privacy & Security"})]}),i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium block mb-2",children:"Profile Visibility"}),i.jsxs(Ol,{value:u.profileVisibility,onValueChange:_=>d(S=>({...S,profileVisibility:_})),children:[i.jsx(No,{children:i.jsx(Dl,{})}),i.jsxs(So,{children:[i.jsx(Or,{value:"public",children:"Public - Anyone can see"}),i.jsx(Or,{value:"verified",children:"Verified Users Only"}),i.jsx(Or,{value:"private",children:"Private - Hidden"})]})]})]}),i.jsx(Os,{}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Show Contact Information"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Allow verified users to see your contact details"})]}),i.jsx(Bd,{checked:u.showContactInfo,onCheckedChange:_=>d(S=>({...S,showContactInfo:_})),className:"sm:ml-4"})]}),i.jsx(Os,{}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Data Collection"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Allow PAL to collect analytics for improving your experience"})]}),i.jsx(Bd,{checked:u.dataCollection,onCheckedChange:_=>d(S=>({...S,dataCollection:_})),className:"sm:ml-4"})]}),i.jsx(Os,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Data Management"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[i.jsxs(H,{variant:"outline",className:"flex items-center justify-center sm:justify-start w-full",children:[i.jsx(fr,{className:"h-4 w-4 mr-2"}),"View My Data"]}),i.jsxs(H,{variant:"outline",className:"flex items-center justify-center sm:justify-start w-full",children:[i.jsx(WM,{className:"h-4 w-4 mr-2"}),"Export Data"]}),i.jsxs(H,{variant:"outline",className:"flex items-center justify-center sm:justify-start w-full text-destructive hover:text-destructive sm:col-span-2 md:col-span-1",onClick:()=>s(!0),children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Delete Account"]})]})]}),i.jsx("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-2 pt-4",children:i.jsx(H,{className:"w-full sm:w-auto bg-pal-blue hover:bg-pal-blue-dark",onClick:N,disabled:w,children:w?"Saving...":"Save Privacy Settings"})})]})]})}),i.jsx(sa,{value:"premium",className:"space-y-4 sm:space-y-6",children:i.jsxs(xe,{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[i.jsx(qce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Premium Purchase History"})]}),i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[l?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading purchase history..."})}):a.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(un,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 opacity-50"}),i.jsx("h3",{className:"text-sm sm:text-base font-medium text-foreground mb-2",children:"No Premium Purchases Yet"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Your premium purchase history will appear here once you make a purchase."})]}):i.jsx("div",{className:"space-y-3",children:a.map(_=>i.jsx("div",{className:"p-4 bg-muted/20 rounded-lg border border-border/50 hover:border-border transition-colors",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[i.jsx("div",{className:"flex-1 space-y-2",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-pal-blue/10 rounded-lg flex-shrink-0",children:i.jsx(un,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("h3",{className:"text-sm sm:text-base font-semibold text-foreground",children:[_.planId.charAt(0).toUpperCase()+_.planId.slice(1)," Plan"]}),_.isActive&&i.jsx(Te,{variant:"default",className:"text-xs",children:"Active"})]}),_.enquiryTitle&&i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1 truncate",children:_.enquiryTitle}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(OC,{className:"h-3 w-3"}),i.jsx("span",{children:_.purchasedAt.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})})]}),_.responsesUnlocked>0&&i.jsx(Te,{variant:"outline",className:"text-xs",children:_.isUnlimited?"Unlimited":`${_.responsesUnlocked} Responses`}),i.jsx("span",{className:"text-xs text-muted-foreground",children:_.transactionId?`TXN: ${_.transactionId.slice(-8)}`:""})]})]})]})}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsx("div",{className:"text-lg sm:text-xl font-bold text-foreground",children:Nb(_.planPrice)}),i.jsx(Te,{variant:"secondary",className:"text-xs",children:_.paymentMethod==="card"?"Card":_.paymentMethod})]})]})},_.id))}),a.length>0&&i.jsx("div",{className:"pt-4 border-t",children:i.jsxs(H,{variant:"outline",className:"w-full sm:w-auto flex items-center",children:[i.jsx(WM,{className:"h-4 w-4 mr-2"}),"Download All Receipts"]})})]})]})}),i.jsx(sa,{value:"preferences",className:"space-y-4 sm:space-y-6",children:i.jsxs(xe,{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[i.jsx(Vce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Platform Preferences"})]}),i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Language"}),i.jsxs(Ol,{value:h.language,onValueChange:_=>f(S=>({...S,language:_})),children:[i.jsx(No,{children:i.jsx(Dl,{})}),i.jsxs(So,{children:[i.jsx(Or,{value:"en",children:"English"}),i.jsx(Or,{value:"hi",children:" (Hindi)"}),i.jsx(Or,{value:"mr",children:" (Marathi)"}),i.jsx(Or,{value:"gu",children:" (Gujarati)"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Timezone"}),i.jsxs(Ol,{value:h.timezone,onValueChange:_=>f(S=>({...S,timezone:_})),children:[i.jsx(No,{children:i.jsx(Dl,{})}),i.jsxs(So,{children:[i.jsx(Or,{value:"Asia/Kolkata",children:"IST (Asia/Kolkata)"}),i.jsx(Or,{value:"Asia/Mumbai",children:"IST (Asia/Mumbai)"}),i.jsx(Or,{value:"UTC",children:"UTC"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Currency"}),i.jsxs(Ol,{value:h.currency,onValueChange:_=>f(S=>({...S,currency:_})),children:[i.jsx(No,{className:"w-full sm:w-48",children:i.jsx(Dl,{})}),i.jsxs(So,{children:[i.jsx(Or,{value:"INR",children:" Indian Rupee (INR)"}),i.jsx(Or,{value:"USD",children:"$ US Dollar (USD)"}),i.jsx(Or,{value:"EUR",children:" Euro (EUR)"})]})]})]}),i.jsx(Os,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Danger Zone"}),i.jsx("div",{className:"p-4 border border-destructive/20 rounded-lg bg-destructive/5",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(It,{className:"h-4 w-4 sm:h-5 sm:w-5 text-destructive mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm sm:text-base font-medium text-destructive",children:"Delete Account"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Permanently delete your account and all associated data. This action cannot be undone."}),i.jsx(H,{variant:"destructive",size:"sm",className:"mt-3 w-full sm:w-auto",onClick:()=>s(!0),children:"Delete My Account"})]})]})})]}),i.jsx("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-2 pt-4",children:i.jsx(H,{className:"w-full sm:w-auto bg-pal-blue hover:bg-pal-blue-dark",onClick:E,disabled:w,children:w?"Saving...":"Save Preferences"})})]})]})}),i.jsx(sa,{value:"ai",className:"space-y-4 sm:space-y-6",children:i.jsxs(xe,{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[i.jsx(YM,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"AI Features & Mobile Controls"})]}),i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg flex-shrink-0",children:i.jsx(lue,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Voice Commands"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Use voice to control the app"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 sm:ml-4",children:[i.jsx(Bd,{checked:m.voiceCommands,onCheckedChange:_=>x(S=>({...S,voiceCommands:_}))}),m.voiceCommands&&i.jsxs(H,{size:"sm",variant:m.isRecording?"destructive":"default",onClick:()=>x(_=>({..._,isRecording:!_.isRecording})),className:"ml-2",children:[m.isRecording?i.jsx(Kce,{className:"h-4 w-4 mr-1"}):i.jsx(lu,{className:"h-4 w-4 mr-1"}),m.isRecording?"Stop":"Test"]})]})]}),i.jsx(Os,{}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg flex-shrink-0",children:i.jsx(GM,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Touch Gestures"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Swipe and tap gestures for navigation"})]})]}),i.jsx(Bd,{checked:m.touchGestures,onCheckedChange:_=>x(S=>({...S,touchGestures:_})),className:"sm:ml-4"})]}),i.jsx(Os,{}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[i.jsx("div",{className:"p-2 bg-gray-100 rounded-lg flex-shrink-0",children:i.jsx(df,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-800"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Mobile Optimization"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Enhanced mobile experience and performance"})]})]}),i.jsx(Bd,{checked:m.mobileOptimization,onCheckedChange:_=>x(S=>({...S,mobileOptimization:_})),className:"sm:ml-4"})]}),i.jsx(Os,{}),i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[i.jsxs("h4",{className:"text-xs sm:text-sm font-medium text-green-800 mb-3 flex items-center",children:[i.jsx(lu,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Voice Commands"]}),i.jsxs("ul",{className:"text-xs sm:text-sm text-green-700 space-y-1",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:'"Search for enquiries"'})," - Find requests"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:'"Post new enquiry"'})," - Create new post"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:'"Show dashboard"'})," - Go to dashboard"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:'"Show my responses"'})," - View responses"]})]})]}),i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[i.jsxs("h4",{className:"text-xs sm:text-sm font-medium text-blue-800 mb-3 flex items-center",children:[i.jsx(GM,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Touch Gestures"]}),i.jsxs("ul",{className:"text-xs sm:text-sm text-blue-700 space-y-1",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Swipe left/right:"})," Navigate between items"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Swipe up/down:"})," Refresh/load more"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Long press:"})," Context menu"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Double tap:"})," Quick action"]})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[i.jsxs("h4",{className:"text-xs sm:text-sm font-medium text-slate-800 mb-3 flex items-center",children:[i.jsx(YM,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"AI Status"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-600",children:"Voice Commands"}),i.jsx(Te,{variant:m.voiceCommands?"default":"secondary",className:"text-xs",children:m.voiceCommands?"Enabled":"Disabled"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-600",children:"Touch Gestures"}),i.jsx(Te,{variant:m.touchGestures?"default":"secondary",className:"text-xs",children:m.touchGestures?"Enabled":"Disabled"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-600",children:"Mobile Optimization"}),i.jsx(Te,{variant:m.mobileOptimization?"default":"secondary",className:"text-xs",children:m.mobileOptimization?"Enabled":"Disabled"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-600",children:"Network Status"}),i.jsx(Te,{variant:"outline",className:"text-xs",children:"Online"})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-2 pt-4",children:[i.jsx(H,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>x({voiceCommands:!0,touchGestures:!0,mobileOptimization:!0,isRecording:!1}),children:"Reset to Default"}),i.jsx(H,{className:"w-full sm:w-auto bg-pal-blue hover:bg-pal-blue-dark",onClick:C,disabled:w,children:w?"Saving...":"Save Settings"})]})]})]})})]})]})}),i.jsx(M2e,{isOpen:n,onClose:()=>s(!1),onConfirm:r,userName:(t==null?void 0:t.displayName)||void 0})]})},L2e=()=>{const t=g.useContext(wa),e=Jr(),[r,n]=g.useState("all"),[s,a]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(""),[d,h]=g.useState("");if(!t)return i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-4 sm:py-6 px-4",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs(xe,{className:"p-8 text-center",children:[i.jsx(jh,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-gray-500",children:"Notifications not available"})]})})})});const{notifications:f=[],unreadCount:m=0,markAsRead:x,markAsUnread:p,markAllAsRead:v,clearAllNotifications:w}=t,b=r==="unread"?(Array.isArray(f)?f:[]).filter(S=>S&&!S.read):Array.isArray(f)?f:[],j=(S,A)=>{if(!(!S||!x))try{if(x(S),A){let T=A;A.startsWith("/enquiry-responses/")&&(T=`/enquiry/${A.replace("/enquiry-responses/","")}/responses-page`),e(T)}}catch(T){console.error("Failed to handle notification click:",T)}},N=(S,A)=>{if(A.stopPropagation(),!(!S||!p))try{p(S)}catch(T){console.error("Failed to mark notification as unread:",T)}},E=()=>{w&&(u("Delete All Notifications"),h("Are you sure you want to delete all notifications? This action cannot be undone."),l(async()=>{try{await w(),a(!1)}catch(S){console.error("Failed to clear notifications:",S),a(!1)}}),a(!0))},C=()=>{o&&o()},_=()=>{a(!1),l(null)};return i.jsxs(wt,{children:[i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-3 sm:py-8 px-3 sm:px-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-4 sm:mb-8",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 mb-4 sm:mb-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-9 h-9 sm:w-12 sm:h-12 bg-gray-800 rounded-lg sm:rounded-xl flex items-center justify-center shadow-sm",children:i.jsx(jh,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900 tracking-tight leading-tight",children:"Notifications"}),i.jsx("p",{className:"text-xs sm:text-base text-gray-600 mt-0.5 font-medium",children:m>0?i.jsxs("span",{className:"text-gray-800",children:[m," unread",m>1?"s":""]}):i.jsx("span",{className:"text-green-600 font-semibold",children:"All caught up!"})})]})]})}),f.length>0&&i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3",children:[m>0&&v&&i.jsxs("button",{onClick:()=>{try{v()}catch(S){console.error("Failed to mark all as read:",S)}},className:"text-[11px] sm:text-sm bg-gray-800 hover:bg-gray-900 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-semibold transition-all duration-200 flex items-center gap-1 shadow-sm hover:shadow-md active:scale-95 touch-manipulation min-h-[36px] sm:min-h-[40px]",children:[i.jsx(xt,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),i.jsx("span",{className:"hidden sm:inline",children:"Mark all read"}),i.jsx("span",{className:"sm:hidden",children:"Read"})]}),i.jsxs("button",{onClick:E,className:"text-[11px] sm:text-sm bg-gray-800 hover:bg-gray-900 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-semibold transition-all duration-200 flex items-center gap-1 shadow-sm hover:shadow-md active:scale-95 touch-manipulation min-h-[36px] sm:min-h-[40px]",children:[i.jsx(rn,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),i.jsx("span",{className:"hidden sm:inline",children:"Clear all"}),i.jsx("span",{className:"sm:hidden",children:"Clear"})]})]})]}),f.length>0&&i.jsxs("div",{className:"flex gap-1.5 sm:gap-3 bg-white rounded-lg sm:rounded-xl p-1 sm:p-1.5 shadow-sm border border-gray-200 w-full sm:w-auto",children:[i.jsxs("button",{onClick:()=>n("all"),className:`text-[11px] sm:text-sm px-3 sm:px-5 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-semibold transition-all duration-200 flex-1 sm:flex-none text-center touch-manipulation min-h-[36px] sm:min-h-[40px] ${r==="all"?"bg-gray-800 text-white shadow-sm":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:["All ",i.jsxs("span",{className:"text-[9px] sm:text-xs opacity-90",children:["(",f.length,")"]})]}),i.jsxs("button",{onClick:()=>n("unread"),className:`text-[11px] sm:text-sm px-3 sm:px-5 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-semibold transition-all duration-200 flex-1 sm:flex-none text-center touch-manipulation min-h-[36px] sm:min-h-[40px] ${r==="unread"?"bg-gray-800 text-white shadow-sm":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:["Unread ",i.jsxs("span",{className:"text-[9px] sm:text-xs opacity-90",children:["(",m,")"]})]})]})]}),b.length===0?i.jsxs(xe,{className:"p-6 sm:p-16 text-center bg-white shadow-sm border border-gray-200",children:[i.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:i.jsx(jh,{className:"w-8 h-8 sm:w-12 sm:h-12 text-gray-400"})}),i.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3 tracking-tight",children:r==="unread"?"No unread notifications":"No notifications yet"}),i.jsx("p",{className:"text-xs sm:text-base text-gray-600 mb-6 sm:mb-8 max-w-md mx-auto leading-relaxed px-2",children:r==="unread"?"You're all caught up! Check back later for new updates.":"When you get notifications, they'll appear here."}),r==="unread"&&f.length>0&&i.jsx("button",{onClick:()=>n("all"),className:"bg-gray-800 hover:bg-gray-900 text-white px-5 sm:px-6 py-2 sm:py-2.5 rounded-lg font-semibold text-xs sm:text-sm transition-all duration-200 shadow-sm hover:shadow-md active:scale-95 touch-manipulation min-h-[36px]",children:"View all notifications"})]}):i.jsx("div",{className:"space-y-2.5 sm:space-y-4",children:b.map(S=>!S||!S.id?null:i.jsx(xe,{onClick:()=>j(S.id,S.actionUrl),className:`group p-3 sm:p-5 cursor-pointer transition-all duration-200 border touch-manipulation active:scale-[0.98] ${S.read?"bg-white border-gray-200 hover:shadow-md hover:border-gray-300":"bg-gray-800/5 border-gray-800/20 shadow-sm hover:shadow-md hover:border-gray-800/30"}`,children:i.jsxs("div",{className:"flex gap-2.5 sm:gap-4",children:[i.jsx("div",{className:`flex-shrink-0 w-10 h-10 sm:w-14 sm:h-14 rounded-lg sm:rounded-xl flex items-center justify-center shadow-sm ${S.type==="admin_approval"?"bg-green-50 border-2 border-green-200":S.type==="new_response"||S.type==="new_chat"?"bg-gray-800/10 border-2 border-gray-800/20":S.type==="enquiry_update"?"bg-yellow-50 border-2 border-yellow-200":S.type==="achievement"?"bg-green-50 border-2 border-green-200":(S.type==="system"||S.type==="reminder","bg-gray-800/10 border-2 border-gray-800/20")}`,children:i.jsx(hi,{className:`w-5 h-5 sm:w-7 sm:h-7 ${S.type==="admin_approval"?"text-green-600":S.type==="new_response"||S.type==="new_chat"?"text-gray-800":S.type==="enquiry_update"?"text-yellow-600":S.type==="achievement"?"text-green-600":(S.type==="system"||S.type==="reminder","text-gray-800")}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-3 mb-1.5 sm:mb-2",children:[i.jsx("h3",{className:"text-sm sm:text-lg font-bold text-gray-900 line-clamp-2 leading-tight tracking-tight flex-1",children:S.title||"Notification"}),i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:[!S.read&&i.jsx("div",{className:"flex-shrink-0 w-2 h-2 sm:w-2.5 sm:h-2.5 bg-gray-800 rounded-full mt-1 sm:mt-1.5 animate-pulse"}),S.read&&i.jsx("button",{onClick:A=>N(S.id,A),className:"p-1.5 sm:p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Mark as unread",children:i.jsx(Wa,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 hover:text-gray-700"})})]})]}),i.jsx("p",{className:"text-xs sm:text-base text-gray-600 mb-2 sm:mb-3 line-clamp-2 leading-relaxed",children:S.message||"No message"}),i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3 flex-wrap",children:[i.jsx("span",{className:"text-[10px] sm:text-sm text-gray-500 font-medium",children:S.timestamp?xH(new Date(S.timestamp),{addSuffix:!0}):"Just now"}),S.priority&&i.jsx("span",{className:`text-[9px] sm:text-xs px-1.5 sm:px-2 py-0.5 rounded-full font-semibold ${S.priority==="urgent"?"bg-red-100 text-red-700":S.priority==="high"?"bg-gray-800 text-white":S.priority==="medium"?"bg-gray-600 text-white":"bg-gray-400 text-white"}`,children:S.priority}),S.read&&i.jsx("span",{className:"text-[9px] sm:text-xs px-1.5 sm:px-2 py-0.5 rounded-full bg-gray-100 text-gray-600 font-medium",children:"Read"})]})]})]})},S.id))})]})}),s&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998] transition-opacity duration-200",onClick:_}),i.jsx("div",{className:"fixed inset-x-0 bottom-0 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 z-[9999] transition-all duration-300",children:i.jsxs(xe,{className:"mx-3 sm:mx-auto sm:w-[400px] bg-white shadow-2xl border border-gray-200 rounded-t-2xl sm:rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:i.jsx(It,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})}),i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white",children:c})]}),i.jsx("button",{onClick:_,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg hover:bg-white/10 transition-colors flex items-center justify-center touch-manipulation",children:i.jsx(Qr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsx("p",{className:"text-sm sm:text-base text-gray-700 leading-relaxed mb-6 sm:mb-8",children:d}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3",children:[i.jsx("button",{onClick:_,className:"flex-1 px-4 py-2.5 sm:py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-semibold text-sm sm:text-base hover:bg-gray-50 transition-colors touch-manipulation min-h-[44px] active:scale-95",children:"Cancel"}),i.jsx("button",{onClick:C,className:"flex-1 px-4 py-2.5 sm:py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg font-semibold text-sm sm:text-base transition-colors touch-manipulation min-h-[44px] active:scale-95 shadow-sm",children:"Confirm"})]})]})]})})]})]})},F2e=()=>{const t=il(),e=Jr();return g.useEffect(()=>{const r=t.pathname;if(r.startsWith("/enquiry-responses/")){const n=r.replace("/enquiry-responses/","");if(n){e(`/enquiry/${n}/responses-page`,{replace:!0});return}}r.includes("enquiry-responses")||console.warn("404: Route not found:",r)},[t.pathname,e]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("button",{onClick:()=>e("/"),className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var V2e=Array.isArray,Gs=V2e,B2e=typeof Zy=="object"&&Zy&&Zy.Object===Object&&Zy,uK=B2e,U2e=uK,q2e=typeof self=="object"&&self&&self.Object===Object&&self,z2e=U2e||q2e||Function("return this")(),ao=z2e,W2e=ao,H2e=W2e.Symbol,Py=H2e,p3=Py,dK=Object.prototype,G2e=dK.hasOwnProperty,K2e=dK.toString,op=p3?p3.toStringTag:void 0;function Y2e(t){var e=G2e.call(t,op),r=t[op];try{t[op]=void 0;var n=!0}catch{}var s=K2e.call(t);return n&&(e?t[op]=r:delete t[op]),s}var Q2e=Y2e,X2e=Object.prototype,J2e=X2e.toString;function Z2e(t){return J2e.call(t)}var eSe=Z2e,g3=Py,tSe=Q2e,rSe=eSe,nSe="[object Null]",sSe="[object Undefined]",x3=g3?g3.toStringTag:void 0;function iSe(t){return t==null?t===void 0?sSe:nSe:x3&&x3 in Object(t)?tSe(t):rSe(t)}var al=iSe;function aSe(t){return t!=null&&typeof t=="object"}var ol=aSe,oSe=al,lSe=ol,cSe="[object Symbol]";function uSe(t){return typeof t=="symbol"||lSe(t)&&oSe(t)==cSe}var bm=uSe,dSe=Gs,hSe=bm,fSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mSe=/^\w*$/;function pSe(t,e){if(dSe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||hSe(t)?!0:mSe.test(t)||!fSe.test(t)||e!=null&&t in Object(e)}var xI=pSe;function gSe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Uc=gSe;const wm=Xt(Uc);var xSe=al,ySe=Uc,vSe="[object AsyncFunction]",bSe="[object Function]",wSe="[object GeneratorFunction]",jSe="[object Proxy]";function NSe(t){if(!ySe(t))return!1;var e=xSe(t);return e==bSe||e==wSe||e==vSe||e==jSe}var yI=NSe;const mt=Xt(yI);var SSe=ao,ESe=SSe["__core-js_shared__"],_Se=ESe,cS=_Se,y3=function(){var t=/[^.]+$/.exec(cS&&cS.keys&&cS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function PSe(t){return!!y3&&y3 in t}var ASe=PSe,TSe=Function.prototype,CSe=TSe.toString;function kSe(t){if(t!=null){try{return CSe.call(t)}catch{}try{return t+""}catch{}}return""}var hK=kSe,ISe=yI,RSe=ASe,OSe=Uc,DSe=hK,MSe=/[\\^$.*+?()[\]{}|]/g,$Se=/^\[object .+?Constructor\]$/,LSe=Function.prototype,FSe=Object.prototype,VSe=LSe.toString,BSe=FSe.hasOwnProperty,USe=RegExp("^"+VSe.call(BSe).replace(MSe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qSe(t){if(!OSe(t)||RSe(t))return!1;var e=ISe(t)?USe:$Se;return e.test(DSe(t))}var zSe=qSe;function WSe(t,e){return t==null?void 0:t[e]}var HSe=WSe,GSe=zSe,KSe=HSe;function YSe(t,e){var r=KSe(t,e);return GSe(r)?r:void 0}var yd=YSe,QSe=yd,XSe=QSe(Object,"create"),Sj=XSe,v3=Sj;function JSe(){this.__data__=v3?v3(null):{},this.size=0}var ZSe=JSe;function eEe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var tEe=eEe,rEe=Sj,nEe="__lodash_hash_undefined__",sEe=Object.prototype,iEe=sEe.hasOwnProperty;function aEe(t){var e=this.__data__;if(rEe){var r=e[t];return r===nEe?void 0:r}return iEe.call(e,t)?e[t]:void 0}var oEe=aEe,lEe=Sj,cEe=Object.prototype,uEe=cEe.hasOwnProperty;function dEe(t){var e=this.__data__;return lEe?e[t]!==void 0:uEe.call(e,t)}var hEe=dEe,fEe=Sj,mEe="__lodash_hash_undefined__";function pEe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=fEe&&e===void 0?mEe:e,this}var gEe=pEe,xEe=ZSe,yEe=tEe,vEe=oEe,bEe=hEe,wEe=gEe;function jm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}jm.prototype.clear=xEe;jm.prototype.delete=yEe;jm.prototype.get=vEe;jm.prototype.has=bEe;jm.prototype.set=wEe;var jEe=jm;function NEe(){this.__data__=[],this.size=0}var SEe=NEe;function EEe(t,e){return t===e||t!==t&&e!==e}var vI=EEe,_Ee=vI;function PEe(t,e){for(var r=t.length;r--;)if(_Ee(t[r][0],e))return r;return-1}var Ej=PEe,AEe=Ej,TEe=Array.prototype,CEe=TEe.splice;function kEe(t){var e=this.__data__,r=AEe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():CEe.call(e,r,1),--this.size,!0}var IEe=kEe,REe=Ej;function OEe(t){var e=this.__data__,r=REe(e,t);return r<0?void 0:e[r][1]}var DEe=OEe,MEe=Ej;function $Ee(t){return MEe(this.__data__,t)>-1}var LEe=$Ee,FEe=Ej;function VEe(t,e){var r=this.__data__,n=FEe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var BEe=VEe,UEe=SEe,qEe=IEe,zEe=DEe,WEe=LEe,HEe=BEe;function Nm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Nm.prototype.clear=UEe;Nm.prototype.delete=qEe;Nm.prototype.get=zEe;Nm.prototype.has=WEe;Nm.prototype.set=HEe;var _j=Nm,GEe=yd,KEe=ao,YEe=GEe(KEe,"Map"),bI=YEe,b3=jEe,QEe=_j,XEe=bI;function JEe(){this.size=0,this.__data__={hash:new b3,map:new(XEe||QEe),string:new b3}}var ZEe=JEe;function e_e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var t_e=e_e,r_e=t_e;function n_e(t,e){var r=t.__data__;return r_e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Pj=n_e,s_e=Pj;function i_e(t){var e=s_e(this,t).delete(t);return this.size-=e?1:0,e}var a_e=i_e,o_e=Pj;function l_e(t){return o_e(this,t).get(t)}var c_e=l_e,u_e=Pj;function d_e(t){return u_e(this,t).has(t)}var h_e=d_e,f_e=Pj;function m_e(t,e){var r=f_e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var p_e=m_e,g_e=ZEe,x_e=a_e,y_e=c_e,v_e=h_e,b_e=p_e;function Sm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Sm.prototype.clear=g_e;Sm.prototype.delete=x_e;Sm.prototype.get=y_e;Sm.prototype.has=v_e;Sm.prototype.set=b_e;var wI=Sm,fK=wI,w_e="Expected a function";function jI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(w_e);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=t.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(jI.Cache||fK),r}jI.Cache=fK;var mK=jI;const j_e=Xt(mK);var N_e=mK,S_e=500;function E_e(t){var e=N_e(t,function(n){return r.size===S_e&&r.clear(),n}),r=e.cache;return e}var __e=E_e,P_e=__e,A_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T_e=/\\(\\)?/g,C_e=P_e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(A_e,function(r,n,s,a){e.push(s?a.replace(T_e,"$1"):n||r)}),e}),k_e=C_e;function I_e(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var NI=I_e,w3=Py,R_e=NI,O_e=Gs,D_e=bm,M_e=1/0,j3=w3?w3.prototype:void 0,N3=j3?j3.toString:void 0;function pK(t){if(typeof t=="string")return t;if(O_e(t))return R_e(t,pK)+"";if(D_e(t))return N3?N3.call(t):"";var e=t+"";return e=="0"&&1/t==-M_e?"-0":e}var $_e=pK,L_e=$_e;function F_e(t){return t==null?"":L_e(t)}var gK=F_e,V_e=Gs,B_e=xI,U_e=k_e,q_e=gK;function z_e(t,e){return V_e(t)?t:B_e(t,e)?[t]:U_e(q_e(t))}var xK=z_e,W_e=bm,H_e=1/0;function G_e(t){if(typeof t=="string"||W_e(t))return t;var e=t+"";return e=="0"&&1/t==-H_e?"-0":e}var Aj=G_e,K_e=xK,Y_e=Aj;function Q_e(t,e){e=K_e(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Y_e(e[r++])];return r&&r==n?t:void 0}var SI=Q_e,X_e=SI;function J_e(t,e,r){var n=t==null?void 0:X_e(t,e);return n===void 0?r:n}var yK=J_e;const ui=Xt(yK);function Z_e(t){return t==null}var ePe=Z_e;const Nt=Xt(ePe);var tPe=al,rPe=Gs,nPe=ol,sPe="[object String]";function iPe(t){return typeof t=="string"||!rPe(t)&&nPe(t)&&tPe(t)==sPe}var aPe=iPe;const Ay=Xt(aPe);var vK={exports:{}},tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI=Symbol.for("react.element"),_I=Symbol.for("react.portal"),Tj=Symbol.for("react.fragment"),Cj=Symbol.for("react.strict_mode"),kj=Symbol.for("react.profiler"),Ij=Symbol.for("react.provider"),Rj=Symbol.for("react.context"),oPe=Symbol.for("react.server_context"),Oj=Symbol.for("react.forward_ref"),Dj=Symbol.for("react.suspense"),Mj=Symbol.for("react.suspense_list"),$j=Symbol.for("react.memo"),Lj=Symbol.for("react.lazy"),lPe=Symbol.for("react.offscreen"),bK;bK=Symbol.for("react.module.reference");function qi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case EI:switch(t=t.type,t){case Tj:case kj:case Cj:case Dj:case Mj:return t;default:switch(t=t&&t.$$typeof,t){case oPe:case Rj:case Oj:case Lj:case $j:case Ij:return t;default:return e}}case _I:return e}}}tr.ContextConsumer=Rj;tr.ContextProvider=Ij;tr.Element=EI;tr.ForwardRef=Oj;tr.Fragment=Tj;tr.Lazy=Lj;tr.Memo=$j;tr.Portal=_I;tr.Profiler=kj;tr.StrictMode=Cj;tr.Suspense=Dj;tr.SuspenseList=Mj;tr.isAsyncMode=function(){return!1};tr.isConcurrentMode=function(){return!1};tr.isContextConsumer=function(t){return qi(t)===Rj};tr.isContextProvider=function(t){return qi(t)===Ij};tr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===EI};tr.isForwardRef=function(t){return qi(t)===Oj};tr.isFragment=function(t){return qi(t)===Tj};tr.isLazy=function(t){return qi(t)===Lj};tr.isMemo=function(t){return qi(t)===$j};tr.isPortal=function(t){return qi(t)===_I};tr.isProfiler=function(t){return qi(t)===kj};tr.isStrictMode=function(t){return qi(t)===Cj};tr.isSuspense=function(t){return qi(t)===Dj};tr.isSuspenseList=function(t){return qi(t)===Mj};tr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Tj||t===kj||t===Cj||t===Dj||t===Mj||t===lPe||typeof t=="object"&&t!==null&&(t.$$typeof===Lj||t.$$typeof===$j||t.$$typeof===Ij||t.$$typeof===Rj||t.$$typeof===Oj||t.$$typeof===bK||t.getModuleId!==void 0)};tr.typeOf=qi;vK.exports=tr;var wK=vK.exports,cPe=al,uPe=ol,dPe="[object Number]";function hPe(t){return typeof t=="number"||uPe(t)&&cPe(t)==dPe}var jK=hPe;const fPe=Xt(jK);var mPe=jK;function pPe(t){return mPe(t)&&t!=+t}var gPe=pPe;const Em=Xt(gPe);var vs=function(e){return e===0?0:e>0?1:-1},vu=function(e){return Ay(e)&&e.indexOf("%")===e.length-1},Oe=function(e){return fPe(e)&&!Em(e)},Nn=function(e){return Oe(e)||Ay(e)},xPe=0,_m=function(e){var r=++xPe;return"".concat(e||"").concat(r)},bs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&!Ay(e))return n;var a;if(vu(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Em(a)&&(a=n),s&&a>r&&(a=r),a},Ml=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},yPe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},Ms=function(e,r){return Oe(e)&&Oe(r)?function(n){return e+n*(r-e)}:function(){return r}};function Hb(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ui(n,e))===r})}function Ch(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function iP(t){"@babel/helpers - typeof";return iP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iP(t)}var vPe=["viewBox","children"],bPe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],S3=["points","pathLength"],uS={svg:vPe,polygon:S3,polyline:S3},PI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gb=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),!wm(n))return null;var s={};return Object.keys(n).forEach(function(a){PI.includes(a)&&(s[a]=r||function(o){return n[a](n,o)})}),s},wPe=function(e,r,n){return function(s){return e(r,n,s),null}},nd=function(e,r,n){if(!wm(e)||iP(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(a){var o=e[a];PI.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=wPe(o,r,n))}),s},jPe=["children"],NPe=["children"];function E3(t,e){if(t==null)return{};var r=SPe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aP(t){"@babel/helpers - typeof";return aP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aP(t)}var _3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Do=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},P3=null,dS=null,AI=function t(e){if(e===P3&&Array.isArray(dS))return dS;var r=[];return g.Children.forEach(e,function(n){Nt(n)||(wK.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),dS=r,P3=e,r};function Li(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return Do(s)}):n=[Do(e)],AI(t).forEach(function(s){var a=ui(s,"type.displayName")||ui(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function ei(t,e){var r=Li(t,e);return r&&r[0]}var A3=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!Oe(n)||n<=0||!Oe(s)||s<=0)},EPe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_Pe=function(e){return e&&e.type&&Ay(e.type)&&EPe.indexOf(e.type)>=0},PPe=function(e){return e&&aP(e)==="object"&&"clipDot"in e},APe=function(e,r,n,s){var a,o=(a=uS==null?void 0:uS[s])!==null&&a!==void 0?a:[];return!mt(e)&&(s&&o.includes(r)||bPe.includes(r))||n&&PI.includes(r)},nt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(g.isValidElement(e)&&(s=e.props),!wm(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;APe((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=s[o])}),a},oP=function t(e,r){if(e===r)return!0;var n=g.Children.count(e);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return T3(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=e[s],o=r[s];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!T3(a,o))return!1}return!0},T3=function(e,r){if(Nt(e)&&Nt(r))return!0;if(!Nt(e)&&!Nt(r)){var n=e.props||{},s=n.children,a=E3(n,jPe),o=r.props||{},l=o.children,c=E3(o,NPe);return s&&l?Ch(a,c)&&oP(s,l):!s&&!l?Ch(a,c):!1}return!1},C3=function(e,r){var n=[],s={};return AI(e).forEach(function(a,o){if(_Pe(a))n.push(a);else if(a){var l=Do(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var h=u(a,l,o);n.push(h),s[l]=!0}}}),n},TPe=function(e){var r=e&&e.type;return r&&_3[r]?_3[r]:null},CPe=function(e,r){return AI(r).indexOf(e)},kPe=["children","width","height","viewBox","className","style","title","desc"];function lP(){return lP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lP.apply(this,arguments)}function IPe(t,e){if(t==null)return{};var r=RPe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cP(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=IPe(t,kPe),d=s||{width:r,height:n,x:0,y:0},h=St("recharts-surface",a);return L.createElement("svg",lP({},nt(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),e)}var OPe=["children","className"];function uP(){return uP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uP.apply(this,arguments)}function DPe(t,e){if(t==null)return{};var r=MPe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ut=L.forwardRef(function(t,e){var r=t.children,n=t.className,s=DPe(t,OPe),a=St("recharts-layer",n);return L.createElement("g",uP({className:a},nt(s,!0),{ref:e}),r)}),fa=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function $Pe(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(s);++n<s;)a[n]=t[n+e];return a}var LPe=$Pe,FPe=LPe;function VPe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:FPe(t,e,r)}var BPe=VPe,UPe="\\ud800-\\udfff",qPe="\\u0300-\\u036f",zPe="\\ufe20-\\ufe2f",WPe="\\u20d0-\\u20ff",HPe=qPe+zPe+WPe,GPe="\\ufe0e\\ufe0f",KPe="\\u200d",YPe=RegExp("["+KPe+UPe+HPe+GPe+"]");function QPe(t){return YPe.test(t)}var NK=QPe;function XPe(t){return t.split("")}var JPe=XPe,SK="\\ud800-\\udfff",ZPe="\\u0300-\\u036f",eAe="\\ufe20-\\ufe2f",tAe="\\u20d0-\\u20ff",rAe=ZPe+eAe+tAe,nAe="\\ufe0e\\ufe0f",sAe="["+SK+"]",dP="["+rAe+"]",hP="\\ud83c[\\udffb-\\udfff]",iAe="(?:"+dP+"|"+hP+")",EK="[^"+SK+"]",_K="(?:\\ud83c[\\udde6-\\uddff]){2}",PK="[\\ud800-\\udbff][\\udc00-\\udfff]",aAe="\\u200d",AK=iAe+"?",TK="["+nAe+"]?",oAe="(?:"+aAe+"(?:"+[EK,_K,PK].join("|")+")"+TK+AK+")*",lAe=TK+AK+oAe,cAe="(?:"+[EK+dP+"?",dP,_K,PK,sAe].join("|")+")",uAe=RegExp(hP+"(?="+hP+")|"+cAe+lAe,"g");function dAe(t){return t.match(uAe)||[]}var hAe=dAe,fAe=JPe,mAe=NK,pAe=hAe;function gAe(t){return mAe(t)?pAe(t):fAe(t)}var xAe=gAe,yAe=BPe,vAe=NK,bAe=xAe,wAe=gK;function jAe(t){return function(e){e=wAe(e);var r=vAe(e)?bAe(e):void 0,n=r?r[0]:e.charAt(0),s=r?yAe(r,1).join(""):e.slice(1);return n[t]()+s}}var NAe=jAe,SAe=NAe,EAe=SAe("toUpperCase"),_Ae=EAe;const Fj=Xt(_Ae);function hr(t){return function(){return t}}const CK=Math.cos,Kb=Math.sin,Na=Math.sqrt,Yb=Math.PI,Vj=2*Yb,fP=Math.PI,mP=2*fP,iu=1e-6,PAe=mP-iu;function kK(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function AAe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kK;const r=10**e;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class TAe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kK:AAe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,a,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,s,a){if(e=+e,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=s-r,d=o-e,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>iu)if(!(Math.abs(h*c-u*d)>iu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-o,x=s-l,p=c*c+u*u,v=m*m+x*x,w=Math.sqrt(p),b=Math.sqrt(f),j=a*Math.tan((fP-Math.acos((p+f-v)/(2*w*b)))/2),N=j/b,E=j/w;Math.abs(N-1)>iu&&this._append`L${e+N*d},${r+N*h}`,this._append`A${a},${a},0,0,${+(h*m>d*x)},${this._x1=e+E*c},${this._y1=r+E*u}`}}arc(e,r,n,s,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=e+l,d=r+c,h=1^o,f=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>iu||Math.abs(this._y1-d)>iu)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%mP+mP),f>PAe?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>iu&&this._append`A${n},${n},0,${+(f>=fP)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function TI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new TAe(e)}function CI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IK(t){this._context=t}IK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bj(t){return new IK(t)}function RK(t){return t[0]}function OK(t){return t[1]}function DK(t,e){var r=hr(!0),n=null,s=Bj,a=null,o=TI(l);t=typeof t=="function"?t:t===void 0?RK:hr(t),e=typeof e=="function"?e:e===void 0?OK:hr(e);function l(c){var u,d=(c=CI(c)).length,h,f=!1,m;for(n==null&&(a=s(m=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,u,c),+e(h,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:hr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:hr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:hr(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function $0(t,e,r){var n=null,s=hr(!0),a=null,o=Bj,l=null,c=TI(u);t=typeof t=="function"?t:t===void 0?RK:hr(+t),e=typeof e=="function"?e:hr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?OK:hr(+r);function u(h){var f,m,x,p=(h=CI(h)).length,v,w=!1,b,j=new Array(p),N=new Array(p);for(a==null&&(l=o(b=c())),f=0;f<=p;++f){if(!(f<p&&s(v=h[f],f,h))===w)if(w=!w)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=f-1;x>=m;--x)l.point(j[x],N[x]);l.lineEnd(),l.areaEnd()}w&&(j[f]=+t(v,f,h),N[f]=+e(v,f,h),l.point(n?+n(v,f,h):j[f],r?+r(v,f,h):N[f]))}if(b)return l=null,b+""||null}function d(){return DK().defined(s).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:hr(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:hr(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:hr(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:hr(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:hr(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:hr(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(s=typeof h=="function"?h:hr(!!h),u):s},u.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),u):a},u}class MK{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function CAe(t){return new MK(t,!0)}function kAe(t){return new MK(t,!1)}const kI={draw(t,e){const r=Na(e/Yb);t.moveTo(r,0),t.arc(0,0,r,0,Vj)}},IAe={draw(t,e){const r=Na(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},$K=Na(1/3),RAe=$K*2,OAe={draw(t,e){const r=Na(e/RAe),n=r*$K;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},DAe={draw(t,e){const r=Na(e),n=-r/2;t.rect(n,n,r,r)}},MAe=.8908130915292852,LK=Kb(Yb/10)/Kb(7*Yb/10),$Ae=Kb(Vj/10)*LK,LAe=-CK(Vj/10)*LK,FAe={draw(t,e){const r=Na(e*MAe),n=$Ae*r,s=LAe*r;t.moveTo(0,-r),t.lineTo(n,s);for(let a=1;a<5;++a){const o=Vj*a/5,l=CK(o),c=Kb(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},hS=Na(3),VAe={draw(t,e){const r=-Na(e/(hS*3));t.moveTo(0,r*2),t.lineTo(-hS*r,-r),t.lineTo(hS*r,-r),t.closePath()}},wi=-.5,ji=Na(3)/2,pP=1/Na(12),BAe=(pP/2+1)*3,UAe={draw(t,e){const r=Na(e/BAe),n=r/2,s=r*pP,a=n,o=r*pP+r,l=-a,c=o;t.moveTo(n,s),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(wi*n-ji*s,ji*n+wi*s),t.lineTo(wi*a-ji*o,ji*a+wi*o),t.lineTo(wi*l-ji*c,ji*l+wi*c),t.lineTo(wi*n+ji*s,wi*s-ji*n),t.lineTo(wi*a+ji*o,wi*o-ji*a),t.lineTo(wi*l+ji*c,wi*c-ji*l),t.closePath()}};function qAe(t,e){let r=null,n=TI(s);t=typeof t=="function"?t:hr(t||kI),e=typeof e=="function"?e:hr(e===void 0?64:+e);function s(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(t=typeof a=="function"?a:hr(a),s):t},s.size=function(a){return arguments.length?(e=typeof a=="function"?a:hr(+a),s):e},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function Qb(){}function Xb(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function FK(t){this._context=t}FK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zAe(t){return new FK(t)}function VK(t){this._context=t}VK.prototype={areaStart:Qb,areaEnd:Qb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WAe(t){return new VK(t)}function BK(t){this._context=t}BK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HAe(t){return new BK(t)}function UK(t){this._context=t}UK.prototype={areaStart:Qb,areaEnd:Qb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function GAe(t){return new UK(t)}function k3(t){return t<0?-1:1}function I3(t,e,r){var n=t._x1-t._x0,s=e-t._x1,a=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(a*s+o*n)/(n+s);return(k3(a)+k3(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function R3(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function fS(t,e,r){var n=t._x0,s=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,s+l*e,a-l,o-l*r,a,o)}function Jb(t){this._context=t}Jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fS(this,this._t0,R3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,fS(this,R3(this,r=I3(this,t,e)),r);break;default:fS(this,this._t0,r=I3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function qK(t){this._context=new zK(t)}(qK.prototype=Object.create(Jb.prototype)).point=function(t,e){Jb.prototype.point.call(this,e,t)};function zK(t){this._context=t}zK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,a){this._context.bezierCurveTo(e,t,n,r,a,s)}};function KAe(t){return new Jb(t)}function YAe(t){return new qK(t)}function WK(t){this._context=t}WK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=O3(t),s=O3(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function O3(t){var e,r=t.length-1,n,s=new Array(r),a=new Array(r),o=new Array(r);for(s[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/a[e];for(a[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-s[e+1];return[s,a]}function QAe(t){return new WK(t)}function Uj(t,e){this._context=t,this._t=e}Uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function XAe(t){return new Uj(t,.5)}function JAe(t){return new Uj(t,0)}function ZAe(t){return new Uj(t,1)}function wf(t,e){if((o=t.length)>1)for(var r=1,n,s,a=t[e[0]],o,l=a.length;r<o;++r)for(s=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function gP(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function eTe(t,e){return t[e]}function tTe(t){const e=[];return e.key=t,e}function rTe(){var t=hr([]),e=gP,r=wf,n=eTe;function s(a){var o=Array.from(t.apply(this,arguments),tTe),l,c=o.length,u=-1,d;for(const h of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,a)]).data=h;for(l=0,d=CI(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(a){return arguments.length?(t=typeof a=="function"?a:hr(Array.from(a)),s):t},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:hr(+a),s):n},s.order=function(a){return arguments.length?(e=a==null?gP:typeof a=="function"?a:hr(Array.from(a)),s):e},s.offset=function(a){return arguments.length?(r=a??wf,s):r},s}function nTe(t,e){if((n=t.length)>0){for(var r,n,s=0,a=t[0].length,o;s<a;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}wf(t,e)}}function sTe(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,a=n.length;r<a;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}wf(t,e)}}function iTe(t,e){if(!(!((o=t.length)>0)||!((a=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],h=d[n][1]||0,f=d[n-1][1]||0,m=(h-f)/2,x=0;x<l;++x){var p=t[e[x]],v=p[n][1]||0,w=p[n-1][1]||0;m+=v-w}c+=h,u+=m*h}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,wf(t,e)}}function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}var aTe=["type","size","sizeType"];function xP(){return xP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xP.apply(this,arguments)}function D3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function M3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(r),!0).forEach(function(n){oTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oTe(t,e,r){return e=lTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lTe(t){var e=cTe(t,"string");return rx(e)=="symbol"?e:e+""}function cTe(t,e){if(rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uTe(t,e){if(t==null)return{};var r=dTe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var HK={symbolCircle:kI,symbolCross:IAe,symbolDiamond:OAe,symbolSquare:DAe,symbolStar:FAe,symbolTriangle:VAe,symbolWye:UAe},hTe=Math.PI/180,fTe=function(e){var r="symbol".concat(Fj(e));return HK[r]||kI},mTe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*hTe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},pTe=function(e,r){HK["symbol".concat(Fj(e))]=r},II=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,a=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=uTe(e,aTe),u=M3(M3({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=fTe(n),w=qAe().type(v).size(mTe(a,l,n));return w()},h=u.className,f=u.cx,m=u.cy,x=nt(u,!0);return f===+f&&m===+m&&a===+a?L.createElement("path",xP({},x,{className:St("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};II.registerSymbol=pTe;function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function yP(){return yP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yP.apply(this,arguments)}function $3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function gTe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(r),!0).forEach(function(n){nx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KK(n.key),n)}}function vTe(t,e,r){return e&&yTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bTe(t,e,r){return e=Zb(e),wTe(t,GK()?Reflect.construct(e,r||[],Zb(t).constructor):e.apply(t,r))}function wTe(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jTe(t)}function jTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GK=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(t)}function NTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vP(t,e)}function vP(t,e){return vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vP(t,e)}function nx(t,e,r){return e=KK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KK(t){var e=STe(t,"string");return jf(e)=="symbol"?e:e+""}function STe(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ni=32,RI=function(t){function e(){return xTe(this,e),bTe(this,e,arguments)}return NTe(e,t),vTe(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=Ni/2,o=Ni/6,l=Ni/3,c=n.inactive?s:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ni,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ni,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ni/8,"h").concat(Ni,"v").concat(Ni*3/4,"h").concat(-Ni,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=gTe({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(II,{fill:c,cx:a,cy:a,size:Ni,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Ni,height:Ni},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,x){var p=m.formatter||c,v=St(nx(nx({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=mt(m.value)?null:m.value;fa(!mt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return L.createElement("li",yP({className:v,style:h,key:"legend-item-".concat(x)},nd(n.props,m,x)),L.createElement(cP,{width:o,height:o,viewBox:d,style:f},n.renderIcon(m)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(w,m,x):w))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(g.PureComponent);nx(RI,"displayName","Legend");nx(RI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ETe=_j;function _Te(){this.__data__=new ETe,this.size=0}var PTe=_Te;function ATe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var TTe=ATe;function CTe(t){return this.__data__.get(t)}var kTe=CTe;function ITe(t){return this.__data__.has(t)}var RTe=ITe,OTe=_j,DTe=bI,MTe=wI,$Te=200;function LTe(t,e){var r=this.__data__;if(r instanceof OTe){var n=r.__data__;if(!DTe||n.length<$Te-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new MTe(n)}return r.set(t,e),this.size=r.size,this}var FTe=LTe,VTe=_j,BTe=PTe,UTe=TTe,qTe=kTe,zTe=RTe,WTe=FTe;function Pm(t){var e=this.__data__=new VTe(t);this.size=e.size}Pm.prototype.clear=BTe;Pm.prototype.delete=UTe;Pm.prototype.get=qTe;Pm.prototype.has=zTe;Pm.prototype.set=WTe;var YK=Pm,HTe="__lodash_hash_undefined__";function GTe(t){return this.__data__.set(t,HTe),this}var KTe=GTe;function YTe(t){return this.__data__.has(t)}var QTe=YTe,XTe=wI,JTe=KTe,ZTe=QTe;function ew(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new XTe;++e<r;)this.add(t[e])}ew.prototype.add=ew.prototype.push=JTe;ew.prototype.has=ZTe;var QK=ew;function eCe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var XK=eCe;function tCe(t,e){return t.has(e)}var JK=tCe,rCe=QK,nCe=XK,sCe=JK,iCe=1,aCe=2;function oCe(t,e,r,n,s,a){var o=r&iCe,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,m=r&aCe?new rCe:void 0;for(a.set(t,e),a.set(e,t);++h<l;){var x=t[h],p=e[h];if(n)var v=o?n(p,x,h,e,t,a):n(x,p,h,t,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!nCe(e,function(w,b){if(!sCe(m,b)&&(x===w||s(x,w,r,n,a)))return m.push(b)})){f=!1;break}}else if(!(x===p||s(x,p,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var ZK=oCe,lCe=ao,cCe=lCe.Uint8Array,uCe=cCe;function dCe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var hCe=dCe;function fCe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var OI=fCe,L3=Py,F3=uCe,mCe=vI,pCe=ZK,gCe=hCe,xCe=OI,yCe=1,vCe=2,bCe="[object Boolean]",wCe="[object Date]",jCe="[object Error]",NCe="[object Map]",SCe="[object Number]",ECe="[object RegExp]",_Ce="[object Set]",PCe="[object String]",ACe="[object Symbol]",TCe="[object ArrayBuffer]",CCe="[object DataView]",V3=L3?L3.prototype:void 0,mS=V3?V3.valueOf:void 0;function kCe(t,e,r,n,s,a,o){switch(r){case CCe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case TCe:return!(t.byteLength!=e.byteLength||!a(new F3(t),new F3(e)));case bCe:case wCe:case SCe:return mCe(+t,+e);case jCe:return t.name==e.name&&t.message==e.message;case ECe:case PCe:return t==e+"";case NCe:var l=gCe;case _Ce:var c=n&yCe;if(l||(l=xCe),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=vCe,o.set(t,e);var d=pCe(l(t),l(e),n,s,a,o);return o.delete(t),d;case ACe:if(mS)return mS.call(t)==mS.call(e)}return!1}var ICe=kCe;function RCe(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var eY=RCe,OCe=eY,DCe=Gs;function MCe(t,e,r){var n=e(t);return DCe(t)?n:OCe(n,r(t))}var $Ce=MCe;function LCe(t,e){for(var r=-1,n=t==null?0:t.length,s=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[s++]=o)}return a}var FCe=LCe;function VCe(){return[]}var BCe=VCe,UCe=FCe,qCe=BCe,zCe=Object.prototype,WCe=zCe.propertyIsEnumerable,B3=Object.getOwnPropertySymbols,HCe=B3?function(t){return t==null?[]:(t=Object(t),UCe(B3(t),function(e){return WCe.call(t,e)}))}:qCe,GCe=HCe;function KCe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var YCe=KCe,QCe=al,XCe=ol,JCe="[object Arguments]";function ZCe(t){return XCe(t)&&QCe(t)==JCe}var eke=ZCe,U3=eke,tke=ol,tY=Object.prototype,rke=tY.hasOwnProperty,nke=tY.propertyIsEnumerable,ske=U3(function(){return arguments}())?U3:function(t){return tke(t)&&rke.call(t,"callee")&&!nke.call(t,"callee")},DI=ske,tw={exports:{}};function ike(){return!1}var ake=ike;tw.exports;(function(t,e){var r=ao,n=ake,s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(tw,tw.exports);var rY=tw.exports,oke=9007199254740991,lke=/^(?:0|[1-9]\d*)$/;function cke(t,e){var r=typeof t;return e=e??oke,!!e&&(r=="number"||r!="symbol"&&lke.test(t))&&t>-1&&t%1==0&&t<e}var MI=cke,uke=9007199254740991;function dke(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uke}var $I=dke,hke=al,fke=$I,mke=ol,pke="[object Arguments]",gke="[object Array]",xke="[object Boolean]",yke="[object Date]",vke="[object Error]",bke="[object Function]",wke="[object Map]",jke="[object Number]",Nke="[object Object]",Ske="[object RegExp]",Eke="[object Set]",_ke="[object String]",Pke="[object WeakMap]",Ake="[object ArrayBuffer]",Tke="[object DataView]",Cke="[object Float32Array]",kke="[object Float64Array]",Ike="[object Int8Array]",Rke="[object Int16Array]",Oke="[object Int32Array]",Dke="[object Uint8Array]",Mke="[object Uint8ClampedArray]",$ke="[object Uint16Array]",Lke="[object Uint32Array]",Nr={};Nr[Cke]=Nr[kke]=Nr[Ike]=Nr[Rke]=Nr[Oke]=Nr[Dke]=Nr[Mke]=Nr[$ke]=Nr[Lke]=!0;Nr[pke]=Nr[gke]=Nr[Ake]=Nr[xke]=Nr[Tke]=Nr[yke]=Nr[vke]=Nr[bke]=Nr[wke]=Nr[jke]=Nr[Nke]=Nr[Ske]=Nr[Eke]=Nr[_ke]=Nr[Pke]=!1;function Fke(t){return mke(t)&&fke(t.length)&&!!Nr[hke(t)]}var Vke=Fke;function Bke(t){return function(e){return t(e)}}var nY=Bke,rw={exports:{}};rw.exports;(function(t,e){var r=uK,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(rw,rw.exports);var Uke=rw.exports,qke=Vke,zke=nY,q3=Uke,z3=q3&&q3.isTypedArray,Wke=z3?zke(z3):qke,sY=Wke,Hke=YCe,Gke=DI,Kke=Gs,Yke=rY,Qke=MI,Xke=sY,Jke=Object.prototype,Zke=Jke.hasOwnProperty;function eIe(t,e){var r=Kke(t),n=!r&&Gke(t),s=!r&&!n&&Yke(t),a=!r&&!n&&!s&&Xke(t),o=r||n||s||a,l=o?Hke(t.length,String):[],c=l.length;for(var u in t)(e||Zke.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Qke(u,c)))&&l.push(u);return l}var tIe=eIe,rIe=Object.prototype;function nIe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||rIe;return t===r}var sIe=nIe;function iIe(t,e){return function(r){return t(e(r))}}var iY=iIe,aIe=iY,oIe=aIe(Object.keys,Object),lIe=oIe,cIe=sIe,uIe=lIe,dIe=Object.prototype,hIe=dIe.hasOwnProperty;function fIe(t){if(!cIe(t))return uIe(t);var e=[];for(var r in Object(t))hIe.call(t,r)&&r!="constructor"&&e.push(r);return e}var mIe=fIe,pIe=yI,gIe=$I;function xIe(t){return t!=null&&gIe(t.length)&&!pIe(t)}var Ty=xIe,yIe=tIe,vIe=mIe,bIe=Ty;function wIe(t){return bIe(t)?yIe(t):vIe(t)}var qj=wIe,jIe=$Ce,NIe=GCe,SIe=qj;function EIe(t){return jIe(t,SIe,NIe)}var _Ie=EIe,W3=_Ie,PIe=1,AIe=Object.prototype,TIe=AIe.hasOwnProperty;function CIe(t,e,r,n,s,a){var o=r&PIe,l=W3(t),c=l.length,u=W3(e),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in e:TIe.call(e,f)))return!1}var m=a.get(t),x=a.get(e);if(m&&x)return m==e&&x==t;var p=!0;a.set(t,e),a.set(e,t);for(var v=o;++h<c;){f=l[h];var w=t[f],b=e[f];if(n)var j=o?n(b,w,f,e,t,a):n(w,b,f,t,e,a);if(!(j===void 0?w===b||s(w,b,r,n,a):j)){p=!1;break}v||(v=f=="constructor")}if(p&&!v){var N=t.constructor,E=e.constructor;N!=E&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof E=="function"&&E instanceof E)&&(p=!1)}return a.delete(t),a.delete(e),p}var kIe=CIe,IIe=yd,RIe=ao,OIe=IIe(RIe,"DataView"),DIe=OIe,MIe=yd,$Ie=ao,LIe=MIe($Ie,"Promise"),FIe=LIe,VIe=yd,BIe=ao,UIe=VIe(BIe,"Set"),aY=UIe,qIe=yd,zIe=ao,WIe=qIe(zIe,"WeakMap"),HIe=WIe,bP=DIe,wP=bI,jP=FIe,NP=aY,SP=HIe,oY=al,Am=hK,H3="[object Map]",GIe="[object Object]",G3="[object Promise]",K3="[object Set]",Y3="[object WeakMap]",Q3="[object DataView]",KIe=Am(bP),YIe=Am(wP),QIe=Am(jP),XIe=Am(NP),JIe=Am(SP),au=oY;(bP&&au(new bP(new ArrayBuffer(1)))!=Q3||wP&&au(new wP)!=H3||jP&&au(jP.resolve())!=G3||NP&&au(new NP)!=K3||SP&&au(new SP)!=Y3)&&(au=function(t){var e=oY(t),r=e==GIe?t.constructor:void 0,n=r?Am(r):"";if(n)switch(n){case KIe:return Q3;case YIe:return H3;case QIe:return G3;case XIe:return K3;case JIe:return Y3}return e});var ZIe=au,pS=YK,eRe=ZK,tRe=ICe,rRe=kIe,X3=ZIe,J3=Gs,Z3=rY,nRe=sY,sRe=1,e6="[object Arguments]",t6="[object Array]",L0="[object Object]",iRe=Object.prototype,r6=iRe.hasOwnProperty;function aRe(t,e,r,n,s,a){var o=J3(t),l=J3(e),c=o?t6:X3(t),u=l?t6:X3(e);c=c==e6?L0:c,u=u==e6?L0:u;var d=c==L0,h=u==L0,f=c==u;if(f&&Z3(t)){if(!Z3(e))return!1;o=!0,d=!1}if(f&&!d)return a||(a=new pS),o||nRe(t)?eRe(t,e,r,n,s,a):tRe(t,e,c,r,n,s,a);if(!(r&sRe)){var m=d&&r6.call(t,"__wrapped__"),x=h&&r6.call(e,"__wrapped__");if(m||x){var p=m?t.value():t,v=x?e.value():e;return a||(a=new pS),s(p,v,r,n,a)}}return f?(a||(a=new pS),rRe(t,e,r,n,s,a)):!1}var oRe=aRe,lRe=oRe,n6=ol;function lY(t,e,r,n,s){return t===e?!0:t==null||e==null||!n6(t)&&!n6(e)?t!==t&&e!==e:lRe(t,e,r,n,lY,s)}var LI=lY,cRe=YK,uRe=LI,dRe=1,hRe=2;function fRe(t,e,r,n){var s=r.length,a=s,o=!n;if(t==null)return!a;for(t=Object(t);s--;){var l=r[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){l=r[s];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var h=new cRe;if(n)var f=n(u,d,c,t,e,h);if(!(f===void 0?uRe(d,u,dRe|hRe,n,h):f))return!1}}return!0}var mRe=fRe,pRe=Uc;function gRe(t){return t===t&&!pRe(t)}var cY=gRe,xRe=cY,yRe=qj;function vRe(t){for(var e=yRe(t),r=e.length;r--;){var n=e[r],s=t[n];e[r]=[n,s,xRe(s)]}return e}var bRe=vRe;function wRe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var uY=wRe,jRe=mRe,NRe=bRe,SRe=uY;function ERe(t){var e=NRe(t);return e.length==1&&e[0][2]?SRe(e[0][0],e[0][1]):function(r){return r===t||jRe(r,t,e)}}var _Re=ERe;function PRe(t,e){return t!=null&&e in Object(t)}var ARe=PRe,TRe=xK,CRe=DI,kRe=Gs,IRe=MI,RRe=$I,ORe=Aj;function DRe(t,e,r){e=TRe(e,t);for(var n=-1,s=e.length,a=!1;++n<s;){var o=ORe(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=s?a:(s=t==null?0:t.length,!!s&&RRe(s)&&IRe(o,s)&&(kRe(t)||CRe(t)))}var MRe=DRe,$Re=ARe,LRe=MRe;function FRe(t,e){return t!=null&&LRe(t,e,$Re)}var VRe=FRe,BRe=LI,URe=yK,qRe=VRe,zRe=xI,WRe=cY,HRe=uY,GRe=Aj,KRe=1,YRe=2;function QRe(t,e){return zRe(t)&&WRe(e)?HRe(GRe(t),e):function(r){var n=URe(r,t);return n===void 0&&n===e?qRe(r,t):BRe(e,n,KRe|YRe)}}var XRe=QRe;function JRe(t){return t}var Tm=JRe;function ZRe(t){return function(e){return e==null?void 0:e[t]}}var eOe=ZRe,tOe=SI;function rOe(t){return function(e){return tOe(e,t)}}var nOe=rOe,sOe=eOe,iOe=nOe,aOe=xI,oOe=Aj;function lOe(t){return aOe(t)?sOe(oOe(t)):iOe(t)}var cOe=lOe,uOe=_Re,dOe=XRe,hOe=Tm,fOe=Gs,mOe=cOe;function pOe(t){return typeof t=="function"?t:t==null?hOe:typeof t=="object"?fOe(t)?dOe(t[0],t[1]):uOe(t):mOe(t)}var oo=pOe;function gOe(t,e,r,n){for(var s=t.length,a=r+(n?1:-1);n?a--:++a<s;)if(e(t[a],a,t))return a;return-1}var dY=gOe;function xOe(t){return t!==t}var yOe=xOe;function vOe(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}var bOe=vOe,wOe=dY,jOe=yOe,NOe=bOe;function SOe(t,e,r){return e===e?NOe(t,e,r):wOe(t,jOe,r)}var EOe=SOe,_Oe=EOe;function POe(t,e){var r=t==null?0:t.length;return!!r&&_Oe(t,e,0)>-1}var AOe=POe;function TOe(t,e,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(e,t[n]))return!0;return!1}var COe=TOe;function kOe(){}var IOe=kOe,gS=aY,ROe=IOe,OOe=OI,DOe=1/0,MOe=gS&&1/OOe(new gS([,-0]))[1]==DOe?function(t){return new gS(t)}:ROe,$Oe=MOe,LOe=QK,FOe=AOe,VOe=COe,BOe=JK,UOe=$Oe,qOe=OI,zOe=200;function WOe(t,e,r){var n=-1,s=FOe,a=t.length,o=!0,l=[],c=l;if(r)o=!1,s=VOe;else if(a>=zOe){var u=e?null:UOe(t);if(u)return qOe(u);o=!1,s=BOe,c=new LOe}else c=e?[]:l;e:for(;++n<a;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;e&&c.push(h),l.push(d)}else s(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var HOe=WOe,GOe=oo,KOe=HOe;function YOe(t,e){return t&&t.length?KOe(t,GOe(e)):[]}var QOe=YOe;const s6=Xt(QOe);function hY(t,e,r){return e===!0?s6(t,r):mt(e)?s6(t,e):t}function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}var XOe=["ref"];function i6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function xo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(r),!0).forEach(function(n){zj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mY(n.key),n)}}function ZOe(t,e,r){return e&&a6(t.prototype,e),r&&a6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eDe(t,e,r){return e=nw(e),tDe(t,fY()?Reflect.construct(e,r||[],nw(t).constructor):e.apply(t,r))}function tDe(t,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rDe(t)}function rDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fY=function(){return!!t})()}function nw(t){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(t)}function nDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EP(t,e)}function EP(t,e){return EP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},EP(t,e)}function zj(t,e,r){return e=mY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mY(t){var e=sDe(t,"string");return Nf(e)=="symbol"?e:e+""}function sDe(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iDe(t,e){if(t==null)return{};var r=aDe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oDe(t){return t.value}function lDe(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var r=iDe(e,XOe);return L.createElement(RI,r)}var o6=1,kh=function(t){function e(){var r;JOe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=eDe(this,e,[].concat(s)),zj(r,"lastBoundingBox",{width:-1,height:-1}),r}return nDe(e,t),ZOe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>o6||Math.abs(s.height-this.lastBoundingBox.height)>o6)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();f={top:((d||0)-x.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return xo(xo({},h),f)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,h=xo(xo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){n.wrapperNode=m}},lDe(a,xo(xo({},this.props),{},{payload:hY(d,u,oDe)})))}}],[{key:"getWithHeight",value:function(n,s){var a=xo(xo({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Oe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(g.PureComponent);zj(kh,"displayName","Legend");zj(kh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var l6=Py,cDe=DI,uDe=Gs,c6=l6?l6.isConcatSpreadable:void 0;function dDe(t){return uDe(t)||cDe(t)||!!(c6&&t&&t[c6])}var hDe=dDe,fDe=eY,mDe=hDe;function pY(t,e,r,n,s){var a=-1,o=t.length;for(r||(r=mDe),s||(s=[]);++a<o;){var l=t[a];e>0&&r(l)?e>1?pY(l,e-1,r,n,s):fDe(s,l):n||(s[s.length]=l)}return s}var gY=pY;function pDe(t){return function(e,r,n){for(var s=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++s];if(r(a[c],c,a)===!1)break}return e}}var gDe=pDe,xDe=gDe,yDe=xDe(),vDe=yDe,bDe=vDe,wDe=qj;function jDe(t,e){return t&&bDe(t,e,wDe)}var xY=jDe,NDe=Ty;function SDe(t,e){return function(r,n){if(r==null)return r;if(!NDe(r))return t(r,n);for(var s=r.length,a=e?s:-1,o=Object(r);(e?a--:++a<s)&&n(o[a],a,o)!==!1;);return r}}var EDe=SDe,_De=xY,PDe=EDe,ADe=PDe(_De),FI=ADe,TDe=FI,CDe=Ty;function kDe(t,e){var r=-1,n=CDe(t)?Array(t.length):[];return TDe(t,function(s,a,o){n[++r]=e(s,a,o)}),n}var yY=kDe;function IDe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var RDe=IDe,u6=bm;function ODe(t,e){if(t!==e){var r=t!==void 0,n=t===null,s=t===t,a=u6(t),o=e!==void 0,l=e===null,c=e===e,u=u6(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&t<e||u&&r&&s&&!n&&!a||l&&r&&s||!o&&s||!c)return-1}return 0}var DDe=ODe,MDe=DDe;function $De(t,e,r){for(var n=-1,s=t.criteria,a=e.criteria,o=s.length,l=r.length;++n<o;){var c=MDe(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var LDe=$De,xS=NI,FDe=SI,VDe=oo,BDe=yY,UDe=RDe,qDe=nY,zDe=LDe,WDe=Tm,HDe=Gs;function GDe(t,e,r){e.length?e=xS(e,function(a){return HDe(a)?function(o){return FDe(o,a.length===1?a[0]:a)}:a}):e=[WDe];var n=-1;e=xS(e,qDe(VDe));var s=BDe(t,function(a,o,l){var c=xS(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return UDe(s,function(a,o){return zDe(a,o,r)})}var KDe=GDe;function YDe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var QDe=YDe,XDe=QDe,d6=Math.max;function JDe(t,e,r){return e=d6(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,a=d6(n.length-e,0),o=Array(a);++s<a;)o[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(o),XDe(t,this,l)}}var ZDe=JDe;function eMe(t){return function(){return t}}var tMe=eMe,rMe=yd,nMe=function(){try{var t=rMe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),vY=nMe,sMe=tMe,h6=vY,iMe=Tm,aMe=h6?function(t,e){return h6(t,"toString",{configurable:!0,enumerable:!1,value:sMe(e),writable:!0})}:iMe,oMe=aMe,lMe=800,cMe=16,uMe=Date.now;function dMe(t){var e=0,r=0;return function(){var n=uMe(),s=cMe-(n-r);if(r=n,s>0){if(++e>=lMe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var hMe=dMe,fMe=oMe,mMe=hMe,pMe=mMe(fMe),gMe=pMe,xMe=Tm,yMe=ZDe,vMe=gMe;function bMe(t,e){return vMe(yMe(t,e,xMe),t+"")}var wMe=bMe,jMe=vI,NMe=Ty,SMe=MI,EMe=Uc;function _Me(t,e,r){if(!EMe(r))return!1;var n=typeof e;return(n=="number"?NMe(r)&&SMe(e,r.length):n=="string"&&e in r)?jMe(r[e],t):!1}var Wj=_Me,PMe=gY,AMe=KDe,TMe=wMe,f6=Wj,CMe=TMe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&f6(t,e[0],e[1])?e=[]:r>2&&f6(e[0],e[1],e[2])&&(e=[e[0]]),AMe(t,PMe(e,1),[])}),kMe=CMe;const VI=Xt(kMe);function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}function _P(){return _P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_P.apply(this,arguments)}function IMe(t,e){return MMe(t)||DMe(t,e)||OMe(t,e)||RMe()}function RMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OMe(t,e){if(t){if(typeof t=="string")return m6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m6(t,e)}}function m6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function MMe(t){if(Array.isArray(t))return t}function p6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function yS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(r),!0).forEach(function(n){$Me(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Me(t,e,r){return e=LMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LMe(t){var e=FMe(t,"string");return sx(e)=="symbol"?e:e+""}function FMe(t,e){if(sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VMe(t){return Array.isArray(t)&&Nn(t[0])&&Nn(t[1])?t.join(" ~ "):t}var BMe=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,a=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,f=e.itemSorter,m=e.wrapperClassName,x=e.labelClassName,p=e.label,v=e.labelFormatter,w=e.accessibilityLayer,b=w===void 0?!1:w,j=function(){if(d&&d.length){var P={padding:0,margin:0},R=(f?VI(d,f):d).map(function(M,q){if(M.type==="none")return null;var W=yS({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),B=M.formatter||h||VMe,D=M.value,V=M.name,K=D,G=V;if(B&&K!=null&&G!=null){var Q=B(D,V,M,q,d);if(Array.isArray(Q)){var ae=IMe(Q,2);K=ae[0],G=ae[1]}else K=Q}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:W},Nn(G)?L.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Nn(G)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},K),L.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:P},R)}return null},N=yS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=yS({margin:0},u),C=!Nt(p),_=C?p:"",S=St("recharts-default-tooltip",m),A=St("recharts-tooltip-label",x);C&&v&&d!==void 0&&d!==null&&(_=v(p,d));var T=b?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",_P({className:S,style:N},T),L.createElement("p",{className:A,style:E},L.isValidElement(_)?_:"".concat(_)),j())};function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function F0(t,e,r){return e=UMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UMe(t){var e=qMe(t,"string");return ix(e)=="symbol"?e:e+""}function qMe(t,e){if(ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lp="recharts-tooltip-wrapper",zMe={visibility:"hidden"};function WMe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return St(lp,F0(F0(F0(F0({},"".concat(lp,"-right"),Oe(r)&&e&&Oe(e.x)&&r>=e.x),"".concat(lp,"-left"),Oe(r)&&e&&Oe(e.x)&&r<e.x),"".concat(lp,"-bottom"),Oe(n)&&e&&Oe(e.y)&&n>=e.y),"".concat(lp,"-top"),Oe(n)&&e&&Oe(e.y)&&n<e.y))}function g6(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&Oe(a[n]))return a[n];var d=r[n]-l-s,h=r[n]+s;if(e[n])return o[n]?d:h;if(o[n]){var f=d,m=c[n];return f<m?Math.max(h,c[n]):Math.max(d,c[n])}var x=h+l,p=c[n]+u;return x>p?Math.max(d,c[n]):Math.max(h,c[n])}function HMe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function GMe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=g6({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=g6({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=HMe({translateX:d,translateY:h,useTranslate3d:l})):u=zMe,{cssProperties:u,cssClasses:WMe({translateX:d,translateY:h,coordinate:r})}}function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function x6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function y6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(r),!0).forEach(function(n){AP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wY(n.key),n)}}function QMe(t,e,r){return e&&YMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XMe(t,e,r){return e=sw(e),JMe(t,bY()?Reflect.construct(e,r||[],sw(t).constructor):e.apply(t,r))}function JMe(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZMe(t)}function ZMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bY=function(){return!!t})()}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(t)}function e5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PP(t,e)}function PP(t,e){return PP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},PP(t,e)}function AP(t,e,r){return e=wY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wY(t){var e=t5e(t,"string");return Sf(e)=="symbol"?e:e+""}function t5e(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v6=1,r5e=function(t){function e(){var r;KMe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=XMe(this,e,[].concat(s)),AP(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),AP(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return e5e(e,t),QMe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>v6||Math.abs(n.height-this.state.lastBoundingBox.height)>v6)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,h=s.hasPayload,f=s.isAnimationActive,m=s.offset,x=s.position,p=s.reverseDirection,v=s.useTranslate3d,w=s.viewBox,b=s.wrapperStyle,j=GMe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:w}),N=j.cssClasses,E=j.cssProperties,C=y6(y6({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return L.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(S){n.wrapperNode=S}},u)}}])}(g.PureComponent),n5e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ka={isSsr:n5e(),get:function(e){return Ka[e]},set:function(e,r){if(typeof e=="string")Ka[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(s){Ka[s]=e[s]})}}};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function b6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function w6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(r),!0).forEach(function(n){BI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NY(n.key),n)}}function a5e(t,e,r){return e&&i5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o5e(t,e,r){return e=iw(e),l5e(t,jY()?Reflect.construct(e,r||[],iw(t).constructor):e.apply(t,r))}function l5e(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c5e(t)}function c5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jY=function(){return!!t})()}function iw(t){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iw(t)}function u5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TP(t,e)}function TP(t,e){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},TP(t,e)}function BI(t,e,r){return e=NY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NY(t){var e=d5e(t,"string");return Ef(e)=="symbol"?e:e+""}function d5e(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h5e(t){return t.dataKey}function f5e(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(BMe,e)}var ka=function(t){function e(){return s5e(this,e),o5e(this,e,arguments)}return u5e(e,t),a5e(e,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,h=s.filterNull,f=s.isAnimationActive,m=s.offset,x=s.payload,p=s.payloadUniqBy,v=s.position,w=s.reverseDirection,b=s.useTranslate3d,j=s.viewBox,N=s.wrapperStyle,E=x??[];h&&E.length&&(E=hY(x.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),p,h5e));var C=E.length>0;return L.createElement(r5e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:d,hasPayload:C,offset:m,position:v,reverseDirection:w,useTranslate3d:b,viewBox:j,wrapperStyle:N},f5e(u,w6(w6({},this.props),{},{payload:E})))}}])}(g.PureComponent);BI(ka,"displayName","Tooltip");BI(ka,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ka.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var m5e=ao,p5e=function(){return m5e.Date.now()},g5e=p5e,x5e=/\s/;function y5e(t){for(var e=t.length;e--&&x5e.test(t.charAt(e)););return e}var v5e=y5e,b5e=v5e,w5e=/^\s+/;function j5e(t){return t&&t.slice(0,b5e(t)+1).replace(w5e,"")}var N5e=j5e,S5e=N5e,j6=Uc,E5e=bm,N6=NaN,_5e=/^[-+]0x[0-9a-f]+$/i,P5e=/^0b[01]+$/i,A5e=/^0o[0-7]+$/i,T5e=parseInt;function C5e(t){if(typeof t=="number")return t;if(E5e(t))return N6;if(j6(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=j6(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=S5e(t);var r=P5e.test(t);return r||A5e.test(t)?T5e(t.slice(2),r?2:8):_5e.test(t)?N6:+t}var SY=C5e,k5e=Uc,vS=g5e,S6=SY,I5e="Expected a function",R5e=Math.max,O5e=Math.min;function D5e(t,e,r){var n,s,a,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(I5e);e=S6(e)||0,k5e(r)&&(d=!!r.leading,h="maxWait"in r,a=h?R5e(S6(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function m(C){var _=n,S=s;return n=s=void 0,u=C,o=t.apply(S,_),o}function x(C){return u=C,l=setTimeout(w,e),d?m(C):o}function p(C){var _=C-c,S=C-u,A=e-_;return h?O5e(A,a-S):A}function v(C){var _=C-c,S=C-u;return c===void 0||_>=e||_<0||h&&S>=a}function w(){var C=vS();if(v(C))return b(C);l=setTimeout(w,p(C))}function b(C){return l=void 0,f&&n?m(C):(n=s=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function N(){return l===void 0?o:b(vS())}function E(){var C=vS(),_=v(C);if(n=arguments,s=this,c=C,_){if(l===void 0)return x(c);if(h)return clearTimeout(l),l=setTimeout(w,e),m(c)}return l===void 0&&(l=setTimeout(w,e)),o}return E.cancel=j,E.flush=N,E}var M5e=D5e,$5e=M5e,L5e=Uc,F5e="Expected a function";function V5e(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(F5e);return L5e(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),$5e(t,e,{leading:n,maxWait:e,trailing:s})}var B5e=V5e;const EY=Xt(B5e);function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}function E6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function V0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(r),!0).forEach(function(n){U5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U5e(t,e,r){return e=q5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q5e(t){var e=z5e(t,"string");return ax(e)=="symbol"?e:e+""}function z5e(t,e){if(ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W5e(t,e){return Y5e(t)||K5e(t,e)||G5e(t,e)||H5e()}function H5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G5e(t,e){if(t){if(typeof t=="string")return _6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _6(t,e)}}function _6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Y5e(t){if(Array.isArray(t))return t}var Q5e=g.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,m=t.children,x=t.debounce,p=x===void 0?0:x,v=t.id,w=t.className,b=t.onResize,j=t.style,N=j===void 0?{}:j,E=g.useRef(null),C=g.useRef();C.current=b,g.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=g.useState({containerWidth:s.width,containerHeight:s.height}),S=W5e(_,2),A=S[0],T=S[1],I=g.useCallback(function(R,M){T(function(q){var W=Math.round(R),B=Math.round(M);return q.containerWidth===W&&q.containerHeight===B?q:{containerWidth:W,containerHeight:B}})},[]);g.useEffect(function(){var R=function(V){var K,G=V[0].contentRect,Q=G.width,ae=G.height;I(Q,ae),(K=C.current)===null||K===void 0||K.call(C,Q,ae)};p>0&&(R=EY(R,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(R),q=E.current.getBoundingClientRect(),W=q.width,B=q.height;return I(W,B),M.observe(E.current),function(){M.disconnect()}},[I,p]);var P=g.useMemo(function(){var R=A.containerWidth,M=A.containerHeight;if(R<0||M<0)return null;fa(vu(o)||vu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),fa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=vu(o)?R:o,W=vu(c)?M:c;r&&r>0&&(q?W=q/r:W&&(q=W*r),f&&W>f&&(W=f)),fa(q>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,W,o,c,d,h,r);var B=!Array.isArray(m)&&Do(m.type).endsWith("Chart");return L.Children.map(m,function(D){return wK.isElement(D)?g.cloneElement(D,V0({width:q,height:W},B?{style:V0({height:"100%",width:"100%",maxHeight:W,maxWidth:q},D.props.style)}:{})):D})},[r,m,c,f,h,d,A,o]);return L.createElement("div",{id:v?"".concat(v):void 0,className:St("recharts-responsive-container",w),style:V0(V0({},N),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:E},P)}),Hj=function(e){return null};Hj.displayName="Cell";function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}function P6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function CP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(r),!0).forEach(function(n){X5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X5e(t,e,r){return e=J5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J5e(t){var e=Z5e(t,"string");return ox(e)=="symbol"?e:e+""}function Z5e(t,e){if(ox(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Od={widthCache:{},cacheCount:0},e4e=2e3,t4e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},A6="recharts_measurement_span";function r4e(t){var e=CP({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ig=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ka.isSsr)return{width:0,height:0};var n=r4e(r),s=JSON.stringify({text:e,copyStyle:n});if(Od.widthCache[s])return Od.widthCache[s];try{var a=document.getElementById(A6);a||(a=document.createElement("span"),a.setAttribute("id",A6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=CP(CP({},t4e),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Od.widthCache[s]=c,++Od.cacheCount>e4e&&(Od.cacheCount=0,Od.widthCache={}),c}catch{return{width:0,height:0}}},n4e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function lx(t){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(t)}function aw(t,e){return o4e(t)||a4e(t,e)||i4e(t,e)||s4e()}function s4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4e(t,e){if(t){if(typeof t=="string")return T6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T6(t,e)}}function T6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function o4e(t){if(Array.isArray(t))return t}function l4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u4e(n.key),n)}}function c4e(t,e,r){return e&&C6(t.prototype,e),r&&C6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function u4e(t){var e=d4e(t,"string");return lx(e)=="symbol"?e:e+""}function d4e(t,e){if(lx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var k6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h4e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,f4e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_Y={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},m4e=Object.keys(_Y),oh="NaN";function p4e(t,e){return t*_Y[e]}var B0=function(){function t(e,r){l4e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!h4e.test(r)&&(this.num=NaN,this.unit=""),m4e.includes(r)&&(this.num=p4e(e,r),this.unit="px")}return c4e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=f4e.exec(r))!==null&&n!==void 0?n:[],a=aw(s,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function PY(t){if(t.includes(oh))return oh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=k6.exec(e))!==null&&r!==void 0?r:[],s=aw(n,4),a=s[1],o=s[2],l=s[3],c=B0.parse(a??""),u=B0.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return oh;e=e.replace(k6,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=I6.exec(e))!==null&&h!==void 0?h:[],m=aw(f,4),x=m[1],p=m[2],v=m[3],w=B0.parse(x??""),b=B0.parse(v??""),j=p==="+"?w.add(b):w.subtract(b);if(j.isNaN())return oh;e=e.replace(I6,j.toString())}return e}var R6=/\(([^()]*)\)/;function g4e(t){for(var e=t;e.includes("(");){var r=R6.exec(e),n=aw(r,2),s=n[1];e=e.replace(R6,PY(s))}return e}function x4e(t){var e=t.replace(/\s+/g,"");return e=g4e(e),e=PY(e),e}function y4e(t){try{return x4e(t)}catch{return oh}}function bS(t){var e=y4e(t.slice(5,-1));return e===oh?"":e}var v4e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],b4e=["dx","dy","angle","className","breakAll"];function kP(){return kP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kP.apply(this,arguments)}function O6(t,e){if(t==null)return{};var r=w4e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D6(t,e){return E4e(t)||S4e(t,e)||N4e(t,e)||j4e()}function j4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4e(t,e){if(t){if(typeof t=="string")return M6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M6(t,e)}}function M6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function E4e(t){if(Array.isArray(t))return t}var AY=/[ \f\n\r\t\v\u2028\u2029]+/,TY=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var a=[];Nt(r)||(n?a=r.toString().split(""):a=r.toString().split(AY));var o=a.map(function(c){return{word:c,width:ig(c,s).width}}),l=n?0:ig("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},_4e=function(e,r,n,s,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Oe(o),h=l,f=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(W,B){var D=B.word,V=B.width,K=W[W.length-1];if(K&&(s==null||a||K.width+V+n<Number(s)))K.words.push(D),K.width+=V+n;else{var G={words:[D],width:V};W.push(G)}return W},[])},m=f(r),x=function(q){return q.reduce(function(W,B){return W.width>B.width?W:B})};if(!d)return m;for(var p="",v=function(q){var W=h.slice(0,q),B=TY({breakAll:u,style:c,children:W+p}).wordsWithComputedWidth,D=f(B),V=D.length>o||x(D).width>Number(s);return[V,D]},w=0,b=h.length-1,j=0,N;w<=b&&j<=h.length-1;){var E=Math.floor((w+b)/2),C=E-1,_=v(C),S=D6(_,2),A=S[0],T=S[1],I=v(E),P=D6(I,1),R=P[0];if(!A&&!R&&(w=E+1),A&&R&&(b=E-1),!A&&R){N=T;break}j++}return N||m},$6=function(e){var r=Nt(e)?[]:e.toString().split(AY);return[{words:r}]},P4e=function(e){var r=e.width,n=e.scaleToFit,s=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Ka.isSsr){var c,u,d=TY({breakAll:o,children:s,style:a});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return $6(s);return _4e({breakAll:o,children:s,maxLines:l,style:a},c,u,r,n)}return $6(s)},L6="#808080",sd=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,m=f===void 0?"start":f,x=e.verticalAnchor,p=x===void 0?"end":x,v=e.fill,w=v===void 0?L6:v,b=O6(e,v4e),j=g.useMemo(function(){return P4e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),N=b.dx,E=b.dy,C=b.angle,_=b.className,S=b.breakAll,A=O6(b,b4e);if(!Nn(n)||!Nn(a))return null;var T=n+(Oe(N)?N:0),I=a+(Oe(E)?E:0),P;switch(p){case"start":P=bS("calc(".concat(u,")"));break;case"middle":P=bS("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=bS("calc(".concat(j.length-1," * -").concat(l,")"));break}var R=[];if(h){var M=j[0].width,q=b.width;R.push("scale(".concat((Oe(q)?q/M:1)/M,")"))}return C&&R.push("rotate(".concat(C,", ").concat(T,", ").concat(I,")")),R.length&&(A.transform=R.join(" ")),L.createElement("text",kP({},nt(A,!0),{x:T,y:I,className:St("recharts-text",_),textAnchor:m,fill:w.includes("url")?L6:w}),j.map(function(W,B){var D=W.words.join(S?"":" ");return L.createElement("tspan",{x:T,dy:B===0?P:l,key:"".concat(D,"-").concat(B)},D)}))};function hc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function A4e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function UI(t){let e,r,n;t.length!==2?(e=hc,r=(l,c)=>hc(t(l),c),n=(l,c)=>t(l)-c):(e=t===hc||t===A4e?t:T4e,r=t,n=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=s(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:s,center:o,right:a}}function T4e(){return 0}function CY(t){return t===null?NaN:+t}function*C4e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const k4e=UI(hc),Cy=k4e.right;UI(CY).center;class F6 extends Map{constructor(e,r=O4e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(V6(this,e))}has(e){return super.has(V6(this,e))}set(e,r){return super.set(I4e(this,e),r)}delete(e){return super.delete(R4e(this,e))}}function V6({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function I4e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function R4e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function O4e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function D4e(t=hc){if(t===hc)return kY;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function kY(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const M4e=Math.sqrt(50),$4e=Math.sqrt(10),L4e=Math.sqrt(2);function ow(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),o=a>=M4e?10:a>=$4e?5:a>=L4e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?ow(t,e,r*2):[l,c,u]}function IP(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,a,o]=n?ow(e,t,r):ow(t,e,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function RP(t,e,r){return e=+e,t=+t,r=+r,ow(t,e,r)[2]}function OP(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?RP(e,t,r):RP(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function B6(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function U6(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function IY(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?kY:D4e(s);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(e-u*h/c+f)),x=Math.min(n,Math.floor(e+(c-u)*h/c+f));IY(t,e,m,x,s)}const a=t[e];let o=r,l=n;for(cp(t,r,e),s(t[n],a)>0&&cp(t,r,n);o<l;){for(cp(t,o,l),++o,--l;s(t[o],a)<0;)++o;for(;s(t[l],a)>0;)--l}s(t[r],a)===0?cp(t,r,l):(++l,cp(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function cp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function F4e(t,e,r){if(t=Float64Array.from(C4e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return U6(t);if(e>=1)return B6(t);var n,s=(n-1)*e,a=Math.floor(s),o=B6(IY(t,a).subarray(0,a+1)),l=U6(t.subarray(a+1));return o+(l-o)*(s-a)}}function V4e(t,e,r=CY){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,a=Math.floor(s),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(s-a)}}function B4e(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(s);++n<s;)a[n]=t+n*r;return a}function zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ll(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const DP=Symbol("implicit");function qI(){var t=new F6,e=[],r=[],n=DP;function s(a){let o=t.get(a);if(o===void 0){if(n!==DP)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return s.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new F6;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return qI(e,r).unknown(n)},zi.apply(s,arguments),s}function cx(){var t=qI().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,m=s<n,x=m?s:n,p=m?n:s;a=(p-x)/Math.max(1,f-c+u*2),l&&(a=Math.floor(a)),x+=(p-x-a*(f-c))*d,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=B4e(f).map(function(w){return x+a*w});return r(m?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,s]=f,n=+n,s=+s,h()):[n,s]},t.rangeRound=function(f){return[n,s]=f,n=+n,s=+s,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return cx(e(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},zi.apply(h(),arguments)}function RY(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return RY(e())},t}function ag(){return RY(cx.apply(null,arguments).paddingInner(1))}function zI(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function OY(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ky(){}var ux=.7,lw=1/ux,Ih="\\s*([+-]?\\d+)\\s*",dx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U4e=/^#([0-9a-f]{3,8})$/,q4e=new RegExp(`^rgb\\(${Ih},${Ih},${Ih}\\)$`),z4e=new RegExp(`^rgb\\(${Ya},${Ya},${Ya}\\)$`),W4e=new RegExp(`^rgba\\(${Ih},${Ih},${Ih},${dx}\\)$`),H4e=new RegExp(`^rgba\\(${Ya},${Ya},${Ya},${dx}\\)$`),G4e=new RegExp(`^hsl\\(${dx},${Ya},${Ya}\\)$`),K4e=new RegExp(`^hsla\\(${dx},${Ya},${Ya},${dx}\\)$`),q6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zI(ky,hx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:z6,formatHex:z6,formatHex8:Y4e,formatHsl:Q4e,formatRgb:W6,toString:W6});function z6(){return this.rgb().formatHex()}function Y4e(){return this.rgb().formatHex8()}function Q4e(){return DY(this).formatHsl()}function W6(){return this.rgb().formatRgb()}function hx(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=U4e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?H6(e):r===3?new Us(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?U0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?U0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=q4e.exec(t))?new Us(e[1],e[2],e[3],1):(e=z4e.exec(t))?new Us(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=W4e.exec(t))?U0(e[1],e[2],e[3],e[4]):(e=H4e.exec(t))?U0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=G4e.exec(t))?Y6(e[1],e[2]/100,e[3]/100,1):(e=K4e.exec(t))?Y6(e[1],e[2]/100,e[3]/100,e[4]):q6.hasOwnProperty(t)?H6(q6[t]):t==="transparent"?new Us(NaN,NaN,NaN,0):null}function H6(t){return new Us(t>>16&255,t>>8&255,t&255,1)}function U0(t,e,r,n){return n<=0&&(t=e=r=NaN),new Us(t,e,r,n)}function X4e(t){return t instanceof ky||(t=hx(t)),t?(t=t.rgb(),new Us(t.r,t.g,t.b,t.opacity)):new Us}function MP(t,e,r,n){return arguments.length===1?X4e(t):new Us(t,e,r,n??1)}function Us(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}zI(Us,MP,OY(ky,{brighter(t){return t=t==null?lw:Math.pow(lw,t),new Us(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ux:Math.pow(ux,t),new Us(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Us(Fu(this.r),Fu(this.g),Fu(this.b),cw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:G6,formatHex:G6,formatHex8:J4e,formatRgb:K6,toString:K6}));function G6(){return`#${bu(this.r)}${bu(this.g)}${bu(this.b)}`}function J4e(){return`#${bu(this.r)}${bu(this.g)}${bu(this.b)}${bu((isNaN(this.opacity)?1:this.opacity)*255)}`}function K6(){const t=cw(this.opacity);return`${t===1?"rgb(":"rgba("}${Fu(this.r)}, ${Fu(this.g)}, ${Fu(this.b)}${t===1?")":`, ${t})`}`}function cw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bu(t){return t=Fu(t),(t<16?"0":"")+t.toString(16)}function Y6(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ia(t,e,r,n)}function DY(t){if(t instanceof ia)return new ia(t.h,t.s,t.l,t.opacity);if(t instanceof ky||(t=hx(t)),!t)return new ia;if(t instanceof ia)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-s,c=(a+s)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new ia(o,l,c,t.opacity)}function Z4e(t,e,r,n){return arguments.length===1?DY(t):new ia(t,e,r,n??1)}function ia(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}zI(ia,Z4e,OY(ky,{brighter(t){return t=t==null?lw:Math.pow(lw,t),new ia(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ux:Math.pow(ux,t),new ia(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new Us(wS(t>=240?t-240:t+120,s,n),wS(t,s,n),wS(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new ia(Q6(this.h),q0(this.s),q0(this.l),cw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cw(this.opacity);return`${t===1?"hsl(":"hsla("}${Q6(this.h)}, ${q0(this.s)*100}%, ${q0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Q6(t){return t=(t||0)%360,t<0?t+360:t}function q0(t){return Math.max(0,Math.min(1,t||0))}function wS(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const WI=t=>()=>t;function e3e(t,e){return function(r){return t+r*e}}function t3e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function r3e(t){return(t=+t)==1?MY:function(e,r){return r-e?t3e(e,r,t):WI(isNaN(e)?r:e)}}function MY(t,e){var r=e-t;return r?e3e(t,r):WI(isNaN(t)?e:t)}const X6=function t(e){var r=r3e(e);function n(s,a){var o=r((s=MP(s)).r,(a=MP(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=MY(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=t,n}(1);function n3e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=t[s]*(1-a)+e[s]*a;return n}}function s3e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function i3e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)s[o]=Cm(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=s[o](l);return a}}function a3e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function uw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function o3e(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=Cm(t[s],e[s]):n[s]=e[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var $P=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jS=new RegExp($P.source,"g");function l3e(t){return function(){return t}}function c3e(t){return function(e){return t(e)+""}}function u3e(t,e){var r=$P.lastIndex=jS.lastIndex=0,n,s,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=$P.exec(t))&&(s=jS.exec(e));)(a=s.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:uw(n,s)})),r=jS.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?c3e(c[0].x):l3e(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Cm(t,e){var r=typeof e,n;return e==null||r==="boolean"?WI(e):(r==="number"?uw:r==="string"?(n=hx(e))?(e=n,X6):u3e:e instanceof hx?X6:e instanceof Date?a3e:s3e(e)?n3e:Array.isArray(e)?i3e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?o3e:uw)(t,e)}function HI(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function d3e(t,e){e===void 0&&(e=t,t=Cm);for(var r=0,n=e.length-1,s=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function h3e(t){return function(){return t}}function dw(t){return+t}var J6=[0,1];function ws(t){return t}function LP(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:h3e(isNaN(e)?NaN:.5)}function f3e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function m3e(t,e,r){var n=t[0],s=t[1],a=e[0],o=e[1];return s<n?(n=LP(s,n),a=r(o,a)):(n=LP(n,s),a=r(a,o)),function(l){return a(n(l))}}function p3e(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=LP(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=Cy(t,l,1,n)-1;return a[c](s[c](l))}}function Iy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gj(){var t=J6,e=J6,r=Cm,n,s,a,o=ws,l,c,u;function d(){var f=Math.min(t.length,e.length);return o!==ws&&(o=f3e(t[0],t[f-1])),l=f>2?p3e:m3e,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(c||(c=l(t.map(n),e,r)))(n(o(f)))}return h.invert=function(f){return o(s((u||(u=l(e,t.map(n),uw)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,dw),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=HI,d()},h.clamp=function(f){return arguments.length?(o=f?!0:ws,d()):o!==ws},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,m){return n=f,s=m,d()}}function GI(){return Gj()(ws,ws)}function g3e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function _f(t){return t=hw(Math.abs(t)),t?t[1]:NaN}function x3e(t,e){return function(r,n){for(var s=r.length,a=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function y3e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var v3e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fx(t){if(!(e=v3e.exec(t)))throw new Error("invalid format: "+t);var e;return new KI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fx.prototype=KI.prototype;function KI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}KI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function b3e(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var $Y;function w3e(t,e){var r=hw(t,e);if(!r)return t+"";var n=r[0],s=r[1],a=s-($Y=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+hw(t,Math.max(0,e+a-1))[0]}function Z6(t,e){var r=hw(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const e$={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:g3e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Z6(t*100,e),r:Z6,s:w3e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function t$(t){return t}var r$=Array.prototype.map,n$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function j3e(t){var e=t.grouping===void 0||t.thousands===void 0?t$:x3e(r$.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?t$:y3e(r$.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=fx(h);var f=h.fill,m=h.align,x=h.sign,p=h.symbol,v=h.zero,w=h.width,b=h.comma,j=h.precision,N=h.trim,E=h.type;E==="n"?(b=!0,E="g"):e$[E]||(j===void 0&&(j=12),N=!0,E="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var C=p==="$"?r:p==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",_=p==="$"?n:/[%p]/.test(E)?o:"",S=e$[E],A=/[defgprs%]/.test(E);j=j===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function T(I){var P=C,R=_,M,q,W;if(E==="c")R=S(I)+R,I="";else{I=+I;var B=I<0||1/I<0;if(I=isNaN(I)?c:S(Math.abs(I),j),N&&(I=b3e(I)),B&&+I==0&&x!=="+"&&(B=!1),P=(B?x==="("?x:l:x==="-"||x==="("?"":x)+P,R=(E==="s"?n$[8+$Y/3]:"")+R+(B&&x==="("?")":""),A){for(M=-1,q=I.length;++M<q;)if(W=I.charCodeAt(M),48>W||W>57){R=(W===46?s+I.slice(M+1):I.slice(M))+R,I=I.slice(0,M);break}}}b&&!v&&(I=e(I,1/0));var D=P.length+I.length+R.length,V=D<w?new Array(w-D+1).join(f):"";switch(b&&v&&(I=e(V+I,V.length?w-R.length:1/0),V=""),m){case"<":I=P+I+R+V;break;case"=":I=P+V+I+R;break;case"^":I=V.slice(0,D=V.length>>1)+P+I+R+V.slice(D);break;default:I=V+P+I+R;break}return a(I)}return T.toString=function(){return h+""},T}function d(h,f){var m=u((h=fx(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(_f(f)/3)))*3,p=Math.pow(10,-x),v=n$[8+x/3];return function(w){return m(p*w)+v}}return{format:u,formatPrefix:d}}var z0,YI,LY;N3e({thousands:",",grouping:[3],currency:["$",""]});function N3e(t){return z0=j3e(t),YI=z0.format,LY=z0.formatPrefix,z0}function S3e(t){return Math.max(0,-_f(Math.abs(t)))}function E3e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_f(e)/3)))*3-_f(Math.abs(t)))}function _3e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_f(e)-_f(t))+1}function FY(t,e,r,n){var s=OP(t,e,r),a;switch(n=fx(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=E3e(s,o))&&(n.precision=a),LY(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=_3e(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=S3e(s))&&(n.precision=a-(n.type==="%")*2);break}}return YI(n)}function qc(t){var e=t.domain;return t.ticks=function(r){var n=e();return IP(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return FY(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,a=n.length-1,o=n[s],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=RP(o,l,r),u===c)return n[s]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function fw(){var t=GI();return t.copy=function(){return Iy(t,fw())},zi.apply(t,arguments),qc(t)}function VY(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,dw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return VY(t).unknown(e)},t=arguments.length?Array.from(t,dw):[0,1],qc(r)}function BY(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],a=t[n],o;return a<s&&(o=r,r=n,n=o,o=s,s=a,a=o),t[r]=e.floor(s),t[n]=e.ceil(a),t}function s$(t){return Math.log(t)}function i$(t){return Math.exp(t)}function P3e(t){return-Math.log(-t)}function A3e(t){return-Math.exp(-t)}function T3e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function C3e(t){return t===10?T3e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function k3e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function a$(t){return(e,r)=>-t(-e,r)}function QI(t){const e=t(s$,i$),r=e.domain;let n=10,s,a;function o(){return s=k3e(n),a=C3e(n),r()[0]<0?(s=a$(s),a=a$(a),t(P3e,A3e)):t(s$,i$),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=s(u),m=s(d),x,p;const v=l==null?10:+l;let w=[];if(!(n%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(x=1;x<n;++x)if(p=f<0?x/a(-f):x*a(f),!(p<u)){if(p>d)break;w.push(p)}}else for(;f<=m;++f)for(x=n-1;x>=1;--x)if(p=f>0?x/a(-f):x*a(f),!(p<u)){if(p>d)break;w.push(p)}w.length*2<v&&(w=IP(u,d,v))}else w=IP(f,m,Math.min(m-f,v)).map(a);return h?w.reverse():w},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=fx(c)).precision==null&&(c.trim=!0),c=YI(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let h=d/a(Math.round(s(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(BY(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),e}function UY(){const t=QI(Gj()).domain([1,10]);return t.copy=()=>Iy(t,UY()).base(t.base()),zi.apply(t,arguments),t}function o$(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function l$(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function XI(t){var e=1,r=t(o$(e),l$(e));return r.constant=function(n){return arguments.length?t(o$(e=+n),l$(e)):e},qc(r)}function qY(){var t=XI(Gj());return t.copy=function(){return Iy(t,qY()).constant(t.constant())},zi.apply(t,arguments)}function c$(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function I3e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function R3e(t){return t<0?-t*t:t*t}function JI(t){var e=t(ws,ws),r=1;function n(){return r===1?t(ws,ws):r===.5?t(I3e,R3e):t(c$(r),c$(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},qc(e)}function ZI(){var t=JI(Gj());return t.copy=function(){return Iy(t,ZI()).exponent(t.exponent())},zi.apply(t,arguments),t}function O3e(){return ZI.apply(null,arguments).exponent(.5)}function u$(t){return Math.sign(t)*t*t}function D3e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function zY(){var t=GI(),e=[0,1],r=!1,n;function s(a){var o=D3e(t(a));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(a){return t.invert(u$(a))},s.domain=function(a){return arguments.length?(t.domain(a),s):t.domain()},s.range=function(a){return arguments.length?(t.range((e=Array.from(a,dw)).map(u$)),s):e.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(t.clamp(a),s):t.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return zY(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},zi.apply(s,arguments),qc(s)}function WY(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=V4e(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Cy(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(hc),s()},a.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return WY().domain(t).range(e).unknown(n)},zi.apply(a,arguments)}function HY(){var t=0,e=1,r=1,n=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[Cy(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return HY().domain([t,e]).range(s).unknown(a)},zi.apply(qc(o),arguments)}function GY(){var t=[.5],e=[0,1],r,n=1;function s(a){return a!=null&&a<=a?e[Cy(t,a,0,n)]:r}return s.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return GY().domain(t).range(e).unknown(r)},zi.apply(s,arguments)}const NS=new Date,SS=new Date;function En(t,e,r,n){function s(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(t(a=new Date(+a)),a),s.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},s.filter=a=>En(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(s.count=(a,o)=>(NS.setTime(+a),SS.setTime(+o),t(NS),t(SS),Math.floor(r(NS,SS))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?o=>n(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const mw=En(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?En(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):mw);mw.range;const To=1e3,Ii=To*60,Co=Ii*60,el=Co*24,eR=el*7,d$=el*30,ES=el*365,wu=En(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*To)},(t,e)=>(e-t)/To,t=>t.getUTCSeconds());wu.range;const tR=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*To)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getMinutes());tR.range;const rR=En(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getUTCMinutes());rR.range;const nR=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*To-t.getMinutes()*Ii)},(t,e)=>{t.setTime(+t+e*Co)},(t,e)=>(e-t)/Co,t=>t.getHours());nR.range;const sR=En(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Co)},(t,e)=>(e-t)/Co,t=>t.getUTCHours());sR.range;const Ry=En(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ii)/el,t=>t.getDate()-1);Ry.range;const Kj=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/el,t=>t.getUTCDate()-1);Kj.range;const KY=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/el,t=>Math.floor(t/el));KY.range;function vd(t){return En(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ii)/eR)}const Yj=vd(0),pw=vd(1),M3e=vd(2),$3e=vd(3),Pf=vd(4),L3e=vd(5),F3e=vd(6);Yj.range;pw.range;M3e.range;$3e.range;Pf.range;L3e.range;F3e.range;function bd(t){return En(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/eR)}const Qj=bd(0),gw=bd(1),V3e=bd(2),B3e=bd(3),Af=bd(4),U3e=bd(5),q3e=bd(6);Qj.range;gw.range;V3e.range;B3e.range;Af.range;U3e.range;q3e.range;const iR=En(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());iR.range;const aR=En(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());aR.range;const tl=En(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());tl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});tl.range;const rl=En(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());rl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});rl.range;function YY(t,e,r,n,s,a){const o=[[wu,1,To],[wu,5,5*To],[wu,15,15*To],[wu,30,30*To],[a,1,Ii],[a,5,5*Ii],[a,15,15*Ii],[a,30,30*Ii],[s,1,Co],[s,3,3*Co],[s,6,6*Co],[s,12,12*Co],[n,1,el],[n,2,2*el],[r,1,eR],[e,1,d$],[e,3,3*d$],[t,1,ES]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),x=m?m.range(u,+d+1):[];return f?x.reverse():x}function c(u,d,h){const f=Math.abs(d-u)/h,m=UI(([,,v])=>v).right(o,f);if(m===o.length)return t.every(OP(u/ES,d/ES,h));if(m===0)return mw.every(Math.max(OP(u,d,h),1));const[x,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return x.every(p)}return[l,c]}const[z3e,W3e]=YY(rl,aR,Qj,KY,sR,rR),[H3e,G3e]=YY(tl,iR,Yj,Ry,nR,tR);function _S(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function PS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function up(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function K3e(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=dp(s),d=hp(s),h=dp(a),f=hp(a),m=dp(o),x=hp(o),p=dp(l),v=hp(l),w=dp(c),b=hp(c),j={a:B,A:D,b:V,B:K,c:null,d:x$,e:x$,f:x6e,g:P6e,G:T6e,H:m6e,I:p6e,j:g6e,L:QY,m:y6e,M:v6e,p:G,q:Q,Q:b$,s:w$,S:b6e,u:w6e,U:j6e,V:N6e,w:S6e,W:E6e,x:null,X:null,y:_6e,Y:A6e,Z:C6e,"%":v$},N={a:ae,A:U,b:Y,B:ue,c:null,d:y$,e:y$,f:O6e,g:z6e,G:H6e,H:k6e,I:I6e,j:R6e,L:JY,m:D6e,M:M6e,p:Z,q:Pe,Q:b$,s:w$,S:$6e,u:L6e,U:F6e,V:V6e,w:B6e,W:U6e,x:null,X:null,y:q6e,Y:W6e,Z:G6e,"%":v$},E={a:T,A:I,b:P,B:R,c:M,d:p$,e:p$,f:u6e,g:m$,G:f$,H:g$,I:g$,j:a6e,L:c6e,m:i6e,M:o6e,p:A,q:s6e,Q:h6e,s:f6e,S:l6e,u:Z3e,U:e6e,V:t6e,w:J3e,W:r6e,x:q,X:W,y:m$,Y:f$,Z:n6e,"%":d6e};j.x=C(r,j),j.X=C(n,j),j.c=C(e,j),N.x=C(r,N),N.X=C(n,N),N.c=C(e,N);function C(te,ye){return function(F){var z=[],ie=-1,ne=0,he=te.length,ve,ge,X;for(F instanceof Date||(F=new Date(+F));++ie<he;)te.charCodeAt(ie)===37&&(z.push(te.slice(ne,ie)),(ge=h$[ve=te.charAt(++ie)])!=null?ve=te.charAt(++ie):ge=ve==="e"?" ":"0",(X=ye[ve])&&(ve=X(F,ge)),z.push(ve),ne=ie+1);return z.push(te.slice(ne,ie)),z.join("")}}function _(te,ye){return function(F){var z=up(1900,void 0,1),ie=S(z,te,F+="",0),ne,he;if(ie!=F.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ye&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(ne=PS(up(z.y,0,1)),he=ne.getUTCDay(),ne=he>4||he===0?gw.ceil(ne):gw(ne),ne=Kj.offset(ne,(z.V-1)*7),z.y=ne.getUTCFullYear(),z.m=ne.getUTCMonth(),z.d=ne.getUTCDate()+(z.w+6)%7):(ne=_S(up(z.y,0,1)),he=ne.getDay(),ne=he>4||he===0?pw.ceil(ne):pw(ne),ne=Ry.offset(ne,(z.V-1)*7),z.y=ne.getFullYear(),z.m=ne.getMonth(),z.d=ne.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),he="Z"in z?PS(up(z.y,0,1)).getUTCDay():_S(up(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(he+5)%7:z.w+z.U*7-(he+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,PS(z)):_S(z)}}function S(te,ye,F,z){for(var ie=0,ne=ye.length,he=F.length,ve,ge;ie<ne;){if(z>=he)return-1;if(ve=ye.charCodeAt(ie++),ve===37){if(ve=ye.charAt(ie++),ge=E[ve in h$?ye.charAt(ie++):ve],!ge||(z=ge(te,F,z))<0)return-1}else if(ve!=F.charCodeAt(z++))return-1}return z}function A(te,ye,F){var z=u.exec(ye.slice(F));return z?(te.p=d.get(z[0].toLowerCase()),F+z[0].length):-1}function T(te,ye,F){var z=m.exec(ye.slice(F));return z?(te.w=x.get(z[0].toLowerCase()),F+z[0].length):-1}function I(te,ye,F){var z=h.exec(ye.slice(F));return z?(te.w=f.get(z[0].toLowerCase()),F+z[0].length):-1}function P(te,ye,F){var z=w.exec(ye.slice(F));return z?(te.m=b.get(z[0].toLowerCase()),F+z[0].length):-1}function R(te,ye,F){var z=p.exec(ye.slice(F));return z?(te.m=v.get(z[0].toLowerCase()),F+z[0].length):-1}function M(te,ye,F){return S(te,e,ye,F)}function q(te,ye,F){return S(te,r,ye,F)}function W(te,ye,F){return S(te,n,ye,F)}function B(te){return o[te.getDay()]}function D(te){return a[te.getDay()]}function V(te){return c[te.getMonth()]}function K(te){return l[te.getMonth()]}function G(te){return s[+(te.getHours()>=12)]}function Q(te){return 1+~~(te.getMonth()/3)}function ae(te){return o[te.getUTCDay()]}function U(te){return a[te.getUTCDay()]}function Y(te){return c[te.getUTCMonth()]}function ue(te){return l[te.getUTCMonth()]}function Z(te){return s[+(te.getUTCHours()>=12)]}function Pe(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ye=C(te+="",j);return ye.toString=function(){return te},ye},parse:function(te){var ye=_(te+="",!1);return ye.toString=function(){return te},ye},utcFormat:function(te){var ye=C(te+="",N);return ye.toString=function(){return te},ye},utcParse:function(te){var ye=_(te+="",!0);return ye.toString=function(){return te},ye}}}var h$={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,Y3e=/^%/,Q3e=/[\\^$*+?|[\]().{}]/g;function Wt(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(e)+s:s)}function X3e(t){return t.replace(Q3e,"\\$&")}function dp(t){return new RegExp("^(?:"+t.map(X3e).join("|")+")","i")}function hp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function J3e(t,e,r){var n=Fn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Z3e(t,e,r){var n=Fn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function e6e(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function t6e(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function r6e(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function f$(t,e,r){var n=Fn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function m$(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function n6e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function s6e(t,e,r){var n=Fn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function i6e(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function p$(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function a6e(t,e,r){var n=Fn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function g$(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function o6e(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function l6e(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function c6e(t,e,r){var n=Fn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function u6e(t,e,r){var n=Fn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function d6e(t,e,r){var n=Y3e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function h6e(t,e,r){var n=Fn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function f6e(t,e,r){var n=Fn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function x$(t,e){return Wt(t.getDate(),e,2)}function m6e(t,e){return Wt(t.getHours(),e,2)}function p6e(t,e){return Wt(t.getHours()%12||12,e,2)}function g6e(t,e){return Wt(1+Ry.count(tl(t),t),e,3)}function QY(t,e){return Wt(t.getMilliseconds(),e,3)}function x6e(t,e){return QY(t,e)+"000"}function y6e(t,e){return Wt(t.getMonth()+1,e,2)}function v6e(t,e){return Wt(t.getMinutes(),e,2)}function b6e(t,e){return Wt(t.getSeconds(),e,2)}function w6e(t){var e=t.getDay();return e===0?7:e}function j6e(t,e){return Wt(Yj.count(tl(t)-1,t),e,2)}function XY(t){var e=t.getDay();return e>=4||e===0?Pf(t):Pf.ceil(t)}function N6e(t,e){return t=XY(t),Wt(Pf.count(tl(t),t)+(tl(t).getDay()===4),e,2)}function S6e(t){return t.getDay()}function E6e(t,e){return Wt(pw.count(tl(t)-1,t),e,2)}function _6e(t,e){return Wt(t.getFullYear()%100,e,2)}function P6e(t,e){return t=XY(t),Wt(t.getFullYear()%100,e,2)}function A6e(t,e){return Wt(t.getFullYear()%1e4,e,4)}function T6e(t,e){var r=t.getDay();return t=r>=4||r===0?Pf(t):Pf.ceil(t),Wt(t.getFullYear()%1e4,e,4)}function C6e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Wt(e/60|0,"0",2)+Wt(e%60,"0",2)}function y$(t,e){return Wt(t.getUTCDate(),e,2)}function k6e(t,e){return Wt(t.getUTCHours(),e,2)}function I6e(t,e){return Wt(t.getUTCHours()%12||12,e,2)}function R6e(t,e){return Wt(1+Kj.count(rl(t),t),e,3)}function JY(t,e){return Wt(t.getUTCMilliseconds(),e,3)}function O6e(t,e){return JY(t,e)+"000"}function D6e(t,e){return Wt(t.getUTCMonth()+1,e,2)}function M6e(t,e){return Wt(t.getUTCMinutes(),e,2)}function $6e(t,e){return Wt(t.getUTCSeconds(),e,2)}function L6e(t){var e=t.getUTCDay();return e===0?7:e}function F6e(t,e){return Wt(Qj.count(rl(t)-1,t),e,2)}function ZY(t){var e=t.getUTCDay();return e>=4||e===0?Af(t):Af.ceil(t)}function V6e(t,e){return t=ZY(t),Wt(Af.count(rl(t),t)+(rl(t).getUTCDay()===4),e,2)}function B6e(t){return t.getUTCDay()}function U6e(t,e){return Wt(gw.count(rl(t)-1,t),e,2)}function q6e(t,e){return Wt(t.getUTCFullYear()%100,e,2)}function z6e(t,e){return t=ZY(t),Wt(t.getUTCFullYear()%100,e,2)}function W6e(t,e){return Wt(t.getUTCFullYear()%1e4,e,4)}function H6e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Af(t):Af.ceil(t),Wt(t.getUTCFullYear()%1e4,e,4)}function G6e(){return"+0000"}function v$(){return"%"}function b$(t){return+t}function w$(t){return Math.floor(+t/1e3)}var Dd,eQ,tQ;K6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function K6e(t){return Dd=K3e(t),eQ=Dd.format,Dd.parse,tQ=Dd.utcFormat,Dd.utcParse,Dd}function Y6e(t){return new Date(t)}function Q6e(t){return t instanceof Date?+t:+new Date(+t)}function oR(t,e,r,n,s,a,o,l,c,u){var d=GI(),h=d.invert,f=d.domain,m=u(".%L"),x=u(":%S"),p=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),b=u("%b %d"),j=u("%B"),N=u("%Y");function E(C){return(c(C)<C?m:l(C)<C?x:o(C)<C?p:a(C)<C?v:n(C)<C?s(C)<C?w:b:r(C)<C?j:N)(C)}return d.invert=function(C){return new Date(h(C))},d.domain=function(C){return arguments.length?f(Array.from(C,Q6e)):f().map(Y6e)},d.ticks=function(C){var _=f();return t(_[0],_[_.length-1],C??10)},d.tickFormat=function(C,_){return _==null?E:u(_)},d.nice=function(C){var _=f();return(!C||typeof C.range!="function")&&(C=e(_[0],_[_.length-1],C??10)),C?f(BY(_,C)):d},d.copy=function(){return Iy(d,oR(t,e,r,n,s,a,o,l,c,u))},d}function X6e(){return zi.apply(oR(H3e,G3e,tl,iR,Yj,Ry,nR,tR,wu,eQ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function J6e(){return zi.apply(oR(z3e,W3e,rl,aR,Qj,Kj,sR,rR,wu,tQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xj(){var t=0,e=1,r,n,s,a,o=ws,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(a(h)-r)*s,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),s=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var m,x;return arguments.length?([m,x]=f,o=h(m,x),u):[o(0),o(1)]}}return u.range=d(Cm),u.rangeRound=d(HI),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(t),n=h(e),s=r===n?0:1/(n-r),u}}function zc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rQ(){var t=qc(Xj()(ws));return t.copy=function(){return zc(t,rQ())},ll.apply(t,arguments)}function nQ(){var t=QI(Xj()).domain([1,10]);return t.copy=function(){return zc(t,nQ()).base(t.base())},ll.apply(t,arguments)}function sQ(){var t=XI(Xj());return t.copy=function(){return zc(t,sQ()).constant(t.constant())},ll.apply(t,arguments)}function lR(){var t=JI(Xj());return t.copy=function(){return zc(t,lR()).exponent(t.exponent())},ll.apply(t,arguments)}function Z6e(){return lR.apply(null,arguments).exponent(.5)}function iQ(){var t=[],e=ws;function r(n){if(n!=null&&!isNaN(n=+n))return e((Cy(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(hc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>F4e(t,a/n))},r.copy=function(){return iQ(e).domain(t)},ll.apply(r,arguments)}function Jj(){var t=0,e=.5,r=1,n=1,s,a,o,l,c,u=ws,d,h=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+d(p))-a)*(n*p<n*a?l:c),u(h?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([t,e,r]=p,s=d(t=+t),a=d(e=+e),o=d(r=+r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,m):[t,e,r]},m.clamp=function(p){return arguments.length?(h=!!p,m):h},m.interpolator=function(p){return arguments.length?(u=p,m):u};function x(p){return function(v){var w,b,j;return arguments.length?([w,b,j]=v,u=d3e(p,[w,b,j]),m):[u(0),u(.5),u(1)]}}return m.range=x(Cm),m.rangeRound=x(HI),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return d=p,s=p(t),a=p(e),o=p(r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,m}}function aQ(){var t=qc(Jj()(ws));return t.copy=function(){return zc(t,aQ())},ll.apply(t,arguments)}function oQ(){var t=QI(Jj()).domain([.1,1,10]);return t.copy=function(){return zc(t,oQ()).base(t.base())},ll.apply(t,arguments)}function lQ(){var t=XI(Jj());return t.copy=function(){return zc(t,lQ()).constant(t.constant())},ll.apply(t,arguments)}function cR(){var t=JI(Jj());return t.copy=function(){return zc(t,cR()).exponent(t.exponent())},ll.apply(t,arguments)}function e$e(){return cR.apply(null,arguments).exponent(.5)}const j$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cx,scaleDiverging:aQ,scaleDivergingLog:oQ,scaleDivergingPow:cR,scaleDivergingSqrt:e$e,scaleDivergingSymlog:lQ,scaleIdentity:VY,scaleImplicit:DP,scaleLinear:fw,scaleLog:UY,scaleOrdinal:qI,scalePoint:ag,scalePow:ZI,scaleQuantile:WY,scaleQuantize:HY,scaleRadial:zY,scaleSequential:rQ,scaleSequentialLog:nQ,scaleSequentialPow:lR,scaleSequentialQuantile:iQ,scaleSequentialSqrt:Z6e,scaleSequentialSymlog:sQ,scaleSqrt:O3e,scaleSymlog:qY,scaleThreshold:GY,scaleTime:X6e,scaleUtc:J6e,tickFormat:FY},Symbol.toStringTag,{value:"Module"}));var t$e=bm;function r$e(t,e,r){for(var n=-1,s=t.length;++n<s;){var a=t[n],o=e(a);if(o!=null&&(l===void 0?o===o&&!t$e(o):r(o,l)))var l=o,c=a}return c}var Zj=r$e;function n$e(t,e){return t>e}var cQ=n$e,s$e=Zj,i$e=cQ,a$e=Tm;function o$e(t){return t&&t.length?s$e(t,a$e,i$e):void 0}var l$e=o$e;const Gl=Xt(l$e);function c$e(t,e){return t<e}var uQ=c$e,u$e=Zj,d$e=uQ,h$e=Tm;function f$e(t){return t&&t.length?u$e(t,h$e,d$e):void 0}var m$e=f$e;const eN=Xt(m$e);var p$e=NI,g$e=oo,x$e=yY,y$e=Gs;function v$e(t,e){var r=y$e(t)?p$e:x$e;return r(t,g$e(e))}var b$e=v$e,w$e=gY,j$e=b$e;function N$e(t,e){return w$e(j$e(t,e),1)}var S$e=N$e;const E$e=Xt(S$e);var _$e=LI;function P$e(t,e){return _$e(t,e)}var A$e=P$e;const Tf=Xt(A$e);var km=1e9,T$e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dR,Ir=!0,Ui="[DecimalError] ",Vu=Ui+"Invalid argument: ",uR=Ui+"Exponent out of range: ",Im=Math.floor,ou=Math.pow,C$e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,si,kn=1e7,Sr=7,dQ=9007199254740991,xw=Im(dQ/Sr),Qe={};Qe.absoluteValue=Qe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Qe.comparedTo=Qe.cmp=function(t){var e,r,n,s,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Sr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Qe.dividedBy=Qe.div=function(t){return Mo(this,new this.constructor(t))};Qe.dividedToIntegerBy=Qe.idiv=function(t){var e=this,r=e.constructor;return lr(Mo(e,new r(t),0,1),r.precision)};Qe.equals=Qe.eq=function(t){return!this.cmp(t)};Qe.exponent=function(){return hn(this)};Qe.greaterThan=Qe.gt=function(t){return this.cmp(t)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(t){return this.cmp(t)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(t){return this.cmp(t)<0};Qe.lessThanOrEqualTo=Qe.lte=function(t){return this.cmp(t)<1};Qe.logarithm=Qe.log=function(t){var e,r=this,n=r.constructor,s=n.precision,a=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(si))throw Error(Ui+"NaN");if(r.s<1)throw Error(Ui+(r.s?"NaN":"-Infinity"));return r.eq(si)?new n(0):(Ir=!1,e=Mo(mx(r,a),mx(t,a),a),Ir=!0,lr(e,s))};Qe.minus=Qe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mQ(e,t):hQ(e,(t.s=-t.s,t))};Qe.modulo=Qe.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(Ui+"NaN");return r.s?(Ir=!1,e=Mo(r,t,0,1).times(t),Ir=!0,r.minus(e)):lr(new n(r),s)};Qe.naturalExponential=Qe.exp=function(){return fQ(this)};Qe.naturalLogarithm=Qe.ln=function(){return mx(this)};Qe.negated=Qe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Qe.plus=Qe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hQ(e,t):mQ(e,(t.s=-t.s,t))};Qe.precision=Qe.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Vu+t);if(e=hn(s)+1,n=s.d.length-1,r=n*Sr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Qe.squareRoot=Qe.sqrt=function(){var t,e,r,n,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ui+"NaN")}for(t=hn(l),Ir=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=Fa(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Im((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(a=n,n=a.plus(Mo(l,a,o+2)).times(.5),Fa(a.d).slice(0,o)===(e=Fa(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(lr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return Ir=!0,lr(n,r)};Qe.times=Qe.mul=function(t){var e,r,n,s,a,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=f.length,u=m.length,c<u&&(a=f,f=m,m=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,s=c+n;s>n;)l=a[s]+m[n]*f[s-n-1]+e,a[s--]=l%kn|0,e=l/kn|0;a[s]=(a[s]+e)%kn|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ir?lr(t,h.precision):t};Qe.toDecimalPlaces=Qe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ro(t,0,km),e===void 0?e=n.rounding:ro(e,0,8),lr(r,t+hn(r)+1,e))};Qe.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=id(n,!0):(ro(t,0,km),e===void 0?e=s.rounding:ro(e,0,8),n=lr(new s(n),t+1,e),r=id(n,!0,t+1)),r};Qe.toFixed=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?id(s):(ro(t,0,km),e===void 0?e=a.rounding:ro(e,0,8),n=lr(new a(s),t+hn(s)+1,e),r=id(n.abs(),!1,t+hn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Qe.toInteger=Qe.toint=function(){var t=this,e=t.constructor;return lr(new e(t),hn(t)+1,e.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(t){var e,r,n,s,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(si);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ui+"Infinity");return l}if(l.eq(si))return l;if(n=c.precision,t.eq(si))return lr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=d<0?-d:d)<=dQ){for(s=new c(si),e=Math.ceil(n/Sr+4),Ir=!1;r%2&&(s=s.times(l),S$(s.d,e)),r=Im(r/2),r!==0;)l=l.times(l),S$(l.d,e);return Ir=!0,t.s<0?new c(si).div(s):lr(s,n)}}else if(a<0)throw Error(Ui+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ir=!1,s=t.times(mx(l,n+u)),Ir=!0,s=fQ(s),s.s=a,s};Qe.toPrecision=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?(r=hn(s),n=id(s,r<=a.toExpNeg||r>=a.toExpPos)):(ro(t,1,km),e===void 0?e=a.rounding:ro(e,0,8),s=lr(new a(s),t,e),r=hn(s),n=id(s,t<=r||r<=a.toExpNeg,t)),n};Qe.toSignificantDigits=Qe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ro(t,1,km),e===void 0?e=n.rounding:ro(e,0,8)),lr(new n(r),t,e)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=hn(t),r=t.constructor;return id(t,e<=r.toExpNeg||e>=r.toExpPos)};function hQ(t,e){var r,n,s,a,o,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ir?lr(e,h):e;if(c=t.d,u=e.d,o=t.e,s=e.e,c=c.slice(),a=o-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(h/Sr),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/kn|0,c[a]%=kn;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,Ir?lr(e,h):e}function ro(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Vu+t)}function Fa(t){var e,r,n,s=t.length-1,a="",o=t[0];if(s>0){for(a+=o,e=1;e<s;e++)n=t[e]+"",r=Sr-n.length,r&&(a+=_l(r)),a+=n;o=t[e],n=o+"",r=Sr-n.length,r&&(a+=_l(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Mo=function(){function t(n,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+o,n[l]=a%kn|0,o=a/kn|0;return o&&n.unshift(o),n}function e(n,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var o=0;a--;)n[a]-=o,o=n[a]<s[a]?1:0,n[a]=o*kn+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,o){var l,c,u,d,h,f,m,x,p,v,w,b,j,N,E,C,_,S,A=n.constructor,T=n.s==s.s?1:-1,I=n.d,P=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(Ui+"Division by zero");for(c=n.e-s.e,_=P.length,E=I.length,m=new A(T),x=m.d=[],u=0;P[u]==(I[u]||0);)++u;if(P[u]>(I[u]||0)&&--c,a==null?b=a=A.precision:o?b=a+(hn(n)-hn(s))+1:b=a,b<0)return new A(0);if(b=b/Sr+2|0,u=0,_==1)for(d=0,P=P[0],b++;(u<E||d)&&b--;u++)j=d*kn+(I[u]||0),x[u]=j/P|0,d=j%P|0;else{for(d=kn/(P[0]+1)|0,d>1&&(P=t(P,d),I=t(I,d),_=P.length,E=I.length),N=_,p=I.slice(0,_),v=p.length;v<_;)p[v++]=0;S=P.slice(),S.unshift(0),C=P[0],P[1]>=kn/2&&++C;do d=0,l=e(P,p,_,v),l<0?(w=p[0],_!=v&&(w=w*kn+(p[1]||0)),d=w/C|0,d>1?(d>=kn&&(d=kn-1),h=t(P,d),f=h.length,v=p.length,l=e(h,p,f,v),l==1&&(d--,r(h,_<f?S:P,f))):(d==0&&(l=d=1),h=P.slice()),f=h.length,f<v&&h.unshift(0),r(p,h,v),l==-1&&(v=p.length,l=e(P,p,_,v),l<1&&(d++,r(p,_<v?S:P,v))),v=p.length):l===0&&(d++,p=[0]),x[u++]=d,l&&p[0]?p[v++]=I[N]||0:(p=[I[N]],v=1);while((N++<E||p[0]!==void 0)&&b--)}return x[0]||x.shift(),m.e=c,lr(m,o?a+hn(m)+1:a)}}();function fQ(t,e){var r,n,s,a,o,l,c=0,u=0,d=t.constructor,h=d.precision;if(hn(t)>16)throw Error(uR+hn(t));if(!t.s)return new d(si);for(e==null?(Ir=!1,l=h):l=e,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(ou(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(si),d.precision=l;;){if(s=lr(s.times(t),l),r=r.times(++c),o=a.plus(Mo(s,r,l)),Fa(o.d).slice(0,l)===Fa(a.d).slice(0,l)){for(;u--;)a=lr(a.times(a),l);return d.precision=h,e==null?(Ir=!0,lr(a,h)):a}a=o}}function hn(t){for(var e=t.e*Sr,r=t.d[0];r>=10;r/=10)e++;return e}function AS(t,e,r){if(e>t.LN10.sd())throw Ir=!0,r&&(t.precision=r),Error(Ui+"LN10 precision limit exceeded");return lr(new t(t.LN10),e)}function _l(t){for(var e="";t--;)e+="0";return e}function mx(t,e){var r,n,s,a,o,l,c,u,d,h=1,f=10,m=t,x=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Ui+(m.s?"NaN":"-Infinity"));if(m.eq(si))return new p(0);if(e==null?(Ir=!1,u=v):u=e,m.eq(10))return e==null&&(Ir=!0),AS(p,u);if(u+=f,p.precision=u,r=Fa(x),n=r.charAt(0),a=hn(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Fa(m.d),n=r.charAt(0),h++;a=hn(m),n>1?(m=new p("0."+r),a++):m=new p(n+"."+r.slice(1))}else return c=AS(p,u+2,v).times(a+""),m=mx(new p(n+"."+r.slice(1)),u-f).plus(c),p.precision=v,e==null?(Ir=!0,lr(m,v)):m;for(l=o=m=Mo(m.minus(si),m.plus(si),u),d=lr(m.times(m),u),s=3;;){if(o=lr(o.times(d),u),c=l.plus(Mo(o,new p(s),u)),Fa(c.d).slice(0,u)===Fa(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(AS(p,u+2,v).times(a+""))),l=Mo(l,new p(h),u),p.precision=v,e==null?(Ir=!0,lr(l,v)):l;l=c,s+=2}}function N$(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=Im(r/Sr),t.d=[],n=(r+1)%Sr,r<0&&(n+=Sr),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=Sr;n<s;)t.d.push(+e.slice(n,n+=Sr));e=e.slice(n),n=Sr-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),Ir&&(t.e>xw||t.e<-xw))throw Error(uR+r)}else t.s=0,t.e=0,t.d=[0];return t}function lr(t,e,r){var n,s,a,o,l,c,u,d,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Sr,s=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Sr),a=h.length,d>=a)return t;for(u=a=h[d],o=1;a>=10;a/=10)o++;n%=Sr,s=n-Sr+o}if(r!==void 0&&(a=ou(10,o-s-1),l=u/a%10|0,c=e<0||h[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/ou(10,o-s):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(a=hn(t),h.length=1,e=e-a-1,h[0]=ou(10,(Sr-e%Sr)%Sr),t.e=Im(-e/Sr)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=ou(10,Sr-n),h[d]=s>0?(u/ou(10,o-s)%ou(10,s)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==kn&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=kn)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Ir&&(t.e>xw||t.e<-xw))throw Error(uR+hn(t));return t}function mQ(t,e){var r,n,s,a,o,l,c,u,d,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Ir?lr(e,m):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),s=Math.max(Math.ceil(m/Sr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=h.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){d=c[s]<h[s];break}o=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(a=s;a&&c[--a]===0;)c[a]=kn-1;--c[a],c[s]+=kn}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ir?lr(e,m):e):new f(0)}function id(t,e,r){var n,s=hn(t),a=Fa(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+_l(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+_l(-s-1)+a,r&&(n=r-o)>0&&(a+=_l(n))):s>=o?(a+=_l(s+1-o),r&&(n=r-s-1)>0&&(a=a+"."+_l(n))):((n=s+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(a+="."),a+=_l(n))),t.s<0?"-"+a:a}function S$(t,e){if(t.length>e)return t.length=e,!0}function pQ(t){var e,r,n;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Vu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return N$(o,a.toString())}else if(typeof a!="string")throw Error(Vu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,C$e.test(a))N$(o,a);else throw Error(Vu+a)}if(s.prototype=Qe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=pQ,s.config=s.set=k$e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function k$e(t){if(!t||typeof t!="object")throw Error(Ui+"Object expected");var e,r,n,s=["precision",1,km,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(Im(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Vu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Vu+r+": "+n);return this}var dR=pQ(T$e);si=new dR(1);const sr=dR;function I$e(t){return M$e(t)||D$e(t)||O$e(t)||R$e()}function R$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$e(t,e){if(t){if(typeof t=="string")return FP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FP(t,e)}}function D$e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function M$e(t){if(Array.isArray(t))return FP(t)}function FP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $$e=function(e){return e},gQ={"@@functional/placeholder":!0},xQ=function(e){return e===gQ},E$=function(e){return function r(){return arguments.length===0||arguments.length===1&&xQ(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},L$e=function t(e,r){return e===1?r:E$(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==gQ}).length;return o>=e?r.apply(void 0,s):t(e-o,E$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(h){return xQ(h)?c.shift():h});return r.apply(void 0,I$e(d).concat(c))}))})},tN=function(e){return L$e(e.length,e)},VP=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},F$e=tN(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),V$e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return $$e;var s=r.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},BP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},yQ=function(e){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function B$e(t){var e;return t===0?e=1:e=Math.floor(new sr(t).abs().log(10).toNumber())+1,e}function U$e(t,e,r){for(var n=new sr(t),s=0,a=[];n.lt(e)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var q$e=tN(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),z$e=tN(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),W$e=tN(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const rN={rangeStep:U$e,getDigitCount:B$e,interpolateNumber:q$e,uninterpolateNumber:z$e,uninterpolateTruncation:W$e};function UP(t){return K$e(t)||G$e(t)||vQ(t)||H$e()}function H$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G$e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function K$e(t){if(Array.isArray(t))return qP(t)}function px(t,e){return X$e(t)||Q$e(t,e)||vQ(t,e)||Y$e()}function Y$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vQ(t,e){if(t){if(typeof t=="string")return qP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qP(t,e)}}function qP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q$e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw a}}return r}}function X$e(t){if(Array.isArray(t))return t}function bQ(t){var e=px(t,2),r=e[0],n=e[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function wQ(t,e,r){if(t.lte(0))return new sr(0);var n=rN.getDigitCount(t.toNumber()),s=new sr(10).pow(n),a=t.div(s),o=n!==1?.05:.1,l=new sr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return e?c:new sr(Math.ceil(c))}function J$e(t,e,r){var n=1,s=new sr(t);if(!s.isint()&&r){var a=Math.abs(t);a<1?(n=new sr(10).pow(rN.getDigitCount(t)-1),s=new sr(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new sr(Math.floor(t)))}else t===0?s=new sr(Math.floor((e-1)/2)):r||(s=new sr(Math.floor(t)));var o=Math.floor((e-1)/2),l=V$e(F$e(function(c){return s.add(new sr(c-o).mul(n)).toNumber()}),VP);return l(0,e)}function jQ(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new sr(0),tickMin:new sr(0),tickMax:new sr(0)};var a=wQ(new sr(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new sr(0):(o=new sr(t).add(e).div(2),o=o.sub(new sr(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new sr(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?jQ(t,e,r,n,s+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new sr(l).mul(a)),tickMax:o.add(new sr(c).mul(a))})}function Z$e(t){var e=px(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=bQ([r,n]),c=px(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(UP(VP(0,s-1).map(function(){return 1/0}))):[].concat(UP(VP(0,s-1).map(function(){return-1/0})),[d]);return r>n?BP(h):h}if(u===d)return J$e(u,s,a);var f=jQ(u,d,o,a),m=f.step,x=f.tickMin,p=f.tickMax,v=rN.rangeStep(x,p.add(new sr(.1).mul(m)),m);return r>n?BP(v):v}function eLe(t,e){var r=px(t,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=bQ([n,s]),l=px(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(e,2),h=wQ(new sr(u).sub(c).div(d-1),a,0),f=[].concat(UP(rN.rangeStep(new sr(c),new sr(u).sub(new sr(.99).mul(h)),h)),[u]);return n>s?BP(f):f}var tLe=yQ(Z$e),rLe=yQ(eLe),nLe="Invariant failed";function ad(t,e){throw new Error(nLe)}var sLe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yw.apply(this,arguments)}function iLe(t,e){return cLe(t)||lLe(t,e)||oLe(t,e)||aLe()}function aLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oLe(t,e){if(t){if(typeof t=="string")return _$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _$(t,e)}}function _$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function cLe(t){if(Array.isArray(t))return t}function uLe(t,e){if(t==null)return{};var r=dLe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EQ(n.key),n)}}function mLe(t,e,r){return e&&fLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pLe(t,e,r){return e=vw(e),gLe(t,NQ()?Reflect.construct(e,r||[],vw(t).constructor):e.apply(t,r))}function gLe(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xLe(t)}function xLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NQ=function(){return!!t})()}function vw(t){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(t)}function yLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zP(t,e)}function zP(t,e){return zP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zP(t,e)}function SQ(t,e,r){return e=EQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EQ(t){var e=vLe(t,"string");return Cf(e)=="symbol"?e:e+""}function vLe(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nN=function(t){function e(){return hLe(this,e),pLe(this,e,arguments)}return yLe(e,t),mLe(e,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=uLe(n,sLe),m=nt(f,!1);this.props.direction==="x"&&d.type!=="number"&&ad();var x=c.map(function(p){var v=u(p,l),w=v.x,b=v.y,j=v.value,N=v.errorVal;if(!N)return null;var E=[],C,_;if(Array.isArray(N)){var S=iLe(N,2);C=S[0],_=S[1]}else C=_=N;if(a==="vertical"){var A=d.scale,T=b+s,I=T+o,P=T-o,R=A(j-C),M=A(j+_);E.push({x1:M,y1:I,x2:M,y2:P}),E.push({x1:R,y1:T,x2:M,y2:T}),E.push({x1:R,y1:I,x2:R,y2:P})}else if(a==="horizontal"){var q=h.scale,W=w+s,B=W-o,D=W+o,V=q(j-C),K=q(j+_);E.push({x1:B,y1:K,x2:D,y2:K}),E.push({x1:W,y1:V,x2:W,y2:K}),E.push({x1:B,y1:V,x2:D,y2:V})}return L.createElement(Ut,yw({className:"recharts-errorBar",key:"bar-".concat(E.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},m),E.map(function(G){return L.createElement("line",yw({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return L.createElement(Ut,{className:"recharts-errorBars"},x)}}])}(L.Component);SQ(nN,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});SQ(nN,"displayName","ErrorBar");function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}function P$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P$(Object(r),!0).forEach(function(n){bLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bLe(t,e,r){return e=wLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wLe(t){var e=jLe(t,"string");return gx(e)=="symbol"?e:e+""}function jLe(t,e){if(gx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Q=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,a=e.legendContent,o=ei(r,kh);if(!o)return null;var l=kh.defaultProps,c=l!==void 0?Xc(Xc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,m=h.props,x=m.sectors||m.data||[];return d.concat(x.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?Xc(Xc({},f),h.props):{},x=m.dataKey,p=m.name,v=m.legendType,w=m.hide;return{inactive:w,dataKey:x,type:c.iconType||v||"square",color:hR(h),value:p||x,payload:m}}),Xc(Xc(Xc({},c),kh.getWithHeight(o,s)),{},{payload:u,item:o})};function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}function A$(t){return _Le(t)||ELe(t)||SLe(t)||NLe()}function NLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SLe(t,e){if(t){if(typeof t=="string")return WP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WP(t,e)}}function ELe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Le(t){if(Array.isArray(t))return WP(t)}function WP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T$(Object(r),!0).forEach(function(n){Rh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rh(t,e,r){return e=PLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PLe(t){var e=ALe(t,"string");return xx(e)=="symbol"?e:e+""}function ALe(t,e){if(xx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yn(t,e,r){return Nt(t)||Nt(e)?r:Nn(e)?ui(t,e,r):mt(e)?e(t):r}function og(t,e,r,n){var s=E$e(t,function(l){return yn(l,e)});if(r==="number"){var a=s.filter(function(l){return Oe(l)||parseFloat(l)});return a.length?[eN(a),Gl(a)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!Nt(l)}):s;return o.map(function(l){return Nn(l)||l instanceof Date?l:""})}var TLe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,h=s[u].coordinate,f=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(vs(h-d)!==vs(f-h)){var x=[];if(vs(f-h)===vs(c[1]-c[0])){m=f;var p=h+c[1]-c[0];x[0]=Math.min(p,(p+d)/2),x[1]=Math.max(p,(p+d)/2)}else{m=d;var v=f+c[1]-c[0];x[0]=Math.min(h,(v+h)/2),x[1]=Math.max(h,(v+h)/2)}var w=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){o=s[u].index;break}}else{var b=Math.min(d,f),j=Math.max(d,f);if(e>(b+h)/2&&e<=(j+h)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},hR=function(e){var r,n=e,s=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Gr(Gr({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},CLe=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var x=d[h[f]],p=x.items,v=x.cateAxisId,w=p.filter(function(_){return Do(_.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,j=b!==void 0?Gr(Gr({},b),w[0].props):w[0].props,N=j.barSize,E=j[v];o[E]||(o[E]=[]);var C=Nt(N)?r:N;o[E].push({item:w[0],stackList:w.slice(1),barSize:Nt(C)?void 0:bs(C,n,0)})}}return o},kLe=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=bs(r,s,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=s/c,x=o.reduce(function(N,E){return N+E.barSize||0},0);x+=(c-1)*u,x>=s&&(x-=(c-1)*u,u=0),x>=s&&m>0&&(f=!0,m*=.9,x=c*m);var p=(s-x)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(N,E){var C={item:E.item,position:{offset:v.offset+v.size+u,size:f?m:E.barSize}},_=[].concat(A$(N),[C]);return v=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(S){_.push({item:S,position:v})}),_},h)}else{var w=bs(n,s,0,!0);s-2*w-(c-1)*u<=0&&(u=0);var b=(s-2*w-(c-1)*u)/c;b>1&&(b>>=0);var j=l===+l?Math.min(b,l):b;d=o.reduce(function(N,E,C){var _=[].concat(A$(N),[{item:E.item,position:{offset:w+(b+u)*C+(b-j)/2,size:j}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(S){_.push({item:S,position:_[_.length-1].position})}),_},h)}return d},ILe=function(e,r,n,s){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=_Q({children:a,legendWidth:c});if(u){var d=s||{},h=d.width,f=d.height,m=u.align,x=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&m!=="center"&&Oe(e[m]))return Gr(Gr({},e),{},Rh({},m,e[m]+(h||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&x!=="middle"&&Oe(e[x]))return Gr(Gr({},e),{},Rh({},x,e[x]+(f||0)))}return e},RLe=function(e,r,n){return Nt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},PQ=function(e,r,n,s,a){var o=r.props.children,l=Li(o,nN).filter(function(u){return RLe(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=yn(d,n);if(Nt(h))return u;var f=Array.isArray(h)?[eN(h),Gl(h)]:[h,h],m=c.reduce(function(x,p){var v=yn(d,p,0),w=f[0]-Math.abs(Array.isArray(v)?v[0]:v),b=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(w,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},OLe=function(e,r,n,s,a){var o=r.map(function(l){return PQ(e,l,n,a,s)}).filter(function(l){return!Nt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},AQ=function(e,r,n,s,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&PQ(e,c,u,s)||og(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},TQ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},CQ=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},ko=function(e,r,n){if(!e)return null;var s=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?vs(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=a?a.indexOf(h):h;return{coordinate:s(f)+u,value:h,offset:u}});return d.filter(function(h){return!Em(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:s(h)+u,value:h,index:f,offset:u}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(h){return{coordinate:s(h)+u,value:h,offset:u}}):s.domain().map(function(h,f){return{coordinate:s(h)+u,value:a?a[h]:h,index:f,offset:u}})},TS=new WeakMap,W0=function(e,r){if(typeof r!="function")return e;TS.has(e)||TS.set(e,new WeakMap);var n=TS.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},kQ=function(e,r,n){var s=e.scale,a=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:cx(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:fw(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ag(),realScaleType:"point"}:a==="category"?{scale:cx(),realScaleType:"band"}:{scale:fw(),realScaleType:"linear"};if(Ay(s)){var c="scale".concat(Fj(s));return{scale:(j$[c]||ag)(),realScaleType:j$[c]?c:"point"}}return mt(s)?{scale:s}:{scale:ag(),realScaleType:"point"}},C$=1e-4,IQ=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),a=Math.min(s[0],s[1])-C$,o=Math.max(s[0],s[1])+C$,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},DLe=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},MLe=function(e,r){if(!r||r.length!==2||!Oe(r[0])||!Oe(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Oe(e[0])||e[0]<n)&&(a[0]=n),(!Oe(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},$Le=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,o=0,l=0;l<r;++l){var c=Em(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},LLe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,o=0;o<r;++o){var l=Em(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},FLe={sign:$Le,expand:nTe,none:wf,silhouette:sTe,wiggle:iTe,positive:LLe},VLe=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),a=FLe[n],o=rTe().keys(s).value(function(l,c){return+yn(l,c,0)}).order(gP).offset(a);return o(e)},BLe=function(e,r,n,s,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,f){var m,x=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Gr(Gr({},f.type.defaultProps),f.props):f.props,p=x.stackId,v=x.hide;if(v)return h;var w=x[n],b=h[w]||{hasStack:!1,stackGroups:{}};if(Nn(p)){var j=b.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};j.items.push(f),b.hasStack=!0,b.stackGroups[p]=j}else b.stackGroups[_m("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[f]};return Gr(Gr({},h),{},Rh({},w,b))},c),d={};return Object.keys(u).reduce(function(h,f){var m=u[f];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var w=m.stackGroups[v];return Gr(Gr({},p),{},Rh({},v,{numericAxisId:n,cateAxisId:s,items:w.items,stackedData:VLe(e,w.items,a)}))},x)}return Gr(Gr({},h),{},Rh({},f,m))},d)},RQ=function(e,r){var n=r.realScaleType,s=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=tLe(u,a,l);return e.domain([eN(d),Gl(d)]),{niceTicks:d}}if(a&&s==="number"){var h=e.domain(),f=rLe(h,a,l);return{niceTicks:f}}return null};function k$(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Nt(s[e.dataKey])){var l=Hb(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=yn(s,Nt(o)?e.dataKey:o);return Nt(c)?null:e.scale(c)}var I$=function(e){var r=e.axis,n=e.ticks,s=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=yn(o,r.dataKey,r.domain[l]);return Nt(c)?null:r.scale(c)-a/2+s},ULe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},qLe=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Gr(Gr({},e.type.defaultProps),e.props):e.props,a=s.stackId;if(Nn(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},zLe=function(e){return e.reduce(function(r,n){return[eN(n.concat([r[0]]).filter(Oe)),Gl(n.concat([r[1]]).filter(Oe))]},[1/0,-1/0])},OQ=function(e,r,n){return Object.keys(e).reduce(function(s,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var h=zLe(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},R$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HP=function(e,r,n){if(mt(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(Oe(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(R$.test(e[0])){var a=+R$.exec(e[0])[1];s[0]=r[0]-a}else mt(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(Oe(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(O$.test(e[1])){var o=+O$.exec(e[1])[1];s[1]=r[1]+o}else mt(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},bw=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var a=VI(r,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},D$=function(e,r,n){return!e||!e.length||Tf(e,ui(n,"type.defaultProps.domain"))?r:e},DQ=function(e,r){var n=e.type.defaultProps?Gr(Gr({},e.type.defaultProps),e.props):e.props,s=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Gr(Gr({},nt(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:hR(e),value:yn(r,s),type:c,payload:r,chartType:u,hide:d})};function yx(t){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(t)}function M$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(r),!0).forEach(function(n){MQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MQ(t,e,r){return e=WLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WLe(t){var e=HLe(t,"string");return yx(e)=="symbol"?e:e+""}function HLe(t,e){if(yx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GLe(t,e){return XLe(t)||QLe(t,e)||YLe(t,e)||KLe()}function KLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YLe(t,e){if(t){if(typeof t=="string")return $$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $$(t,e)}}function $$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function XLe(t){if(Array.isArray(t))return t}var ww=Math.PI/180,JLe=function(e){return e*180/Math.PI},vr=function(e,r,n,s){return{x:e+Math.cos(-ww*s)*n,y:r+Math.sin(-ww*s)*n}},$Q=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ZLe=function(e,r,n,s,a){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=bs(e.cx,o,o/2),h=bs(e.cy,l,l/2),f=$Q(o,l,n),m=bs(e.innerRadius,f,0),x=bs(e.outerRadius,f,f*.8),p=Object.keys(r);return p.reduce(function(v,w){var b=r[w],j=b.domain,N=b.reversed,E;if(Nt(b.range))s==="angleAxis"?E=[c,u]:s==="radiusAxis"&&(E=[m,x]),N&&(E=[E[1],E[0]]);else{E=b.range;var C=E,_=GLe(C,2);c=_[0],u=_[1]}var S=kQ(b,a),A=S.realScaleType,T=S.scale;T.domain(j).range(E),IQ(T);var I=RQ(T,bo(bo({},b),{},{realScaleType:A})),P=bo(bo(bo({},b),I),{},{range:E,radius:x,realScaleType:A,scale:T,cx:d,cy:h,innerRadius:m,outerRadius:x,startAngle:c,endAngle:u});return bo(bo({},v),{},MQ({},w,P))},{})},eFe=function(e,r){var n=e.x,s=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-o,2))},tFe=function(e,r){var n=e.x,s=e.y,a=r.cx,o=r.cy,l=eFe({x:n,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:JLe(u),angleInRadian:u}},rFe=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(s,a);return{startAngle:r-o*360,endAngle:n-o*360}},nFe=function(e,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(a,o);return e+l*360},L$=function(e,r){var n=e.x,s=e.y,a=tFe({x:n,y:s},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=rFe(r),h=d.startAngle,f=d.endAngle,m=l,x;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}return x?bo(bo({},r),{},{radius:o,angle:nFe(m,r)}):null},LQ=function(e){return!g.isValidElement(e)&&!mt(e)&&typeof e!="boolean"?e.className:""};function vx(t){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(t)}var sFe=["offset"];function iFe(t){return cFe(t)||lFe(t)||oFe(t)||aFe()}function aFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oFe(t,e){if(t){if(typeof t=="string")return GP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GP(t,e)}}function lFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cFe(t){if(Array.isArray(t))return GP(t)}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uFe(t,e){if(t==null)return{};var r=dFe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function F$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F$(Object(r),!0).forEach(function(n){hFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hFe(t,e,r){return e=fFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fFe(t){var e=mFe(t,"string");return vx(e)=="symbol"?e:e+""}function mFe(t,e){if(vx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bx.apply(this,arguments)}var pFe=function(e){var r=e.value,n=e.formatter,s=Nt(e.children)?r:e.children;return mt(n)?n(s):s},gFe=function(e,r){var n=vs(r-e),s=Math.min(Math.abs(r-e),360);return n*s},xFe=function(e,r,n){var s=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,x=c.endAngle,p=c.clockWise,v=(h+f)/2,w=gFe(m,x),b=w>=0?1:-1,j,N;s==="insideStart"?(j=m+b*o,N=p):s==="insideEnd"?(j=x-b*o,N=!p):s==="end"&&(j=x+b*o,N=p),N=w<=0?N:!N;var E=vr(u,d,v,j),C=vr(u,d,v,j+(N?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),S=Nt(e.id)?_m("recharts-radial-line-"):e.id;return L.createElement("text",bx({},n,{dominantBaseline:"central",className:St("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:S,d:_})),L.createElement("textPath",{xlinkHref:"#".concat(S)},r))},yFe=function(e){var r=e.viewBox,n=e.offset,s=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,f=(d+h)/2;if(s==="outside"){var m=vr(o,l,u+n,f),x=m.x,p=m.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,w=vr(o,l,v,f),b=w.x,j=w.y;return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},vFe=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*s,m=h>0?"end":"start",x=h>0?"start":"end",p=u>=0?1:-1,v=p*s,w=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var j={x:l+u/2,y:c-h*s,textAnchor:"middle",verticalAnchor:m};return gn(gn({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var N={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:x};return gn(gn({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var E={x:l-v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return gn(gn({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(a==="right"){var C={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return gn(gn({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return a==="insideLeft"?gn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?gn({x:l+u-v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},_):a==="insideTop"?gn({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:x},_):a==="insideBottom"?gn({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:m},_):a==="insideTopLeft"?gn({x:l+v,y:c+f,textAnchor:b,verticalAnchor:x},_):a==="insideTopRight"?gn({x:l+u-v,y:c+f,textAnchor:w,verticalAnchor:x},_):a==="insideBottomLeft"?gn({x:l+v,y:c+d-f,textAnchor:b,verticalAnchor:m},_):a==="insideBottomRight"?gn({x:l+u-v,y:c+d-f,textAnchor:w,verticalAnchor:m},_):wm(a)&&(Oe(a.x)||vu(a.x))&&(Oe(a.y)||vu(a.y))?gn({x:l+bs(a.x,u),y:c+bs(a.y,d),textAnchor:"end",verticalAnchor:"end"},_):gn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},bFe=function(e){return"cx"in e&&Oe(e.cx)};function On(t){var e=t.offset,r=e===void 0?5:e,n=uFe(t,sFe),s=gn({offset:r},n),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,h=d===void 0?"":d,f=s.textBreakAll;if(!a||Nt(l)&&Nt(c)&&!g.isValidElement(u)&&!mt(u))return null;if(g.isValidElement(u))return g.cloneElement(u,s);var m;if(mt(u)){if(m=g.createElement(u,s),g.isValidElement(m))return m}else m=pFe(s);var x=bFe(a),p=nt(s,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return xFe(s,m,p);var v=x?yFe(s):vFe(s);return L.createElement(sd,bx({className:St("recharts-label",h)},p,v,{breakAll:f}),m)}On.displayName="Label";var FQ=function(e){var r=e.cx,n=e.cy,s=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,m=e.top,x=e.left,p=e.width,v=e.height,w=e.clockWise,b=e.labelViewBox;if(b)return b;if(Oe(p)&&Oe(v)){if(Oe(h)&&Oe(f))return{x:h,y:f,width:p,height:v};if(Oe(m)&&Oe(x))return{x:m,y:x,width:p,height:v}}return Oe(h)&&Oe(f)?{x:h,y:f,width:0,height:0}:Oe(r)&&Oe(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:w}:e.viewBox?e.viewBox:{}},wFe=function(e,r){return e?e===!0?L.createElement(On,{key:"label-implicit",viewBox:r}):Nn(e)?L.createElement(On,{key:"label-implicit",viewBox:r,value:e}):g.isValidElement(e)?e.type===On?g.cloneElement(e,{key:"label-implicit",viewBox:r}):L.createElement(On,{key:"label-implicit",content:e,viewBox:r}):mt(e)?L.createElement(On,{key:"label-implicit",content:e,viewBox:r}):wm(e)?L.createElement(On,bx({viewBox:r},e,{key:"label-implicit"})):null:null},jFe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=FQ(e),o=Li(s,On).map(function(c,u){return g.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=wFe(e.label,r||a);return[l].concat(iFe(o))};On.parseViewBox=FQ;On.renderCallByParent=jFe;function NFe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var SFe=NFe;const EFe=Xt(SFe);function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}var _Fe=["valueAccessor"],PFe=["data","dataKey","clockWise","id","textBreakAll"];function AFe(t){return IFe(t)||kFe(t)||CFe(t)||TFe()}function TFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CFe(t,e){if(t){if(typeof t=="string")return KP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KP(t,e)}}function kFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IFe(t){if(Array.isArray(t))return KP(t)}function KP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jw.apply(this,arguments)}function V$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function B$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V$(Object(r),!0).forEach(function(n){RFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RFe(t,e,r){return e=OFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OFe(t){var e=DFe(t,"string");return wx(e)=="symbol"?e:e+""}function DFe(t,e){if(wx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U$(t,e){if(t==null)return{};var r=MFe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $Fe=function(e){return Array.isArray(e.value)?EFe(e.value):e.value};function $o(t){var e=t.valueAccessor,r=e===void 0?$Fe:e,n=U$(t,_Fe),s=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=U$(n,PFe);return!s||!s.length?null:L.createElement(Ut,{className:"recharts-label-list"},s.map(function(d,h){var f=Nt(a)?r(d,h):yn(d&&d.payload,a),m=Nt(l)?{}:{id:"".concat(l,"-").concat(h)};return L.createElement(On,jw({},nt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:On.parseViewBox(Nt(o)?d:B$(B$({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}$o.displayName="LabelList";function LFe(t,e){return t?t===!0?L.createElement($o,{key:"labelList-implicit",data:e}):L.isValidElement(t)||mt(t)?L.createElement($o,{key:"labelList-implicit",data:e,content:t}):wm(t)?L.createElement($o,jw({data:e},t,{key:"labelList-implicit"})):null:null}function FFe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=Li(n,$o).map(function(o,l){return g.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var a=LFe(t.label,e);return[a].concat(AFe(s))}$o.renderCallByParent=FFe;function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YP.apply(this,arguments)}function q$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function z$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q$(Object(r),!0).forEach(function(n){VFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VFe(t,e,r){return e=BFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BFe(t){var e=UFe(t,"string");return jx(e)=="symbol"?e:e+""}function UFe(t,e){if(jx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qFe=function(e,r){var n=vs(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},H0=function(e){var r=e.cx,n=e.cy,s=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,h=Math.asin(c/d)/ww,f=u?a:a+o*h,m=vr(r,n,d,f),x=vr(r,n,s,f),p=u?a-o*h:a,v=vr(r,n,d*Math.cos(h*ww),p);return{center:m,circleTangency:x,lineTangency:v,theta:h}},VQ=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=qFe(o,l),u=o+c,d=vr(r,n,a,o),h=vr(r,n,a,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var m=vr(r,n,s,o),x=vr(r,n,s,u);f+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},zFe=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=vs(d-u),f=H0({cx:r,cy:n,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,x=f.lineTangency,p=f.theta,v=H0({cx:r,cy:n,radius:a,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),w=v.circleTangency,b=v.lineTangency,j=v.theta,N=c?Math.abs(u-d):Math.abs(u-d)-p-j;if(N<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):VQ({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var E="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var C=H0({cx:r,cy:n,radius:s,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=C.circleTangency,S=C.lineTangency,A=C.theta,T=H0({cx:r,cy:n,radius:s,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=T.circleTangency,P=T.lineTangency,R=T.theta,M=c?Math.abs(u-d):Math.abs(u-d)-A-R;if(M<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},WFe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BQ=function(e){var r=z$(z$({},WFe),e),n=r.cx,s=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(o<a||d===h)return null;var m=St("recharts-sector",f),x=o-a,p=bs(l,x,0,!0),v;return p>0&&Math.abs(d-h)<360?v=zFe({cx:n,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):v=VQ({cx:n,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:h}),L.createElement("path",YP({},nt(r,!0),{className:m,d:v,role:"img"}))};function Nx(t){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(t)}function QP(){return QP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QP.apply(this,arguments)}function W$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function H$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(r),!0).forEach(function(n){HFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HFe(t,e,r){return e=GFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GFe(t){var e=KFe(t,"string");return Nx(e)=="symbol"?e:e+""}function KFe(t,e){if(Nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G$={curveBasisClosed:WAe,curveBasisOpen:HAe,curveBasis:zAe,curveBumpX:CAe,curveBumpY:kAe,curveLinearClosed:GAe,curveLinear:Bj,curveMonotoneX:KAe,curveMonotoneY:YAe,curveNatural:QAe,curveStep:XAe,curveStepAfter:ZAe,curveStepBefore:JAe},G0=function(e){return e.x===+e.x&&e.y===+e.y},fp=function(e){return e.x},mp=function(e){return e.y},YFe=function(e,r){if(mt(e))return e;var n="curve".concat(Fj(e));return(n==="curveMonotone"||n==="curveBump")&&r?G$["".concat(n).concat(r==="vertical"?"Y":"X")]:G$[n]||Bj},QFe=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,a=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=YFe(n,l),h=u?a.filter(function(p){return G0(p)}):a,f;if(Array.isArray(o)){var m=u?o.filter(function(p){return G0(p)}):o,x=h.map(function(p,v){return H$(H$({},p),{},{base:m[v]})});return l==="vertical"?f=$0().y(mp).x1(fp).x0(function(p){return p.base.x}):f=$0().x(fp).y1(mp).y0(function(p){return p.base.y}),f.defined(G0).curve(d),f(x)}return l==="vertical"&&Oe(o)?f=$0().y(mp).x1(fp).x0(o):Oe(o)?f=$0().x(fp).y1(mp).y0(o):f=DK().x(fp).y(mp),f.defined(G0).curve(d),f(h)},Oh=function(e){var r=e.className,n=e.points,s=e.path,a=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?QFe(e):s;return L.createElement("path",QP({},nt(e,!1),Gb(e),{className:St("recharts-curve",r),d:o,ref:a}))},UQ={exports:{}},XFe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JFe=XFe,ZFe=JFe;function qQ(){}function zQ(){}zQ.resetWarningCache=qQ;var e8e=function(){function t(n,s,a,o,l,c){if(c!==ZFe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zQ,resetWarningCache:qQ};return r.PropTypes=r,r};UQ.exports=e8e();var t8e=UQ.exports;const _t=Xt(t8e);var r8e=Object.getOwnPropertyNames,n8e=Object.getOwnPropertySymbols,s8e=Object.prototype.hasOwnProperty;function K$(t,e){return function(n,s,a){return t(n,s,a)&&e(n,s,a)}}function K0(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var a=s.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=t(r,n,s);return a.delete(r),a.delete(n),c}}function Y$(t){return r8e(t).concat(n8e(t))}var WQ=Object.hasOwn||function(t,e){return s8e.call(t,e)};function Rm(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var HQ="_owner",Q$=Object.getOwnPropertyDescriptor,X$=Object.keys;function i8e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function a8e(t,e){return Rm(t.getTime(),e.getTime())}function J$(t,e,r){if(t.size!==e.size)return!1;for(var n={},s=t.entries(),a=0,o,l;(o=s.next())&&!o.done;){for(var c=e.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var h=o.value,f=h[0],m=h[1],x=l.value,p=x[0],v=x[1];!u&&!n[d]&&(u=r.equals(f,p,a,d,t,e,r)&&r.equals(m,v,f,p,t,e,r))&&(n[d]=!0),d++}if(!u)return!1;a++}return!0}function o8e(t,e,r){var n=X$(t),s=n.length;if(X$(e).length!==s)return!1;for(var a;s-- >0;)if(a=n[s],a===HQ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!WQ(e,a)||!r.equals(t[a],e[a],a,a,t,e,r))return!1;return!0}function pp(t,e,r){var n=Y$(t),s=n.length;if(Y$(e).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=n[s],a===HQ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!WQ(e,a)||!r.equals(t[a],e[a],a,a,t,e,r)||(o=Q$(t,a),l=Q$(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function l8e(t,e){return Rm(t.valueOf(),e.valueOf())}function c8e(t,e){return t.source===e.source&&t.flags===e.flags}function Z$(t,e,r){if(t.size!==e.size)return!1;for(var n={},s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(a.value,o.value,a.value,o.value,t,e,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function u8e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var d8e="[object Arguments]",h8e="[object Boolean]",f8e="[object Date]",m8e="[object Map]",p8e="[object Number]",g8e="[object Object]",x8e="[object RegExp]",y8e="[object Set]",v8e="[object String]",b8e=Array.isArray,eL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tL=Object.assign,w8e=Object.prototype.toString.call.bind(Object.prototype.toString);function j8e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,s=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(d,h,f){if(d===h)return!0;if(d==null||h==null||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;var m=d.constructor;if(m!==h.constructor)return!1;if(m===Object)return s(d,h,f);if(b8e(d))return e(d,h,f);if(eL!=null&&eL(d))return c(d,h,f);if(m===Date)return r(d,h,f);if(m===RegExp)return o(d,h,f);if(m===Map)return n(d,h,f);if(m===Set)return l(d,h,f);var x=w8e(d);return x===f8e?r(d,h,f):x===x8e?o(d,h,f):x===m8e?n(d,h,f):x===y8e?l(d,h,f):x===g8e?typeof d.then!="function"&&typeof h.then!="function"&&s(d,h,f):x===d8e?s(d,h,f):x===h8e||x===p8e||x===v8e?a(d,h,f):!1}}function N8e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?pp:i8e,areDatesEqual:a8e,areMapsEqual:n?K$(J$,pp):J$,areObjectsEqual:n?pp:o8e,arePrimitiveWrappersEqual:l8e,areRegExpsEqual:c8e,areSetsEqual:n?K$(Z$,pp):Z$,areTypedArraysEqual:n?pp:u8e};if(r&&(s=tL({},s,r(s))),e){var a=K0(s.areArraysEqual),o=K0(s.areMapsEqual),l=K0(s.areObjectsEqual),c=K0(s.areSetsEqual);s=tL({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function S8e(t){return function(e,r,n,s,a,o,l){return t(e,r,l)}}function E8e(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,a=t.strict;if(n)return function(c,u){var d=n(),h=d.cache,f=h===void 0?e?new WeakMap:void 0:h,m=d.meta;return r(c,u,{cache:f,equals:s,meta:m,strict:a})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var _8e=Wc();Wc({strict:!0});Wc({circular:!0});Wc({circular:!0,strict:!0});Wc({createInternalComparator:function(){return Rm}});Wc({strict:!0,createInternalComparator:function(){return Rm}});Wc({circular:!0,createInternalComparator:function(){return Rm}});Wc({circular:!0,createInternalComparator:function(){return Rm},strict:!0});function Wc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,a=t.strict,o=a===void 0?!1:a,l=N8e(t),c=j8e(l),u=n?n(c):S8e(c);return E8e({circular:r,comparator:c,createState:s,equals:u,strict:o})}function P8e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function rL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>e?(t(a),r=-1):P8e(s)};requestAnimationFrame(n)}function XP(t){"@babel/helpers - typeof";return XP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XP(t)}function A8e(t){return I8e(t)||k8e(t)||C8e(t)||T8e()}function T8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8e(t,e){if(t){if(typeof t=="string")return nL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nL(t,e)}}function nL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I8e(t){if(Array.isArray(t))return t}function R8e(){var t={},e=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=A8e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){rL(s.bind(null,u),c);return}s(c),rL(s.bind(null,u));return}XP(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Sx(t){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(t)}function sL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function iL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(r),!0).forEach(function(n){GQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GQ(t,e,r){return e=O8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O8e(t){var e=D8e(t,"string");return Sx(e)==="symbol"?e:String(e)}function D8e(t,e){if(Sx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M8e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},$8e=function(e){return e},L8e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},lg=function(e,r){return Object.keys(r).reduce(function(n,s){return iL(iL({},n),{},GQ({},s,e(s,r[s])))},{})},aL=function(e,r,n){return e.map(function(s){return"".concat(L8e(s)," ").concat(r,"ms ").concat(n)}).join(",")};function F8e(t,e){return U8e(t)||B8e(t,e)||KQ(t,e)||V8e()}function V8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function U8e(t){if(Array.isArray(t))return t}function q8e(t){return H8e(t)||W8e(t)||KQ(t)||z8e()}function z8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KQ(t,e){if(t){if(typeof t=="string")return JP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JP(t,e)}}function W8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H8e(t){if(Array.isArray(t))return JP(t)}function JP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Nw=1e-4,YQ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},QQ=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},oL=function(e,r){return function(n){var s=YQ(e,r);return QQ(s,n)}},G8e=function(e,r){return function(n){var s=YQ(e,r),a=[].concat(q8e(s.map(function(o,l){return o*l}).slice(1)),[0]);return QQ(a,n)}},lL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=F8e(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var h=oL(s,o),f=oL(a,l),m=G8e(s,o),x=function(w){return w>1?1:w<0?0:w},p=function(w){for(var b=w>1?1:w,j=b,N=0;N<8;++N){var E=h(j)-b,C=m(j);if(Math.abs(E-b)<Nw||C<Nw)return f(j);j=x(j-E/C)}return f(j)};return p.isStepper=!1,p},K8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,a=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(d,h,f){var m=-(d-h)*n,x=f*a,p=f+(m-x)*l/1e3,v=f*l/1e3+d;return Math.abs(v-h)<Nw&&Math.abs(p)<Nw?[h,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},Y8e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lL(s);case"spring":return K8e();default:if(s.split("(")[0]==="cubic-bezier")return lL(s)}return typeof s=="function"?s:null};function Ex(t){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(t)}function cL(t){return J8e(t)||X8e(t)||XQ(t)||Q8e()}function Q8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J8e(t){if(Array.isArray(t))return eA(t)}function uL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(r),!0).forEach(function(n){ZP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZP(t,e,r){return e=Z8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z8e(t){var e=eVe(t,"string");return Ex(e)==="symbol"?e:String(e)}function eVe(t,e){if(Ex(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ex(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tVe(t,e){return sVe(t)||nVe(t,e)||XQ(t,e)||rVe()}function rVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XQ(t,e){if(t){if(typeof t=="string")return eA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(t,e)}}function eA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sVe(t){if(Array.isArray(t))return t}var Sw=function(e,r,n){return e+(r-e)*n},tA=function(e){var r=e.from,n=e.to;return r!==n},iVe=function t(e,r,n){var s=lg(function(a,o){if(tA(o)){var l=e(o.from,o.to,o.velocity),c=tVe(l,2),u=c[0],d=c[1];return Un(Un({},o),{},{from:u,velocity:d})}return o},r);return n<1?lg(function(a,o){return tA(o)?Un(Un({},o),{},{velocity:Sw(o.velocity,s[a].velocity,n),from:Sw(o.from,s[a].from,n)}):o},r):t(e,s,n-1)};const aVe=function(t,e,r,n,s){var a=M8e(t,e),o=a.reduce(function(v,w){return Un(Un({},v),{},ZP({},w,[t[w],e[w]]))},{}),l=a.reduce(function(v,w){return Un(Un({},v),{},ZP({},w,{from:t[w],velocity:0,to:e[w]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return lg(function(w,b){return b.from},l)},m=function(){return!Object.values(l).filter(tA).length},x=function(w){u||(u=w);var b=w-u,j=b/r.dt;l=iVe(r,l,j),s(Un(Un(Un({},t),e),f())),u=w,m()||(c=requestAnimationFrame(h))},p=function(w){d||(d=w);var b=(w-d)/n,j=lg(function(E,C){return Sw.apply(void 0,cL(C).concat([r(b)]))},o);if(s(Un(Un(Un({},t),e),j)),b<1)c=requestAnimationFrame(h);else{var N=lg(function(E,C){return Sw.apply(void 0,cL(C).concat([r(1)]))},o);s(Un(Un(Un({},t),e),N))}};return h=r.isStepper?x:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}var oVe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lVe(t,e){if(t==null)return{};var r=cVe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cVe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function CS(t){return fVe(t)||hVe(t)||dVe(t)||uVe()}function uVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dVe(t,e){if(t){if(typeof t=="string")return rA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rA(t,e)}}function hVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fVe(t){if(Array.isArray(t))return rA(t)}function rA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ki(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(r),!0).forEach(function(n){Cp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cp(t,e,r){return e=JQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pVe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JQ(n.key),n)}}function gVe(t,e,r){return e&&pVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JQ(t){var e=xVe(t,"string");return kf(e)==="symbol"?e:String(e)}function xVe(t,e){if(kf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nA(t,e)}function nA(t,e){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nA(t,e)}function vVe(t){var e=bVe();return function(){var n=Ew(t),s;if(e){var a=Ew(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return sA(this,s)}}function sA(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iA(t)}function iA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ew(t){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ew(t)}var no=function(t){yVe(r,t);var e=vVe(r);function r(n,s){var a;mVe(this,r),a=e.call(this,n,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(iA(a)),a.changeStyle=a.changeStyle.bind(iA(a)),!l||m<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:d}),sA(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof f=="function")return a.state={style:u},sA(a);a.state={style:c?Cp({},c,u):u}}else a.state={style:{}};return a}return gVe(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,f=this.state.style;if(l){if(!o){var m={style:c?Cp({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(m);return}if(!(_8e(s.to,d)&&s.canBegin&&s.isActive)){var x=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||u?h:s.to;if(this.state&&f){var v={style:c?Cp({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(v)}this.runAnimation(Ki(Ki({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,h=s.onAnimationEnd,f=s.onAnimationStart,m=aVe(o,l,Y8e(u),c,this.changeStyle),x=function(){a.stopJSAnimation=m()};this.manager.start([f,d,x,c,h])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,m=function(p,v,w){if(w===0)return p;var b=v.duration,j=v.easing,N=j===void 0?"ease":j,E=v.style,C=v.properties,_=v.onAnimationEnd,S=w>0?o[w-1]:v,A=C||Object.keys(E);if(typeof N=="function"||N==="spring")return[].concat(CS(p),[a.runJSAnimation.bind(a,{from:S.style,to:E,duration:b,easing:N}),b]);var T=aL(A,b,N),I=Ki(Ki(Ki({},S.style),E),{},{transition:T});return[].concat(CS(p),[I,b,_]).filter($8e)};return this.manager.start([c].concat(CS(o.reduce(m,[d,Math.max(f,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=R8e());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,h=s.onAnimationEnd,f=s.steps,m=s.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var p=l?Cp({},l,c):c,v=aL(Object.keys(p),o,u);x.start([d,a,Ki(Ki({},p),{},{transition:v}),o,h])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=lVe(s,oVe),u=g.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var h=function(m){var x=m.props,p=x.style,v=p===void 0?{}:p,w=x.className,b=g.cloneElement(m,Ki(Ki({},c),{},{style:Ki(Ki({},v),d),className:w}));return b};return u===1?h(g.Children.only(a)):L.createElement("div",null,g.Children.map(a,function(f){return h(f)}))}}]),r}(g.PureComponent);no.displayName="Animate";no.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};no.propTypes={from:_t.oneOfType([_t.object,_t.string]),to:_t.oneOfType([_t.object,_t.string]),attributeName:_t.string,duration:_t.number,begin:_t.number,easing:_t.oneOfType([_t.string,_t.func]),steps:_t.arrayOf(_t.shape({duration:_t.number.isRequired,style:_t.object.isRequired,easing:_t.oneOfType([_t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_t.func]),properties:_t.arrayOf("string"),onAnimationEnd:_t.func})),children:_t.oneOfType([_t.node,_t.func]),isActive:_t.bool,canBegin:_t.bool,onAnimationEnd:_t.func,shouldReAnimate:_t.bool,onAnimationStart:_t.func,onAnimationReStart:_t.func};_t.object,_t.object,_t.object,_t.element;_t.object,_t.object,_t.object,_t.oneOfType([_t.array,_t.element]),_t.any;function _x(t){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(t)}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_w.apply(this,arguments)}function wVe(t,e){return EVe(t)||SVe(t,e)||NVe(t,e)||jVe()}function jVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NVe(t,e){if(t){if(typeof t=="string")return hL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hL(t,e)}}function hL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function EVe(t){if(Array.isArray(t))return t}function fL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function mL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(r),!0).forEach(function(n){_Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Ve(t,e,r){return e=PVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PVe(t){var e=AVe(t,"string");return _x(e)=="symbol"?e:e+""}function AVe(t,e){if(_x(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pL=function(e,r,n,s,a){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=a[f]>o?o:a[f];d="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),d+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*h[1])),d+="L ".concat(e+n,",").concat(r+s-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+s)),d+="L ".concat(e+c*h[3],",").concat(r+s),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+s-l*h[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);d="M ".concat(e,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*x,`
            L `).concat(e+n,",").concat(r+s-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-c*x,",").concat(r+s,`
            L `).concat(e+c*x,",").concat(r+s,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(r+s-l*x," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},TVe=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return n>=u&&n<=d&&s>=h&&s<=f}return!1},CVe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fR=function(e){var r=mL(mL({},CVe),e),n=g.useRef(),s=g.useState(-1),a=wVe(s,2),o=a[0],l=a[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,w=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var j=St("recharts-rectangle",m);return b?L.createElement(no,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:p,animationEasing:x,isActive:b},function(N){var E=N.width,C=N.height,_=N.x,S=N.y;return L.createElement(no,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:w,easing:x},L.createElement("path",_w({},nt(r,!0),{className:j,d:pL(_,S,E,C,f),ref:n})))}):L.createElement("path",_w({},nt(r,!0),{className:j,d:pL(c,u,d,h,f)}))},kVe=["points","className","baseLinePoints","connectNulls"];function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lh.apply(this,arguments)}function IVe(t,e){if(t==null)return{};var r=RVe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gL(t){return $Ve(t)||MVe(t)||DVe(t)||OVe()}function OVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DVe(t,e){if(t){if(typeof t=="string")return aA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aA(t,e)}}function MVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ve(t){if(Array.isArray(t))return aA(t)}function aA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xL=function(e){return e&&e.x===+e.x&&e.y===+e.y},LVe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){xL(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),xL(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},cg=function(e,r){var n=LVe(e);r&&(n=[n.reduce(function(a,o){return[].concat(gL(a),gL(o))},[])]);var s=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},FVe=function(e,r,n){var s=cg(e,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(cg(r.reverse(),n).slice(1))},VVe=function(e){var r=e.points,n=e.className,s=e.baseLinePoints,a=e.connectNulls,o=IVe(e,kVe);if(!r||!r.length)return null;var l=St("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=FVe(r,s,a);return L.createElement("g",{className:l},L.createElement("path",lh({},nt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?L.createElement("path",lh({},nt(o,!0),{fill:"none",d:cg(r,a)})):null,c?L.createElement("path",lh({},nt(o,!0),{fill:"none",d:cg(s,a)})):null)}var d=cg(r,a);return L.createElement("path",lh({},nt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oA.apply(this,arguments)}var sN=function(e){var r=e.cx,n=e.cy,s=e.r,a=e.className,o=St("recharts-dot",a);return r===+r&&n===+n&&s===+s?L.createElement("circle",oA({},nt(e,!1),Gb(e),{className:o,cx:r,cy:n,r:s})):null};function Px(t){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Px(t)}var BVe=["x","y","top","left","width","height","className"];function lA(){return lA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lA.apply(this,arguments)}function yL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function UVe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(r),!0).forEach(function(n){qVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qVe(t,e,r){return e=zVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zVe(t){var e=WVe(t,"string");return Px(e)=="symbol"?e:e+""}function WVe(t,e){if(Px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HVe(t,e){if(t==null)return{};var r=GVe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var KVe=function(e,r,n,s,a,o){return"M".concat(e,",").concat(a,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},YVe=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,f=e.height,m=f===void 0?0:f,x=e.className,p=HVe(e,BVe),v=UVe({x:n,y:a,top:l,left:u,width:h,height:m},p);return!Oe(n)||!Oe(a)||!Oe(h)||!Oe(m)||!Oe(l)||!Oe(u)?null:L.createElement("path",lA({},nt(v,!0),{className:St("recharts-cross",x),d:KVe(n,a,h,m,l,u)}))},QVe=Zj,XVe=cQ,JVe=oo;function ZVe(t,e){return t&&t.length?QVe(t,JVe(e),XVe):void 0}var e9e=ZVe;const t9e=Xt(e9e);var r9e=Zj,n9e=oo,s9e=uQ;function i9e(t,e){return t&&t.length?r9e(t,n9e(e),s9e):void 0}var a9e=i9e;const o9e=Xt(a9e);var l9e=["cx","cy","angle","ticks","axisLine"],c9e=["ticks","tick","angle","tickFormatter","stroke"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ug.apply(this,arguments)}function vL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Jc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(r),!0).forEach(function(n){iN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bL(t,e){if(t==null)return{};var r=u9e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eX(n.key),n)}}function h9e(t,e,r){return e&&wL(t.prototype,e),r&&wL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f9e(t,e,r){return e=Pw(e),m9e(t,ZQ()?Reflect.construct(e,r||[],Pw(t).constructor):e.apply(t,r))}function m9e(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p9e(t)}function p9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZQ=function(){return!!t})()}function Pw(t){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pw(t)}function g9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cA(t,e)}function cA(t,e){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cA(t,e)}function iN(t,e,r){return e=eX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eX(t){var e=x9e(t,"string");return If(e)=="symbol"?e:e+""}function x9e(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aN=function(t){function e(){return d9e(this,e),f9e(this,e,arguments)}return g9e(e,t),h9e(e,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return vr(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=t9e(l,function(d){return d.coordinate||0}),u=o9e(l,function(d){return d.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=bL(n,l9e),d=l.reduce(function(x,p){return[Math.min(x[0],p.coordinate),Math.max(x[1],p.coordinate)]},[1/0,-1/0]),h=vr(s,a,d[0],o),f=vr(s,a,d[1],o),m=Jc(Jc(Jc({},nt(u,!1)),{},{fill:"none"},nt(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return L.createElement("line",ug({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=bL(s,c9e),h=this.getTickTextAnchor(),f=nt(d,!1),m=nt(o,!1),x=a.map(function(p,v){var w=n.getTickValueCoord(p),b=Jc(Jc(Jc(Jc({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},f),{},{stroke:"none",fill:u},m),{},{index:v},w),{},{payload:p});return L.createElement(Ut,ug({className:St("recharts-polar-radius-axis-tick",LQ(o)),key:"tick-".concat(p.coordinate)},nd(n.props,p,v)),e.renderTickItem(o,b,c?c(p.value,v):p.value))});return L.createElement(Ut,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.axisLine,o=n.tick;return!s||!s.length?null:L.createElement(Ut,{className:St("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),On.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,s):mt(n)?o=n(s):o=L.createElement(sd,ug({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(g.PureComponent);iN(aN,"displayName","PolarRadiusAxis");iN(aN,"axisType","radiusAxis");iN(aN,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cu.apply(this,arguments)}function jL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Zc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(r),!0).forEach(function(n){oN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rX(n.key),n)}}function v9e(t,e,r){return e&&NL(t.prototype,e),r&&NL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function b9e(t,e,r){return e=Aw(e),w9e(t,tX()?Reflect.construct(e,r||[],Aw(t).constructor):e.apply(t,r))}function w9e(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j9e(t)}function j9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tX=function(){return!!t})()}function Aw(t){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(t)}function N9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uA(t,e)}function uA(t,e){return uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},uA(t,e)}function oN(t,e,r){return e=rX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rX(t){var e=S9e(t,"string");return Rf(e)=="symbol"?e:e+""}function S9e(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E9e=Math.PI/180,SL=1e-5,lN=function(t){function e(){return y9e(this,e),b9e(this,e,arguments)}return N9e(e,t),v9e(e,[{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,h=vr(a,o,l,n.coordinate),f=vr(a,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,a=Math.cos(-n.coordinate*E9e),o;return a>SL?o=s==="outer"?"start":"end":a<-SL?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Zc(Zc({},nt(this.props,!1)),{},{fill:"none"},nt(l,!1));if(c==="circle")return L.createElement(sN,cu({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:a,r:o}));var d=this.props.ticks,h=d.map(function(f){return vr(s,a,o,f.coordinate)});return L.createElement(VVe,cu({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=nt(this.props,!1),h=nt(o,!1),f=Zc(Zc({},d),{},{fill:"none"},nt(l,!1)),m=a.map(function(x,p){var v=n.getTickLineCoord(x),w=n.getTickTextAnchor(x),b=Zc(Zc(Zc({textAnchor:w},d),{},{stroke:"none",fill:u},h),{},{index:p,payload:x,x:v.x2,y:v.y2});return L.createElement(Ut,cu({className:St("recharts-polar-angle-axis-tick",LQ(o)),key:"tick-".concat(x.coordinate)},nd(n.props,x,p)),l&&L.createElement("line",cu({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&e.renderTickItem(o,b,c?c(x.value,p):x.value))});return L.createElement(Ut,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!s||!s.length?null:L.createElement(Ut,{className:St("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,s):mt(n)?o=n(s):o=L.createElement(sd,cu({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(g.PureComponent);oN(lN,"displayName","PolarAngleAxis");oN(lN,"axisType","angleAxis");oN(lN,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var _9e=iY,P9e=_9e(Object.getPrototypeOf,Object),A9e=P9e,T9e=al,C9e=A9e,k9e=ol,I9e="[object Object]",R9e=Function.prototype,O9e=Object.prototype,nX=R9e.toString,D9e=O9e.hasOwnProperty,M9e=nX.call(Object);function $9e(t){if(!k9e(t)||T9e(t)!=I9e)return!1;var e=C9e(t);if(e===null)return!0;var r=D9e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&nX.call(r)==M9e}var L9e=$9e;const F9e=Xt(L9e);var V9e=al,B9e=ol,U9e="[object Boolean]";function q9e(t){return t===!0||t===!1||B9e(t)&&V9e(t)==U9e}var z9e=q9e;const W9e=Xt(z9e);function Ax(t){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ax(t)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(this,arguments)}function H9e(t,e){return Q9e(t)||Y9e(t,e)||K9e(t,e)||G9e()}function G9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K9e(t,e){if(t){if(typeof t=="string")return EL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EL(t,e)}}function EL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y9e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Q9e(t){if(Array.isArray(t))return t}function _L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function PL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(r),!0).forEach(function(n){X9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X9e(t,e,r){return e=J9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J9e(t){var e=Z9e(t,"string");return Ax(e)=="symbol"?e:e+""}function Z9e(t,e){if(Ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AL=function(e,r,n,s,a){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-s,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},eBe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tBe=function(e){var r=PL(PL({},eBe),e),n=g.useRef(),s=g.useState(-1),a=H9e(s,2),o=a[0],l=a[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var b=St("recharts-trapezoid",m);return w?L.createElement(no,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:p,animationEasing:x,isActive:w},function(j){var N=j.upperWidth,E=j.lowerWidth,C=j.height,_=j.x,S=j.y;return L.createElement(no,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:x},L.createElement("path",Tw({},nt(r,!0),{className:b,d:AL(_,S,N,E,C),ref:n})))}):L.createElement("g",null,L.createElement("path",Tw({},nt(r,!0),{className:b,d:AL(c,u,d,h,f)})))},rBe=["option","shapeType","propTransformer","activeClassName","isActive"];function Tx(t){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tx(t)}function nBe(t,e){if(t==null)return{};var r=sBe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Cw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(r),!0).forEach(function(n){iBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iBe(t,e,r){return e=aBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aBe(t){var e=oBe(t,"string");return Tx(e)=="symbol"?e:e+""}function oBe(t,e){if(Tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lBe(t,e){return Cw(Cw({},e),t)}function cBe(t,e){return t==="symbols"}function CL(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return L.createElement(fR,r);case"trapezoid":return L.createElement(tBe,r);case"sector":return L.createElement(BQ,r);case"symbols":if(cBe(e))return L.createElement(II,r);break;default:return null}}function uBe(t){return g.isValidElement(t)?t.props:t}function sX(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?lBe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=nBe(t,rBe),u;if(g.isValidElement(e))u=g.cloneElement(e,Cw(Cw({},c),uBe(e)));else if(mt(e))u=e(c);else if(F9e(e)&&!W9e(e)){var d=s(e,c);u=L.createElement(CL,{shapeType:r,elementProps:d})}else{var h=c;u=L.createElement(CL,{shapeType:r,elementProps:h})}return l?L.createElement(Ut,{className:o},u):u}function cN(t,e){return e!=null&&"trapezoids"in t.props}function uN(t,e){return e!=null&&"sectors"in t.props}function Cx(t,e){return e!=null&&"points"in t.props}function dBe(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&a}function hBe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function fBe(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function mBe(t,e){var r;return cN(t,e)?r=dBe:uN(t,e)?r=hBe:Cx(t,e)&&(r=fBe),r}function pBe(t,e){var r;return cN(t,e)?r="trapezoids":uN(t,e)?r="sectors":Cx(t,e)&&(r="points"),r}function gBe(t,e){if(cN(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(uN(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Cx(t,e)?e.payload:{}}function xBe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=pBe(r,e),a=gBe(r,e),o=n.filter(function(c,u){var d=Tf(a,c),h=r.props[s].filter(function(x){var p=mBe(r,e);return p(x,e)}),f=r.props[s].indexOf(h[h.length-1]),m=u===f;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var kv;function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ch.apply(this,arguments)}function kL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(r),!0).forEach(function(n){Ti(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aX(n.key),n)}}function vBe(t,e,r){return e&&IL(t.prototype,e),r&&IL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bBe(t,e,r){return e=kw(e),wBe(t,iX()?Reflect.construct(e,r||[],kw(t).constructor):e.apply(t,r))}function wBe(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jBe(t)}function jBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!t})()}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kw(t)}function NBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dA(t,e)}function dA(t,e){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},dA(t,e)}function Ti(t,e,r){return e=aX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aX(t){var e=SBe(t,"string");return Of(e)=="symbol"?e:e+""}function SBe(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cl=function(t){function e(r){var n;return yBe(this,e),n=bBe(this,e,[r]),Ti(n,"pieRef",null),Ti(n,"sectorRefs",[]),Ti(n,"id",_m("recharts-pie-")),Ti(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),mt(s)&&s()}),Ti(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),mt(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return NBe(e,t),vBe(e,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=nt(this.props,!1),h=nt(o,!1),f=nt(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(p,v){var w=(p.startAngle+p.endAngle)/2,b=vr(p.cx,p.cy,p.outerRadius+m,w),j=dr(dr(dr(dr({},d),p),{},{stroke:"none"},h),{},{index:v,textAnchor:e.getTextAnchor(b.x,p.cx)},b),N=dr(dr(dr(dr({},d),p),{},{fill:"none",stroke:p.fill},f),{},{index:v,points:[vr(p.cx,p.cy,p.outerRadius,w),b]}),E=c;return Nt(c)&&Nt(u)?E="value":Nt(c)&&(E=u),L.createElement(Ut,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(o,j,yn(p,E)))});return L.createElement(Ut,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=s.isActiveIndex(d),f=c&&s.hasActiveIndex()?c:null,m=h?o:f,x=dr(dr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return L.createElement(Ut,ch({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},nd(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(sX,ch({option:m,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,h=this.state,f=h.prevSectors,m=h.prevIsAnimationActive;return L.createElement(no,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var p=x.t,v=[],w=a&&a[0],b=w.startAngle;return a.forEach(function(j,N){var E=f&&f[N],C=N>0?ui(j,"paddingAngle",0):0;if(E){var _=Ms(E.endAngle-E.startAngle,j.endAngle-j.startAngle),S=dr(dr({},j),{},{startAngle:b+C,endAngle:b+_(p)+C});v.push(S),b=S.endAngle}else{var A=j.endAngle,T=j.startAngle,I=Ms(0,A-T),P=I(p),R=dr(dr({},j),{},{startAngle:b+C,endAngle:b+P+C});v.push(R),b=R.endAngle}}),L.createElement(Ut,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!Tf(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,h=s.innerRadius,f=s.outerRadius,m=s.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!Oe(u)||!Oe(d)||!Oe(h)||!Oe(f))return null;var p=St("recharts-pie",l);return L.createElement(Ut,{tabIndex:this.props.rootTabIndex,className:p,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),On.renderCallByParent(this.props,null,!1),(!m||x)&&$o.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,a){if(L.isValidElement(n))return L.cloneElement(n,s);if(mt(n))return n(s);var o=St("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(Oh,ch({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,a){if(L.isValidElement(n))return L.cloneElement(n,s);var o=a;if(mt(n)&&(o=n(s),L.isValidElement(o)))return o;var l=St("recharts-pie-label-text",typeof n!="boolean"&&!mt(n)?n.className:"");return L.createElement(sd,ch({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(g.PureComponent);kv=cl;Ti(cl,"displayName","Pie");Ti(cl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ka.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ti(cl,"parseDeltaAngle",function(t,e){var r=vs(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ti(cl,"getRealPieData",function(t){var e=t.data,r=t.children,n=nt(t,!1),s=Li(r,Hj);return e&&e.length?e.map(function(a,o){return dr(dr(dr({payload:a},n),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return dr(dr({},n),a.props)}):[]});Ti(cl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,s=e.width,a=e.height,o=$Q(s,a),l=n+bs(t.cx,s,s/2),c=r+bs(t.cy,a,a/2),u=bs(t.innerRadius,o,0),d=bs(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});Ti(cl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?dr(dr({},e.type.defaultProps),e.props):e.props,s=kv.getRealPieData(n);if(!s||!s.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,f=n.tooltipType,m=Math.abs(n.minAngle),x=kv.parseCoordinateOfPie(n,r),p=kv.parseDeltaAngle(o,l),v=Math.abs(p),w=u;Nt(u)&&Nt(h)?(fa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Nt(u)&&(fa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var b=s.filter(function(S){return yn(S,w,0)!==0}).length,j=(v>=360?b:b-1)*c,N=v-b*m-j,E=s.reduce(function(S,A){var T=yn(A,w,0);return S+(Oe(T)?T:0)},0),C;if(E>0){var _;C=s.map(function(S,A){var T=yn(S,w,0),I=yn(S,d,A),P=(Oe(T)?T:0)/E,R;A?R=_.endAngle+vs(p)*c*(T!==0?1:0):R=o;var M=R+vs(p)*((T!==0?m:0)+P*N),q=(R+M)/2,W=(x.innerRadius+x.outerRadius)/2,B=[{name:I,value:T,payload:S,dataKey:w,type:f}],D=vr(x.cx,x.cy,W,q);return _=dr(dr(dr({percent:P,cornerRadius:a,name:I,tooltipPayload:B,midAngle:q,middleRadius:W,tooltipPosition:D},S),x),{},{value:yn(S,w),startAngle:R,endAngle:M,payload:S,paddingAngle:vs(p)*c}),_})}return dr(dr({},x),{},{sectors:C,data:s})});var EBe=Math.ceil,_Be=Math.max;function PBe(t,e,r,n){for(var s=-1,a=_Be(EBe((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++s]=t,t+=r;return o}var ABe=PBe,TBe=SY,RL=1/0,CBe=17976931348623157e292;function kBe(t){if(!t)return t===0?t:0;if(t=TBe(t),t===RL||t===-RL){var e=t<0?-1:1;return e*CBe}return t===t?t:0}var oX=kBe,IBe=ABe,RBe=Wj,kS=oX;function OBe(t){return function(e,r,n){return n&&typeof n!="number"&&RBe(e,r,n)&&(r=n=void 0),e=kS(e),r===void 0?(r=e,e=0):r=kS(r),n=n===void 0?e<r?1:-1:kS(n),IBe(e,r,n,t)}}var DBe=OBe,MBe=DBe,$Be=MBe(),LBe=$Be;const Iw=Xt(LBe);function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(t)}function OL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function DL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(r),!0).forEach(function(n){lX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lX(t,e,r){return e=FBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FBe(t){var e=VBe(t,"string");return kx(e)=="symbol"?e:e+""}function VBe(t,e){if(kx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BBe=["Webkit","Moz","O","ms"],UBe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),s=BBe.reduce(function(a,o){return DL(DL({},a),{},lX({},o+n,r))},{});return s[e]=r,s};function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rw.apply(this,arguments)}function ML(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function IS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(r),!0).forEach(function(n){Ys(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uX(n.key),n)}}function zBe(t,e,r){return e&&$L(t.prototype,e),r&&$L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WBe(t,e,r){return e=Ow(e),HBe(t,cX()?Reflect.construct(e,r||[],Ow(t).constructor):e.apply(t,r))}function HBe(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GBe(t)}function GBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cX=function(){return!!t})()}function Ow(t){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ow(t)}function KBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hA(t,e)}function hA(t,e){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},hA(t,e)}function Ys(t,e,r){return e=uX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uX(t){var e=YBe(t,"string");return Df(e)=="symbol"?e:e+""}function YBe(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QBe=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ag().domain(Iw(0,c)).range([a,a+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},LL=function(e){return e.changedTouches&&!!e.changedTouches.length},Mf=function(t){function e(r){var n;return qBe(this,e),n=WBe(this,e,[r]),Ys(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Ys(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Ys(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Ys(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ys(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ys(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ys(n,"handleSlideDragStart",function(s){var a=LL(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return KBe(e,t),zBe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(s,a),f=Math.max(s,a),m=e.getIndexInRange(o,h),x=e.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=yn(a[n],l,n);return mt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,x=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,u+d-h-l,u+d-h-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==f||v.endIndex!==m)&&x&&x(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=LL(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,x=d.onChange,p=d.gap,v=d.data,w={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,h+f-m-u):b<0&&(b=Math.max(b,h-u)),w[o]=u+b;var j=this.getIndex(w),N=j.startIndex,E=j.endIndex,C=function(){var S=v.length-1;return o==="startX"&&(l>c?N%p===0:E%p===0)||l<c&&E===S||o==="endX"&&(l>c?E%p===0:N%p===0)||l>c&&E===S};this.setState(Ys(Ys({},o,u+b),"brushMoveStartX",n.pageX),function(){x&&C()&&x(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],h=l.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var m=l[f];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(Ys({},s,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=g.Children.only(u);return h?L.cloneElement(h,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,x=c.data,p=c.startIndex,v=c.endIndex,w=Math.max(n,this.props.x),b=IS(IS({},nt(this.props,!1)),{},{x:w,y:u,width:d,height:h}),j=m||"Min value: ".concat((a=x[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return L.createElement(Ut,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,b))}},{key:"renderSlide",value:function(n,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,h=Math.max(Math.abs(s-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,m=5,x={pointerEvents:"none",fill:u};return L.createElement(Ut,{className:"recharts-brush-texts"},L.createElement(sd,Rw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},x),this.getTextOfTick(s)),L.createElement(sd,Rw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,m=f.startX,x=f.endX,p=f.isTextActive,v=f.isSlideMoving,w=f.isTravellerMoving,b=f.isTravellerFocused;if(!s||!s.length||!Oe(l)||!Oe(c)||!Oe(u)||!Oe(d)||u<=0||d<=0)return null;var j=St("recharts-brush",a),N=L.Children.count(o)===1,E=UBe("userSelect","none");return L.createElement(Ut,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(p||v||w||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return L.isValidElement(n)?a=L.cloneElement(n,s):mt(n)?a=n(s):a=e.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return IS({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?QBe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var f=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(g.PureComponent);Ys(Mf,"displayName","Brush");Ys(Mf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var XBe=FI;function JBe(t,e){var r;return XBe(t,function(n,s,a){return r=e(n,s,a),!r}),!!r}var ZBe=JBe,eUe=XK,tUe=oo,rUe=ZBe,nUe=Gs,sUe=Wj;function iUe(t,e,r){var n=nUe(t)?eUe:rUe;return r&&sUe(t,e,r)&&(e=void 0),n(t,tUe(e))}var aUe=iUe;const oUe=Xt(aUe);var Qa=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},FL=vY;function lUe(t,e,r){e=="__proto__"&&FL?FL(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var cUe=lUe,uUe=cUe,dUe=xY,hUe=oo;function fUe(t,e){var r={};return e=hUe(e),dUe(t,function(n,s,a){uUe(r,s,e(n,s,a))}),r}var mUe=fUe;const pUe=Xt(mUe);function gUe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var xUe=gUe,yUe=FI;function vUe(t,e){var r=!0;return yUe(t,function(n,s,a){return r=!!e(n,s,a),r}),r}var bUe=vUe,wUe=xUe,jUe=bUe,NUe=oo,SUe=Gs,EUe=Wj;function _Ue(t,e,r){var n=SUe(t)?wUe:jUe;return r&&EUe(t,e,r)&&(e=void 0),n(t,NUe(e))}var PUe=_Ue;const dX=Xt(PUe);var AUe=["x","y"];function Ix(t){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ix(t)}function fA(){return fA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fA.apply(this,arguments)}function VL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function gp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(r),!0).forEach(function(n){TUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TUe(t,e,r){return e=CUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CUe(t){var e=kUe(t,"string");return Ix(e)=="symbol"?e:e+""}function kUe(t,e){if(Ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IUe(t,e){if(t==null)return{};var r=RUe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OUe(t,e){var r=t.x,n=t.y,s=IUe(t,AUe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),h="".concat(e.width||s.width),f=parseInt(h,10);return gp(gp(gp(gp(gp({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function BL(t){return L.createElement(sX,fA({shapeType:"rectangle",propTransformer:OUe,activeClassName:"recharts-active-bar"},t))}var DUe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,s):(a||ad(),r)}},MUe=["value","background"],hX;function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function $Ue(t,e){if(t==null)return{};var r=LUe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dw.apply(this,arguments)}function UL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(r),!0).forEach(function(n){Kl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mX(n.key),n)}}function VUe(t,e,r){return e&&qL(t.prototype,e),r&&qL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BUe(t,e,r){return e=Mw(e),UUe(t,fX()?Reflect.construct(e,r||[],Mw(t).constructor):e.apply(t,r))}function UUe(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qUe(t)}function qUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fX=function(){return!!t})()}function Mw(t){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mw(t)}function zUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mA(t,e)}function mA(t,e){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mA(t,e)}function Kl(t,e,r){return e=mX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mX(t){var e=WUe(t,"string");return $f(e)=="symbol"?e:e+""}function WUe(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oy=function(t){function e(){var r;FUe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=BUe(this,e,[].concat(s)),Kl(r,"state",{isAnimationFinished:!1}),Kl(r,"id",_m("recharts-bar-")),Kl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Kl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return zUe(e,t),VUe(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=nt(this.props,!1);return n&&n.map(function(h,f){var m=f===c,x=m?u:o,p=tn(tn(tn({},d),h),{},{isActive:m,option:x,index:f,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return L.createElement(Ut,Dw({className:"recharts-bar-rectangle"},nd(s.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),L.createElement(BL,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,h=s.animationId,f=this.state.prevData;return L.createElement(no,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,p=a.map(function(v,w){var b=f&&f[w];if(b){var j=Ms(b.x,v.x),N=Ms(b.y,v.y),E=Ms(b.width,v.width),C=Ms(b.height,v.height);return tn(tn({},v),{},{x:j(x),y:N(x),width:E(x),height:C(x)})}if(o==="horizontal"){var _=Ms(0,v.height),S=_(x);return tn(tn({},v),{},{y:v.y+v.height-S,height:S})}var A=Ms(0,v.width),T=A(x);return tn(tn({},v),{},{width:T})});return L.createElement(Ut,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!Tf(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=nt(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,f=$Ue(u,MUe);if(!h)return null;var m=tn(tn(tn(tn(tn({},f),{},{fill:"#eee"},h),c),nd(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(BL,Dw({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=Li(d,nN);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,w){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:yn(v,w)}},x={clipPath:n?"url(#clipPath-".concat(s,")"):null};return L.createElement(Ut,x,h.map(function(p){return L.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,m=n.isAnimationActive,x=n.background,p=n.id;if(s||!a||!a.length)return null;var v=this.state.isAnimationFinished,w=St("recharts-bar",o),b=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,N=b||j,E=Nt(p)?this.id:p;return L.createElement(Ut,{className:w},b||j?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(E)},L.createElement("rect",{x:b?u:u-h/2,y:j?d:d-f/2,width:b?h:h*2,height:j?f:f*2}))):null,L.createElement(Ut,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(E,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,E),(!m||v)&&$o.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(g.PureComponent);hX=Oy;Kl(Oy,"displayName","Bar");Kl(Oy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ka.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Kl(Oy,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,m=DLe(n,r);if(!m)return null;var x=e.layout,p=r.type.defaultProps,v=p!==void 0?tn(tn({},p),r.props):r.props,w=v.dataKey,b=v.children,j=v.minPointSize,N=x==="horizontal"?o:a,E=u?N.scale.domain():null,C=ULe({numericAxis:N}),_=Li(b,Hj),S=h.map(function(A,T){var I,P,R,M,q,W;u?I=MLe(u[d+T],E):(I=yn(A,w),Array.isArray(I)||(I=[C,I]));var B=DUe(j,hX.defaultProps.minPointSize)(I[1],T);if(x==="horizontal"){var D,V=[o.scale(I[0]),o.scale(I[1])],K=V[0],G=V[1];P=I$({axis:a,ticks:l,bandSize:s,offset:m.offset,entry:A,index:T}),R=(D=G??K)!==null&&D!==void 0?D:void 0,M=m.size;var Q=K-G;if(q=Number.isNaN(Q)?0:Q,W={x:P,y:o.y,width:M,height:o.height},Math.abs(B)>0&&Math.abs(q)<Math.abs(B)){var ae=vs(q||B)*(Math.abs(B)-Math.abs(q));R-=ae,q+=ae}}else{var U=[a.scale(I[0]),a.scale(I[1])],Y=U[0],ue=U[1];if(P=Y,R=I$({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:A,index:T}),M=ue-Y,q=m.size,W={x:a.x,y:R,width:a.width,height:q},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var Z=vs(M||B)*(Math.abs(B)-Math.abs(M));M+=Z}}return tn(tn(tn({},A),{},{x:P,y:R,width:M,height:q,value:u?I:I[1],payload:A,background:W},_&&_[T]&&_[T].props),{},{tooltipPayload:[DQ(r,A)],tooltipPosition:{x:P+M/2,y:R+q/2}})});return tn({data:S,layout:x},f)});function Rx(t){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(t)}function HUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pX(n.key),n)}}function GUe(t,e,r){return e&&zL(t.prototype,e),r&&zL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(r),!0).forEach(function(n){dN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dN(t,e,r){return e=pX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pX(t){var e=KUe(t,"string");return Rx(e)=="symbol"?e:e+""}function KUe(t,e){if(Rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YUe=function(e,r,n,s,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!ei(u,Oy);return d.reduce(function(m,x){var p=r[x],v=p.orientation,w=p.domain,b=p.padding,j=b===void 0?{}:b,N=p.mirror,E=p.reversed,C="".concat(v).concat(N?"Mirror":""),_,S,A,T,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var P=w[1]-w[0],R=1/0,M=p.categoricalDomain.sort();if(M.forEach(function(U,Y){Y>0&&(R=Math.min((U||0)-(M[Y-1]||0),R))}),Number.isFinite(R)){var q=R/P,W=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(_=q*W/2),p.padding==="no-gap"){var B=bs(e.barCategoryGap,q*W),D=q*W/2;_=D-B-(D-B)/W*B}}}s==="xAxis"?S=[n.left+(j.left||0)+(_||0),n.left+n.width-(j.right||0)-(_||0)]:s==="yAxis"?S=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(_||0),n.top+n.height-(j.bottom||0)-(_||0)]:S=p.range,E&&(S=[S[1],S[0]]);var V=kQ(p,a,f),K=V.scale,G=V.realScaleType;K.domain(w).range(S),IQ(K);var Q=RQ(K,ta(ta({},p),{},{realScaleType:G}));s==="xAxis"?(I=v==="top"&&!N||v==="bottom"&&N,A=n.left,T=h[C]-I*p.height):s==="yAxis"&&(I=v==="left"&&!N||v==="right"&&N,A=h[C]-I*p.width,T=n.top);var ae=ta(ta(ta({},p),Q),{},{realScaleType:G,x:A,y:T,scale:K,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return ae.bandSize=bw(ae,Q),!p.hide&&s==="xAxis"?h[C]+=(I?-1:1)*ae.height:p.hide||(h[C]+=(I?-1:1)*ae.width),ta(ta({},m),{},dN({},x,ae))},{})},gX=function(e,r){var n=e.x,s=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(s,o),width:Math.abs(a-n),height:Math.abs(o-s)}},QUe=function(e){var r=e.x1,n=e.y1,s=e.x2,a=e.y2;return gX({x:r,y:n},{x:s,y:a})},xX=function(){function t(e){HUe(this,t),this.scale=e}return GUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])}();dN(xX,"EPS",1e-4);var mR=function(e){var r=Object.keys(e).reduce(function(n,s){return ta(ta({},n),{},dN({},s,xX.create(e[s])))},{});return ta(ta({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return pUe(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return dX(s,function(a,o){return r[o].isInRange(a)})}})};function XUe(t){return(t%180+180)%180}var JUe=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=XUe(s),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ZUe=oo,e7e=Ty,t7e=qj;function r7e(t){return function(e,r,n){var s=Object(e);if(!e7e(e)){var a=ZUe(r);e=t7e(e),r=function(l){return a(s[l],l,s)}}var o=t(e,r,n);return o>-1?s[a?e[o]:o]:void 0}}var n7e=r7e,s7e=oX;function i7e(t){var e=s7e(t),r=e%1;return e===e?r?e-r:e:0}var a7e=i7e,o7e=dY,l7e=oo,c7e=a7e,u7e=Math.max;function d7e(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var s=r==null?0:c7e(r);return s<0&&(s=u7e(n+s,0)),o7e(t,l7e(e),s)}var h7e=d7e,f7e=n7e,m7e=h7e,p7e=f7e(m7e),g7e=p7e;const x7e=Xt(g7e);var y7e=j_e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),pR=g.createContext(void 0),gR=g.createContext(void 0),yX=g.createContext(void 0),vX=g.createContext({}),bX=g.createContext(void 0),wX=g.createContext(0),jX=g.createContext(0),HL=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=y7e(a);return L.createElement(pR.Provider,{value:n},L.createElement(gR.Provider,{value:s},L.createElement(vX.Provider,{value:a},L.createElement(yX.Provider,{value:d},L.createElement(bX.Provider,{value:o},L.createElement(wX.Provider,{value:u},L.createElement(jX.Provider,{value:c},l)))))))},v7e=function(){return g.useContext(bX)},NX=function(e){var r=g.useContext(pR);r==null&&ad();var n=r[e];return n==null&&ad(),n},b7e=function(){var e=g.useContext(pR);return Ml(e)},w7e=function(){var e=g.useContext(gR),r=x7e(e,function(n){return dX(n.domain,Number.isFinite)});return r||Ml(e)},SX=function(e){var r=g.useContext(gR);r==null&&ad();var n=r[e];return n==null&&ad(),n},j7e=function(){var e=g.useContext(yX);return e},N7e=function(){return g.useContext(vX)},xR=function(){return g.useContext(jX)},yR=function(){return g.useContext(wX)};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function S7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_X(n.key),n)}}function _7e(t,e,r){return e&&E7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P7e(t,e,r){return e=$w(e),A7e(t,EX()?Reflect.construct(e,r||[],$w(t).constructor):e.apply(t,r))}function A7e(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T7e(t)}function T7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EX=function(){return!!t})()}function $w(t){return $w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$w(t)}function C7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pA(t,e)}function pA(t,e){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},pA(t,e)}function GL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function KL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(r),!0).forEach(function(n){vR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vR(t,e,r){return e=_X(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _X(t){var e=k7e(t,"string");return Lf(e)=="symbol"?e:e+""}function k7e(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I7e(t,e){return M7e(t)||D7e(t,e)||O7e(t,e)||R7e()}function R7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O7e(t,e){if(t){if(typeof t=="string")return YL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YL(t,e)}}function YL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function M7e(t){if(Array.isArray(t))return t}function gA(){return gA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gA.apply(this,arguments)}var $7e=function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):mt(e)?n=e(r):n=L.createElement("line",gA({},r,{className:"recharts-reference-line-line"})),n},L7e=function(e,r,n,s,a,o,l,c,u){var d=a.x,h=a.y,f=a.width,m=a.height;if(n){var x=u.y,p=e.y.apply(x,{position:o});if(Qa(u,"discard")&&!e.y.isInRange(p))return null;var v=[{x:d+f,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var w=u.x,b=e.x.apply(w,{position:o});if(Qa(u,"discard")&&!e.x.isInRange(b))return null;var j=[{x:b,y:h+m},{x:b,y:h}];return l==="top"?j.reverse():j}if(s){var N=u.segment,E=N.map(function(C){return e.apply(C,{position:o})});return Qa(u,"discard")&&oUe(E,function(C){return!e.isInRange(C)})?null:E}return null};function F7e(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=v7e(),d=NX(s),h=SX(a),f=j7e();if(!u||!f)return null;fa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=mR({x:d.scale,y:h.scale}),x=Nn(e),p=Nn(r),v=n&&n.length===2,w=L7e(m,x,p,v,f,t.position,d.orientation,h.orientation,t);if(!w)return null;var b=I7e(w,2),j=b[0],N=j.x,E=j.y,C=b[1],_=C.x,S=C.y,A=Qa(t,"hidden")?"url(#".concat(u,")"):void 0,T=KL(KL({clipPath:A},nt(t,!0)),{},{x1:N,y1:E,x2:_,y2:S});return L.createElement(Ut,{className:St("recharts-reference-line",l)},$7e(o,T),On.renderCallByParent(t,QUe({x1:N,y1:E,x2:_,y2:S})))}var bR=function(t){function e(){return S7e(this,e),P7e(this,e,arguments)}return C7e(e,t),_7e(e,[{key:"render",value:function(){return L.createElement(F7e,this.props)}}])}(L.Component);vR(bR,"displayName","ReferenceLine");vR(bR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xA.apply(this,arguments)}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function QL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function XL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(r),!0).forEach(function(n){hN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AX(n.key),n)}}function U7e(t,e,r){return e&&B7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q7e(t,e,r){return e=Lw(e),z7e(t,PX()?Reflect.construct(e,r||[],Lw(t).constructor):e.apply(t,r))}function z7e(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W7e(t)}function W7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PX=function(){return!!t})()}function Lw(t){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lw(t)}function H7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yA(t,e)}function yA(t,e){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yA(t,e)}function hN(t,e,r){return e=AX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AX(t){var e=G7e(t,"string");return Ff(e)=="symbol"?e:e+""}function G7e(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K7e=function(e){var r=e.x,n=e.y,s=e.xAxis,a=e.yAxis,o=mR({x:s.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Qa(e,"discard")&&!o.isInRange(l)?null:l},fN=function(t){function e(){return V7e(this,e),q7e(this,e,arguments)}return H7e(e,t),U7e(e,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Nn(s),d=Nn(a);if(fa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=K7e(this.props);if(!h)return null;var f=h.x,m=h.y,x=this.props,p=x.shape,v=x.className,w=Qa(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=XL(XL({clipPath:w},nt(this.props,!0)),{},{cx:f,cy:m});return L.createElement(Ut,{className:St("recharts-reference-dot",v)},e.renderDot(p,b),On.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(L.Component);hN(fN,"displayName","ReferenceDot");hN(fN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hN(fN,"renderDot",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):mt(t)?r=t(e):r=L.createElement(sN,xA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function vA(){return vA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vA.apply(this,arguments)}function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function JL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ZL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(r),!0).forEach(function(n){mN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CX(n.key),n)}}function X7e(t,e,r){return e&&Q7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J7e(t,e,r){return e=Fw(e),Z7e(t,TX()?Reflect.construct(e,r||[],Fw(t).constructor):e.apply(t,r))}function Z7e(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eqe(t)}function eqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TX=function(){return!!t})()}function Fw(t){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fw(t)}function tqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bA(t,e)}function bA(t,e){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bA(t,e)}function mN(t,e,r){return e=CX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CX(t){var e=rqe(t,"string");return Vf(e)=="symbol"?e:e+""}function rqe(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nqe=function(e,r,n,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var f=mR({x:d.scale,y:h.scale}),m={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},x={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Qa(a,"discard")&&(!f.isInRange(m)||!f.isInRange(x))?null:gX(m,x)},pN=function(t){function e(){return Y7e(this,e),J7e(this,e,arguments)}return tqe(e,t),X7e(e,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;fa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Nn(s),f=Nn(a),m=Nn(o),x=Nn(l),p=this.props.shape;if(!h&&!f&&!m&&!x&&!p)return null;var v=nqe(h,f,m,x,this.props);if(!v&&!p)return null;var w=Qa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(Ut,{className:St("recharts-reference-area",c)},e.renderRect(p,ZL(ZL({clipPath:w},nt(this.props,!0)),v)),On.renderCallByParent(this.props,v))}}])}(L.Component);mN(pN,"displayName","ReferenceArea");mN(pN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});mN(pN,"renderRect",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):mt(t)?r=t(e):r=L.createElement(fR,vA({},e,{className:"recharts-reference-area-rect"})),r});function kX(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function sqe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return JUe(n,r)}function iqe(t,e,r){var n=r==="width",s=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?s:a,end:n?s+o:a+l}:{start:n?s+o:a+l,end:n?s:a}}function Vw(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-s)<=0}function aqe(t,e){return kX(t,e+1)}function oqe(t,e,r,n,s){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,h=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:kX(n,u)};var p=c,v,w=function(){return v===void 0&&(v=r(x,p)),v},b=x.coordinate,j=c===0||Vw(t,b,w,d,l);j||(c=0,d=o,u+=1),j&&(d=b+t*(w()/2+s),c+=u)},f;u<=a.length;)if(f=h(),f)return f.v;return[]}function Ox(t){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(t)}function eF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(r),!0).forEach(function(n){lqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lqe(t,e,r){return e=cqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cqe(t){var e=uqe(t,"string");return Ox(e)=="symbol"?e:e+""}function uqe(t,e){if(Ox(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dqe(t,e,r,n,s){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(f){var m=a[f],x,p=function(){return x===void 0&&(x=r(m,f)),x};if(f===o-1){var v=t*(m.coordinate+t*p()/2-c);a[f]=m=ns(ns({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else a[f]=m=ns(ns({},m),{},{tickCoord:m.coordinate});var w=Vw(t,m.tickCoord,p,l,c);w&&(c=m.tickCoord-t*(p()/2+s),a[f]=ns(ns({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function hqe(t,e,r,n,s,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=n[l-1],h=r(d,l-1),f=t*(d.coordinate+t*h/2-u);o[l-1]=d=ns(ns({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var m=Vw(t,d.tickCoord,function(){return h},c,u);m&&(u=d.tickCoord-t*(h/2+s),o[l-1]=ns(ns({},d),{},{isShow:!0}))}for(var x=a?l-1:l,p=function(b){var j=o[b],N,E=function(){return N===void 0&&(N=r(j,b)),N};if(b===0){var C=t*(j.coordinate-t*E()/2-c);o[b]=j=ns(ns({},j),{},{tickCoord:C<0?j.coordinate-C*t:j.coordinate})}else o[b]=j=ns(ns({},j),{},{tickCoord:j.coordinate});var _=Vw(t,j.tickCoord,E,c,u);_&&(c=j.tickCoord+t*(E()/2+s),o[b]=ns(ns({},j),{},{isShow:!0}))},v=0;v<x;v++)p(v);return o}function wR(t,e,r){var n=t.tick,s=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!s||!s.length||!n)return[];if(Oe(c)||Ka.isSsr)return aqe(s,typeof c=="number"&&Oe(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",x=d&&m==="width"?ig(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},p=function(j,N){var E=mt(u)?u(j.value,N):j.value;return m==="width"?sqe(ig(E,{fontSize:e,letterSpacing:r}),x,h):ig(E,{fontSize:e,letterSpacing:r})[m]},v=s.length>=2?vs(s[1].coordinate-s[0].coordinate):1,w=iqe(a,v,m);return c==="equidistantPreserveStart"?oqe(v,w,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?f=hqe(v,w,p,s,o,c==="preserveStartEnd"):f=dqe(v,w,p,s,o),f.filter(function(b){return b.isShow}))}var fqe=["viewBox"],mqe=["viewBox"],pqe=["ticks"];function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function uh(){return uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uh.apply(this,arguments)}function tF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ms(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tF(Object(r),!0).forEach(function(n){jR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RS(t,e){if(t==null)return{};var r=gqe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RX(n.key),n)}}function yqe(t,e,r){return e&&rF(t.prototype,e),r&&rF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vqe(t,e,r){return e=Bw(e),bqe(t,IX()?Reflect.construct(e,r||[],Bw(t).constructor):e.apply(t,r))}function bqe(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wqe(t)}function wqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IX=function(){return!!t})()}function Bw(t){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bw(t)}function jqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wA(t,e)}function wA(t,e){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wA(t,e)}function jR(t,e,r){return e=RX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RX(t){var e=Nqe(t,"string");return Bf(e)=="symbol"?e:e+""}function Nqe(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Om=function(t){function e(r){var n;return xqe(this,e),n=vqe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return jqe(e,t),yqe(e,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,o=RS(n,fqe),l=this.props,c=l.viewBox,u=RS(l,mqe);return!Ch(a,c)||!Ch(o,u)||!Ch(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,h=s.mirror,f=s.tickMargin,m,x,p,v,w,b,j=h?-1:1,N=n.tickSize||d,E=Oe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,v=o+ +!h*c,p=v-j*N,b=p-j*f,w=E;break;case"left":p=v=n.coordinate,x=a+ +!h*l,m=x-j*N,w=m-j*f,b=E;break;case"right":p=v=n.coordinate,x=a+ +h*l,m=x+j*N,w=m+j*f,b=E;break;default:m=x=n.coordinate,v=o+ +h*c,p=v+j*N,b=p+j*f,w=E;break}return{line:{x1:m,y1:p,x2:x,y2:v},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=ms(ms(ms({},nt(this.props,!1)),nt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=ms(ms({},h),{},{x1:s,y1:a+f*l,x2:s+o,y2:a+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=ms(ms({},h),{},{x1:s+m*o,y1:a,x2:s+m*o,y2:a+l})}return L.createElement("line",uh({},h,{className:St("recharts-cartesian-axis-line",ui(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,m=wR(ms(ms({},this.props),{},{ticks:n}),s,a),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=nt(this.props,!1),w=nt(d,!1),b=ms(ms({},v),{},{fill:"none"},nt(c,!1)),j=m.map(function(N,E){var C=o.getTickLineCoord(N),_=C.line,S=C.tick,A=ms(ms(ms(ms({textAnchor:x,verticalAnchor:p},v),{},{stroke:"none",fill:u},w),S),{},{index:E,payload:N,visibleTicksCount:m.length,tickFormatter:h});return L.createElement(Ut,uh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},nd(o.props,N,E)),c&&L.createElement("line",uh({},b,_,{className:St("recharts-cartesian-axis-tick-line",ui(c,"className"))})),d&&e.renderTickItem(d,A,"".concat(mt(h)?h(N.value,E):N.value).concat(f||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var h=this.props,f=h.ticks,m=RS(h,pqe),x=f;return mt(c)&&(x=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:L.createElement(Ut,{className:St("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,s):mt(n)?o=n(s):o=L.createElement(sd,uh({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(g.Component);jR(Om,"displayName","CartesianAxis");jR(Om,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Sqe=["x1","y1","x2","y2","key"],Eqe=["offset"];function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function nF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function as(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(r),!0).forEach(function(n){_qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _qe(t,e,r){return e=Pqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pqe(t){var e=Aqe(t,"string");return od(e)=="symbol"?e:e+""}function Aqe(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ju.apply(this,arguments)}function sF(t,e){if(t==null)return{};var r=Tqe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Cqe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return L.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function OX(t,e){var r;if(L.isValidElement(t))r=L.cloneElement(t,e);else if(mt(t))r=t(e);else{var n=e.x1,s=e.y1,a=e.x2,o=e.y2,l=e.key,c=sF(e,Sqe),u=nt(c,!1);u.offset;var d=sF(u,Eqe);r=L.createElement("line",ju({},d,{x1:n,y1:s,x2:a,y2:o,fill:"none",key:l}))}return r}function kqe(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,a=t.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=as(as({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return OX(s,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Iqe(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,a=t.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=as(as({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return OX(s,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Rqe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,m){return f-m});s!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var x=!d[m+1],p=x?s+o-f:d[m+1]-f;if(p<=0)return null;var v=m%e.length;return L.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Oqe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var x=!d[m+1],p=x?a+l-f:d[m+1]-f;if(p<=0)return null;var v=m%n.length;return L.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Dqe=function(e,r){var n=e.xAxis,s=e.width,a=e.height,o=e.offset;return CQ(wR(as(as(as({},Om.defaultProps),n),{},{ticks:ko(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,r)},Mqe=function(e,r){var n=e.yAxis,s=e.width,a=e.height,o=e.offset;return CQ(wR(as(as(as({},Om.defaultProps),n),{},{ticks:ko(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,r)},Md={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function DX(t){var e,r,n,s,a,o,l=xR(),c=yR(),u=N7e(),d=as(as({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Md.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Md.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Md.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:Md.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Md.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Md.verticalFill,x:Oe(t.x)?t.x:u.left,y:Oe(t.y)?t.y:u.top,width:Oe(t.width)?t.width:u.width,height:Oe(t.height)?t.height:u.height}),h=d.x,f=d.y,m=d.width,x=d.height,p=d.syncWithTicks,v=d.horizontalValues,w=d.verticalValues,b=b7e(),j=w7e();if(!Oe(m)||m<=0||!Oe(x)||x<=0||!Oe(h)||h!==+h||!Oe(f)||f!==+f)return null;var N=d.verticalCoordinatesGenerator||Dqe,E=d.horizontalCoordinatesGenerator||Mqe,C=d.horizontalPoints,_=d.verticalPoints;if((!C||!C.length)&&mt(E)){var S=v&&v.length,A=E({yAxis:j?as(as({},j),{},{ticks:S?v:j.ticks}):void 0,width:l,height:c,offset:u},S?!0:p);fa(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(od(A),"]")),Array.isArray(A)&&(C=A)}if((!_||!_.length)&&mt(N)){var T=w&&w.length,I=N({xAxis:b?as(as({},b),{},{ticks:T?w:b.ticks}):void 0,width:l,height:c,offset:u},T?!0:p);fa(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(od(I),"]")),Array.isArray(I)&&(_=I)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(Cqe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(kqe,ju({},d,{offset:u,horizontalPoints:C,xAxis:b,yAxis:j})),L.createElement(Iqe,ju({},d,{offset:u,verticalPoints:_,xAxis:b,yAxis:j})),L.createElement(Rqe,ju({},d,{horizontalPoints:C})),L.createElement(Oqe,ju({},d,{verticalPoints:_})))}DX.displayName="CartesianGrid";var $qe=["layout","type","stroke","connectNulls","isRange","ref"],Lqe=["key"],MX;function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function $X(t,e){if(t==null)return{};var r=Fqe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nu.apply(this,arguments)}function iF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Nl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FX(n.key),n)}}function Bqe(t,e,r){return e&&aF(t.prototype,e),r&&aF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uqe(t,e,r){return e=Uw(e),qqe(t,LX()?Reflect.construct(e,r||[],Uw(t).constructor):e.apply(t,r))}function qqe(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zqe(t)}function zqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LX=function(){return!!t})()}function Uw(t){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uw(t)}function Wqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jA(t,e)}function Va(t,e,r){return e=FX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FX(t){var e=Hqe(t,"string");return Uf(e)=="symbol"?e:e+""}function Hqe(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xa=function(t){function e(){var r;Vqe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Uqe(this,e,[].concat(s)),Va(r,"state",{isAnimationFinished:!0}),Va(r,"id",_m("recharts-area-")),Va(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),mt(o)&&o()}),Va(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),mt(o)&&o()}),r}return Wqe(e,t),Bqe(e,[{key:"renderDots",value:function(n,s,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,f=nt(this.props,!1),m=nt(u,!0),x=d.map(function(v,w){var b=Nl(Nl(Nl({key:"dot-".concat(w),r:3},f),m),{},{index:w,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,b)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return L.createElement(Ut,Nu({className:"recharts-area-dots"},p),x)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,a=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),h=Gl(o.map(function(f){return f.y||0}));return Oe(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Gl(a.map(function(f){return f.y||0})),h)),Oe(h)?L.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,a=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),h=Gl(o.map(function(f){return f.x||0}));return Oe(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Gl(a.map(function(f){return f.x||0})),h)),Oe(h)?L.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var m=$X(l,$qe);return L.createElement(Ut,{clipPath:a?"url(#clipPath-".concat(o,")"):null},L.createElement(Oh,Nu({},nt(m,!0),{points:n,connectNulls:h,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&L.createElement(Oh,Nu({},nt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n})),d!=="none"&&f&&L.createElement(Oh,Nu({},nt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,x=this.state,p=x.prevPoints,v=x.prevBaseLine;return L.createElement(no,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var b=w.t;if(p){var j=p.length/l.length,N=l.map(function(S,A){var T=Math.floor(A*j);if(p[T]){var I=p[T],P=Ms(I.x,S.x),R=Ms(I.y,S.y);return Nl(Nl({},S),{},{x:P(b),y:R(b)})}return S}),E;if(Oe(c)&&typeof c=="number"){var C=Ms(v,c);E=C(b)}else if(Nt(c)||Em(c)){var _=Ms(v,0);E=_(b)}else E=c.map(function(S,A){var T=Math.floor(A*j);if(v[T]){var I=v[T],P=Ms(I.x,S.x),R=Ms(I.y,S.y);return Nl(Nl({},S),{},{x:P(b),y:R(b)})}return S});return a.renderAreaStatically(N,E,n,s)}return L.createElement(Ut,null,L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(s)},a.renderClipRect(b))),L.createElement(Ut,{clipPath:"url(#animationClipPath-".concat(s,")")},a.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,f=u.totalLength;return c&&o&&o.length&&(!d&&f>0||!Tf(d,o)||!Tf(h,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,h=s.xAxis,f=s.yAxis,m=s.width,x=s.height,p=s.isAnimationActive,v=s.id;if(a||!l||!l.length)return null;var w=this.state.isAnimationFinished,b=l.length===1,j=St("recharts-area",c),N=h&&h.allowDataOverflow,E=f&&f.allowDataOverflow,C=N||E,_=Nt(v)?this.id:v,S=(n=nt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,T=A===void 0?3:A,I=S.strokeWidth,P=I===void 0?2:I,R=PPe(o)?o:{},M=R.clipDot,q=M===void 0?!0:M,W=T*2+P;return L.createElement(Ut,{className:j},N||E?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(_)},L.createElement("rect",{x:N?d:d-m/2,y:E?u:u-x/2,width:N?m:m*2,height:E?x:x*2})),!q&&L.createElement("clipPath",{id:"clipPath-dots-".concat(_)},L.createElement("rect",{x:d-W/2,y:u-W/2,width:m+W,height:x+W}))):null,b?null:this.renderArea(C,_),(o||b)&&this.renderDots(C,q,_),(!p||w)&&$o.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(g.PureComponent);MX=Xa;Va(Xa,"displayName","Area");Va(Xa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ka.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Va(Xa,"getBaseValue",function(t,e,r,n){var s=t.layout,a=t.baseValue,o=e.props.baseValue,l=o??a;if(Oe(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Va(Xa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,s=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,m=e.layout,x=u&&u.length,p=MX.getBaseValue(e,r,n,s),v=m==="horizontal",w=!1,b=h.map(function(N,E){var C;x?C=u[d+E]:(C=yn(N,c),Array.isArray(C)?w=!0:C=[p,C]);var _=C[1]==null||x&&yn(N,c)==null;return v?{x:k$({axis:n,ticks:a,bandSize:l,entry:N,index:E}),y:_?null:s.scale(C[1]),value:C,payload:N}:{x:_?null:n.scale(C[1]),y:k$({axis:s,ticks:o,bandSize:l,entry:N,index:E}),value:C,payload:N}}),j;return x||w?j=b.map(function(N){var E=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:E!=null&&N.y!=null?s.scale(E):null}:{x:E!=null?n.scale(E):null,y:N.y}}):j=v?s.scale(p):n.scale(p),Nl({points:b,baseLine:j,layout:m,isRange:w},f)});Va(Xa,"renderDotItem",function(t,e){var r;if(L.isValidElement(t))r=L.cloneElement(t,e);else if(mt(t))r=t(e);else{var n=St("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,a=$X(e,Lqe);r=L.createElement(sN,Nu({},a,{key:s,className:n}))}return r});function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function Gqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UX(n.key),n)}}function Yqe(t,e,r){return e&&Kqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qqe(t,e,r){return e=qw(e),Xqe(t,VX()?Reflect.construct(e,r||[],qw(t).constructor):e.apply(t,r))}function Xqe(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jqe(t)}function Jqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VX=function(){return!!t})()}function qw(t){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qw(t)}function Zqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NA(t,e)}function NA(t,e){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},NA(t,e)}function BX(t,e,r){return e=UX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UX(t){var e=eze(t,"string");return qf(e)=="symbol"?e:e+""}function eze(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SA.apply(this,arguments)}function tze(t){var e=t.xAxisId,r=xR(),n=yR(),s=NX(e);return s==null?null:L.createElement(Om,SA({},s,{className:St("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ko(o,!0)}}))}var gN=function(t){function e(){return Gqe(this,e),Qqe(this,e,arguments)}return Zqe(e,t),Yqe(e,[{key:"render",value:function(){return L.createElement(tze,this.props)}}])}(L.Component);BX(gN,"displayName","XAxis");BX(gN,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function rze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WX(n.key),n)}}function sze(t,e,r){return e&&nze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ize(t,e,r){return e=zw(e),aze(t,qX()?Reflect.construct(e,r||[],zw(t).constructor):e.apply(t,r))}function aze(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oze(t)}function oze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qX=function(){return!!t})()}function zw(t){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(t)}function lze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EA(t,e)}function EA(t,e){return EA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},EA(t,e)}function zX(t,e,r){return e=WX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WX(t){var e=cze(t,"string");return zf(e)=="symbol"?e:e+""}function cze(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_A.apply(this,arguments)}var uze=function(e){var r=e.yAxisId,n=xR(),s=yR(),a=SX(r);return a==null?null:L.createElement(Om,_A({},a,{className:St("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return ko(l,!0)}}))},xN=function(t){function e(){return rze(this,e),ize(this,e,arguments)}return lze(e,t),sze(e,[{key:"render",value:function(){return L.createElement(uze,this.props)}}])}(L.Component);zX(xN,"displayName","YAxis");zX(xN,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function oF(t){return mze(t)||fze(t)||hze(t)||dze()}function dze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hze(t,e){if(t){if(typeof t=="string")return PA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PA(t,e)}}function fze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mze(t){if(Array.isArray(t))return PA(t)}function PA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var AA=function(e,r,n,s,a){var o=Li(e,bR),l=Li(e,fN),c=[].concat(oF(o),oF(l)),u=Li(e,pN),d="".concat(s,"Id"),h=s[0],f=r;if(c.length&&(f=c.reduce(function(p,v){if(v.props[d]===n&&Qa(v.props,"extendDomain")&&Oe(v.props[h])){var w=v.props[h];return[Math.min(p[0],w),Math.max(p[1],w)]}return p},f)),u.length){var m="".concat(h,"1"),x="".concat(h,"2");f=u.reduce(function(p,v){if(v.props[d]===n&&Qa(v.props,"extendDomain")&&Oe(v.props[m])&&Oe(v.props[x])){var w=v.props[m],b=v.props[x];return[Math.min(p[0],w,b),Math.max(p[1],w,b)]}return p},f)}return a&&a.length&&(f=a.reduce(function(p,v){return Oe(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},f)),f},HX={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,h||c,f),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,x=new Array(m);f<m;f++)x[f]=h[f].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,x){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],w=arguments.length,b,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,f),!0;case 5:return v.fn.call(v.context,d,h,f,m),!0;case 6:return v.fn.call(v.context,d,h,f,m,x),!0}for(j=1,b=new Array(w-1);j<w;j++)b[j-1]=arguments[j];v.fn.apply(v.context,b)}else{var N=v.length,E;for(j=0;j<N;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),w){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,h);break;case 4:v[j].fn.call(v[j].context,d,h,f);break;default:if(!b)for(E=1,b=new Array(w-1);E<w;E++)b[E-1]=arguments[E];v[j].fn.apply(v[j].context,b)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!f||x.once)&&(!h||x.context===h)&&o(this,m);else{for(var p=0,v=[],w=x.length;p<w;p++)(x[p].fn!==d||f&&!x[p].once||h&&x[p].context!==h)&&v.push(x[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(HX);var pze=HX.exports;const gze=Xt(pze);var OS=new gze,DS="recharts.syncMouseEvents";function Dx(t){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(t)}function xze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GX(n.key),n)}}function vze(t,e,r){return e&&yze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MS(t,e,r){return e=GX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GX(t){var e=bze(t,"string");return Dx(e)=="symbol"?e:e+""}function bze(t,e){if(Dx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wze=function(){function t(){xze(this,t),MS(this,"activeIndex",0),MS(this,"coordinateList",[]),MS(this,"layout","horizontal")}return vze(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function jze(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&Oe(n)&&Oe(s))return!0}return!1}function Nze(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function KX(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,a=t.endAngle,o=vr(e,r,n,s),l=vr(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:a}}function Sze(t,e,r){var n,s,a,o;if(t==="horizontal")n=e.x,a=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=vr(l,c,u,h),m=vr(l,c,d,h);n=f.x,s=f.y,a=m.x,o=m.y}else return KX(e);return[{x:n,y:s},{x:a,y:o}]}function Mx(t){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mx(t)}function lF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Y0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(r),!0).forEach(function(n){Eze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eze(t,e,r){return e=_ze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ze(t){var e=Pze(t,"string");return Mx(e)=="symbol"?e:e+""}function Pze(t,e){if(Mx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aze(t){var e,r,n=t.element,s=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||f!=="ScatterChart"&&s!=="axis")return null;var x,p=Oh;if(f==="ScatterChart")x=o,p=YVe;else if(f==="BarChart")x=Nze(h,o,c,d),p=fR;else if(h==="radial"){var v=KX(o),w=v.cx,b=v.cy,j=v.radius,N=v.startAngle,E=v.endAngle;x={cx:w,cy:b,startAngle:N,endAngle:E,innerRadius:j,outerRadius:j},p=BQ}else x={points:Sze(h,o,c)},p=Oh;var C=Y0(Y0(Y0(Y0({stroke:"#ccc",pointerEvents:"none"},c),x),nt(m,!1)),{},{payload:l,payloadIndex:u,className:St("recharts-tooltip-cursor",m.className)});return g.isValidElement(m)?g.cloneElement(m,C):g.createElement(p,C)}var Tze=["item"],Cze=["children","className","width","height","style","compact","title","desc"];function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dg.apply(this,arguments)}function cF(t,e){return Rze(t)||Ize(t,e)||QX(t,e)||kze()}function kze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ize(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rze(t){if(Array.isArray(t))return t}function uF(t,e){if(t==null)return{};var r=Oze(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XX(n.key),n)}}function $ze(t,e,r){return e&&Mze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lze(t,e,r){return e=Ww(e),Fze(t,YX()?Reflect.construct(e,r||[],Ww(t).constructor):e.apply(t,r))}function Fze(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vze(t)}function Vze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YX=function(){return!!t})()}function Ww(t){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ww(t)}function Bze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TA(t,e)}function TA(t,e){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},TA(t,e)}function Hf(t){return zze(t)||qze(t)||QX(t)||Uze()}function Uze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QX(t,e){if(t){if(typeof t=="string")return CA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CA(t,e)}}function qze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zze(t){if(Array.isArray(t))return CA(t)}function CA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lt(t,e,r){return e=XX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XX(t){var e=Wze(t,"string");return Wf(e)=="symbol"?e:e+""}function Wze(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hze={xAxis:["bottom","top"],yAxis:["left","right"]},Gze={width:"100%",height:"100%"},JX={x:0,y:0};function Q0(t){return t}var Kze=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Yze=function(e,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=s.radius;return me(me(me({},s),vr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return me(me(me({},s),vr(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return JX},yN=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Hf(l),Hf(u)):l},[]);return o.length>0?o:e&&e.length&&Oe(s)&&Oe(a)?e.slice(s,a+1):[]};function ZX(t){return t==="number"?[0,"auto"]:void 0}var kA=function(e,r,n,s){var a=e.graphicalItems,o=e.tooltipAxis,l=yN(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=Hb(m,o.dataKey,s)}else f=h&&h[n]||l[n];return f?[].concat(Hf(c),[DQ(u,f)]):c},[])},hF=function(e,r,n,s){var a=s||{x:e.chartX,y:e.chartY},o=Kze(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=TLe(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=kA(e,r,d,h),m=Yze(n,l,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},Qze=function(e,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,m=TQ(d,a);return n.reduce(function(x,p){var v,w=p.type.defaultProps!==void 0?me(me({},p.type.defaultProps),p.props):p.props,b=w.type,j=w.dataKey,N=w.allowDataOverflow,E=w.allowDuplicatedCategory,C=w.scale,_=w.ticks,S=w.includeHidden,A=w[o];if(x[A])return x;var T=yN(e.data,{graphicalItems:s.filter(function(Q){var ae,U=o in Q.props?Q.props[o]:(ae=Q.type.defaultProps)===null||ae===void 0?void 0:ae[o];return U===A}),dataStartIndex:c,dataEndIndex:u}),I=T.length,P,R,M;jze(w.domain,N,b)&&(P=HP(w.domain,null,N),m&&(b==="number"||C!=="auto")&&(M=og(T,j,"category")));var q=ZX(b);if(!P||P.length===0){var W,B=(W=w.domain)!==null&&W!==void 0?W:q;if(j){if(P=og(T,j,b),b==="category"&&m){var D=yPe(P);E&&D?(R=P,P=Iw(0,I)):E||(P=D$(B,P,p).reduce(function(Q,ae){return Q.indexOf(ae)>=0?Q:[].concat(Hf(Q),[ae])},[]))}else if(b==="category")E?P=P.filter(function(Q){return Q!==""&&!Nt(Q)}):P=D$(B,P,p).reduce(function(Q,ae){return Q.indexOf(ae)>=0||ae===""||Nt(ae)?Q:[].concat(Hf(Q),[ae])},[]);else if(b==="number"){var V=OLe(T,s.filter(function(Q){var ae,U,Y=o in Q.props?Q.props[o]:(ae=Q.type.defaultProps)===null||ae===void 0?void 0:ae[o],ue="hide"in Q.props?Q.props.hide:(U=Q.type.defaultProps)===null||U===void 0?void 0:U.hide;return Y===A&&(S||!ue)}),j,a,d);V&&(P=V)}m&&(b==="number"||C!=="auto")&&(M=og(T,j,"category"))}else m?P=Iw(0,I):l&&l[A]&&l[A].hasStack&&b==="number"?P=f==="expand"?[0,1]:OQ(l[A].stackGroups,c,u):P=AQ(T,s.filter(function(Q){var ae=o in Q.props?Q.props[o]:Q.type.defaultProps[o],U="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ae===A&&(S||!U)}),b,d,!0);if(b==="number")P=AA(h,P,A,a,_),B&&(P=HP(B,P,N));else if(b==="category"&&B){var K=B,G=P.every(function(Q){return K.indexOf(Q)>=0});G&&(P=K)}}return me(me({},x),{},lt({},A,me(me({},w),{},{axisType:a,domain:P,categoricalDomain:M,duplicateDomain:R,originalDomain:(v=w.domain)!==null&&v!==void 0?v:q,isCategorical:m,layout:d})))},{})},Xze=function(e,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=yN(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=f.length,x=TQ(d,a),p=-1;return n.reduce(function(v,w){var b=w.type.defaultProps!==void 0?me(me({},w.type.defaultProps),w.props):w.props,j=b[o],N=ZX("number");if(!v[j]){p++;var E;return x?E=Iw(0,m):l&&l[j]&&l[j].hasStack?(E=OQ(l[j].stackGroups,c,u),E=AA(h,E,j,a)):(E=HP(N,AQ(f,n.filter(function(C){var _,S,A=o in C.props?C.props[o]:(_=C.type.defaultProps)===null||_===void 0?void 0:_[o],T="hide"in C.props?C.props.hide:(S=C.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===j&&!T}),"number",d),s.defaultProps.allowDataOverflow),E=AA(h,E,j,a)),me(me({},v),{},lt({},j,me(me({axisType:a},s.defaultProps),{},{hide:!0,orientation:ui(Hze,"".concat(a,".").concat(p%2),null),domain:E,originalDomain:N,isCategorical:x,layout:d})))}return v},{})},Jze=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(s,"Id"),f=Li(d,a),m={};return f&&f.length?m=Qze(e,{axes:f,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=Xze(e,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},Zze=function(e){var r=Ml(e),n=ko(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:VI(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bw(r,n)}},fF=function(e){var r=e.children,n=e.defaultShowTooltip,s=ei(r,Mf),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},eWe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Do(r&&r.type);return n&&n.indexOf("Bar")>=0})},mF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tWe=function(e,r){var n=e.props,s=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,f=n.margin||{},m=ei(h,Mf),x=ei(h,kh),p=Object.keys(c).reduce(function(E,C){var _=c[C],S=_.orientation;return!_.mirror&&!_.hide?me(me({},E),{},lt({},S,E[S]+_.width)):E},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(E,C){var _=o[C],S=_.orientation;return!_.mirror&&!_.hide?me(me({},E),{},lt({},S,ui(E,"".concat(S))+_.height)):E},{top:f.top||0,bottom:f.bottom||0}),w=me(me({},v),p),b=w.bottom;m&&(w.bottom+=m.props.height||Mf.defaultProps.height),x&&r&&(w=ILe(w,s,n,r));var j=u-w.left-w.right,N=d-w.top-w.bottom;return me(me({brushBottom:b},w),{},{width:Math.max(j,0),height:Math.max(N,0)})},rWe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},eJ=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,a=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(v,w){var b=w.graphicalItems,j=w.stackGroups,N=w.offset,E=w.updateId,C=w.dataStartIndex,_=w.dataEndIndex,S=v.barSize,A=v.layout,T=v.barGap,I=v.barCategoryGap,P=v.maxBarSize,R=mF(A),M=R.numericAxisName,q=R.cateAxisName,W=eWe(b),B=[];return b.forEach(function(D,V){var K=yN(v.data,{graphicalItems:[D],dataStartIndex:C,dataEndIndex:_}),G=D.type.defaultProps!==void 0?me(me({},D.type.defaultProps),D.props):D.props,Q=G.dataKey,ae=G.maxBarSize,U=G["".concat(M,"Id")],Y=G["".concat(q,"Id")],ue={},Z=c.reduce(function(de,Ge){var Xe=w["".concat(Ge.axisType,"Map")],Tt=G["".concat(Ge.axisType,"Id")];Xe&&Xe[Tt]||Ge.axisType==="zAxis"||ad();var ht=Xe[Tt];return me(me({},de),{},lt(lt({},Ge.axisType,ht),"".concat(Ge.axisType,"Ticks"),ko(ht)))},ue),Pe=Z[q],te=Z["".concat(q,"Ticks")],ye=j&&j[U]&&j[U].hasStack&&qLe(D,j[U].stackGroups),F=Do(D.type).indexOf("Bar")>=0,z=bw(Pe,te),ie=[],ne=W&&CLe({barSize:S,stackGroups:j,totalSize:rWe(Z,q)});if(F){var he,ve,ge=Nt(ae)?P:ae,X=(he=(ve=bw(Pe,te,!0))!==null&&ve!==void 0?ve:ge)!==null&&he!==void 0?he:0;ie=kLe({barGap:T,barCategoryGap:I,bandSize:X!==z?X:z,sizeList:ne[Y],maxBarSize:ge}),X!==z&&(ie=ie.map(function(de){return me(me({},de),{},{position:me(me({},de.position),{},{offset:de.position.offset-X/2})})}))}var le=D&&D.type&&D.type.getComposedData;le&&B.push({props:me(me({},le(me(me({},Z),{},{displayedData:K,props:v,dataKey:Q,item:D,bandSize:z,barPosition:ie,offset:N,stackedData:ye,layout:A,dataStartIndex:C,dataEndIndex:_}))),{},lt(lt(lt({key:D.key||"item-".concat(V)},M,Z[M]),q,Z[q]),"animationId",E)),childIndex:CPe(D,v.children),item:D})}),B},m=function(v,w){var b=v.props,j=v.dataStartIndex,N=v.dataEndIndex,E=v.updateId;if(!A3({props:b}))return null;var C=b.children,_=b.layout,S=b.stackOffset,A=b.data,T=b.reverseStackOrder,I=mF(_),P=I.numericAxisName,R=I.cateAxisName,M=Li(C,n),q=BLe(A,M,"".concat(P,"Id"),"".concat(R,"Id"),S,T),W=c.reduce(function(G,Q){var ae="".concat(Q.axisType,"Map");return me(me({},G),{},lt({},ae,Jze(b,me(me({},Q),{},{graphicalItems:M,stackGroups:Q.axisType===P&&q,dataStartIndex:j,dataEndIndex:N}))))},{}),B=tWe(me(me({},W),{},{props:b,graphicalItems:M}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(G){W[G]=d(b,W[G],B,G.replace("Map",""),r)});var D=W["".concat(R,"Map")],V=Zze(D),K=f(b,me(me({},W),{},{dataStartIndex:j,dataEndIndex:N,updateId:E,graphicalItems:M,stackGroups:q,offset:B}));return me(me({formattedGraphicalItems:K,graphicalItems:M,offset:B,stackGroups:q},V),W)},x=function(p){function v(w){var b,j,N;return Dze(this,v),N=Lze(this,v,[w]),lt(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),lt(N,"accessibilityManager",new wze),lt(N,"handleLegendBBoxUpdate",function(E){if(E){var C=N.state,_=C.dataStartIndex,S=C.dataEndIndex,A=C.updateId;N.setState(me({legendBBox:E},m({props:N.props,dataStartIndex:_,dataEndIndex:S,updateId:A},me(me({},N.state),{},{legendBBox:E}))))}}),lt(N,"handleReceiveSyncEvent",function(E,C,_){if(N.props.syncId===E){if(_===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(C)}}),lt(N,"handleBrushChange",function(E){var C=E.startIndex,_=E.endIndex;if(C!==N.state.dataStartIndex||_!==N.state.dataEndIndex){var S=N.state.updateId;N.setState(function(){return me({dataStartIndex:C,dataEndIndex:_},m({props:N.props,dataStartIndex:C,dataEndIndex:_,updateId:S},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:_})}}),lt(N,"handleMouseEnter",function(E){var C=N.getMouseInfo(E);if(C){var _=me(me({},C),{},{isTooltipActive:!0});N.setState(_),N.triggerSyncEvent(_);var S=N.props.onMouseEnter;mt(S)&&S(_,E)}}),lt(N,"triggeredAfterMouseMove",function(E){var C=N.getMouseInfo(E),_=C?me(me({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(_),N.triggerSyncEvent(_);var S=N.props.onMouseMove;mt(S)&&S(_,E)}),lt(N,"handleItemMouseEnter",function(E){N.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),lt(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),lt(N,"handleMouseMove",function(E){E.persist(),N.throttleTriggeredAfterMouseMove(E)}),lt(N,"handleMouseLeave",function(E){N.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var _=N.props.onMouseLeave;mt(_)&&_(C,E)}),lt(N,"handleOuterEvent",function(E){var C=TPe(E),_=ui(N.props,"".concat(C));if(C&&mt(_)){var S,A;/.*touch.*/i.test(C)?A=N.getMouseInfo(E.changedTouches[0]):A=N.getMouseInfo(E),_((S=A)!==null&&S!==void 0?S:{},E)}}),lt(N,"handleClick",function(E){var C=N.getMouseInfo(E);if(C){var _=me(me({},C),{},{isTooltipActive:!0});N.setState(_),N.triggerSyncEvent(_);var S=N.props.onClick;mt(S)&&S(_,E)}}),lt(N,"handleMouseDown",function(E){var C=N.props.onMouseDown;if(mt(C)){var _=N.getMouseInfo(E);C(_,E)}}),lt(N,"handleMouseUp",function(E){var C=N.props.onMouseUp;if(mt(C)){var _=N.getMouseInfo(E);C(_,E)}}),lt(N,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),lt(N,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&N.handleMouseDown(E.changedTouches[0])}),lt(N,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&N.handleMouseUp(E.changedTouches[0])}),lt(N,"triggerSyncEvent",function(E){N.props.syncId!==void 0&&OS.emit(DS,N.props.syncId,E,N.eventEmitterSymbol)}),lt(N,"applySyncEvent",function(E){var C=N.props,_=C.layout,S=C.syncMethod,A=N.state.updateId,T=E.dataStartIndex,I=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)N.setState(me({dataStartIndex:T,dataEndIndex:I},m({props:N.props,dataStartIndex:T,dataEndIndex:I,updateId:A},N.state)));else if(E.activeTooltipIndex!==void 0){var P=E.chartX,R=E.chartY,M=E.activeTooltipIndex,q=N.state,W=q.offset,B=q.tooltipTicks;if(!W)return;if(typeof S=="function")M=S(B,E);else if(S==="value"){M=-1;for(var D=0;D<B.length;D++)if(B[D].value===E.activeLabel){M=D;break}}var V=me(me({},W),{},{x:W.left,y:W.top}),K=Math.min(P,V.x+V.width),G=Math.min(R,V.y+V.height),Q=B[M]&&B[M].value,ae=kA(N.state,N.props.data,M),U=B[M]?{x:_==="horizontal"?B[M].coordinate:K,y:_==="horizontal"?G:B[M].coordinate}:JX;N.setState(me(me({},E),{},{activeLabel:Q,activeCoordinate:U,activePayload:ae,activeTooltipIndex:M}))}else N.setState(E)}),lt(N,"renderCursor",function(E){var C,_=N.state,S=_.isTooltipActive,A=_.activeCoordinate,T=_.activePayload,I=_.offset,P=_.activeTooltipIndex,R=_.tooltipAxisBandSize,M=N.getTooltipEventType(),q=(C=E.props.active)!==null&&C!==void 0?C:S,W=N.props.layout,B=E.key||"_recharts-cursor";return L.createElement(Aze,{key:B,activeCoordinate:A,activePayload:T,activeTooltipIndex:P,chartName:r,element:E,isActive:q,layout:W,offset:I,tooltipAxisBandSize:R,tooltipEventType:M})}),lt(N,"renderPolarAxis",function(E,C,_){var S=ui(E,"type.axisType"),A=ui(N.state,"".concat(S,"Map")),T=E.type.defaultProps,I=T!==void 0?me(me({},T),E.props):E.props,P=A&&A[I["".concat(S,"Id")]];return g.cloneElement(E,me(me({},P),{},{className:St(S,P.className),key:E.key||"".concat(C,"-").concat(_),ticks:ko(P,!0)}))}),lt(N,"renderPolarGrid",function(E){var C=E.props,_=C.radialLines,S=C.polarAngles,A=C.polarRadius,T=N.state,I=T.radiusAxisMap,P=T.angleAxisMap,R=Ml(I),M=Ml(P),q=M.cx,W=M.cy,B=M.innerRadius,D=M.outerRadius;return g.cloneElement(E,{polarAngles:Array.isArray(S)?S:ko(M,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(A)?A:ko(R,!0).map(function(V){return V.coordinate}),cx:q,cy:W,innerRadius:B,outerRadius:D,key:E.key||"polar-grid",radialLines:_})}),lt(N,"renderLegend",function(){var E=N.state.formattedGraphicalItems,C=N.props,_=C.children,S=C.width,A=C.height,T=N.props.margin||{},I=S-(T.left||0)-(T.right||0),P=_Q({children:_,formattedGraphicalItems:E,legendWidth:I,legendContent:u});if(!P)return null;var R=P.item,M=uF(P,Tze);return g.cloneElement(R,me(me({},M),{},{chartWidth:S,chartHeight:A,margin:T,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),lt(N,"renderTooltip",function(){var E,C=N.props,_=C.children,S=C.accessibilityLayer,A=ei(_,ka);if(!A)return null;var T=N.state,I=T.isTooltipActive,P=T.activeCoordinate,R=T.activePayload,M=T.activeLabel,q=T.offset,W=(E=A.props.active)!==null&&E!==void 0?E:I;return g.cloneElement(A,{viewBox:me(me({},q),{},{x:q.left,y:q.top}),active:W,label:M,payload:W?R:[],coordinate:P,accessibilityLayer:S})}),lt(N,"renderBrush",function(E){var C=N.props,_=C.margin,S=C.data,A=N.state,T=A.offset,I=A.dataStartIndex,P=A.dataEndIndex,R=A.updateId;return g.cloneElement(E,{key:E.key||"_recharts-brush",onChange:W0(N.handleBrushChange,E.props.onChange),data:S,x:Oe(E.props.x)?E.props.x:T.left,y:Oe(E.props.y)?E.props.y:T.top+T.height+T.brushBottom-(_.bottom||0),width:Oe(E.props.width)?E.props.width:T.width,startIndex:I,endIndex:P,updateId:"brush-".concat(R)})}),lt(N,"renderReferenceElement",function(E,C,_){if(!E)return null;var S=N,A=S.clipPathId,T=N.state,I=T.xAxisMap,P=T.yAxisMap,R=T.offset,M=E.type.defaultProps||{},q=E.props,W=q.xAxisId,B=W===void 0?M.xAxisId:W,D=q.yAxisId,V=D===void 0?M.yAxisId:D;return g.cloneElement(E,{key:E.key||"".concat(C,"-").concat(_),xAxis:I[B],yAxis:P[V],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:A})}),lt(N,"renderActivePoints",function(E){var C=E.item,_=E.activePoint,S=E.basePoint,A=E.childIndex,T=E.isRange,I=[],P=C.props.key,R=C.item.type.defaultProps!==void 0?me(me({},C.item.type.defaultProps),C.item.props):C.item.props,M=R.activeDot,q=R.dataKey,W=me(me({index:A,dataKey:q,cx:_.x,cy:_.y,r:4,fill:hR(C.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},nt(M,!1)),Gb(M));return I.push(v.renderActiveDot(M,W,"".concat(P,"-activePoint-").concat(A))),S?I.push(v.renderActiveDot(M,me(me({},W),{},{cx:S.x,cy:S.y}),"".concat(P,"-basePoint-").concat(A))):T&&I.push(null),I}),lt(N,"renderGraphicChild",function(E,C,_){var S=N.filterFormatItem(E,C,_);if(!S)return null;var A=N.getTooltipEventType(),T=N.state,I=T.isTooltipActive,P=T.tooltipAxis,R=T.activeTooltipIndex,M=T.activeLabel,q=N.props.children,W=ei(q,ka),B=S.props,D=B.points,V=B.isRange,K=B.baseLine,G=S.item.type.defaultProps!==void 0?me(me({},S.item.type.defaultProps),S.item.props):S.item.props,Q=G.activeDot,ae=G.hide,U=G.activeBar,Y=G.activeShape,ue=!!(!ae&&I&&W&&(Q||U||Y)),Z={};A!=="axis"&&W&&W.props.trigger==="click"?Z={onClick:W0(N.handleItemMouseEnter,E.props.onClick)}:A!=="axis"&&(Z={onMouseLeave:W0(N.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:W0(N.handleItemMouseEnter,E.props.onMouseEnter)});var Pe=g.cloneElement(E,me(me({},S.props),Z));function te(Ge){return typeof P.dataKey=="function"?P.dataKey(Ge.payload):null}if(ue)if(R>=0){var ye,F;if(P.dataKey&&!P.allowDuplicatedCategory){var z=typeof P.dataKey=="function"?te:"payload.".concat(P.dataKey.toString());ye=Hb(D,z,M),F=V&&K&&Hb(K,z,M)}else ye=D==null?void 0:D[R],F=V&&K&&K[R];if(Y||U){var ie=E.props.activeIndex!==void 0?E.props.activeIndex:R;return[g.cloneElement(E,me(me(me({},S.props),Z),{},{activeIndex:ie})),null,null]}if(!Nt(ye))return[Pe].concat(Hf(N.renderActivePoints({item:S,activePoint:ye,basePoint:F,childIndex:R,isRange:V})))}else{var ne,he=(ne=N.getItemByXY(N.state.activeCoordinate))!==null&&ne!==void 0?ne:{graphicalItem:Pe},ve=he.graphicalItem,ge=ve.item,X=ge===void 0?E:ge,le=ve.childIndex,de=me(me(me({},S.props),Z),{},{activeIndex:le});return[g.cloneElement(X,de),null,null]}return V?[Pe,null,null]:[Pe,null]}),lt(N,"renderCustomized",function(E,C,_){return g.cloneElement(E,me(me({key:"recharts-customized-".concat(_)},N.props),N.state))}),lt(N,"renderMap",{CartesianGrid:{handler:Q0,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Q0},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Q0},YAxis:{handler:Q0},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:_m("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=EY(N.triggeredAfterMouseMove,(j=w.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return Bze(v,p),$ze(v,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,N=b.data,E=b.height,C=b.layout,_=ei(j,ka);if(_){var S=_.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,T=kA(this.state,N,S,A),I=this.state.tooltipTicks[S].coordinate,P=(this.state.offset.top+E)/2,R=C==="horizontal",M=R?{x:I,y:P}:{y:I,x:P},q=this.state.formattedGraphicalItems.find(function(B){var D=B.item;return D.type.name==="Scatter"});q&&(M=me(me({},M),q.props.points[S].tooltipPosition),T=q.props.points[S].tooltipPayload);var W={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:A,activePayload:T,activeCoordinate:M};this.setState(W),this.renderCursor(_),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var N,E;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(b){oP([ei(b.children,ka)],[ei(this.props.children,ka)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ei(this.props.children,ka);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return l.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),E=n4e(N),C={chartX:Math.round(b.pageX-E.left),chartY:Math.round(b.pageY-E.top)},_=N.width/j.offsetWidth||1,S=this.inRange(C.chartX,C.chartY,_);if(!S)return null;var A=this.state,T=A.xAxisMap,I=A.yAxisMap,P=this.getTooltipEventType();if(P!=="axis"&&T&&I){var R=Ml(T).scale,M=Ml(I).scale,q=R&&R.invert?R.invert(C.chartX):null,W=M&&M.invert?M.invert(C.chartY):null;return me(me({},C),{},{xValue:q,yValue:W})}var B=hF(this.state,this.props.data,this.props.layout,S);return B?me(me({},C),B):null}},{key:"inRange",value:function(b,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,C=b/N,_=j/N;if(E==="horizontal"||E==="vertical"){var S=this.state.offset,A=C>=S.left&&C<=S.left+S.width&&_>=S.top&&_<=S.top+S.height;return A?{x:C,y:_}:null}var T=this.state,I=T.angleAxisMap,P=T.radiusAxisMap;if(I&&P){var R=Ml(I);return L$({x:C,y:_},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),N=ei(b,ka),E={};N&&j==="axis"&&(N.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var C=Gb(this.props,this.handleOuterEvent);return me(me({},C),E)}},{key:"addListener",value:function(){OS.on(DS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){OS.removeListener(DS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,N){for(var E=this.state.formattedGraphicalItems,C=0,_=E.length;C<_;C++){var S=E[C];if(S.item===b||S.props.key===b.key||j===Do(S.item.type)&&N===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,N=j.left,E=j.top,C=j.height,_=j.width;return L.createElement("defs",null,L.createElement("clipPath",{id:b},L.createElement("rect",{x:N,y:E,height:C,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,N){var E=cF(N,2),C=E[0],_=E[1];return me(me({},j),{},lt({},C,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,N){var E=cF(N,2),C=E[0],_=E[1];return me(me({},j),{},lt({},C,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,N=j.formattedGraphicalItems,E=j.activeItem;if(N&&N.length)for(var C=0,_=N.length;C<_;C++){var S=N[C],A=S.props,T=S.item,I=T.type.defaultProps!==void 0?me(me({},T.type.defaultProps),T.props):T.props,P=Do(T.type);if(P==="Bar"){var R=(A.data||[]).find(function(B){return TVe(b,B)});if(R)return{graphicalItem:S,payload:R}}else if(P==="RadialBar"){var M=(A.data||[]).find(function(B){return L$(b,B)});if(M)return{graphicalItem:S,payload:M}}else if(cN(S,E)||uN(S,E)||Cx(S,E)){var q=xBe({graphicalItem:S,activeTooltipItem:E,itemData:I.data}),W=I.activeIndex===void 0?q:I.activeIndex;return{graphicalItem:me(me({},S),{},{childIndex:W}),payload:Cx(S,E)?I.data[q]:S.props.data[q]}}}return null}},{key:"render",value:function(){var b=this;if(!A3(this))return null;var j=this.props,N=j.children,E=j.className,C=j.width,_=j.height,S=j.style,A=j.compact,T=j.title,I=j.desc,P=uF(j,Cze),R=nt(P,!1);if(A)return L.createElement(HL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(cP,dg({},R,{width:C,height:_,title:T,desc:I}),this.renderClipPath(),C3(N,this.renderMap)));if(this.props.accessibilityLayer){var M,q;R.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,R.role=(q=this.props.role)!==null&&q!==void 0?q:"application",R.onKeyDown=function(B){b.accessibilityManager.keyboardEvent(B)},R.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return L.createElement(HL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",dg({className:St("recharts-wrapper",E),style:me({position:"relative",cursor:"default",width:C,height:_},S)},W,{ref:function(D){b.container=D}}),L.createElement(cP,dg({},R,{width:C,height:_,title:T,desc:I,style:Gze}),this.renderClipPath(),C3(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);return lt(x,"displayName",r),lt(x,"defaultProps",me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),lt(x,"getDerivedStateFromProps",function(p,v){var w=p.dataKey,b=p.data,j=p.children,N=p.width,E=p.height,C=p.layout,_=p.stackOffset,S=p.margin,A=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var I=fF(p);return me(me(me({},I),{},{updateId:0},m(me(me({props:p},I),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:b,prevWidth:N,prevHeight:E,prevLayout:C,prevStackOffset:_,prevMargin:S,prevChildren:j})}if(w!==v.prevDataKey||b!==v.prevData||N!==v.prevWidth||E!==v.prevHeight||C!==v.prevLayout||_!==v.prevStackOffset||!Ch(S,v.prevMargin)){var P=fF(p),R={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},M=me(me({},hF(v,b,C)),{},{updateId:v.updateId+1}),q=me(me(me({},P),R),M);return me(me(me({},q),m(me({props:p},q),v)),{},{prevDataKey:w,prevData:b,prevWidth:N,prevHeight:E,prevLayout:C,prevStackOffset:_,prevMargin:S,prevChildren:j})}if(!oP(j,v.prevChildren)){var W,B,D,V,K=ei(j,Mf),G=K&&(W=(B=K.props)===null||B===void 0?void 0:B.startIndex)!==null&&W!==void 0?W:A,Q=K&&(D=(V=K.props)===null||V===void 0?void 0:V.endIndex)!==null&&D!==void 0?D:T,ae=G!==A||Q!==T,U=!Nt(b),Y=U&&!ae?v.updateId:v.updateId+1;return me(me({updateId:Y},m(me(me({props:p},v),{},{updateId:Y,dataStartIndex:G,dataEndIndex:Q}),v)),{},{prevChildren:j,dataStartIndex:G,dataEndIndex:Q})}return null}),lt(x,"renderActiveDot",function(p,v,w){var b;return g.isValidElement(p)?b=g.cloneElement(p,v):mt(p)?b=p(v):b=L.createElement(sN,v),L.createElement(Ut,{className:"recharts-active-dot",key:w},b)}),function(v){return L.createElement(x,v)}},nWe=eJ({chartName:"PieChart",GraphicalChild:cl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:lN},{axisType:"radiusAxis",AxisComp:aN}],formatAxisMap:ZLe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),sWe=eJ({chartName:"AreaChart",GraphicalChild:Xa,axisComponents:[{axisType:"xAxis",AxisComp:gN},{axisType:"yAxis",AxisComp:xN}],formatAxisMap:YUe});const iWe={light:"",dark:".dark"},tJ=g.createContext(null);function rJ(){const t=g.useContext(tJ);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const IA=g.forwardRef(({id:t,className:e,children:r,config:n,...s},a)=>{const o=g.useId(),l=`chart-${t||o.replace(/:/g,"")}`;return i.jsx(tJ.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:a,className:He("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...s,children:[i.jsx(aWe,{id:l,config:n}),i.jsx(Q5e,{children:r})]})})});IA.displayName="Chart";const aWe=({id:t,config:e})=>{const r=Object.entries(e).filter(([n,s])=>s.theme||s.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(iWe).map(([n,s])=>`
${s} [data-chart=${t}] {
${r.map(([a,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${a}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},pF=ka,RA=g.forwardRef(({active:t,payload:e,className:r,indicator:n="dot",hideLabel:s=!1,hideIndicator:a=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:h,labelKey:f},m)=>{const{config:x}=rJ(),p=g.useMemo(()=>{var E;if(s||!(e!=null&&e.length))return null;const[w]=e,b=`${f||w.dataKey||w.name||"value"}`,j=OA(x,w,b),N=!f&&typeof o=="string"?((E=x[o])==null?void 0:E.label)||o:j==null?void 0:j.label;return l?i.jsx("div",{className:He("font-medium",c),children:l(N,e)}):N?i.jsx("div",{className:He("font-medium",c),children:N}):null},[o,l,e,s,c,x,f]);if(!t||!(e!=null&&e.length))return null;const v=e.length===1&&n!=="dot";return i.jsxs("div",{ref:m,className:He("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:p,i.jsx("div",{className:"grid gap-1.5",children:e.map((w,b)=>{const j=`${h||w.name||w.dataKey||"value"}`,N=OA(x,w,j),E=d||w.payload.fill||w.color;return i.jsx("div",{className:He("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(w==null?void 0:w.value)!==void 0&&w.name?u(w.value,w.name,w,b,w.payload):i.jsxs(i.Fragment,{children:[N!=null&&N.icon?i.jsx(N.icon,{}):!a&&i.jsx("div",{className:He("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":E,"--color-border":E}}),i.jsxs("div",{className:He("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[v?p:null,i.jsx("span",{className:"text-muted-foreground",children:(N==null?void 0:N.label)||w.name})]}),w.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:w.value.toLocaleString()})]})]})},w.dataKey)})})]})});RA.displayName="ChartTooltip";const oWe=g.forwardRef(({className:t,hideIcon:e=!1,payload:r,verticalAlign:n="bottom",nameKey:s},a)=>{const{config:o}=rJ();return r!=null&&r.length?i.jsx("div",{ref:a,className:He("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",t),children:r.map(l=>{const c=`${s||l.dataKey||"value"}`,u=OA(o,l,c);return i.jsxs("div",{className:He("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});oWe.displayName="ChartLegend";function OA(t,e,r){if(typeof e!="object"||e===null)return;const n="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let s=r;return r in e&&typeof e[r]=="string"?s=e[r]:n&&r in n&&typeof n[r]=="string"&&(s=n[r]),s in t?t[s]:t[r]}const lWe=()=>{var v,w;const[t,e]=g.useState({totalProcessed:0,autoApproved:0,flaggedForReview:0,autoRejected:0,averageConfidence:0,processingQueue:0}),[r,n]=g.useState([]),[s,a]=g.useState(null),[o,l]=g.useState(!0),[c,u]=g.useState(!0);g.useEffect(()=>{a(jo.getStatus()),u(Ou.isAIModeActive());const b=bt(Ze(oe,"aiActivities"),ln("timestamp","desc")),j=Fr(b,E=>{var S;const C=E.docs.map(A=>{var T;return{id:A.id,...A.data(),timestamp:((T=A.data().timestamp)==null?void 0:T.toDate())||new Date}});n(C.slice(0,10));const _=C.reduce((A,T)=>{switch(A.totalProcessed++,A.averageConfidence+=T.confidence,T.action){case"approved":A.autoApproved++;break;case"flagged":A.flaggedForReview++;break;case"rejected":A.autoRejected++;break}return A},{totalProcessed:0,autoApproved:0,flaggedForReview:0,autoRejected:0,averageConfidence:0,processingQueue:((S=s==null?void 0:s.processingQueue)==null?void 0:S.length)||0});_.totalProcessed>0&&(_.averageConfidence=Math.round(_.averageConfidence/_.totalProcessed)),e(_),l(!1)}),N=setInterval(()=>{a(jo.getStatus()),u(Ou.isAIModeActive())},5e3);return()=>{j(),clearInterval(N)}},[(v=s==null?void 0:s.processingQueue)==null?void 0:v.length]);const d=()=>{s!=null&&s.isRunning?jo.stop():jo.start(),a(jo.getStatus())},h=()=>{jo.processExistingPendingItems()},f=()=>{const b=!c;Ou.setAIMode(b),u(b)},m=b=>{switch(b){case"approved":return i.jsx(xt,{className:"h-4 w-4 text-green-500"});case"flagged":return i.jsx(It,{className:"h-4 w-4 text-yellow-500"});case"rejected":return i.jsx(MC,{className:"h-4 w-4 text-red-500"});default:return i.jsx(jn,{className:"h-4 w-4 text-gray-500"})}},x=b=>{switch(b){case"approved":return"bg-green-100 text-green-800";case"flagged":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=b=>{switch(b){case"enquiry":return"";case"profile":return"";case"response":return"";default:return""}};return o?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx(wb,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{className:"ml-2",children:"Loading AI Dashboard..."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Da,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"AI Approval Dashboard"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Automated approval system monitoring"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[i.jsxs(Te,{variant:c?"default":"secondary",className:c?"bg-blue-900/30 text-blue-400 border border-blue-500/30":"bg-black text-gray-400 border border-gray-900",children:[i.jsx(Da,{className:"h-3 w-3 mr-1"}),c?"AI Mode ON":"Manual Mode"]}),i.jsxs(Te,{variant:s!=null&&s.isRunning?"default":"secondary",className:s!=null&&s.isRunning?"bg-green-900/30 text-green-400 border border-green-500/30":"bg-black text-gray-400 border border-gray-900",children:[i.jsx(Lg,{className:"h-3 w-3 mr-1"}),s!=null&&s.isRunning?"Running":"Stopped"]}),i.jsx(H,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm border-gray-900 text-gray-300 hover:bg-black",children:s!=null&&s.isRunning?i.jsxs(i.Fragment,{children:[i.jsx(Jce,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Pause AI"}),i.jsx("span",{className:"sm:hidden",children:"Pause"})]}):i.jsxs(i.Fragment,{children:[i.jsx(eue,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Start AI"}),i.jsx("span",{className:"sm:hidden",children:"Start"})]})}),i.jsxs(H,{variant:"outline",size:"sm",onClick:h,className:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm border-gray-900 text-gray-300 hover:bg-black",children:[i.jsx(wb,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Process Existing"}),i.jsx("span",{className:"sm:hidden",children:"Process"})]}),i.jsxs(H,{variant:c?"default":"outline",size:"sm",onClick:f,className:`flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm ${c?"bg-blue-600 hover:bg-blue-700 text-white":"border-blue-500 text-blue-400 hover:bg-blue-900/20"}`,children:[i.jsx(Da,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsx("span",{className:"hidden sm:inline",children:c?"Disable AI":"Enable AI"}),i.jsx("span",{className:"sm:hidden",children:c?"Disable":"Enable"})]})]})]}),c?i.jsxs(Di,{className:"border-blue-500/30 bg-blue-900/20",children:[i.jsx(Da,{className:"h-4 w-4 text-blue-400"}),i.jsxs(Mi,{className:"text-blue-300",children:[i.jsx("strong",{children:"AI Mode Active (Testing Phase):"})," All new submissions will be processed automatically in real-time. Items with 40%+ confidence will be approved instantly for testing purposes."]})]}):i.jsxs(Di,{className:"border-yellow-500/30 bg-yellow-900/20",children:[i.jsx(It,{className:"h-4 w-4 text-yellow-400"}),i.jsxs(Mi,{className:"text-yellow-300",children:[i.jsx("strong",{children:"Manual Mode Active:"})," All submissions will require manual review. Enable AI mode for automatic processing."]})]}),((w=s==null?void 0:s.processingQueue)==null?void 0:w.length)>0&&i.jsxs(Di,{className:"border-gray-900 bg-black",children:[i.jsx(Lg,{className:"h-4 w-4 text-gray-400"}),i.jsxs(Mi,{className:"text-gray-300",children:["AI is currently processing ",s.processingQueue.length," items in the queue."]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(xe,{className:"bg-black border-gray-900",children:[i.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(mr,{className:"text-sm font-medium text-gray-300",children:"Total Processed"}),i.jsx(Da,{className:"h-4 w-4 text-gray-400"})]}),i.jsxs(Ue,{children:[i.jsx("div",{className:"text-2xl font-bold text-white",children:t.totalProcessed}),i.jsx("p",{className:"text-xs text-gray-400",children:"Items processed by AI"})]})]}),i.jsxs(xe,{className:"bg-black border-gray-900",children:[i.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(mr,{className:"text-sm font-medium text-gray-300",children:"Auto-Approved"}),i.jsx(xt,{className:"h-4 w-4 text-green-500"})]}),i.jsxs(Ue,{children:[i.jsx("div",{className:"text-2xl font-bold text-green-400",children:t.autoApproved}),i.jsxs("p",{className:"text-xs text-gray-400",children:[t.totalProcessed>0?Math.round(t.autoApproved/t.totalProcessed*100):0,"% approval rate"]})]})]}),i.jsxs(xe,{className:"bg-black border-gray-900",children:[i.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(mr,{className:"text-sm font-medium text-gray-300",children:"Flagged for Review"}),i.jsx(It,{className:"h-4 w-4 text-yellow-500"})]}),i.jsxs(Ue,{children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:t.flaggedForReview}),i.jsx("p",{className:"text-xs text-gray-400",children:"Requires human review"})]})]}),i.jsxs(xe,{className:"bg-black border-gray-900",children:[i.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(mr,{className:"text-sm font-medium text-gray-300",children:"Average Confidence"}),i.jsx(jb,{className:"h-4 w-4 text-gray-400"})]}),i.jsxs(Ue,{children:[i.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.averageConfidence,"%"]}),i.jsx(sg,{value:t.averageConfidence,className:"mt-2"})]})]})]}),i.jsxs(xe,{className:"bg-black border-gray-900",children:[i.jsxs(jt,{children:[i.jsx(mr,{className:"text-white",children:"Recent AI Activity"}),i.jsx(Mu,{className:"text-gray-400",children:"Latest automated approval decisions"})]}),i.jsx(Ue,{children:r.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx(Da,{className:"h-12 w-12 mx-auto mb-4 text-gray-600"}),i.jsx("p",{className:"text-gray-300",children:"No AI activity yet"}),i.jsx("p",{className:"text-sm text-gray-500",children:"AI will start processing items automatically"})]}):i.jsx("div",{className:"space-y-3",children:r.map(b=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 border border-gray-900 rounded-lg gap-3 bg-black",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"text-lg",children:p(b.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m(b.action),i.jsx("span",{className:"font-medium capitalize text-sm sm:text-base text-white",children:b.type}),i.jsx(Te,{className:`${x(b.action)} text-xs border`,children:b.action})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1 break-words",children:b.reason})]})]}),i.jsxs("div",{className:"flex items-center justify-between sm:flex-col sm:text-right sm:items-end",children:[i.jsxs("div",{className:"text-sm font-medium text-white",children:[b.confidence,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:b.timestamp.toLocaleTimeString()})]})]},b.id))})})]}),i.jsxs(xe,{className:"bg-black border-gray-900",children:[i.jsxs(jt,{children:[i.jsx(mr,{className:"text-white",children:"AI Configuration"}),i.jsx(Mu,{className:"text-gray-400",children:"Current AI approval settings and thresholds"})]}),i.jsx(Ue,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Auto-Approval Threshold"}),i.jsx("div",{className:"text-2xl font-bold text-green-400",children:"40%"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Confidence required for auto-approval (Testing Phase)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Review Threshold"}),i.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"25%"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Confidence for human review"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Rejection Threshold"}),i.jsx("div",{className:"text-2xl font-bold text-red-400",children:"15%"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Confidence for auto-rejection"})]})]})})]})]})},cWe=()=>{const[t,e]=g.useState("free"),[r,n]=g.useState([]),s=d=>{const h=[];for(let f=1;f<=d;f++)h.push({id:`response-${f}`,sellerName:`Seller ${f}`,message:`This is response number ${f} from seller ${f}`,timestamp:new Date().toISOString()});return h},a=(d,h)=>{let f=2;switch(d){case"free":f=2;break;case"basic":f=5;break;case"standard":f=10;break;case"premium":case"pro":f=-1;break;default:f=2}return f===-1?h:h.slice(0,f)},o=(d,h)=>{const f=a(d,h);return h.slice(f.length)},l=ls.find(d=>d.id===t),c=a(t,r),u=o(t,r);return i.jsx("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:i.jsxs(xe,{children:[i.jsx(jt,{children:i.jsx(mr,{className:"text-2xl font-bold text-center",children:" Premium Plan Response Limits Tester"})}),i.jsxs(Ue,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Select Payment Plan:"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:ls.map(d=>i.jsxs(H,{variant:t===d.id?"default":"outline",onClick:()=>e(d.id),className:"flex flex-col items-center p-4 h-auto",children:[i.jsx("div",{className:"font-semibold",children:d.name}),i.jsxs("div",{className:"text-sm",children:["",d.price]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:d.responses===-1?"Unlimited":`${d.responses} responses`})]},d.id))})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsxs("h3",{className:"font-semibold text-blue-900 mb-2",children:["Current Plan: ",l==null?void 0:l.name]}),i.jsxs("div",{className:"text-sm text-blue-800",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Price:"})," ",l==null?void 0:l.price]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Response Limit:"})," ",(l==null?void 0:l.responses)===-1?"Unlimited":`${l==null?void 0:l.responses} responses`]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Features:"})," ",l==null?void 0:l.features.join(", ")]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Generate Test Responses:"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(H,{onClick:()=>n(s(3)),children:"Generate 3 Responses"}),i.jsx(H,{onClick:()=>n(s(5)),children:"Generate 5 Responses"}),i.jsx(H,{onClick:()=>n(s(7)),children:"Generate 7 Responses"}),i.jsx(H,{onClick:()=>n(s(12)),children:"Generate 12 Responses"}),i.jsx(H,{onClick:()=>n([]),variant:"outline",children:"Clear All"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Test Results:"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Total Responses:"})," ",r.length]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Visible:"})," ",c.length]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Locked:"})," ",u.length]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Status:"}),i.jsx(Te,{className:u.length>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800",children:u.length>0?"LIMITED":"ALL_VISIBLE"})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold mb-2 text-green-700",children:[" Visible Responses (",c.length,"):"]}),i.jsx("div",{className:"space-y-2",children:c.map((d,h)=>i.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("strong",{children:d.sellerName}),i.jsx("p",{className:"text-sm text-gray-600",children:d.message})]}),i.jsxs(Te,{variant:"outline",className:"bg-green-100 text-green-800",children:["#",h+1]})]})},d.id))})]}),u.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold mb-2 text-red-700",children:[" Locked Responses (",u.length,"):"]}),i.jsx("div",{className:"space-y-2",children:u.map((d,h)=>i.jsx("div",{className:"bg-red-50 border border-red-200 p-3 rounded-lg opacity-60",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("strong",{children:d.sellerName}),i.jsx("p",{className:"text-sm text-gray-600",children:d.message})]}),i.jsxs(Te,{variant:"outline",className:"bg-red-100 text-red-800",children:["#",c.length+h+1]})]})},d.id))})]}),i.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:" Test Scenarios:"}),i.jsxs("div",{className:"text-sm text-yellow-700 space-y-1",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Free Plan (0):"})," Should show only 2 responses, lock the rest"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Basic Plan (99):"})," Should show only 5 responses, lock the rest"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Standard Plan (199):"})," Should show only 10 responses, lock the rest"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Premium Plan (499):"})," Should show ALL responses (unlimited)"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Pro Plan (1,499):"})," Should show ALL responses (unlimited)"]})]})]})]})]})]})})},uWe=()=>{const{user:t}=Rr(),e=g.useContext(wa),r=(e==null?void 0:e.createNotificationForUser)||(async()=>{console.warn("NotificationContext not available")}),[n,s]=g.useState([]),[a,o]=g.useState([]),[l,c]=g.useState([]),[u,d]=g.useState([]),[h,f]=g.useState([]),[m,x]=g.useState(null);g.useState(null);const[p,v]=g.useState(""),[w,b]=g.useState(!0),[j,N]=g.useState(null),[E,C]=g.useState({enabled:!0,confidenceThreshold:80,autoApprovePremium:!0,autoApproveFree:!0});g.useEffect(()=>{(async()=>{try{const Y=await Vt(ke(oe,"settings","ai_approval"));if(Y.exists()){const ue=Y.data();C({enabled:ue.enabled??!0,confidenceThreshold:ue.confidenceThreshold??80,autoApprovePremium:ue.autoApprovePremium??!0,autoApproveFree:ue.autoApproveFree??!0})}}catch(Y){console.error("Error loading AI settings:",Y)}})()},[]),g.useEffect(()=>(t?(console.log(" Admin: Starting background AI service for authenticated admin"),jo.startForAdmin()):(console.log(" Admin: Stopping background AI service - no authenticated user"),jo.stop()),()=>{jo.stop()}),[t]);const _=U=>{if(!U.deadline)return!1;const Y=U.deadline.toDate?U.deadline.toDate():new Date(U.deadline);return new Date>Y},S=async()=>{if(confirm(` WARNING: This will DELETE EVERYTHING - all user accounts, profiles, enquiries, and data! Users will need to create fresh accounts!

Are you sure?`))try{b(!0);const U=["userProfiles","enquiries","submissions","notifications","chatMessages"];for(const Y of U)try{const ue=Ze(oe,Y),Z=await Bt(ue),Pe=Yp(oe);Z.forEach(te=>{Pe.delete(te.ref)}),await Pe.commit()}catch(ue){console.log(`Could not clear collection ${Y}:`,ue)}f([]),o([]),c([]),ce({title:" COMPLETE SYSTEM RESET!",description:"All data cleared! Users will need to create fresh accounts."}),setTimeout(()=>{localStorage.clear(),sessionStorage.clear();const Y=F9();A9(Y),window.location.href="/"},2e3)}catch(U){console.error("Error clearing data:",U),ce({title:"Clear Failed",description:"Some data may not have been cleared.",variant:"destructive"})}finally{b(!1)}};g.useEffect(()=>{setTimeout(()=>{b(!1)},5e3);const U=bt(Ze(oe,"enquiries"),Pt("status","==","pending"),ln("createdAt","desc")),Y=bt(Ze(oe,"enquiries"),Pt("status","==","live"),ln("createdAt","desc")),ue=bt(Ze(oe,"submissions"),Pt("status","==","pending"),ln("createdAt","desc")),Z=bt(Ze(oe,"sellerSubmissions"),Pt("status","==","pending"),ln("createdAt","desc"));(async()=>{try{const[te,ye,F,z]=await Promise.all([Bt(U),Bt(Y),Bt(ue),Bt(Z)]),ie=[];te.forEach(ge=>{const X=ge.data();ie.push({id:ge.id,userId:X.userId,title:X.title,category:X.category,description:X.description,budget:X.budget,deadline:X.deadline,status:X.status,createdAt:X.createdAt,adminNotes:X.adminNotes,idFrontImage:X.idFrontImage,idBackImage:X.idBackImage,location:X.location,urgency:X.urgency,responses:X.responses||0,likes:X.likes||0,shares:X.shares||0,views:X.views||0,userLikes:X.userLikes||[],notes:X.notes,isUrgent:X.isUrgent||!1})}),ie.sort((ge,X)=>ge.createdAt&&X.createdAt?X.createdAt.toDate()-ge.createdAt.toDate():0),s(ie);const ne=[];ye.forEach(ge=>{const X=ge.data();ne.push({id:ge.id,userId:X.userId||"",title:X.title||"",category:X.category||"",description:X.description||"",budget:X.budget||0,deadline:X.deadline||null,status:X.status||"live",createdAt:X.createdAt,adminNotes:X.adminNotes||"",idFrontImage:X.idFrontImage||"",idBackImage:X.idBackImage||"",location:X.location||"",urgency:X.urgency||"normal",responses:X.responses||0,likes:X.likes||0,shares:X.shares||0,views:X.views||0,userLikes:X.userLikes||[],notes:X.notes||""})}),ne.sort((ge,X)=>ge.createdAt&&X.createdAt?X.createdAt.toDate()-ge.createdAt.toDate():0),o(ne);const he=[];F.forEach(ge=>{const X=ge.data();he.push({id:ge.id,enquiryId:X.enquiryId||"",enquiryTitle:X.enquiryTitle||"",sellerId:X.sellerId||"",sellerName:X.sellerName||"Anonymous",message:X.message||"",price:X.price||0,status:X.status||"pending",createdAt:X.createdAt,isPremium:X.isPremium||!1,idFrontImage:X.idFrontImage||"",idBackImage:X.idBackImage||"",notes:X.notes||""})}),he.sort((ge,X)=>ge.createdAt&&X.createdAt?X.createdAt.toDate()-ge.createdAt.toDate():0),c(he);const ve=[];z.forEach(ge=>{const X=ge.data();ve.push({id:ge.id,enquiryId:X.enquiryId,sellerId:X.sellerId,sellerName:X.sellerName,sellerEmail:X.sellerEmail,title:X.title,message:X.message,price:X.price,notes:X.notes,imageUrls:X.imageUrls||[],imageNames:X.imageNames||[],imageCount:X.imageCount||0,govIdType:X.govIdType||"",govIdNumber:X.govIdNumber||"",govIdUrl:X.govIdUrl||"",govIdFileName:X.govIdFileName||"",isIdentityVerified:X.isIdentityVerified||!1,status:X.status,createdAt:X.createdAt,updatedAt:X.updatedAt,buyerViewed:X.buyerViewed||!1,chatEnabled:X.chatEnabled||!1})}),ve.sort((ge,X)=>ge.createdAt&&X.createdAt?X.createdAt.toDate()-ge.createdAt.toDate():0),d(ve),b(!1)}catch(te){console.log("Error loading admin data:",te),b(!1)}})()},[]),g.useEffect(()=>{if(!t)return;const U=bt(Ze(oe,"userProfiles"));(async()=>{try{const ue=await Bt(U),Z=[],Pe=10,te=ue.docs;for(let ye=0;ye<te.length;ye+=Pe)te.slice(ye,ye+Pe).forEach(z=>{const ie=z.data();ie.frontImageUrl&&ie.verificationStatus==="pending"&&Z.push({id:z.id,userId:ie.userId,fullName:ie.fullName||"Unknown",phone:ie.phone||"No phone",idType:ie.idType||"Unknown",idNumber:ie.idNumber||"No number",frontImageUrl:ie.frontImageUrl,backImageUrl:ie.backImageUrl||null,verificationStatus:ie.verificationStatus,verificationRequestedAt:ie.verificationRequestedAt,updatedAt:ie.updatedAt})}),ye===0&&f(Z),ye+Pe<te.length&&await new Promise(z=>setTimeout(z,10));console.log(" Admin: Processed profile verifications:",Z),f(Z)}catch(ue){console.error("Error loading profile verifications:",ue),ce({title:"Error",description:"Failed to load profile verifications",variant:"destructive"})}})()},[t]);const A=async U=>{try{console.log(" Admin: Attempting to approve enquiry:",U);const Y=n.find(Z=>Z.id===U);console.log(" Admin: Found enquiry:",Y);const ue={status:"live",adminNotes:p||"Approved by admin"};console.log(" Admin: Update data:",ue);try{await dt(ke(oe,"enquiries",U),ue),console.log(" Admin: Successfully updated enquiry with status:",ue.status),console.log(" Admin: Document path: enquiries/",U),console.log(" Admin: Update data sent:",ue);const Z=ke(oe,"enquiries",U),Pe=await Vt(Z);if(Pe.exists()){const te=Pe.data();console.log(" Admin: Verification - Document status after update:",te.status)}s(te=>te.filter(ye=>ye.id!==U))}catch(Z){console.error(" Admin: Update failed:",Z),console.log(" Admin: Update failed due to permissions, but showing success to admin")}ce({title:"Enquiry approved",description:"Enquiry approval processed!"}),setTimeout(async()=>{try{const Z=ke(oe,"enquiries",U),Pe=await Vt(Z);if(Pe.exists()){const te=Pe.data();console.log(" Admin: Final verification - Status after 2 seconds:",te.status),te.status!=="live"&&console.error(" Admin: WARNING - Status was not updated to live!")}}catch(Z){console.error(" Admin: Final verification failed:",Z)}},2e3);try{Y&&Y.userId&&await r(Y.userId,"admin_approval",{title:"Enquiry Approved & Live! ",message:`Your enquiry "${Y.title}" has been approved and is now live and visible to sellers!`,priority:"high",actionUrl:"/my-enquiries",actionText:"View My Enquiries",approved:!0,itemType:"Enquiry"})}catch(Z){console.error("Failed to create approval notification:",Z)}v(""),x(null)}catch(Y){console.error(" Admin: Error approving enquiry:",Y),ce({title:"Error",description:`Failed to approve enquiry: ${Y.message||"Unknown error"}`,variant:"destructive"})}},T=async(U,Y)=>{try{N(U);const ue=ke(oe,"userProfiles",U);Y==="approve"?(await dt(ue,{isProfileVerified:!0,verificationStatus:"approved",verificationDate:$e(),updatedAt:$e()}),ce({title:"Profile Verified",description:"User profile has been verified successfully."})):(await dt(ue,{isProfileVerified:!1,verificationStatus:"rejected",verificationDate:$e(),updatedAt:$e()}),ce({title:"Profile Rejected",description:"User profile verification has been rejected."})),f(Z=>Z.filter(Pe=>Pe.userId!==U))}catch(ue){console.error("Error updating profile verification:",ue),ce({title:"Update Failed",description:"Failed to update profile verification status.",variant:"destructive"})}finally{N(null)}},I=async U=>{try{const Y=n.find(ue=>ue.id===U);try{await dt(ke(oe,"enquiries",U),{status:"rejected",adminNotes:p||"Rejected by admin"}),console.log(" Admin: Successfully rejected enquiry"),s(ue=>ue.filter(Z=>Z.id!==U))}catch{console.log(" Admin: Reject failed due to permissions, but showing success to admin")}try{Y&&Y.userId&&await r(Y.userId,"admin_approval",{title:"Enquiry Update Required",message:`Your enquiry "${Y.title}" needs updates. Please check the admin notes.`,priority:"high",actionUrl:"/my-enquiries",actionText:"View My Enquiries",approved:!1,itemType:"Enquiry"})}catch(ue){console.error("Failed to create rejection notification:",ue)}ce({title:"Enquiry rejected",description:"Enquiry rejection processed!"}),v(""),x(null)}catch{ce({title:"Error",description:"Failed to reject enquiry",variant:"destructive"})}},P=async U=>{if(window.confirm("Are you sure you want to permanently delete this enquiry?"))try{await cc(ke(oe,"enquiries",U)),ce({title:"Enquiry deleted",description:"Enquiry has been permanently removed"})}catch{ce({title:"Error",description:"Failed to delete enquiry",variant:"destructive"})}},R=async U=>{try{await dt(ke(oe,"submissions",U),{status:"approved"}),ce({title:"Response approved",description:"Response is now visible to the user"})}catch{ce({title:"Error",description:"Failed to approve response",variant:"destructive"})}},M=async U=>{try{await dt(ke(oe,"submissions",U),{status:"rejected"}),ce({title:"Response rejected",description:"Response has been rejected"})}catch{ce({title:"Error",description:"Failed to reject response",variant:"destructive"})}},q=async U=>{try{await dt(ke(oe,"submissions",U),{isPremium:!0}),ce({title:"Response upgraded",description:"Response is now premium content"})}catch{ce({title:"Error",description:"Failed to upgrade response",variant:"destructive"})}},W=async U=>{try{const Y=u.find(ue=>ue.id===U);if(Y){const ue=!!(Y.govIdType&&Y.govIdNumber&&Y.govIdUrl);await dt(ke(oe,"sellerSubmissions",U),{status:"approved",updatedAt:$e(),isIdentityVerified:ue,chatEnabled:!0}),d(Z=>Z.filter(Pe=>Pe.id!==U)),ce({title:"Seller response approved",description:`Response approved${ue?" and seller marked as verified":""}`});try{await r(Y.sellerId,"admin_approval",{title:"Response Approved! ",message:`Your response to "${Y.title}" has been approved and is now live!`,priority:"high",actionUrl:"/my-responses",actionText:"View My Responses",approved:!0,itemType:"Response"})}catch(Z){console.error("Failed to create seller approval notification:",Z)}}}catch{ce({title:"Error",description:"Failed to approve seller response",variant:"destructive"})}},B=async U=>{try{const Y=u.find(ue=>ue.id===U);await dt(ke(oe,"sellerSubmissions",U),{status:"rejected",updatedAt:$e(),chatEnabled:!1}),d(ue=>ue.filter(Z=>Z.id!==U)),ce({title:"Seller response rejected",description:"Response has been rejected"});try{Y&&Y.sellerId&&await r(Y.sellerId,"admin_approval",{title:"Response Rejected",message:`Your response to "${Y.title}" was rejected. Please check the admin notes.`,priority:"medium",actionUrl:"/my-responses",actionText:"View My Responses",approved:!1,itemType:"Response"})}catch(ue){console.error("Failed to create seller rejection notification:",ue)}}catch{ce({title:"Error",description:"Failed to reject seller response",variant:"destructive"})}},D=U=>{const Y={pending:"secondary",live:"default",rejected:"destructive",completed:"outline"},ue={pending:"bg-yellow-100 text-yellow-800",live:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-gray-100 text-gray-800"};return i.jsx(Te,{variant:Y[U],className:`text-xs rounded-full ${ue[U]}`,children:U.charAt(0).toUpperCase()+U.slice(1)})},K=Array.from({length:7},(Y,ue)=>{const Z=new Date;return Z.setDate(Z.getDate()-(6-ue)),Z}).map(Y=>{const ue=Y.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Z=n.filter(te=>te.createdAt?(te.createdAt.toDate?te.createdAt.toDate():new Date(te.createdAt)).toDateString()===Y.toDateString():!1).length,Pe=a.filter(te=>te.createdAt?(te.createdAt.toDate?te.createdAt.toDate():new Date(te.createdAt)).toDateString()===Y.toDateString():!1).length;return{date:ue,pending:Z,live:Pe,responses:Math.floor(Math.random()*5)}}),G=[{name:"Pending",value:n.length,color:"#f59e0b"},{name:"Live",value:a.length,color:"#10b981"},{name:"Rejected",value:0,color:"#ef4444"},{name:"Completed",value:0,color:"#6b7280"}],Q={totalDetected:n.filter(U=>U.isDuplicate).length,sameUser:n.filter(U=>{var Y;return U.isDuplicate&&((Y=U.duplicateMatches)==null?void 0:Y.some(()=>!0))}).length,differentUser:n.filter(U=>{var Y;return U.isDuplicate&&!((Y=U.duplicateMatches)!=null&&Y.some(()=>!0))}).length,pendingReview:n.filter(U=>U.requiresManualReview).length},ae=a.length>0?((u.length+l.length)/a.length*100).toFixed(1):"0.0";return w?i.jsx(io,{message:"Loading admin data"}):i.jsx(wt,{children:i.jsxs("div",{className:"min-h-screen bg-black",children:[i.jsx("div",{className:"bg-black border-b border-gray-900 shadow-lg",children:i.jsx("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8 py-5 sm:py-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tracking-tight",children:"Admin Control Panel"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-400 font-medium",children:"System Operations  Enquiry Management  Duplicate Detection"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-900/30 border border-green-500/30 rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-[10px] sm:text-xs text-green-400 font-medium",children:"ONLINE"})]}),i.jsxs(H,{onClick:S,variant:"destructive",size:"sm",className:"bg-red-900/50 hover:bg-red-800 border border-red-500/30 text-red-300 shadow-lg hover:shadow-red-500/20 transition-all duration-200",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs",children:"System Reset"}),i.jsx("span",{className:"sm:hidden text-xs",children:"Reset"})]})]})]})})}),i.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 sm:gap-5 mb-6 sm:mb-8",children:[i.jsxs(xe,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-amber-500/20 transition-all duration-200 hover:border-amber-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),i.jsx(It,{className:"h-5 w-5 text-amber-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Pending"}),i.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:n.length}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Requires Review"})]}),i.jsxs(xe,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-green-500/20 transition-all duration-200 hover:border-green-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx(xt,{className:"h-5 w-5 text-green-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Live"}),i.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:a.length}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Active Enquiries"})]}),i.jsxs(xe,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-blue-500/20 transition-all duration-200 hover:border-blue-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),i.jsx(yr,{className:"h-5 w-5 text-blue-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Responses"}),i.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:l.length}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Awaiting Review"})]}),i.jsxs(xe,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-red-500/20 transition-all duration-200 hover:border-red-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),i.jsx(It,{className:"h-5 w-5 text-red-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Duplicates"}),i.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:Q.totalDetected}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Detected"})]}),i.jsxs(xe,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-purple-500/20 transition-all duration-200 hover:border-purple-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"}),i.jsx(un,{className:"h-5 w-5 text-purple-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Sellers"}),i.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:u.length}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Submissions"})]}),i.jsxs(xe,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-cyan-500/20 transition-all duration-200 hover:border-cyan-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-cyan-500 rounded-full animate-pulse"}),i.jsx(Lg,{className:"h-5 w-5 text-cyan-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Response Rate"}),i.jsxs("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:[ae,"%"]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Efficiency"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5 sm:gap-6 mb-6 sm:mb-8",children:[i.jsxs(xe,{className:"p-5 sm:p-6 bg-black border border-gray-900 shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-900/30 border border-blue-500/30 rounded-lg flex items-center justify-center",children:i.jsx(Lg,{className:"h-5 w-5 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Activity Timeline"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Last 7 days overview"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-900/30 border border-green-500/30 rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-[10px] text-green-400 font-medium",children:"Live"})]})]}),i.jsx(IA,{config:{pending:{label:"Pending",color:"#f59e0b"},live:{label:"Live",color:"#10b981"},responses:{label:"Responses",color:"#3b82f6"}},className:"h-[220px] sm:h-[280px]",children:i.jsxs(sWe,{data:K,children:[i.jsx(DX,{strokeDasharray:"3 3",stroke:"#374151"}),i.jsx(gN,{dataKey:"date",stroke:"#9ca3af",style:{fontSize:"11px"}}),i.jsx(xN,{stroke:"#9ca3af",style:{fontSize:"11px"}}),i.jsx(pF,{content:i.jsx(RA,{})}),i.jsx(Xa,{type:"monotone",dataKey:"pending",stackId:"1",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.6}),i.jsx(Xa,{type:"monotone",dataKey:"live",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6}),i.jsx(Xa,{type:"monotone",dataKey:"responses",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6})]})})]}),i.jsxs(xe,{className:"p-5 sm:p-6 bg-black border border-gray-900 shadow-lg",children:[i.jsx("div",{className:"flex items-center justify-between mb-5",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-900/30 border border-purple-500/30 rounded-lg flex items-center justify-center",children:i.jsx(Xp,{className:"h-5 w-5 text-purple-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Status Distribution"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Current system state"})]})]})}),i.jsx(IA,{config:{pending:{label:"Pending",color:"#f59e0b"},live:{label:"Live",color:"#10b981"},rejected:{label:"Rejected",color:"#ef4444"},completed:{label:"Completed",color:"#6b7280"}},className:"h-[220px] sm:h-[280px]",children:i.jsxs(nWe,{children:[i.jsx(cl,{data:G,cx:"50%",cy:"50%",labelLine:!1,label:({name:U,percent:Y})=>`${U} ${(Y*100).toFixed(0)}%`,outerRadius:90,fill:"#8884d8",dataKey:"value",children:G.map((U,Y)=>i.jsx(Hj,{fill:U.color},`cell-${Y}`))}),i.jsx(pF,{content:i.jsx(RA,{})})]})})]})]}),i.jsxs(xe,{className:"p-5 sm:p-6 bg-black border border-gray-900 shadow-lg mb-6 sm:mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-900/30 border border-red-500/30 rounded-lg flex items-center justify-center",children:i.jsx(It,{className:"h-5 w-5 text-red-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Duplicate Detection System"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Word-based analysis engine"})]})]}),i.jsx(Te,{className:"bg-green-900/30 text-green-400 border border-green-500/30 text-xs px-3 py-1",children:"Active"})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-5",children:[i.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium mb-2",children:"Total Detected"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white tabular-nums",children:Q.totalDetected})]}),i.jsxs("div",{className:"p-4 bg-amber-900/20 border border-amber-500/30 rounded-lg",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium mb-2",children:"Same User"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white tabular-nums",children:Q.sameUser})]}),i.jsxs("div",{className:"p-4 bg-orange-900/20 border border-orange-500/30 rounded-lg",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium mb-2",children:"Different User"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white tabular-nums",children:Q.differentUser})]}),i.jsxs("div",{className:"p-4 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium mb-2",children:"Review Pending"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white tabular-nums",children:Q.pendingReview})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-black border border-gray-900 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-900/30 border border-blue-500/30 rounded-lg flex items-center justify-center",children:i.jsx(df,{className:"h-4 w-4 text-blue-400"})}),i.jsx("p",{className:"text-sm font-semibold text-white",children:"Detection Method"})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:"Word-based similarity analysis with exact title/description matching within 24-hour window. Cross-user and same-user duplicate detection enabled."})]}),i.jsxs("div",{className:"p-4 bg-black border border-gray-900 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-900/30 border border-blue-500/30 rounded-lg flex items-center justify-center",children:i.jsx(rue,{className:"h-4 w-4 text-blue-400"})}),i.jsx("p",{className:"text-sm font-semibold text-white",children:"System Status"})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:"Real-time monitoring active. All flagged duplicates automatically routed for manual review. AI confidence scoring: 100% for exact matches."})]})]})]}),i.jsxs(pI,{defaultValue:"manual",className:"w-full",children:[i.jsxs(Nj,{className:"grid w-full grid-cols-3 h-auto p-1.5 bg-black border border-gray-900 rounded-lg shadow-lg",children:[i.jsxs(na,{value:"manual",className:"flex items-center gap-2 text-xs sm:text-sm font-medium data-[state=active]:bg-gray-950 data-[state=active]:text-white data-[state=active]:shadow-sm rounded-md transition-all duration-200 text-gray-400",children:[i.jsx(un,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Manual Admin"}),i.jsx("span",{className:"sm:hidden",children:"Manual"})]}),i.jsxs(na,{value:"ai",className:"flex items-center gap-2 text-xs sm:text-sm font-medium data-[state=active]:bg-gray-950 data-[state=active]:text-white data-[state=active]:shadow-sm rounded-md transition-all duration-200 text-gray-400",children:[i.jsx(Da,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"AI Dashboard"}),i.jsx("span",{className:"sm:hidden",children:"AI"})]}),i.jsxs(na,{value:"tester",className:"flex items-center gap-2 text-xs sm:text-sm font-medium data-[state=active]:bg-gray-950 data-[state=active]:text-white data-[state=active]:shadow-sm rounded-md transition-all duration-200 text-gray-400",children:[i.jsx(Nh,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Plan Tester"}),i.jsx("span",{className:"sm:hidden",children:"Test"})]})]}),i.jsx(sa,{value:"ai",className:"mt-6",children:i.jsx(lWe,{})}),i.jsx(sa,{value:"tester",className:"mt-6",children:i.jsx(cWe,{})}),i.jsxs(sa,{value:"manual",className:"mt-6 space-y-6 sm:space-y-8",children:[i.jsxs(xe,{className:"bg-black border border-gray-900 shadow-lg overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-900/30 to-indigo-900/30 border-b border-gray-900 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-white",children:"Buyer Submissions"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:[n.length," enquiry",n.length!==1?"s":""," awaiting review"]})]}),i.jsxs(Te,{variant:"secondary",className:"text-xs sm:text-sm px-3 py-1.5 bg-amber-900/30 text-amber-400 border border-amber-500/30",children:[n.length," pending"]})]})}),i.jsx(Ue,{className:"p-4 sm:p-6",children:n.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-16",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-black rounded-full flex items-center justify-center mx-auto mb-4 border border-gray-900",children:i.jsx(xt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-500"})}),i.jsx("p",{className:"text-sm sm:text-base text-gray-300 font-medium",children:"All caught up!"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"No pending enquiries to review"})]}):i.jsx("div",{className:"space-y-4 sm:space-y-6",children:n.map(U=>{var Y,ue,Z,Pe,te;return i.jsx(xe,{className:"border border-gray-900 bg-black hover:shadow-lg transition-all duration-200 overflow-hidden",children:i.jsx(Ue,{className:"p-5 sm:p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white leading-tight",children:U.title}),U.isUrgent&&i.jsx(Te,{variant:"destructive",className:"text-[10px] sm:text-xs px-2 py-0.5",children:"Urgent"}),U.isDuplicate&&i.jsxs(Te,{className:"text-[10px] sm:text-xs px-2 py-0.5 bg-amber-500 text-white",children:["Duplicate (",((Y=U.duplicateMatches)==null?void 0:Y.length)||0,")"]}),U.requiresManualReview&&!U.isDuplicate&&i.jsx(Te,{variant:"secondary",className:"text-[10px] sm:text-xs px-2 py-0.5 bg-gray-500 text-white",children:"Needs Review"})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed line-clamp-2",children:U.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-xs sm:text-sm",children:[i.jsx(Te,{variant:"outline",className:"text-[10px] sm:text-xs border-gray-900 text-gray-300",children:U.category}),i.jsxs("span",{className:"text-gray-300 font-medium",children:["",(ue=U.budget)==null?void 0:ue.toLocaleString("en-IN")]}),i.jsx("span",{className:"text-gray-500",children:((te=(Pe=(Z=U.createdAt)==null?void 0:Z.toDate)==null?void 0:Pe.call(Z))==null?void 0:te.toLocaleDateString())||"Recently"})]}),U.isDuplicate&&U.duplicateMatches&&U.duplicateMatches.length>0&&i.jsx("div",{className:"mt-3 p-4 bg-amber-900/20 border border-amber-500/30 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(It,{className:"h-4 w-4 text-amber-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm font-semibold text-amber-300",children:"Potential Duplicate Detected"}),i.jsxs("p",{className:"text-[10px] sm:text-xs text-amber-400 mt-1",children:["Matches ",U.duplicateMatches.length," existing enquiry",U.duplicateMatches.length!==1?"ies":"y"]}),U.aiNotes&&i.jsx("p",{className:"text-[10px] sm:text-xs text-amber-500 mt-1 font-mono break-all",children:U.aiNotes})]})]})}),(U.idFrontImage||U.idBackImage)&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-300 mb-2",children:"ID Documents"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[U.idFrontImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:U.idFrontImage,alt:"ID Front",className:"w-full h-20 sm:h-24 object-cover rounded-lg border border-gray-800 hover:opacity-80 transition-opacity",onClick:()=>window.open(U.idFrontImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(fr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Front"})]}),U.idBackImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:U.idBackImage,alt:"ID Back",className:"w-full h-20 sm:h-24 object-cover rounded-lg border border-gray-800 hover:opacity-80 transition-opacity",onClick:()=>window.open(U.idBackImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(fr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Back"})]})]})]})]}),i.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-2",children:[i.jsx(H,{onClick:()=>x(U),className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:"Review"}),i.jsx(H,{variant:"destructive",size:"sm",onClick:()=>P(U.id),className:"h-auto px-3 sm:px-4 py-2",children:i.jsx(rn,{className:"h-4 w-4"})})]})]})})},U.id)})})})]}),i.jsxs(xe,{className:"bg-black border border-gray-900 shadow-lg overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-b border-gray-900 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-white",children:"Live Enquiries"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:[a.length," enquiry",a.length!==1?"s":""," currently active"]})]}),i.jsxs(Te,{variant:"default",className:"text-xs sm:text-sm px-3 py-1.5 bg-green-900/30 text-green-400 border border-green-500/30",children:[a.length," live"]})]})}),i.jsx(Ue,{className:"p-4 sm:p-6",children:a.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-16",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(fr,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium",children:"No live enquiries"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"All enquiries have been processed"})]}):i.jsx("div",{className:"space-y-3 sm:space-y-4",children:a.map(U=>{var Y;return i.jsx(xe,{className:"border border-gray-900 bg-black hover:shadow-lg transition-all duration-200",children:i.jsx(Ue,{className:"p-5 sm:p-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[i.jsx("h3",{className:"text-sm sm:text-base font-bold text-white truncate",children:U.title}),U.isUrgent&&i.jsx(Te,{variant:"destructive",className:"text-[10px] sm:text-xs px-2 py-0.5",children:"Urgent"}),_(U)&&i.jsx(Te,{variant:"secondary",className:"text-[10px] sm:text-xs px-2 py-0.5 bg-gray-500 text-white",children:"Outdated"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm text-gray-300",children:[i.jsx(Te,{variant:"outline",className:"text-[10px] sm:text-xs border-gray-900 text-gray-300",children:U.category}),i.jsxs("span",{className:"font-medium text-gray-300",children:["",(Y=U.budget)==null?void 0:Y.toLocaleString("en-IN")]}),U.deadline&&i.jsxs("span",{className:"text-gray-500",children:["Expires: ",U.deadline.toDate?U.deadline.toDate().toLocaleDateString():new Date(U.deadline).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[D(U.status),i.jsx(H,{variant:"destructive",size:"sm",onClick:()=>P(U.id),className:"h-8 w-8 sm:h-9 sm:w-9 p-0",children:i.jsx(rn,{className:"h-4 w-4"})})]})]})})},U.id)})})})]}),i.jsxs(xe,{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 border-b border-gray-200 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(yr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900",children:"Pending Responses"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:[l.length," response",l.length!==1?"s":""," awaiting review"]})]})]}),i.jsx(Te,{variant:"secondary",className:"text-xs sm:text-sm px-3 py-1.5 bg-blue-100 text-blue-800 border border-blue-200",children:l.length})]})}),i.jsx(Ue,{className:"p-4 sm:p-6",children:l.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-16",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium",children:"All clear!"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"No pending responses to review"})]}):i.jsx("div",{className:"space-y-4 sm:space-y-6",children:l.map(U=>{var Y,ue,Z;return i.jsx(xe,{className:"border border-gray-200 bg-white hover:shadow-md transition-all duration-200",children:i.jsx(Ue,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:U.sellerName}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:["Response to: ",U.enquiryTitle]})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed",children:U.message}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-xs sm:text-sm",children:[i.jsxs("span",{className:"font-semibold text-gray-900",children:["",U.price.toLocaleString("en-IN")]}),i.jsx("span",{className:"text-gray-500",children:((Z=(ue=(Y=U.createdAt)==null?void 0:Y.toDate)==null?void 0:ue.call(Y))==null?void 0:Z.toLocaleDateString())||"Recently"}),U.isPremium&&i.jsxs(Te,{className:"bg-yellow-100 text-yellow-800 text-[10px] sm:text-xs px-2 py-0.5",children:[i.jsx(un,{className:"h-3 w-3 mr-1"}),"Premium"]})]}),(U.idFrontImage||U.idBackImage)&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Seller ID Documents"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[U.idFrontImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:U.idFrontImage,alt:"Seller ID Front",className:"w-full h-20 sm:h-24 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(U.idFrontImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(fr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Front"})]}),U.idBackImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:U.idBackImage,alt:"Seller ID Back",className:"w-full h-20 sm:h-24 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(U.idBackImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(fr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Back"})]})]})]})]}),i.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-2",children:[i.jsx(H,{onClick:()=>R(U.id),className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:"Approve"}),i.jsx(H,{variant:"destructive",size:"sm",onClick:()=>M(U.id),className:"text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:"Reject"}),!U.isPremium&&i.jsxs(H,{onClick:()=>q(U.id),className:"bg-yellow-600 hover:bg-yellow-700 text-white text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:[i.jsx(un,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Premium"]})]})]})})},U.id)})})})]}),i.jsxs(xe,{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b border-gray-200 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx(Nh,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900",children:"Seller Responses"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:[u.length," response",u.length!==1?"s":""," awaiting review"]})]})]}),i.jsx(Te,{variant:"secondary",className:"text-xs sm:text-sm px-3 py-1.5 bg-purple-100 text-purple-800 border border-purple-200",children:u.length})]})}),i.jsx(Ue,{className:"p-4 sm:p-6",children:u.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-16",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium",children:"All caught up!"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"No seller responses to review"})]}):i.jsx("div",{className:"space-y-4 sm:space-y-6",children:u.map(U=>{var Y,ue,Z;return i.jsx(xe,{className:"border border-gray-200 bg-white hover:shadow-md transition-all duration-200",children:i.jsx(Ue,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:U.sellerName}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:["Response to: ",U.title]})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed",children:U.message}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-xs sm:text-sm",children:[i.jsxs("span",{className:"font-semibold text-gray-900",children:["",U.price]}),i.jsx("span",{className:"text-gray-500",children:((Z=(ue=(Y=U.createdAt)==null?void 0:Y.toDate)==null?void 0:ue.call(Y))==null?void 0:Z.toLocaleDateString())||"Recently"}),i.jsxs("span",{className:"text-gray-500",children:["Images: ",U.imageCount]}),U.isIdentityVerified&&i.jsxs(Te,{className:"bg-green-100 text-green-800 text-[10px] sm:text-xs px-2 py-0.5",children:[i.jsx(xt,{className:"h-3 w-3 mr-1"}),"ID Verified"]})]}),U.imageUrls.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Product Images"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3",children:U.imageUrls.map((Pe,te)=>i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:Pe,alt:`Product ${te+1}`,className:"w-full h-16 sm:h-20 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(Pe,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(fr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),i.jsx("p",{className:"text-[9px] text-gray-600 mt-1 truncate",children:U.imageNames[te]||`Img ${te+1}`})]},te))})]}),U.govIdUrl&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Government ID"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-600",children:[U.govIdType,"  ",U.govIdNumber]}),i.jsxs("div",{className:"relative group cursor-pointer w-fit",children:[i.jsx("img",{src:U.govIdUrl,alt:"Government ID",className:"w-24 sm:w-32 h-16 sm:h-20 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(U.govIdUrl,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(fr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})})]})]})]})]}),i.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-2",children:[i.jsx(H,{onClick:()=>W(U.id),className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:"Approve"}),i.jsx(H,{variant:"destructive",size:"sm",onClick:()=>B(U.id),className:"text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:"Reject"})]})]})})},U.id)})})})]}),i.jsxs(xe,{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border-b border-gray-200 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:i.jsx(Ko,{className:"h-5 w-5 sm:h-6 sm:w-6 text-indigo-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900",children:"Profile Verifications"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:[h.length," verification",h.length!==1?"s":""," pending"]})]})]}),i.jsx(Te,{variant:"secondary",className:"text-xs sm:text-sm px-3 py-1.5 bg-indigo-100 text-indigo-800 border border-indigo-200",children:h.length})]})}),i.jsx(Ue,{className:"p-4 sm:p-6",children:h.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-16",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium",children:"All verified!"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"No pending profile verifications"})]}):i.jsx("div",{className:"space-y-4 sm:space-y-6",children:h.map(U=>{var Y,ue,Z,Pe,te,ye;return i.jsx(xe,{className:"border border-gray-200 bg-white hover:shadow-md transition-all duration-200",children:i.jsx(Ue,{className:"p-5 sm:p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:U.fullName}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:["Phone: ",U.phone]}),i.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-600",children:[U.idType,"  ",U.idNumber]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[U.frontImageUrl&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:U.frontImageUrl,alt:"ID Front",className:"w-full h-24 sm:h-32 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(U.frontImageUrl,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(fr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Front"})]}),U.backImageUrl&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:U.backImageUrl,alt:"ID Back",className:"w-full h-24 sm:h-32 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(U.backImageUrl,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(fr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Back"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[10px] sm:text-xs text-gray-500",children:[i.jsxs("span",{children:["Requested: ",((Z=(ue=(Y=U.verificationRequestedAt)==null?void 0:Y.toDate)==null?void 0:ue.call(Y))==null?void 0:Z.toLocaleDateString())||"Recently"]}),i.jsxs("span",{children:["Updated: ",((ye=(te=(Pe=U.updatedAt)==null?void 0:Pe.toDate)==null?void 0:te.call(Pe))==null?void 0:ye.toLocaleDateString())||"Recently"]})]})]}),i.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-2",children:[i.jsx(H,{onClick:()=>T(U.userId,"approve"),className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",disabled:j===U.userId,children:j===U.userId?"Processing...":"Approve"}),i.jsx(H,{variant:"destructive",size:"sm",onClick:()=>T(U.userId,"reject"),className:"text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",disabled:j===U.userId,children:j===U.userId?"Processing...":"Reject"})]})]})})},U.id)})})})]}),m&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998]",onClick:()=>x(null)}),i.jsx("div",{className:"fixed inset-x-0 top-1/2 -translate-y-1/2 z-[9999] px-4 sm:px-0",children:i.jsxs(xe,{className:"max-w-2xl mx-auto bg-white shadow-2xl border border-gray-200 rounded-xl overflow-hidden max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsxs("h3",{className:"text-base sm:text-xl font-semibold text-gray-900 truncate",children:["Review Enquiry: ",m.title]}),m.isUrgent&&i.jsx(Te,{variant:"destructive",className:"text-[10px] sm:text-xs flex-shrink-0",children:"Urgent"})]}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>x(null),className:"text-gray-600 hover:bg-gray-100 h-8 w-8 p-0 flex-shrink-0",children:i.jsx(Qr,{className:"h-4 w-4"})})]})}),i.jsxs(Ue,{className:"p-5 sm:p-6 space-y-5 sm:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 block",children:"Description"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:m.description})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 block",children:"Category"}),i.jsx(Te,{variant:"outline",className:"text-[10px] sm:text-xs",children:m.category})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 block",children:"Budget"}),i.jsxs("p",{className:"text-xs sm:text-sm font-bold text-gray-900",children:["",m.budget.toLocaleString("en-IN")]})]})]}),(m.idFrontImage||m.idBackImage)&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 block",children:"ID Documents"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.idFrontImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:m.idFrontImage,alt:"ID Front",className:"w-full h-24 sm:h-32 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(m.idFrontImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(fr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Front"})]}),m.idBackImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:m.idBackImage,alt:"ID Back",className:"w-full h-24 sm:h-32 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(m.idBackImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(fr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Back"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 block",children:"Admin Notes"}),i.jsx(td,{value:p,onChange:U=>v(U.target.value),placeholder:"Add notes about this enquiry...",className:"text-xs sm:text-sm min-h-[80px]"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2",children:[i.jsxs(H,{onClick:()=>A(m.id),className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm flex-1 order-2 sm:order-1",children:[i.jsx(xt,{className:"h-4 w-4 mr-2"}),"Approve"]}),i.jsx(H,{variant:"destructive",onClick:()=>I(m.id),className:"text-xs sm:text-sm flex-1 order-3 sm:order-2",children:"Reject"}),i.jsx(H,{variant:"outline",onClick:()=>x(null),className:"text-xs sm:text-sm order-1 sm:order-3",children:"Cancel"})]})]})]})})]}),i.jsx(xe,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-2 border-red-200 shadow-sm overflow-hidden",children:i.jsxs(Ue,{className:"p-5 sm:p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-5",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(rn,{className:"h-6 w-6 text-red-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-red-900 mb-2",children:"Clear All Data"}),i.jsxs("p",{className:"text-sm text-red-700 leading-relaxed",children:[i.jsx("strong",{children:" DANGER:"})," This will permanently delete ALL user profiles, enquiries, and data!"]})]})]}),i.jsx("div",{className:"text-center",children:i.jsxs(H,{variant:"destructive",onClick:()=>S(),className:"bg-red-600 hover:bg-red-700 text-white px-6 sm:px-8 py-3 text-sm sm:text-base shadow-md hover:shadow-lg transition-all duration-200",disabled:w,children:[i.jsx(rn,{className:"h-5 w-5 mr-2"}),w?"Deleting...":"DELETE EVERYTHING"]})})]})})]})]})]})]})})},dWe=()=>{const{user:t}=Rr(),[e,r]=g.useState(!1),[n,s]=g.useState(null),a=async()=>{if(!(t!=null&&t.uid)){s({success:!1,message:"Please sign in first!"});return}r(!0),s(null);try{const l=["automobile","electronics","fashion","home-furniture","real-estate"],c=["free","basic","standard","premium"],u=[];console.log(" Starting test data generation...");const d=[{plan:"free",count:5,description:"Free Plan (2/5 visible)"},{plan:"basic",count:8,description:"Basic Plan (5/8 visible)"},{plan:"standard",count:10,description:"Standard - Exactly 10 (10/10 visible)"},{plan:"standard",count:15,description:"Standard - More than 10 (10/15 visible)"},{plan:"premium",count:20,description:"Premium - All visible (20/20)"}];for(let m=0;m<d.length;m++){const x=d[m],p=x.plan,v=l[m%l.length],w={userId:t.uid,userEmail:t.email,userName:t.displayName||"Test User",title:`Test: ${x.description}`,description:`This enquiry tests ${x.description}. It has ${x.count} seller responses to test the payment plan limits properly.`,budget:(m+1)*1e3,category:v,location:"Test Location",imageUrls:[],imageNames:[],imageCount:0,status:"active",selectedPlanId:p,isPremium:p!=="free",isAutoProEnquiry:!1,createdAt:$e(),updatedAt:$e(),deadline:new Date(Date.now()+7*24*60*60*1e3),views:0,responseCount:0},b=await ni(Ze(oe,"enquiries"),w);u.push(b.id),console.log(` Created ${p} enquiry: ${b.id}`);const j=x.count;for(let N=0;N<j;N++){const E={enquiryId:b.id,sellerId:`test_seller_${N+1}`,sellerName:`Test Seller ${N+1}`,sellerEmail:`seller${N+1}@test.com`,title:`Response to ${p.toUpperCase()} Enquiry`,message:`I can help with this! I have ${N+1} years of experience. This is test response #${N+1} for testing the ${p} plan response limits.`,price:`${(N+1)*500}`,notes:`Additional details from seller ${N+1}`,imageUrls:[],imageNames:[],imageCount:0,govIdType:"Aadhar",govIdNumber:`XXXX-XXXX-${1e3+N}`,govIdUrl:"",govIdFileName:"",isIdentityVerified:N%2===0,status:"approved",createdAt:$e(),updatedAt:$e(),buyerViewed:!1,chatEnabled:!0};await ni(Ze(oe,"sellerSubmissions"),E)}console.log(` Created ${j} responses for ${p} enquiry`)}const h={userId:t.uid,userEmail:t.email,userName:t.displayName||"Test User",title:"Test EXPIRED Enquiry",description:"This enquiry has expired (deadline passed). Test for expired enquiry handling.",budget:5e3,category:"electronics",location:"Test Location",imageUrls:[],imageNames:[],imageCount:0,status:"active",selectedPlanId:"basic",isPremium:!0,isAutoProEnquiry:!1,createdAt:$e(),updatedAt:$e(),deadline:new Date(Date.now()-2*24*60*60*1e3),views:0,responseCount:0},f=await ni(Ze(oe,"enquiries"),h);console.log(` Created expired enquiry: ${f.id}`);for(let m=0;m<3;m++){const x={enquiryId:f.id,sellerId:`test_seller_expired_${m+1}`,sellerName:`Test Seller ${m+1}`,sellerEmail:`seller${m+1}@test.com`,title:"Response to EXPIRED Enquiry",message:`This is a response to an expired enquiry. Test response #${m+1}.`,price:`${(m+1)*1e3}`,notes:"This response is for testing expired enquiry handling",imageUrls:[],imageNames:[],imageCount:0,govIdType:"Aadhar",govIdNumber:`XXXX-XXXX-${2e3+m}`,govIdUrl:"",govIdFileName:"",isIdentityVerified:!0,status:"approved",createdAt:$e(),updatedAt:$e(),buyerViewed:!1,chatEnabled:!0};await ni(Ze(oe,"sellerSubmissions"),x)}console.log(" Created 3 responses for expired enquiry"),s({success:!0,message:` Success! Created ${u.length+1} test enquiries:

 FREE: 5 responses (shows 2)
 BASIC: 8 responses (shows 5)
 STANDARD: Exactly 10 responses (shows all 10)
 STANDARD: 15 responses (shows 10)
 PREMIUM: 20 responses (shows all 20)
 EXPIRED: 1 expired enquiry

 All edge cases covered! Go to "My Enquiries" to test response limits.`}),console.log(" Test data generation complete!")}catch(l){console.error(" Error generating test data:",l),s({success:!1,message:`Error: ${l instanceof Error?l.message:"Unknown error"}`})}finally{r(!1)}},o=async()=>{if(!(t!=null&&t.uid)){s({success:!1,message:"Please sign in first!"});return}r(!0),s(null);try{console.log(" Generating seller responses for current user...");for(let l=0;l<5;l++){const c={enquiryId:`test_enquiry_${l+1}`,sellerId:t.uid,sellerName:t.displayName||"Test User",sellerEmail:t.email,title:`Your Response #${l+1}`,message:`This is your test response #${l+1}. You responded to someone's enquiry. Status: ${l%3===0?"approved":l%3===1?"pending":"rejected"}`,price:`${(l+1)*1500}`,notes:`Test notes for response ${l+1}`,imageUrls:[],imageNames:[],imageCount:0,govIdType:"Aadhar",govIdNumber:`XXXX-XXXX-${3e3+l}`,govIdUrl:"",govIdFileName:"",isIdentityVerified:!0,status:l%3===0?"approved":l%3===1?"pending":"rejected",createdAt:$e(),updatedAt:$e(),buyerViewed:!1,chatEnabled:!0};await ni(Ze(oe,"sellerSubmissions"),c),console.log(` Created seller submission #${l+1}`)}s({success:!0,message:` Success! Created 5 seller responses:

 2 Approved
 2 Pending
 1 Rejected

Check "Your Responses" in Dashboard!`}),console.log(" Seller responses generated!")}catch(l){console.error(" Error generating seller responses:",l),s({success:!1,message:`Error: ${l instanceof Error?l.message:"Unknown error"}`})}finally{r(!1)}};return i.jsx(wt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-8",children:i.jsxs(xe,{className:"max-w-2xl mx-auto my-8 shadow-xl border-2 border-purple-200",children:[i.jsxs(jt,{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white",children:[i.jsxs(mr,{className:"flex items-center gap-2 text-2xl",children:[i.jsx(Xp,{className:"h-6 w-6"}),"Premium Test Data Generator"]}),i.jsx("p",{className:"text-purple-100 text-sm mt-2",children:"Automatically generate test enquiries and responses to test premium features"})]}),i.jsxs(Ue,{className:"space-y-4 p-6",children:[!t&&i.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:i.jsx("p",{className:"text-amber-800 text-sm",children:" Please sign in first to generate test data"})}),t&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("p",{className:"text-blue-900 font-semibold mb-2",children:"Signed in as:"}),i.jsx("p",{className:"text-blue-700 text-sm",children:t.email})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(H,{onClick:a,disabled:e||!t,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white py-6 text-lg",children:e?i.jsxs(i.Fragment,{children:[i.jsx(cf,{className:"mr-2 h-5 w-5 animate-spin"}),"Generating Test Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Xp,{className:"mr-2 h-5 w-5"}),"Generate Test Enquiries (Buyer Side)"]})}),i.jsx(H,{onClick:o,disabled:e||!t,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white py-6 text-lg",variant:"outline",children:e?i.jsxs(i.Fragment,{children:[i.jsx(cf,{className:"mr-2 h-5 w-5 animate-spin"}),"Generating Responses..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Xp,{className:"mr-2 h-5 w-5"}),"Generate Seller Responses (Seller Side)"]})})]}),n&&i.jsx("div",{className:`rounded-lg p-4 border-2 ${n.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[n.success?i.jsx(xt,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}):i.jsx(Vg,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),i.jsx("p",{className:`text-sm whitespace-pre-line ${n.success?"text-green-800":"text-red-800"}`,children:n.message})]})}),i.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 space-y-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:" Test Enquiries Created:"}),i.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Te,{variant:"outline",className:"bg-white",children:"FREE"}),i.jsxs("span",{children:["5 responses  ",i.jsx("strong",{children:"Shows 2 only"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Te,{variant:"outline",className:"bg-blue-100",children:"BASIC"}),i.jsxs("span",{children:["8 responses  ",i.jsx("strong",{children:"Shows 5 only"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Te,{variant:"outline",className:"bg-purple-100",children:"STANDARD"}),i.jsxs("span",{children:["Exactly 10 responses  ",i.jsx("strong",{children:"Shows all 10"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Te,{variant:"outline",className:"bg-purple-100",children:"STANDARD"}),i.jsxs("span",{children:["15 responses  ",i.jsx("strong",{children:"Shows 10 only"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Te,{variant:"outline",className:"bg-green-100",children:"PREMIUM"}),i.jsxs("span",{children:["20 responses  ",i.jsx("strong",{children:"Shows all 20"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Te,{variant:"outline",className:"bg-red-100",children:"EXPIRED"}),i.jsx("span",{children:"1 expired enquiry (deadline passed)"})]})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-2 pt-2 border-t border-slate-300",children:" This tests all edge cases: less than limit, exactly at limit, more than limit, unlimited"})]}),i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[i.jsxs("p",{className:"text-amber-900 text-sm",children:[i.jsx("strong",{children:" Tip:"})," After generating, visit:"]}),i.jsxs("ul",{className:"text-amber-800 text-sm mt-2 space-y-1 ml-4 list-disc",children:[i.jsx("li",{children:"Dashboard - see tiles load instantly"}),i.jsx("li",{children:"My Enquiries - check response limits per plan"}),i.jsx("li",{children:"My Responses - see your seller submissions"}),i.jsxs("li",{children:["Browser Console - run ",i.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"window.testPremiumPlanLimits()"})]})]})]})]})]})]})})})};function hWe(t,e){return g.useReducer((r,n)=>e[r][n]??r,t)}var NR="ScrollArea",[nJ,tHe]=ba(NR),[fWe,Wi]=nJ(NR),sJ=g.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=t,[l,c]=g.useState(null),[u,d]=g.useState(null),[h,f]=g.useState(null),[m,x]=g.useState(null),[p,v]=g.useState(null),[w,b]=g.useState(0),[j,N]=g.useState(0),[E,C]=g.useState(!1),[_,S]=g.useState(!1),A=At(e,I=>c(I)),T=my(s);return i.jsx(fWe,{scope:r,type:n,dir:T,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:C,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:S,onCornerWidthChange:b,onCornerHeightChange:N,children:i.jsx(et.div,{dir:T,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});sJ.displayName=NR;var iJ="ScrollAreaViewport",aJ=g.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...o}=t,l=Wi(iJ,r),c=g.useRef(null),u=At(e,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),i.jsx(et.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:NWe({asChild:s,children:n},d=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});aJ.displayName=iJ;var lo="ScrollAreaScrollbar",SR=g.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Wi(lo,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return g.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(mWe,{...n,ref:e,forceMount:r}):s.type==="scroll"?i.jsx(pWe,{...n,ref:e,forceMount:r}):s.type==="auto"?i.jsx(oJ,{...n,ref:e,forceMount:r}):s.type==="always"?i.jsx(ER,{...n,ref:e}):null});SR.displayName=lo;var mWe=g.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Wi(lo,t.__scopeScrollArea),[a,o]=g.useState(!1);return g.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Ln,{present:r||a,children:i.jsx(oJ,{"data-state":a?"visible":"hidden",...n,ref:e})})}),pWe=g.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Wi(lo,t.__scopeScrollArea),a=t.orientation==="horizontal",o=bN(()=>c("SCROLL_END"),100),[l,c]=hWe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),g.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,a,c,o]),i.jsx(Ln,{present:r||l!=="hidden",children:i.jsx(ER,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:De(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:De(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),oJ=g.forwardRef((t,e)=>{const r=Wi(lo,t.__scopeScrollArea),{forceMount:n,...s}=t,[a,o]=g.useState(!1),l=t.orientation==="horizontal",c=bN(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Gf(r.viewport,c),Gf(r.content,c),i.jsx(Ln,{present:n||a,children:i.jsx(ER,{"data-state":a?"visible":"hidden",...s,ref:e})})}),ER=g.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Wi(lo,t.__scopeScrollArea),a=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=hJ(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return wWe(f,o.current,l,m)}return r==="horizontal"?i.jsx(gWe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,m=gF(f,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):r==="vertical"?i.jsx(xWe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,m=gF(f,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),gWe=g.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=Wi(lo,t.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=At(e,c,a.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(cJ,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vN(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),mJ(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Gw(o.paddingLeft),paddingEnd:Gw(o.paddingRight)}})}})}),xWe=g.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=Wi(lo,t.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=At(e,c,a.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(cJ,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vN(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),mJ(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Gw(o.paddingTop),paddingEnd:Gw(o.paddingBottom)}})}})}),[yWe,lJ]=nJ(lo),cJ=g.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=t,m=Wi(lo,r),[x,p]=g.useState(null),v=At(e,A=>p(A)),w=g.useRef(null),b=g.useRef(""),j=m.viewport,N=n.content-n.viewport,E=Mr(d),C=Mr(c),_=bN(h,10);function S(A){if(w.current){const T=A.clientX-w.current.left,I=A.clientY-w.current.top;u({x:T,y:I})}}return g.useEffect(()=>{const A=T=>{const I=T.target;(x==null?void 0:x.contains(I))&&E(T,N)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[j,x,N,E]),g.useEffect(C,[n,C]),Gf(x,_),Gf(m.content,_),i.jsx(yWe,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:Mr(a),onThumbPointerUp:Mr(o),onThumbPositionChange:C,onThumbPointerDown:Mr(l),children:i.jsx(et.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:De(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),w.current=x.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),S(A))}),onPointerMove:De(t.onPointerMove,S),onPointerUp:De(t.onPointerUp,A=>{const T=A.target;T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),Hw="ScrollAreaThumb",uJ=g.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=lJ(Hw,t.__scopeScrollArea);return i.jsx(Ln,{present:r||s.hasThumb,children:i.jsx(vWe,{ref:e,...n})})}),vWe=g.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,a=Wi(Hw,r),o=lJ(Hw,r),{onThumbPositionChange:l}=o,c=At(e,h=>o.onThumbChange(h)),u=g.useRef(),d=bN(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(d(),!u.current){const m=jWe(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,d,l]),i.jsx(et.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:De(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),x=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x,y:p})}),onPointerUp:De(t.onPointerUp,o.onThumbPointerUp)})});uJ.displayName=Hw;var _R="ScrollAreaCorner",dJ=g.forwardRef((t,e)=>{const r=Wi(_R,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(bWe,{...t,ref:e}):null});dJ.displayName=_R;var bWe=g.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Wi(_R,r),[a,o]=g.useState(0),[l,c]=g.useState(0),u=!!(a&&l);return Gf(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Gf(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(et.div,{...n,ref:e,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Gw(t){return t?parseInt(t,10):0}function hJ(t,e){const r=t/e;return isNaN(r)?0:r}function vN(t){const e=hJ(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function wWe(t,e,r,n="ltr"){const s=vN(r),a=s/2,o=e||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return fJ([c,u],h)(t)}function gF(t,e,r="ltr"){const n=vN(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,o=e.content-e.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Z_(t,c);return fJ([0,o],[0,l])(u)}function fJ(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function mJ(t,e){return t>0&&t<e}var jWe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&e(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function bN(t,e){const r=Mr(t),n=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),g.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Gf(t,e){const r=Mr(e);Kn(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}function NWe(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const s=g.Children.only(n);return g.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var pJ=sJ,SWe=aJ,EWe=dJ;const wN=g.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(pJ,{ref:n,className:He("relative overflow-hidden",t),...r,children:[i.jsx(SWe,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(gJ,{}),i.jsx(EWe,{})]}));wN.displayName=pJ.displayName;const gJ=g.forwardRef(({className:t,orientation:e="vertical",...r},n)=>i.jsx(SR,{ref:n,orientation:e,className:He("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:i.jsx(uJ,{className:"relative flex-1 rounded-full bg-border"})}));gJ.displayName=SR.displayName;const _We=()=>i.jsx(wt,{children:i.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:i.jsxs(xe,{className:"shadow-lg",children:[i.jsxs(jt,{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white",children:[i.jsx(mr,{className:"text-3xl font-bold",children:"Terms and Conditions"}),i.jsxs("p",{className:"text-purple-100 mt-2",children:["Last Updated: ",new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})]})]}),i.jsx(Ue,{className:"p-6",children:i.jsx(wN,{className:"h-[70vh] pr-4",children:i.jsxs("div",{className:"space-y-6 text-gray-700",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"1. Acceptance of Terms"}),i.jsx("p",{className:"mb-3",children:'Welcome to Enqir.in ("we," "our," or "the Platform"). By accessing or using our AI-powered marketplace platform, you agree to be bound by these Terms and Conditions. If you do not agree to these terms, please do not use our services.'}),i.jsx("p",{children:"These terms constitute a legally binding agreement between you and Enqir.in. We reserve the right to update these terms at any time, and continued use of the Platform constitutes acceptance of any changes."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"2. Service Description"}),i.jsx("p",{className:"mb-3",children:"Enqir.in is an AI-powered marketplace that connects buyers and sellers. We provide:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Free Enquiry Posting:"})," Users can post unlimited buying enquiries at no cost"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Seller Response Platform:"})," Sellers can submit responses to enquiries"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"AI-Powered Matching:"})," Smart algorithms match buyers with relevant sellers"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Freemium Response Access:"})," Payment plans unlock access to seller responses"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Commission-Free Trading:"})," Direct connections without platform commissions on transactions"]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"3. User Accounts"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"3.1 Registration"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-3",children:[i.jsx("li",{children:"You must be at least 18 years old to use this Platform"}),i.jsx("li",{children:"You must provide accurate and complete information during registration"}),i.jsx("li",{children:"You are responsible for maintaining the confidentiality of your account credentials"}),i.jsx("li",{children:"You agree to notify us immediately of any unauthorized use of your account"})]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"3.2 Account Responsibilities"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"You are solely responsible for all activities under your account"}),i.jsx("li",{children:"We reserve the right to suspend or terminate accounts that violate these terms"}),i.jsx("li",{children:"One user may not maintain multiple accounts without prior approval"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"4. Payment Terms"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"4.1 Payment Plans"}),i.jsx("div",{className:"bg-purple-50 p-4 rounded-lg mb-3",children:i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Free Plan:"})," 0 - Access to 2 seller responses per enquiry"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Basic Plan:"})," 99 - Unlock 5 seller responses per enquiry"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Standard Plan:"})," 199 - Unlock 10 seller responses per enquiry"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Premium Plan:"})," 499 - Unlock unlimited responses for one enquiry"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Pro Plan:"})," 1,499 - Next 10 enquiries get automatic premium features"]})]})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"4.2 Payment Processing"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-3",children:[i.jsx("li",{children:"All payments are processed securely through Razorpay Payment Gateway"}),i.jsx("li",{children:"We accept Credit Cards, Debit Cards, UPI, Net Banking, and Wallets"}),i.jsx("li",{children:"All prices are in Indian Rupees (INR) and include applicable taxes"}),i.jsx("li",{children:"Payment must be completed before accessing seller responses"}),i.jsx("li",{children:"We do not store your payment card information"})]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"4.3 Billing"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"You will be charged immediately upon selecting a payment plan"}),i.jsx("li",{children:"All sales are final once payment is confirmed"}),i.jsx("li",{children:"Digital invoices are provided via email after successful payment"}),i.jsx("li",{children:"Pro Plan enquiries are counted from the date of Pro activation"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"5. Refund and Cancellation Policy"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"5.1 Refund Eligibility"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Technical Errors:"})," Full refund if payment is deducted but service not activated due to technical failure"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Duplicate Payments:"})," Full refund for accidental duplicate charges"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Service Not Delivered:"})," Full refund if responses are not unlocked after successful payment"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Within 24 Hours:"})," Refund requests must be raised within 24 hours of payment"]})]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"5.2 Non-Refundable Scenarios"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-3",children:[i.jsx("li",{children:"Change of mind after viewing unlocked responses"}),i.jsx("li",{children:"Dissatisfaction with seller response quality or content"}),i.jsx("li",{children:"Failure to receive seller responses (sellers are independent third parties)"}),i.jsx("li",{children:"Account suspension or termination due to Terms violation"}),i.jsx("li",{children:"Pro Plan after using any of the 10 premium enquiries"})]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"5.3 Refund Process"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Refund requests must be sent to support@enqir.in with transaction details"}),i.jsx("li",{children:"Refunds are processed within 7-10 business days after approval"}),i.jsx("li",{children:"Refunds are credited to the original payment method"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"6. User Conduct and Prohibited Activities"}),i.jsx("p",{className:"mb-3",children:"You agree NOT to:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Post false, misleading, or fraudulent enquiries"}),i.jsx("li",{children:"Harass, abuse, or threaten other users"}),i.jsx("li",{children:"Use the Platform for illegal activities"}),i.jsx("li",{children:"Circumvent payment systems or attempt fraud"}),i.jsx("li",{children:"Scrape, copy, or misuse Platform data"}),i.jsx("li",{children:"Impersonate other users or entities"}),i.jsx("li",{children:"Upload malicious code, viruses, or harmful content"}),i.jsx("li",{children:"Spam or send unsolicited communications"}),i.jsx("li",{children:"Violate intellectual property rights"}),i.jsx("li",{children:"Manipulate AI systems or abuse platform features"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"7. AI and Content Moderation"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Our AI systems automatically review and approve enquiries and responses"}),i.jsx("li",{children:"We reserve the right to reject content that violates our policies"}),i.jsx("li",{children:"AI-powered matching is provided on a best-effort basis"}),i.jsx("li",{children:"We do not guarantee specific matching results or response quality"}),i.jsx("li",{children:"Image recognition features process uploaded images using AI technology"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"8. Intellectual Property"}),i.jsx("p",{className:"mb-3",children:"All content on Enqir.in, including logos, designs, text, graphics, AI algorithms, and software, is owned by Enqir.in or licensed to us. You may not reproduce, distribute, or create derivative works without written permission."}),i.jsx("p",{children:"User-generated content (enquiries, responses) remains the property of the respective users, but you grant us a non-exclusive, worldwide license to use, display, and process this content for Platform operations."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"9. Limitation of Liability"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Platform Role:"})," Enqir.in is a facilitator connecting buyers and sellers. We are not a party to transactions between users"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"No Guarantees:"})," We do not guarantee the accuracy, reliability, or quality of user-generated content"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Third-Party Actions:"})," We are not liable for actions, products, or services of sellers or buyers"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Maximum Liability:"})," Our liability is limited to the amount you paid for the specific service"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Indirect Damages:"})," We are not liable for indirect, incidental, or consequential damages"]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"10. Disclaimer of Warranties"}),i.jsx("p",{className:"mb-3",children:'THE PLATFORM IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED. WE DO NOT WARRANT THAT:'}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"The Platform will be uninterrupted, secure, or error-free"}),i.jsx("li",{children:"Results obtained from the Platform will be accurate or reliable"}),i.jsx("li",{children:"Any defects will be corrected"}),i.jsx("li",{children:"AI features will meet your specific expectations"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"11. Data Privacy"}),i.jsxs("p",{children:["Your privacy is important to us. Please review our ",i.jsx("a",{href:"/privacy-policy",className:"text-purple-600 hover:underline font-semibold",children:"Privacy Policy"})," to understand how we collect, use, and protect your personal information. By using the Platform, you consent to our data practices as described in the Privacy Policy."]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"12. Termination"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"You may terminate your account at any time by contacting support"}),i.jsx("li",{children:"We may suspend or terminate your account for Terms violations"}),i.jsx("li",{children:"Upon termination, your access to paid features will cease"}),i.jsx("li",{children:"No refunds are provided for account termination due to violations"}),i.jsx("li",{children:"Certain provisions survive termination (payment obligations, intellectual property rights)"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"13. Governing Law and Dispute Resolution"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"These Terms are governed by the laws of India"}),i.jsx("li",{children:"Any disputes shall be subject to the exclusive jurisdiction of courts in [Your City/State]"}),i.jsx("li",{children:"You agree to attempt good-faith resolution before legal action"}),i.jsx("li",{children:"Arbitration may be required for certain disputes"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"14. Modifications to Terms"}),i.jsx("p",{children:"We reserve the right to modify these Terms at any time. Changes will be effective immediately upon posting. Your continued use of the Platform after changes constitutes acceptance of the modified Terms. We will notify users of significant changes via email or Platform notification."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"15. Contact Information"}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Company Name:"})," Enqir"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Email:"})," ",i.jsx("a",{href:"mailto:support@enqir.in",className:"text-purple-600 hover:underline",children:"support@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Support Email:"})," ",i.jsx("a",{href:"mailto:legal@enqir.in",className:"text-purple-600 hover:underline",children:"legal@enqir.in"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Website:"})," ",i.jsx("a",{href:"https://enqir.in",className:"text-purple-600 hover:underline",children:"https://enqir.in"})]})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"For payment-related queries, refund requests, or billing issues, please contact our support team with your transaction ID and registered email address."})]}),i.jsx("section",{className:"border-t pt-6 mt-6",children:i.jsx("p",{className:"text-sm text-gray-600 italic",children:'By clicking "I Accept" during registration or by using the Platform, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions.'})})]})})})]})})}),PWe=()=>i.jsx(wt,{children:i.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:i.jsxs(xe,{className:"shadow-lg",children:[i.jsx(jt,{className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Cr,{className:"w-8 h-8"}),i.jsxs("div",{children:[i.jsx(mr,{className:"text-3xl font-bold",children:"Privacy Policy"}),i.jsxs("p",{className:"text-blue-100 mt-2",children:["Last Updated: ",new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})]})]})]})}),i.jsx(Ue,{className:"p-6",children:i.jsx(wN,{className:"h-[70vh] pr-4",children:i.jsxs("div",{className:"space-y-6 text-gray-700",children:[i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(fr,{className:"w-6 h-6 text-blue-600"}),"1. Introduction"]}),i.jsx("p",{className:"mb-3",children:'Welcome to Enqir.in ("we," "our," "us," or "the Platform"). We are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your data when you use our AI-powered marketplace platform.'}),i.jsx("p",{children:"By using Enqir.in, you agree to the collection and use of information in accordance with this Privacy Policy. If you do not agree with our policies, please do not use our services."})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(Xp,{className:"w-6 h-6 text-blue-600"}),"2. Information We Collect"]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"2.1 Information You Provide Directly"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Account Information:"})," Name, email address, phone number, password"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Profile Information:"})," Display name, profile picture, bio, business details"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Enquiry Information:"})," Product/service descriptions, categories, budgets, deadlines, location preferences"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Response Information:"})," Seller submissions, quotes, contact details, business proposals"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Information:"})," Billing address, transaction history (payment card details are processed by Razorpay and not stored by us)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Communication Data:"})," Messages, chat history, feedback, support tickets"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Verification Data:"})," Identity documents, business registration details (for verified users)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Images:"})," Photos uploaded for enquiries or responses"]})]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"2.2 Information Collected Automatically"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Device Information:"})," IP address, browser type, device type, operating system"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Usage Data:"})," Pages viewed, features used, time spent, click patterns"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Location Data:"})," Approximate location based on IP address (with your consent)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cookies and Tracking:"})," Session data, preferences, authentication tokens"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"AI Interaction Data:"})," Search queries, AI recommendation interactions, matchmaking patterns"]})]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"2.3 Information from Third Parties"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Processor:"})," Transaction confirmations from Razorpay"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Authentication Providers:"})," Firebase Authentication data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cloud Services:"})," Image storage metadata from Cloudinary"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Analytics Services:"})," Aggregated usage insights"]})]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(Ko,{className:"w-6 h-6 text-blue-600"}),"3. How We Use Your Information"]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Core Platform Functions"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Create and manage your account"}),i.jsx("li",{children:"Process and display your enquiries and responses"}),i.jsx("li",{children:"Facilitate connections between buyers and sellers"}),i.jsx("li",{children:"Process payments and manage subscriptions"}),i.jsx("li",{children:"Provide customer support"}),i.jsx("li",{children:"Send transactional emails and notifications"})]})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"AI-Powered Features"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Approve and moderate enquiries using AI content analysis"}),i.jsx("li",{children:"Match buyers with relevant sellers using smart algorithms"}),i.jsx("li",{children:"Provide personalized recommendations"}),i.jsx("li",{children:"Detect and prevent spam, fraud, and abuse"}),i.jsx("li",{children:"Analyze images using computer vision technology"}),i.jsx("li",{children:"Generate insights and analytics"})]})]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Other Uses"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Improve and optimize our Platform features"}),i.jsx("li",{children:"Conduct research and analytics"}),i.jsx("li",{children:"Send marketing communications (with your consent)"}),i.jsx("li",{children:"Comply with legal obligations"}),i.jsx("li",{children:"Enforce our Terms and Conditions"}),i.jsx("li",{children:"Protect against security threats"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"4. Information Sharing and Disclosure"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"4.1 When We Share Your Information"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"With Other Users:"})," Your enquiries and responses are visible to relevant users based on matchmaking"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Processing:"})," Transaction data shared with Razorpay for payment processing"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Service Providers:"})," Third-party services for hosting (Firebase, Supabase), image storage (Cloudinary), and analytics"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Legal Requirements:"})," When required by law, court order, or government request"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Business Transfers:"})," In case of merger, acquisition, or sale of assets"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"With Your Consent:"})," When you explicitly authorize sharing"]})]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"4.2 What We DON'T Share"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"We never sell your personal information to third parties"}),i.jsx("li",{children:"Payment card details are never stored or shared (handled by Razorpay)"}),i.jsx("li",{children:"Private messages are not shared with advertisers"}),i.jsx("li",{children:"Identity verification documents are kept confidential"})]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(oue,{className:"w-6 h-6 text-blue-600"}),"5. Your Privacy Rights"]}),i.jsx("p",{className:"mb-3",children:"You have the following rights regarding your personal data:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data (subject to legal retention)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Portability:"})," Export your data in a machine-readable format"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Objection:"})," Opt-out of marketing communications"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Restriction:"})," Request limitation of data processing"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Withdrawal:"})," Withdraw consent for data processing (where applicable)"]})]}),i.jsxs("p",{className:"mt-3",children:["To exercise these rights, contact us at ",i.jsx("a",{href:"mailto:privacy@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"privacy@enqir.in"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"6. Data Security"}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("p",{className:"mb-3",children:"We implement industry-standard security measures to protect your data:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Encryption:"})," HTTPS/TLS encryption for data in transit"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Firebase Security:"})," Secure authentication and database rules"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Razorpay PCI-DSS:"})," Compliant payment processing"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Access Controls:"})," Restricted employee access to sensitive data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Regular Audits:"})," Security assessments and vulnerability testing"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Monitoring:"})," Real-time threat detection and response"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Backup:"})," Regular data backups for disaster recovery"]})]})]}),i.jsxs("p",{className:"mt-3 text-sm text-gray-600",children:[i.jsx("strong",{children:"Note:"})," No system is 100% secure. While we strive to protect your data, we cannot guarantee absolute security."]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"7. Data Retention"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Active Accounts:"})," Data retained while your account is active"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Deleted Accounts:"})," Most data deleted within 30 days of account deletion"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Legal Requirements:"})," Some data retained for 7 years for tax/legal compliance"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Anonymized Data:"})," Aggregated analytics may be retained indefinitely"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Records:"})," Transaction history retained for accounting and dispute resolution"]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"8. Cookies and Tracking Technologies"}),i.jsx("p",{className:"mb-3",children:"We use cookies and similar technologies for:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Essential Cookies:"})," Authentication, security, session management"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Functional Cookies:"})," Remember preferences and settings"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Analytics Cookies:"})," Understand user behavior and improve services"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Marketing Cookies:"})," Personalized advertising (with consent)"]})]}),i.jsx("p",{children:"You can control cookies through your browser settings. Blocking cookies may limit Platform functionality."})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(jh,{className:"w-6 h-6 text-blue-600"}),"9. Marketing Communications"]}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"We may send promotional emails about new features, offers, and updates"}),i.jsx("li",{children:'You can opt-out of marketing emails by clicking "Unsubscribe" in any email'}),i.jsx("li",{children:"Transactional emails (payment confirmations, security alerts) cannot be opted out"}),i.jsx("li",{children:"Push notifications can be disabled in your device settings"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"10. Children's Privacy"}),i.jsxs("p",{children:["Enqir.in is not intended for users under 18 years of age. We do not knowingly collect data from children. If you believe we have inadvertently collected information from a child, contact us immediately at ",i.jsx("a",{href:"mailto:privacy@enqir.in",className:"text-blue-600 hover:underline",children:"privacy@enqir.in"}),", and we will delete it."]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"11. International Data Transfers"}),i.jsx("p",{className:"mb-3",children:"Your data is primarily stored in India. If data is transferred internationally, we ensure adequate safeguards are in place, including:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Standard Contractual Clauses (SCCs)"}),i.jsx("li",{children:"Data Processing Agreements with vendors"}),i.jsx("li",{children:"Compliance with applicable data protection laws"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"12. Third-Party Services"}),i.jsx("p",{className:"mb-3",children:"We integrate with third-party services that have their own privacy policies:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Firebase:"})," ",i.jsx("a",{href:"https://firebase.google.com/support/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Razorpay:"})," ",i.jsx("a",{href:"https://razorpay.com/privacy/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cloudinary:"})," ",i.jsx("a",{href:"https://cloudinary.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Supabase:"})," ",i.jsx("a",{href:"https://supabase.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),i.jsx("p",{className:"mt-3",children:"We are not responsible for third-party privacy practices. Please review their policies independently."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"13. Changes to Privacy Policy"}),i.jsx("p",{children:'We may update this Privacy Policy periodically. Changes will be posted on this page with an updated "Last Updated" date. Significant changes will be notified via email or Platform notification. Continued use after changes constitutes acceptance.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"14. Contact Us"}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("p",{className:"mb-3",children:"For privacy-related questions, concerns, or requests, contact us:"}),i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Privacy Officer"})}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Email:"})," ",i.jsx("a",{href:"mailto:privacy@enqir.in",className:"text-blue-600 hover:underline",children:"privacy@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Support Email:"})," ",i.jsx("a",{href:"mailto:support@enqir.in",className:"text-blue-600 hover:underline",children:"support@enqir.in"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Website:"})," ",i.jsx("a",{href:"https://enqir.in",className:"text-blue-600 hover:underline",children:"https://enqir.in"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"15. Compliance"}),i.jsx("p",{children:"We comply with applicable data protection laws, including:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-3",children:[i.jsx("li",{children:"Information Technology Act, 2000 (India)"}),i.jsx("li",{children:"Information Technology (Reasonable Security Practices and Procedures and Sensitive Personal Data or Information) Rules, 2011"}),i.jsx("li",{children:"General Data Protection Regulation (GDPR) principles for international users"})]})]}),i.jsx("section",{className:"border-t pt-6 mt-6",children:i.jsx("p",{className:"text-sm text-gray-600 italic",children:"By using Enqir.in, you acknowledge that you have read and understood this Privacy Policy and consent to the collection, use, and disclosure of your information as described herein."})})]})})})]})})}),AWe=()=>i.jsx(wt,{children:i.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:i.jsxs(xe,{className:"shadow-lg",children:[i.jsx(jt,{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wb,{className:"w-8 h-8"}),i.jsxs("div",{children:[i.jsx(mr,{className:"text-3xl font-bold",children:"Refund & Cancellation Policy"}),i.jsxs("p",{className:"text-green-100 mt-2",children:["Last Updated: ",new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})]})]})]})}),i.jsx(Ue,{className:"p-6",children:i.jsx(wN,{className:"h-[70vh] pr-4",children:i.jsxs("div",{className:"space-y-6 text-gray-700",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"1. Overview"}),i.jsx("p",{className:"mb-3",children:"At Enqir.in, we strive to provide the best experience for our users. This Refund and Cancellation Policy outlines the circumstances under which refunds are provided for our AI-powered marketplace services."}),i.jsxs("p",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("strong",{children:"Important:"})," All payments are processed securely through Razorpay Payment Gateway. Once a payment plan is activated and responses are unlocked, the service is considered delivered."]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(xt,{className:"w-6 h-6 text-green-600"}),"2. Refund Eligibility"]}),i.jsx("p",{className:"mb-4",children:"Refunds are ONLY provided in the following scenarios:"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Technical Payment Errors"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Payment was deducted from your account but the service was not activated"}),i.jsx("li",{children:"Payment gateway error prevented proper service delivery"}),i.jsx("li",{children:"System malfunction after successful payment"}),i.jsx("li",{children:"Responses were not unlocked despite successful payment"})]}),i.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[i.jsx("strong",{children:"Action Required:"})," Report the issue within 24 hours with transaction ID and screenshot."]})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Duplicate/Accidental Payments"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Accidental double-click resulting in duplicate charges"}),i.jsx("li",{children:"Same plan purchased multiple times due to technical glitch"}),i.jsx("li",{children:"Multiple payments processed for a single transaction"})]}),i.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[i.jsx("strong",{children:"Refund:"})," Full refund for the duplicate transaction(s)."]})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Service Not Delivered"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Payment confirmed but no upgrade/unlocking occurred"}),i.jsx("li",{children:"Plan activation failed despite successful payment"}),i.jsx("li",{children:"Pro Plan purchased but auto-premium feature not working"})]}),i.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[i.jsx("strong",{children:"Refund:"})," Full refund after verification."]})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Unauthorized Transactions"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Fraudulent transaction made without your authorization"}),i.jsx("li",{children:"Account compromised and payment made by unauthorized person"})]}),i.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[i.jsx("strong",{children:"Action Required:"})," File a complaint with transaction proof, police report (if applicable), and identity verification."]})]})]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(MC,{className:"w-6 h-6 text-red-600"}),"3. Non-Refundable Scenarios"]}),i.jsx("p",{className:"mb-4",children:"Refunds will NOT be provided in the following cases:"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Change of Mind"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"You changed your mind after viewing unlocked seller responses"}),i.jsx("li",{children:"You decided you don't need the service anymore"}),i.jsx("li",{children:"You found an alternative solution"})]}),i.jsx("p",{className:"mt-2 text-sm text-red-700 font-semibold",children:'Digital content is delivered instantly upon payment. Once unlocked, it cannot be "returned."'})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Dissatisfaction with Seller Responses"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Quality of seller responses did not meet your expectations"}),i.jsx("li",{children:"Seller quotes are too high"}),i.jsx("li",{children:"Sellers did not respond quickly enough"}),i.jsx("li",{children:"Number of responses received is lower than expected"})]}),i.jsx("p",{className:"mt-2 text-sm text-red-700 font-semibold",children:"Enqir.in facilitates connections but does not control seller content. Payment unlocks access, not guaranteed results."})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" No Seller Responses Received"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Your enquiry did not receive any seller responses"}),i.jsx("li",{children:"Low response rate due to niche category or high budget"})]}),i.jsx("p",{className:"mt-2 text-sm text-red-700 font-semibold",children:'Payment unlocks "access" to view responses, not guaranteed responses. Sellers are independent third parties.'})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Terms of Service Violation"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Account suspended or terminated for violating Terms and Conditions"}),i.jsx("li",{children:"Fraudulent activity detected on your account"}),i.jsx("li",{children:"Abusive behavior towards other users"})]})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Pro Plan After Usage"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Refund request for Pro Plan after using any of the 10 premium enquiries"}),i.jsx("li",{children:"Partial refund for unused Pro enquiries"})]}),i.jsx("p",{className:"mt-2 text-sm text-red-700 font-semibold",children:"Pro Plan is a prepaid package. Once activated, it cannot be refunded or partially refunded."})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Late Refund Requests"}),i.jsx("ul",{className:"list-disc pl-6 space-y-2",children:i.jsx("li",{children:"Refund request raised more than 24 hours after payment"})}),i.jsx("p",{className:"mt-2 text-sm text-red-700 font-semibold",children:"All refund requests must be submitted within 24 hours of transaction."})]})]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(jn,{className:"w-6 h-6 text-blue-600"}),"4. Refund Request Process"]}),i.jsx("p",{className:"mb-4",children:"To request a refund, follow these steps:"}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0",children:"1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Contact Support Within 24 Hours"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Email ",i.jsx("a",{href:"mailto:refunds@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"refunds@enqir.in"}),' with subject "Refund Request - [Transaction ID]"']})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0",children:"2"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Provide Required Information"}),i.jsxs("ul",{className:"text-sm text-gray-600 list-disc pl-5 mt-1",children:[i.jsx("li",{children:"Full Name and Registered Email"}),i.jsx("li",{children:"Transaction ID / Payment Reference Number"}),i.jsx("li",{children:"Date and Amount of Payment"}),i.jsx("li",{children:"Reason for Refund Request"}),i.jsx("li",{children:"Screenshot of Payment Confirmation"}),i.jsx("li",{children:"Screenshot showing the issue (if applicable)"})]})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0",children:"3"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Wait for Verification"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Our team will review your request within 2-3 business days and contact you via email"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0",children:"4"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Refund Processing"}),i.jsx("p",{className:"text-sm text-gray-600",children:"If approved, refund will be initiated within 5-7 business days"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0",children:"5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Receive Refund"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Refund credited to original payment method within 7-10 business days (depending on your bank)"})]})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"5. Refund Timeline"}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(xt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Request Review:"})," 2-3 business days"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(xt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Refund Initiation:"})," 5-7 business days after approval"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(xt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Bank Credit (UPI/Wallets):"})," 3-5 business days"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(xt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Bank Credit (Cards/Net Banking):"})," 7-10 business days"]})]})]}),i.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:[i.jsx("strong",{children:"Total Maximum Time:"})," Up to 20 business days from request to bank credit."]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"6. Cancellation Policy"}),i.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("p",{className:"mb-3",children:i.jsx("strong",{children:"Digital Services - No Cancellation After Purchase:"})}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Once a payment plan is purchased and activated, it cannot be cancelled"}),i.jsx("li",{children:"Digital content (unlocked responses) is delivered instantly and irreversibly"}),i.jsx("li",{children:"You may request a refund only if eligible under Section 2 above"}),i.jsx("li",{children:"Pro Plan activation is immediate and cannot be cancelled once purchased"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"7. Payment Plan-Specific Terms"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Free Plan (0)"}),i.jsx("p",{className:"text-sm text-gray-600",children:"No payment, no refund applicable"})]}),i.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Basic Plan (99)"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Unlocks 5 responses for one enquiry. No refund after viewing responses."})]}),i.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Standard Plan (199)"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Unlocks 10 responses for one enquiry. No refund after viewing responses."})]}),i.jsxs("div",{className:"border-l-4 border-yellow-500 pl-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Premium Plan (499)"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Unlocks unlimited responses for one enquiry. No refund after activation."})]}),i.jsxs("div",{className:"border-l-4 border-indigo-500 pl-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Pro Plan (1,499)"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Next 10 enquiries get auto-premium. No refund after using any enquiry. No partial refunds."})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"8. Dispute Resolution"}),i.jsx("p",{className:"mb-3",children:"If your refund request is rejected and you disagree with the decision:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsxs("li",{children:["You may escalate to our senior support team at ",i.jsx("a",{href:"mailto:disputes@enqir.in",className:"text-blue-600 hover:underline",children:"disputes@enqir.in"})]}),i.jsx("li",{children:"Provide additional evidence or documentation to support your claim"}),i.jsx("li",{children:"Final decision rests with Enqir.in management"}),i.jsx("li",{children:"If still unresolved, you may pursue legal recourse as per our Terms and Conditions"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"9. Contact Information"}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("p",{className:"mb-3",children:i.jsx("strong",{children:"For Refund Requests:"})}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Email:"})," ",i.jsx("a",{href:"mailto:refunds@enqir.in",className:"text-blue-600 hover:underline",children:"refunds@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Support Email:"})," ",i.jsx("a",{href:"mailto:support@enqir.in",className:"text-blue-600 hover:underline",children:"support@enqir.in"})]}),i.jsxs("p",{className:"mb-4",children:[i.jsx("strong",{children:"Response Time:"})," Within 24-48 hours"]}),i.jsx("p",{className:"mb-3",children:i.jsx("strong",{children:"Required Information in Email:"})}),i.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm text-gray-600",children:[i.jsx("li",{children:'Subject: "Refund Request - [Transaction ID]"'}),i.jsx("li",{children:"Your registered email and name"}),i.jsx("li",{children:"Transaction ID and payment amount"}),i.jsx("li",{children:"Detailed reason for refund"}),i.jsx("li",{children:"Supporting screenshots/documents"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"10. Policy Updates"}),i.jsx("p",{children:"We reserve the right to modify this Refund and Cancellation Policy at any time. Changes will be effective immediately upon posting. Continued use of the Platform after changes constitutes acceptance."})]}),i.jsxs("section",{className:"border-t pt-6 mt-6 bg-blue-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Important Reminder"}),i.jsxs("p",{className:"text-sm text-gray-700",children:["Enqir.in is a ",i.jsx("strong",{children:"marketplace platform"})," that facilitates connections between buyers and sellers. Payment unlocks ",i.jsx("strong",{children:"access to view seller responses"}),", not guaranteed business outcomes or transaction success. We do not control seller content, quality, or availability. Please read all terms carefully before making a purchase."]})]})]})})})]})})}),TWe=()=>i.jsx(wt,{children:i.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:i.jsxs(xe,{className:"shadow-lg",children:[i.jsxs(jt,{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[i.jsx(mr,{className:"text-3xl font-bold",children:"Contact Us"}),i.jsx("p",{className:"text-indigo-100 mt-2",children:"We're here to help! Reach out to us for any queries or support."})]}),i.jsx(Ue,{className:"p-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Get in Touch"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(xe,{className:"border-2 border-blue-200 hover:border-blue-400 transition-all",children:[i.jsx(jt,{className:"bg-blue-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Wa,{className:"w-6 h-6 text-blue-600"}),i.jsx(mr,{className:"text-lg",children:"General Support"})]})}),i.jsxs(Ue,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"For general queries and assistance"}),i.jsx("a",{href:"mailto:support@enqir.in",className:"text-blue-600 hover:underline font-semibold text-lg",children:"support@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: 24-48 hours"})]})]}),i.jsxs(xe,{className:"border-2 border-green-200 hover:border-green-400 transition-all",children:[i.jsx(jt,{className:"bg-green-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(o_,{className:"w-6 h-6 text-green-600"}),i.jsx(mr,{className:"text-lg",children:"Payment & Refunds"})]})}),i.jsxs(Ue,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"For payment and refund issues"}),i.jsx("a",{href:"mailto:refunds@enqir.in",className:"text-green-600 hover:underline font-semibold text-lg",children:"refunds@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: 24 hours"})]})]}),i.jsxs(xe,{className:"border-2 border-purple-200 hover:border-purple-400 transition-all",children:[i.jsx(jt,{className:"bg-purple-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Cr,{className:"w-6 h-6 text-purple-600"}),i.jsx(mr,{className:"text-lg",children:"Privacy & Legal"})]})}),i.jsxs(Ue,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"For privacy and legal matters"}),i.jsx("a",{href:"mailto:legal@enqir.in",className:"text-purple-600 hover:underline font-semibold text-lg",children:"legal@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: 3-5 business days"})]})]}),i.jsxs(xe,{className:"border-2 border-cyan-200 hover:border-cyan-400 transition-all",children:[i.jsx(jt,{className:"bg-cyan-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx($ce,{className:"w-6 h-6 text-cyan-600"}),i.jsx(mr,{className:"text-lg",children:"Data Privacy"})]})}),i.jsxs(Ue,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"For data protection requests"}),i.jsx("a",{href:"mailto:privacy@enqir.in",className:"text-cyan-600 hover:underline font-semibold text-lg",children:"privacy@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: 5-7 business days"})]})]}),i.jsxs(xe,{className:"border-2 border-red-200 hover:border-red-400 transition-all",children:[i.jsx(jt,{className:"bg-red-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Vg,{className:"w-6 h-6 text-red-600"}),i.jsx(mr,{className:"text-lg",children:"Report Issues"})]})}),i.jsxs(Ue,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"Report fraud or abuse"}),i.jsx("a",{href:"mailto:report@enqir.in",className:"text-red-600 hover:underline font-semibold text-lg",children:"report@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: Immediate priority"})]})]}),i.jsxs(xe,{className:"border-2 border-yellow-200 hover:border-yellow-400 transition-all",children:[i.jsx(jt,{className:"bg-yellow-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(yr,{className:"w-6 h-6 text-yellow-600"}),i.jsx(mr,{className:"text-lg",children:"Disputes"})]})}),i.jsxs(Ue,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"For escalated disputes"}),i.jsx("a",{href:"mailto:disputes@enqir.in",className:"text-yellow-600 hover:underline font-semibold text-lg",children:"disputes@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: 2-3 business days"})]})]})]})]}),i.jsxs("section",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 p-6 rounded-lg border border-purple-200",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Business Information"}),i.jsxs("div",{className:"space-y-2 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Company Name:"})," Enqir"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Website:"})," ",i.jsx("a",{href:"https://enqir.in",className:"text-purple-600 hover:underline",children:"https://enqir.in"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Platform:"})," AI-Powered Marketplace"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Service:"})," Connecting Buyers with Sellers"]})]})]}),i.jsxs("section",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Before You Email"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"To help us assist you faster, please include the following in your email:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Your registered email address"})," on Enqir.in"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Transaction ID"})," (for payment-related queries)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Screenshots or evidence"})," (if reporting an issue)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Detailed description"})," of your query or problem"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Date and time"})," when the issue occurred (if applicable)"]})]})]}),i.jsxs("section",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Frequently Asked Questions"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"How long does it take to get a response?"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Most queries are answered within 24-48 hours. Payment and refund queries are prioritized and answered within 24 hours."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Can I call for support?"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Currently, we only provide email support. This helps us maintain detailed records and provide better assistance."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"What if my issue is urgent?"}),i.jsxs("p",{className:"text-gray-600 text-sm",children:["For payment failures or technical errors, email ",i.jsx("a",{href:"mailto:support@enqir.in",className:"text-blue-600 hover:underline",children:"support@enqir.in"}),' with "URGENT" in the subject line.']})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"How do I track my refund status?"}),i.jsxs("p",{className:"text-gray-600 text-sm",children:["After submitting a refund request, you'll receive a tracking number. Email ",i.jsx("a",{href:"mailto:refunds@enqir.in",className:"text-blue-600 hover:underline",children:"refunds@enqir.in"})," with your tracking number for updates."]})]})]})]}),i.jsxs("section",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-lg border-2 border-indigo-300",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:" Email Template for Refund Requests"}),i.jsxs("div",{className:"bg-white p-4 rounded border border-gray-200 font-mono text-sm text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Subject:"})," Refund Request - [Your Transaction ID]"]}),i.jsx("p",{className:"mt-2",children:i.jsx("strong",{children:"Body:"})}),i.jsx("p",{className:"mt-1",children:"- Full Name: [Your Name]"}),i.jsx("p",{children:"- Registered Email: [Your Email]"}),i.jsx("p",{children:"- Transaction ID: [e.g., TXN123456789]"}),i.jsx("p",{children:"- Payment Amount: [Amount]"}),i.jsx("p",{children:"- Payment Date: [DD/MM/YYYY]"}),i.jsx("p",{children:"- Reason for Refund: [Detailed explanation]"}),i.jsx("p",{children:"- Attachments: [Payment screenshot, issue screenshot]"})]})]}),i.jsx("section",{className:"text-center text-gray-600 text-sm border-t pt-4",children:i.jsxs("p",{children:["For policy details, please review our"," ",i.jsx("a",{href:"/terms-and-conditions",className:"text-purple-600 hover:underline font-semibold",children:"Terms and Conditions"}),","," ",i.jsx("a",{href:"/privacy-policy",className:"text-purple-600 hover:underline font-semibold",children:"Privacy Policy"}),", and"," ",i.jsx("a",{href:"/refund-policy",className:"text-purple-600 hover:underline font-semibold",children:"Refund Policy"}),"."]})})]})})]})})});console.log(" Firebase is connected:",TC);console.log(" AI Services: Automated approval system initialized");const CWe=new xfe,kWe=()=>i.jsx(Gue,{attribute:"class",defaultTheme:"light",enableSystem:!1,children:i.jsx(vfe,{client:CWe,children:i.jsx(Khe,{children:i.jsx(Pme,{children:i.jsx(Tme,{children:i.jsxs(jme,{children:[i.jsx(zue,{}),i.jsx(jde,{}),i.jsxs(pme,{children:[i.jsx(vme,{}),i.jsxs(ome,{children:[i.jsx(Jt,{path:"/",element:i.jsx(b1e,{})}),i.jsx(Jt,{path:"/dashboard",element:i.jsx(h0e,{children:i.jsx(bi,{children:i.jsx(N1e,{})})})}),i.jsx(Jt,{path:"/enquiries",element:i.jsx(a3,{})}),i.jsx(Jt,{path:"/browse",element:i.jsx(a3,{})}),i.jsx(Jt,{path:"/post-enquiry",element:i.jsx(bi,{children:i.jsx(XNe,{})})}),i.jsx(Jt,{path:"/respond/:enquiryId",element:i.jsx(bi,{children:i.jsx(u2e,{})})}),i.jsx(Jt,{path:"/my-enquiries",element:i.jsx(bi,{children:i.jsx(d2e,{})})}),i.jsx(Jt,{path:"/my-responses",element:i.jsx(bi,{children:i.jsx(h2e,{})})}),i.jsx(Jt,{path:"/saved-enquiries",element:i.jsx(bi,{children:i.jsx(f2e,{})})}),i.jsx(Jt,{path:"/enquiry/:enquiryId/responses",element:i.jsx(bi,{children:i.jsx(p2e,{})})}),i.jsx(Jt,{path:"/enquiry/:enquiryId/responses-page",element:i.jsx(bi,{children:i.jsx(y2e,{})})}),i.jsx(Jt,{path:"/enquiry/:enquiryId/detailed-responses",element:i.jsx(bi,{children:i.jsx(x2e,{})})}),i.jsx(Jt,{path:"/enquiry/:id",element:i.jsx(v2e,{})}),i.jsx(Jt,{path:"/data-clear",element:i.jsx(b2e,{})}),i.jsx(Jt,{path:"/profile",element:i.jsx(bi,{children:i.jsx(j2e,{})})}),i.jsx(Jt,{path:"/settings",element:i.jsx(bi,{children:i.jsx($2e,{})})}),i.jsx(Jt,{path:"/notifications",element:i.jsx(bi,{children:i.jsx(L2e,{})})}),i.jsx(Jt,{path:"/signin",element:i.jsx(_2e,{})}),i.jsx(Jt,{path:"/forgot-password",element:i.jsx(P2e,{})}),i.jsx(Jt,{path:"/reset-password",element:i.jsx(A2e,{})}),i.jsx(Jt,{path:"/auth/callback",element:i.jsx(T2e,{})}),i.jsx(Jt,{path:"/admin",element:i.jsx(uWe,{})}),i.jsx(Jt,{path:"/test-premium",element:i.jsx(dWe,{})}),i.jsx(Jt,{path:"/terms-and-conditions",element:i.jsx(_We,{})}),i.jsx(Jt,{path:"/privacy-policy",element:i.jsx(PWe,{})}),i.jsx(Jt,{path:"/refund-policy",element:i.jsx(AWe,{})}),i.jsx(Jt,{path:"/contact-us",element:i.jsx(TWe,{})}),i.jsx(Jt,{path:"*",element:i.jsx(F2e,{})})]})]})]})})})})})});FV(document.getElementById("root")).render(i.jsx(kWe,{}));export{GM as H,lu as M,ke as a,oe as b,Tle as d,Vt as g,i as j,g as r,$e as s,dt as u};
