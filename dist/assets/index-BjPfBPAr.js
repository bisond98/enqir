var CJ=Object.defineProperty;var tO=t=>{throw TypeError(t)};var kJ=(t,e,r)=>e in t?CJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Tn=(t,e,r)=>kJ(t,typeof e!="symbol"?e+"":e,r),$N=(t,e,r)=>e.has(t)||tO("Cannot "+r);var Ee=(t,e,r)=>($N(t,e,"read from private field"),r?r.call(t):e.get(t)),Kt=(t,e,r)=>e.has(t)?tO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ct=(t,e,r,n)=>($N(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Zn=(t,e,r)=>($N(t,e,"access private method"),r);var o0=(t,e,r,n)=>({set _(s){Ct(t,e,s,r)},get _(){return Ee(t,e,n)}});function IJ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IF={exports:{}},t1={},RF={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=Symbol.for("react.element"),RJ=Symbol.for("react.portal"),OJ=Symbol.for("react.fragment"),DJ=Symbol.for("react.strict_mode"),MJ=Symbol.for("react.profiler"),$J=Symbol.for("react.provider"),LJ=Symbol.for("react.context"),FJ=Symbol.for("react.forward_ref"),VJ=Symbol.for("react.suspense"),BJ=Symbol.for("react.memo"),UJ=Symbol.for("react.lazy"),rO=Symbol.iterator;function qJ(t){return t===null||typeof t!="object"?null:(t=rO&&t[rO]||t["@@iterator"],typeof t=="function"?t:null)}var OF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DF=Object.assign,MF={};function Zf(t,e,r){this.props=t,this.context=e,this.refs=MF,this.updater=r||OF}Zf.prototype.isReactComponent={};Zf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $F(){}$F.prototype=Zf.prototype;function UA(t,e,r){this.props=t,this.context=e,this.refs=MF,this.updater=r||OF}var qA=UA.prototype=new $F;qA.constructor=UA;DF(qA,Zf.prototype);qA.isPureReactComponent=!0;var nO=Array.isArray,LF=Object.prototype.hasOwnProperty,zA={current:null},FF={key:!0,ref:!0,__self:!0,__source:!0};function VF(t,e,r){var n,s={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)LF.call(e,n)&&!FF.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Gx,type:t,key:a,ref:o,props:s,_owner:zA.current}}function zJ(t,e){return{$$typeof:Gx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function WA(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gx}function WJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var sO=/\/+/g;function LN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WJ(""+t.key):e.toString(36)}function av(t,e,r,n,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gx:case RJ:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+LN(o,0):n,nO(s)?(r="",t!=null&&(r=t.replace(sO,"$&/")+"/"),av(s,e,r,"",function(u){return u})):s!=null&&(WA(s)&&(s=zJ(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(sO,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",nO(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+LN(a,l);o+=av(a,e,r,c,s)}else if(c=qJ(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+LN(a,l++),o+=av(a,e,r,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function c0(t,e,r){if(t==null)return t;var n=[],s=0;return av(t,n,"","",function(a){return e.call(r,a,s++)}),n}function HJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ts={current:null},ov={transition:null},GJ={ReactCurrentDispatcher:Ts,ReactCurrentBatchConfig:ov,ReactCurrentOwner:zA};function BF(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:c0,forEach:function(t,e,r){c0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return c0(t,function(){e++}),e},toArray:function(t){return c0(t,function(e){return e})||[]},only:function(t){if(!WA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=Zf;Ot.Fragment=OJ;Ot.Profiler=MJ;Ot.PureComponent=UA;Ot.StrictMode=DJ;Ot.Suspense=VJ;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GJ;Ot.act=BF;Ot.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=DF({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=zA.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)LF.call(e,c)&&!FF.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Gx,type:t.type,key:s,ref:a,props:n,_owner:o}};Ot.createContext=function(t){return t={$$typeof:LJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$J,_context:t},t.Consumer=t};Ot.createElement=VF;Ot.createFactory=function(t){var e=VF.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:FJ,render:t}};Ot.isValidElement=WA;Ot.lazy=function(t){return{$$typeof:UJ,_payload:{_status:-1,_result:t},_init:HJ}};Ot.memo=function(t,e){return{$$typeof:BJ,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=ov.transition;ov.transition={};try{t()}finally{ov.transition=e}};Ot.unstable_act=BF;Ot.useCallback=function(t,e){return Ts.current.useCallback(t,e)};Ot.useContext=function(t){return Ts.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return Ts.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return Ts.current.useEffect(t,e)};Ot.useId=function(){return Ts.current.useId()};Ot.useImperativeHandle=function(t,e,r){return Ts.current.useImperativeHandle(t,e,r)};Ot.useInsertionEffect=function(t,e){return Ts.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return Ts.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return Ts.current.useMemo(t,e)};Ot.useReducer=function(t,e,r){return Ts.current.useReducer(t,e,r)};Ot.useRef=function(t){return Ts.current.useRef(t)};Ot.useState=function(t){return Ts.current.useState(t)};Ot.useSyncExternalStore=function(t,e,r){return Ts.current.useSyncExternalStore(t,e,r)};Ot.useTransition=function(){return Ts.current.useTransition()};Ot.version="18.3.1";RF.exports=Ot;var g=RF.exports;const V=Qt(g),UF=IJ({__proto__:null,default:V},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KJ=g,YJ=Symbol.for("react.element"),QJ=Symbol.for("react.fragment"),XJ=Object.prototype.hasOwnProperty,JJ=KJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZJ={key:!0,ref:!0,__self:!0,__source:!0};function qF(t,e,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)XJ.call(e,n)&&!ZJ.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:YJ,type:t,key:a,ref:o,props:s,_owner:JJ.current}}t1.Fragment=QJ;t1.jsx=qF;t1.jsxs=qF;IF.exports=t1;var i=IF.exports,zF={exports:{}},gi={},WF={exports:{}},HF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var Y=$.length;$.push(U);e:for(;0<Y;){var K=Y-1>>>1,X=$[K];if(0<s(X,U))$[K]=U,$[Y]=X,Y=K;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var U=$[0],Y=$.pop();if(Y!==U){$[0]=Y;e:for(var K=0,X=$.length,he=X>>>1;K<he;){var D=2*(K+1)-1,H=$[D],se=D+1,Q=$[se];if(0>s(H,Y))se<X&&0>s(Q,H)?($[K]=Q,$[se]=Y,K=se):($[K]=H,$[D]=Y,K=D);else if(se<X&&0>s(Q,Y))$[K]=Q,$[se]=Y,K=se;else break e}}return U}function s($,U){var Y=$.sortIndex-U.sortIndex;return Y!==0?Y:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,x=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j($){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=$)n(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=r(u)}}function N($){if(p=!1,j($),!x)if(r(c)!==null)x=!0,W(E);else{var U=r(u);U!==null&&B(N,U.startTime-$)}}function E($,U){x=!1,p&&(p=!1,w(S),S=-1),m=!0;var Y=f;try{for(j(U),h=r(c);h!==null&&(!(h.expirationTime>U)||$&&!R());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var X=K(h.expirationTime<=U);U=t.unstable_now(),typeof X=="function"?h.callback=X:h===r(c)&&n(c),j(U)}else n(c);h=r(c)}if(h!==null)var he=!0;else{var D=r(u);D!==null&&B(N,D.startTime-U),he=!1}return he}finally{h=null,f=Y,m=!1}}var C=!1,P=null,S=-1,A=5,T=-1;function R(){return!(t.unstable_now()-T<A)}function _(){if(P!==null){var $=t.unstable_now();T=$;var U=!0;try{U=P(!0,$)}finally{U?I():(C=!1,P=null)}}else C=!1}var I;if(typeof b=="function")I=function(){b(_)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,z=M.port2;M.port1.onmessage=_,I=function(){z.postMessage(null)}}else I=function(){v(_,0)};function W($){P=$,C||(C=!0,I())}function B($,U){S=v(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,W(E))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var Y=f;f=U;try{return $()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=f;f=$;try{return U()}finally{f=Y}},t.unstable_scheduleCallback=function($,U,Y){var K=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,$){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,$={id:d++,callback:U,priorityLevel:$,startTime:Y,expirationTime:X,sortIndex:-1},Y>K?($.sortIndex=Y,e(u,$),r(c)===null&&$===r(u)&&(p?(w(S),S=-1):p=!0,B(N,Y-K))):($.sortIndex=X,e(c,$),x||m||(x=!0,W(E))),$},t.unstable_shouldYield=R,t.unstable_wrapCallback=function($){var U=f;return function(){var Y=f;f=U;try{return $.apply(this,arguments)}finally{f=Y}}}})(HF);WF.exports=HF;var eZ=WF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tZ=g,mi=eZ;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GF=new Set,wg={};function fd(t,e){Kh(t,e),Kh(t+"Capture",e)}function Kh(t,e){for(wg[t]=e,t=0;t<e.length;t++)GF.add(e[t])}var zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qS=Object.prototype.hasOwnProperty,rZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iO={},aO={};function nZ(t){return qS.call(aO,t)?!0:qS.call(iO,t)?!1:rZ.test(t)?aO[t]=!0:(iO[t]=!0,!1)}function sZ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iZ(t,e,r,n){if(e===null||typeof e>"u"||sZ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cs(t,e,r,n,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new Cs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new Cs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new Cs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new Cs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new Cs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new Cs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new Cs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new Cs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new Cs(t,5,!1,t.toLowerCase(),null,!1,!1)});var HA=/[\-:]([a-z])/g;function GA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(HA,GA);Kn[e]=new Cs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(HA,GA);Kn[e]=new Cs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(HA,GA);Kn[e]=new Cs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new Cs(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new Cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new Cs(t,1,!1,t.toLowerCase(),null,!0,!0)});function KA(t,e,r,n){var s=Kn.hasOwnProperty(e)?Kn[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iZ(e,r,s,n)&&(r=null),n||s===null?nZ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ll=tZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u0=Symbol.for("react.element"),Hd=Symbol.for("react.portal"),Gd=Symbol.for("react.fragment"),YA=Symbol.for("react.strict_mode"),zS=Symbol.for("react.profiler"),KF=Symbol.for("react.provider"),YF=Symbol.for("react.context"),QA=Symbol.for("react.forward_ref"),WS=Symbol.for("react.suspense"),HS=Symbol.for("react.suspense_list"),XA=Symbol.for("react.memo"),_l=Symbol.for("react.lazy"),QF=Symbol.for("react.offscreen"),oO=Symbol.iterator;function Zm(t){return t===null||typeof t!="object"?null:(t=oO&&t[oO]||t["@@iterator"],typeof t=="function"?t:null)}var zr=Object.assign,FN;function Sp(t){if(FN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);FN=e&&e[1]||""}return`
`+FN+t}var VN=!1;function BN(t,e){if(!t||VN)return"";VN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{VN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Sp(t):""}function aZ(t){switch(t.tag){case 5:return Sp(t.type);case 16:return Sp("Lazy");case 13:return Sp("Suspense");case 19:return Sp("SuspenseList");case 0:case 2:case 15:return t=BN(t.type,!1),t;case 11:return t=BN(t.type.render,!1),t;case 1:return t=BN(t.type,!0),t;default:return""}}function GS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gd:return"Fragment";case Hd:return"Portal";case zS:return"Profiler";case YA:return"StrictMode";case WS:return"Suspense";case HS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case YF:return(t.displayName||"Context")+".Consumer";case KF:return(t._context.displayName||"Context")+".Provider";case QA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case XA:return e=t.displayName||null,e!==null?e:GS(t.type)||"Memo";case _l:e=t._payload,t=t._init;try{return GS(t(e))}catch{}}return null}function oZ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return GS(e);case 8:return e===YA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lZ(t){var e=XF(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function d0(t){t._valueTracker||(t._valueTracker=lZ(t))}function JF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=XF(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Bv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function KS(t,e){var r=e.checked;return zr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function lO(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=pc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZF(t,e){e=e.checked,e!=null&&KA(t,"checked",e,!1)}function YS(t,e){ZF(t,e);var r=pc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?QS(t,e.type,r):e.hasOwnProperty("defaultValue")&&QS(t,e.type,pc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cO(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function QS(t,e,r){(e!=="number"||Bv(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ep=Array.isArray;function ph(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+pc(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function XS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return zr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uO(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Oe(92));if(Ep(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:pc(r)}}function eV(t,e){var r=pc(e.value),n=pc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function dO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function JS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var h0,rV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(h0=h0||document.createElement("div"),h0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=h0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Lp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cZ=["Webkit","ms","Moz","O"];Object.keys(Lp).forEach(function(t){cZ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lp[e]=Lp[t]})});function nV(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Lp.hasOwnProperty(t)&&Lp[t]?(""+e).trim():e+"px"}function sV(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=nV(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var uZ=zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ZS(t,e){if(e){if(uZ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function eE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tE=null;function JA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rE=null,gh=null,xh=null;function hO(t){if(t=Qx(t)){if(typeof rE!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=a1(e),rE(t.stateNode,t.type,e))}}function iV(t){gh?xh?xh.push(t):xh=[t]:gh=t}function aV(){if(gh){var t=gh,e=xh;if(xh=gh=null,hO(t),e)for(t=0;t<e.length;t++)hO(e[t])}}function oV(t,e){return t(e)}function lV(){}var UN=!1;function cV(t,e,r){if(UN)return t(e,r);UN=!0;try{return oV(t,e,r)}finally{UN=!1,(gh!==null||xh!==null)&&(lV(),aV())}}function Ng(t,e){var r=t.stateNode;if(r===null)return null;var n=a1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Oe(231,e,typeof r));return r}var nE=!1;if(zo)try{var ep={};Object.defineProperty(ep,"passive",{get:function(){nE=!0}}),window.addEventListener("test",ep,ep),window.removeEventListener("test",ep,ep)}catch{nE=!1}function dZ(t,e,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Fp=!1,Uv=null,qv=!1,sE=null,hZ={onError:function(t){Fp=!0,Uv=t}};function fZ(t,e,r,n,s,a,o,l,c){Fp=!1,Uv=null,dZ.apply(hZ,arguments)}function mZ(t,e,r,n,s,a,o,l,c){if(fZ.apply(this,arguments),Fp){if(Fp){var u=Uv;Fp=!1,Uv=null}else throw Error(Oe(198));qv||(qv=!0,sE=u)}}function md(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function uV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fO(t){if(md(t)!==t)throw Error(Oe(188))}function pZ(t){var e=t.alternate;if(!e){if(e=md(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return fO(s),t;if(a===n)return fO(s),e;a=a.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?t:e}function dV(t){return t=pZ(t),t!==null?hV(t):null}function hV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hV(t);if(e!==null)return e;t=t.sibling}return null}var fV=mi.unstable_scheduleCallback,mO=mi.unstable_cancelCallback,gZ=mi.unstable_shouldYield,xZ=mi.unstable_requestPaint,nn=mi.unstable_now,yZ=mi.unstable_getCurrentPriorityLevel,ZA=mi.unstable_ImmediatePriority,mV=mi.unstable_UserBlockingPriority,zv=mi.unstable_NormalPriority,vZ=mi.unstable_LowPriority,pV=mi.unstable_IdlePriority,r1=null,Ga=null;function bZ(t){if(Ga&&typeof Ga.onCommitFiberRoot=="function")try{Ga.onCommitFiberRoot(r1,t,void 0,(t.current.flags&128)===128)}catch{}}var da=Math.clz32?Math.clz32:NZ,wZ=Math.log,jZ=Math.LN2;function NZ(t){return t>>>=0,t===0?32:31-(wZ(t)/jZ|0)|0}var f0=64,m0=4194304;function Pp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wv(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Pp(l):(a&=o,a!==0&&(n=Pp(a)))}else o=r&~s,o!==0?n=Pp(o):a!==0&&(n=Pp(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-da(e),s=1<<r,n|=t[r],e&=~s;return n}function SZ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EZ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-da(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=SZ(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function iE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gV(){var t=f0;return f0<<=1,!(f0&4194240)&&(f0=64),t}function qN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Kx(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-da(e),t[e]=r}function PZ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-da(r),a=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~a}}function eT(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-da(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var er=0;function xV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yV,tT,vV,bV,wV,aE=!1,p0=[],Xl=null,Jl=null,Zl=null,Sg=new Map,Eg=new Map,Cl=[],_Z="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pO(t,e){switch(t){case"focusin":case"focusout":Xl=null;break;case"dragenter":case"dragleave":Jl=null;break;case"mouseover":case"mouseout":Zl=null;break;case"pointerover":case"pointerout":Sg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eg.delete(e.pointerId)}}function tp(t,e,r,n,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Qx(e),e!==null&&tT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function AZ(t,e,r,n,s){switch(e){case"focusin":return Xl=tp(Xl,t,e,r,n,s),!0;case"dragenter":return Jl=tp(Jl,t,e,r,n,s),!0;case"mouseover":return Zl=tp(Zl,t,e,r,n,s),!0;case"pointerover":var a=s.pointerId;return Sg.set(a,tp(Sg.get(a)||null,t,e,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Eg.set(a,tp(Eg.get(a)||null,t,e,r,n,s)),!0}return!1}function jV(t){var e=pu(t.target);if(e!==null){var r=md(e);if(r!==null){if(e=r.tag,e===13){if(e=uV(r),e!==null){t.blockedOn=e,wV(t.priority,function(){vV(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=oE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);tE=n,r.target.dispatchEvent(n),tE=null}else return e=Qx(r),e!==null&&tT(e),t.blockedOn=r,!1;e.shift()}return!0}function gO(t,e,r){lv(t)&&r.delete(e)}function TZ(){aE=!1,Xl!==null&&lv(Xl)&&(Xl=null),Jl!==null&&lv(Jl)&&(Jl=null),Zl!==null&&lv(Zl)&&(Zl=null),Sg.forEach(gO),Eg.forEach(gO)}function rp(t,e){t.blockedOn===e&&(t.blockedOn=null,aE||(aE=!0,mi.unstable_scheduleCallback(mi.unstable_NormalPriority,TZ)))}function Pg(t){function e(s){return rp(s,t)}if(0<p0.length){rp(p0[0],t);for(var r=1;r<p0.length;r++){var n=p0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Xl!==null&&rp(Xl,t),Jl!==null&&rp(Jl,t),Zl!==null&&rp(Zl,t),Sg.forEach(e),Eg.forEach(e),r=0;r<Cl.length;r++)n=Cl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Cl.length&&(r=Cl[0],r.blockedOn===null);)jV(r),r.blockedOn===null&&Cl.shift()}var yh=ll.ReactCurrentBatchConfig,Hv=!0;function CZ(t,e,r,n){var s=er,a=yh.transition;yh.transition=null;try{er=1,rT(t,e,r,n)}finally{er=s,yh.transition=a}}function kZ(t,e,r,n){var s=er,a=yh.transition;yh.transition=null;try{er=4,rT(t,e,r,n)}finally{er=s,yh.transition=a}}function rT(t,e,r,n){if(Hv){var s=oE(t,e,r,n);if(s===null)ZN(t,e,n,Gv,r),pO(t,n);else if(AZ(s,t,e,r,n))n.stopPropagation();else if(pO(t,n),e&4&&-1<_Z.indexOf(t)){for(;s!==null;){var a=Qx(s);if(a!==null&&yV(a),a=oE(t,e,r,n),a===null&&ZN(t,e,n,Gv,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else ZN(t,e,n,null,r)}}var Gv=null;function oE(t,e,r,n){if(Gv=null,t=JA(n),t=pu(t),t!==null)if(e=md(t),e===null)t=null;else if(r=e.tag,r===13){if(t=uV(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gv=t,null}function NV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yZ()){case ZA:return 1;case mV:return 4;case zv:case vZ:return 16;case pV:return 536870912;default:return 16}default:return 16}}var zl=null,nT=null,cv=null;function SV(){if(cv)return cv;var t,e=nT,r=e.length,n,s="value"in zl?zl.value:zl.textContent,a=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[a-n];n++);return cv=s.slice(t,1<n?1-n:void 0)}function uv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function g0(){return!0}function xO(){return!1}function xi(t){function e(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?g0:xO,this.isPropagationStopped=xO,this}return zr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=g0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=g0)},persist:function(){},isPersistent:g0}),e}var em={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sT=xi(em),Yx=zr({},em,{view:0,detail:0}),IZ=xi(Yx),zN,WN,np,n1=zr({},Yx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==np&&(np&&t.type==="mousemove"?(zN=t.screenX-np.screenX,WN=t.screenY-np.screenY):WN=zN=0,np=t),zN)},movementY:function(t){return"movementY"in t?t.movementY:WN}}),yO=xi(n1),RZ=zr({},n1,{dataTransfer:0}),OZ=xi(RZ),DZ=zr({},Yx,{relatedTarget:0}),HN=xi(DZ),MZ=zr({},em,{animationName:0,elapsedTime:0,pseudoElement:0}),$Z=xi(MZ),LZ=zr({},em,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FZ=xi(LZ),VZ=zr({},em,{data:0}),vO=xi(VZ),BZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zZ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qZ[t])?!!e[t]:!1}function iT(){return zZ}var WZ=zr({},Yx,{key:function(t){if(t.key){var e=BZ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UZ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iT,charCode:function(t){return t.type==="keypress"?uv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HZ=xi(WZ),GZ=zr({},n1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bO=xi(GZ),KZ=zr({},Yx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iT}),YZ=xi(KZ),QZ=zr({},em,{propertyName:0,elapsedTime:0,pseudoElement:0}),XZ=xi(QZ),JZ=zr({},n1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZZ=xi(JZ),eee=[9,13,27,32],aT=zo&&"CompositionEvent"in window,Vp=null;zo&&"documentMode"in document&&(Vp=document.documentMode);var tee=zo&&"TextEvent"in window&&!Vp,EV=zo&&(!aT||Vp&&8<Vp&&11>=Vp),wO=" ",jO=!1;function PV(t,e){switch(t){case"keyup":return eee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _V(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kd=!1;function ree(t,e){switch(t){case"compositionend":return _V(e);case"keypress":return e.which!==32?null:(jO=!0,wO);case"textInput":return t=e.data,t===wO&&jO?null:t;default:return null}}function nee(t,e){if(Kd)return t==="compositionend"||!aT&&PV(t,e)?(t=SV(),cv=nT=zl=null,Kd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EV&&e.locale!=="ko"?null:e.data;default:return null}}var see={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!see[t.type]:e==="textarea"}function AV(t,e,r,n){iV(n),e=Kv(e,"onChange"),0<e.length&&(r=new sT("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Bp=null,_g=null;function iee(t){FV(t,0)}function s1(t){var e=Xd(t);if(JF(e))return t}function aee(t,e){if(t==="change")return e}var TV=!1;if(zo){var GN;if(zo){var KN="oninput"in document;if(!KN){var SO=document.createElement("div");SO.setAttribute("oninput","return;"),KN=typeof SO.oninput=="function"}GN=KN}else GN=!1;TV=GN&&(!document.documentMode||9<document.documentMode)}function EO(){Bp&&(Bp.detachEvent("onpropertychange",CV),_g=Bp=null)}function CV(t){if(t.propertyName==="value"&&s1(_g)){var e=[];AV(e,_g,t,JA(t)),cV(iee,e)}}function oee(t,e,r){t==="focusin"?(EO(),Bp=e,_g=r,Bp.attachEvent("onpropertychange",CV)):t==="focusout"&&EO()}function lee(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return s1(_g)}function cee(t,e){if(t==="click")return s1(e)}function uee(t,e){if(t==="input"||t==="change")return s1(e)}function dee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ya=typeof Object.is=="function"?Object.is:dee;function Ag(t,e){if(ya(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!qS.call(e,s)||!ya(t[s],e[s]))return!1}return!0}function PO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _O(t,e){var r=PO(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=PO(r)}}function kV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IV(){for(var t=window,e=Bv();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Bv(t.document)}return e}function oT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hee(t){var e=IV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&kV(r.ownerDocument.documentElement,r)){if(n!==null&&oT(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!t.extend&&a>n&&(s=n,n=a,a=s),s=_O(r,a);var o=_O(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fee=zo&&"documentMode"in document&&11>=document.documentMode,Yd=null,lE=null,Up=null,cE=!1;function AO(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cE||Yd==null||Yd!==Bv(n)||(n=Yd,"selectionStart"in n&&oT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Up&&Ag(Up,n)||(Up=n,n=Kv(lE,"onSelect"),0<n.length&&(e=new sT("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Yd)))}function x0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Qd={animationend:x0("Animation","AnimationEnd"),animationiteration:x0("Animation","AnimationIteration"),animationstart:x0("Animation","AnimationStart"),transitionend:x0("Transition","TransitionEnd")},YN={},RV={};zo&&(RV=document.createElement("div").style,"AnimationEvent"in window||(delete Qd.animationend.animation,delete Qd.animationiteration.animation,delete Qd.animationstart.animation),"TransitionEvent"in window||delete Qd.transitionend.transition);function i1(t){if(YN[t])return YN[t];if(!Qd[t])return t;var e=Qd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in RV)return YN[t]=e[r];return t}var OV=i1("animationend"),DV=i1("animationiteration"),MV=i1("animationstart"),$V=i1("transitionend"),LV=new Map,TO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tc(t,e){LV.set(t,e),fd(e,[t])}for(var QN=0;QN<TO.length;QN++){var XN=TO[QN],mee=XN.toLowerCase(),pee=XN[0].toUpperCase()+XN.slice(1);Tc(mee,"on"+pee)}Tc(OV,"onAnimationEnd");Tc(DV,"onAnimationIteration");Tc(MV,"onAnimationStart");Tc("dblclick","onDoubleClick");Tc("focusin","onFocus");Tc("focusout","onBlur");Tc($V,"onTransitionEnd");Kh("onMouseEnter",["mouseout","mouseover"]);Kh("onMouseLeave",["mouseout","mouseover"]);Kh("onPointerEnter",["pointerout","pointerover"]);Kh("onPointerLeave",["pointerout","pointerover"]);fd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fd("onBeforeInput",["compositionend","keypress","textInput","paste"]);fd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _p="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gee=new Set("cancel close invalid load scroll toggle".split(" ").concat(_p));function CO(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,mZ(n,e,void 0,t),t.currentTarget=null}function FV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;CO(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;CO(s,l,u),a=c}}}if(qv)throw t=sE,qv=!1,sE=null,t}function Nr(t,e){var r=e[mE];r===void 0&&(r=e[mE]=new Set);var n=t+"__bubble";r.has(n)||(VV(e,t,2,!1),r.add(n))}function JN(t,e,r){var n=0;e&&(n|=4),VV(r,t,n,e)}var y0="_reactListening"+Math.random().toString(36).slice(2);function Tg(t){if(!t[y0]){t[y0]=!0,GF.forEach(function(r){r!=="selectionchange"&&(gee.has(r)||JN(r,!1,t),JN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[y0]||(e[y0]=!0,JN("selectionchange",!1,e))}}function VV(t,e,r,n){switch(NV(e)){case 1:var s=CZ;break;case 4:s=kZ;break;default:s=rT}r=s.bind(null,e,r,t),s=void 0,!nE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ZN(t,e,r,n,s){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=pu(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}cV(function(){var u=a,d=JA(r),h=[];e:{var f=LV.get(t);if(f!==void 0){var m=sT,x=t;switch(t){case"keypress":if(uv(r)===0)break e;case"keydown":case"keyup":m=HZ;break;case"focusin":x="focus",m=HN;break;case"focusout":x="blur",m=HN;break;case"beforeblur":case"afterblur":m=HN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=OZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=YZ;break;case OV:case DV:case MV:m=$Z;break;case $V:m=XZ;break;case"scroll":m=IZ;break;case"wheel":m=ZZ;break;case"copy":case"cut":case"paste":m=FZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bO}var p=(e&4)!==0,v=!p&&t==="scroll",w=p?f!==null?f+"Capture":null:f;p=[];for(var b=u,j;b!==null;){j=b;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,w!==null&&(N=Ng(b,w),N!=null&&p.push(Cg(b,N,j)))),v)break;b=b.return}0<p.length&&(f=new m(f,x,null,r,d),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==tE&&(x=r.relatedTarget||r.fromElement)&&(pu(x)||x[Wo]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?pu(x):null,x!==null&&(v=md(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(p=yO,N="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=bO,N="onPointerLeave",w="onPointerEnter",b="pointer"),v=m==null?f:Xd(m),j=x==null?f:Xd(x),f=new p(N,b+"leave",m,r,d),f.target=v,f.relatedTarget=j,N=null,pu(d)===u&&(p=new p(w,b+"enter",x,r,d),p.target=j,p.relatedTarget=v,N=p),v=N,m&&x)t:{for(p=m,w=x,b=0,j=p;j;j=Rd(j))b++;for(j=0,N=w;N;N=Rd(N))j++;for(;0<b-j;)p=Rd(p),b--;for(;0<j-b;)w=Rd(w),j--;for(;b--;){if(p===w||w!==null&&p===w.alternate)break t;p=Rd(p),w=Rd(w)}p=null}else p=null;m!==null&&kO(h,f,m,p,!1),x!==null&&v!==null&&kO(h,v,x,p,!0)}}e:{if(f=u?Xd(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=aee;else if(NO(f))if(TV)E=uee;else{E=lee;var C=oee}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=cee);if(E&&(E=E(t,u))){AV(h,E,r,d);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&QS(f,"number",f.value)}switch(C=u?Xd(u):window,t){case"focusin":(NO(C)||C.contentEditable==="true")&&(Yd=C,lE=u,Up=null);break;case"focusout":Up=lE=Yd=null;break;case"mousedown":cE=!0;break;case"contextmenu":case"mouseup":case"dragend":cE=!1,AO(h,r,d);break;case"selectionchange":if(fee)break;case"keydown":case"keyup":AO(h,r,d)}var P;if(aT)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Kd?PV(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(EV&&r.locale!=="ko"&&(Kd||S!=="onCompositionStart"?S==="onCompositionEnd"&&Kd&&(P=SV()):(zl=d,nT="value"in zl?zl.value:zl.textContent,Kd=!0)),C=Kv(u,S),0<C.length&&(S=new vO(S,t,null,r,d),h.push({event:S,listeners:C}),P?S.data=P:(P=_V(r),P!==null&&(S.data=P)))),(P=tee?ree(t,r):nee(t,r))&&(u=Kv(u,"onBeforeInput"),0<u.length&&(d=new vO("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=P))}FV(h,e)})}function Cg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Kv(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ng(t,r),a!=null&&n.unshift(Cg(t,a,s)),a=Ng(t,e),a!=null&&n.push(Cg(t,a,s))),t=t.return}return n}function Rd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kO(t,e,r,n,s){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ng(r,a),c!=null&&o.unshift(Cg(r,c,l))):s||(c=Ng(r,a),c!=null&&o.push(Cg(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var xee=/\r\n?/g,yee=/\u0000|\uFFFD/g;function IO(t){return(typeof t=="string"?t:""+t).replace(xee,`
`).replace(yee,"")}function v0(t,e,r){if(e=IO(e),IO(t)!==e&&r)throw Error(Oe(425))}function Yv(){}var uE=null,dE=null;function hE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fE=typeof setTimeout=="function"?setTimeout:void 0,vee=typeof clearTimeout=="function"?clearTimeout:void 0,RO=typeof Promise=="function"?Promise:void 0,bee=typeof queueMicrotask=="function"?queueMicrotask:typeof RO<"u"?function(t){return RO.resolve(null).then(t).catch(wee)}:fE;function wee(t){setTimeout(function(){throw t})}function e2(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Pg(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pg(e)}function ec(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function OO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var tm=Math.random().toString(36).slice(2),Ua="__reactFiber$"+tm,kg="__reactProps$"+tm,Wo="__reactContainer$"+tm,mE="__reactEvents$"+tm,jee="__reactListeners$"+tm,Nee="__reactHandles$"+tm;function pu(t){var e=t[Ua];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wo]||r[Ua]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=OO(t);t!==null;){if(r=t[Ua])return r;t=OO(t)}return e}t=r,r=t.parentNode}return null}function Qx(t){return t=t[Ua]||t[Wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function a1(t){return t[kg]||null}var pE=[],Jd=-1;function Cc(t){return{current:t}}function Pr(t){0>Jd||(t.current=pE[Jd],pE[Jd]=null,Jd--)}function yr(t,e){Jd++,pE[Jd]=t.current,t.current=e}var gc={},us=Cc(gc),zs=Cc(!1),Hu=gc;function Yh(t,e){var r=t.type.contextTypes;if(!r)return gc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ws(t){return t=t.childContextTypes,t!=null}function Qv(){Pr(zs),Pr(us)}function DO(t,e,r){if(us.current!==gc)throw Error(Oe(168));yr(us,e),yr(zs,r)}function BV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Oe(108,oZ(t)||"Unknown",s));return zr({},r,n)}function Xv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gc,Hu=us.current,yr(us,t),yr(zs,zs.current),!0}function MO(t,e,r){var n=t.stateNode;if(!n)throw Error(Oe(169));r?(t=BV(t,e,Hu),n.__reactInternalMemoizedMergedChildContext=t,Pr(zs),Pr(us),yr(us,t)):Pr(zs),yr(zs,r)}var Eo=null,o1=!1,t2=!1;function UV(t){Eo===null?Eo=[t]:Eo.push(t)}function See(t){o1=!0,UV(t)}function kc(){if(!t2&&Eo!==null){t2=!0;var t=0,e=er;try{var r=Eo;for(er=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Eo=null,o1=!1}catch(s){throw Eo!==null&&(Eo=Eo.slice(t+1)),fV(ZA,kc),s}finally{er=e,t2=!1}}return null}var Zd=[],eh=0,Jv=null,Zv=0,Ti=[],Ci=0,Gu=null,ko=1,Io="";function iu(t,e){Zd[eh++]=Zv,Zd[eh++]=Jv,Jv=t,Zv=e}function qV(t,e,r){Ti[Ci++]=ko,Ti[Ci++]=Io,Ti[Ci++]=Gu,Gu=t;var n=ko;t=Io;var s=32-da(n)-1;n&=~(1<<s),r+=1;var a=32-da(e)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ko=1<<32-da(e)+s|r<<s|n,Io=a+t}else ko=1<<a|r<<s|n,Io=t}function lT(t){t.return!==null&&(iu(t,1),qV(t,1,0))}function cT(t){for(;t===Jv;)Jv=Zd[--eh],Zd[eh]=null,Zv=Zd[--eh],Zd[eh]=null;for(;t===Gu;)Gu=Ti[--Ci],Ti[Ci]=null,Io=Ti[--Ci],Ti[Ci]=null,ko=Ti[--Ci],Ti[Ci]=null}var ui=null,li=null,kr=!1,aa=null;function zV(t,e){var r=Ii(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function $O(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ui=t,li=ec(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ui=t,li=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Gu!==null?{id:ko,overflow:Io}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ii(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ui=t,li=null,!0):!1;default:return!1}}function gE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xE(t){if(kr){var e=li;if(e){var r=e;if(!$O(t,e)){if(gE(t))throw Error(Oe(418));e=ec(r.nextSibling);var n=ui;e&&$O(t,e)?zV(n,r):(t.flags=t.flags&-4097|2,kr=!1,ui=t)}}else{if(gE(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,kr=!1,ui=t}}}function LO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ui=t}function b0(t){if(t!==ui)return!1;if(!kr)return LO(t),kr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hE(t.type,t.memoizedProps)),e&&(e=li)){if(gE(t))throw WV(),Error(Oe(418));for(;e;)zV(t,e),e=ec(e.nextSibling)}if(LO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){li=ec(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}li=null}}else li=ui?ec(t.stateNode.nextSibling):null;return!0}function WV(){for(var t=li;t;)t=ec(t.nextSibling)}function Qh(){li=ui=null,kr=!1}function uT(t){aa===null?aa=[t]:aa.push(t)}var Eee=ll.ReactCurrentBatchConfig;function sp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,t));var s=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,t))}return t}function w0(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function FO(t){var e=t._init;return e(t._payload)}function HV(t){function e(w,b){if(t){var j=w.deletions;j===null?(w.deletions=[b],w.flags|=16):j.push(b)}}function r(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(w,b){return w=sc(w,b),w.index=0,w.sibling=null,w}function a(w,b,j){return w.index=j,t?(j=w.alternate,j!==null?(j=j.index,j<b?(w.flags|=2,b):j):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,b,j,N){return b===null||b.tag!==6?(b=l2(j,w.mode,N),b.return=w,b):(b=s(b,j),b.return=w,b)}function c(w,b,j,N){var E=j.type;return E===Gd?d(w,b,j.props.children,N,j.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_l&&FO(E)===b.type)?(N=s(b,j.props),N.ref=sp(w,b,j),N.return=w,N):(N=xv(j.type,j.key,j.props,null,w.mode,N),N.ref=sp(w,b,j),N.return=w,N)}function u(w,b,j,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=c2(j,w.mode,N),b.return=w,b):(b=s(b,j.children||[]),b.return=w,b)}function d(w,b,j,N,E){return b===null||b.tag!==7?(b=Ru(j,w.mode,N,E),b.return=w,b):(b=s(b,j),b.return=w,b)}function h(w,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=l2(""+b,w.mode,j),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case u0:return j=xv(b.type,b.key,b.props,null,w.mode,j),j.ref=sp(w,null,b),j.return=w,j;case Hd:return b=c2(b,w.mode,j),b.return=w,b;case _l:var N=b._init;return h(w,N(b._payload),j)}if(Ep(b)||Zm(b))return b=Ru(b,w.mode,j,null),b.return=w,b;w0(w,b)}return null}function f(w,b,j,N){var E=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return E!==null?null:l(w,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case u0:return j.key===E?c(w,b,j,N):null;case Hd:return j.key===E?u(w,b,j,N):null;case _l:return E=j._init,f(w,b,E(j._payload),N)}if(Ep(j)||Zm(j))return E!==null?null:d(w,b,j,N,null);w0(w,j)}return null}function m(w,b,j,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(j)||null,l(b,w,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case u0:return w=w.get(N.key===null?j:N.key)||null,c(b,w,N,E);case Hd:return w=w.get(N.key===null?j:N.key)||null,u(b,w,N,E);case _l:var C=N._init;return m(w,b,j,C(N._payload),E)}if(Ep(N)||Zm(N))return w=w.get(j)||null,d(b,w,N,E,null);w0(b,N)}return null}function x(w,b,j,N){for(var E=null,C=null,P=b,S=b=0,A=null;P!==null&&S<j.length;S++){P.index>S?(A=P,P=null):A=P.sibling;var T=f(w,P,j[S],N);if(T===null){P===null&&(P=A);break}t&&P&&T.alternate===null&&e(w,P),b=a(T,b,S),C===null?E=T:C.sibling=T,C=T,P=A}if(S===j.length)return r(w,P),kr&&iu(w,S),E;if(P===null){for(;S<j.length;S++)P=h(w,j[S],N),P!==null&&(b=a(P,b,S),C===null?E=P:C.sibling=P,C=P);return kr&&iu(w,S),E}for(P=n(w,P);S<j.length;S++)A=m(P,w,S,j[S],N),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?S:A.key),b=a(A,b,S),C===null?E=A:C.sibling=A,C=A);return t&&P.forEach(function(R){return e(w,R)}),kr&&iu(w,S),E}function p(w,b,j,N){var E=Zm(j);if(typeof E!="function")throw Error(Oe(150));if(j=E.call(j),j==null)throw Error(Oe(151));for(var C=E=null,P=b,S=b=0,A=null,T=j.next();P!==null&&!T.done;S++,T=j.next()){P.index>S?(A=P,P=null):A=P.sibling;var R=f(w,P,T.value,N);if(R===null){P===null&&(P=A);break}t&&P&&R.alternate===null&&e(w,P),b=a(R,b,S),C===null?E=R:C.sibling=R,C=R,P=A}if(T.done)return r(w,P),kr&&iu(w,S),E;if(P===null){for(;!T.done;S++,T=j.next())T=h(w,T.value,N),T!==null&&(b=a(T,b,S),C===null?E=T:C.sibling=T,C=T);return kr&&iu(w,S),E}for(P=n(w,P);!T.done;S++,T=j.next())T=m(P,w,S,T.value,N),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?S:T.key),b=a(T,b,S),C===null?E=T:C.sibling=T,C=T);return t&&P.forEach(function(_){return e(w,_)}),kr&&iu(w,S),E}function v(w,b,j,N){if(typeof j=="object"&&j!==null&&j.type===Gd&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case u0:e:{for(var E=j.key,C=b;C!==null;){if(C.key===E){if(E=j.type,E===Gd){if(C.tag===7){r(w,C.sibling),b=s(C,j.props.children),b.return=w,w=b;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_l&&FO(E)===C.type){r(w,C.sibling),b=s(C,j.props),b.ref=sp(w,C,j),b.return=w,w=b;break e}r(w,C);break}else e(w,C);C=C.sibling}j.type===Gd?(b=Ru(j.props.children,w.mode,N,j.key),b.return=w,w=b):(N=xv(j.type,j.key,j.props,null,w.mode,N),N.ref=sp(w,b,j),N.return=w,w=N)}return o(w);case Hd:e:{for(C=j.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(w,b.sibling),b=s(b,j.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else e(w,b);b=b.sibling}b=c2(j,w.mode,N),b.return=w,w=b}return o(w);case _l:return C=j._init,v(w,b,C(j._payload),N)}if(Ep(j))return x(w,b,j,N);if(Zm(j))return p(w,b,j,N);w0(w,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(w,b.sibling),b=s(b,j),b.return=w,w=b):(r(w,b),b=l2(j,w.mode,N),b.return=w,w=b),o(w)):r(w,b)}return v}var Xh=HV(!0),GV=HV(!1),eb=Cc(null),tb=null,th=null,dT=null;function hT(){dT=th=tb=null}function fT(t){var e=eb.current;Pr(eb),t._currentValue=e}function yE(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function vh(t,e){tb=t,dT=th=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vs=!0),t.firstContext=null)}function Bi(t){var e=t._currentValue;if(dT!==t)if(t={context:t,memoizedValue:e,next:null},th===null){if(tb===null)throw Error(Oe(308));th=t,tb.dependencies={lanes:0,firstContext:t}}else th=th.next=t;return e}var gu=null;function mT(t){gu===null?gu=[t]:gu.push(t)}function KV(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,mT(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ho(t,n)}function Ho(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Al=!1;function pT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,qt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ho(t,r)}return s=n.interleaved,s===null?(e.next=e,mT(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ho(t,r)}function dv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,eT(t,r)}}function VO(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=e:a=a.next=e}else s=a=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function rb(t,e,r,n){var s=t.updateQueue;Al=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,p=l;switch(f=e,m=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=zr({},h,f);break e;case 2:Al=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);Yu|=o,t.lanes=o,t.memoizedState=h}}function BO(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Oe(191,s));s.call(n)}}}var Xx={},Ka=Cc(Xx),Ig=Cc(Xx),Rg=Cc(Xx);function xu(t){if(t===Xx)throw Error(Oe(174));return t}function gT(t,e){switch(yr(Rg,e),yr(Ig,t),yr(Ka,Xx),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:JS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=JS(e,t)}Pr(Ka),yr(Ka,e)}function Jh(){Pr(Ka),Pr(Ig),Pr(Rg)}function QV(t){xu(Rg.current);var e=xu(Ka.current),r=JS(e,t.type);e!==r&&(yr(Ig,t),yr(Ka,r))}function xT(t){Ig.current===t&&(Pr(Ka),Pr(Ig))}var Lr=Cc(0);function nb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var r2=[];function yT(){for(var t=0;t<r2.length;t++)r2[t]._workInProgressVersionPrimary=null;r2.length=0}var hv=ll.ReactCurrentDispatcher,n2=ll.ReactCurrentBatchConfig,Ku=0,qr=null,Nn=null,Rn=null,sb=!1,qp=!1,Og=0,Pee=0;function es(){throw Error(Oe(321))}function vT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ya(t[r],e[r]))return!1;return!0}function bT(t,e,r,n,s,a){if(Ku=a,qr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hv.current=t===null||t.memoizedState===null?Cee:kee,t=r(n,s),qp){a=0;do{if(qp=!1,Og=0,25<=a)throw Error(Oe(301));a+=1,Rn=Nn=null,e.updateQueue=null,hv.current=Iee,t=r(n,s)}while(qp)}if(hv.current=ib,e=Nn!==null&&Nn.next!==null,Ku=0,Rn=Nn=qr=null,sb=!1,e)throw Error(Oe(300));return t}function wT(){var t=Og!==0;return Og=0,t}function Da(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?qr.memoizedState=Rn=t:Rn=Rn.next=t,Rn}function Ui(){if(Nn===null){var t=qr.alternate;t=t!==null?t.memoizedState:null}else t=Nn.next;var e=Rn===null?qr.memoizedState:Rn.next;if(e!==null)Rn=e,Nn=t;else{if(t===null)throw Error(Oe(310));Nn=t,t={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Rn===null?qr.memoizedState=Rn=t:Rn=Rn.next=t}return Rn}function Dg(t,e){return typeof e=="function"?e(t):e}function s2(t){var e=Ui(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=Nn,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Ku&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,qr.lanes|=d,Yu|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,ya(n,e.memoizedState)||(Vs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do a=s.lane,qr.lanes|=a,Yu|=a,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function i2(t){var e=Ui(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,a=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);ya(a,e.memoizedState)||(Vs=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function XV(){}function JV(t,e){var r=qr,n=Ui(),s=e(),a=!ya(n.memoizedState,s);if(a&&(n.memoizedState=s,Vs=!0),n=n.queue,jT(t8.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Rn!==null&&Rn.memoizedState.tag&1){if(r.flags|=2048,Mg(9,e8.bind(null,r,n,s,e),void 0,null),$n===null)throw Error(Oe(349));Ku&30||ZV(r,e,s)}return s}function ZV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=qr.updateQueue,e===null?(e={lastEffect:null,stores:null},qr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function e8(t,e,r,n){e.value=r,e.getSnapshot=n,r8(e)&&n8(t)}function t8(t,e,r){return r(function(){r8(e)&&n8(t)})}function r8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ya(t,r)}catch{return!0}}function n8(t){var e=Ho(t,1);e!==null&&ha(e,t,1,-1)}function UO(t){var e=Da();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:t},e.queue=t,t=t.dispatch=Tee.bind(null,qr,t),[e.memoizedState,t]}function Mg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=qr.updateQueue,e===null?(e={lastEffect:null,stores:null},qr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function s8(){return Ui().memoizedState}function fv(t,e,r,n){var s=Da();qr.flags|=t,s.memoizedState=Mg(1|e,r,void 0,n===void 0?null:n)}function l1(t,e,r,n){var s=Ui();n=n===void 0?null:n;var a=void 0;if(Nn!==null){var o=Nn.memoizedState;if(a=o.destroy,n!==null&&vT(n,o.deps)){s.memoizedState=Mg(e,r,a,n);return}}qr.flags|=t,s.memoizedState=Mg(1|e,r,a,n)}function qO(t,e){return fv(8390656,8,t,e)}function jT(t,e){return l1(2048,8,t,e)}function i8(t,e){return l1(4,2,t,e)}function a8(t,e){return l1(4,4,t,e)}function o8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function l8(t,e,r){return r=r!=null?r.concat([t]):null,l1(4,4,o8.bind(null,e,t),r)}function NT(){}function c8(t,e){var r=Ui();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function u8(t,e){var r=Ui();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function d8(t,e,r){return Ku&21?(ya(r,e)||(r=gV(),qr.lanes|=r,Yu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vs=!0),t.memoizedState=r)}function _ee(t,e){var r=er;er=r!==0&&4>r?r:4,t(!0);var n=n2.transition;n2.transition={};try{t(!1),e()}finally{er=r,n2.transition=n}}function h8(){return Ui().memoizedState}function Aee(t,e,r){var n=nc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},f8(t))m8(e,r);else if(r=KV(t,e,r,n),r!==null){var s=Es();ha(r,t,n,s),p8(r,e,n)}}function Tee(t,e,r){var n=nc(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(f8(t))m8(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,ya(l,o)){var c=e.interleaved;c===null?(s.next=s,mT(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=KV(t,e,s,n),r!==null&&(s=Es(),ha(r,t,n,s),p8(r,e,n))}}function f8(t){var e=t.alternate;return t===qr||e!==null&&e===qr}function m8(t,e){qp=sb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function p8(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,eT(t,r)}}var ib={readContext:Bi,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useInsertionEffect:es,useLayoutEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useMutableSource:es,useSyncExternalStore:es,useId:es,unstable_isNewReconciler:!1},Cee={readContext:Bi,useCallback:function(t,e){return Da().memoizedState=[t,e===void 0?null:e],t},useContext:Bi,useEffect:qO,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,fv(4194308,4,o8.bind(null,e,t),r)},useLayoutEffect:function(t,e){return fv(4194308,4,t,e)},useInsertionEffect:function(t,e){return fv(4,2,t,e)},useMemo:function(t,e){var r=Da();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Da();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Aee.bind(null,qr,t),[n.memoizedState,t]},useRef:function(t){var e=Da();return t={current:t},e.memoizedState=t},useState:UO,useDebugValue:NT,useDeferredValue:function(t){return Da().memoizedState=t},useTransition:function(){var t=UO(!1),e=t[0];return t=_ee.bind(null,t[1]),Da().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=qr,s=Da();if(kr){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=e(),$n===null)throw Error(Oe(349));Ku&30||ZV(n,e,r)}s.memoizedState=r;var a={value:r,getSnapshot:e};return s.queue=a,qO(t8.bind(null,n,a,t),[t]),n.flags|=2048,Mg(9,e8.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Da(),e=$n.identifierPrefix;if(kr){var r=Io,n=ko;r=(n&~(1<<32-da(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Og++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Pee++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kee={readContext:Bi,useCallback:c8,useContext:Bi,useEffect:jT,useImperativeHandle:l8,useInsertionEffect:i8,useLayoutEffect:a8,useMemo:u8,useReducer:s2,useRef:s8,useState:function(){return s2(Dg)},useDebugValue:NT,useDeferredValue:function(t){var e=Ui();return d8(e,Nn.memoizedState,t)},useTransition:function(){var t=s2(Dg)[0],e=Ui().memoizedState;return[t,e]},useMutableSource:XV,useSyncExternalStore:JV,useId:h8,unstable_isNewReconciler:!1},Iee={readContext:Bi,useCallback:c8,useContext:Bi,useEffect:jT,useImperativeHandle:l8,useInsertionEffect:i8,useLayoutEffect:a8,useMemo:u8,useReducer:i2,useRef:s8,useState:function(){return i2(Dg)},useDebugValue:NT,useDeferredValue:function(t){var e=Ui();return Nn===null?e.memoizedState=t:d8(e,Nn.memoizedState,t)},useTransition:function(){var t=i2(Dg)[0],e=Ui().memoizedState;return[t,e]},useMutableSource:XV,useSyncExternalStore:JV,useId:h8,unstable_isNewReconciler:!1};function ta(t,e){if(t&&t.defaultProps){e=zr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function vE(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:zr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var c1={isMounted:function(t){return(t=t._reactInternals)?md(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Es(),s=nc(t),a=Lo(n,s);a.payload=e,r!=null&&(a.callback=r),e=tc(t,a,s),e!==null&&(ha(e,t,s,n),dv(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Es(),s=nc(t),a=Lo(n,s);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=tc(t,a,s),e!==null&&(ha(e,t,s,n),dv(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Es(),n=nc(t),s=Lo(r,n);s.tag=2,e!=null&&(s.callback=e),e=tc(t,s,n),e!==null&&(ha(e,t,n,r),dv(e,t,n))}};function zO(t,e,r,n,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Ag(r,n)||!Ag(s,a):!0}function g8(t,e,r){var n=!1,s=gc,a=e.contextType;return typeof a=="object"&&a!==null?a=Bi(a):(s=Ws(e)?Hu:us.current,n=e.contextTypes,a=(n=n!=null)?Yh(t,s):gc),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=c1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function WO(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&c1.enqueueReplaceState(e,e.state,null)}function bE(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},pT(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=Bi(a):(a=Ws(e)?Hu:us.current,s.context=Yh(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(vE(t,e,a,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&c1.enqueueReplaceState(s,s.state,null),rb(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zh(t,e){try{var r="",n=e;do r+=aZ(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function a2(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wE(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Ree=typeof WeakMap=="function"?WeakMap:Map;function x8(t,e,r){r=Lo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ob||(ob=!0,kE=n),wE(t,e)},r}function y8(t,e,r){r=Lo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){wE(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){wE(t,e),typeof n!="function"&&(rc===null?rc=new Set([this]):rc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function HO(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Ree;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Gee.bind(null,t,e,r),e.then(t,t))}function GO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KO(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Lo(-1,1),e.tag=2,tc(r,e,1))),r.lanes|=1),t)}var Oee=ll.ReactCurrentOwner,Vs=!1;function vs(t,e,r,n){e.child=t===null?GV(e,null,r,n):Xh(e,t.child,r,n)}function YO(t,e,r,n,s){r=r.render;var a=e.ref;return vh(e,s),n=bT(t,e,r,n,a,s),r=wT(),t!==null&&!Vs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Go(t,e,s)):(kr&&r&&lT(e),e.flags|=1,vs(t,e,n,s),e.child)}function QO(t,e,r,n,s){if(t===null){var a=r.type;return typeof a=="function"&&!kT(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,v8(t,e,a,n,s)):(t=xv(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ag,r(o,n)&&t.ref===e.ref)return Go(t,e,s)}return e.flags|=1,t=sc(a,n),t.ref=e.ref,t.return=e,e.child=t}function v8(t,e,r,n,s){if(t!==null){var a=t.memoizedProps;if(Ag(a,n)&&t.ref===e.ref)if(Vs=!1,e.pendingProps=n=a,(t.lanes&s)!==0)t.flags&131072&&(Vs=!0);else return e.lanes=t.lanes,Go(t,e,s)}return jE(t,e,r,n,s)}function b8(t,e,r){var n=e.pendingProps,s=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(nh,ti),ti|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yr(nh,ti),ti|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,yr(nh,ti),ti|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,yr(nh,ti),ti|=n;return vs(t,e,s,r),e.child}function w8(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jE(t,e,r,n,s){var a=Ws(r)?Hu:us.current;return a=Yh(e,a),vh(e,s),r=bT(t,e,r,n,a,s),n=wT(),t!==null&&!Vs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Go(t,e,s)):(kr&&n&&lT(e),e.flags|=1,vs(t,e,r,s),e.child)}function XO(t,e,r,n,s){if(Ws(r)){var a=!0;Xv(e)}else a=!1;if(vh(e,s),e.stateNode===null)mv(t,e),g8(e,r,n),bE(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bi(u):(u=Ws(r)?Hu:us.current,u=Yh(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&WO(e,o,n,u),Al=!1;var f=e.memoizedState;o.state=f,rb(e,n,o,s),c=e.memoizedState,l!==n||f!==c||zs.current||Al?(typeof d=="function"&&(vE(e,r,d,n),c=e.memoizedState),(l=Al||zO(e,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,YV(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ta(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bi(c):(c=Ws(r)?Hu:us.current,c=Yh(e,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&WO(e,o,n,c),Al=!1,f=e.memoizedState,o.state=f,rb(e,n,o,s);var x=e.memoizedState;l!==h||f!==x||zs.current||Al?(typeof m=="function"&&(vE(e,r,m,n),x=e.memoizedState),(u=Al||zO(e,r,u,n,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return NE(t,e,r,n,a,s)}function NE(t,e,r,n,s,a){w8(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&MO(e,r,!1),Go(t,e,a);n=e.stateNode,Oee.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Xh(e,t.child,null,a),e.child=Xh(e,null,l,a)):vs(t,e,l,a),e.memoizedState=n.state,s&&MO(e,r,!0),e.child}function j8(t){var e=t.stateNode;e.pendingContext?DO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DO(t,e.context,!1),gT(t,e.containerInfo)}function JO(t,e,r,n,s){return Qh(),uT(s),e.flags|=256,vs(t,e,r,n),e.child}var SE={dehydrated:null,treeContext:null,retryLane:0};function EE(t){return{baseLanes:t,cachePool:null,transitions:null}}function N8(t,e,r){var n=e.pendingProps,s=Lr.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),yr(Lr,s&1),t===null)return xE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=h1(o,n,0,null),t=Ru(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=EE(r),e.memoizedState=SE,t):ST(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Dee(t,e,o,n,l,s,r);if(a){a=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=sc(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=sc(l,a):(a=Ru(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?EE(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=SE,n}return a=t.child,t=a.sibling,n=sc(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ST(t,e){return e=h1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function j0(t,e,r,n){return n!==null&&uT(n),Xh(e,t.child,null,r),t=ST(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dee(t,e,r,n,s,a,o){if(r)return e.flags&256?(e.flags&=-257,n=a2(Error(Oe(422))),j0(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,s=e.mode,n=h1({mode:"visible",children:n.children},s,0,null),a=Ru(a,s,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Xh(e,t.child,null,o),e.child.memoizedState=EE(o),e.memoizedState=SE,a);if(!(e.mode&1))return j0(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Oe(419)),n=a2(a,n,void 0),j0(t,e,o,n)}if(l=(o&t.childLanes)!==0,Vs||l){if(n=$n,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ho(t,s),ha(n,t,s,-1))}return CT(),n=a2(Error(Oe(421))),j0(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Kee.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,li=ec(s.nextSibling),ui=e,kr=!0,aa=null,t!==null&&(Ti[Ci++]=ko,Ti[Ci++]=Io,Ti[Ci++]=Gu,ko=t.id,Io=t.overflow,Gu=e),e=ST(e,n.children),e.flags|=4096,e)}function ZO(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),yE(t.return,e,r)}function o2(t,e,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function S8(t,e,r){var n=e.pendingProps,s=n.revealOrder,a=n.tail;if(vs(t,e,n.children,r),n=Lr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZO(t,r,e);else if(t.tag===19)ZO(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(yr(Lr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&nb(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),o2(e,!1,s,r,a);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&nb(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}o2(e,!0,r,null,a);break;case"together":o2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Go(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Yu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,r=sc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=sc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Mee(t,e,r){switch(e.tag){case 3:j8(e),Qh();break;case 5:QV(e);break;case 1:Ws(e.type)&&Xv(e);break;case 4:gT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;yr(eb,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(yr(Lr,Lr.current&1),e.flags|=128,null):r&e.child.childLanes?N8(t,e,r):(yr(Lr,Lr.current&1),t=Go(t,e,r),t!==null?t.sibling:null);yr(Lr,Lr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return S8(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yr(Lr,Lr.current),n)break;return null;case 22:case 23:return e.lanes=0,b8(t,e,r)}return Go(t,e,r)}var E8,PE,P8,_8;E8=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};PE=function(){};P8=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,xu(Ka.current);var a=null;switch(r){case"input":s=KS(t,s),n=KS(t,n),a=[];break;case"select":s=zr({},s,{value:void 0}),n=zr({},n,{value:void 0}),a=[];break;case"textarea":s=XS(t,s),n=XS(t,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Yv)}ZS(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wg.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Nr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};_8=function(t,e,r,n){r!==n&&(e.flags|=4)};function ip(t,e){if(!kr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ts(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function $ee(t,e,r){var n=e.pendingProps;switch(cT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(e),null;case 1:return Ws(e.type)&&Qv(),ts(e),null;case 3:return n=e.stateNode,Jh(),Pr(zs),Pr(us),yT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(b0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,aa!==null&&(OE(aa),aa=null))),PE(t,e),ts(e),null;case 5:xT(e);var s=xu(Rg.current);if(r=e.type,t!==null&&e.stateNode!=null)P8(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Oe(166));return ts(e),null}if(t=xu(Ka.current),b0(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Ua]=e,n[kg]=a,t=(e.mode&1)!==0,r){case"dialog":Nr("cancel",n),Nr("close",n);break;case"iframe":case"object":case"embed":Nr("load",n);break;case"video":case"audio":for(s=0;s<_p.length;s++)Nr(_p[s],n);break;case"source":Nr("error",n);break;case"img":case"image":case"link":Nr("error",n),Nr("load",n);break;case"details":Nr("toggle",n);break;case"input":lO(n,a),Nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",n);break;case"textarea":uO(n,a),Nr("invalid",n)}ZS(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&v0(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&v0(n.textContent,l,t),s=["children",""+l]):wg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Nr("scroll",n)}switch(r){case"input":d0(n),cO(n,a,!0);break;case"textarea":d0(n),dO(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Yv)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tV(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ua]=e,t[kg]=n,E8(t,e,!1,!1),e.stateNode=t;e:{switch(o=eE(r,n),r){case"dialog":Nr("cancel",t),Nr("close",t),s=n;break;case"iframe":case"object":case"embed":Nr("load",t),s=n;break;case"video":case"audio":for(s=0;s<_p.length;s++)Nr(_p[s],t);s=n;break;case"source":Nr("error",t),s=n;break;case"img":case"image":case"link":Nr("error",t),Nr("load",t),s=n;break;case"details":Nr("toggle",t),s=n;break;case"input":lO(t,n),s=KS(t,n),Nr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=zr({},n,{value:void 0}),Nr("invalid",t);break;case"textarea":uO(t,n),s=XS(t,n),Nr("invalid",t);break;default:s=n}ZS(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?sV(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rV(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jg(t,c):typeof c=="number"&&jg(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wg.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Nr("scroll",t):c!=null&&KA(t,a,c,o))}switch(r){case"input":d0(t),cO(t,n,!1);break;case"textarea":d0(t),dO(t);break;case"option":n.value!=null&&t.setAttribute("value",""+pc(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ph(t,!!n.multiple,a,!1):n.defaultValue!=null&&ph(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Yv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ts(e),null;case 6:if(t&&e.stateNode!=null)_8(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Oe(166));if(r=xu(Rg.current),xu(Ka.current),b0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ua]=e,(a=n.nodeValue!==r)&&(t=ui,t!==null))switch(t.tag){case 3:v0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&v0(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ua]=e,e.stateNode=n}return ts(e),null;case 13:if(Pr(Lr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kr&&li!==null&&e.mode&1&&!(e.flags&128))WV(),Qh(),e.flags|=98560,a=!1;else if(a=b0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Oe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Oe(317));a[Ua]=e}else Qh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ts(e),a=!1}else aa!==null&&(OE(aa),aa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Lr.current&1?En===0&&(En=3):CT())),e.updateQueue!==null&&(e.flags|=4),ts(e),null);case 4:return Jh(),PE(t,e),t===null&&Tg(e.stateNode.containerInfo),ts(e),null;case 10:return fT(e.type._context),ts(e),null;case 17:return Ws(e.type)&&Qv(),ts(e),null;case 19:if(Pr(Lr),a=e.memoizedState,a===null)return ts(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)ip(a,!1);else{if(En!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nb(t),o!==null){for(e.flags|=128,ip(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return yr(Lr,Lr.current&1|2),e.child}t=t.sibling}a.tail!==null&&nn()>ef&&(e.flags|=128,n=!0,ip(a,!1),e.lanes=4194304)}else{if(!n)if(t=nb(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ip(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!kr)return ts(e),null}else 2*nn()-a.renderingStartTime>ef&&r!==1073741824&&(e.flags|=128,n=!0,ip(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=nn(),e.sibling=null,r=Lr.current,yr(Lr,n?r&1|2:r&1),e):(ts(e),null);case 22:case 23:return TT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ti&1073741824&&(ts(e),e.subtreeFlags&6&&(e.flags|=8192)):ts(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function Lee(t,e){switch(cT(e),e.tag){case 1:return Ws(e.type)&&Qv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jh(),Pr(zs),Pr(us),yT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xT(e),null;case 13:if(Pr(Lr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));Qh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pr(Lr),null;case 4:return Jh(),null;case 10:return fT(e.type._context),null;case 22:case 23:return TT(),null;case 24:return null;default:return null}}var N0=!1,is=!1,Fee=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function rh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xr(t,e,n)}else r.current=null}function _E(t,e,r){try{r()}catch(n){Xr(t,e,n)}}var eD=!1;function Vee(t,e){if(uE=Hv,t=IV(),oT(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(dE={focusedElem:t,selectionRange:r},Hv=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,v=x.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?p:ta(e.type,p),v);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(N){Xr(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return x=eD,eD=!1,x}function zp(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&_E(e,r,a)}s=s.next}while(s!==n)}}function u1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function AE(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function A8(t){var e=t.alternate;e!==null&&(t.alternate=null,A8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ua],delete e[kg],delete e[mE],delete e[jee],delete e[Nee])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T8(t){return t.tag===5||t.tag===3||t.tag===4}function tD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function TE(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Yv));else if(n!==4&&(t=t.child,t!==null))for(TE(t,e,r),t=t.sibling;t!==null;)TE(t,e,r),t=t.sibling}function CE(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(CE(t,e,r),t=t.sibling;t!==null;)CE(t,e,r),t=t.sibling}var zn=null,sa=!1;function xl(t,e,r){for(r=r.child;r!==null;)C8(t,e,r),r=r.sibling}function C8(t,e,r){if(Ga&&typeof Ga.onCommitFiberUnmount=="function")try{Ga.onCommitFiberUnmount(r1,r)}catch{}switch(r.tag){case 5:is||rh(r,e);case 6:var n=zn,s=sa;zn=null,xl(t,e,r),zn=n,sa=s,zn!==null&&(sa?(t=zn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):zn.removeChild(r.stateNode));break;case 18:zn!==null&&(sa?(t=zn,r=r.stateNode,t.nodeType===8?e2(t.parentNode,r):t.nodeType===1&&e2(t,r),Pg(t)):e2(zn,r.stateNode));break;case 4:n=zn,s=sa,zn=r.stateNode.containerInfo,sa=!0,xl(t,e,r),zn=n,sa=s;break;case 0:case 11:case 14:case 15:if(!is&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&_E(r,e,o),s=s.next}while(s!==n)}xl(t,e,r);break;case 1:if(!is&&(rh(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Xr(r,e,l)}xl(t,e,r);break;case 21:xl(t,e,r);break;case 22:r.mode&1?(is=(n=is)||r.memoizedState!==null,xl(t,e,r),is=n):xl(t,e,r);break;default:xl(t,e,r)}}function rD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Fee),e.forEach(function(n){var s=Yee.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:zn=l.stateNode,sa=!1;break e;case 3:zn=l.stateNode.containerInfo,sa=!0;break e;case 4:zn=l.stateNode.containerInfo,sa=!0;break e}l=l.return}if(zn===null)throw Error(Oe(160));C8(a,o,s),zn=null,sa=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Xr(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)k8(e,t),e=e.sibling}function k8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xi(e,t),Oa(t),n&4){try{zp(3,t,t.return),u1(3,t)}catch(p){Xr(t,t.return,p)}try{zp(5,t,t.return)}catch(p){Xr(t,t.return,p)}}break;case 1:Xi(e,t),Oa(t),n&512&&r!==null&&rh(r,r.return);break;case 5:if(Xi(e,t),Oa(t),n&512&&r!==null&&rh(r,r.return),t.flags&32){var s=t.stateNode;try{jg(s,"")}catch(p){Xr(t,t.return,p)}}if(n&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&ZF(s,a),eE(l,o);var u=eE(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?sV(s,h):d==="dangerouslySetInnerHTML"?rV(s,h):d==="children"?jg(s,h):KA(s,d,h,u)}switch(l){case"input":YS(s,a);break;case"textarea":eV(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ph(s,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?ph(s,!!a.multiple,a.defaultValue,!0):ph(s,!!a.multiple,a.multiple?[]:"",!1))}s[kg]=a}catch(p){Xr(t,t.return,p)}}break;case 6:if(Xi(e,t),Oa(t),n&4){if(t.stateNode===null)throw Error(Oe(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(p){Xr(t,t.return,p)}}break;case 3:if(Xi(e,t),Oa(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pg(e.containerInfo)}catch(p){Xr(t,t.return,p)}break;case 4:Xi(e,t),Oa(t);break;case 13:Xi(e,t),Oa(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(_T=nn())),n&4&&rD(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(is=(u=is)||d,Xi(e,t),is=u):Xi(e,t),Oa(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ye=t,d=t.child;d!==null;){for(h=Ye=d;Ye!==null;){switch(f=Ye,m=f.child,f.tag){case 0:case 11:case 14:case 15:zp(4,f,f.return);break;case 1:rh(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(p){Xr(n,r,p)}}break;case 5:rh(f,f.return);break;case 22:if(f.memoizedState!==null){sD(h);continue}}m!==null?(m.return=f,Ye=m):sD(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nV("display",o))}catch(p){Xr(t,t.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Xr(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xi(e,t),Oa(t),n&4&&rD(t);break;case 21:break;default:Xi(e,t),Oa(t)}}function Oa(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(T8(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(jg(s,""),n.flags&=-33);var a=tD(t);CE(t,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=tD(t);TE(t,l,o);break;default:throw Error(Oe(161))}}catch(c){Xr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Bee(t,e,r){Ye=t,I8(t)}function I8(t,e,r){for(var n=(t.mode&1)!==0;Ye!==null;){var s=Ye,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||N0;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||is;l=N0;var u=is;if(N0=o,(is=c)&&!u)for(Ye=s;Ye!==null;)o=Ye,c=o.child,o.tag===22&&o.memoizedState!==null?iD(s):c!==null?(c.return=o,Ye=c):iD(s);for(;a!==null;)Ye=a,I8(a),a=a.sibling;Ye=s,N0=l,is=u}nD(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Ye=a):nD(t)}}function nD(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:is||u1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!is)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ta(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&BO(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}BO(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pg(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}is||e.flags&512&&AE(e)}catch(f){Xr(e,e.return,f)}}if(e===t){Ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ye=r;break}Ye=e.return}}function sD(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ye=r;break}Ye=e.return}}function iD(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{u1(4,e)}catch(c){Xr(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Xr(e,s,c)}}var a=e.return;try{AE(e)}catch(c){Xr(e,a,c)}break;case 5:var o=e.return;try{AE(e)}catch(c){Xr(e,o,c)}}}catch(c){Xr(e,e.return,c)}if(e===t){Ye=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ye=l;break}Ye=e.return}}var Uee=Math.ceil,ab=ll.ReactCurrentDispatcher,ET=ll.ReactCurrentOwner,Di=ll.ReactCurrentBatchConfig,qt=0,$n=null,dn=null,Gn=0,ti=0,nh=Cc(0),En=0,$g=null,Yu=0,d1=0,PT=0,Wp=null,Ms=null,_T=0,ef=1/0,No=null,ob=!1,kE=null,rc=null,S0=!1,Wl=null,lb=0,Hp=0,IE=null,pv=-1,gv=0;function Es(){return qt&6?nn():pv!==-1?pv:pv=nn()}function nc(t){return t.mode&1?qt&2&&Gn!==0?Gn&-Gn:Eee.transition!==null?(gv===0&&(gv=gV()),gv):(t=er,t!==0||(t=window.event,t=t===void 0?16:NV(t.type)),t):1}function ha(t,e,r,n){if(50<Hp)throw Hp=0,IE=null,Error(Oe(185));Kx(t,r,n),(!(qt&2)||t!==$n)&&(t===$n&&(!(qt&2)&&(d1|=r),En===4&&kl(t,Gn)),Hs(t,n),r===1&&qt===0&&!(e.mode&1)&&(ef=nn()+500,o1&&kc()))}function Hs(t,e){var r=t.callbackNode;EZ(t,e);var n=Wv(t,t===$n?Gn:0);if(n===0)r!==null&&mO(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&mO(r),e===1)t.tag===0?See(aD.bind(null,t)):UV(aD.bind(null,t)),bee(function(){!(qt&6)&&kc()}),r=null;else{switch(xV(n)){case 1:r=ZA;break;case 4:r=mV;break;case 16:r=zv;break;case 536870912:r=pV;break;default:r=zv}r=V8(r,R8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function R8(t,e){if(pv=-1,gv=0,qt&6)throw Error(Oe(327));var r=t.callbackNode;if(bh()&&t.callbackNode!==r)return null;var n=Wv(t,t===$n?Gn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=cb(t,n);else{e=n;var s=qt;qt|=2;var a=D8();($n!==t||Gn!==e)&&(No=null,ef=nn()+500,Iu(t,e));do try{Wee();break}catch(l){O8(t,l)}while(!0);hT(),ab.current=a,qt=s,dn!==null?e=0:($n=null,Gn=0,e=En)}if(e!==0){if(e===2&&(s=iE(t),s!==0&&(n=s,e=RE(t,s))),e===1)throw r=$g,Iu(t,0),kl(t,n),Hs(t,nn()),r;if(e===6)kl(t,n);else{if(s=t.current.alternate,!(n&30)&&!qee(s)&&(e=cb(t,n),e===2&&(a=iE(t),a!==0&&(n=a,e=RE(t,a))),e===1))throw r=$g,Iu(t,0),kl(t,n),Hs(t,nn()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Oe(345));case 2:au(t,Ms,No);break;case 3:if(kl(t,n),(n&130023424)===n&&(e=_T+500-nn(),10<e)){if(Wv(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Es(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=fE(au.bind(null,t,Ms,No),e);break}au(t,Ms,No);break;case 4:if(kl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-da(n);a=1<<o,o=e[o],o>s&&(s=o),n&=~a}if(n=s,n=nn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Uee(n/1960))-n,10<n){t.timeoutHandle=fE(au.bind(null,t,Ms,No),n);break}au(t,Ms,No);break;case 5:au(t,Ms,No);break;default:throw Error(Oe(329))}}}return Hs(t,nn()),t.callbackNode===r?R8.bind(null,t):null}function RE(t,e){var r=Wp;return t.current.memoizedState.isDehydrated&&(Iu(t,e).flags|=256),t=cb(t,e),t!==2&&(e=Ms,Ms=r,e!==null&&OE(e)),t}function OE(t){Ms===null?Ms=t:Ms.push.apply(Ms,t)}function qee(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ya(a(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kl(t,e){for(e&=~PT,e&=~d1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-da(e),n=1<<r;t[r]=-1,e&=~n}}function aD(t){if(qt&6)throw Error(Oe(327));bh();var e=Wv(t,0);if(!(e&1))return Hs(t,nn()),null;var r=cb(t,e);if(t.tag!==0&&r===2){var n=iE(t);n!==0&&(e=n,r=RE(t,n))}if(r===1)throw r=$g,Iu(t,0),kl(t,e),Hs(t,nn()),r;if(r===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,au(t,Ms,No),Hs(t,nn()),null}function AT(t,e){var r=qt;qt|=1;try{return t(e)}finally{qt=r,qt===0&&(ef=nn()+500,o1&&kc())}}function Qu(t){Wl!==null&&Wl.tag===0&&!(qt&6)&&bh();var e=qt;qt|=1;var r=Di.transition,n=er;try{if(Di.transition=null,er=1,t)return t()}finally{er=n,Di.transition=r,qt=e,!(qt&6)&&kc()}}function TT(){ti=nh.current,Pr(nh)}function Iu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,vee(r)),dn!==null)for(r=dn.return;r!==null;){var n=r;switch(cT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qv();break;case 3:Jh(),Pr(zs),Pr(us),yT();break;case 5:xT(n);break;case 4:Jh();break;case 13:Pr(Lr);break;case 19:Pr(Lr);break;case 10:fT(n.type._context);break;case 22:case 23:TT()}r=r.return}if($n=t,dn=t=sc(t.current,null),Gn=ti=e,En=0,$g=null,PT=d1=Yu=0,Ms=Wp=null,gu!==null){for(e=0;e<gu.length;e++)if(r=gu[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}gu=null}return t}function O8(t,e){do{var r=dn;try{if(hT(),hv.current=ib,sb){for(var n=qr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}sb=!1}if(Ku=0,Rn=Nn=qr=null,qp=!1,Og=0,ET.current=null,r===null||r.return===null){En=1,$g=e,dn=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=Gn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=GO(o);if(m!==null){m.flags&=-257,KO(m,o,l,a,e),m.mode&1&&HO(a,u,e),e=m,c=u;var x=e.updateQueue;if(x===null){var p=new Set;p.add(c),e.updateQueue=p}else x.add(c);break e}else{if(!(e&1)){HO(a,u,e),CT();break e}c=Error(Oe(426))}}else if(kr&&l.mode&1){var v=GO(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),KO(v,o,l,a,e),uT(Zh(c,l));break e}}a=c=Zh(c,l),En!==4&&(En=2),Wp===null?Wp=[a]:Wp.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=x8(a,c,e);VO(a,w);break e;case 1:l=c;var b=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(rc===null||!rc.has(j)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=y8(a,l,e);VO(a,N);break e}}a=a.return}while(a!==null)}$8(r)}catch(E){e=E,dn===r&&r!==null&&(dn=r=r.return);continue}break}while(!0)}function D8(){var t=ab.current;return ab.current=ib,t===null?ib:t}function CT(){(En===0||En===3||En===2)&&(En=4),$n===null||!(Yu&268435455)&&!(d1&268435455)||kl($n,Gn)}function cb(t,e){var r=qt;qt|=2;var n=D8();($n!==t||Gn!==e)&&(No=null,Iu(t,e));do try{zee();break}catch(s){O8(t,s)}while(!0);if(hT(),qt=r,ab.current=n,dn!==null)throw Error(Oe(261));return $n=null,Gn=0,En}function zee(){for(;dn!==null;)M8(dn)}function Wee(){for(;dn!==null&&!gZ();)M8(dn)}function M8(t){var e=F8(t.alternate,t,ti);t.memoizedProps=t.pendingProps,e===null?$8(t):dn=e,ET.current=null}function $8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Lee(r,e),r!==null){r.flags&=32767,dn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{En=6,dn=null;return}}else if(r=$ee(r,e,ti),r!==null){dn=r;return}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);En===0&&(En=5)}function au(t,e,r){var n=er,s=Di.transition;try{Di.transition=null,er=1,Hee(t,e,r,n)}finally{Di.transition=s,er=n}return null}function Hee(t,e,r,n){do bh();while(Wl!==null);if(qt&6)throw Error(Oe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(PZ(t,a),t===$n&&(dn=$n=null,Gn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||S0||(S0=!0,V8(zv,function(){return bh(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Di.transition,Di.transition=null;var o=er;er=1;var l=qt;qt|=4,ET.current=null,Vee(t,r),k8(r,t),hee(dE),Hv=!!uE,dE=uE=null,t.current=r,Bee(r),xZ(),qt=l,er=o,Di.transition=a}else t.current=r;if(S0&&(S0=!1,Wl=t,lb=s),a=t.pendingLanes,a===0&&(rc=null),bZ(r.stateNode),Hs(t,nn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ob)throw ob=!1,t=kE,kE=null,t;return lb&1&&t.tag!==0&&bh(),a=t.pendingLanes,a&1?t===IE?Hp++:(Hp=0,IE=t):Hp=0,kc(),null}function bh(){if(Wl!==null){var t=xV(lb),e=Di.transition,r=er;try{if(Di.transition=null,er=16>t?16:t,Wl===null)var n=!1;else{if(t=Wl,Wl=null,lb=0,qt&6)throw Error(Oe(331));var s=qt;for(qt|=4,Ye=t.current;Ye!==null;){var a=Ye,o=a.child;if(Ye.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ye=u;Ye!==null;){var d=Ye;switch(d.tag){case 0:case 11:case 15:zp(8,d,a)}var h=d.child;if(h!==null)h.return=d,Ye=h;else for(;Ye!==null;){d=Ye;var f=d.sibling,m=d.return;if(A8(d),d===u){Ye=null;break}if(f!==null){f.return=m,Ye=f;break}Ye=m}}}var x=a.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Ye=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ye=o;else e:for(;Ye!==null;){if(a=Ye,a.flags&2048)switch(a.tag){case 0:case 11:case 15:zp(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Ye=w;break e}Ye=a.return}}var b=t.current;for(Ye=b;Ye!==null;){o=Ye;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Ye=j;else e:for(o=b;Ye!==null;){if(l=Ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:u1(9,l)}}catch(E){Xr(l,l.return,E)}if(l===o){Ye=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ye=N;break e}Ye=l.return}}if(qt=s,kc(),Ga&&typeof Ga.onPostCommitFiberRoot=="function")try{Ga.onPostCommitFiberRoot(r1,t)}catch{}n=!0}return n}finally{er=r,Di.transition=e}}return!1}function oD(t,e,r){e=Zh(r,e),e=x8(t,e,1),t=tc(t,e,1),e=Es(),t!==null&&(Kx(t,1,e),Hs(t,e))}function Xr(t,e,r){if(t.tag===3)oD(t,t,r);else for(;e!==null;){if(e.tag===3){oD(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rc===null||!rc.has(n))){t=Zh(r,t),t=y8(e,t,1),e=tc(e,t,1),t=Es(),e!==null&&(Kx(e,1,t),Hs(e,t));break}}e=e.return}}function Gee(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Es(),t.pingedLanes|=t.suspendedLanes&r,$n===t&&(Gn&r)===r&&(En===4||En===3&&(Gn&130023424)===Gn&&500>nn()-_T?Iu(t,0):PT|=r),Hs(t,e)}function L8(t,e){e===0&&(t.mode&1?(e=m0,m0<<=1,!(m0&130023424)&&(m0=4194304)):e=1);var r=Es();t=Ho(t,e),t!==null&&(Kx(t,e,r),Hs(t,r))}function Kee(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),L8(t,r)}function Yee(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(e),L8(t,r)}var F8;F8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||zs.current)Vs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Vs=!1,Mee(t,e,r);Vs=!!(t.flags&131072)}else Vs=!1,kr&&e.flags&1048576&&qV(e,Zv,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;mv(t,e),t=e.pendingProps;var s=Yh(e,us.current);vh(e,r),s=bT(null,e,n,t,s,r);var a=wT();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ws(n)?(a=!0,Xv(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pT(e),s.updater=c1,e.stateNode=s,s._reactInternals=e,bE(e,n,t,r),e=NE(null,e,n,!0,a,r)):(e.tag=0,kr&&a&&lT(e),vs(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(mv(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Xee(n),t=ta(n,t),s){case 0:e=jE(null,e,n,t,r);break e;case 1:e=XO(null,e,n,t,r);break e;case 11:e=YO(null,e,n,t,r);break e;case 14:e=QO(null,e,n,ta(n.type,t),r);break e}throw Error(Oe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ta(n,s),jE(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ta(n,s),XO(t,e,n,s,r);case 3:e:{if(j8(e),t===null)throw Error(Oe(387));n=e.pendingProps,a=e.memoizedState,s=a.element,YV(t,e),rb(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=Zh(Error(Oe(423)),e),e=JO(t,e,n,r,s);break e}else if(n!==s){s=Zh(Error(Oe(424)),e),e=JO(t,e,n,r,s);break e}else for(li=ec(e.stateNode.containerInfo.firstChild),ui=e,kr=!0,aa=null,r=GV(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qh(),n===s){e=Go(t,e,r);break e}vs(t,e,n,r)}e=e.child}return e;case 5:return QV(e),t===null&&xE(e),n=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,hE(n,s)?o=null:a!==null&&hE(n,a)&&(e.flags|=32),w8(t,e),vs(t,e,o,r),e.child;case 6:return t===null&&xE(e),null;case 13:return N8(t,e,r);case 4:return gT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xh(e,null,n,r):vs(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ta(n,s),YO(t,e,n,s,r);case 7:return vs(t,e,e.pendingProps,r),e.child;case 8:return vs(t,e,e.pendingProps.children,r),e.child;case 12:return vs(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,yr(eb,n._currentValue),n._currentValue=o,a!==null)if(ya(a.value,o)){if(a.children===s.children&&!zs.current){e=Go(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Lo(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),yE(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Oe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),yE(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}vs(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,vh(e,r),s=Bi(s),n=n(s),e.flags|=1,vs(t,e,n,r),e.child;case 14:return n=e.type,s=ta(n,e.pendingProps),s=ta(n.type,s),QO(t,e,n,s,r);case 15:return v8(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ta(n,s),mv(t,e),e.tag=1,Ws(n)?(t=!0,Xv(e)):t=!1,vh(e,r),g8(e,n,s),bE(e,n,s,r),NE(null,e,n,!0,t,r);case 19:return S8(t,e,r);case 22:return b8(t,e,r)}throw Error(Oe(156,e.tag))};function V8(t,e){return fV(t,e)}function Qee(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(t,e,r,n){return new Qee(t,e,r,n)}function kT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xee(t){if(typeof t=="function")return kT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===QA)return 11;if(t===XA)return 14}return 2}function sc(t,e){var r=t.alternate;return r===null?(r=Ii(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function xv(t,e,r,n,s,a){var o=2;if(n=t,typeof t=="function")kT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gd:return Ru(r.children,s,a,e);case YA:o=8,s|=8;break;case zS:return t=Ii(12,r,e,s|2),t.elementType=zS,t.lanes=a,t;case WS:return t=Ii(13,r,e,s),t.elementType=WS,t.lanes=a,t;case HS:return t=Ii(19,r,e,s),t.elementType=HS,t.lanes=a,t;case QF:return h1(r,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KF:o=10;break e;case YF:o=9;break e;case QA:o=11;break e;case XA:o=14;break e;case _l:o=16,n=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=Ii(o,r,e,s),e.elementType=t,e.type=n,e.lanes=a,e}function Ru(t,e,r,n){return t=Ii(7,t,n,e),t.lanes=r,t}function h1(t,e,r,n){return t=Ii(22,t,n,e),t.elementType=QF,t.lanes=r,t.stateNode={isHidden:!1},t}function l2(t,e,r){return t=Ii(6,t,null,e),t.lanes=r,t}function c2(t,e,r){return e=Ii(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jee(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qN(0),this.expirationTimes=qN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qN(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function IT(t,e,r,n,s,a,o,l,c){return t=new Jee(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ii(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pT(a),t}function Zee(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hd,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function B8(t){if(!t)return gc;t=t._reactInternals;e:{if(md(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ws(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var r=t.type;if(Ws(r))return BV(t,r,e)}return e}function U8(t,e,r,n,s,a,o,l,c){return t=IT(r,n,!0,t,s,a,o,l,c),t.context=B8(null),r=t.current,n=Es(),s=nc(r),a=Lo(n,s),a.callback=e??null,tc(r,a,s),t.current.lanes=s,Kx(t,s,n),Hs(t,n),t}function f1(t,e,r,n){var s=e.current,a=Es(),o=nc(s);return r=B8(r),e.context===null?e.context=r:e.pendingContext=r,e=Lo(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=tc(s,e,o),t!==null&&(ha(t,s,o,a),dv(t,s,o)),o}function ub(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function RT(t,e){lD(t,e),(t=t.alternate)&&lD(t,e)}function ete(){return null}var q8=typeof reportError=="function"?reportError:function(t){console.error(t)};function OT(t){this._internalRoot=t}m1.prototype.render=OT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));f1(t,e,null,null)};m1.prototype.unmount=OT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qu(function(){f1(null,t,null,null)}),e[Wo]=null}};function m1(t){this._internalRoot=t}m1.prototype.unstable_scheduleHydration=function(t){if(t){var e=bV();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Cl.length&&e!==0&&e<Cl[r].priority;r++);Cl.splice(r,0,t),r===0&&jV(t)}};function DT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cD(){}function tte(t,e,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=ub(o);a.call(u)}}var o=U8(e,n,t,0,null,!1,!1,"",cD);return t._reactRootContainer=o,t[Wo]=o.current,Tg(t.nodeType===8?t.parentNode:t),Qu(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ub(c);l.call(u)}}var c=IT(t,0,!1,null,null,!1,!1,"",cD);return t._reactRootContainer=c,t[Wo]=c.current,Tg(t.nodeType===8?t.parentNode:t),Qu(function(){f1(e,c,r,n)}),c}function g1(t,e,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=ub(o);l.call(c)}}f1(e,o,t,s)}else o=tte(r,e,t,s,n);return ub(o)}yV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Pp(e.pendingLanes);r!==0&&(eT(e,r|1),Hs(e,nn()),!(qt&6)&&(ef=nn()+500,kc()))}break;case 13:Qu(function(){var n=Ho(t,1);if(n!==null){var s=Es();ha(n,t,1,s)}}),RT(t,1)}};tT=function(t){if(t.tag===13){var e=Ho(t,134217728);if(e!==null){var r=Es();ha(e,t,134217728,r)}RT(t,134217728)}};vV=function(t){if(t.tag===13){var e=nc(t),r=Ho(t,e);if(r!==null){var n=Es();ha(r,t,e,n)}RT(t,e)}};bV=function(){return er};wV=function(t,e){var r=er;try{return er=t,e()}finally{er=r}};rE=function(t,e,r){switch(e){case"input":if(YS(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=a1(n);if(!s)throw Error(Oe(90));JF(n),YS(n,s)}}}break;case"textarea":eV(t,r);break;case"select":e=r.value,e!=null&&ph(t,!!r.multiple,e,!1)}};oV=AT;lV=Qu;var rte={usingClientEntryPoint:!1,Events:[Qx,Xd,a1,iV,aV,AT]},ap={findFiberByHostInstance:pu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nte={bundleType:ap.bundleType,version:ap.version,rendererPackageName:ap.rendererPackageName,rendererConfig:ap.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ll.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dV(t),t===null?null:t.stateNode},findFiberByHostInstance:ap.findFiberByHostInstance||ete,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E0.isDisabled&&E0.supportsFiber)try{r1=E0.inject(nte),Ga=E0}catch{}}gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rte;gi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DT(e))throw Error(Oe(200));return Zee(t,e,null,r)};gi.createRoot=function(t,e){if(!DT(t))throw Error(Oe(299));var r=!1,n="",s=q8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=IT(t,1,!1,null,null,r,!1,n,s),t[Wo]=e.current,Tg(t.nodeType===8?t.parentNode:t),new OT(e)};gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=dV(e),t=t===null?null:t.stateNode,t};gi.flushSync=function(t){return Qu(t)};gi.hydrate=function(t,e,r){if(!p1(e))throw Error(Oe(200));return g1(null,t,e,!0,r)};gi.hydrateRoot=function(t,e,r){if(!DT(t))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=q8;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=U8(e,null,t,1,r??null,s,!1,a,o),t[Wo]=e.current,Tg(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new m1(e)};gi.render=function(t,e,r){if(!p1(e))throw Error(Oe(200));return g1(null,t,e,!1,r)};gi.unmountComponentAtNode=function(t){if(!p1(t))throw Error(Oe(40));return t._reactRootContainer?(Qu(function(){g1(null,null,t,!1,function(){t._reactRootContainer=null,t[Wo]=null})}),!0):!1};gi.unstable_batchedUpdates=AT;gi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!p1(r))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return g1(t,e,r,!1,n)};gi.version="18.3.1-next-f1338f8080-20240426";function z8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z8)}catch(t){console.error(t)}}z8(),zF.exports=gi;var Ic=zF.exports;const W8=Qt(Ic);var H8,uD=Ic;H8=uD.createRoot,uD.hydrateRoot;const ste=()=>{};var dD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},ite=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[r++];e[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[r++],o=t[r++],l=t[r++],c=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},K8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const a=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=a>>2,h=(a&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;c||(m=64,o||(f=64)),n.push(r[d],r[h],r[f],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ite(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const a=r[t.charAt(s++)],l=s<t.length?r[t.charAt(s)]:0;++s;const u=s<t.length?r[t.charAt(s)]:64;++s;const h=s<t.length?r[t.charAt(s)]:64;if(++s,a==null||l==null||u==null||h==null)throw new ate;const f=a<<2|l>>4;if(n.push(f),u!==64){const m=l<<4&240|u>>2;if(n.push(m),h!==64){const x=u<<6&192|h;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ate extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ote=function(t){const e=G8(t);return K8.encodeByteArray(e,!0)},Y8=function(t){return ote(t).replace(/\./g,"")},Q8=function(t){try{return K8.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cte=()=>lte().__FIREBASE_DEFAULTS__,ute=()=>{if(typeof process>"u"||typeof dD>"u")return;const t=dD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q8(t[1]);return e&&JSON.parse(e)},x1=()=>{try{return ste()||cte()||ute()||dte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hte=t=>{var e,r;return(r=(e=x1())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},X8=()=>{var t;return(t=x1())==null?void 0:t.config},J8=t=>{var e;return(e=x1())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z8(t){return(await fetch(t,{credentials:"include"})).ok}const Gp={};function mte(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gp))Gp[e]?t.emulator.push(e):t.prod.push(e);return t}function pte(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let hD=!1;function gte(t,e){if(typeof window>"u"||typeof document>"u"||!rm(window.location.host)||Gp[t]===e||Gp[t]||hD)return;Gp[t]=e;function r(f){return`__firebase__banner__${f}`}const n="__firebase__banner",a=mte().prod.length>0;function o(){const f=document.getElementById(n);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{hD=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=pte(n),m=r("text"),x=document.getElementById(m)||document.createElement("span"),p=r("learnmore"),v=document.getElementById(p)||document.createElement("a"),w=r("preprendIcon"),b=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const j=f.element;l(j),d(v,p);const N=u();c(b,w),j.append(b,x,v,N),document.body.appendChild(j)}a?(x.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ds())}function yte(){var e;const t=(e=x1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bte(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jte(){const t=ds();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Nte(){return!yte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ste(){try{return typeof indexedDB=="object"}catch{return!1}}function Ete(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pte="FirebaseError";class cl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Pte,Object.setPrototypeOf(this,cl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jx.prototype.create)}}class Jx{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?_te(a,n):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new cl(s,l,n)}}function _te(t,e){return t.replace(Ate,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const Ate=/\{\$([^}]+)}/g;function Tte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ko(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const a=t[s],o=e[s];if(fD(a)&&fD(o)){if(!Ko(a,o))return!1}else if(a!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function fD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ap(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,a]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Tp(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Cte(t,e){const r=new kte(t,e);return r.subscribe.bind(r)}class kte{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Ite(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=u2),s.error===void 0&&(s.error=u2),s.complete===void 0&&(s.complete=u2);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ite(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function u2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class Xu{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rte=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new fte;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dte(e))try{this.getOrInitializeService({instanceIdentifier:ou})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(e=ou){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ou){return this.instances.has(e)}getOptions(e=ou){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(s)}return s}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const a=this.instances.get(n);return a&&e(a,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Ote(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ou){return this.component?this.component.multipleInstances?e:ou:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ote(t){return t===ou?void 0:t}function Dte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Rte(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dt||(Dt={}));const $te={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},Lte=Dt.INFO,Fte={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},Vte=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=Fte[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class MT{constructor(e){this.name=e,this._logLevel=Lte,this._logHandler=Vte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$te[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}const Bte=(t,e)=>e.some(r=>t instanceof r);let mD,pD;function Ute(){return mD||(mD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qte(){return pD||(pD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e9=new WeakMap,DE=new WeakMap,t9=new WeakMap,d2=new WeakMap,$T=new WeakMap;function zte(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(ic(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&e9.set(r,t)}).catch(()=>{}),$T.set(e,t),e}function Wte(t){if(DE.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});DE.set(t,e)}let ME={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return DE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||t9.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ic(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hte(t){ME=t(ME)}function Gte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(h2(this),e,...r);return t9.set(n,e.sort?e.sort():[e]),ic(n)}:qte().includes(t)?function(...e){return t.apply(h2(this),e),ic(e9.get(this))}:function(...e){return ic(t.apply(h2(this),e))}}function Kte(t){return typeof t=="function"?Gte(t):(t instanceof IDBTransaction&&Wte(t),Bte(t,Ute())?new Proxy(t,ME):t)}function ic(t){if(t instanceof IDBRequest)return zte(t);if(d2.has(t))return d2.get(t);const e=Kte(t);return e!==t&&(d2.set(t,e),$T.set(e,t)),e}const h2=t=>$T.get(t);function Yte(t,e,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(t,e),l=ic(o);return n&&o.addEventListener("upgradeneeded",c=>{n(ic(o.result),c.oldVersion,c.newVersion,ic(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Qte=["get","getKey","getAll","getAllKeys","count"],Xte=["put","add","delete","clear"],f2=new Map;function gD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(f2.get(e))return f2.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=Xte.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Qte.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),s&&c.done]))[0]};return f2.set(e,a),a}Hte(t=>({...t,get:(e,r,n)=>gD(e,r)||t.get(e,r,n),has:(e,r)=>!!gD(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Zte(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Zte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $E="@firebase/app",xD="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new MT("@firebase/app"),ere="@firebase/app-compat",tre="@firebase/analytics-compat",rre="@firebase/analytics",nre="@firebase/app-check-compat",sre="@firebase/app-check",ire="@firebase/auth",are="@firebase/auth-compat",ore="@firebase/database",lre="@firebase/data-connect",cre="@firebase/database-compat",ure="@firebase/functions",dre="@firebase/functions-compat",hre="@firebase/installations",fre="@firebase/installations-compat",mre="@firebase/messaging",pre="@firebase/messaging-compat",gre="@firebase/performance",xre="@firebase/performance-compat",yre="@firebase/remote-config",vre="@firebase/remote-config-compat",bre="@firebase/storage",wre="@firebase/storage-compat",jre="@firebase/firestore",Nre="@firebase/ai",Sre="@firebase/firestore-compat",Ere="firebase",Pre="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="[DEFAULT]",_re={[$E]:"fire-core",[ere]:"fire-core-compat",[rre]:"fire-analytics",[tre]:"fire-analytics-compat",[sre]:"fire-app-check",[nre]:"fire-app-check-compat",[ire]:"fire-auth",[are]:"fire-auth-compat",[ore]:"fire-rtdb",[lre]:"fire-data-connect",[cre]:"fire-rtdb-compat",[ure]:"fire-fn",[dre]:"fire-fn-compat",[hre]:"fire-iid",[fre]:"fire-iid-compat",[mre]:"fire-fcm",[pre]:"fire-fcm-compat",[gre]:"fire-perf",[xre]:"fire-perf-compat",[yre]:"fire-rc",[vre]:"fire-rc-compat",[bre]:"fire-gcs",[wre]:"fire-gcs-compat",[jre]:"fire-fst",[Sre]:"fire-fst-compat",[Nre]:"fire-vertex","fire-js":"fire-js",[Ere]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=new Map,Are=new Map,FE=new Map;function yD(t,e){try{t.container.addComponent(e)}catch(r){Yo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function tf(t){const e=t.name;if(FE.has(e))return Yo.debug(`There were multiple attempts to register component ${e}.`),!1;FE.set(e,t);for(const r of db.values())yD(r,t);for(const r of Are.values())yD(r,t);return!0}function LT(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ls(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ac=new Jx("app","Firebase",Tre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ac.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=Pre;function r9(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:LE,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw ac.create("bad-app-name",{appName:String(s)});if(r||(r=X8()),!r)throw ac.create("no-options");const a=db.get(s);if(a){if(Ko(r,a.options)&&Ko(n,a.config))return a;throw ac.create("duplicate-app",{appName:s})}const o=new Mte(s);for(const c of FE.values())o.addComponent(c);const l=new Cre(r,n,o);return db.set(s,l),l}function kre(t=LE){const e=db.get(t);if(!e&&t===LE&&X8())return r9();if(!e)throw ac.create("no-app",{appName:t});return e}function oc(t,e,r){let n=_re[t]??t;r&&(n+=`-${r}`);const s=n.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${n}" with version "${e}":`];s&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yo.warn(o.join(" "));return}tf(new Xu(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ire="firebase-heartbeat-database",Rre=1,Lg="firebase-heartbeat-store";let m2=null;function n9(){return m2||(m2=Yte(Ire,Rre,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lg)}catch(r){console.warn(r)}}}}).catch(t=>{throw ac.create("idb-open",{originalErrorMessage:t.message})})),m2}async function Ore(t){try{const r=(await n9()).transaction(Lg),n=await r.objectStore(Lg).get(s9(t));return await r.done,n}catch(e){if(e instanceof cl)Yo.warn(e.message);else{const r=ac.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yo.warn(r.message)}}}async function vD(t,e){try{const n=(await n9()).transaction(Lg,"readwrite");await n.objectStore(Lg).put(e,s9(t)),await n.done}catch(r){if(r instanceof cl)Yo.warn(r.message);else{const n=ac.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Yo.warn(n.message)}}}function s9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dre=1024,Mre=30;class $re{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Fre(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>Mre){const o=Vre(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Yo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=bD(),{heartbeatsToSend:n,unsentEntries:s}=Lre(this._heartbeatsCache.heartbeats),a=Y8(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Yo.warn(r),""}}}function bD(){return new Date().toISOString().substring(0,10)}function Lre(t,e=Dre){const r=[];let n=t.slice();for(const s of t){const a=r.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),wD(r)>e){a.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),wD(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Fre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ste()?Ete().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Ore(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return vD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return vD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function wD(t){return Y8(JSON.stringify({version:2,heartbeats:t})).length}function Vre(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bre(t){tf(new Xu("platform-logger",e=>new Jte(e),"PRIVATE")),tf(new Xu("heartbeat",e=>new $re(e),"PRIVATE")),oc($E,xD,t),oc($E,xD,"esm2020"),oc("fire-js","")}Bre("");var Ure="firebase",qre="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oc(Ure,qre,"app");function i9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zre=i9,a9=new Jx("auth","Firebase",i9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new MT("@firebase/auth");function Wre(t,...e){hb.logLevel<=Dt.WARN&&hb.warn(`Auth (${sm}): ${t}`,...e)}function yv(t,...e){hb.logLevel<=Dt.ERROR&&hb.error(`Auth (${sm}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,...e){throw FT(t,...e)}function di(t,...e){return FT(t,...e)}function o9(t,e,r){const n={...zre(),[e]:r};return new Jx("auth","Firebase",n).create(e,{appName:t.name})}function fa(t){return o9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FT(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return a9.create(t,...e)}function Ue(t,e,...r){if(!t)throw FT(e,...r)}function Ro(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yv(e),new Error(e)}function Qo(t,e){t||Ro(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function l9(){return jD()==="http:"||jD()==="https:"}function jD(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l9()||bte()||"connection"in navigator)?navigator.onLine:!0}function Gre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,r){this.shortDelay=e,this.longDelay=r,Qo(r>e,"Short delay should be less than long delay!"),this.isMobile=xte()||wte()}get(){return Hre()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e){Qo(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yre=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qre=new Zx(3e4,6e4);function Qn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hs(t,e,r,n,s={}){return u9(t,s,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=nm({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...a};return vte()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&rm(t.emulatorConfig.host)&&(u.credentials="include"),c9.fetch()(await d9(t,t.config.apiHost,r,l),u)})}async function u9(t,e,r){t._canInitEmulator=!1;const n={...Kre,...e};try{const s=new Jre(t),a=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Cp(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Cp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Cp(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw o9(t,d,u);qi(t,d)}}catch(s){if(s instanceof cl)throw s;qi(t,"network-request-failed",{message:String(s)})}}async function Rc(t,e,r,n,s={}){const a=await hs(t,e,r,n,s);return"mfaPendingCredential"in a&&qi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function d9(t,e,r,n){const s=`${e}${r}?${n}`,a=t,o=a.config.emulator?VT(t.config,s):`${t.config.apiScheme}://${s}`;return Yre.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Xre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jre{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(di(this.auth,"network-request-failed")),Qre.get())})}}function Cp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=di(t,e,n);return s.customData._tokenResponse=r,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){return t!==void 0&&t.getResponse!==void 0}function SD(t){return t!==void 0&&t.enterprise!==void 0}class h9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Xre(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zre(t){return(await hs(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function f9(t,e){return hs(t,"GET","/v2/recaptchaConfig",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ene(t,e){return hs(t,"POST","/v1/accounts:delete",e)}async function mb(t,e){return hs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tne(t,e=!1){const r=Gt(t),n=await r.getIdToken(e),s=BT(n);Ue(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:Kp(p2(s.auth_time)),issuedAtTime:Kp(p2(s.iat)),expirationTime:Kp(p2(s.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function p2(t){return Number(t)*1e3}function BT(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return yv("JWT malformed, contained fewer than 3 sections"),null;try{const s=Q8(r);return s?JSON.parse(s):(yv("Failed to decode base64 JWT payload"),null)}catch(s){return yv("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ED(t){const e=BT(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof cl&&rne(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function rne({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kp(this.lastLoginAt),this.creationTime=Kp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fg(t){var h;const e=t.auth,r=await t.getIdToken(),n=await rf(t,mb(e,{idToken:r}));Ue(n==null?void 0:n.users.length,e,"internal-error");const s=n.users[0];t._notifyReloadListener(s);const a=(h=s.providerUserInfo)!=null&&h.length?m9(s.providerUserInfo):[],o=ine(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new VE(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function sne(t){const e=Gt(t);await Fg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ine(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function m9(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ane(t,e){const r=await u9(t,{},async()=>{const n=nm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,o=await d9(t,s,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&rm(t.emulatorConfig.host)&&(c.credentials="include"),c9.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function one(t,e){return hs(t,"POST","/v2/accounts:revokeToken",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ED(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const r=ED(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:a}=await ane(e,r);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:a}=r,o=new wh;return n&&(Ue(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),a&&(Ue(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wh,this.toJSON())}_performRefresh(){return Ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ua{constructor({uid:e,auth:r,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new nne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new VE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await rf(this,this.stsTokenManager.getToken(this.auth,e));return Ue(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return tne(this,e)}reload(){return sne(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ua({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Fg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ls(this.auth.app))return Promise.reject(fa(this.auth));const e=await this.getIdToken();return await rf(this,ene(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,s=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:x,stsTokenManager:p}=r;Ue(h&&p,e,"internal-error");const v=wh.fromJSON(this.name,p);Ue(typeof h=="string",e,"internal-error"),yl(n,e.name),yl(s,e.name),Ue(typeof f=="boolean",e,"internal-error"),Ue(typeof m=="boolean",e,"internal-error"),yl(a,e.name),yl(o,e.name),yl(l,e.name),yl(c,e.name),yl(u,e.name),yl(d,e.name);const w=new ua({uid:h,auth:e,email:s,emailVerified:f,displayName:n,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:v,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(w.providerData=x.map(b=>({...b}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,r,n=!1){const s=new wh;s.updateFromServerResponse(r);const a=new ua({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Fg(a),a}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Ue(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?m9(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new wh;l.updateFromIdToken(n);const c=new ua({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new VE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Map;function Oo(t){Qo(t instanceof Function,"Expected a class definition");let e=PD.get(t);return e?(Qo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}p9.type="NONE";const _D=p9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e,r){return`firebase:${t}:${e}:${r}`}class jh{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=vv(this.userKey,s.apiKey,a),this.fullPersistenceKey=vv("persistence",s.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await mb(this.auth,{idToken:e}).catch(()=>{});return r?ua._fromGetAccountInfoResponse(this.auth,r,e):null}return ua._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new jh(Oo(_D),e,n);const s=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=s[0]||Oo(_D);const o=vv(n,e.config.apiKey,e.name);let l=null;for(const u of r)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await mb(e,{idToken:d}).catch(()=>{});if(!f)break;h=await ua._fromGetAccountInfoResponse(e,f,d)}else h=ua._fromJSON(e,d);u!==a&&(l=h),a=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new jh(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new jh(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w9(e))return"Blackberry";if(j9(e))return"Webos";if(x9(e))return"Safari";if((e.includes("chrome/")||y9(e))&&!e.includes("edge/"))return"Chrome";if(b9(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function g9(t=ds()){return/firefox\//i.test(t)}function x9(t=ds()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y9(t=ds()){return/crios\//i.test(t)}function v9(t=ds()){return/iemobile/i.test(t)}function b9(t=ds()){return/android/i.test(t)}function w9(t=ds()){return/blackberry/i.test(t)}function j9(t=ds()){return/webos/i.test(t)}function UT(t=ds()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lne(t=ds()){var e;return UT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function cne(){return jte()&&document.documentMode===10}function N9(t=ds()){return UT(t)||b9(t)||j9(t)||w9(t)||/windows phone/i.test(t)||v9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t,e=[]){let r;switch(t){case"Browser":r=AD(ds());break;case"Worker":r=`${AD(ds())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${sm}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dne(t,e={}){return hs(t,"GET","/v2/passwordPolicy",Qn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hne=6;class fne{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??hne,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TD(this),this.idTokenSubscription=new TD(this),this.beforeStateQueue=new une(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Oo(r)),this._initializationPromise=this.queue(async()=>{var n,s,a;if(!this._deleted&&(this.persistenceManager=await jh.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await mb(this,{idToken:e}),n=await ua._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Ls(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Fg(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ls(this.app))return Promise.reject(fa(this));const r=e?Gt(e):null;return r&&Ue(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ls(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ls(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dne(this),r=new fne(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jx("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await one(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Oo(e)||this._popupRedirectResolver;Ue(r,this,"argument-error"),this.redirectPersistenceManager=await jh.create(this,[Oo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,s);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&Wre(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function yi(t){return Gt(t)}class TD{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cte(r=>this.observer=r)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pne(t){ey=t}function qT(t){return ey.loadJS(t)}function gne(){return ey.recaptchaV2Script}function xne(){return ey.recaptchaEnterpriseScript}function yne(){return ey.gapiScript}function E9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vne=500,bne=6e4,P0=1e12;class wne{constructor(e){this.auth=e,this.counter=P0,this._widgets=new Map}render(e,r){const n=this.counter;return this._widgets.set(n,new Sne(e,this.auth.name,r||{})),this.counter++,n}reset(e){var n;const r=e||P0;(n=this._widgets.get(r))==null||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||P0;return((n=this._widgets.get(r))==null?void 0:n.getResponse())||""}async execute(e){var n;const r=e||P0;return(n=this._widgets.get(r))==null||n.execute(),""}}class jne{constructor(){this.enterprise=new Nne}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Nne{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Sne{constructor(e,r,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;Ue(s,"argument-error",{appName:r}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Ene(50);const{callback:e,"expired-callback":r}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,r)try{r()}catch{}this.isVisible&&this.execute()},bne)},vne))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Ene(t){const e=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<t;n++)e.push(r.charAt(Math.floor(Math.random()*r.length)));return e.join("")}const Pne="recaptcha-enterprise",Yp="NO_RECAPTCHA";class P9{constructor(e){this.type=Pne,this.auth=yi(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{f9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new h9(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(a,o,l){const c=window.grecaptcha;SD(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(Yp)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jne().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&SD(window.grecaptcha))s(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=xne();c.length!==0&&(c+=l),qT(c).then(()=>{s(l,a,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function op(t,e,r,n=!1,s=!1){const a=new P9(t);let o;if(s)o=Yp;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Ou(t,e,r,n,s){var a,o;if(s==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await op(t,e,r,r==="getOobCode");return n(t,l)}else return n(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await op(t,e,r,r==="getOobCode");return n(t,c)}else return Promise.reject(l)});else if(s==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const l=await op(t,e,r);return n(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const d=await op(t,e,r,!1,!0);return n(t,d)}return Promise.reject(c)})}else{const l=await op(t,e,r,!1,!0);return n(t,l)}else return Promise.reject(s+" provider is not supported.")}async function _ne(t){const e=yi(t),r=await f9(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new h9(r);e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,n.isAnyProviderEnabled()&&new P9(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ane(t,e){const r=LT(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),a=r.getOptions();if(Ko(a,e??{}))return s;qi(s,"already-initialized")}return r.initialize({options:e})}function Tne(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Oo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Cne(t,e,r){const n=yi(t);Ue(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!!(r!=null&&r.disableWarnings),a=_9(e),{host:o,port:l}=kne(e),c=l===null?"":`:${l}`,u={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Ue(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ue(Ko(u,n.config.emulator)&&Ko(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,rm(o)?(Z8(`${a}//${o}${c}`),gte("Auth",!0)):Ine()}function _9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kne(t){const e=_9(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:CD(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:CD(o)}}}function CD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ine(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ro("not implemented")}_getIdTokenResponse(e){return Ro("not implemented")}_linkToIdToken(e,r){return Ro("not implemented")}_getReauthenticationResolver(e){return Ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(t,e){return hs(t,"POST","/v1/accounts:resetPassword",Qn(t,e))}async function Rne(t,e){return hs(t,"POST","/v1/accounts:signUp",e)}async function One(t,e){return hs(t,"POST","/v1/accounts:update",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dne(t,e){return Rc(t,"POST","/v1/accounts:signInWithPassword",Qn(t,e))}async function T9(t,e){return hs(t,"POST","/v1/accounts:sendOobCode",Qn(t,e))}async function Mne(t,e){return T9(t,e)}async function $ne(t,e){return T9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lne(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,e))}async function Fne(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends y1{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Vg(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Vg(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ou(e,r,"signInWithPassword",Dne,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Lne(e,{email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ou(e,n,"signUpPassword",Rne,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Fne(e,{idToken:r,email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t,e){return Rc(t,"POST","/v1/accounts:signInWithIdp",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vne="http://localhost";class Ju extends y1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ju(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):qi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...a}=r;if(!n||!s)return null;const o=new Ju(n,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Nh(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Nh(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Nh(e,r)}buildRequest(){const e={requestUri:Vne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=nm(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e){return hs(t,"POST","/v1/accounts:sendVerificationCode",Qn(t,e))}async function Bne(t,e){return Rc(t,"POST","/v1/accounts:signInWithPhoneNumber",Qn(t,e))}async function Une(t,e){const r=await Rc(t,"POST","/v1/accounts:signInWithPhoneNumber",Qn(t,e));if(r.temporaryProof)throw Cp(t,"account-exists-with-different-credential",r);return r}const qne={USER_NOT_FOUND:"user-not-found"};async function zne(t,e){const r={...e,operation:"REAUTH"};return Rc(t,"POST","/v1/accounts:signInWithPhoneNumber",Qn(t,r),qne)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends y1{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,r){return new Du({verificationId:e,verificationCode:r})}static _fromTokenResponse(e,r){return new Du({phoneNumber:e,temporaryProof:r})}_getIdTokenResponse(e){return Bne(e,this._makeVerificationRequest())}_linkToIdToken(e,r){return Une(e,{idToken:r,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return zne(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:r,verificationId:n,verificationCode:s}=this.params;return e&&r?{temporaryProof:e,phoneNumber:r}:{sessionInfo:n,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:r,verificationCode:n,phoneNumber:s,temporaryProof:a}=e;return!n&&!r&&!s&&!a?null:new Du({verificationId:r,verificationCode:n,phoneNumber:s,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hne(t){const e=Ap(Tp(t)).link,r=e?Ap(Tp(e)).deep_link_id:null,n=Ap(Tp(t)).deep_link_id;return(n?Ap(Tp(n)).link:null)||n||r||e||t}class v1{constructor(e){const r=Ap(Tp(e)),n=r.apiKey??null,s=r.oobCode??null,a=Wne(r.mode??null);Ue(n&&s&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=s,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Hne(e);try{return new v1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.providerId=pd.PROVIDER_ID}static credential(e,r){return Vg._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=v1.parseLink(r);return Ue(n,"argument-error"),Vg._fromEmailAndCode(e,n.code,n.tenantId)}}pd.PROVIDER_ID="password";pd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends C9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends ty{constructor(){super("facebook.com")}static credential(e){return Ju._fromParams({providerId:Il.PROVIDER_ID,signInMethod:Il.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Il.credentialFromTaggedObject(e)}static credentialFromError(e){return Il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Il.credential(e.oauthAccessToken)}catch{return null}}}Il.FACEBOOK_SIGN_IN_METHOD="facebook.com";Il.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends ty{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ju._fromParams({providerId:Rl.PROVIDER_ID,signInMethod:Rl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Rl.credentialFromTaggedObject(e)}static credentialFromError(e){return Rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Rl.credential(r,n)}catch{return null}}}Rl.GOOGLE_SIGN_IN_METHOD="google.com";Rl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends ty{constructor(){super("github.com")}static credential(e){return Ju._fromParams({providerId:Ol.PROVIDER_ID,signInMethod:Ol.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ol.credentialFromTaggedObject(e)}static credentialFromError(e){return Ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ol.credential(e.oauthAccessToken)}catch{return null}}}Ol.GITHUB_SIGN_IN_METHOD="github.com";Ol.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends ty{constructor(){super("twitter.com")}static credential(e,r){return Ju._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Dl.credentialFromTaggedObject(e)}static credentialFromError(e){return Dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Dl.credential(r,n)}catch{return null}}}Dl.TWITTER_SIGN_IN_METHOD="twitter.com";Dl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gne(t,e){return Rc(t,"POST","/v1/accounts:signUp",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const a=await ua._fromIdTokenResponse(e,n,s),o=ID(n);return new Zu({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=ID(n);return new Zu({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function ID(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb extends cl{constructor(e,r,n,s){super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,pb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new pb(e,r,n,s)}}function k9(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?pb._fromErrorAndOperation(t,a,e,n):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kne(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function I9(t,e,r=!1){const n=await rf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Zu._forOperation(t,"link",n)}async function Yne(t,e,r){await Fg(e);const n=Kne(e.providerData);Ue(n.has(r)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qne(t,e,r=!1){const{auth:n}=t;if(Ls(n.app))return Promise.reject(fa(n));const s="reauthenticate";try{const a=await rf(t,k9(n,s,e,t),r);Ue(a.idToken,n,"internal-error");const o=BT(a.idToken);Ue(o,n,"internal-error");const{sub:l}=o;return Ue(t.uid===l,n,"user-mismatch"),Zu._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&qi(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(t,e,r=!1){if(Ls(t.app))return Promise.reject(fa(t));const n="signIn",s=await k9(t,n,e),a=await Zu._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(a.user),a}async function b1(t,e){return R9(yi(t),e)}async function Xne(t,e){const r=Gt(t);return await Yne(!1,r,e.providerId),I9(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,r){this.factorId=e,this.uid=r.mfaEnrollmentId,this.enrollmentTime=new Date(r.enrolledAt).toUTCString(),this.displayName=r.displayName}static _fromServerResponse(e,r){return"phoneInfo"in r?WT._fromServerResponse(e,r):"totpInfo"in r?HT._fromServerResponse(e,r):qi(e,"internal-error")}}class WT extends zT{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,r){return new WT(r)}}class HT extends zT{constructor(e){super("totp",e)}static _fromServerResponse(e,r){return new HT(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t,e,r){var n;Ue(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),Ue(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Ue(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Ue(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(Ue(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(t){const e=yi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jne(t,e,r){const n=yi(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&O9(n,s,r),await Ou(n,s,"getOobCode",$ne,"EMAIL_PASSWORD_PROVIDER")}async function Zne(t,e,r){await A9(Gt(t),{oobCode:e,newPassword:r}).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&GT(t),n})}async function ese(t,e){await One(Gt(t),{oobCode:e})}async function tse(t,e){const r=Gt(t),n=await A9(r,{oobCode:e}),s=n.requestType;switch(Ue(s,r,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(n.newEmail,r,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(n.mfaInfo,r,"internal-error");default:Ue(n.email,r,"internal-error")}let a=null;return n.mfaInfo&&(a=zT._fromServerResponse(yi(r),n.mfaInfo)),{data:{email:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.newEmail:n.email)||null,previousEmail:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.email:n.newEmail)||null,multiFactorInfo:a},operation:s}}async function rse(t,e,r){if(Ls(t.app))return Promise.reject(fa(t));const n=yi(t),o=await Ou(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gne,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&GT(t),c}),l=await Zu._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function nse(t,e,r){return Ls(t.app)?Promise.reject(fa(t)):b1(Gt(t),pd.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&GT(t),n})}function sse(t,e){const r=v1.parseLink(e);return(r==null?void 0:r.operation)==="EMAIL_SIGNIN"}async function ise(t,e,r){if(Ls(t.app))return Promise.reject(fa(t));const n=Gt(t),s=pd.credentialWithLink(e,r||fb());return Ue(s._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),b1(n,s)}async function RD(t,e){const r=Gt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&O9(r.auth,s,e);const{email:a}=await Mne(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ase(t,e){return hs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ose(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Gt(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await rf(n,ase(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function lse(t,e,r,n){return Gt(t).onIdTokenChanged(e,r,n)}function cse(t,e,r){return Gt(t).beforeAuthStateChanged(e,r)}function use(t,e,r,n){return Gt(t).onAuthStateChanged(e,r,n)}function D9(t){return Gt(t).signOut()}async function dse(t){return Gt(t).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e){return hs(t,"POST","/v2/accounts/mfaEnrollment:start",Qn(t,e))}const gb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(gb,"1"),this.storage.removeItem(gb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hse=1e3,fse=10;class $9 extends M9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);cne()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fse):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},hse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}$9.type="LOCAL";const mse=$9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9 extends M9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}L9.type="SESSION";const F9=L9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new w1(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:a}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(o).map(async u=>u(r.origin,a)),c=await pse(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}w1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=KT("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return window}function xse(t){un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}async function yse(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vse(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function bse(){return YT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="firebaseLocalStorageDb",wse=1,xb="firebaseLocalStorage",B9="fbase_key";class ry{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function j1(t,e){return t.transaction([xb],e?"readwrite":"readonly").objectStore(xb)}function jse(){const t=indexedDB.deleteDatabase(V9);return new ry(t).toPromise()}function BE(){const t=indexedDB.open(V9,wse);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(xb,{keyPath:B9})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(xb)?e(n):(n.close(),await jse(),e(await BE()))})})}async function DD(t,e,r){const n=j1(t,!0).put({[B9]:e,value:r});return new ry(n).toPromise()}async function Nse(t,e){const r=j1(t,!1).get(e),n=await new ry(r).toPromise();return n===void 0?null:n.value}function MD(t,e){const r=j1(t,!0).delete(e);return new ry(r).toPromise()}const Sse=800,Ese=3;class U9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await BE(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Ese)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=w1._getInstance(bse()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await yse(),!this.activeServiceWorker)return;this.sender=new gse(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await BE();return await DD(e,gb,"1"),await MD(e,gb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>DD(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Nse(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>MD(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=j1(s,!1).getAll();return new ry(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U9.type="LOCAL";const Pse=U9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t,e){return hs(t,"POST","/v2/accounts/mfaSignIn:start",Qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=E9("rcb"),_se=new Zx(3e4,6e4);class Ase{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=un().grecaptcha)!=null&&e.render)}load(e,r=""){return Ue(Tse(r),e,"argument-error"),this.shouldResolveImmediately(r)&&ND(un().grecaptcha)?Promise.resolve(un().grecaptcha):new Promise((n,s)=>{const a=un().setTimeout(()=>{s(di(e,"network-request-failed"))},_se.get());un()[g2]=()=>{un().clearTimeout(a),delete un()[g2];const l=un().grecaptcha;if(!l||!ND(l)){s(di(e,"internal-error"));return}const c=l.render;l.render=(u,d)=>{const h=c(u,d);return this.counter++,h},this.hostLanguage=r,n(l)};const o=`${gne()}?${nm({onload:g2,render:"explicit",hl:r})}`;qT(o).catch(()=>{clearTimeout(a),s(di(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var r;return!!((r=un().grecaptcha)!=null&&r.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Tse(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Cse{async load(e){return new wne(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="recaptcha",kse={theme:"light",type:"image"};class Ise{constructor(e,r,n={...kse}){this.parameters=n,this.type=Qp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yi(e),this.isInvisible=this.parameters.size==="invisible",Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof r=="string"?document.getElementById(r):r;Ue(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cse:new Ase,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),r=this.getAssertedRecaptcha(),n=r.getResponse(e);return n||new Promise(s=>{const a=o=>{o&&(this.tokenChangeListeners.delete(a),s(o))};this.tokenChangeListeners.add(a),this.isInvisible&&r.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return r=>{if(this.tokenChangeListeners.forEach(n=>n(r)),typeof e=="function")e(r);else if(typeof e=="string"){const n=un()[e];typeof n=="function"&&n(r)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const r=document.createElement("div");e.appendChild(r),e=r}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ue(l9()&&!YT(),this.auth,"internal-error"),await Rse(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Zre(this.auth);Ue(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function Rse(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ose{constructor(e,r){this.verificationId=e,this.onConfirmation=r}confirm(e){const r=Du._fromVerification(this.verificationId,e);return this.onConfirmation(r)}}async function Dse(t,e,r){if(Ls(t.app))return Promise.reject(fa(t));const n=yi(t),s=await q9(n,e,Gt(r));return new Ose(s,a=>b1(n,a))}async function q9(t,e,r){var n;if(!t._getRecaptchaConfig())try{await _ne(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const a=s.session;if("phoneNumber"in s){Ue(a.type==="enroll",t,"internal-error");const o={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ou(t,o,"mfaSmsEnrollment",async(d,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===Yp){Ue((r==null?void 0:r.type)===Qp,d,"argument-error");const f=await x2(d,h,r);return OD(d,f)}return OD(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{Ue(a.type==="signin",t,"internal-error");const o=((n=s.multiFactorHint)==null?void 0:n.uid)||s.multiFactorUid;Ue(o,t,"missing-multi-factor-info");const l={mfaPendingCredential:a.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ou(t,l,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===Yp){Ue((r==null?void 0:r.type)===Qp,h,"argument-error");const m=await x2(h,f,r);return $D(h,m)}return $D(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ou(t,a,"sendVerificationCode",async(u,d)=>{if(d.captchaResponse===Yp){Ue((r==null?void 0:r.type)===Qp,u,"argument-error");const h=await x2(u,d,r);return kD(u,h)}return kD(u,d)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{r==null||r._reset()}}async function x2(t,e,r){Ue(r.type===Qp,t,"argument-error");const n=await r.verify();Ue(typeof n=="string",t,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const a=s.phoneEnrollmentInfo.phoneNumber,o=s.phoneEnrollmentInfo.captchaResponse,l=s.phoneEnrollmentInfo.clientType,c=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:n,captchaResponse:o,clientType:l,recaptchaVersion:c}}),s}else if("phoneSignInInfo"in s){const a=s.phoneSignInInfo.captchaResponse,o=s.phoneSignInInfo.clientType,l=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:a,clientType:o,recaptchaVersion:l}}),s}else return Object.assign(s,{recaptchaToken:n}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.providerId=Mu.PROVIDER_ID,this.auth=yi(e)}verifyPhoneNumber(e,r){return q9(this.auth,e,Gt(r))}static credential(e,r){return Du._fromVerification(e,r)}static credentialFromResult(e){const r=e;return Mu.credentialFromTaggedObject(r)}static credentialFromError(e){return Mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:r,temporaryProof:n}=e;return r&&n?Du._fromTokenResponse(r,n):null}}Mu.PROVIDER_ID="phone";Mu.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mse(t,e){return e?Oo(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends y1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nh(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Nh(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Nh(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function $se(t){return R9(t.auth,new QT(t),t.bypassAuthState)}function Lse(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),Qne(r,new QT(t),t.bypassAuthState)}async function Fse(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),I9(r,new QT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,r,n,s,a=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $se;case"linkViaPopup":case"linkViaRedirect":return Fse;case"reauthViaPopup":case"reauthViaRedirect":return Lse;default:qi(this.auth,"internal-error")}}resolve(e){Qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vse=new Zx(2e3,1e4);class sh extends z9{constructor(e,r,n,s,a){super(e,r,s,a),this.provider=n,this.authWindow=null,this.pollId=null,sh.currentPopupAction&&sh.currentPopupAction.cancel(),sh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Qo(this.filter.length===1,"Popup operations only handle one event");const e=KT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vse.get())};e()}}sh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bse="pendingRedirect",bv=new Map;class Use extends z9{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=bv.get(this.auth._key());if(!e){try{const n=await qse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}bv.set(this.auth._key(),e)}return this.bypassAuthState||bv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qse(t,e){const r=Hse(e),n=Wse(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function zse(t,e){bv.set(t._key(),e)}function Wse(t){return Oo(t._redirectPersistence)}function Hse(t){return vv(Bse,t.config.apiKey,t.name)}async function Gse(t,e,r=!1){if(Ls(t.app))return Promise.reject(fa(t));const n=yi(t),s=Mse(n,e),o=await new Use(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kse=10*60*1e3;class Yse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qse(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!W9(e)){const s=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(di(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kse&&this.cachedEventUids.clear(),this.cachedEventUids.has(LD(e))}saveEventToCache(e){this.cachedEventUids.add(LD(e)),this.lastProcessedEventTime=Date.now()}}function LD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Qse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xse(t,e={}){return hs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zse=/^https?/;async function eie(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Xse(t);for(const r of e)try{if(tie(r))return}catch{}qi(t,"unauthorized-domain")}function tie(t){const e=fb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Zse.test(r))return!1;if(Jse.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rie=new Zx(3e4,6e4);function FD(){const t=un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function nie(t){return new Promise((e,r)=>{var s,a,o;function n(){FD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FD(),r(di(t,"network-request-failed"))},timeout:rie.get()})}if((a=(s=un().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=un().gapi)!=null&&o.load)n();else{const l=E9("iframefcb");return un()[l]=()=>{gapi.load?n():r(di(t,"network-request-failed"))},qT(`${yne()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw wv=null,e})}let wv=null;function sie(t){return wv=wv||nie(t),wv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie=new Zx(5e3,15e3),aie="__/auth/iframe",oie="emulator/auth/iframe",lie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uie(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?VT(e,oie):`https://${t.config.authDomain}/${aie}`,n={apiKey:e.apiKey,appName:t.name,v:sm},s=cie.get(t.config.apiHost);s&&(n.eid=s);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${nm(n).slice(1)}`}async function die(t){const e=await sie(t),r=un().gapi;return Ue(r,t,"internal-error"),e.open({where:document.body,url:uie(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lie,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const o=di(t,"network-request-failed"),l=un().setTimeout(()=>{a(o)},iie.get());function c(){un().clearTimeout(l),s(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fie=500,mie=600,pie="_blank",gie="http://localhost";class VD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xie(t,e,r,n=fie,s=mie){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...hie,width:n.toString(),height:s.toString(),top:a,left:o},u=ds().toLowerCase();r&&(l=y9(u)?pie:r),g9(u)&&(e=e||gie,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[m,x])=>`${f}${m}=${x},`,"");if(lne(u)&&l!=="_self")return yie(e||"",l),new VD(null);const h=window.open(e||"",l,d);Ue(h,t,"popup-blocked");try{h.focus()}catch{}return new VD(h)}function yie(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie="__/auth/handler",bie="emulator/auth/handler",wie=encodeURIComponent("fac");async function BD(t,e,r,n,s,a){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:sm,eventId:s};if(e instanceof C9){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Tte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof ty){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${wie}=${encodeURIComponent(c)}`:"";return`${jie(t)}?${nm(l).slice(1)}${u}`}function jie({config:t}){return t.emulator?VT(t,bie):`https://${t.authDomain}/${vie}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="webStorageSupport";class Nie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F9,this._completeRedirectFn=Gse,this._overrideRedirectResult=zse}async _openPopup(e,r,n,s){var o;Qo((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await BD(e,r,n,fb(),s);return xie(e,a,KT())}async _openRedirect(e,r,n,s){await this._originValidation(e);const a=await BD(e,r,n,fb(),s);return xse(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:a}=this.eventManagers[r];return s?Promise.resolve(s):(Qo(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await die(e),n=new Yse(e);return r.register("authEvent",s=>(Ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(y2,{type:y2},s=>{var o;const a=(o=s==null?void 0:s[0])==null?void 0:o[y2];a!==void 0&&r(!!a),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=eie(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return N9()||x9()||UT()}}const Sie=Nie;var UD="@firebase/auth",qD="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _ie(t){tf(new Xu("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;Ue(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S9(t)},u=new mne(n,s,a,c);return Tne(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),tf(new Xu("auth-internal",e=>{const r=yi(e.getProvider("auth").getImmediate());return(n=>new Eie(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),oc(UD,qD,Pie(t)),oc(UD,qD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aie=5*60,Tie=J8("authIdTokenMaxAge")||Aie;let zD=null;const Cie=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Tie)return;const s=r==null?void 0:r.token;zD!==s&&(zD=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function H9(t=kre()){const e=LT(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Ane(t,{popupRedirectResolver:Sie,persistence:[Pse,mse,F9]}),n=J8("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=Cie(a.toString());cse(r,o,()=>o(r.currentUser)),lse(r,l=>o(l))}}const s=hte("auth");return s&&Cne(r,`http://${s}`),r}function kie(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}pne({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const a=di("internal-error");a.customData=s,r(a)},n.type="text/javascript",n.charset="UTF-8",kie().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_ie("Browser");var WD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lc,G9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function A(){}A.prototype=S.prototype,P.D=S.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(T,R,_){for(var I=Array(arguments.length-2),M=2;M<arguments.length;M++)I[M-2]=arguments[M];return S.prototype[R].apply(T,I)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,S,A){A||(A=0);var T=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)T[R]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(R=0;16>R;++R)T[R]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=P.g[0],A=P.g[1],R=P.g[2];var _=P.g[3],I=S+(_^A&(R^_))+T[0]+3614090360&4294967295;S=A+(I<<7&4294967295|I>>>25),I=_+(R^S&(A^R))+T[1]+3905402710&4294967295,_=S+(I<<12&4294967295|I>>>20),I=R+(A^_&(S^A))+T[2]+606105819&4294967295,R=_+(I<<17&4294967295|I>>>15),I=A+(S^R&(_^S))+T[3]+3250441966&4294967295,A=R+(I<<22&4294967295|I>>>10),I=S+(_^A&(R^_))+T[4]+4118548399&4294967295,S=A+(I<<7&4294967295|I>>>25),I=_+(R^S&(A^R))+T[5]+1200080426&4294967295,_=S+(I<<12&4294967295|I>>>20),I=R+(A^_&(S^A))+T[6]+2821735955&4294967295,R=_+(I<<17&4294967295|I>>>15),I=A+(S^R&(_^S))+T[7]+4249261313&4294967295,A=R+(I<<22&4294967295|I>>>10),I=S+(_^A&(R^_))+T[8]+1770035416&4294967295,S=A+(I<<7&4294967295|I>>>25),I=_+(R^S&(A^R))+T[9]+2336552879&4294967295,_=S+(I<<12&4294967295|I>>>20),I=R+(A^_&(S^A))+T[10]+4294925233&4294967295,R=_+(I<<17&4294967295|I>>>15),I=A+(S^R&(_^S))+T[11]+2304563134&4294967295,A=R+(I<<22&4294967295|I>>>10),I=S+(_^A&(R^_))+T[12]+1804603682&4294967295,S=A+(I<<7&4294967295|I>>>25),I=_+(R^S&(A^R))+T[13]+4254626195&4294967295,_=S+(I<<12&4294967295|I>>>20),I=R+(A^_&(S^A))+T[14]+2792965006&4294967295,R=_+(I<<17&4294967295|I>>>15),I=A+(S^R&(_^S))+T[15]+1236535329&4294967295,A=R+(I<<22&4294967295|I>>>10),I=S+(R^_&(A^R))+T[1]+4129170786&4294967295,S=A+(I<<5&4294967295|I>>>27),I=_+(A^R&(S^A))+T[6]+3225465664&4294967295,_=S+(I<<9&4294967295|I>>>23),I=R+(S^A&(_^S))+T[11]+643717713&4294967295,R=_+(I<<14&4294967295|I>>>18),I=A+(_^S&(R^_))+T[0]+3921069994&4294967295,A=R+(I<<20&4294967295|I>>>12),I=S+(R^_&(A^R))+T[5]+3593408605&4294967295,S=A+(I<<5&4294967295|I>>>27),I=_+(A^R&(S^A))+T[10]+38016083&4294967295,_=S+(I<<9&4294967295|I>>>23),I=R+(S^A&(_^S))+T[15]+3634488961&4294967295,R=_+(I<<14&4294967295|I>>>18),I=A+(_^S&(R^_))+T[4]+3889429448&4294967295,A=R+(I<<20&4294967295|I>>>12),I=S+(R^_&(A^R))+T[9]+568446438&4294967295,S=A+(I<<5&4294967295|I>>>27),I=_+(A^R&(S^A))+T[14]+3275163606&4294967295,_=S+(I<<9&4294967295|I>>>23),I=R+(S^A&(_^S))+T[3]+4107603335&4294967295,R=_+(I<<14&4294967295|I>>>18),I=A+(_^S&(R^_))+T[8]+1163531501&4294967295,A=R+(I<<20&4294967295|I>>>12),I=S+(R^_&(A^R))+T[13]+2850285829&4294967295,S=A+(I<<5&4294967295|I>>>27),I=_+(A^R&(S^A))+T[2]+4243563512&4294967295,_=S+(I<<9&4294967295|I>>>23),I=R+(S^A&(_^S))+T[7]+1735328473&4294967295,R=_+(I<<14&4294967295|I>>>18),I=A+(_^S&(R^_))+T[12]+2368359562&4294967295,A=R+(I<<20&4294967295|I>>>12),I=S+(A^R^_)+T[5]+4294588738&4294967295,S=A+(I<<4&4294967295|I>>>28),I=_+(S^A^R)+T[8]+2272392833&4294967295,_=S+(I<<11&4294967295|I>>>21),I=R+(_^S^A)+T[11]+1839030562&4294967295,R=_+(I<<16&4294967295|I>>>16),I=A+(R^_^S)+T[14]+4259657740&4294967295,A=R+(I<<23&4294967295|I>>>9),I=S+(A^R^_)+T[1]+2763975236&4294967295,S=A+(I<<4&4294967295|I>>>28),I=_+(S^A^R)+T[4]+1272893353&4294967295,_=S+(I<<11&4294967295|I>>>21),I=R+(_^S^A)+T[7]+4139469664&4294967295,R=_+(I<<16&4294967295|I>>>16),I=A+(R^_^S)+T[10]+3200236656&4294967295,A=R+(I<<23&4294967295|I>>>9),I=S+(A^R^_)+T[13]+681279174&4294967295,S=A+(I<<4&4294967295|I>>>28),I=_+(S^A^R)+T[0]+3936430074&4294967295,_=S+(I<<11&4294967295|I>>>21),I=R+(_^S^A)+T[3]+3572445317&4294967295,R=_+(I<<16&4294967295|I>>>16),I=A+(R^_^S)+T[6]+76029189&4294967295,A=R+(I<<23&4294967295|I>>>9),I=S+(A^R^_)+T[9]+3654602809&4294967295,S=A+(I<<4&4294967295|I>>>28),I=_+(S^A^R)+T[12]+3873151461&4294967295,_=S+(I<<11&4294967295|I>>>21),I=R+(_^S^A)+T[15]+530742520&4294967295,R=_+(I<<16&4294967295|I>>>16),I=A+(R^_^S)+T[2]+3299628645&4294967295,A=R+(I<<23&4294967295|I>>>9),I=S+(R^(A|~_))+T[0]+4096336452&4294967295,S=A+(I<<6&4294967295|I>>>26),I=_+(A^(S|~R))+T[7]+1126891415&4294967295,_=S+(I<<10&4294967295|I>>>22),I=R+(S^(_|~A))+T[14]+2878612391&4294967295,R=_+(I<<15&4294967295|I>>>17),I=A+(_^(R|~S))+T[5]+4237533241&4294967295,A=R+(I<<21&4294967295|I>>>11),I=S+(R^(A|~_))+T[12]+1700485571&4294967295,S=A+(I<<6&4294967295|I>>>26),I=_+(A^(S|~R))+T[3]+2399980690&4294967295,_=S+(I<<10&4294967295|I>>>22),I=R+(S^(_|~A))+T[10]+4293915773&4294967295,R=_+(I<<15&4294967295|I>>>17),I=A+(_^(R|~S))+T[1]+2240044497&4294967295,A=R+(I<<21&4294967295|I>>>11),I=S+(R^(A|~_))+T[8]+1873313359&4294967295,S=A+(I<<6&4294967295|I>>>26),I=_+(A^(S|~R))+T[15]+4264355552&4294967295,_=S+(I<<10&4294967295|I>>>22),I=R+(S^(_|~A))+T[6]+2734768916&4294967295,R=_+(I<<15&4294967295|I>>>17),I=A+(_^(R|~S))+T[13]+1309151649&4294967295,A=R+(I<<21&4294967295|I>>>11),I=S+(R^(A|~_))+T[4]+4149444226&4294967295,S=A+(I<<6&4294967295|I>>>26),I=_+(A^(S|~R))+T[11]+3174756917&4294967295,_=S+(I<<10&4294967295|I>>>22),I=R+(S^(_|~A))+T[2]+718787259&4294967295,R=_+(I<<15&4294967295|I>>>17),I=A+(_^(R|~S))+T[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+_&4294967295}n.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var A=S-this.blockSize,T=this.B,R=this.h,_=0;_<S;){if(R==0)for(;_<=A;)s(this,P,_),_+=this.blockSize;if(typeof P=="string"){for(;_<S;)if(T[R++]=P.charCodeAt(_++),R==this.blockSize){s(this,T),R=0;break}}else for(;_<S;)if(T[R++]=P[_++],R==this.blockSize){s(this,T),R=0;break}}this.h=R,this.o+=S},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var A=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=A&255,A/=256;for(this.u(P),P=Array(16),S=A=0;4>S;++S)for(var T=0;32>T;T+=8)P[A++]=this.g[S]>>>T&255;return P};function a(P,S){var A=l;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=S(P)}function o(P,S){this.h=S;for(var A=[],T=!0,R=P.length-1;0<=R;R--){var _=P[R]|0;T&&_==S||(A[R]=_,T=!1)}this.g=A}var l={};function c(P){return-128<=P&&128>P?a(P,function(S){return new o([S|0],0>S?-1:0)}):new o([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return h;if(0>P)return v(u(-P));for(var S=[],A=1,T=0;P>=A;T++)S[T]=P/A|0,A*=4294967296;return new o(S,0)}function d(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return v(d(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(S,8)),T=h,R=0;R<P.length;R+=8){var _=Math.min(8,P.length-R),I=parseInt(P.substring(R,R+_),S);8>_?(_=u(Math.pow(S,_)),T=T.j(_).add(u(I))):(T=T.j(A),T=T.add(u(I)))}return T}var h=c(0),f=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(p(this))return-v(this).m();for(var P=0,S=1,A=0;A<this.g.length;A++){var T=this.i(A);P+=(0<=T?T:4294967296+T)*S,S*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x(this))return"0";if(p(this))return"-"+v(this).toString(P);for(var S=u(Math.pow(P,6)),A=this,T="";;){var R=N(A,S).g;A=w(A,R.j(S));var _=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=R,x(A))return _+T;for(;6>_.length;)_="0"+_;T=_+T}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function x(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function p(P){return P.h==-1}t.l=function(P){return P=w(this,P),p(P)?-1:x(P)?0:1};function v(P){for(var S=P.g.length,A=[],T=0;T<S;T++)A[T]=~P.g[T];return new o(A,~P.h).add(f)}t.abs=function(){return p(this)?v(this):this},t.add=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],T=0,R=0;R<=S;R++){var _=T+(this.i(R)&65535)+(P.i(R)&65535),I=(_>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);T=I>>>16,_&=65535,I&=65535,A[R]=I<<16|_}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(P,S){return P.add(v(S))}t.j=function(P){if(x(this)||x(P))return h;if(p(this))return p(P)?v(this).j(v(P)):v(v(this).j(P));if(p(P))return v(this.j(v(P)));if(0>this.l(m)&&0>P.l(m))return u(this.m()*P.m());for(var S=this.g.length+P.g.length,A=[],T=0;T<2*S;T++)A[T]=0;for(T=0;T<this.g.length;T++)for(var R=0;R<P.g.length;R++){var _=this.i(T)>>>16,I=this.i(T)&65535,M=P.i(R)>>>16,z=P.i(R)&65535;A[2*T+2*R]+=I*z,b(A,2*T+2*R),A[2*T+2*R+1]+=_*z,b(A,2*T+2*R+1),A[2*T+2*R+1]+=I*M,b(A,2*T+2*R+1),A[2*T+2*R+2]+=_*M,b(A,2*T+2*R+2)}for(T=0;T<S;T++)A[T]=A[2*T+1]<<16|A[2*T];for(T=S;T<2*S;T++)A[T]=0;return new o(A,0)};function b(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function j(P,S){this.g=P,this.h=S}function N(P,S){if(x(S))throw Error("division by zero");if(x(P))return new j(h,h);if(p(P))return S=N(v(P),S),new j(v(S.g),v(S.h));if(p(S))return S=N(P,v(S)),new j(v(S.g),S.h);if(30<P.g.length){if(p(P)||p(S))throw Error("slowDivide_ only works with positive integers.");for(var A=f,T=S;0>=T.l(P);)A=E(A),T=E(T);var R=C(A,1),_=C(T,1);for(T=C(T,2),A=C(A,2);!x(T);){var I=_.add(T);0>=I.l(P)&&(R=R.add(A),_=I),T=C(T,1),A=C(A,1)}return S=w(P,R.j(S)),new j(R,S)}for(R=h;0<=P.l(S);){for(A=Math.max(1,Math.floor(P.m()/S.m())),T=Math.ceil(Math.log(A)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),_=u(A),I=_.j(S);p(I)||0<I.l(P);)A-=T,_=u(A),I=_.j(S);x(_)&&(_=f),R=R.add(_),P=w(P,I)}return new j(R,P)}t.A=function(P){return N(this,P).h},t.and=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],T=0;T<S;T++)A[T]=this.i(T)&P.i(T);return new o(A,this.h&P.h)},t.or=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],T=0;T<S;T++)A[T]=this.i(T)|P.i(T);return new o(A,this.h|P.h)},t.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],T=0;T<S;T++)A[T]=this.i(T)^P.i(T);return new o(A,this.h^P.h)};function E(P){for(var S=P.g.length+1,A=[],T=0;T<S;T++)A[T]=P.i(T)<<1|P.i(T-1)>>>31;return new o(A,P.h)}function C(P,S){var A=S>>5;S%=32;for(var T=P.g.length-A,R=[],_=0;_<T;_++)R[_]=0<S?P.i(_+A)>>>S|P.i(_+A+1)<<32-S:P.i(_+A);return new o(R,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,G9=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,lc=o}).apply(typeof WD<"u"?WD:typeof self<"u"?self:typeof window<"u"?window:{});var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K9,kp,Y9,jv,UE,Q9,X9,J9;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,k,O){return y==Array.prototype||y==Object.prototype||(y[k]=O.value),y};function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof _0=="object"&&_0];for(var k=0;k<y.length;++k){var O=y[k];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var n=r(this);function s(y,k){if(k)e:{var O=n;y=y.split(".");for(var F=0;F<y.length-1;F++){var ae=y[F];if(!(ae in O))break e;O=O[ae]}y=y[y.length-1],F=O[y],k=k(F),k!=F&&k!=null&&e(O,y,{configurable:!0,writable:!0,value:k})}}function a(y,k){y instanceof String&&(y+="");var O=0,F=!1,ae={next:function(){if(!F&&O<y.length){var fe=O++;return{value:k(fe,y[fe]),done:!1}}return F=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}s("Array.prototype.values",function(y){return y||function(){return a(this,function(k,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(y){var k=typeof y;return k=k!="object"?k:y?Array.isArray(y)?"array":k:"null",k=="array"||k=="object"&&typeof y.length=="number"}function u(y){var k=typeof y;return k=="object"&&y!=null||k=="function"}function d(y,k,O){return y.call.apply(y.bind,arguments)}function h(y,k,O){if(!y)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,F),y.apply(k,ae)}}return function(){return y.apply(k,arguments)}}function f(y,k,O){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(y,k){var O=Array.prototype.slice.call(arguments,1);return function(){var F=O.slice();return F.push.apply(F,arguments),y.apply(this,F)}}function x(y,k){function O(){}O.prototype=k.prototype,y.aa=k.prototype,y.prototype=new O,y.prototype.constructor=y,y.Qb=function(F,ae,fe){for(var Be=Array(arguments.length-2),lr=2;lr<arguments.length;lr++)Be[lr-2]=arguments[lr];return k.prototype[ae].apply(F,Be)}}function p(y){const k=y.length;if(0<k){const O=Array(k);for(let F=0;F<k;F++)O[F]=y[F];return O}return[]}function v(y,k){for(let O=1;O<arguments.length;O++){const F=arguments[O];if(c(F)){const ae=y.length||0,fe=F.length||0;y.length=ae+fe;for(let Be=0;Be<fe;Be++)y[ae+Be]=F[Be]}else y.push(F)}}class w{constructor(k,O){this.i=k,this.j=O,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function b(y){return/^[\s\xa0]*$/.test(y)}function j(){var y=l.navigator;return y&&(y=y.userAgent)?y:""}function N(y){return N[" "](y),y}N[" "]=function(){};var E=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function C(y,k,O){for(const F in y)k.call(O,y[F],F,y)}function P(y,k){for(const O in y)k.call(void 0,y[O],O,y)}function S(y){const k={};for(const O in y)k[O]=y[O];return k}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(y,k){let O,F;for(let ae=1;ae<arguments.length;ae++){F=arguments[ae];for(O in F)y[O]=F[O];for(let fe=0;fe<A.length;fe++)O=A[fe],Object.prototype.hasOwnProperty.call(F,O)&&(y[O]=F[O])}}function R(y){var k=1;y=y.split(":");const O=[];for(;0<k&&y.length;)O.push(y.shift()),k--;return y.length&&O.push(y.join(":")),O}function _(y){l.setTimeout(()=>{throw y},0)}function I(){var y=U;let k=null;return y.g&&(k=y.g,y.g=y.g.next,y.g||(y.h=null),k.next=null),k}class M{constructor(){this.h=this.g=null}add(k,O){const F=z.get();F.set(k,O),this.h?this.h.next=F:this.g=F,this.h=F}}var z=new w(()=>new W,y=>y.reset());class W{constructor(){this.next=this.g=this.h=null}set(k,O){this.h=k,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let B,$=!1,U=new M,Y=()=>{const y=l.Promise.resolve(void 0);B=()=>{y.then(K)}};var K=()=>{for(var y;y=I();){try{y.h.call(y.g)}catch(O){_(O)}var k=z;k.j(y),100>k.h&&(k.h++,y.next=k.g,k.g=y)}$=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(y,k){this.type=y,this.g=this.target=k,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,k=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const O=()=>{};l.addEventListener("test",O,k),l.removeEventListener("test",O,k)}catch{}return y}();function H(y,k){if(he.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var O=this.type=y.type,F=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=k,k=y.relatedTarget){if(E){e:{try{N(k.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(k=null)}}else O=="mouseover"?k=y.fromElement:O=="mouseout"&&(k=y.toElement);this.relatedTarget=k,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:se[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&H.aa.h.call(this)}}x(H,he);var se={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function J(y,k,O,F,ae){this.listener=y,this.proxy=null,this.src=k,this.type=O,this.capture=!!F,this.ha=ae,this.key=++Ne,this.da=this.fa=!1}function me(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function L(y){this.src=y,this.g={},this.h=0}L.prototype.add=function(y,k,O,F,ae){var fe=y.toString();y=this.g[fe],y||(y=this.g[fe]=[],this.h++);var Be=ee(y,k,F,ae);return-1<Be?(k=y[Be],O||(k.fa=!1)):(k=new J(k,this.src,fe,!!F,ae),k.fa=O,y.push(k)),k};function q(y,k){var O=k.type;if(O in y.g){var F=y.g[O],ae=Array.prototype.indexOf.call(F,k,void 0),fe;(fe=0<=ae)&&Array.prototype.splice.call(F,ae,1),fe&&(me(k),y.g[O].length==0&&(delete y.g[O],y.h--))}}function ee(y,k,O,F){for(var ae=0;ae<y.length;++ae){var fe=y[ae];if(!fe.da&&fe.listener==k&&fe.capture==!!O&&fe.ha==F)return ae}return-1}var te="closure_lm_"+(1e6*Math.random()|0),ce={};function ge(y,k,O,F,ae){if(Array.isArray(k)){for(var fe=0;fe<k.length;fe++)ge(y,k[fe],O,F,ae);return null}return O=pt(O),y&&y[Q]?y.K(k,O,u(F)?!!F.capture:!!F,ae):pe(y,k,O,!1,F,ae)}function pe(y,k,O,F,ae,fe){if(!k)throw Error("Invalid event type");var Be=u(ae)?!!ae.capture:!!ae,lr=It(y);if(lr||(y[te]=lr=new L(y)),O=lr.add(k,O,F,Be,fe),O.proxy)return O;if(F=ie(),O.proxy=F,F.src=y,F.listener=O,y.addEventListener)D||(ae=Be),ae===void 0&&(ae=!1),y.addEventListener(k.toString(),F,ae);else if(y.attachEvent)y.attachEvent(Te(k.toString()),F);else if(y.addListener&&y.removeListener)y.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return O}function ie(){function y(O){return k.call(y.src,y.listener,O)}const k=Xe;return y}function ue(y,k,O,F,ae){if(Array.isArray(k))for(var fe=0;fe<k.length;fe++)ue(y,k[fe],O,F,ae);else F=u(F)?!!F.capture:!!F,O=pt(O),y&&y[Q]?(y=y.i,k=String(k).toString(),k in y.g&&(fe=y.g[k],O=ee(fe,O,F,ae),-1<O&&(me(fe[O]),Array.prototype.splice.call(fe,O,1),fe.length==0&&(delete y.g[k],y.h--)))):y&&(y=It(y))&&(k=y.g[k.toString()],y=-1,k&&(y=ee(k,O,F,ae)),(O=-1<y?k[y]:null)&&de(O))}function de(y){if(typeof y!="number"&&y&&!y.da){var k=y.src;if(k&&k[Q])q(k.i,y);else{var O=y.type,F=y.proxy;k.removeEventListener?k.removeEventListener(O,F,y.capture):k.detachEvent?k.detachEvent(Te(O),F):k.addListener&&k.removeListener&&k.removeListener(F),(O=It(k))?(q(O,y),O.h==0&&(O.src=null,k[te]=null)):me(y)}}}function Te(y){return y in ce?ce[y]:ce[y]="on"+y}function Xe(y,k){if(y.da)y=!0;else{k=new H(k,this);var O=y.listener,F=y.ha||y.src;y.fa&&de(y),y=O.call(F,k)}return y}function It(y){return y=y[te],y instanceof L?y:null}var it="__closure_events_fn_"+(1e9*Math.random()>>>0);function pt(y){return typeof y=="function"?y:(y[it]||(y[it]=function(k){return y.handleEvent(k)}),y[it])}function at(){X.call(this),this.i=new L(this),this.M=this,this.F=null}x(at,X),at.prototype[Q]=!0,at.prototype.removeEventListener=function(y,k,O,F){ue(this,y,k,O,F)};function Rt(y,k){var O,F=y.F;if(F)for(O=[];F;F=F.F)O.push(F);if(y=y.M,F=k.type||k,typeof k=="string")k=new he(k,y);else if(k instanceof he)k.target=k.target||y;else{var ae=k;k=new he(F,y),T(k,ae)}if(ae=!0,O)for(var fe=O.length-1;0<=fe;fe--){var Be=k.g=O[fe];ae=_r(Be,F,!0,k)&&ae}if(Be=k.g=y,ae=_r(Be,F,!0,k)&&ae,ae=_r(Be,F,!1,k)&&ae,O)for(fe=0;fe<O.length;fe++)Be=k.g=O[fe],ae=_r(Be,F,!1,k)&&ae}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var y=this.i,k;for(k in y.g){for(var O=y.g[k],F=0;F<O.length;F++)me(O[F]);delete y.g[k],y.h--}}this.F=null},at.prototype.K=function(y,k,O,F){return this.i.add(String(y),k,!1,O,F)},at.prototype.L=function(y,k,O,F){return this.i.add(String(y),k,!0,O,F)};function _r(y,k,O,F){if(k=y.i.g[String(k)],!k)return!0;k=k.concat();for(var ae=!0,fe=0;fe<k.length;++fe){var Be=k[fe];if(Be&&!Be.da&&Be.capture==O){var lr=Be.listener,Un=Be.ha||Be.src;Be.fa&&q(y.i,Be),ae=lr.call(Un,F)!==!1&&ae}}return ae&&!F.defaultPrevented}function Xt(y,k,O){if(typeof y=="function")O&&(y=f(y,O));else if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(y,k||0)}function fs(y){y.g=Xt(()=>{y.g=null,y.i&&(y.i=!1,fs(y))},y.l);const k=y.h;y.h=null,y.m.apply(null,k)}class rr extends X{constructor(k,O){super(),this.m=k,this.l=O,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:fs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(y){X.call(this),this.h=y,this.g={}}x(hr,X);var ms=[];function Is(y){C(y.g,function(k,O){this.g.hasOwnProperty(O)&&de(k)},y),y.g={}}hr.prototype.N=function(){hr.aa.N.call(this),Is(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ne=l.JSON.stringify,Z=l.JSON.parse,Re=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function Ae(){}Ae.prototype.h=null;function ze(y){return y.h||(y.h=y.i())}function ke(){}var wt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lt(){he.call(this,"d")}x(Lt,he);function ar(){he.call(this,"c")}x(ar,he);var nr={},Ar=null;function Ki(){return Ar=Ar||new at}nr.La="serverreachability";function Ta(y){he.call(this,nr.La,y)}x(Ta,he);function Yi(y){const k=Ki();Rt(k,new Ta(k))}nr.STAT_EVENT="statevent";function Ca(y,k){he.call(this,nr.STAT_EVENT,y),this.stat=k}x(Ca,he);function Mr(y){const k=Ki();Rt(k,new Ca(k,y))}nr.Ma="timingevent";function or(y,k){he.call(this,nr.Ma,y),this.size=k}x(or,he);function wn(y,k){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},k)}function ps(){this.g=!0}ps.prototype.xa=function(){this.g=!1};function Vm(y,k,O,F,ae,fe){y.info(function(){if(y.g)if(fe)for(var Be="",lr=fe.split("&"),Un=0;Un<lr.length;Un++){var zt=lr[Un].split("=");if(1<zt.length){var Xn=zt[0];zt=zt[1];var Jn=Xn.split("_");Be=2<=Jn.length&&Jn[1]=="type"?Be+(Xn+"="+zt+"&"):Be+(Xn+"=redacted&")}}else Be=null;else Be=fe;return"XMLHTTP REQ ("+F+") [attempt "+ae+"]: "+k+`
`+O+`
`+Be})}function Kc(y,k,O,F,ae,fe,Be){y.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ae+"]: "+k+`
`+O+`
`+fe+" "+Be})}function pl(y,k,O,F){y.info(function(){return"XMLHTTP TEXT ("+k+"): "+Um(y,O)+(F?" "+F:"")})}function Bm(y,k){y.info(function(){return"TIMEOUT: "+k})}ps.prototype.info=function(){};function Um(y,k){if(!y.g)return k;if(!k)return null;try{var O=JSON.parse(k);if(O){for(y=0;y<O.length;y++)if(Array.isArray(O[y])){var F=O[y];if(!(2>F.length)){var ae=F[1];if(Array.isArray(ae)&&!(1>ae.length)){var fe=ae[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Be=1;Be<ae.length;Be++)ae[Be]=""}}}}return ne(O)}catch{return k}}var go={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qm;function Pd(){}x(Pd,Ae),Pd.prototype.g=function(){return new XMLHttpRequest},Pd.prototype.i=function(){return{}},qm=new Pd;function ka(y,k,O,F){this.j=y,this.i=k,this.l=O,this.R=F||1,this.U=new hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zy}function zy(){this.i=null,this.g="",this.h=!1}var Wy={},zm={};function _d(y,k,O){y.L=1,y.v=Xc(bi(k)),y.m=O,y.P=!0,Hy(y,null)}function Hy(y,k){y.F=Date.now(),Hr(y),y.A=bi(y.v);var O=y.A,F=y.R;Array.isArray(F)||(F=[String(F)]),Jt(O.i,"t",F),y.C=0,O=y.j.J,y.h=new zy,y.g=XR(y.j,O?k:null,!y.m),0<y.O&&(y.M=new rr(f(y.Y,y,y.g),y.O)),k=y.U,O=y.g,F=y.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(ms[0]=ae.toString()),ae=ms);for(var fe=0;fe<ae.length;fe++){var Be=ge(O,ae[fe],F||k.handleEvent,!1,k.h||k);if(!Be)break;k.g[Be.key]=Be}k=y.H?S(y.H):{},y.m?(y.u||(y.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,k)):(y.u="GET",y.g.ea(y.A,y.u,null,k)),Yi(),Vm(y.i,y.u,y.A,y.l,y.R,y.m)}ka.prototype.ca=function(y){y=y.target;const k=this.M;k&&yo(y)==3?k.j():this.Y(y)},ka.prototype.Y=function(y){try{if(y==this.g)e:{const Jn=yo(this.g);var k=this.g.Ba();const Id=this.g.Z();if(!(3>Jn)&&(Jn!=3||this.g&&(this.h.h||this.g.oa()||VR(this.g)))){this.J||Jn!=4||k==7||(k==8||0>=Id?Yi(3):Yi(2)),Wm(this);var O=this.g.Z();this.X=O;t:if(Gy(this)){var F=VR(this.g);y="";var ae=F.length,fe=yo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ia(this),vi(this);var Be="";break t}this.h.i=new l.TextDecoder}for(k=0;k<ae;k++)this.h.h=!0,y+=this.h.i.decode(F[k],{stream:!(fe&&k==ae-1)});F.length=0,this.h.g+=y,this.C=0,Be=this.h.g}else Be=this.g.oa();if(this.o=O==200,Kc(this.i,this.u,this.A,this.l,this.R,Jn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var lr,Un=this.g;if((lr=Un.g?Un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(lr)){var zt=lr;break t}}zt=null}if(O=zt)pl(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gl(this,O);else{this.o=!1,this.s=3,Mr(12),Ia(this),vi(this);break e}}if(this.P){O=!0;let Qi;for(;!this.J&&this.C<Be.length;)if(Qi=AN(this,Be),Qi==zm){Jn==4&&(this.s=4,Mr(14),O=!1),pl(this.i,this.l,null,"[Incomplete Response]");break}else if(Qi==Wy){this.s=4,Mr(15),pl(this.i,this.l,Be,"[Invalid Chunk]"),O=!1;break}else pl(this.i,this.l,Qi,null),gl(this,Qi);if(Gy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jn!=4||Be.length!=0||this.h.h||(this.s=1,Mr(16),O=!1),this.o=this.o&&O,!O)pl(this.i,this.l,Be,"[Invalid Chunked Response]"),Ia(this),vi(this);else if(0<Be.length&&!this.W){this.W=!0;var Xn=this.j;Xn.g==this&&Xn.ba&&!Xn.M&&(Xn.j.info("Great, no buffering proxy detected. Bytes received: "+Be.length),DN(Xn),Xn.M=!0,Mr(11))}}else pl(this.i,this.l,Be,null),gl(this,Be);Jn==4&&Ia(this),this.o&&!this.J&&(Jn==4?GR(this.j,this):(this.o=!1,Hr(this)))}else AJ(this.g),O==400&&0<Be.indexOf("Unknown SID")?(this.s=3,Mr(12)):(this.s=0,Mr(13)),Ia(this),vi(this)}}}catch{}finally{}};function Gy(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function AN(y,k){var O=y.C,F=k.indexOf(`
`,O);return F==-1?zm:(O=Number(k.substring(O,F)),isNaN(O)?Wy:(F+=1,F+O>k.length?zm:(k=k.slice(F,F+O),y.C=F+O,k)))}ka.prototype.cancel=function(){this.J=!0,Ia(this)};function Hr(y){y.S=Date.now()+y.I,Ad(y,y.I)}function Ad(y,k){if(y.B!=null)throw Error("WatchDog timer not null");y.B=wn(f(y.ba,y),k)}function Wm(y){y.B&&(l.clearTimeout(y.B),y.B=null)}ka.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(Bm(this.i,this.A),this.L!=2&&(Yi(),Mr(17)),Ia(this),this.s=2,vi(this)):Ad(this,this.S-y)};function vi(y){y.j.G==0||y.J||GR(y.j,y)}function Ia(y){Wm(y);var k=y.M;k&&typeof k.ma=="function"&&k.ma(),y.M=null,Is(y.U),y.g&&(k=y.g,y.g=null,k.abort(),k.ma())}function gl(y,k){try{var O=y.j;if(O.G!=0&&(O.g==y||Td(O.h,y))){if(!y.K&&Td(O.h,y)&&O.G==3){try{var F=O.Da.g.parse(k)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ae=F;if(ae[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<y.F)s0(O),r0(O);else break e;ON(O),Mr(18)}}else O.za=ae[1],0<O.za-O.T&&37500>ae[2]&&O.F&&O.v==0&&!O.C&&(O.C=wn(f(O.Za,O),6e3));if(1>=Gm(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Zc(O,11)}else if((y.K||O.g==y)&&s0(O),!b(k))for(ae=O.Da.g.parse(k),k=0;k<ae.length;k++){let zt=ae[k];if(O.T=zt[0],zt=zt[1],O.G==2)if(zt[0]=="c"){O.K=zt[1],O.ia=zt[2];const Xn=zt[3];Xn!=null&&(O.la=Xn,O.j.info("VER="+O.la));const Jn=zt[4];Jn!=null&&(O.Aa=Jn,O.j.info("SVER="+O.Aa));const Id=zt[5];Id!=null&&typeof Id=="number"&&0<Id&&(F=1.5*Id,O.L=F,O.j.info("backChannelRequestTimeoutMs_="+F)),F=O;const Qi=y.g;if(Qi){const a0=Qi.g?Qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(a0){var fe=F.h;fe.g||a0.indexOf("spdy")==-1&&a0.indexOf("quic")==-1&&a0.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Cd(fe,fe.h),fe.h=null))}if(F.D){const MN=Qi.g?Qi.g.getResponseHeader("X-HTTP-Session-Id"):null;MN&&(F.ya=MN,sr(F.I,F.D,MN))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-y.F,O.j.info("Handshake RTT: "+O.R+"ms")),F=O;var Be=y;if(F.qa=QR(F,F.J?F.ia:null,F.W),Be.K){Yy(F.h,Be);var lr=Be,Un=F.L;Un&&(lr.I=Un),lr.B&&(Wm(lr),Hr(lr)),F.g=Be}else WR(F);0<O.i.length&&n0(O)}else zt[0]!="stop"&&zt[0]!="close"||Zc(O,7);else O.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Zc(O,7):RN(O):zt[0]!="noop"&&O.l&&O.l.ta(zt),O.v=0)}}Yi(4)}catch{}}var TN=class{constructor(y,k){this.g=y,this.map=k}};function Ky(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hm(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Gm(y){return y.h?1:y.g?y.g.size:0}function Td(y,k){return y.h?y.h==k:y.g?y.g.has(k):!1}function Cd(y,k){y.g?y.g.add(k):y.h=k}function Yy(y,k){y.h&&y.h==k?y.h=null:y.g&&y.g.has(k)&&y.g.delete(k)}Ky.prototype.cancel=function(){if(this.i=Qy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Qy(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let k=y.i;for(const O of y.g.values())k=k.concat(O.D);return k}return p(y.i)}function CN(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(c(y)){for(var k=[],O=y.length,F=0;F<O;F++)k.push(y[F]);return k}k=[],O=0;for(F in y)k[O++]=y[F];return k}function Tr(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(c(y)||typeof y=="string"){var k=[];y=y.length;for(var O=0;O<y;O++)k.push(O);return k}k=[],O=0;for(const F in y)k[O++]=F;return k}}}function Xy(y,k){if(y.forEach&&typeof y.forEach=="function")y.forEach(k,void 0);else if(c(y)||typeof y=="string")Array.prototype.forEach.call(y,k,void 0);else for(var O=Tr(y),F=CN(y),ae=F.length,fe=0;fe<ae;fe++)k.call(void 0,F[fe],O&&O[fe],y)}var Jy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kN(y,k){if(y){y=y.split("&");for(var O=0;O<y.length;O++){var F=y[O].indexOf("="),ae=null;if(0<=F){var fe=y[O].substring(0,F);ae=y[O].substring(F+1)}else fe=y[O];k(fe,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ra(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Ra){this.h=y.h,Yc(this,y.j),this.o=y.o,this.g=y.g,Qc(this,y.s),this.l=y.l;var k=y.i,O=new Le;O.i=k.i,k.g&&(O.g=new Map(k.g),O.h=k.h),Km(this,O),this.m=y.m}else y&&(k=String(y).match(Jy))?(this.h=!1,Yc(this,k[1]||"",!0),this.o=re(k[2]||""),this.g=re(k[3]||"",!0),Qc(this,k[4]),this.l=re(k[5]||"",!0),Km(this,k[6]||"",!0),this.m=re(k[7]||"")):(this.h=!1,this.i=new Le(null,this.h))}Ra.prototype.toString=function(){var y=[],k=this.j;k&&y.push(we(k,_e,!0),":");var O=this.g;return(O||k=="file")&&(y.push("//"),(k=this.o)&&y.push(we(k,_e,!0),"@"),y.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&y.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&y.push("/"),y.push(we(O,O.charAt(0)=="/"?Ie:Ke,!0))),(O=this.i.toString())&&y.push("?",O),(O=this.m)&&y.push("#",we(O,We)),y.join("")};function bi(y){return new Ra(y)}function Yc(y,k,O){y.j=O?re(k,!0):k,y.j&&(y.j=y.j.replace(/:$/,""))}function Qc(y,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);y.s=k}else y.s=null}function Km(y,k,O){k instanceof Le?(y.i=k,gs(y.i,y.h)):(O||(k=we(k,je)),y.i=new Le(k,y.h))}function sr(y,k,O){y.i.set(k,O)}function Xc(y){return sr(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function re(y,k){return y?k?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function we(y,k,O){return typeof y=="string"?(y=encodeURI(y).replace(k,ve),O&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function ve(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var _e=/[#\/\?@]/g,Ke=/[#\?:]/g,Ie=/[#\?]/g,je=/[#\?@]/g,We=/#/g;function Le(y,k){this.h=this.g=null,this.i=y||null,this.j=!!k}function tt(y){y.g||(y.g=new Map,y.h=0,y.i&&kN(y.i,function(k,O){y.add(decodeURIComponent(k.replace(/\+/g," ")),O)}))}t=Le.prototype,t.add=function(y,k){tt(this),this.i=null,y=Gr(this,y);var O=this.g.get(y);return O||this.g.set(y,O=[]),O.push(k),this.h+=1,this};function yt(y,k){tt(y),k=Gr(y,k),y.g.has(k)&&(y.i=null,y.h-=y.g.get(k).length,y.g.delete(k))}function nt(y,k){return tt(y),k=Gr(y,k),y.g.has(k)}t.forEach=function(y,k){tt(this),this.g.forEach(function(O,F){O.forEach(function(ae){y.call(k,ae,F,this)},this)},this)},t.na=function(){tt(this);const y=Array.from(this.g.values()),k=Array.from(this.g.keys()),O=[];for(let F=0;F<k.length;F++){const ae=y[F];for(let fe=0;fe<ae.length;fe++)O.push(k[F])}return O},t.V=function(y){tt(this);let k=[];if(typeof y=="string")nt(this,y)&&(k=k.concat(this.g.get(Gr(this,y))));else{y=Array.from(this.g.values());for(let O=0;O<y.length;O++)k=k.concat(y[O])}return k},t.set=function(y,k){return tt(this),this.i=null,y=Gr(this,y),nt(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[k]),this.h+=1,this},t.get=function(y,k){return y?(y=this.V(y),0<y.length?String(y[0]):k):k};function Jt(y,k,O){yt(y,k),0<O.length&&(y.i=null,y.g.set(Gr(y,k),p(O)),y.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],k=Array.from(this.g.keys());for(var O=0;O<k.length;O++){var F=k[O];const fe=encodeURIComponent(String(F)),Be=this.V(F);for(F=0;F<Be.length;F++){var ae=fe;Be[F]!==""&&(ae+="="+encodeURIComponent(String(Be[F]))),y.push(ae)}}return this.i=y.join("&")};function Gr(y,k){return k=String(k),y.j&&(k=k.toLowerCase()),k}function gs(y,k){k&&!y.j&&(tt(y),y.i=null,y.g.forEach(function(O,F){var ae=F.toLowerCase();F!=ae&&(yt(this,F),Jt(this,ae,O))},y)),y.j=k}function xo(y,k){const O=new ps;if(l.Image){const F=new Image;F.onload=m(sn,O,"TestLoadImage: loaded",!0,k,F),F.onerror=m(sn,O,"TestLoadImage: error",!1,k,F),F.onabort=m(sn,O,"TestLoadImage: abort",!1,k,F),F.ontimeout=m(sn,O,"TestLoadImage: timeout",!1,k,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=y}else k(!1)}function Bn(y,k){const O=new ps,F=new AbortController,ae=setTimeout(()=>{F.abort(),sn(O,"TestPingServer: timeout",!1,k)},1e4);fetch(y,{signal:F.signal}).then(fe=>{clearTimeout(ae),fe.ok?sn(O,"TestPingServer: ok",!0,k):sn(O,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ae),sn(O,"TestPingServer: error",!1,k)})}function sn(y,k,O,F,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),F(O)}catch{}}function Qs(){this.g=new Re}function Jc(y,k,O){const F=O||"";try{Xy(y,function(ae,fe){let Be=ae;u(ae)&&(Be=ne(ae)),k.push(F+fe+"="+encodeURIComponent(Be))})}catch(ae){throw k.push(F+"type="+encodeURIComponent("_badmap")),ae}}function Zy(y){this.l=y.Ub||null,this.j=y.eb||!1}x(Zy,Ae),Zy.prototype.g=function(){return new e0(this.l,this.j)},Zy.prototype.i=function(y){return function(){return y}}({});function e0(y,k){at.call(this),this.D=y,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(e0,at),t=e0.prototype,t.open=function(y,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=k,this.readyState=1,Qm(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(k.body=y),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ym(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Qm(this)),this.g&&(this.readyState=3,Qm(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OR(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function OR(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var k=y.value?y.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!y.done}))&&(this.response=this.responseText+=k)}y.done?Ym(this):Qm(this),this.readyState==3&&OR(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,Ym(this))},t.Qa=function(y){this.g&&(this.response=y,Ym(this))},t.ga=function(){this.g&&Ym(this)};function Ym(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Qm(y)}t.setRequestHeader=function(y,k){this.u.append(y,k)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],k=this.h.entries();for(var O=k.next();!O.done;)O=O.value,y.push(O[0]+": "+O[1]),O=k.next();return y.join(`\r
`)};function Qm(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(e0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function DR(y){let k="";return C(y,function(O,F){k+=F,k+=":",k+=O,k+=`\r
`}),k}function IN(y,k,O){e:{for(F in O){var F=!1;break e}F=!0}F||(O=DR(O),typeof y=="string"?O!=null&&encodeURIComponent(String(O)):sr(y,k,O))}function Kr(y){at.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Kr,at);var PJ=/^https?$/i,_J=["POST","PUT"];t=Kr.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,k,O,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);k=k?k.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qm.g(),this.v=this.o?ze(this.o):ze(qm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(k,String(y),!0),this.B=!1}catch(fe){MR(this,fe);return}if(y=O||"",O=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ae in F)O.set(ae,F[ae]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const fe of F.keys())O.set(fe,F.get(fe));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(O.keys()).find(fe=>fe.toLowerCase()=="content-type"),ae=l.FormData&&y instanceof l.FormData,!(0<=Array.prototype.indexOf.call(_J,k,void 0))||F||ae||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Be]of O)this.g.setRequestHeader(fe,Be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FR(this),this.u=!0,this.g.send(y),this.u=!1}catch(fe){MR(this,fe)}};function MR(y,k){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=k,y.m=5,$R(y),t0(y)}function $R(y){y.A||(y.A=!0,Rt(y,"complete"),Rt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,Rt(this,"complete"),Rt(this,"abort"),t0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),t0(this,!0)),Kr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?LR(this):this.bb())},t.bb=function(){LR(this)};function LR(y){if(y.h&&typeof o<"u"&&(!y.v[1]||yo(y)!=4||y.Z()!=2)){if(y.u&&yo(y)==4)Xt(y.Ea,0,y);else if(Rt(y,"readystatechange"),yo(y)==4){y.h=!1;try{const Be=y.Z();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var O;if(!(O=k)){var F;if(F=Be===0){var ae=String(y.D).match(Jy)[1]||null;!ae&&l.self&&l.self.location&&(ae=l.self.location.protocol.slice(0,-1)),F=!PJ.test(ae?ae.toLowerCase():"")}O=F}if(O)Rt(y,"complete"),Rt(y,"success");else{y.m=6;try{var fe=2<yo(y)?y.g.statusText:""}catch{fe=""}y.l=fe+" ["+y.Z()+"]",$R(y)}}finally{t0(y)}}}}function t0(y,k){if(y.g){FR(y);const O=y.g,F=y.v[0]?()=>{}:null;y.g=null,y.v=null,k||Rt(y,"ready");try{O.onreadystatechange=F}catch{}}}function FR(y){y.I&&(l.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function yo(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<yo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var k=this.g.responseText;return y&&k.indexOf(y)==0&&(k=k.substring(y.length)),Z(k)}};function VR(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function AJ(y){const k={};y=(y.g&&2<=yo(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<y.length;F++){if(b(y[F]))continue;var O=R(y[F]);const ae=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const fe=k[ae]||[];k[ae]=fe,fe.push(O)}P(k,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xm(y,k,O){return O&&O.internalChannelParams&&O.internalChannelParams[y]||k}function BR(y){this.Aa=0,this.i=[],this.j=new ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xm("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xm("baseRetryDelayMs",5e3,y),this.cb=Xm("retryDelaySeedMs",1e4,y),this.Wa=Xm("forwardChannelMaxRetries",2,y),this.wa=Xm("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Ky(y&&y.concurrentRequestLimit),this.Da=new Qs,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=BR.prototype,t.la=8,t.G=1,t.connect=function(y,k,O,F){Mr(0),this.W=y,this.H=k||{},O&&F!==void 0&&(this.H.OSID=O,this.H.OAID=F),this.F=this.X,this.I=QR(this,null,this.W),n0(this)};function RN(y){if(UR(y),y.G==3){var k=y.U++,O=bi(y.I);if(sr(O,"SID",y.K),sr(O,"RID",k),sr(O,"TYPE","terminate"),Jm(y,O),k=new ka(y,y.j,k),k.L=2,k.v=Xc(bi(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!O&&l.Image&&(new Image().src=k.v,O=!0),O||(k.g=XR(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Hr(k)}YR(y)}function r0(y){y.g&&(DN(y),y.g.cancel(),y.g=null)}function UR(y){r0(y),y.u&&(l.clearTimeout(y.u),y.u=null),s0(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&l.clearTimeout(y.s),y.s=null)}function n0(y){if(!Hm(y.h)&&!y.s){y.s=!0;var k=y.Ga;B||Y(),$||(B(),$=!0),U.add(k,y),y.B=0}}function TJ(y,k){return Gm(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=k.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=wn(f(y.Ga,y,k),KR(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ae=new ka(this,this.j,y);let fe=this.o;if(this.S&&(fe?(fe=S(fe),T(fe,this.S)):fe=this.S),this.m!==null||this.O||(ae.H=fe,fe=null),this.P)e:{for(var k=0,O=0;O<this.i.length;O++){t:{var F=this.i[O];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(k+=F,4096<k){k=O;break e}if(k===4096||O===this.i.length-1){k=O+1;break e}}k=1e3}else k=1e3;k=zR(this,ae,k),O=bi(this.I),sr(O,"RID",y),sr(O,"CVER",22),this.D&&sr(O,"X-HTTP-Session-Id",this.D),Jm(this,O),fe&&(this.O?k="headers="+encodeURIComponent(String(DR(fe)))+"&"+k:this.m&&IN(O,this.m,fe)),Cd(this.h,ae),this.Ua&&sr(O,"TYPE","init"),this.P?(sr(O,"$req",k),sr(O,"SID","null"),ae.T=!0,_d(ae,O,null)):_d(ae,O,k),this.G=2}}else this.G==3&&(y?qR(this,y):this.i.length==0||Hm(this.h)||qR(this))};function qR(y,k){var O;k?O=k.l:O=y.U++;const F=bi(y.I);sr(F,"SID",y.K),sr(F,"RID",O),sr(F,"AID",y.T),Jm(y,F),y.m&&y.o&&IN(F,y.m,y.o),O=new ka(y,y.j,O,y.B+1),y.m===null&&(O.H=y.o),k&&(y.i=k.D.concat(y.i)),k=zR(y,O,1e3),O.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Cd(y.h,O),_d(O,F,k)}function Jm(y,k){y.H&&C(y.H,function(O,F){sr(k,F,O)}),y.l&&Xy({},function(O,F){sr(k,F,O)})}function zR(y,k,O){O=Math.min(y.i.length,O);var F=y.l?f(y.l.Na,y.l,y):null;e:{var ae=y.i;let fe=-1;for(;;){const Be=["count="+O];fe==-1?0<O?(fe=ae[0].g,Be.push("ofs="+fe)):fe=0:Be.push("ofs="+fe);let lr=!0;for(let Un=0;Un<O;Un++){let zt=ae[Un].g;const Xn=ae[Un].map;if(zt-=fe,0>zt)fe=Math.max(0,ae[Un].g-100),lr=!1;else try{Jc(Xn,Be,"req"+zt+"_")}catch{F&&F(Xn)}}if(lr){F=Be.join("&");break e}}}return y=y.i.splice(0,O),k.D=y,F}function WR(y){if(!y.g&&!y.u){y.Y=1;var k=y.Fa;B||Y(),$||(B(),$=!0),U.add(k,y),y.v=0}}function ON(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=wn(f(y.Fa,y),KR(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,HR(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=wn(f(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mr(10),r0(this),HR(this))};function DN(y){y.A!=null&&(l.clearTimeout(y.A),y.A=null)}function HR(y){y.g=new ka(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var k=bi(y.qa);sr(k,"RID","rpc"),sr(k,"SID",y.K),sr(k,"AID",y.T),sr(k,"CI",y.F?"0":"1"),!y.F&&y.ja&&sr(k,"TO",y.ja),sr(k,"TYPE","xmlhttp"),Jm(y,k),y.m&&y.o&&IN(k,y.m,y.o),y.L&&(y.g.I=y.L);var O=y.g;y=y.ia,O.L=1,O.v=Xc(bi(k)),O.m=null,O.P=!0,Hy(O,y)}t.Za=function(){this.C!=null&&(this.C=null,r0(this),ON(this),Mr(19))};function s0(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function GR(y,k){var O=null;if(y.g==k){s0(y),DN(y),y.g=null;var F=2}else if(Td(y.h,k))O=k.D,Yy(y.h,k),F=1;else return;if(y.G!=0){if(k.o)if(F==1){O=k.m?k.m.length:0,k=Date.now()-k.F;var ae=y.B;F=Ki(),Rt(F,new or(F,O)),n0(y)}else WR(y);else if(ae=k.s,ae==3||ae==0&&0<k.X||!(F==1&&TJ(y,k)||F==2&&ON(y)))switch(O&&0<O.length&&(k=y.h,k.i=k.i.concat(O)),ae){case 1:Zc(y,5);break;case 4:Zc(y,10);break;case 3:Zc(y,6);break;default:Zc(y,2)}}}function KR(y,k){let O=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(O*=2),O*k}function Zc(y,k){if(y.j.info("Error code "+k),k==2){var O=f(y.fb,y),F=y.Xa;const ae=!F;F=new Ra(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Yc(F,"https"),Xc(F),ae?xo(F.toString(),O):Bn(F.toString(),O)}else Mr(2);y.G=0,y.l&&y.l.sa(k),YR(y),UR(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Mr(2)):(this.j.info("Failed to ping google.com"),Mr(1))};function YR(y){if(y.G=0,y.ka=[],y.l){const k=Qy(y.h);(k.length!=0||y.i.length!=0)&&(v(y.ka,k),v(y.ka,y.i),y.h.i.length=0,p(y.i),y.i.length=0),y.l.ra()}}function QR(y,k,O){var F=O instanceof Ra?bi(O):new Ra(O);if(F.g!="")k&&(F.g=k+"."+F.g),Qc(F,F.s);else{var ae=l.location;F=ae.protocol,k=k?k+"."+ae.hostname:ae.hostname,ae=+ae.port;var fe=new Ra(null);F&&Yc(fe,F),k&&(fe.g=k),ae&&Qc(fe,ae),O&&(fe.l=O),F=fe}return O=y.D,k=y.ya,O&&k&&sr(F,O,k),sr(F,"VER",y.la),Jm(y,F),F}function XR(y,k,O){if(k&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=y.Ca&&!y.pa?new Kr(new Zy({eb:O})):new Kr(y.pa),k.Ha(y.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function JR(){}t=JR.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function i0(){}i0.prototype.g=function(y,k){return new Xs(y,k)};function Xs(y,k){at.call(this),this.g=new BR(k),this.l=y,this.h=k&&k.messageUrlParams||null,y=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(y?y["X-WebChannel-Content-Type"]=k.messageContentType:y={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(y?y["X-WebChannel-Client-Profile"]=k.va:y={"X-WebChannel-Client-Profile":k.va}),this.g.S=y,(y=k&&k.Sb)&&!b(y)&&(this.g.m=y),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!b(k)&&(this.g.D=k,y=this.h,y!==null&&k in y&&(y=this.h,k in y&&delete y[k])),this.j=new kd(this)}x(Xs,at),Xs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xs.prototype.close=function(){RN(this.g)},Xs.prototype.o=function(y){var k=this.g;if(typeof y=="string"){var O={};O.__data__=y,y=O}else this.u&&(O={},O.__data__=ne(y),y=O);k.i.push(new TN(k.Ya++,y)),k.G==3&&n0(k)},Xs.prototype.N=function(){this.g.l=null,delete this.j,RN(this.g),delete this.g,Xs.aa.N.call(this)};function ZR(y){Lt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var k=y.__sm__;if(k){e:{for(const O in k){y=O;break e}y=void 0}(this.i=y)&&(y=this.i,k=k!==null&&y in k?k[y]:void 0),this.data=k}else this.data=y}x(ZR,Lt);function eO(){ar.call(this),this.status=1}x(eO,ar);function kd(y){this.g=y}x(kd,JR),kd.prototype.ua=function(){Rt(this.g,"a")},kd.prototype.ta=function(y){Rt(this.g,new ZR(y))},kd.prototype.sa=function(y){Rt(this.g,new eO)},kd.prototype.ra=function(){Rt(this.g,"b")},i0.prototype.createWebChannel=i0.prototype.g,Xs.prototype.send=Xs.prototype.o,Xs.prototype.open=Xs.prototype.m,Xs.prototype.close=Xs.prototype.close,J9=function(){return new i0},X9=function(){return Ki()},Q9=nr,UE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},go.NO_ERROR=0,go.TIMEOUT=8,go.HTTP_ERROR=6,jv=go,qy.COMPLETE="complete",Y9=qy,ke.EventType=wt,wt.OPEN="a",wt.CLOSE="b",wt.ERROR="c",wt.MESSAGE="d",at.prototype.listen=at.prototype.K,kp=ke,Kr.prototype.listenOnce=Kr.prototype.L,Kr.prototype.getLastError=Kr.prototype.Ka,Kr.prototype.getLastErrorCode=Kr.prototype.Ba,Kr.prototype.getStatus=Kr.prototype.Z,Kr.prototype.getResponseJson=Kr.prototype.Oa,Kr.prototype.getResponseText=Kr.prototype.oa,Kr.prototype.send=Kr.prototype.ea,Kr.prototype.setWithCredentials=Kr.prototype.Ha,K9=Kr}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});const HD="@firebase/firestore",GD="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rs.UNAUTHENTICATED=new Rs(null),Rs.GOOGLE_CREDENTIALS=new Rs("google-credentials-uid"),Rs.FIRST_PARTY=new Rs("first-party-uid"),Rs.MOCK_USER=new Rs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new MT("@firebase/firestore");function Bd(){return ed.logLevel}function Ge(t,...e){if(ed.logLevel<=Dt.DEBUG){const r=e.map(XT);ed.debug(`Firestore (${im}): ${t}`,...r)}}function Xo(t,...e){if(ed.logLevel<=Dt.ERROR){const r=e.map(XT);ed.error(`Firestore (${im}): ${t}`,...r)}}function nf(t,...e){if(ed.logLevel<=Dt.WARN){const r=e.map(XT);ed.warn(`Firestore (${im}): ${t}`,...r)}}function XT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,Z9(t,n,r)}function Z9(t,e,r){let n=`FIRESTORE (${im}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Xo(n),new Error(n)}function Yt(t,e,r,n){let s="Unexpected state";typeof r=="string"?s=r:n=r,t||Z9(e,s,n)}function bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends cl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iie{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Rs.UNAUTHENTICATED))}shutdown(){}}class Rie{constructor(e){this.t=e,this.currentUser=Rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Yt(this.o===void 0,42304);let n=this.i;const s=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Fo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Fo,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fo)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Yt(typeof n.accessToken=="string",31837,{l:n}),new Iie(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string",2055,{h:e}),new Rs(e)}}class Oie{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Rs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Die{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Oie(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mie{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ls(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Yt(this.o===void 0,3512);const n=a=>{a.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const s=a=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new KD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Yt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new KD(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=$ie(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<r&&(n+=e.charAt(s[a]%62))}return n}}function Mt(t,e){return t<e?-1:t>e?1:0}function qE(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const s=t.charAt(n),a=e.charAt(n);if(s!==a)return v2(s)===v2(a)?Mt(s,a):v2(s)?1:-1}return Mt(t.length,e.length)}const Lie=55296,Fie=57343;function v2(t){const e=t.charCodeAt(0);return e>=Lie&&e<=Fie}function sf(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="__name__";class Ma{constructor(e,r,n){r===void 0?r=0:r>e.length&&lt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&lt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ma.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const a=Ma.compareSegments(e.get(s),r.get(s));if(a!==0)return a}return Mt(e.length,r.length)}static compareSegments(e,r){const n=Ma.isNumericId(e),s=Ma.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?Ma.extractNumericId(e).compare(Ma.extractNumericId(r)):qE(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lc.fromString(e.substring(4,e.length-2))}}class xr extends Ma{construct(e,r,n){return new xr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new qe(ye.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new xr(r)}static emptyPath(){return new xr([])}}const Vie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Ma{construct(e,r,n){return new Mn(e,r,n)}static isValidIdentifier(e){return Vie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YD}static keyField(){return new Mn([YD])}static fromServerFormat(e){const r=[];let n="",s=0;const a=()=>{if(n.length===0)throw new qe(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new qe(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new qe(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(n+=l,s++):(a(),s++)}if(a(),o)throw new qe(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(r)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(xr.fromString(e))}static fromName(e){return new rt(xr.fromString(e).popFirst(5))}static empty(){return new rt(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return xr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new xr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t,e,r){if(!r)throw new qe(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rB(t,e,r,n){if(e===!0&&n===!0)throw new qe(ye.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function QD(t){if(!rt.isDocumentKey(t))throw new qe(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XD(t){if(rt.isDocumentKey(t))throw new qe(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nB(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function S1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lt(12329,{type:typeof t})}function Ps(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=S1(t);throw new qe(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Bie(t,e){if(e<=0)throw new qe(ye.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){const r={typeString:t};return e&&(r.value=e),r}function ny(t,e){if(!nB(t))throw new qe(ye.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const s=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(s&&typeof o!==s){r=`JSON field '${n}' must be a ${s}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new qe(ye.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=-62135596800,ZD=1e6;class ur{static now(){return ur.fromMillis(Date.now())}static fromDate(e){return ur.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*ZD);return new ur(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new qe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new qe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<JD)throw new qe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZD}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ur._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ny(e,ur._jsonSchema))return new ur(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ur._jsonSchemaVersion="firestore/timestamp/1.0",ur._jsonSchema={type:mn("string",ur._jsonSchemaVersion),seconds:mn("number"),nanoseconds:mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new ur(0,0))}static max(){return new gt(new ur(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=-1;function Uie(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=gt.fromTimestamp(n===1e9?new ur(r+1,0):new ur(r,n));return new xc(s,rt.empty(),e)}function qie(t){return new xc(t.readTime,t.key,Bg)}class xc{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new xc(gt.min(),rt.empty(),Bg)}static max(){return new xc(gt.max(),rt.empty(),Bg)}}function zie(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=rt.comparator(t.documentKey,e.documentKey),r!==0?r:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==Wie)throw t;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Se((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Se?r:Se.resolve(r)}catch(r){return Se.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Se.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Se.reject(r)}static resolve(e){return new Se((r,n)=>{r(e)})}static reject(e){return new Se((r,n)=>{n(e)})}static waitFor(e){return new Se((r,n)=>{let s=0,a=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++a,o&&a===s&&r()},c=>n(c))}),o=!0,a===s&&r()})}static or(e){let r=Se.resolve(!1);for(const n of e)r=r.next(s=>s?Se.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,a)=>{n.push(r.call(this,s,a))}),this.waitFor(n)}static mapArray(e,r){return new Se((n,s)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++l,l===a&&n(o)},d=>s(d))}})}static doWhile(e,r){return new Se((n,s)=>{const a=()=>{e()===!0?r().next(()=>{a()},s):n()};a()})}}function Gie(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function om(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}E1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=-1;function P1(t){return t==null}function yb(t){return t===0&&1/t==-1/0}function Kie(t){return typeof t=="number"&&Number.isInteger(t)&&!yb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB="";function Yie(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=e5(e)),e=Qie(t.get(r),e);return e5(e)}function Qie(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const a=t.charAt(s);switch(a){case"\0":r+="";break;case sB:r+="";break;default:r+=a}}return r}function e5(t){return t+sB+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Oc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function iB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,r){this.comparator=e,this.root=r||Hn.EMPTY}insert(e,r){return new Wr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new Wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new A0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new A0(this.root,e,this.comparator,!1)}getReverseIterator(){return new A0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new A0(this.root,e,this.comparator,!0)}}class A0{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,r,n,s,a){this.key=e,this.value=r,this.color=n??Hn.RED,this.left=s??Hn.EMPTY,this.right=a??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,a){return new Hn(e??this.key,r??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const a=n(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,r,n),null):a===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return Hn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw lt(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(e,r,n,s,a){return this}insert(e,r,n){return new Hn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new r5(this.data.getIterator())}getIteratorFrom(e){return new r5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new _n(this.comparator);return r.data=e,r}}class r5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new ci([])}unionWith(e){let r=new _n(Mn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ci(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return sf(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new aB("Invalid base64 string: "+a):a}}(e);return new Ln(r)}static fromUint8Array(e){const r=function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a}(e);return new Ln(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const Xie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yc(t){if(Yt(!!t,39018),typeof t=="string"){let e=0;const r=Xie.exec(t);if(Yt(!!r,46558,{timestamp:t}),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:tn(t.seconds),nanos:tn(t.nanos)}}function tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vc(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="server_timestamp",lB="__type__",cB="__previous_value__",uB="__local_write_time__";function ZT(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[lB])==null?void 0:n.stringValue)===oB}function _1(t){const e=t.mapValue.fields[cB];return ZT(e)?_1(e):e}function Ug(t){const e=yc(t.mapValue.fields[uB].timestampValue);return new ur(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(e,r,n,s,a,o,l,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const vb="(default)";class af{constructor(e,r){this.projectId=e,this.database=r||vb}static empty(){return new af("","")}get isDefaultDatabase(){return this.database===vb}isEqual(e){return e instanceof af&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="__type__",hB="__max__",T0={mapValue:{fields:{__type__:{stringValue:hB}}}},fB="__vector__",bb="value";function bc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ZT(t)?4:eae(t)?9007199254740991:Zie(t)?10:11:lt(28295,{value:t})}function so(t,e){if(t===e)return!0;const r=bc(t);if(r!==bc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ug(t).isEqual(Ug(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=yc(s.timestampValue),l=yc(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return vc(s.bytesValue).isEqual(vc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return tn(s.geoPointValue.latitude)===tn(a.geoPointValue.latitude)&&tn(s.geoPointValue.longitude)===tn(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return tn(s.integerValue)===tn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=tn(s.doubleValue),l=tn(a.doubleValue);return o===l?yb(o)===yb(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return sf(t.arrayValue.values||[],e.arrayValue.values||[],so);case 10:case 11:return function(s,a){const o=s.mapValue.fields||{},l=a.mapValue.fields||{};if(t5(o)!==t5(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!so(o[c],l[c])))return!1;return!0}(t,e);default:return lt(52216,{left:t})}}function qg(t,e){return(t.values||[]).find(r=>so(r,e))!==void 0}function of(t,e){if(t===e)return 0;const r=bc(t),n=bc(e);if(r!==n)return Mt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=tn(a.integerValue||a.doubleValue),c=tn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return n5(t.timestampValue,e.timestampValue);case 4:return n5(Ug(t),Ug(e));case 5:return qE(t.stringValue,e.stringValue);case 6:return function(a,o){const l=vc(a),c=vc(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Mt(l[u],c[u]);if(d!==0)return d}return Mt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=Mt(tn(a.latitude),tn(o.latitude));return l!==0?l:Mt(tn(a.longitude),tn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return s5(t.arrayValue,e.arrayValue);case 10:return function(a,o){var f,m,x,p;const l=a.fields||{},c=o.fields||{},u=(f=l[bb])==null?void 0:f.arrayValue,d=(m=c[bb])==null?void 0:m.arrayValue,h=Mt(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((p=d==null?void 0:d.values)==null?void 0:p.length)||0);return h!==0?h:s5(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===T0.mapValue&&o===T0.mapValue)return 0;if(a===T0.mapValue)return 1;if(o===T0.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=qE(c[h],d[h]);if(f!==0)return f;const m=of(l[c[h]],u[d[h]]);if(m!==0)return m}return Mt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw lt(23264,{he:r})}}function n5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const r=yc(t),n=yc(e),s=Mt(r.seconds,n.seconds);return s!==0?s:Mt(r.nanos,n.nanos)}function s5(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const a=of(r[s],n[s]);if(a)return a}return Mt(r.length,n.length)}function lf(t){return zE(t)}function zE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=yc(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return vc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return rt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const a of r.values||[])s?s=!1:n+=",",n+=zE(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const o of n)a?a=!1:s+=",",s+=`${o}:${zE(r.fields[o])}`;return s+"}"}(t.mapValue):lt(61005,{value:t})}function Nv(t){switch(bc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_1(t);return e?16+Nv(e):16;case 5:return 2*t.stringValue.length;case 6:return vc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,a)=>s+Nv(a),0)}(t.arrayValue);case 10:case 11:return function(n){let s=0;return Oc(n.fields,(a,o)=>{s+=a.length+Nv(o)}),s}(t.mapValue);default:throw lt(13486,{value:t})}}function i5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function WE(t){return!!t&&"integerValue"in t}function eC(t){return!!t&&"arrayValue"in t}function a5(t){return!!t&&"nullValue"in t}function o5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sv(t){return!!t&&"mapValue"in t}function Zie(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[dB])==null?void 0:n.stringValue)===fB}function Xp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Oc(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Xp(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Xp(t.arrayValue.values[r]);return e}return{...t}}function eae(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.value=e}static empty(){return new Fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Sv(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xp(r)}setAll(e){let r=Mn.emptyPath(),n={},s=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,s),n={},s=[],r=l.popLast()}o?n[l.lastSegment()]=Xp(o):s.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,s)}delete(e){const r=this.field(e.popLast());Sv(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return so(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];Sv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Oc(r,(s,a)=>e[s]=a);for(const s of n)delete e[s]}clone(){return new Fs(Xp(this.value))}}function mB(t){const e=[];return Oc(t.fields,(r,n)=>{const s=new Mn([r]);if(Sv(n)){const a=mB(n.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)}),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,r,n,s,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new as(e,0,gt.min(),gt.min(),gt.min(),Fs.empty(),0)}static newFoundDocument(e,r,n,s){return new as(e,1,r,gt.min(),n,s,0)}static newNoDocument(e,r){return new as(e,2,r,gt.min(),gt.min(),Fs.empty(),0)}static newUnknownDocument(e,r){return new as(e,3,r,gt.min(),gt.min(),Fs.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof as&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new as(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,r){this.position=e,this.inclusive=r}}function l5(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const a=e[s],o=t.position[s];if(a.field.isKeyField()?n=rt.comparator(rt.fromName(o.referenceValue),r.key):n=of(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function c5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!so(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,r="asc"){this.field=e,this.dir=r}}function tae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pB=class{};class hn extends pB{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new nae(e,r,n):r==="array-contains"?new aae(e,n):r==="in"?new oae(e,n):r==="not-in"?new lae(e,n):r==="array-contains-any"?new cae(e,n):new hn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new sae(e,n):new iae(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(of(r,this.value)):r!==null&&bc(this.value)===bc(r)&&this.matchesComparison(of(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class va extends pB{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new va(e,r)}matches(e){return gB(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gB(t){return t.op==="and"}function xB(t){return rae(t)&&gB(t)}function rae(t){for(const e of t.filters)if(e instanceof va)return!1;return!0}function HE(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+lf(t.value);if(xB(t))return t.filters.map(e=>HE(e)).join(",");{const e=t.filters.map(r=>HE(r)).join(",");return`${t.op}(${e})`}}function yB(t,e){return t instanceof hn?function(n,s){return s instanceof hn&&n.op===s.op&&n.field.isEqual(s.field)&&so(n.value,s.value)}(t,e):t instanceof va?function(n,s){return s instanceof va&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((a,o,l)=>a&&yB(o,s.filters[l]),!0):!1}(t,e):void lt(19439)}function vB(t){return t instanceof hn?function(r){return`${r.field.canonicalString()} ${r.op} ${lf(r.value)}`}(t):t instanceof va?function(r){return r.op.toString()+" {"+r.getFilters().map(vB).join(" ,")+"}"}(t):"Filter"}class nae extends hn{constructor(e,r,n){super(e,r,n),this.key=rt.fromName(n.referenceValue)}matches(e){const r=rt.comparator(e.key,this.key);return this.matchesComparison(r)}}class sae extends hn{constructor(e,r){super(e,"in",r),this.keys=bB("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class iae extends hn{constructor(e,r){super(e,"not-in",r),this.keys=bB("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function bB(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>rt.fromName(n.referenceValue))}class aae extends hn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return eC(r)&&qg(r.arrayValue,this.value)}}class oae extends hn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&qg(this.value.arrayValue,r)}}class lae extends hn{constructor(e,r){super(e,"not-in",r)}matches(e){if(qg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!qg(this.value.arrayValue,r)}}class cae extends hn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!eC(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>qg(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uae{constructor(e,r=null,n=[],s=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function u5(t,e=null,r=[],n=[],s=null,a=null,o=null){return new uae(t,e,r,n,s,a,o)}function tC(t){const e=bt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>HE(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),P1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>lf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>lf(n)).join(",")),e.Te=r}return e.Te}function rC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!tae(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!yB(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c5(t.startAt,e.startAt)&&c5(t.endAt,e.endAt)}function GE(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,r=null,n=[],s=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dae(t,e,r,n,s,a,o,l){return new lm(t,e,r,n,s,a,o,l)}function A1(t){return new lm(t)}function d5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wB(t){return t.collectionGroup!==null}function Jp(t){const e=bt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new _n(Mn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new zg(a,n))}),r.has(Mn.keyField().canonicalString())||e.Ie.push(new zg(Mn.keyField(),n))}return e.Ie}function Ya(t){const e=bt(t);return e.Ee||(e.Ee=hae(e,Jp(t))),e.Ee}function hae(t,e){if(t.limitType==="F")return u5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new zg(s.field,a)});const r=t.endAt?new wb(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new wb(t.startAt.position,t.startAt.inclusive):null;return u5(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function KE(t,e){const r=t.filters.concat([e]);return new lm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function jb(t,e,r){return new lm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function T1(t,e){return rC(Ya(t),Ya(e))&&t.limitType===e.limitType}function jB(t){return`${tC(Ya(t))}|lt:${t.limitType}`}function Ud(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>vB(s)).join(", ")}]`),P1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>lf(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>lf(s)).join(",")),`Target(${n})`}(Ya(t))}; limitType=${t.limitType})`}function C1(t,e){return e.isFoundDocument()&&function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):rt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,s){for(const a of Jp(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,l,c){const u=l5(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,Jp(n),s)||n.endAt&&!function(o,l,c){const u=l5(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,Jp(n),s))}(t,e)}function fae(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NB(t){return(e,r)=>{let n=!1;for(const s of Jp(t)){const a=mae(s,e,r);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function mae(t,e,r){const n=t.field.isKeyField()?rt.comparator(e.key,r.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?of(c,u):lt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return lt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Oc(this.inner,(r,n)=>{for(const[s,a]of n)e(s,a)})}isEmpty(){return iB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pae=new Wr(rt.comparator);function Jo(){return pae}const SB=new Wr(rt.comparator);function Ip(...t){let e=SB;for(const r of t)e=e.insert(r.key,r);return e}function EB(t){let e=SB;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function yu(){return Zp()}function PB(){return Zp()}function Zp(){return new gd(t=>t.toString(),(t,e)=>t.isEqual(e))}const gae=new Wr(rt.comparator),xae=new _n(rt.comparator);function $t(...t){let e=xae;for(const r of t)e=e.add(r);return e}const yae=new _n(Mt);function vae(){return yae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yb(e)?"-0":e}}function _B(t){return{integerValue:""+t}}function AB(t,e){return Kie(e)?_B(e):nC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this._=void 0}}function bae(t,e,r){return t instanceof Wg?function(s,a){const o={fields:{[lB]:{stringValue:oB},[uB]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ZT(a)&&(a=_1(a)),a&&(o.fields[cB]=a),{mapValue:o}}(r,e):t instanceof cf?CB(t,e):t instanceof uf?kB(t,e):function(s,a){const o=TB(s,a),l=h5(o)+h5(s.Ae);return WE(o)&&WE(s.Ae)?_B(l):nC(s.serializer,l)}(t,e)}function wae(t,e,r){return t instanceof cf?CB(t,e):t instanceof uf?kB(t,e):r}function TB(t,e){return t instanceof Hg?function(n){return WE(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Wg extends k1{}class cf extends k1{constructor(e){super(),this.elements=e}}function CB(t,e){const r=IB(e);for(const n of t.elements)r.some(s=>so(s,n))||r.push(n);return{arrayValue:{values:r}}}class uf extends k1{constructor(e){super(),this.elements=e}}function kB(t,e){let r=IB(e);for(const n of t.elements)r=r.filter(s=>!so(s,n));return{arrayValue:{values:r}}}class Hg extends k1{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function h5(t){return tn(t.integerValue||t.doubleValue)}function IB(t){return eC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,r){this.field=e,this.transform=r}}function jae(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof cf&&s instanceof cf||n instanceof uf&&s instanceof uf?sf(n.elements,s.elements,so):n instanceof Hg&&s instanceof Hg?so(n.Ae,s.Ae):n instanceof Wg&&s instanceof Wg}(t.transform,e.transform)}class Nae{constructor(e,r){this.version=e,this.transformResults=r}}class _s{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ev(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let R1=class{};function RB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new O1(t.key,_s.none()):new sy(t.key,t.data,_s.none());{const r=t.data,n=Fs.empty();let s=new _n(Mn.comparator);for(let a of e.fields)if(!s.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),s=s.add(a)}return new Dc(t.key,n,new ci(s.toArray()),_s.none())}}function Sae(t,e,r){t instanceof sy?function(s,a,o){const l=s.value.clone(),c=m5(s.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Dc?function(s,a,o){if(!Ev(s.precondition,a))return void a.convertToUnknownDocument(o.version);const l=m5(s.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(OB(s)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function eg(t,e,r,n){return t instanceof sy?function(a,o,l,c){if(!Ev(a.precondition,o))return l;const u=a.value.clone(),d=p5(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Dc?function(a,o,l,c){if(!Ev(a.precondition,o))return l;const u=p5(a.fieldTransforms,c,o),d=o.data;return d.setAll(OB(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(a,o,l){return Ev(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function Eae(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),a=TB(n.transform,s||null);a!=null&&(r===null&&(r=Fs.empty()),r.set(n.field,a))}return r||null}function f5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&sf(n,s,(a,o)=>jae(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sy extends R1{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Dc extends R1{constructor(e,r,n,s,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function OB(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function m5(t,e,r){const n=new Map;Yt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let s=0;s<r.length;s++){const a=t[s],o=a.transform,l=e.data.field(a.field);n.set(a.field,wae(o,l,r[s]))}return n}function p5(t,e,r){const n=new Map;for(const s of t){const a=s.transform,o=r.data.field(s.field);n.set(s.field,bae(a,o,e))}return n}class O1 extends R1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pae extends R1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Sae(a,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=eg(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=eg(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=PB();return this.mutations.forEach(s=>{const a=e.get(s.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(s.key)?null:l;const c=RB(o,l);c!==null&&n.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(gt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),$t())}isEqual(e){return this.batchId===e.batchId&&sf(this.mutations,e.mutations,(r,n)=>f5(r,n))&&sf(this.baseMutations,e.baseMutations,(r,n)=>f5(r,n))}}class sC{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){Yt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=function(){return gae}();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,n[o].version);return new sC(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aae=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,Vt;function Cae(t){switch(t){case ye.OK:return lt(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return lt(15467,{code:t})}}function DB(t){if(t===void 0)return Xo("GRPC error has no .code"),ye.UNKNOWN;switch(t){case an.OK:return ye.OK;case an.CANCELLED:return ye.CANCELLED;case an.UNKNOWN:return ye.UNKNOWN;case an.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case an.INTERNAL:return ye.INTERNAL;case an.UNAVAILABLE:return ye.UNAVAILABLE;case an.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case an.NOT_FOUND:return ye.NOT_FOUND;case an.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case an.ABORTED:return ye.ABORTED;case an.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case an.DATA_LOSS:return ye.DATA_LOSS;default:return lt(39323,{code:t})}}(Vt=an||(an={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae=new lc([4294967295,4294967295],0);function g5(t){const e=kae().encode(t),r=new G9;return r.update(e),new Uint8Array(r.digest())}function x5(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new lc([r,n],0),new lc([s,a],0)]}class iC{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Rp(`Invalid padding: ${r}`);if(n<0)throw new Rp(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Rp(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Rp(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=lc.fromNumber(this.ge)}ye(e,r,n){let s=e.add(r.multiply(lc.fromNumber(n)));return s.compare(Iae)===1&&(s=new lc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=g5(e),[n,s]=x5(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,s,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new iC(a,s,r);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const r=g5(e),[n,s]=x5(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,s,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Rp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,r,n,s,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,iy.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new D1(gt.min(),s,new Wr(Mt),Jo(),$t())}}class iy{constructor(e,r,n,s,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new iy(n,r,$t(),$t(),$t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,r,n,s){this.be=e,this.removedTargetIds=r,this.key=n,this.De=s}}class MB{constructor(e,r){this.targetId=e,this.Ce=r}}class $B{constructor(e,r,n=Ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class y5{constructor(){this.ve=0,this.Fe=v5(),this.Me=Ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$t(),r=$t(),n=$t();return this.Fe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:lt(38017,{changeType:a})}}),new iy(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=v5()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Rae{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jo(),this.Je=C0(),this.He=C0(),this.Ye=new Wr(Mt)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:lt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,s)=>{this.rt(s)&&r(s)})}st(e){const r=e.targetId,n=e.Ce.count,s=this.ot(r);if(s){const a=s.target;if(GE(a))if(n===0){const o=new rt(a.path);this.et(r,o,as.newNoDocument(o,gt.min()))}else Yt(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=r;let o,l;try{o=vc(n).toUint8Array()}catch(c){if(c instanceof aB)return nf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new iC(o,s,a)}catch(c){return nf(c instanceof Rp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let s=0;return n.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),s++)}),s}Tt(e){const r=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&GE(l.target)){const c=new rt(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,as.newNoDocument(c,e))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=$t();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const s=new D1(e,r,this.Ye,this.je,n);return this.je=Jo(),this.Je=C0(),this.He=C0(),this.Ye=new Wr(Mt),s}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,r)?s.Qe(r,1):s.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new y5,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new _n(Mt),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new _n(Mt),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Ge("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y5),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function C0(){return new Wr(rt.comparator)}function v5(){return new Wr(rt.comparator)}const Oae={asc:"ASCENDING",desc:"DESCENDING"},Dae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mae={and:"AND",or:"OR"};class $ae{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function YE(t,e){return t.useProto3Json||P1(e)?e:{value:e}}function Nb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lae(t,e){return Nb(t,e.toTimestamp())}function Qa(t){return Yt(!!t,49232),gt.fromTimestamp(function(r){const n=yc(r);return new ur(n.seconds,n.nanos)}(t))}function aC(t,e){return QE(t,e).canonicalString()}function QE(t,e){const r=function(s){return new xr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function FB(t){const e=xr.fromString(t);return Yt(zB(e),10190,{key:e.toString()}),e}function XE(t,e){return aC(t.databaseId,e.path)}function b2(t,e){const r=FB(e);if(r.get(1)!==t.databaseId.projectId)throw new qe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new qe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new rt(BB(r))}function VB(t,e){return aC(t.databaseId,e)}function Fae(t){const e=FB(t);return e.length===4?xr.emptyPath():BB(e)}function JE(t){return new xr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BB(t){return Yt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function b5(t,e,r){return{name:XE(t,e),fields:r.value.mapValue.fields}}function Vae(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:lt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Yt(d===void 0||typeof d=="string",58123),Ln.fromBase64String(d||"")):(Yt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ln.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?ye.UNKNOWN:DB(u.code);return new qe(d,u.message||"")}(o);r=new $B(n,s,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=b2(t,n.document.name),a=Qa(n.document.updateTime),o=n.document.createTime?Qa(n.document.createTime):gt.min(),l=new Fs({mapValue:{fields:n.document.fields}}),c=as.newFoundDocument(s,a,o,l),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Pv(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=b2(t,n.document),a=n.readTime?Qa(n.readTime):gt.min(),o=as.newNoDocument(s,a),l=n.removedTargetIds||[];r=new Pv([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=b2(t,n.document),a=n.removedTargetIds||[];r=new Pv([],a,s,null)}else{if(!("filter"in e))return lt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,o=new Tae(s,a),l=n.targetId;r=new MB(l,o)}}return r}function Bae(t,e){let r;if(e instanceof sy)r={update:b5(t,e.key,e.value)};else if(e instanceof O1)r={delete:XE(t,e.key)};else if(e instanceof Dc)r={update:b5(t,e.key,e.data),updateMask:Qae(e.fieldMask)};else{if(!(e instanceof Pae))return lt(16599,{Vt:e.type});r={verify:XE(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const l=o.transform;if(l instanceof Wg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof uf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Hg)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw lt(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:Lae(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:lt(27497)}(t,e.precondition)),r}function Uae(t,e){return t&&t.length>0?(Yt(e!==void 0,14353),t.map(r=>function(s,a){let o=s.updateTime?Qa(s.updateTime):Qa(a);return o.isEqual(gt.min())&&(o=Qa(a)),new Nae(o,s.transformResults||[])}(r,e))):[]}function qae(t,e){return{documents:[VB(t,e.path)]}}function zae(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=VB(t,s);const a=function(u){if(u.length!==0)return qB(va.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:qd(f.field),direction:Gae(f.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=YE(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:s}}function Wae(t){let e=Fae(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){Yt(n===1,65062);const d=r.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(h){const f=UB(h);return f instanceof va&&xB(f)?f.getFilters():[f]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(f=>function(x){return new zg(zd(x.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(f))}(r.orderBy));let l=null;r.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,P1(f)?null:f}(r.limit));let c=null;r.startAt&&(c=function(h){const f=!!h.before,m=h.values||[];return new wb(m,f)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new wb(m,f)}(r.endAt)),dae(e,s,o,a,l,"F",c,u)}function Hae(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:s})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function UB(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=zd(r.unaryFilter.field);return hn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=zd(r.unaryFilter.field);return hn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zd(r.unaryFilter.field);return hn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zd(r.unaryFilter.field);return hn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}}(t):t.fieldFilter!==void 0?function(r){return hn.create(zd(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return va.create(r.compositeFilter.filters.map(n=>UB(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return lt(1026)}}(r.compositeFilter.op))}(t):lt(30097,{filter:t})}function Gae(t){return Oae[t]}function Kae(t){return Dae[t]}function Yae(t){return Mae[t]}function qd(t){return{fieldPath:t.canonicalString()}}function zd(t){return Mn.fromServerFormat(t.fieldPath)}function qB(t){return t instanceof hn?function(r){if(r.op==="=="){if(o5(r.value))return{unaryFilter:{field:qd(r.field),op:"IS_NAN"}};if(a5(r.value))return{unaryFilter:{field:qd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(o5(r.value))return{unaryFilter:{field:qd(r.field),op:"IS_NOT_NAN"}};if(a5(r.value))return{unaryFilter:{field:qd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qd(r.field),op:Kae(r.op),value:r.value}}}(t):t instanceof va?function(r){const n=r.getFilters().map(s=>qB(s));return n.length===1?n[0]:{compositeFilter:{op:Yae(r.op),filters:n}}}(t):lt(54877,{filter:t})}function Qae(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function zB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,r,n,s,a=gt.min(),o=gt.min(),l=Ln.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(e){this.yt=e}}function Jae(t){const e=Wae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zae{constructor(){this.Cn=new eoe}addToCollectionParentIndex(e,r){return this.Cn.add(r),Se.resolve()}getCollectionParents(e,r){return Se.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Se.resolve()}deleteFieldIndex(e,r){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,r){return Se.resolve()}getDocumentsMatchingTarget(e,r){return Se.resolve(null)}getIndexType(e,r){return Se.resolve(0)}getFieldIndexes(e,r){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,r){return Se.resolve(xc.min())}getMinOffsetFromCollectionGroup(e,r){return Se.resolve(xc.min())}updateCollectionGroup(e,r,n){return Se.resolve()}updateIndexEntries(e,r){return Se.resolve()}}class eoe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new _n(xr.comparator),a=!s.has(n);return this.index[r]=s.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new _n(xr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WB=41943040;class Os{static withCacheSize(e){return new Os(e,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(WB,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new df(0)}static cr(){return new df(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="LruGarbageCollector",HB=1048576;function N5([t,e],[r,n]){const s=Mt(t,r);return s===0?Mt(e,n):s}class toe{constructor(e){this.Ir=e,this.buffer=new _n(N5),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();N5(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class roe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ge(j5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){om(r)?Ge(j5,"Ignoring IndexedDB error during garbage collection: ",r):await am(r)}await this.Vr(3e5)})}}class noe{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Se.resolve(E1.ce);const n=new toe(r);return this.mr.forEachTarget(e,s=>n.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>n.Ar(s))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(w5)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w5):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,s,a,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(n=h,l=Date.now(),this.removeTargets(e,n,r))).next(h=>(a=h,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),Bd()<=Dt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:h})))}}function soe(t,e){return new noe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ioe{constructor(){this.changes=new gd(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,as.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Se.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ooe{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&eg(n.mutation,s,ci.empty(),ur.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,$t()).next(()=>n))}getLocalViewOfDocuments(e,r,n=$t()){const s=yu();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(a=>{let o=Ip();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=yu();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,$t()))}populateOverlays(e,r,n){const s=[];return n.forEach(a=>{r.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,s){let a=Jo();const o=Zp(),l=function(){return Zp()}();return r.forEach((c,u)=>{const d=n.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Dc)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),eg(d.mutation,u,d.mutation.getFieldMask(),ur.now())):o.set(u.key,ci.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>l.set(u,new aoe(d,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,r){const n=Zp();let s=new Wr((o,l)=>o-l),a=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||ci.empty();d=l.applyToLocalView(u,d),n.set(c,d);const h=(s.get(l.batchId)||$t()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=PB();d.forEach(f=>{if(!a.has(f)){const m=RB(r.get(f),n.get(f));m!==null&&h.set(f,m),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Se.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):wB(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-a.size):Se.resolve(yu());let l=Bg,c=a;return o.next(u=>Se.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),a.get(d)?Se.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,$t())).next(d=>({batchId:l,changes:EB(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new rt(r)).next(n=>{let s=Ip();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const a=r.collectionGroup;let o=Ip();return this.indexManager.getCollectionParents(e,a).next(l=>Se.forEach(l,c=>{const u=function(h,f){return new lm(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,s))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,as.newInvalidDocument(d)))});let l=Ip();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&eg(d.mutation,u,ci.empty(),ur.now()),C1(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class loe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Se.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:Qa(s.createTime)}}(r)),Se.resolve()}getNamedQuery(e,r){return Se.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(s){return{name:s.name,query:Jae(s.bundledQuery),readTime:Qa(s.readTime)}}(r)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class coe{constructor(){this.overlays=new Wr(rt.comparator),this.qr=new Map}getOverlay(e,r){return Se.resolve(this.overlays.get(r))}getOverlays(e,r){const n=yu();return Se.forEach(r,s=>this.getOverlay(e,s).next(a=>{a!==null&&n.set(s,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,a)=>{this.St(e,r,a)}),Se.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),Se.resolve()}getOverlaysForCollection(e,r,n){const s=yu(),a=r.length+1,o=new rt(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&s.set(c.getKey(),c)}return Se.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let a=new Wr((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=yu(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=yu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return Se.resolve(l)}St(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Aae(r,n));let a=this.qr.get(r);a===void 0&&(a=$t(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.Qr=new _n(Cn.$r),this.Ur=new _n(Cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Cn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Cn(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new rt(new xr([])),n=new Cn(r,e),s=new Cn(r,e+1),a=[];return this.Ur.forEachInRange([n,s],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new rt(new xr([])),n=new Cn(r,e),s=new Cn(r,e+1);let a=$t();return this.Ur.forEachInRange([n,s],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Cn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Cn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return rt.comparator(e.key,r.key)||Mt(e.Yr,r.Yr)}static Kr(e,r){return Mt(e.Yr,r.Yr)||rt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class doe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new _n(Cn.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _ae(a,r,n,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new Cn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,r){return Se.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.ei(n),a=s<0?0:s;return Se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?JT:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Cn(r,0),s=new Cn(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,s],o=>{const l=this.Xr(o.Yr);a.push(l)}),Se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new _n(Mt);return r.forEach(s=>{const a=new Cn(s,0),o=new Cn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{n=n.add(l.Yr)})}),Se.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let a=n;rt.isDocumentKey(a)||(a=a.child(""));const o=new Cn(new rt(a),0);let l=new _n(Mt);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},o),Se.resolve(this.ti(l))}ti(e){const r=[];return e.forEach(n=>{const s=this.Xr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){Yt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Se.forEach(r.mutations,s=>{const a=new Cn(s.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Cn(r,0),s=this.Zr.firstAfterOrEqual(n);return Se.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hoe{constructor(e){this.ri=e,this.docs=function(){return new Wr(rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),a=s?s.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Se.resolve(n?n.document.mutableCopy():as.newInvalidDocument(r))}getEntries(e,r){let n=Jo();return r.forEach(s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():as.newInvalidDocument(s))}),Se.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let a=Jo();const o=r.path,l=new rt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zie(qie(d),n)<=0||(s.has(d.key)||C1(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return Se.resolve(a)}getAllFromCollectionGroup(e,r,n,s){lt(9500)}ii(e,r){return Se.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new foe(this)}getSize(e){return Se.resolve(this.size)}}class foe extends ioe{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)}),Se.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class moe{constructor(e){this.persistence=e,this.si=new gd(r=>tC(r),rC),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.oi=0,this._i=new oC,this.targetCount=0,this.ai=df.ur()}forEachTarget(e,r){return this.si.forEach((n,s)=>r(s)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Se.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new df(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Se.resolve()}updateTargetData(e,r){return this.Pr(r),Se.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,r,n){let s=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),Se.waitFor(a).next(()=>s)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return Se.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),Se.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const s=this.persistence.referenceDelegate,a=[];return s&&r.forEach(o=>{a.push(s.markPotentiallyOrphaned(e,o))}),Se.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Se.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return Se.resolve(n)}containsKey(e,r){return Se.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,r){this.ui={},this.overlays={},this.ci=new E1(0),this.li=!1,this.li=!0,this.hi=new uoe,this.referenceDelegate=e(this),this.Pi=new moe(this),this.indexManager=new Zae,this.remoteDocumentCache=function(s){return new hoe(s)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Xae(r),this.Ii=new loe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new coe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new doe(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Ge("MemoryPersistence","Starting transaction:",e);const s=new poe(this.ci.next());return this.referenceDelegate.Ei(),n(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(e,r){return Se.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class poe extends Hie{constructor(e){super(),this.currentSequenceNumber=e}}class lC{constructor(e){this.persistence=e,this.Ri=new oC,this.Vi=null}static mi(e){return new lC(e)}get fi(){if(this.Vi)return this.Vi;throw lt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Se.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Se.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Se.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(s=>this.fi.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,n=>{const s=rt.fromPath(n);return this.gi(e,s).next(a=>{a||r.removeEntry(s,gt.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return Se.or([()=>Se.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Sb{constructor(e,r){this.persistence=e,this.pi=new gd(n=>Yie(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=soe(this,r)}static mi(e,r){return new Sb(e,r)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(s=>n+s))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return Se.forEach(this.pi,(n,s)=>this.br(e,n,s).next(a=>a?Se.resolve():r(s)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,r).next(l=>{l||(n++,a.removeEntry(o,gt.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Nv(e.data.value)),r}br(e,r,n){return Se.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.pi.get(r);return Se.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=s}static As(e,r){let n=$t(),s=$t();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new cC(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Nte()?8:Gie(ds())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,s){const a={result:null};return this.ys(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,r,s,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new goe;return this.Ss(e,r,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,r,o,l.size)})}).next(()=>a.result)}bs(e,r,n,s){return n.documentReadCount<this.fs?(Bd()<=Dt.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",Ud(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(Bd()<=Dt.DEBUG&&Ge("QueryEngine","Query:",Ud(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(Bd()<=Dt.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",Ud(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ya(r))):Se.resolve())}ys(e,r){if(d5(r))return Se.resolve(null);let n=Ya(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=jb(r,null,"F"),n=Ya(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=$t(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,l);return this.Cs(r,u,o,c.readTime)?this.ys(e,jb(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,s){return d5(r)||s.isEqual(gt.min())?Se.resolve(null):this.ps.getDocuments(e,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,s)?Se.resolve(null):(Bd()<=Dt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ud(r)),this.vs(e,o,r,Uie(s,Bg)).next(l=>l))})}Ds(e,r){let n=new _n(NB(e));return r.forEach((s,a)=>{C1(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,r,n){return Bd()<=Dt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Ud(r)),this.ps.getDocumentsMatchingQuery(e,r,xc.min(),n)}vs(e,r,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="LocalStore",yoe=3e8;class voe{constructor(e,r,n,s){this.persistence=e,this.Fs=r,this.serializer=s,this.Ms=new Wr(Mt),this.xs=new gd(a=>tC(a),rC),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ooe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function boe(t,e,r,n){return new voe(t,e,r,n)}async function KB(t,e){const r=bt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(a=>(s=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],l=[];let c=$t();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function woe(t,e){const r=bt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let m=Se.resolve();return f.forEach(x=>{m=m.next(()=>d.getEntry(c,x)).next(p=>{const v=u.docVersions.get(x);Yt(v!==null,48541),p.version.compareTo(v)<0&&(h.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),d.addEntry(p)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=$t();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function YB(t){const e=bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function joe(t,e){const r=bt(t),n=e.snapshotVersion;let s=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});s=r.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;l.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,h)));let m=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Ln.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),s=s.insert(h,m),function(p,v,w){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=yoe?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,d)&&l.push(r.Pi.updateTargetData(a,m))});let c=Jo(),u=$t();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(Noe(a,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(gt.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(h=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));l.push(d)}return Se.waitFor(l).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Ms=s,a))}function Noe(t,e,r){let n=$t(),s=$t();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Jo();return r.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(gt.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ge(uC,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function Soe(t,e){const r=bt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=JT),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Eoe(t,e){const r=bt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Pi.getTargetData(n,e).next(a=>a?(s=a,Se.resolve(s)):r.Pi.allocateTargetId(n).next(o=>(s=new Hl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function ZE(t,e,r){const n=bt(t),s=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!om(o))throw o;Ge(uC,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function S5(t,e,r){const n=bt(t);let s=gt.min(),a=$t();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=bt(c),f=h.xs.get(d);return f!==void 0?Se.resolve(h.Ms.get(f)):h.Pi.getTargetData(u,d)}(n,o,Ya(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?s:gt.min(),r?a:$t())).next(l=>(Poe(n,fae(e),l),{documents:l,Qs:a})))}function Poe(t,e,r){let n=t.Os.get(e)||gt.min();r.forEach((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class E5{constructor(){this.activeTargetIds=vae()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _oe{constructor(){this.Mo=new E5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new E5,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="ConnectivityMonitor";class _5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ge(P5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ge(P5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k0=null;function eP(){return k0===null?k0=function(){return 268435456+Math.round(2147483648*Math.random())}():k0++,"0x"+k0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="RestConnection",Toe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Coe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===vb?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,r,n,s,a){const o=eP(),l=this.zo(e,r.toUriEncodedString());Ge(w2,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,a);const{host:u}=new URL(l),d=rm(u);return this.Jo(e,l,c,n,d).then(h=>(Ge(w2,`Received RPC '${e}' ${o}: `,h),h),h=>{throw nf(w2,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",n),h})}Ho(e,r,n,s,a,o){return this.Go(e,r,n,s,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+im}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>e[a]=s),n&&n.headers.forEach((s,a)=>e[a]=s)}zo(e,r){const n=Toe[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="WebChannelConnection";class Ioe extends Coe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,s,a){const o=eP();return new Promise((l,c)=>{const u=new K9;u.setWithCredentials(!0),u.listenOnce(Y9.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case jv.NO_ERROR:const h=u.getResponseJson();Ge(rs,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case jv.TIMEOUT:Ge(rs,`RPC '${e}' ${o} timed out`),c(new qe(ye.DEADLINE_EXCEEDED,"Request time out"));break;case jv.HTTP_ERROR:const f=u.getStatus();if(Ge(rs,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const p=function(w){const b=w.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(b)>=0?b:ye.UNKNOWN}(x.status);c(new qe(p,x.message))}else c(new qe(ye.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new qe(ye.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ge(rs,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Ge(rs,`RPC '${e}' ${o} sending request:`,s),u.send(r,"POST",d,n,15)})}T_(e,r,n){const s=eP(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=J9(),l=X9(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");Ge(rs,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let f=!1,m=!1;const x=new koe({Yo:v=>{m?Ge(rs,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(f||(Ge(rs,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Ge(rs,`RPC '${e}' stream ${s} sending:`,v),h.send(v))},Zo:()=>h.close()}),p=(v,w,b)=>{v.listen(w,j=>{try{b(j)}catch(N){setTimeout(()=>{throw N},0)}})};return p(h,kp.EventType.OPEN,()=>{m||(Ge(rs,`RPC '${e}' stream ${s} transport opened.`),x.o_())}),p(h,kp.EventType.CLOSE,()=>{m||(m=!0,Ge(rs,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(h))}),p(h,kp.EventType.ERROR,v=>{m||(m=!0,nf(rs,`RPC '${e}' stream ${s} transport errored. Name:`,v.name,"Message:",v.message),x.a_(new qe(ye.UNAVAILABLE,"The operation could not be completed")))}),p(h,kp.EventType.MESSAGE,v=>{var w;if(!m){const b=v.data[0];Yt(!!b,16349);const j=b,N=(j==null?void 0:j.error)||((w=j[0])==null?void 0:w.error);if(N){Ge(rs,`RPC '${e}' stream ${s} received error:`,N);const E=N.status;let C=function(A){const T=an[A];if(T!==void 0)return DB(T)}(E),P=N.message;C===void 0&&(C=ye.INTERNAL,P="Unknown error status: "+E+" with message "+N.message),m=!0,x.a_(new qe(C,P)),h.close()}else Ge(rs,`RPC '${e}' stream ${s} received:`,b),x.u_(b)}}),p(l,Q9.STAT_EVENT,v=>{v.stat===UE.PROXY?Ge(rs,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===UE.NOPROXY&&Ge(rs,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function j2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){return new $ae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,r,n=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,r-n);s>0&&Ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="PersistentStream";class XB{constructor(e,r,n,s,a,o,l,c){this.Mi=e,this.S_=n,this.b_=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QB(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ye.RESOURCE_EXHAUSTED?(Xo(r.toString()),Xo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.D_===r&&this.G_(n,s)},n=>{e(()=>{const s=new qe(ye.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{n(()=>this.z_(s))}),this.stream.onMessage(s=>{n(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ge(A5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(Ge(A5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Roe extends XB{constructor(e,r,n,s,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Vae(this.serializer,e),n=function(a){if(!("targetChange"in a))return gt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?gt.min():o.readTime?Qa(o.readTime):gt.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=JE(this.serializer),r.addTarget=function(a,o){let l;const c=o.target;if(l=GE(c)?{documents:qae(a,c)}:{query:zae(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=LB(a,o.resumeToken);const u=YE(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(gt.min())>0){l.readTime=Nb(a,o.snapshotVersion.toTimestamp());const u=YE(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const n=Hae(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=JE(this.serializer),r.removeTarget=e,this.q_(r)}}class Ooe extends XB{constructor(e,r,n,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Uae(e.writeResults,e.commitTime),n=Qa(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=JE(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Bae(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{}class Moe extends Doe{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new qe(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,QE(r,n),s,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new qe(ye.UNKNOWN,a.toString())})}Ho(e,r,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,QE(r,n),s,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(ye.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $oe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xo(r),this.aa=!1):Ge("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="RemoteStore";class Loe{constructor(e,r,n,s,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{xd(this)&&(Ge(td,"Restarting streams for network reachability change."),await async function(c){const u=bt(c);u.Ea.add(4),await ay(u),u.Ra.set("Unknown"),u.Ea.delete(4),await $1(u)}(this))})}),this.Ra=new $oe(n,s)}}async function $1(t){if(xd(t))for(const e of t.da)await e(!0)}async function ay(t){for(const e of t.da)await e(!1)}function JB(t,e){const r=bt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),mC(r)?fC(r):cm(r).O_()&&hC(r,e))}function dC(t,e){const r=bt(t),n=cm(r);r.Ia.delete(e),n.O_()&&ZB(r,e),r.Ia.size===0&&(n.O_()?n.L_():xd(r)&&r.Ra.set("Unknown"))}function hC(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}cm(t).Y_(e)}function ZB(t,e){t.Va.Ue(e),cm(t).Z_(e)}function fC(t){t.Va=new Rae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),cm(t).start(),t.Ra.ua()}function mC(t){return xd(t)&&!cm(t).x_()&&t.Ia.size>0}function xd(t){return bt(t).Ea.size===0}function eU(t){t.Va=void 0}async function Foe(t){t.Ra.set("Online")}async function Voe(t){t.Ia.forEach((e,r)=>{hC(t,e)})}async function Boe(t,e){eU(t),mC(t)?(t.Ra.ha(e),fC(t)):t.Ra.set("Unknown")}async function Uoe(t,e,r){if(t.Ra.set("Online"),e instanceof $B&&e.state===2&&e.cause)try{await async function(s,a){const o=a.cause;for(const l of a.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(n){Ge(td,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Eb(t,n)}else if(e instanceof Pv?t.Va.Ze(e):e instanceof MB?t.Va.st(e):t.Va.tt(e),!r.isEqual(gt.min()))try{const n=await YB(t.localStore);r.compareTo(n)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(Ln.EMPTY_BYTE_STRING,d.snapshotVersion)),ZB(a,c);const h=new Hl(d.target,c,u,d.sequenceNumber);hC(a,h)}),a.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Ge(td,"Failed to raise snapshot:",n),await Eb(t,n)}}async function Eb(t,e,r){if(!om(e))throw e;t.Ea.add(1),await ay(t),t.Ra.set("Offline"),r||(r=()=>YB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ge(td,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await $1(t)})}function tU(t,e){return e().catch(r=>Eb(t,r,e))}async function L1(t){const e=bt(t),r=wc(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:JT;for(;qoe(e);)try{const s=await Soe(e.localStore,n);if(s===null){e.Ta.length===0&&r.L_();break}n=s.batchId,zoe(e,s)}catch(s){await Eb(e,s)}rU(e)&&nU(e)}function qoe(t){return xd(t)&&t.Ta.length<10}function zoe(t,e){t.Ta.push(e);const r=wc(t);r.O_()&&r.X_&&r.ea(e.mutations)}function rU(t){return xd(t)&&!wc(t).x_()&&t.Ta.length>0}function nU(t){wc(t).start()}async function Woe(t){wc(t).ra()}async function Hoe(t){const e=wc(t);for(const r of t.Ta)e.ea(r.mutations)}async function Goe(t,e,r){const n=t.Ta.shift(),s=sC.from(n,e,r);await tU(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await L1(t)}async function Koe(t,e){e&&wc(t).X_&&await async function(n,s){if(function(o){return Cae(o)&&o!==ye.ABORTED}(s.code)){const a=n.Ta.shift();wc(n).B_(),await tU(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s)),await L1(n)}}(t,e),rU(t)&&nU(t)}async function T5(t,e){const r=bt(t);r.asyncQueue.verifyOperationInProgress(),Ge(td,"RemoteStore received new credentials");const n=xd(r);r.Ea.add(3),await ay(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await $1(r)}async function Yoe(t,e){const r=bt(t);e?(r.Ea.delete(2),await $1(r)):e||(r.Ea.add(2),await ay(r),r.Ra.set("Unknown"))}function cm(t){return t.ma||(t.ma=function(r,n,s){const a=bt(r);return a.sa(),new Roe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Foe.bind(null,t),t_:Voe.bind(null,t),r_:Boe.bind(null,t),H_:Uoe.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),mC(t)?fC(t):t.Ra.set("Unknown")):(await t.ma.stop(),eU(t))})),t.ma}function wc(t){return t.fa||(t.fa=function(r,n,s){const a=bt(r);return a.sa(),new Ooe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Woe.bind(null,t),r_:Koe.bind(null,t),ta:Hoe.bind(null,t),na:Goe.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await L1(t)):(await t.fa.stop(),t.Ta.length>0&&(Ge(td,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,r,n,s,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new Fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,a){const o=Date.now()+n,l=new pC(e,r,o,s,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gC(t,e){if(Xo("AsyncQueue",`${e}: ${t}`),om(t))return new qe(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{static emptySet(e){return new Sh(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||rt.comparator(r.key,n.key):(r,n)=>rt.comparator(r.key,n.key),this.keyedMap=Ip(),this.sortedSet=new Wr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Sh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Sh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.ga=new Wr(rt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):lt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class hf{constructor(e,r,n,s,a,o,l,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,s,a){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new hf(e,r,Sh.emptySet(r),o,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&T1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Xoe{constructor(){this.queries=k5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const s=bt(r),a=s.queries;s.queries=k5(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(n)})})(this,new qe(ye.ABORTED,"Firestore shutting down"))}}function k5(){return new gd(t=>jB(t),T1)}async function xC(t,e){const r=bt(t);let n=3;const s=e.query;let a=r.queries.get(s);a?!a.ba()&&e.Da()&&(n=2):(a=new Qoe,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(s,!0);break;case 1:a.wa=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const l=gC(o,`Initialization of query '${Ud(e.query)}' failed`);return void e.onError(l)}r.queries.set(s,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&vC(r)}async function yC(t,e){const r=bt(t),n=e.query;let s=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Joe(t,e){const r=bt(t);let n=!1;for(const s of e){const a=s.query,o=r.queries.get(a);if(o){for(const l of o.Sa)l.Fa(s)&&(n=!0);o.wa=s}}n&&vC(r)}function Zoe(t,e,r){const n=bt(t),s=n.queries.get(e);if(s)for(const a of s.Sa)a.onError(r);n.queries.delete(e)}function vC(t){t.Ca.forEach(e=>{e.next()})}var tP,I5;(I5=tP||(tP={})).Ma="default",I5.Cache="cache";class bC{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new hf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=hf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.key=e}}class iU{constructor(e){this.key=e}}class ele{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$t(),this.mutatedKeys=$t(),this.eu=NB(e),this.tu=new Sh(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new C5,s=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=C1(this.query,h)?h:null,x=!!f&&this.mutatedKeys.has(f.key),p=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;f&&m?f.data.isEqual(m.data)?x!==p&&(n.track({type:3,doc:m}),v=!0):this.su(f,m)||(n.track({type:2,doc:m}),v=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(l=!0)):!f&&m?(n.track({type:0,doc:m}),v=!0):f&&!m&&(n.track({type:1,doc:f}),v=!0,(c||u)&&(l=!0)),v&&(m?(o=o.add(m),a=p?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(m,x){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{Rt:v})}};return p(m)-p(x)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),s=s??!1;const l=r&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new hf(this.query,e.tu,a,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$t(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new iU(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new sU(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=$t();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return hf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wC="SyncEngine";class tle{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class rle{constructor(e){this.key=e,this.hu=!1}}class nle{constructor(e,r,n,s,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new gd(l=>jB(l),T1),this.Iu=new Map,this.Eu=new Set,this.du=new Wr(rt.comparator),this.Au=new Map,this.Ru=new oC,this.Vu={},this.mu=new Map,this.fu=df.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sle(t,e,r=!0){const n=dU(t);let s;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await aU(n,e,r,!0),s}async function ile(t,e){const r=dU(t);await aU(r,e,!0,!1)}async function aU(t,e,r,n){const s=await Eoe(t.localStore,Ya(e)),a=s.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await ale(t,e,a,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&JB(t.remoteStore,s),l}async function ale(t,e,r,n,s){t.pu=(h,f,m)=>async function(p,v,w,b){let j=v.view.ru(w);j.Cs&&(j=await S5(p.localStore,v.query,!1).then(({documents:P})=>v.view.ru(P,j)));const N=b&&b.targetChanges.get(v.targetId),E=b&&b.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(j,p.isPrimaryClient,N,E);return O5(p,v.targetId,C.au),C.snapshot}(t,h,f,m);const a=await S5(t.localStore,e,!0),o=new ele(e,a.Qs),l=o.ru(a.documents),c=iy.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);O5(t,r,u.au);const d=new tle(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function ole(t,e,r){const n=bt(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);if(a.length>1)return n.Iu.set(s.targetId,a.filter(o=>!T1(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await ZE(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&dC(n.remoteStore,s.targetId),rP(n,s.targetId)}).catch(am)):(rP(n,s.targetId),await ZE(n.localStore,s.targetId,!0))}async function lle(t,e){const r=bt(t),n=r.Tu.get(e),s=r.Iu.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),dC(r.remoteStore,n.targetId))}async function cle(t,e,r){const n=gle(t);try{const s=await function(o,l){const c=bt(o),u=ur.now(),d=l.reduce((m,x)=>m.add(x.key),$t());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=Jo(),p=$t();return c.Ns.getEntries(m,d).next(v=>{x=v,x.forEach((w,b)=>{b.isValidDocument()||(p=p.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,x)).next(v=>{h=v;const w=[];for(const b of l){const j=Eae(b,h.get(b.key).overlayedDocument);j!=null&&w.push(new Dc(b.key,j,mB(j.value.mapValue),_s.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,w,l)}).next(v=>{f=v;const w=v.applyToLocalDocumentSet(h,p);return c.documentOverlayCache.saveOverlays(m,v.batchId,w)})}).then(()=>({batchId:f.batchId,changes:EB(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Wr(Mt)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u}(n,s.batchId,r),await oy(n,s.changes),await L1(n.remoteStore)}catch(s){const a=gC(s,"Failed to persist write");r.reject(a)}}async function oU(t,e){const r=bt(t);try{const n=await joe(r.localStore,e);e.targetChanges.forEach((s,a)=>{const o=r.Au.get(a);o&&(Yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Yt(o.hu,14607):s.removedDocuments.size>0&&(Yt(o.hu,42227),o.hu=!1))}),await oy(r,n,e)}catch(n){await am(n)}}function R5(t,e,r){const n=bt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=bt(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(l)&&(u=!0)}),u&&vC(c)}(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function ule(t,e,r){const n=bt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Au.get(e),a=s&&s.key;if(a){let o=new Wr(rt.comparator);o=o.insert(a,as.newNoDocument(a,gt.min()));const l=$t().add(a),c=new D1(gt.min(),new Map,new Wr(Mt),o,l);await oU(n,c),n.du=n.du.remove(a),n.Au.delete(e),jC(n)}else await ZE(n.localStore,e,!1).then(()=>rP(n,e,r)).catch(am)}async function dle(t,e){const r=bt(t),n=e.batch.batchId;try{const s=await woe(r.localStore,e);cU(r,n,null),lU(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await oy(r,s)}catch(s){await am(s)}}async function hle(t,e,r){const n=bt(t);try{const s=await function(o,l){const c=bt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Yt(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);cU(n,e,r),lU(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await oy(n,s)}catch(s){await am(s)}}function lU(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function cU(t,e,r){const n=bt(t);let s=n.Vu[n.currentUser.toKey()];if(s){const a=s.get(e);a&&(r?a.reject(r):a.resolve(),s=s.remove(e)),n.Vu[n.currentUser.toKey()]=s}}function rP(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||uU(t,n)})}function uU(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(dC(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),jC(t))}function O5(t,e,r){for(const n of r)n instanceof sU?(t.Ru.addReference(n.key,e),fle(t,n)):n instanceof iU?(Ge(wC,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||uU(t,n.key)):lt(19791,{wu:n})}function fle(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Ge(wC,"New document in limbo: "+r),t.Eu.add(n),jC(t))}function jC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new rt(xr.fromString(e)),n=t.fu.next();t.Au.set(n,new rle(r)),t.du=t.du.insert(r,n),JB(t.remoteStore,new Hl(Ya(A1(r.path)),n,"TargetPurposeLimboResolution",E1.ce))}}async function oy(t,e,r){const n=bt(t),s=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((l,c)=>{o.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=cC.As(c.targetId,u);a.push(h)}}))}),await Promise.all(o),n.Pu.H_(s),await async function(c,u){const d=bt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Se.forEach(u,f=>Se.forEach(f.Es,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>Se.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!om(h))throw h;Ge(uC,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Ms.get(f),x=m.snapshotVersion,p=m.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(f,p)}}}(n.localStore,a))}async function mle(t,e){const r=bt(t);if(!r.currentUser.isEqual(e)){Ge(wC,"User change. New user:",e.toKey());const n=await KB(r.localStore,e);r.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new qe(ye.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await oy(r,n.Ls)}}function ple(t,e){const r=bt(t),n=r.Au.get(e);if(n&&n.hu)return $t().add(n.key);{let s=$t();const a=r.Iu.get(e);if(!a)return s;for(const o of a){const l=r.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function dU(t){const e=bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ple.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ule.bind(null,e),e.Pu.H_=Joe.bind(null,e.eventManager),e.Pu.yu=Zoe.bind(null,e.eventManager),e}function gle(t){const e=bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hle.bind(null,e),e}class Pb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=M1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return boe(this.persistence,new xoe,e.initialUser,this.serializer)}Cu(e){return new GB(lC.mi,this.serializer)}Du(e){return new _oe}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pb.provider={build:()=>new Pb};class xle extends Pb{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Yt(this.persistence.referenceDelegate instanceof Sb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new roe(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new GB(n=>Sb.mi(n,r),this.serializer)}}class nP{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>R5(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=mle.bind(null,this.syncEngine),await Yoe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xoe}()}createDatastore(e){const r=M1(e.databaseInfo.databaseId),n=function(a){return new Ioe(a)}(e.databaseInfo);return function(a,o,l,c){return new Moe(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,a,o,l){return new Loe(n,s,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>R5(this.syncEngine,r,0),function(){return _5.v()?new _5:new Aoe}())}createSyncEngine(e,r){return function(s,a,o,l,c,u,d){const h=new nle(s,a,o,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const a=bt(s);Ge(td,"RemoteStore shutting down."),a.Ea.add(5),await ay(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}nP.provider={build:()=>new nP};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc="FirestoreClient";class yle{constructor(e,r,n,s,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Rs.UNAUTHENTICATED,this.clientId=N1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{Ge(jc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Ge(jc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=gC(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function N2(t,e){t.asyncQueue.verifyOperationInProgress(),Ge(jc,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await KB(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function D5(t,e){t.asyncQueue.verifyOperationInProgress();const r=await vle(t);Ge(jc,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>T5(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>T5(e.remoteStore,s)),t._onlineComponents=e}async function vle(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ge(jc,"Using user provided OfflineComponentProvider");try{await N2(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===ye.FAILED_PRECONDITION||s.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;nf("Error using user provided cache. Falling back to memory cache: "+r),await N2(t,new Pb)}}else Ge(jc,"Using default OfflineComponentProvider"),await N2(t,new xle(void 0));return t._offlineComponents}async function hU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ge(jc,"Using user provided OnlineComponentProvider"),await D5(t,t._uninitializedComponentsProvider._online)):(Ge(jc,"Using default OnlineComponentProvider"),await D5(t,new nP))),t._onlineComponents}function ble(t){return hU(t).then(e=>e.syncEngine)}async function _b(t){const e=await hU(t),r=e.eventManager;return r.onListen=sle.bind(null,e.syncEngine),r.onUnlisten=ole.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=ile.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=lle.bind(null,e.syncEngine),r}function wle(t,e,r={}){const n=new Fo;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new NC({next:f=>{d.Nu(),o.enqueueAndForget(()=>yC(a,h));const m=f.docs.has(l);!m&&f.fromCache?u.reject(new qe(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?u.reject(new qe(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new bC(A1(l.path),d,{includeMetadataChanges:!0,qa:!0});return xC(a,h)}(await _b(t),t.asyncQueue,e,r,n)),n.promise}function jle(t,e,r={}){const n=new Fo;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new NC({next:f=>{d.Nu(),o.enqueueAndForget(()=>yC(a,h)),f.fromCache&&c.source==="server"?u.reject(new qe(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new bC(l,d,{includeMetadataChanges:!0,qa:!0});return xC(a,h)}(await _b(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nle="firestore.googleapis.com",$5=!0;class L5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new qe(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nle,this.ssl=$5}else this.host=e.host,this.ssl=e.ssl??$5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HB)throw new qe(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fU(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new qe(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new qe(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new qe(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class SC{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new eB;switch(n.type){case"firstParty":return new Die(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new qe(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=M5.get(r);n&&(Ge("ComponentProvider","Removing Datastore"),M5.delete(r),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=class mU{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new mU(this.firestore,e,this._query)}};class Br{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Br(this.firestore,e,this._key)}toJSON(){return{type:Br._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(ny(r,Br._jsonSchema))return new Br(e,n||null,new rt(xr.fromString(r.referencePath)))}}Br._jsonSchemaVersion="firestore/documentReference/1.0",Br._jsonSchema={type:mn("string",Br._jsonSchemaVersion),referencePath:mn("string")};class Vo extends Mc{constructor(e,r,n){super(e,r,A1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Br(this.firestore,null,new rt(e))}withConverter(e){return new Vo(this.firestore,e,this._path)}}function Ze(t,e,...r){if(t=Gt(t),tB("collection","path",e),t instanceof SC){const n=xr.fromString(e,...r);return XD(n),new Vo(t,null,n)}{if(!(t instanceof Br||t instanceof Vo))throw new qe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return XD(n),new Vo(t.firestore,null,n)}}function Ce(t,e,...r){if(t=Gt(t),arguments.length===1&&(e=N1.newId()),tB("doc","path",e),t instanceof SC){const n=xr.fromString(e,...r);return QD(n),new Br(t,null,new rt(n))}{if(!(t instanceof Br||t instanceof Vo))throw new qe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return QD(n),new Br(t.firestore,t instanceof Vo?t.converter:null,new rt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="AsyncQueue";class V5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QB(this,"async_queue_retry"),this._c=()=>{const n=j2();n&&Ge(F5,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=j2();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=j2();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Fo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!om(e))throw e;Ge(F5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Xo("INTERNAL UNHANDLED ERROR: ",B5(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const s=pC.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&lt(47125,{Pc:B5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function B5(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const a of n)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class ba extends SC{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new V5,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V5(e),this._firestoreClient=void 0,await e}}}function pU(t,e,r){r||(r=vb);const n=LT(t,"firestore");if(n.isInitialized(r)){const s=n.getImmediate({identifier:r}),a=n.getOptions(r);if(Ko(a,e))return s;throw new qe(ye.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new qe(ye.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HB)throw new qe(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&rm(e.host)&&Z8(e.host),n.initialize({options:e,instanceIdentifier:r})}function um(t){if(t._terminated)throw new qe(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Sle(t),t._firestoreClient}function Sle(t){var n,s,a;const e=t._freezeSettings(),r=function(l,c,u,d){return new Jie(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,fU(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yle(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(Ln.fromBase64String(e))}catch(r){throw new qe(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ii(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ny(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:mn("string",ii._jsonSchemaVersion),bytes:mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new qe(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new qe(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new qe(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ma._jsonSchemaVersion}}static fromJSON(e){if(ny(e,ma._jsonSchema))return new ma(e.latitude,e.longitude)}}ma._jsonSchemaVersion="firestore/geoPoint/1.0",ma._jsonSchema={type:mn("string",ma._jsonSchemaVersion),latitude:mn("number"),longitude:mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ny(e,pa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new pa(e.vectorValues);throw new qe(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pa._jsonSchemaVersion="firestore/vectorValue/1.0",pa._jsonSchema={type:mn("string",pa._jsonSchemaVersion),vectorValues:mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ele=/^__.*__$/;class Ple{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Dc(e,this.data,this.fieldMask,r,this.fieldTransforms):new sy(e,this.data,r,this.fieldTransforms)}}class gU{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Dc(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function xU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt(40011,{Ac:t})}}class F1{constructor(e,r,n,s,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new F1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const r=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var s;const r=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ab(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xU(this.Ac)&&Ele.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _le{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||M1(e)}Cc(e,r,n,s=!1){return new F1({Ac:e,methodName:r,Dc:n,path:Mn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ly(t){const e=t._freezeSettings(),r=M1(t._databaseId);return new _le(t._databaseId,!!e.ignoreUndefinedProperties,r)}function EC(t,e,r,n,s,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,s);CC("Data must be an object, but it was:",o,n);const l=wU(n,o);let c,u;if(a.merge)c=new ci(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const f=sP(e,h,r);if(!o.contains(f))throw new qe(ye.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);NU(d,f)||d.push(f)}c=new ci(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new Ple(new Fs(l),c,u)}class V1 extends $c{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof V1}}function yU(t,e,r){return new F1({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class PC extends $c{_toFieldTransform(e){return new I1(e.path,new Wg)}isEqual(e){return e instanceof PC}}class _C extends $c{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=yU(this,e,!0),n=this.vc.map(a=>yd(a,r)),s=new cf(n);return new I1(e.path,s)}isEqual(e){return e instanceof _C&&Ko(this.vc,e.vc)}}class AC extends $c{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=yU(this,e,!0),n=this.vc.map(a=>yd(a,r)),s=new uf(n);return new I1(e.path,s)}isEqual(e){return e instanceof AC&&Ko(this.vc,e.vc)}}class TC extends $c{constructor(e,r){super(e),this.Fc=r}_toFieldTransform(e){const r=new Hg(e.serializer,AB(e.serializer,this.Fc));return new I1(e.path,r)}isEqual(e){return e instanceof TC&&this.Fc===e.Fc}}function vU(t,e,r,n){const s=t.Cc(1,e,r);CC("Data must be an object, but it was:",s,n);const a=[],o=Fs.empty();Oc(n,(c,u)=>{const d=kC(e,c,r);u=Gt(u);const h=s.yc(d);if(u instanceof V1)a.push(d);else{const f=yd(u,h);f!=null&&(a.push(d),o.set(d,f))}});const l=new ci(a);return new gU(o,l,s.fieldTransforms)}function bU(t,e,r,n,s,a){const o=t.Cc(1,e,r),l=[sP(e,n,r)],c=[s];if(a.length%2!=0)throw new qe(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)l.push(sP(e,a[f])),c.push(a[f+1]);const u=[],d=Fs.empty();for(let f=l.length-1;f>=0;--f)if(!NU(u,l[f])){const m=l[f];let x=c[f];x=Gt(x);const p=o.yc(m);if(x instanceof V1)u.push(m);else{const v=yd(x,p);v!=null&&(u.push(m),d.set(m,v))}}const h=new ci(u);return new gU(d,h,o.fieldTransforms)}function Ale(t,e,r,n=!1){return yd(r,t.Cc(n?4:3,e))}function yd(t,e){if(jU(t=Gt(t)))return CC("Unsupported field value:",e,t),wU(t,e);if(t instanceof $c)return function(n,s){if(!xU(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,s){const a=[];let o=0;for(const l of n){let c=yd(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,s){if((n=Gt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return AB(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=ur.fromDate(n);return{timestampValue:Nb(s.serializer,a)}}if(n instanceof ur){const a=new ur(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Nb(s.serializer,a)}}if(n instanceof ma)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ii)return{bytesValue:LB(s.serializer,n._byteString)};if(n instanceof Br){const a=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:aC(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof pa)return function(o,l){return{mapValue:{fields:{[dB]:{stringValue:fB},[bb]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return nC(l.serializer,u)})}}}}}}(n,s);throw s.Sc(`Unsupported field value: ${S1(n)}`)}(t,e)}function wU(t,e){const r={};return iB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oc(t,(n,s)=>{const a=yd(s,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function jU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ur||t instanceof ma||t instanceof ii||t instanceof Br||t instanceof $c||t instanceof pa)}function CC(t,e,r){if(!jU(r)||!nB(r)){const n=S1(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function sP(t,e,r){if((e=Gt(e))instanceof dm)return e._internalPath;if(typeof e=="string")return kC(t,e);throw Ab("Field path arguments must be of type string or ",t,!1,void 0,r)}const Tle=new RegExp("[~\\*/\\[\\]]");function kC(t,e,r){if(e.search(Tle)>=0)throw Ab(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new dm(...e.split("."))._internalPath}catch{throw Ab(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Ab(t,e,r,n,s){const a=n&&!n.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${s}`),c+=")"),new qe(ye.INVALID_ARGUMENT,l+t+c)}function NU(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,r,n,s,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(B1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Cle extends SU{data(){return super.data()}}function B1(t,e){return typeof e=="string"?kC(t,e):e instanceof dm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IC{}class U1 extends IC{}function jt(t,e,...r){let n=[];e instanceof IC&&n.push(e),n=n.concat(r),function(a){const o=a.filter(c=>c instanceof q1).length,l=a.filter(c=>c instanceof cy).length;if(o>1||o>0&&l>0)throw new qe(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class cy extends U1{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new cy(e,r,n)}_apply(e){const r=this._parse(e);return PU(e._query,r),new Mc(e.firestore,e.converter,KE(e._query,r))}_parse(e){const r=ly(e.firestore);return function(a,o,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new qe(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){z5(h,d);const x=[];for(const p of h)x.push(q5(c,a,p));f={arrayValue:{values:x}}}else f=q5(c,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||z5(h,d),f=Ale(l,o,h,d==="in"||d==="not-in");return hn.create(u,d,f)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function At(t,e,r){const n=e,s=B1("where",t);return cy._create(s,n,r)}class q1 extends IC{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new q1(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:va.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,a){let o=s;const l=a.getFlattenedFilters();for(const c of l)PU(o,c),o=KE(o,c)}(e._query,r),new Mc(e.firestore,e.converter,KE(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class z1 extends U1{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new z1(e,r)}_apply(e){const r=function(s,a,o){if(s.startAt!==null)throw new qe(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new qe(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zg(a,o)}(e._query,this._field,this._direction);return new Mc(e.firestore,e.converter,function(s,a){const o=s.explicitOrderBy.concat([a]);return new lm(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function fn(t,e="asc"){const r=e,n=B1("orderBy",t);return z1._create(n,r)}class W1 extends U1{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new W1(e,r,n)}_apply(e){return new Mc(e.firestore,e.converter,jb(e._query,this._limit,this._limitType))}}function $u(t){return Bie("limit",t),W1._create("limit",t,"F")}function q5(t,e,r){if(typeof(r=Gt(r))=="string"){if(r==="")throw new qe(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wB(e)&&r.indexOf("/")!==-1)throw new qe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(xr.fromString(r));if(!rt.isDocumentKey(n))throw new qe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return i5(t,new rt(n))}if(r instanceof Br)return i5(t,r._key);throw new qe(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${S1(r)}.`)}function z5(t,e){if(!Array.isArray(t)||t.length===0)throw new qe(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PU(t,e){const r=function(s,a){for(const o of s)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new qe(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class _U{convertValue(e,r="none"){switch(bc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw lt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Oc(e,(s,a)=>{n[s]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,s,a;const r=(a=(s=(n=e.fields)==null?void 0:n[bb].arrayValue)==null?void 0:s.values)==null?void 0:a.map(o=>tn(o.doubleValue));return new pa(r)}convertGeoPoint(e){return new ma(tn(e.latitude),tn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=_1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ug(e));default:return null}}convertTimestamp(e){const r=yc(e);return new ur(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=xr.fromString(e);Yt(zB(n),9688,{name:e});const s=new af(n.get(1),n.get(3)),a=new rt(n.popFirst(5));return s.isEqual(r)||Xo(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class ih{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cc extends SU{constructor(e,r,n,s,a,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(B1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=cc._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}cc._jsonSchemaVersion="firestore/documentSnapshot/1.0",cc._jsonSchema={type:mn("string",cc._jsonSchemaVersion),bundleSource:mn("string","DocumentSnapshot"),bundleName:mn("string"),bundle:mn("string")};class tg extends cc{data(e={}){return super.data(e)}}class uc{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new ih(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new tg(this._firestore,this._userDataWriter,n.key,n,new ih(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new qe(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new tg(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ih(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new tg(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ih(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:kle(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=N1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kle(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){t=Ps(t,Br);const e=Ps(t.firestore,ba);return wle(um(e),t._key).then(r=>AU(e,t,r))}uc._jsonSchemaVersion="firestore/querySnapshot/1.0",uc._jsonSchema={type:mn("string",uc._jsonSchemaVersion),bundleSource:mn("string","QuerySnapshot"),bundleName:mn("string"),bundle:mn("string")};class OC extends _U{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,r)}}function Bt(t){t=Ps(t,Mc);const e=Ps(t.firestore,ba),r=um(e),n=new OC(e);return EU(t._query),jle(r,t._query).then(s=>new uc(e,n,t,s))}function pn(t,e,r){t=Ps(t,Br);const n=Ps(t.firestore,ba),s=RC(t.converter,e,r);return hm(n,[EC(ly(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,_s.none())])}function ot(t,e,r,...n){t=Ps(t,Br);const s=Ps(t.firestore,ba),a=ly(s);let o;return o=typeof(e=Gt(e))=="string"||e instanceof dm?bU(a,"updateDoc",t._key,e,r,n):vU(a,"updateDoc",t._key,e),hm(s,[o.toMutation(t._key,_s.exists(!0))])}function dc(t){return hm(Ps(t.firestore,ba),[new O1(t._key,_s.none())])}function ai(t,e){const r=Ps(t.firestore,ba),n=Ce(t),s=RC(t.converter,e);return hm(r,[EC(ly(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,_s.exists(!1))]).then(()=>n)}function Ur(t,...e){var c,u,d;t=Gt(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||U5(e[n])||(r=e[n++]);const s={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(U5(e[n])){const h=e[n];e[n]=(c=h.next)==null?void 0:c.bind(h),e[n+1]=(u=h.error)==null?void 0:u.bind(h),e[n+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,o,l;if(t instanceof Br)o=Ps(t.firestore,ba),l=A1(t._key.path),a={next:h=>{e[n]&&e[n](AU(o,t,h))},error:e[n+1],complete:e[n+2]};else{const h=Ps(t,Mc);o=Ps(h.firestore,ba),l=h._query;const f=new OC(o);a={next:m=>{e[n]&&e[n](new uc(o,f,h,m))},error:e[n+1],complete:e[n+2]},EU(t._query)}return function(f,m,x,p){const v=new NC(p),w=new bC(m,v,x);return f.asyncQueue.enqueueAndForget(async()=>xC(await _b(f),w)),()=>{v.Nu(),f.asyncQueue.enqueueAndForget(async()=>yC(await _b(f),w))}}(um(o),l,s,a)}function hm(t,e){return function(n,s){const a=new Fo;return n.asyncQueue.enqueueAndForget(async()=>cle(await ble(n),s,a)),a.promise}(um(t),e)}function AU(t,e,r){const n=r.docs.get(e._key),s=new OC(t);return new cc(t,s,e._key,n,new ih(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ly(e)}set(e,r,n){this._verifyNotCommitted();const s=S2(e,this._firestore),a=RC(s.converter,r,n),o=EC(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,n);return this._mutations.push(o.toMutation(s._key,_s.none())),this}update(e,r,n,...s){this._verifyNotCommitted();const a=S2(e,this._firestore);let o;return o=typeof(r=Gt(r))=="string"||r instanceof dm?bU(this._dataReader,"WriteBatch.update",a._key,r,n,s):vU(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(o.toMutation(a._key,_s.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=S2(e,this._firestore);return this._mutations=this._mutations.concat(new O1(r._key,_s.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function S2(t,e){if((t=Gt(t)).firestore!==e)throw new qe(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Fe(){return new PC("serverTimestamp")}function uy(...t){return new _C("arrayUnion",t)}function DC(...t){return new AC("arrayRemove",t)}function iP(t){return new TC("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t){return um(t=Ps(t,ba)),new TU(t,e=>hm(t,e))}(function(e,r=!0){(function(s){im=s})(sm),tf(new Xu("firestore",(n,{instanceIdentifier:s,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new ba(new Rie(n.getProvider("auth-internal")),new Mie(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new qe(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new af(u.options.projectId,d)}(o,s),o);return a={useFetchStreams:r,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),oc(HD,GD,e),oc(HD,GD,"esm2020")})();const CU=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:_U,Bytes:ii,CollectionReference:Vo,DocumentReference:Br,DocumentSnapshot:cc,FieldPath:dm,FieldValue:$c,Firestore:ba,FirestoreError:qe,GeoPoint:ma,Query:Mc,QueryCompositeFilterConstraint:q1,QueryConstraint:U1,QueryDocumentSnapshot:tg,QueryFieldFilterConstraint:cy,QueryLimitConstraint:W1,QueryOrderByConstraint:z1,QuerySnapshot:uc,SnapshotMetadata:ih,Timestamp:ur,VectorValue:pa,WriteBatch:TU,_AutoId:N1,_ByteString:Ln,_DatabaseId:af,_DocumentKey:rt,_EmptyAuthCredentialsProvider:eB,_FieldPath:Mn,_cast:Ps,_logWarn:nf,_validateIsNotUsedTogether:rB,addDoc:ai,arrayRemove:DC,arrayUnion:uy,collection:Ze,deleteDoc:dc,doc:Ce,ensureFirestoreConfigured:um,executeWrite:hm,getDoc:Ft,getDocs:Bt,increment:iP,initializeFirestore:pU,limit:$u,onSnapshot:Ur,orderBy:fn,query:jt,serverTimestamp:Fe,setDoc:pn,updateDoc:ot,where:At,writeBatch:rg},Symbol.toStringTag,{value:"Module"})),aP={apiKey:"AIzaSyBU5gegpYNEQW2XjcS-s9WXpH1ztz6s5TQ",authDomain:"pal-519d0.firebaseapp.com",projectId:"pal-519d0",storageBucket:"pal-519d0.firebasestorage.app",messagingSenderId:"524719905581",appId:"1:524719905581:web:951d7e02ae378e4cdd51a4",databaseURL:"https://pal-519d0-default-rtdb.firebaseio.com"},MC=r9(aP),Cr=H9(MC),oe=pU(MC,{experimentalForceLongPolling:!0,useFetchStreams:!1});console.log(" Firebase initialized:",{projectId:aP.projectId,authDomain:aP.authDomain,currentUrl:typeof window<"u"?window.location.origin:"server"});typeof window<"u"&&Cr.onAuthStateChanged(t=>{console.log(" Auth state changed:",t?"User signed in":"No user")});typeof window<"u"&&(window.addEventListener("error",t=>{var r;const e=((r=t.message)==null?void 0:r.toLowerCase())||"";if(e.includes("xmlhttprequest")||e.includes("cors")||e.includes("access-control-allow-origin")||e.includes("firestore")||e.includes("channel")||e.includes("400")||e.includes("gsessionid"))return t.preventDefault(),t.stopPropagation(),!1},!0),window.addEventListener("unhandledrejection",t=>{var r,n,s;const e=((n=(r=t.reason)==null?void 0:r.message)==null?void 0:n.toLowerCase())||"";if(e.includes("xmlhttprequest")||e.includes("cors")||e.includes("access-control-allow-origin")||e.includes("firestore")||e.includes("channel")||e.includes("400")||e.includes("gsessionid")||((s=t.reason)==null?void 0:s.code)==="unavailable")return t.preventDefault(),t.stopPropagation(),!1}));class Ile{async logActivity(e){try{await ai(Ze(oe,"aiActivities"),{...e,timestamp:Fe()}),console.log(" AI Activity logged:",e)}catch(r){console.error(" Error logging AI activity:",r)}}async logEnquiryActivity(e,r,n,s,a){await this.logActivity({type:"enquiry",action:r,itemId:e,confidence:n,reason:s,analysis:a})}async logProfileActivity(e,r,n,s,a){await this.logActivity({type:"profile",action:r,itemId:e,confidence:n,reason:s,analysis:a})}async logResponseActivity(e,r,n,s,a){await this.logActivity({type:"response",action:r,itemId:e,confidence:n,reason:s,analysis:a})}}const kn=new Ile,mu=class mu{constructor(){Tn(this,"TIME_WINDOW_HOURS",24)}static getInstance(){return mu.instance||(mu.instance=new mu),mu.instance}async checkForDuplicates(e,r,n){try{console.log(" Duplicate Detection: Checking for duplicates...",{title:e.substring(0,30),userId:n});const s=ur.fromDate(new Date(Date.now()-this.TIME_WINDOW_HOURS*60*60*1e3)),a=jt(Ze(oe,"enquiries"),At("createdAt",">=",s)),o=await Bt(a),l=[];o.forEach(h=>{const f=h.data();f.status==="rejected"||f.status==="deleted"||this.isExactDuplicate(e,r,f.title,f.description)&&l.push({enquiryId:h.id,userId:f.userId,title:f.title,description:f.description,createdAt:f.createdAt,isSameUser:f.userId===n})});const c=l.length>0,u=c?100:0;let d="";if(c){const h=l.filter(m=>m.isSameUser).length,f=l.filter(m=>!m.isSameUser).length;h>0&&f>0?d=`Exact duplicate detected: ${h} from same user, ${f} from different users`:h>0?d=`Exact duplicate detected: ${h} identical enquiry(ies) from same user`:d=`Exact duplicate detected: ${f} identical enquiry(ies) from different user(s)`}else d="No duplicates found";return console.log(" Duplicate Detection Result:",{isDuplicate:c,matchCount:l.length,reason:d}),{isDuplicate:c,matches:l,confidence:u,reason:d}}catch(s){return console.error(" Duplicate Detection Error:",s),{isDuplicate:!1,matches:[],confidence:0,reason:"Duplicate check failed - proceeding with normal review"}}}isExactDuplicate(e,r,n,s){const a=c=>c.trim().toLowerCase().replace(/\s+/g," "),o=a(e)===a(n),l=a(r)===a(s);return o&&l}getDuplicateIds(e){return e.map(r=>r.enquiryId)}formatDuplicateReason(e){if(!e.isDuplicate)return"";const r=this.getDuplicateIds(e.matches).join(", ");return`${e.reason}. Match IDs: ${r}`}};Tn(mu,"instance");let oP=mu;const Rle=oP.getInstance();class Ole{constructor(){Tn(this,"MIN_CONFIDENCE_THRESHOLD",40);Tn(this,"MEDIUM_CONFIDENCE_THRESHOLD",25);Tn(this,"LOW_CONFIDENCE_THRESHOLD",15)}async approveEnquiry(e){try{console.log(" AI: Analyzing enquiry for auto-approval...",e.id);const r=await Rle.checkForDuplicates(e.title,e.description,e.userId);if(r.isDuplicate)return console.log(" AI: Duplicate detected - flagging for manual review"),{approved:!1,confidence:0,reason:r.reason,requiresHumanReview:!0,aiAnalysis:{contentQuality:0,legitimacyScore:0,riskAssessment:100,categoryMatch:0}};const n=await this.analyzeContentQuality(e),s=await this.analyzeLegitimacy(e),a=await this.assessRisk(e),o=await this.analyzeCategoryMatch(e),l=Math.round((n+s+(100-a)+o)/4),c={contentQuality:n,legitimacyScore:s,riskAssessment:a,categoryMatch:o};console.log(" AI: Enquiry analysis scores:",{contentQuality:n,legitimacyScore:s,riskAssessment:a,categoryMatch:o,finalConfidence:l});let u=!1,d="",h=!1;l>=this.MIN_CONFIDENCE_THRESHOLD?(u=!0,d=`Auto-approved by AI (${l}% confidence). High quality enquiry with low risk.`):l>=this.MEDIUM_CONFIDENCE_THRESHOLD?(u=!1,h=!0,d=`Flagged for human review (${l}% confidence). Moderate quality with some concerns.`):l>=this.LOW_CONFIDENCE_THRESHOLD?(u=!1,h=!0,d=`Flagged for human review (${l}% confidence). Low quality or high risk detected.`):(u=!1,d=`Auto-rejected by AI (${l}% confidence). Poor quality or high risk content.`);const f={approved:u,confidence:l,reason:d,requiresHumanReview:h,aiAnalysis:c};return console.log(" AI: Enquiry analysis complete:",f),f}catch(r){return console.error(" AI: Error in enquiry approval:",r),{approved:!1,confidence:0,reason:"AI analysis failed. Requires human review.",requiresHumanReview:!0,aiAnalysis:{contentQuality:0,legitimacyScore:0,riskAssessment:100,categoryMatch:0}}}}async verifyProfile(e,r){try{console.log(" AI: Analyzing profile for auto-verification...",e.userId);const n=await this.analyzeDocumentClarity(r),s=await this.analyzeDocumentAuthenticity(r),a=await this.assessProfileRisk(e),o=await this.checkCompliance(e),l=Math.round((n+s+(100-a)+o)/4),c={documentClarity:n,authenticityScore:s,riskLevel:a,complianceCheck:o};let u=!1,d="",h=!1;l>=this.MIN_CONFIDENCE_THRESHOLD?(u=!0,d=`Auto-verified by AI (${l}% confidence). Document appears authentic and clear.`):l>=this.MEDIUM_CONFIDENCE_THRESHOLD?(u=!1,h=!0,d=`Flagged for human review (${l}% confidence). Document quality needs verification.`):(u=!1,d=`Auto-rejected by AI (${l}% confidence). Document appears invalid or unclear.`);const f={verified:u,confidence:l,reason:d,requiresHumanReview:h,aiAnalysis:c};return console.log(" AI: Profile verification complete:",f),f}catch(n){return console.error(" AI: Error in profile verification:",n),{verified:!1,confidence:0,reason:"AI analysis failed. Requires human review.",requiresHumanReview:!0,aiAnalysis:{documentClarity:0,authenticityScore:0,riskLevel:100,complianceCheck:0}}}}async approveSellerResponse(e){try{console.log(" AI: Analyzing seller response for auto-approval...",e.id);const r=await this.analyzeResponseQuality(e),n=await this.analyzePriceReasonableness(e),s=await this.analyzeSellerCredibility(e),a=await this.analyzeContentRelevance(e),o=Math.round((r+n+s+a)/4),l={responseQuality:r,priceReasonableness:n,sellerCredibility:s,contentRelevance:a};let c=!1,u="",d=!1;o>=this.MIN_CONFIDENCE_THRESHOLD?(c=!0,u=`Auto-approved by AI (${o}% confidence). High quality response with reasonable pricing.`):o>=this.MEDIUM_CONFIDENCE_THRESHOLD?(c=!1,d=!0,u=`Flagged for human review (${o}% confidence). Response needs quality verification.`):(c=!1,u=`Auto-rejected by AI (${o}% confidence). Poor quality or unreasonable response.`);const h={approved:c,confidence:o,reason:u,requiresHumanReview:d,aiAnalysis:l};return console.log(" AI: Seller response analysis complete:",h),h}catch(r){return console.error(" AI: Error in seller response approval:",r),{approved:!1,confidence:0,reason:"AI analysis failed. Requires human review.",requiresHumanReview:!0,aiAnalysis:{responseQuality:0,priceReasonableness:0,sellerCredibility:0,contentRelevance:0}}}}async analyzeContentQuality(e){var a,o;const r=((a=e.title)==null?void 0:a.length)||0,n=((o=e.description)==null?void 0:o.length)||0;let s=50;return r>=10&&r<=100?s+=25:r>=5&&r<=150?s+=15:r>0&&(s+=5),n>=50&&n<=500?s+=25:n>=20&&n<=1e3?s+=15:n>0&&(s+=5),Math.min(100,s)}async analyzeLegitimacy(e){var c,u;let r=70;(e.userVerified||e.isProfileVerified)&&(r=90,console.log(" AI: User is verified - higher legitimacy score"));const n=["urgent","quick","asap","immediately","cash only"],s=((c=e.title)==null?void 0:c.toLowerCase())||"",a=((u=e.description)==null?void 0:u.toLowerCase())||"",o=n.filter(d=>s.includes(d)||a.includes(d)).length,l=e.userVerified||e.isProfileVerified?5:10;return r-=o*l,Math.max(0,Math.min(100,r))}async assessRisk(e){let r=20;return e.budget>1e4?r+=20:e.budget>5e3&&(r+=10),e.isUrgent&&(r+=15),(!e.location||e.location.trim()==="")&&(r+=10),Math.min(100,r)}async analyzeCategoryMatch(e){return["jobs","services","products","real-estate","vehicles","electronics","fashion","health","education","other"].includes(e.category)?90:30}async analyzeDocumentClarity(e){return 85}async analyzeDocumentAuthenticity(e){return 80}async assessProfileRisk(e){let r=15;return(!e.fullName||e.fullName.trim()==="")&&(r+=20),(!e.phone||e.phone.trim()==="")&&(r+=15),Math.min(100,r)}async checkCompliance(e){return 90}async analyzeResponseQuality(e){var a,o;const r=((a=e.message)==null?void 0:a.length)||0,n=((o=e.title)==null?void 0:o.length)||0;let s=50;return r>=50&&r<=500?s+=30:r>=20&&r<=1e3?s+=20:r>0&&(s+=10),n>=10&&n<=100?s+=20:n>0&&(s+=10),Math.min(100,s)}async analyzePriceReasonableness(e){const r=parseFloat(e.price)||0;return r>0&&r<1e6?85:r===0?30:20}async analyzeSellerCredibility(e){let r=60;return e.isIdentityVerified&&(r+=25),e.userProfileVerified&&(r+=15),Math.min(100,r)}async analyzeContentRelevance(e){return 80}async executeEnquiryApproval(e,r){try{const n=await this.approveEnquiry(r);return n.approved?(await ot(Ce(oe,"enquiries",e),{status:"live",adminNotes:`Auto-approved by AI: ${n.reason}`,aiApproval:{approved:!0,confidence:n.confidence,timestamp:Fe(),analysis:n.aiAnalysis},updatedAt:Fe()}),await kn.logEnquiryActivity(e,"approved",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Enquiry auto-approved:",e),!0):n.requiresHumanReview?(await ot(Ce(oe,"enquiries",e),{adminNotes:`AI flagged for review: ${n.reason}`,aiApproval:{approved:!1,confidence:n.confidence,requiresReview:!0,timestamp:Fe(),analysis:n.aiAnalysis},updatedAt:Fe()}),await kn.logEnquiryActivity(e,"flagged",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Enquiry flagged for review:",e),!1):(await ot(Ce(oe,"enquiries",e),{status:"rejected",adminNotes:`Auto-rejected by AI: ${n.reason}`,aiApproval:{approved:!1,confidence:n.confidence,timestamp:Fe(),analysis:n.aiAnalysis},updatedAt:Fe()}),await kn.logEnquiryActivity(e,"rejected",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Enquiry auto-rejected:",e),!1)}catch(n){return console.error(" AI: Error executing enquiry approval:",n),!1}}async executeProfileVerification(e,r,n){try{const s=await this.verifyProfile(r,n);return s.verified?(await ot(Ce(oe,"userProfiles",e),{isProfileVerified:!0,verificationStatus:"approved",verificationDate:Fe(),aiVerification:{verified:!0,confidence:s.confidence,timestamp:Fe(),analysis:s.aiAnalysis},updatedAt:Fe()}),await kn.logProfileActivity(e,"approved",s.confidence,s.reason,s.aiAnalysis),console.log(" AI: Profile auto-verified:",e),!0):s.requiresHumanReview?(await ot(Ce(oe,"userProfiles",e),{verificationStatus:"pending",aiVerification:{verified:!1,confidence:s.confidence,requiresReview:!0,timestamp:Fe(),analysis:s.aiAnalysis},updatedAt:Fe()}),await kn.logProfileActivity(e,"flagged",s.confidence,s.reason,s.aiAnalysis),console.log(" AI: Profile flagged for review:",e),!1):(await ot(Ce(oe,"userProfiles",e),{isProfileVerified:!1,verificationStatus:"rejected",verificationDate:Fe(),aiVerification:{verified:!1,confidence:s.confidence,timestamp:Fe(),analysis:s.aiAnalysis},updatedAt:Fe()}),await kn.logProfileActivity(e,"rejected",s.confidence,s.reason,s.aiAnalysis),console.log(" AI: Profile auto-rejected:",e),!1)}catch(s){return console.error(" AI: Error executing profile verification:",s),!1}}async executeSellerResponseApproval(e,r){try{const n=await this.approveSellerResponse(r);return n.approved?(await ot(Ce(oe,"sellerSubmissions",e),{status:"approved",updatedAt:Fe(),aiApproval:{approved:!0,confidence:n.confidence,timestamp:Fe(),analysis:n.aiAnalysis}}),await kn.logResponseActivity(e,"approved",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Seller response auto-approved:",e),!0):n.requiresHumanReview?(await ot(Ce(oe,"sellerSubmissions",e),{status:"pending",aiApproval:{approved:!1,confidence:n.confidence,requiresReview:!0,timestamp:Fe(),analysis:n.aiAnalysis},updatedAt:Fe()}),await kn.logResponseActivity(e,"flagged",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Seller response flagged for review:",e),!1):(await ot(Ce(oe,"sellerSubmissions",e),{status:"rejected",updatedAt:Fe(),aiApproval:{approved:!1,confidence:n.confidence,timestamp:Fe(),analysis:n.aiAnalysis}}),await kn.logResponseActivity(e,"rejected",n.confidence,n.reason,n.aiAnalysis),console.log(" AI: Seller response auto-rejected:",e),!1)}catch(n){return console.error(" AI: Error executing seller response approval:",n),!1}}}const Eh=new Ole;class Dle{constructor(){Tn(this,"isRunning",!1);Tn(this,"unsubscribeFunctions",[]);Tn(this,"processingQueue",new Set);Tn(this,"PROCESSING_DELAY",2e3)}start(){if(typeof window>"u"){console.log(" Background AI: Skipping start - not in browser environment");return}if(this.isRunning){console.log(" Background AI: Service already running");return}this.isRunning=!0,this.monitorNewEnquiries(),this.monitorNewProfileVerifications(),this.monitorNewSellerResponses()}startForAdmin(){console.log(" Background AI: Starting for authenticated admin..."),this.start()}stop(){if(!this.isRunning){console.log(" Background AI: Service not running");return}console.log(" Background AI: Stopping service..."),this.isRunning=!1,this.unsubscribeFunctions.forEach(e=>e()),this.unsubscribeFunctions=[],this.processingQueue.clear(),console.log(" Background AI: Service stopped")}monitorNewEnquiries(){const e=jt(Ze(oe,"enquiries"),At("status","==","pending"),fn("createdAt","desc")),r=Ur(e,async n=>{if(!this.isRunning)return;const s=n.docChanges().filter(a=>a.type==="added").map(a=>({id:a.doc.id,...a.doc.data()}));for(const a of s)this.processingQueue.has(`enquiry-${a.id}`)||this.processEnquiryWithDelay(a)});this.unsubscribeFunctions.push(r)}monitorNewProfileVerifications(){const e=jt(Ze(oe,"userProfiles"),fn("updatedAt","desc")),r=Ur(e,async n=>{if(!this.isRunning)return;const s=n.docChanges().filter(a=>a.type==="modified"||a.type==="added").map(a=>({id:a.doc.id,...a.doc.data()})).filter(a=>a.verificationStatus==="pending");for(const a of s)this.processingQueue.has(`profile-${a.id}`)||this.processProfileWithDelay(a)});this.unsubscribeFunctions.push(r)}monitorNewSellerResponses(){const e=jt(Ze(oe,"sellerSubmissions"),At("status","==","pending"),fn("createdAt","desc")),r=Ur(e,async n=>{if(!this.isRunning)return;const s=n.docChanges().filter(a=>a.type==="added").map(a=>({id:a.doc.id,...a.doc.data()}));for(const a of s)this.processingQueue.has(`response-${a.id}`)||this.processSellerResponseWithDelay(a)});this.unsubscribeFunctions.push(r)}async processEnquiryWithDelay(e){const r=`enquiry-${e.id}`;this.processingQueue.add(r);try{if(await new Promise(s=>setTimeout(s,this.PROCESSING_DELAY)),!this.isRunning)return;const n=await Eh.executeEnquiryApproval(e.id,e)}catch(n){console.error(" Background AI: Error processing enquiry:",e.id,n)}finally{this.processingQueue.delete(r)}}async processProfileWithDelay(e){const r=`profile-${e.id}`;this.processingQueue.add(r);try{if(await new Promise(a=>setTimeout(a,this.PROCESSING_DELAY)),!this.isRunning)return;console.log(" Background AI: Processing profile verification:",e.id);const n={front:e.idFrontImage||"",back:e.idBackImage||""},s=await Eh.executeProfileVerification(e.id,e,n);console.log(s?" Background AI: Profile auto-verified:":" Background AI: Profile flagged for review:",e.id)}catch(n){console.error(" Background AI: Error processing profile:",e.id,n)}finally{this.processingQueue.delete(r)}}async processSellerResponseWithDelay(e){const r=`response-${e.id}`;this.processingQueue.add(r);try{if(await new Promise(s=>setTimeout(s,this.PROCESSING_DELAY)),!this.isRunning)return;console.log(" Background AI: Processing seller response:",e.id);const n=await Eh.executeSellerResponseApproval(e.id,e);console.log(n?" Background AI: Seller response auto-approved:":" Background AI: Seller response flagged for review:",e.id)}catch(n){console.error(" Background AI: Error processing seller response:",e.id,n)}finally{this.processingQueue.delete(r)}}getStatus(){return{isRunning:this.isRunning,processingQueue:Array.from(this.processingQueue),activeListeners:this.unsubscribeFunctions.length}}async processExistingPendingItems(){if(!this.isRunning){console.log(" Background AI: Service not running, cannot process existing items");return}console.log(" Background AI: Processing existing pending items...");try{const e=await Bt(jt(Ze(oe,"enquiries"),At("status","==","pending")));for(const s of e.docs){const a={id:s.id,...s.data()};this.processingQueue.has(`enquiry-${a.id}`)||this.processEnquiryWithDelay(a)}const r=await Bt(jt(Ze(oe,"userProfiles")));for(const s of r.docs){const a={id:s.id,...s.data()};a.verificationStatus==="pending"&&(this.processingQueue.has(`profile-${a.id}`)||this.processProfileWithDelay(a))}const n=await Bt(jt(Ze(oe,"sellerSubmissions"),At("status","==","pending")));for(const s of n.docs){const a={id:s.id,...s.data()};this.processingQueue.has(`response-${a.id}`)||this.processSellerResponseWithDelay(a)}console.log(" Background AI: Existing pending items queued for processing")}catch(e){console.error(" Background AI: Error processing existing pending items:",e)}}}const Po=new Dle;class Mle{constructor(){Tn(this,"isAIModeEnabled",!0);Tn(this,"processingQueue",new Set);Tn(this,"MAX_PROCESSING_TIME",5e3)}setAIMode(e){this.isAIModeEnabled=e,console.log(` Realtime AI: Mode ${e?"ENABLED":"DISABLED"}`)}isAIModeActive(){return this.isAIModeEnabled}async processEnquirySubmission(e,r){if(console.log(" Realtime AI: Processing enquiry submission:",e,"AI Mode:",this.isAIModeEnabled),!this.isAIModeEnabled)return console.log(" Realtime AI: AI mode disabled, skipping processing"),{success:!1,action:"flagged",confidence:0,reason:"AI mode disabled - requires manual review",processingTime:0};if(this.processingQueue.has(`enquiry-${e}`))return{success:!1,action:"flagged",confidence:0,reason:"Already processing",processingTime:0};const n=Date.now();this.processingQueue.add(`enquiry-${e}`);try{console.log(" Realtime AI: Processing enquiry submission:",e);const s=await Eh.approveEnquiry(r),a=Date.now()-n;let o=!1,l="flagged";return s.approved?(await ot(Ce(oe,"enquiries",e),{status:"live",adminNotes:`Auto-approved by AI: ${s.reason}`,aiApproval:{approved:!0,confidence:s.confidence,timestamp:Fe(),analysis:s.aiAnalysis,processingTime:a},updatedAt:Fe()}),await kn.logEnquiryActivity(e,"approved",s.confidence,s.reason,s.aiAnalysis),o=!0,l="approved",console.log(" Realtime AI: Enquiry auto-approved and made live:",e)):s.requiresHumanReview?(await ot(Ce(oe,"enquiries",e),{adminNotes:`AI flagged for review: ${s.reason}`,aiApproval:{approved:!1,confidence:s.confidence,requiresReview:!0,timestamp:Fe(),analysis:s.aiAnalysis,processingTime:a},updatedAt:Fe()}),await kn.logEnquiryActivity(e,"flagged",s.confidence,s.reason,s.aiAnalysis),l="flagged",console.log(" Realtime AI: Enquiry flagged for review:",e)):(await ot(Ce(oe,"enquiries",e),{status:"rejected",adminNotes:`Auto-rejected by AI: ${s.reason}`,aiApproval:{approved:!1,confidence:s.confidence,timestamp:Fe(),analysis:s.aiAnalysis,processingTime:a},updatedAt:Fe()}),await kn.logEnquiryActivity(e,"rejected",s.confidence,s.reason,s.aiAnalysis),l="rejected",console.log(" Realtime AI: Enquiry auto-rejected:",e)),{success:o,action:l,confidence:s.confidence,reason:s.reason,processingTime:a}}catch(s){return console.error(" Realtime AI: Error processing enquiry:",e,s),{success:!1,action:"flagged",confidence:0,reason:"AI processing failed - requires manual review",processingTime:Date.now()-n}}finally{this.processingQueue.delete(`enquiry-${e}`)}}async processProfileVerification(e,r,n){if(console.log(" Realtime AI: Processing profile verification:",e,"AI Mode:",this.isAIModeEnabled),!this.isAIModeEnabled)return console.log(" Realtime AI: AI mode disabled, skipping processing"),{success:!1,action:"flagged",confidence:0,reason:"AI mode disabled - requires manual review",processingTime:0};if(this.processingQueue.has(`profile-${e}`))return{success:!1,action:"flagged",confidence:0,reason:"Already processing",processingTime:0};const s=Date.now();this.processingQueue.add(`profile-${e}`);try{console.log(" Realtime AI: Processing profile verification:",e);const a=await Eh.verifyProfile(r,n),o=Date.now()-s;let l=!1,c="flagged";return a.verified?(await ot(Ce(oe,"userProfiles",e),{isProfileVerified:!0,verificationStatus:"approved",verificationDate:Fe(),aiVerification:{verified:!0,confidence:a.confidence,timestamp:Fe(),analysis:a.aiAnalysis,processingTime:o},updatedAt:Fe()}),await kn.logProfileActivity(e,"approved",a.confidence,a.reason,a.aiAnalysis),l=!0,c="approved",console.log(" Realtime AI: Profile auto-verified:",e)):a.requiresHumanReview?(await ot(Ce(oe,"userProfiles",e),{verificationStatus:"pending",aiVerification:{verified:!1,confidence:a.confidence,requiresReview:!0,timestamp:Fe(),analysis:a.aiAnalysis,processingTime:o},updatedAt:Fe()}),await kn.logProfileActivity(e,"flagged",a.confidence,a.reason,a.aiAnalysis),c="flagged",console.log(" Realtime AI: Profile flagged for review:",e)):(await ot(Ce(oe,"userProfiles",e),{isProfileVerified:!1,verificationStatus:"rejected",verificationDate:Fe(),aiVerification:{verified:!1,confidence:a.confidence,timestamp:Fe(),analysis:a.aiAnalysis,processingTime:o},updatedAt:Fe()}),await kn.logProfileActivity(e,"rejected",a.confidence,a.reason,a.aiAnalysis),c="rejected",console.log(" Realtime AI: Profile auto-rejected:",e)),{success:l,action:c,confidence:a.confidence,reason:a.reason,processingTime:o}}catch(a){return console.error(" Realtime AI: Error processing profile:",e,a),{success:!1,action:"flagged",confidence:0,reason:"AI processing failed - requires manual review",processingTime:Date.now()-s}}finally{this.processingQueue.delete(`profile-${e}`)}}async processSellerResponse(e,r){if(console.log(" Realtime AI: Processing seller response:",e,"AI Mode:",this.isAIModeEnabled),!this.isAIModeEnabled)return console.log(" Realtime AI: AI mode disabled, skipping processing"),{success:!1,action:"flagged",confidence:0,reason:"AI mode disabled - requires manual review",processingTime:0};if(this.processingQueue.has(`response-${e}`))return{success:!1,action:"flagged",confidence:0,reason:"Already processing",processingTime:0};const n=Date.now();this.processingQueue.add(`response-${e}`);try{console.log(" Realtime AI: Processing seller response:",e);const s=await Eh.approveSellerResponse(r),a=Date.now()-n;let o=!1,l="flagged";return s.approved?(await ot(Ce(oe,"sellerSubmissions",e),{status:"approved",updatedAt:Fe(),aiApproval:{approved:!0,confidence:s.confidence,timestamp:Fe(),analysis:s.aiAnalysis,processingTime:a}}),await kn.logResponseActivity(e,"approved",s.confidence,s.reason,s.aiAnalysis),o=!0,l="approved",console.log(" Realtime AI: Seller response auto-approved:",e)):s.requiresHumanReview?(await ot(Ce(oe,"sellerSubmissions",e),{status:"pending",aiApproval:{approved:!1,confidence:s.confidence,requiresReview:!0,timestamp:Fe(),analysis:s.aiAnalysis,processingTime:a},updatedAt:Fe()}),await kn.logResponseActivity(e,"flagged",s.confidence,s.reason,s.aiAnalysis),l="flagged",console.log(" Realtime AI: Seller response flagged for review:",e)):(await ot(Ce(oe,"sellerSubmissions",e),{status:"rejected",updatedAt:Fe(),aiApproval:{approved:!1,confidence:s.confidence,timestamp:Fe(),analysis:s.aiAnalysis,processingTime:a}}),await kn.logResponseActivity(e,"rejected",s.confidence,s.reason,s.aiAnalysis),l="rejected",console.log(" Realtime AI: Seller response auto-rejected:",e)),{success:o,action:l,confidence:s.confidence,reason:s.reason,processingTime:a}}catch(s){return console.error(" Realtime AI: Error processing seller response:",e,s),{success:!1,action:"flagged",confidence:0,reason:"AI processing failed - requires manual review",processingTime:Date.now()-n}}finally{this.processingQueue.delete(`response-${e}`)}}getProcessingStatus(){return{isAIModeEnabled:this.isAIModeEnabled,processingQueue:Array.from(this.processingQueue),queueSize:this.processingQueue.size}}}const Lu=new Mle;Lu.setAIMode(!0);const $le=1,Lle=1e6;let E2=0;function Fle(){return E2=(E2+1)%Number.MAX_SAFE_INTEGER,E2.toString()}const P2=new Map,W5=t=>{if(P2.has(t))return;const e=setTimeout(()=>{P2.delete(t),ng({type:"REMOVE_TOAST",toastId:t})},Lle);P2.set(t,e)},Vle=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,$le)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?W5(r):t.toasts.forEach(n=>{W5(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},_v=[];let Av={toasts:[]};function ng(t){Av=Vle(Av,t),_v.forEach(e=>{e(Av)})}function le({...t}){const e=Fle(),r=s=>ng({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>ng({type:"DISMISS_TOAST",toastId:e});return ng({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function Ble(){const[t,e]=g.useState(Av);return g.useEffect(()=>(_v.push(e),()=>{const r=_v.indexOf(e);r>-1&&_v.splice(r,1)}),[t]),{...t,toast:le,dismiss:r=>ng({type:"DISMISS_TOAST",toastId:r})}}function Me(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ule(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function H1(...t){return e=>t.forEach(r=>Ule(r,e))}function Tt(...t){return g.useCallback(H1(...t),t)}function qle(t,e=[]){let r=[];function n(a,o){const l=g.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,v=g.useMemo(()=>x,Object.values(x));return i.jsx(p.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[t][c])||l,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,zle(s,...e)]}function zle(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Zo=g.forwardRef((t,e)=>{const{children:r,...n}=t,s=g.Children.toArray(r),a=s.find(Wle);if(a){const o=a.props.children,l=s.map(c=>c===a?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:c);return i.jsx(lP,{...n,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,l):null})}return i.jsx(lP,{...n,ref:e,children:r})});Zo.displayName="Slot";var lP=g.forwardRef((t,e)=>{const{children:r,...n}=t;if(g.isValidElement(r)){const s=Gle(r);return g.cloneElement(r,{...Hle(n,r.props),ref:e?H1(e,s):s})}return g.Children.count(r)>1?g.Children.only(null):null});lP.displayName="SlotClone";var kU=({children:t})=>i.jsx(i.Fragment,{children:t});function Wle(t){return g.isValidElement(t)&&t.type===kU}function Hle(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function Gle(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function G1(t){const e=t+"CollectionProvider",[r,n]=qle(e),[s,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:p}=m,v=V.useRef(null),w=V.useRef(new Map).current;return i.jsx(s,{scope:x,itemMap:w,collectionRef:v,children:p})};o.displayName=e;const l=t+"CollectionSlot",c=V.forwardRef((m,x)=>{const{scope:p,children:v}=m,w=a(l,p),b=Tt(x,w.collectionRef);return i.jsx(Zo,{ref:b,children:v})});c.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=V.forwardRef((m,x)=>{const{scope:p,children:v,...w}=m,b=V.useRef(null),j=Tt(x,b),N=a(u,p);return V.useEffect(()=>(N.itemMap.set(b,{ref:b,...w}),()=>void N.itemMap.delete(b))),i.jsx(Zo,{[d]:"",ref:j,children:v})});h.displayName=u;function f(m){const x=a(t+"CollectionConsumer",m);return V.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((N,E)=>w.indexOf(N.ref.current)-w.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,n]}function Kle(t,e){const r=g.createContext(e),n=a=>{const{children:o,...l}=a,c=g.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(a){const o=g.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,s]}function Sa(t,e=[]){let r=[];function n(a,o){const l=g.createContext(o),c=r.length;r=[...r,o];const u=h=>{var w;const{scope:f,children:m,...x}=h,p=((w=f==null?void 0:f[t])==null?void 0:w[c])||l,v=g.useMemo(()=>x,Object.values(x));return i.jsx(p.Provider,{value:v,children:m})};u.displayName=a+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[t])==null?void 0:p[c])||l,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Yle(s,...e)]}function Yle(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Qle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],et=Qle.reduce((t,e)=>{const r=g.forwardRef((n,s)=>{const{asChild:a,...o}=n,l=a?Zo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $C(t,e){t&&Ic.flushSync(()=>t.dispatchEvent(e))}function Fr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Xle(t,e=globalThis==null?void 0:globalThis.document){const r=Fr(t);g.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Jle="DismissableLayer",cP="dismissableLayer.update",Zle="dismissableLayer.pointerDownOutside",ece="dismissableLayer.focusOutside",H5,IU=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vd=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=g.useContext(IU),[d,h]=g.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),x=Tt(e,P=>h(P)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=p.indexOf(v),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=w,E=rce(P=>{const S=P.target,A=[...u.branches].some(T=>T.contains(S));!N||A||(s==null||s(P),o==null||o(P),P.defaultPrevented||l==null||l())},f),C=nce(P=>{const S=P.target;[...u.branches].some(T=>T.contains(S))||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},f);return Xle(P=>{b===u.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},f),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(H5=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),G5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=H5)}},[d,f,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),G5())},[d,u]),g.useEffect(()=>{const P=()=>m({});return document.addEventListener(cP,P),()=>document.removeEventListener(cP,P)},[]),i.jsx(et.div,{...c,ref:x,style:{pointerEvents:j?N?"auto":"none":void 0,...t.style},onFocusCapture:Me(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Me(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Me(t.onPointerDownCapture,E.onPointerDownCapture)})});vd.displayName=Jle;var tce="DismissableLayerBranch",RU=g.forwardRef((t,e)=>{const r=g.useContext(IU),n=g.useRef(null),s=Tt(e,n);return g.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(et.div,{...t,ref:s})});RU.displayName=tce;function rce(t,e=globalThis==null?void 0:globalThis.document){const r=Fr(t),n=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){OU(Zle,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function nce(t,e=globalThis==null?void 0:globalThis.document){const r=Fr(t),n=g.useRef(!1);return g.useEffect(()=>{const s=a=>{a.target&&!n.current&&OU(ece,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function G5(){const t=new CustomEvent(cP);document.dispatchEvent(t)}function OU(t,e,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?$C(s,a):s.dispatchEvent(a)}var sce=vd,ice=RU,Yn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},ace="Portal",fm=g.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,a]=g.useState(!1);Yn(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?W8.createPortal(i.jsx(et.div,{...n,ref:e}),o):null});fm.displayName=ace;function oce(t,e){return g.useReducer((r,n)=>e[r][n]??r,t)}var Fn=t=>{const{present:e,children:r}=t,n=lce(e),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),a=Tt(n.ref,cce(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:a}):null};Fn.displayName="Presence";function lce(t){const[e,r]=g.useState(),n=g.useRef({}),s=g.useRef(t),a=g.useRef("none"),o=t?"mounted":"unmounted",[l,c]=oce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=I0(n.current);a.current=l==="mounted"?u:"none"},[l]),Yn(()=>{const u=n.current,d=s.current;if(d!==t){const f=a.current,m=I0(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Yn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const p=I0(n.current).includes(m.animationName);if(m.target===e&&p&&(c("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=m=>{m.target===e&&(a.current=I0(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function I0(t){return(t==null?void 0:t.animationName)||"none"}function cce(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function io({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=uce({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,l=Fr(r),c=g.useCallback(u=>{if(a){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else s(u)},[a,t,s,l]);return[o,c]}function uce({defaultProp:t,onChange:e}){const r=g.useState(t),[n]=r,s=g.useRef(n),a=Fr(e);return g.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var dce="VisuallyHidden",dy=g.forwardRef((t,e)=>i.jsx(et.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));dy.displayName=dce;var hce=dy,LC="ToastProvider",[FC,fce,mce]=G1("Toast"),[DU,WWe]=Sa("Toast",[mce]),[pce,K1]=DU(LC),MU=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=t,[l,c]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),f=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${LC}\`. Expected non-empty \`string\`.`),i.jsx(FC.Provider,{scope:e,children:i.jsx(pce,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};MU.displayName=LC;var $U="ToastViewport",gce=["F8"],uP="toast.viewportPause",dP="toast.viewportResume",LU=g.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=gce,label:s="Notifications ({hotkey})",...a}=t,o=K1($U,r),l=fce(r),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=Tt(e,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;g.useEffect(()=>{const v=w=>{var j;n.length!==0&&n.every(N=>w[N]||w.code===N)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),g.useEffect(()=>{const v=c.current,w=h.current;if(x&&v&&w){const b=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(uP);w.dispatchEvent(C),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(dP);w.dispatchEvent(C),o.isClosePausedRef.current=!1}},N=C=>{!v.contains(C.relatedTarget)&&j()},E=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",b),v.addEventListener("focusout",N),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",E),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[x,o.isClosePausedRef]);const p=g.useCallback(({tabbingDirection:v})=>{const b=l().map(j=>{const N=j.ref.current,E=[N,...Tce(N)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return g.useEffect(()=>{const v=h.current;if(v){const w=b=>{var E,C,P;const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const S=document.activeElement,A=b.shiftKey;if(b.target===v&&A){(E=u.current)==null||E.focus();return}const _=p({tabbingDirection:A?"backwards":"forwards"}),I=_.findIndex(M=>M===S);_2(_.slice(I+1))?b.preventDefault():A?(C=u.current)==null||C.focus():(P=d.current)==null||P.focus()}};return v.addEventListener("keydown",w),()=>v.removeEventListener("keydown",w)}},[l,p]),i.jsxs(ice,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&i.jsx(hP,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});_2(v)}}),i.jsx(FC.Slot,{scope:r,children:i.jsx(et.ol,{tabIndex:-1,...a,ref:f})}),x&&i.jsx(hP,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});_2(v)}})]})});LU.displayName=$U;var FU="ToastFocusProxy",hP=g.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,a=K1(FU,r);return i.jsx(dy,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});hP.displayName=FU;var Y1="Toast",xce="toast.swipeStart",yce="toast.swipeMove",vce="toast.swipeCancel",bce="toast.swipeEnd",VU=g.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=t,[l=!0,c]=io({prop:n,defaultProp:s,onChange:a});return i.jsx(Fn,{present:r||l,children:i.jsx(Nce,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Fr(t.onPause),onResume:Fr(t.onResume),onSwipeStart:Me(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Me(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});VU.displayName=Y1;var[wce,jce]=DU(Y1,{onClose(){}}),Nce=g.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...x}=t,p=K1(Y1,r),[v,w]=g.useState(null),b=Tt(e,M=>w(M)),j=g.useRef(null),N=g.useRef(null),E=s||p.duration,C=g.useRef(0),P=g.useRef(E),S=g.useRef(0),{onToastAdd:A,onToastRemove:T}=p,R=Fr(()=>{var z;(v==null?void 0:v.contains(document.activeElement))&&((z=p.viewport)==null||z.focus()),o()}),_=g.useCallback(M=>{!M||M===1/0||(window.clearTimeout(S.current),C.current=new Date().getTime(),S.current=window.setTimeout(R,M))},[R]);g.useEffect(()=>{const M=p.viewport;if(M){const z=()=>{_(P.current),u==null||u()},W=()=>{const B=new Date().getTime()-C.current;P.current=P.current-B,window.clearTimeout(S.current),c==null||c()};return M.addEventListener(uP,W),M.addEventListener(dP,z),()=>{M.removeEventListener(uP,W),M.removeEventListener(dP,z)}}},[p.viewport,E,c,u,_]),g.useEffect(()=>{a&&!p.isClosePausedRef.current&&_(E)},[a,E,p.isClosePausedRef,_]),g.useEffect(()=>(A(),()=>T()),[A,T]);const I=g.useMemo(()=>v?GU(v):null,[v]);return p.viewport?i.jsxs(i.Fragment,{children:[I&&i.jsx(Sce,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),i.jsx(wce,{scope:r,onClose:R,children:Ic.createPortal(i.jsx(FC.ItemSlot,{scope:r,children:i.jsx(sce,{asChild:!0,onEscapeKeyDown:Me(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||R(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Me(t.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Me(t.onPointerDown,M=>{M.button===0&&(j.current={x:M.clientX,y:M.clientY})}),onPointerMove:Me(t.onPointerMove,M=>{if(!j.current)return;const z=M.clientX-j.current.x,W=M.clientY-j.current.y,B=!!N.current,$=["left","right"].includes(p.swipeDirection),U=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Y=$?U(0,z):0,K=$?0:U(0,W),X=M.pointerType==="touch"?10:2,he={x:Y,y:K},D={originalEvent:M,delta:he};B?(N.current=he,R0(yce,h,D,{discrete:!1})):K5(he,p.swipeDirection,X)?(N.current=he,R0(xce,d,D,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(z)>X||Math.abs(W)>X)&&(j.current=null)}),onPointerUp:Me(t.onPointerUp,M=>{const z=N.current,W=M.target;if(W.hasPointerCapture(M.pointerId)&&W.releasePointerCapture(M.pointerId),N.current=null,j.current=null,z){const B=M.currentTarget,$={originalEvent:M,delta:z};K5(z,p.swipeDirection,p.swipeThreshold)?R0(bce,m,$,{discrete:!0}):R0(vce,f,$,{discrete:!0}),B.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Sce=t=>{const{__scopeToast:e,children:r,...n}=t,s=K1(Y1,e),[a,o]=g.useState(!1),[l,c]=g.useState(!1);return _ce(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(fm,{asChild:!0,children:i.jsx(dy,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},Ece="ToastTitle",BU=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(et.div,{...n,ref:e})});BU.displayName=Ece;var Pce="ToastDescription",UU=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(et.div,{...n,ref:e})});UU.displayName=Pce;var qU="ToastAction",zU=g.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(HU,{altText:r,asChild:!0,children:i.jsx(VC,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qU}\`. Expected non-empty \`string\`.`),null)});zU.displayName=qU;var WU="ToastClose",VC=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=jce(WU,r);return i.jsx(HU,{asChild:!0,children:i.jsx(et.button,{type:"button",...n,ref:e,onClick:Me(t.onClick,s.onClose)})})});VC.displayName=WU;var HU=g.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return i.jsx(et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function GU(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Ace(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...GU(n))}}),e}function R0(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?$C(s,a):s.dispatchEvent(a)}var K5=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),a=n>s;return e==="left"||e==="right"?a&&n>r:!a&&s>r};function _ce(t=()=>{}){const e=Fr(t);Yn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Ace(t){return t.nodeType===t.ELEMENT_NODE}function Tce(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function _2(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Cce=MU,KU=LU,YU=VU,QU=BU,XU=UU,JU=zU,ZU=VC;function e7(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=e7(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Et(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=e7(t))&&(n&&(n+=" "),n+=e);return n}const Y5=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Q5=Et,mm=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Q5(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=e,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const f=Y5(d)||Y5(h);return s[u][f]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(x=>{let[p,v]=x;return Array.isArray(v)?v.includes({...a,...l}[p]):{...a,...l}[p]===v})?[...u,h,f]:u},[]);return Q5(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),t7=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ice={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...Ice,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:t7("lucide",s),...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const r=g.forwardRef(({className:n,...s},a)=>g.createElement(Rce,{ref:a,iconNode:e,className:t7(`lucide-${kce(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=$e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=$e("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=$e("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=$e("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=$e("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=$e("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=$e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=$e("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=$e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=$e("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=$e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=$e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=$e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=$e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=$e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=$e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=$e("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=$e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=$e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=$e("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=$e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=$e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=$e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=$e("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=$e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=$e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=$e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=$e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=$e("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=$e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=$e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=$e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=$e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=$e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=$e("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=$e("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=$e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=$e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=$e("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=$e("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=$e("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=$e("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=$e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=$e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=$e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=$e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=$e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=$e("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=$e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=$e("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=$e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=$e("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=$e("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=$e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=$e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=$e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=$e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=$e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=$e("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=$e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),WC="-",due=t=>{const e=fue(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(WC);return l[0]===""&&l.length!==1&&l.shift(),i7(l,e)||hue(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},i7=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?i7(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(WC);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},nM=/^\[(.+)\]$/,hue=t=>{if(nM.test(t)){const e=nM.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},fue=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return pue(Object.entries(t.classGroups),r).forEach(([a,o])=>{gP(o,n,a,e)}),n},gP=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:sM(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(mue(s)){gP(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{gP(o,sM(e,a),r,n)})})},sM=(t,e)=>{let r=t;return e.split(WC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},mue=t=>t.isThemeGetter,pue=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,s]}):t,gue=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},a7="!",xue=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let w=l[v];if(u===0){if(w===s&&(n||l.slice(v,v+a)===e)){c.push(l.slice(d,v)),d=v+a;continue}if(w==="/"){h=v;continue}}w==="["?u++:w==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(a7),x=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},yue=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},vue=t=>({cache:gue(t.cacheSize),parseClassName:xue(t),...due(t)}),bue=/\s+/,wue=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],o=t.trim().split(bue);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let x=!!m,p=n(x?f.substring(0,m):f);if(!p){if(!x){l=u+(l.length>0?" "+l:l);continue}if(p=n(f),!p){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=yue(d).join(":"),w=h?v+a7:v,b=w+p;if(a.includes(b))continue;a.push(b);const j=s(p,x);for(let N=0;N<j.length;++N){const E=j[N];a.push(w+E)}l=u+(l.length>0?" "+l:l)}return l};function jue(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=o7(e))&&(n&&(n+=" "),n+=r);return n}const o7=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=o7(t[n]))&&(r&&(r+=" "),r+=e);return r};function Nue(t,...e){let r,n,s,a=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=vue(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=wue(c,r);return s(c,d),d}return function(){return a(jue.apply(null,arguments))}}const jr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},l7=/^\[(?:([a-z-]+):)?(.+)\]$/i,Sue=/^\d+\/\d+$/,Eue=new Set(["px","full","screen"]),Pue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_ue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Aue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Tue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vo=t=>Ah(t)||Eue.has(t)||Sue.test(t),vl=t=>pm(t,"length",Lue),Ah=t=>!!t&&!Number.isNaN(Number(t)),R2=t=>pm(t,"number",Ah),lp=t=>!!t&&Number.isInteger(Number(t)),kue=t=>t.endsWith("%")&&Ah(t.slice(0,-1)),Pt=t=>l7.test(t),bl=t=>Pue.test(t),Iue=new Set(["length","size","percentage"]),Rue=t=>pm(t,Iue,c7),Oue=t=>pm(t,"position",c7),Due=new Set(["image","url"]),Mue=t=>pm(t,Due,Vue),$ue=t=>pm(t,"",Fue),cp=()=>!0,pm=(t,e,r)=>{const n=l7.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Lue=t=>_ue.test(t)&&!Aue.test(t),c7=()=>!1,Fue=t=>Tue.test(t),Vue=t=>Cue.test(t),Bue=()=>{const t=jr("colors"),e=jr("spacing"),r=jr("blur"),n=jr("brightness"),s=jr("borderColor"),a=jr("borderRadius"),o=jr("borderSpacing"),l=jr("borderWidth"),c=jr("contrast"),u=jr("grayscale"),d=jr("hueRotate"),h=jr("invert"),f=jr("gap"),m=jr("gradientColorStops"),x=jr("gradientColorStopPositions"),p=jr("inset"),v=jr("margin"),w=jr("opacity"),b=jr("padding"),j=jr("saturate"),N=jr("scale"),E=jr("sepia"),C=jr("skew"),P=jr("space"),S=jr("translate"),A=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Pt,e],_=()=>[Pt,e],I=()=>["",vo,vl],M=()=>["auto",Ah,Pt],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Pt],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Ah,Pt];return{cacheSize:500,separator:":",theme:{colors:[cp],spacing:[vo,vl],blur:["none","",bl,Pt],brightness:K(),borderColor:[t],borderRadius:["none","","full",bl,Pt],borderSpacing:_(),borderWidth:I(),contrast:K(),grayscale:U(),hueRotate:K(),invert:U(),gap:_(),gradientColorStops:[t],gradientColorStopPositions:[kue,vl],inset:R(),margin:R(),opacity:K(),padding:_(),saturate:K(),scale:K(),sepia:U(),skew:K(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",Pt]}],container:["container"],columns:[{columns:[bl]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Pt]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lp,Pt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pt]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",lp,Pt]}],"grid-cols":[{"grid-cols":[cp]}],"col-start-end":[{col:["auto",{span:["full",lp,Pt]},Pt]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[cp]}],"row-start-end":[{row:["auto",{span:[lp,Pt]},Pt]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pt,e]}],"min-w":[{"min-w":[Pt,e,"min","max","fit"]}],"max-w":[{"max-w":[Pt,e,"none","full","min","max","fit","prose",{screen:[bl]},bl]}],h:[{h:[Pt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bl,vl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",R2]}],"font-family":[{font:[cp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pt]}],"line-clamp":[{"line-clamp":["none",Ah,R2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vo,Pt]}],"list-image":[{"list-image":["none",Pt]}],"list-style-type":[{list:["none","disc","decimal",Pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vo,vl]}],"underline-offset":[{"underline-offset":["auto",vo,Pt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),Oue]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Rue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Mue]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[vo,Pt]}],"outline-w":[{outline:[vo,vl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[vo,vl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bl,$ue]}],"shadow-color":[{shadow:[cp]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bl,Pt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pt]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Pt]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[lp,Pt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vo,vl,R2]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Uue=Nue(Bue);function He(...t){return Uue(Et(t))}function ag(t){if(!t)return"0";const e=t.toString().replace(/,/g,"");if(isNaN(Number(e)))return t.toString();const r=e.split(".");let n=r[0];const s=r[1]?"."+r[1]:"";let a=n.substring(n.length-3);const o=n.substring(0,n.length-3);return o!==""&&(a=","+a),o.replace(/\B(?=(\d{2})+(?!\d))/g,",")+a+s}const que=Cce,u7=g.forwardRef(({className:t,...e},r)=>i.jsx(KU,{ref:r,className:He("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));u7.displayName=KU.displayName;const zue=mm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border p-4 pr-8 shadow-2xl transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border-gray-700 bg-gray-800 text-white shadow-xl",destructive:"destructive group border-red-700 bg-red-900 text-red-50"}},defaultVariants:{variant:"default"}}),d7=g.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(YU,{ref:n,className:He(zue({variant:e}),t),...r}));d7.displayName=YU.displayName;const Wue=g.forwardRef(({className:t,...e},r)=>i.jsx(JU,{ref:r,className:He("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-gray-600 bg-gray-700 px-3 text-sm font-medium text-white ring-offset-background transition-colors hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-red-300/40 group-[.destructive]:hover:border-red-600/30 group-[.destructive]:hover:bg-red-700 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400",t),...e}));Wue.displayName=JU.displayName;const h7=g.forwardRef(({className:t,...e},r)=>i.jsx(ZU,{ref:r,className:He("absolute right-2 top-2 rounded-md p-1 text-white/50 opacity-0 transition-opacity hover:text-white focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(rn,{className:"h-4 w-4"})}));h7.displayName=ZU.displayName;const f7=g.forwardRef(({className:t,...e},r)=>i.jsx(QU,{ref:r,className:He("text-sm font-semibold text-white",t),...e}));f7.displayName=QU.displayName;const m7=g.forwardRef(({className:t,...e},r)=>i.jsx(XU,{ref:r,className:He("text-sm text-gray-200",t),...e}));m7.displayName=XU.displayName;function Hue(){const{toasts:t}=Ble();return i.jsxs(que,{children:[t.map(function({id:e,title:r,description:n,action:s,...a}){return i.jsxs(d7,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(f7,{children:r}),n&&i.jsx(m7,{children:n})]}),s,i.jsx(h7,{})]},e)}),i.jsx(u7,{})]})}var kb=["light","dark"],HC="(prefers-color-scheme: dark)",Gue=typeof window>"u",GC=g.createContext(void 0),Kue={setTheme:t=>{},themes:[]},p7=()=>{var t;return(t=g.useContext(GC))!=null?t:Kue},Yue=t=>g.useContext(GC)?t.children:g.createElement(Xue,{...t}),Que=["light","dark"],Xue=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:a=Que,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[h,f]=g.useState(()=>iM(s,o)),[m,x]=g.useState(()=>iM(s)),p=c?Object.values(c):a,v=g.useCallback(N=>{let E=N;if(!E)return;N==="system"&&r&&(E=aM());let C=c?c[E]:E,P=e?Zue():null,S=document.documentElement;if(l==="class"?(S.classList.remove(...p),C&&S.classList.add(C)):C?S.setAttribute(l,C):S.removeAttribute(l),n){let A=kb.includes(o)?o:null,T=kb.includes(E)?E:A;S.style.colorScheme=T}P==null||P()},[]),w=g.useCallback(N=>{let E=typeof N=="function"?N(N):N;f(E);try{localStorage.setItem(s,E)}catch{}},[t]),b=g.useCallback(N=>{let E=aM(N);x(E),h==="system"&&r&&!t&&v("system")},[h,t]);g.useEffect(()=>{let N=window.matchMedia(HC);return N.addListener(b),b(N),()=>N.removeListener(b)},[b]),g.useEffect(()=>{let N=E=>{if(E.key!==s)return;let C=E.newValue||o;w(C)};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[w]),g.useEffect(()=>{v(t??h)},[t,h]);let j=g.useMemo(()=>({theme:h,setTheme:w,forcedTheme:t,resolvedTheme:h==="system"?m:h,themes:r?[...a,"system"]:a,systemTheme:r?m:void 0}),[h,w,t,m,r,a]);return g.createElement(GC.Provider,{value:j},g.createElement(Jue,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:s,themes:a,defaultTheme:o,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},Jue=g.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?kb.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,p=!1,v=!0)=>{let w=o?o[x]:x,b=p?x+"|| ''":`'${w}'`,j="";return s&&v&&!p&&kb.includes(x)&&(j+=`d.style.colorScheme = '${x}';`),r==="class"?p||w?j+=`c.add(${b})`:j+="null":w&&(j+=`d[s](n,${b})`),j},m=t?`!function(){${d}${f(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${HC}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${h}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),iM=(t,e)=>{if(Gue)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},Zue=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},aM=t=>(t||(t=window.matchMedia(HC)),t.matches?"dark":"light"),ede=t=>{switch(t){case"success":return nde;case"info":return ide;case"warning":return sde;case"error":return ade;default:return null}},tde=Array(12).fill(0),rde=({visible:t})=>V.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},V.createElement("div",{className:"sonner-spinner"},tde.map((e,r)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),nde=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sde=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ide=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ade=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ode=()=>{let[t,e]=V.useState(document.hidden);return V.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},xP=1,lde=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:xP++,a=this.toasts.find(l=>l.id===s),o=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:r}),{...l,...t,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0;return n.then(async a=>{if(ude(a)&&!a.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:r,type:"error",message:o,description:l})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(a):e.success,l=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async a=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(a):e.error,l=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=e.finally)==null||a.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||xP++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},ei=new lde,cde=(t,e)=>{let r=(e==null?void 0:e.id)||xP++;return ei.addToast({title:t,...e,id:r}),r},ude=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",dde=cde,hde=()=>ei.toasts;Object.assign(dde,{success:ei.success,info:ei.info,warning:ei.warning,error:ei.error,custom:ei.custom,message:ei.message,promise:ei.promise,dismiss:ei.dismiss,loading:ei.loading},{getHistory:hde});function fde(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}fde(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function O0(t){return t.label!==void 0}var mde=3,pde="32px",gde=4e3,xde=356,yde=14,vde=20,bde=200;function wde(...t){return t.filter(Boolean).join(" ")}var jde=t=>{var e,r,n,s,a,o,l,c,u,d;let{invert:h,toast:f,unstyled:m,interacting:x,setHeights:p,visibleToasts:v,heights:w,index:b,toasts:j,expanded:N,removeToast:E,defaultRichColors:C,closeButton:P,style:S,cancelButtonStyle:A,actionButtonStyle:T,className:R="",descriptionClassName:_="",duration:I,position:M,gap:z,loadingIcon:W,expandByDefault:B,classNames:$,icons:U,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:K,cn:X}=t,[he,D]=V.useState(!1),[H,se]=V.useState(!1),[Q,Ne]=V.useState(!1),[J,me]=V.useState(!1),[L,q]=V.useState(0),[ee,te]=V.useState(0),ce=V.useRef(null),ge=V.useRef(null),pe=b===0,ie=b+1<=v,ue=f.type,de=f.dismissible!==!1,Te=f.className||"",Xe=f.descriptionClassName||"",It=V.useMemo(()=>w.findIndex(Ae=>Ae.toastId===f.id)||0,[w,f.id]),it=V.useMemo(()=>{var Ae;return(Ae=f.closeButton)!=null?Ae:P},[f.closeButton,P]),pt=V.useMemo(()=>f.duration||I||gde,[f.duration,I]),at=V.useRef(0),Rt=V.useRef(0),_r=V.useRef(0),Xt=V.useRef(null),[fs,rr]=M.split("-"),hr=V.useMemo(()=>w.reduce((Ae,ze,ke)=>ke>=It?Ae:Ae+ze.height,0),[w,It]),ms=ode(),Is=f.invert||h,ne=ue==="loading";Rt.current=V.useMemo(()=>It*z+hr,[It,hr]),V.useEffect(()=>{D(!0)},[]),V.useLayoutEffect(()=>{if(!he)return;let Ae=ge.current,ze=Ae.style.height;Ae.style.height="auto";let ke=Ae.getBoundingClientRect().height;Ae.style.height=ze,te(ke),p(wt=>wt.find(Lt=>Lt.toastId===f.id)?wt.map(Lt=>Lt.toastId===f.id?{...Lt,height:ke}:Lt):[{toastId:f.id,height:ke,position:f.position},...wt])},[he,f.title,f.description,p,f.id]);let Z=V.useCallback(()=>{se(!0),q(Rt.current),p(Ae=>Ae.filter(ze=>ze.toastId!==f.id)),setTimeout(()=>{E(f)},bde)},[f,E,p,Rt]);V.useEffect(()=>{if(f.promise&&ue==="loading"||f.duration===1/0||f.type==="loading")return;let Ae,ze=pt;return N||x||K&&ms?(()=>{if(_r.current<at.current){let ke=new Date().getTime()-at.current;ze=ze-ke}_r.current=new Date().getTime()})():ze!==1/0&&(at.current=new Date().getTime(),Ae=setTimeout(()=>{var ke;(ke=f.onAutoClose)==null||ke.call(f,f),Z()},ze)),()=>clearTimeout(Ae)},[N,x,B,f,pt,Z,f.promise,ue,K,ms]),V.useEffect(()=>{let Ae=ge.current;if(Ae){let ze=Ae.getBoundingClientRect().height;return te(ze),p(ke=>[{toastId:f.id,height:ze,position:f.position},...ke]),()=>p(ke=>ke.filter(wt=>wt.toastId!==f.id))}},[p,f.id]),V.useEffect(()=>{f.delete&&Z()},[Z,f.delete]);function Re(){return U!=null&&U.loading?V.createElement("div",{className:"sonner-loader","data-visible":ue==="loading"},U.loading):W?V.createElement("div",{className:"sonner-loader","data-visible":ue==="loading"},W):V.createElement(rde,{visible:ue==="loading"})}return V.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ge,className:X(R,Te,$==null?void 0:$.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[ue],(r=f==null?void 0:f.classNames)==null?void 0:r[ue]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:C,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":he,"data-promise":!!f.promise,"data-removed":H,"data-visible":ie,"data-y-position":fs,"data-x-position":rr,"data-index":b,"data-front":pe,"data-swiping":Q,"data-dismissible":de,"data-type":ue,"data-invert":Is,"data-swipe-out":J,"data-expanded":!!(N||B&&he),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${H?L:Rt.current}px`,"--initial-height":B?"auto":`${ee}px`,...S,...f.style},onPointerDown:Ae=>{ne||!de||(ce.current=new Date,q(Rt.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(Ne(!0),Xt.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,ze,ke,wt;if(J||!de)return;Xt.current=null;let Lt=Number(((Ae=ge.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ar=new Date().getTime()-((ze=ce.current)==null?void 0:ze.getTime()),nr=Math.abs(Lt)/ar;if(Math.abs(Lt)>=vde||nr>.11){q(Rt.current),(ke=f.onDismiss)==null||ke.call(f,f),Z(),me(!0);return}(wt=ge.current)==null||wt.style.setProperty("--swipe-amount","0px"),Ne(!1)},onPointerMove:Ae=>{var ze;if(!Xt.current||!de)return;let ke=Ae.clientY-Xt.current.y,wt=Ae.clientX-Xt.current.x,Lt=(fs==="top"?Math.min:Math.max)(0,ke),ar=Ae.pointerType==="touch"?10:2;Math.abs(Lt)>ar?(ze=ge.current)==null||ze.style.setProperty("--swipe-amount",`${ke}px`):Math.abs(wt)>ar&&(Xt.current=null)}},it&&!f.jsx?V.createElement("button",{"aria-label":Y,"data-disabled":ne,"data-close-button":!0,onClick:ne||!de?()=>{}:()=>{var Ae;Z(),(Ae=f.onDismiss)==null||Ae.call(f,f)},className:X($==null?void 0:$.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||V.isValidElement(f.title)?f.jsx||f.title:V.createElement(V.Fragment,null,ue||f.icon||f.promise?V.createElement("div",{"data-icon":"",className:X($==null?void 0:$.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Re():null,f.type!=="loading"?f.icon||(U==null?void 0:U[ue])||ede(ue):null):null,V.createElement("div",{"data-content":"",className:X($==null?void 0:$.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},V.createElement("div",{"data-title":"",className:X($==null?void 0:$.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?V.createElement("div",{"data-description":"",className:X(_,Xe,$==null?void 0:$.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),V.isValidElement(f.cancel)?f.cancel:f.cancel&&O0(f.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||A,onClick:Ae=>{var ze,ke;O0(f.cancel)&&de&&((ke=(ze=f.cancel).onClick)==null||ke.call(ze,Ae),Z())},className:X($==null?void 0:$.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,V.isValidElement(f.action)?f.action:f.action&&O0(f.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:Ae=>{var ze,ke;O0(f.action)&&(Ae.defaultPrevented||((ke=(ze=f.action).onClick)==null||ke.call(ze,Ae),Z()))},className:X($==null?void 0:$.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function oM(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Nde=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=mde,toastOptions:m,dir:x=oM(),gap:p=yde,loadingIcon:v,icons:w,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:j,cn:N=wde}=t,[E,C]=V.useState([]),P=V.useMemo(()=>Array.from(new Set([r].concat(E.filter(K=>K.position).map(K=>K.position)))),[E,r]),[S,A]=V.useState([]),[T,R]=V.useState(!1),[_,I]=V.useState(!1),[M,z]=V.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=V.useRef(null),B=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=V.useRef(null),U=V.useRef(!1),Y=V.useCallback(K=>{var X;(X=E.find(he=>he.id===K.id))!=null&&X.delete||ei.dismiss(K.id),C(he=>he.filter(({id:D})=>D!==K.id))},[E]);return V.useEffect(()=>ei.subscribe(K=>{if(K.dismiss){C(X=>X.map(he=>he.id===K.id?{...he,delete:!0}:he));return}setTimeout(()=>{W8.flushSync(()=>{C(X=>{let he=X.findIndex(D=>D.id===K.id);return he!==-1?[...X.slice(0,he),{...X[he],...K},...X.slice(he+1)]:[K,...X]})})})}),[]),V.useEffect(()=>{if(c!=="system"){z(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{z(K?"dark":"light")})},[c]),V.useEffect(()=>{E.length<=1&&R(!1)},[E]),V.useEffect(()=>{let K=X=>{var he,D;n.every(H=>X[H]||X.code===H)&&(R(!0),(he=W.current)==null||he.focus()),X.code==="Escape"&&(document.activeElement===W.current||(D=W.current)!=null&&D.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[n]),V.useEffect(()=>{if(W.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,U.current=!1)}},[W.current]),E.length?V.createElement("section",{"aria-label":`${b} ${B}`,tabIndex:-1},P.map((K,X)=>{var he;let[D,H]=K.split("-");return V.createElement("ol",{key:K,dir:x==="auto"?oM():x,tabIndex:-1,ref:W,className:o,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":D,"data-x-position":H,style:{"--front-toast-height":`${((he=S[0])==null?void 0:he.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||pde,"--width":`${xde}px`,"--gap":`${p}px`,...h},onBlur:se=>{U.current&&!se.currentTarget.contains(se.relatedTarget)&&(U.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||U.current||(U.current=!0,$.current=se.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{_||R(!1)},onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},E.filter(se=>!se.position&&X===0||se.position===K).map((se,Q)=>{var Ne,J;return V.createElement(jde,{key:se.id,icons:w,index:Q,toast:se,defaultRichColors:u,duration:(Ne=m==null?void 0:m.duration)!=null?Ne:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(J=m==null?void 0:m.closeButton)!=null?J:a,interacting:_,position:K,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Y,toasts:E.filter(me=>me.position==se.position),heights:S.filter(me=>me.position==se.position),setHeights:A,expandByDefault:s,gap:p,loadingIcon:v,expanded:T,pauseWhenPageIsHidden:j,cn:N})}))})):null};const Sde=({...t})=>{const{theme:e="system"}=p7();return i.jsx(Nde,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Ede=UF.useId||(()=>{}),Pde=0;function ga(t){const[e,r]=g.useState(Ede());return Yn(()=>{r(n=>n??String(Pde++))},[t]),e?`radix-${e}`:""}const _de=["top","right","bottom","left"],Nc=Math.min,si=Math.max,Ib=Math.round,D0=Math.floor,Sc=t=>({x:t,y:t}),Ade={left:"right",right:"left",bottom:"top",top:"bottom"},Tde={start:"end",end:"start"};function yP(t,e,r){return si(t,Nc(e,r))}function el(t,e){return typeof t=="function"?t(e):t}function tl(t){return t.split("-")[0]}function gm(t){return t.split("-")[1]}function KC(t){return t==="x"?"y":"x"}function YC(t){return t==="y"?"height":"width"}function Ec(t){return["top","bottom"].includes(tl(t))?"y":"x"}function QC(t){return KC(Ec(t))}function Cde(t,e,r){r===void 0&&(r=!1);const n=gm(t),s=QC(t),a=YC(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Rb(o)),[o,Rb(o)]}function kde(t){const e=Rb(t);return[vP(t),e,vP(e)]}function vP(t){return t.replace(/start|end/g,e=>Tde[e])}function Ide(t,e,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?a:o;default:return[]}}function Rde(t,e,r,n){const s=gm(t);let a=Ide(tl(t),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),e&&(a=a.concat(a.map(vP)))),a}function Rb(t){return t.replace(/left|right|bottom|top/g,e=>Ade[e])}function Ode(t){return{top:0,right:0,bottom:0,left:0,...t}}function g7(t){return typeof t!="number"?Ode(t):{top:t,right:t,bottom:t,left:t}}function Ob(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function lM(t,e,r){let{reference:n,floating:s}=t;const a=Ec(e),o=QC(e),l=YC(o),c=tl(e),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(gm(e)){case"start":m[o]-=f*(r&&u?-1:1);break;case"end":m[o]+=f*(r&&u?-1:1);break}return m}const Dde=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=lM(u,n,c),f=n,m={},x=0;for(let p=0;p<l.length;p++){const{name:v,fn:w}=l[p],{x:b,y:j,data:N,reset:E}=await w({x:d,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=b??d,h=j??h,m={...m,[v]:{...m[v],...N}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:d,y:h}=lM(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function Qg(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=el(e,t),x=g7(m),v=l[f?h==="floating"?"reference":"floating":h],w=Ob(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},E=Ob(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(w.top-E.top+x.top)/N.y,bottom:(E.bottom-w.bottom+x.bottom)/N.y,left:(w.left-E.left+x.left)/N.x,right:(E.right-w.right+x.right)/N.x}}const Mde=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=el(t,e)||{};if(u==null)return{};const h=g7(d),f={x:r,y:n},m=QC(s),x=YC(m),p=await o.getDimensions(u),v=m==="y",w=v?"top":"left",b=v?"bottom":"right",j=v?"clientHeight":"clientWidth",N=a.reference[x]+a.reference[m]-f[m]-a.floating[x],E=f[m]-a.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=C?C[j]:0;(!P||!await(o.isElement==null?void 0:o.isElement(C)))&&(P=l.floating[j]||a.floating[x]);const S=N/2-E/2,A=P/2-p[x]/2-1,T=Nc(h[w],A),R=Nc(h[b],A),_=T,I=P-p[x]-R,M=P/2-p[x]/2+S,z=yP(_,M,I),W=!c.arrow&&gm(s)!=null&&M!==z&&a.reference[x]/2-(M<_?T:R)-p[x]/2<0,B=W?M<_?M-_:M-I:0;return{[m]:f[m]+B,data:{[m]:z,centerOffset:M-z-B,...W&&{alignmentOffset:B}},reset:W}}}),$de=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...v}=el(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=tl(s),b=Ec(l),j=tl(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=f||(j||!p?[Rb(l)]:kde(l)),C=x!=="none";!f&&C&&E.push(...Rde(l,p,x,N));const P=[l,...E],S=await Qg(e,v),A=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&A.push(S[w]),h){const M=Cde(s,o,N);A.push(S[M[0]],S[M[1]])}if(T=[...T,{placement:s,overflows:A}],!A.every(M=>M<=0)){var R,_;const M=(((R=a.flip)==null?void 0:R.index)||0)+1,z=P[M];if(z)return{data:{index:M,overflows:T},reset:{placement:z}};let W=(_=T.filter(B=>B.overflows[0]<=0).sort((B,$)=>B.overflows[1]-$.overflows[1])[0])==null?void 0:_.placement;if(!W)switch(m){case"bestFit":{var I;const B=(I=T.filter($=>{if(C){const U=Ec($.placement);return U===b||U==="y"}return!0}).map($=>[$.placement,$.overflows.filter(U=>U>0).reduce((U,Y)=>U+Y,0)]).sort(($,U)=>$[1]-U[1])[0])==null?void 0:I[0];B&&(W=B);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function cM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uM(t){return _de.some(e=>t[e]>=0)}const Lde=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=el(t,e);switch(n){case"referenceHidden":{const a=await Qg(e,{...s,elementContext:"reference"}),o=cM(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:uM(o)}}}case"escaped":{const a=await Qg(e,{...s,altBoundary:!0}),o=cM(a,r.floating);return{data:{escapedOffsets:o,escaped:uM(o)}}}default:return{}}}}};async function Fde(t,e){const{placement:r,platform:n,elements:s}=t,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=tl(r),l=gm(r),c=Ec(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,h=el(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const Vde=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=e,c=await Fde(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},Bde=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:w,y:b}=v;return{x:w,y:b}}},...c}=el(t,e),u={x:r,y:n},d=await Qg(e,c),h=Ec(tl(s)),f=KC(h);let m=u[f],x=u[h];if(a){const v=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=m+d[v],j=m-d[w];m=yP(b,m,j)}if(o){const v=h==="y"?"top":"left",w=h==="y"?"bottom":"right",b=x+d[v],j=x-d[w];x=yP(b,x,j)}const p=l.fn({...e,[f]:m,[h]:x});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[f]:a,[h]:o}}}}}},Ude=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=el(t,e),d={x:r,y:n},h=Ec(s),f=KC(h);let m=d[f],x=d[h];const p=el(l,e),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=f==="y"?"height":"width",N=a.reference[f]-a.floating[j]+v.mainAxis,E=a.reference[f]+a.reference[j]-v.mainAxis;m<N?m=N:m>E&&(m=E)}if(u){var w,b;const j=f==="y"?"width":"height",N=["top","left"].includes(tl(s)),E=a.reference[h]-a.floating[j]+(N&&((w=o.offset)==null?void 0:w[h])||0)+(N?0:v.crossAxis),C=a.reference[h]+a.reference[j]+(N?0:((b=o.offset)==null?void 0:b[h])||0)-(N?v.crossAxis:0);x<E?x=E:x>C&&(x=C)}return{[f]:m,[h]:x}}}},qde=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=el(t,e),d=await Qg(e,u),h=tl(s),f=gm(s),m=Ec(s)==="y",{width:x,height:p}=a.floating;let v,w;h==="top"||h==="bottom"?(v=h,w=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,v=f==="end"?"top":"bottom");const b=p-d.top-d.bottom,j=x-d.left-d.right,N=Nc(p-d[v],b),E=Nc(x-d[w],j),C=!e.middlewareData.shift;let P=N,S=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(S=j),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(P=b),C&&!f){const T=si(d.left,0),R=si(d.right,0),_=si(d.top,0),I=si(d.bottom,0);m?S=x-2*(T!==0||R!==0?T+R:si(d.left,d.right)):P=p-2*(_!==0||I!==0?_+I:si(d.top,d.bottom))}await c({...e,availableWidth:S,availableHeight:P});const A=await o.getDimensions(l.floating);return x!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function J1(){return typeof window<"u"}function xm(t){return x7(t)?(t.nodeName||"").toLowerCase():"#document"}function hi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ho(t){var e;return(e=(x7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function x7(t){return J1()?t instanceof Node||t instanceof hi(t).Node:!1}function wa(t){return J1()?t instanceof Element||t instanceof hi(t).Element:!1}function oo(t){return J1()?t instanceof HTMLElement||t instanceof hi(t).HTMLElement:!1}function dM(t){return!J1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hi(t).ShadowRoot}function hy(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=ja(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function zde(t){return["table","td","th"].includes(xm(t))}function Z1(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function XC(t){const e=JC(),r=wa(t)?ja(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Wde(t){let e=Pc(t);for(;oo(e)&&!gf(e);){if(XC(e))return e;if(Z1(e))return null;e=Pc(e)}return null}function JC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gf(t){return["html","body","#document"].includes(xm(t))}function ja(t){return hi(t).getComputedStyle(t)}function ej(t){return wa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pc(t){if(xm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dM(t)&&t.host||ho(t);return dM(e)?e.host:e}function y7(t){const e=Pc(t);return gf(e)?t.ownerDocument?t.ownerDocument.body:t.body:oo(e)&&hy(e)?e:y7(e)}function Xg(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=y7(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),o=hi(s);if(a){const l=bP(o);return e.concat(o,o.visualViewport||[],hy(s)?s:[],l&&r?Xg(l):[])}return e.concat(s,Xg(s,[],r))}function bP(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function v7(t){const e=ja(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=oo(t),a=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=Ib(r)!==a||Ib(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function ZC(t){return wa(t)?t:t.contextElement}function Th(t){const e=ZC(t);if(!oo(e))return Sc(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:a}=v7(e);let o=(a?Ib(r.width):r.width)/n,l=(a?Ib(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Hde=Sc(0);function b7(t){const e=hi(t);return!JC()||!e.visualViewport?Hde:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Gde(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==hi(t)?!1:e}function rd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=ZC(t);let o=Sc(1);e&&(n?wa(n)&&(o=Th(n)):o=Th(t));const l=Gde(a,r,n)?b7(a):Sc(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){const f=hi(a),m=n&&wa(n)?hi(n):n;let x=f,p=bP(x);for(;p&&n&&m!==x;){const v=Th(p),w=p.getBoundingClientRect(),b=ja(p),j=w.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,N=w.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=j,u+=N,x=hi(p),p=bP(x)}}return Ob({width:d,height:h,x:c,y:u})}function Kde(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const a=s==="fixed",o=ho(n),l=e?Z1(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Sc(1);const d=Sc(0),h=oo(n);if((h||!h&&!a)&&((xm(n)!=="body"||hy(o))&&(c=ej(n)),oo(n))){const f=rd(n);u=Th(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function Yde(t){return Array.from(t.getClientRects())}function wP(t,e){const r=ej(t).scrollLeft;return e?e.left+r:rd(ho(t)).left+r}function Qde(t){const e=ho(t),r=ej(t),n=t.ownerDocument.body,s=si(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=si(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+wP(t);const l=-r.scrollTop;return ja(n).direction==="rtl"&&(o+=si(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function Xde(t,e){const r=hi(t),n=ho(t),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=JC();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function Jde(t,e){const r=rd(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,a=oo(t)?Th(t):Sc(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function hM(t,e,r){let n;if(e==="viewport")n=Xde(t,r);else if(e==="document")n=Qde(ho(t));else if(wa(e))n=Jde(e,r);else{const s=b7(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return Ob(n)}function w7(t,e){const r=Pc(t);return r===e||!wa(r)||gf(r)?!1:ja(r).position==="fixed"||w7(r,e)}function Zde(t,e){const r=e.get(t);if(r)return r;let n=Xg(t,[],!1).filter(l=>wa(l)&&xm(l)!=="body"),s=null;const a=ja(t).position==="fixed";let o=a?Pc(t):t;for(;wa(o)&&!gf(o);){const l=ja(o),c=XC(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||hy(o)&&!c&&w7(t,o))?n=n.filter(d=>d!==o):s=l,o=Pc(o)}return e.set(t,n),n}function ehe(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?Z1(e)?[]:Zde(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=hM(e,d,s);return u.top=si(h.top,u.top),u.right=Nc(h.right,u.right),u.bottom=Nc(h.bottom,u.bottom),u.left=si(h.left,u.left),u},hM(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function the(t){const{width:e,height:r}=v7(t);return{width:e,height:r}}function rhe(t,e,r){const n=oo(e),s=ho(e),a=r==="fixed",o=rd(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Sc(0);if(n||!n&&!a)if((xm(e)!=="body"||hy(s))&&(l=ej(e)),n){const m=rd(e,!0,a,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=wP(s));let u=0,d=0;if(s&&!n&&!a){const m=s.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-wP(s,m)}const h=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:h,y:f,width:o.width,height:o.height}}function O2(t){return ja(t).position==="static"}function fM(t,e){if(!oo(t)||ja(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ho(t)===r&&(r=r.ownerDocument.body),r}function j7(t,e){const r=hi(t);if(Z1(t))return r;if(!oo(t)){let s=Pc(t);for(;s&&!gf(s);){if(wa(s)&&!O2(s))return s;s=Pc(s)}return r}let n=fM(t,e);for(;n&&zde(n)&&O2(n);)n=fM(n,e);return n&&gf(n)&&O2(n)&&!XC(n)?r:n||Wde(t)||r}const nhe=async function(t){const e=this.getOffsetParent||j7,r=this.getDimensions,n=await r(t.floating);return{reference:rhe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function she(t){return ja(t).direction==="rtl"}const ihe={convertOffsetParentRelativeRectToViewportRelativeRect:Kde,getDocumentElement:ho,getClippingRect:ehe,getOffsetParent:j7,getElementRects:nhe,getClientRects:Yde,getDimensions:the,getScale:Th,isElement:wa,isRTL:she};function ahe(t,e){let r=null,n;const s=ho(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(l||e(),!h||!f)return;const m=D0(d),x=D0(s.clientWidth-(u+h)),p=D0(s.clientHeight-(d+f)),v=D0(u),b={rootMargin:-m+"px "+-x+"px "+-p+"px "+-v+"px",threshold:si(0,Nc(1,c))||1};let j=!0;function N(E){const C=E[0].intersectionRatio;if(C!==c){if(!j)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j=!1}try{r=new IntersectionObserver(N,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(t)}return o(!0),a}function ohe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=ZC(t),d=s||a?[...u?Xg(u):[],...Xg(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const h=u&&l?ahe(u,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(w=>{let[b]=w;b&&b.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(e)})),r()}),u&&!c&&m.observe(u),m.observe(e));let x,p=c?rd(t):null;c&&v();function v(){const w=rd(t);p&&(w.x!==p.x||w.y!==p.y||w.width!==p.width||w.height!==p.height)&&r(),p=w,x=requestAnimationFrame(v)}return r(),()=>{var w;d.forEach(b=>{s&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),h==null||h(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const lhe=Vde,che=Bde,uhe=$de,dhe=qde,hhe=Lde,mM=Mde,fhe=Ude,mhe=(t,e,r)=>{const n=new Map,s={platform:ihe,...r},a={...s.platform,_c:n};return Dde(t,e,{...s,platform:a})};var kv=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Db(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Db(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!Db(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function N7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pM(t,e){const r=N7(t);return Math.round(e*r)/r}function D2(t){const e=g.useRef(t);return kv(()=>{e.current=t}),e}function phe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=g.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=g.useState(n);Db(f,n)||m(n);const[x,p]=g.useState(null),[v,w]=g.useState(null),b=g.useCallback($=>{$!==C.current&&(C.current=$,p($))},[]),j=g.useCallback($=>{$!==P.current&&(P.current=$,w($))},[]),N=a||x,E=o||v,C=g.useRef(null),P=g.useRef(null),S=g.useRef(d),A=c!=null,T=D2(c),R=D2(s),_=D2(u),I=g.useCallback(()=>{if(!C.current||!P.current)return;const $={placement:e,strategy:r,middleware:f};R.current&&($.platform=R.current),mhe(C.current,P.current,$).then(U=>{const Y={...U,isPositioned:_.current!==!1};M.current&&!Db(S.current,Y)&&(S.current=Y,Ic.flushSync(()=>{h(Y)}))})},[f,e,r,R,_]);kv(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[u]);const M=g.useRef(!1);kv(()=>(M.current=!0,()=>{M.current=!1}),[]),kv(()=>{if(N&&(C.current=N),E&&(P.current=E),N&&E){if(T.current)return T.current(N,E,I);I()}},[N,E,I,T,A]);const z=g.useMemo(()=>({reference:C,floating:P,setReference:b,setFloating:j}),[b,j]),W=g.useMemo(()=>({reference:N,floating:E}),[N,E]),B=g.useMemo(()=>{const $={position:r,left:0,top:0};if(!W.floating)return $;const U=pM(W.floating,d.x),Y=pM(W.floating,d.y);return l?{...$,transform:"translate("+U+"px, "+Y+"px)",...N7(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:Y}},[r,l,W.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:I,refs:z,elements:W,floatingStyles:B}),[d,I,z,W,B])}const ghe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?mM({element:n.current,padding:s}).fn(r):{}:n?mM({element:n,padding:s}).fn(r):{}}}},xhe=(t,e)=>({...lhe(t),options:[t,e]}),yhe=(t,e)=>({...che(t),options:[t,e]}),vhe=(t,e)=>({...fhe(t),options:[t,e]}),bhe=(t,e)=>({...uhe(t),options:[t,e]}),whe=(t,e)=>({...dhe(t),options:[t,e]}),jhe=(t,e)=>({...hhe(t),options:[t,e]}),Nhe=(t,e)=>({...ghe(t),options:[t,e]});var She="Arrow",S7=g.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...a}=t;return i.jsx(et.svg,{...a,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});S7.displayName=She;var Ehe=S7;function Phe(t,e=[]){let r=[];function n(a,o){const l=g.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,v=g.useMemo(()=>x,Object.values(x));return i.jsx(p.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[t][c])||l,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,_he(s,...e)]}function _he(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function ek(t){const[e,r]=g.useState(void 0);return Yn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var tk="Popper",[E7,Lc]=Phe(tk),[Ahe,P7]=E7(tk),_7=t=>{const{__scopePopper:e,children:r}=t,[n,s]=g.useState(null);return i.jsx(Ahe,{scope:e,anchor:n,onAnchorChange:s,children:r})};_7.displayName=tk;var A7="PopperAnchor",T7=g.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,a=P7(A7,r),o=g.useRef(null),l=Tt(e,o);return g.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(et.div,{...s,ref:l})});T7.displayName=A7;var rk="PopperContent",[The,Che]=E7(rk),C7=g.forwardRef((t,e)=>{var Q,Ne,J,me,L,q;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:x,...p}=t,v=P7(rk,r),[w,b]=g.useState(null),j=Tt(e,ee=>b(ee)),[N,E]=g.useState(null),C=ek(N),P=(C==null?void 0:C.width)??0,S=(C==null?void 0:C.height)??0,A=n+(a!=="center"?"-"+a:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],_=R.length>0,I={padding:T,boundary:R.filter(Ihe),altBoundary:_},{refs:M,floatingStyles:z,placement:W,isPositioned:B,middlewareData:$}=phe({strategy:"fixed",placement:A,whileElementsMounted:(...ee)=>ohe(...ee,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[xhe({mainAxis:s+S,alignmentAxis:o}),c&&yhe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?vhe():void 0,...I}),c&&bhe({...I}),whe({...I,apply:({elements:ee,rects:te,availableWidth:ce,availableHeight:ge})=>{const{width:pe,height:ie}=te.reference,ue=ee.floating.style;ue.setProperty("--radix-popper-available-width",`${ce}px`),ue.setProperty("--radix-popper-available-height",`${ge}px`),ue.setProperty("--radix-popper-anchor-width",`${pe}px`),ue.setProperty("--radix-popper-anchor-height",`${ie}px`)}}),N&&Nhe({element:N,padding:l}),Rhe({arrowWidth:P,arrowHeight:S}),f&&jhe({strategy:"referenceHidden",...I})]}),[U,Y]=R7(W),K=Fr(x);Yn(()=>{B&&(K==null||K())},[B,K]);const X=(Q=$.arrow)==null?void 0:Q.x,he=(Ne=$.arrow)==null?void 0:Ne.y,D=((J=$.arrow)==null?void 0:J.centerOffset)!==0,[H,se]=g.useState();return Yn(()=>{w&&se(window.getComputedStyle(w).zIndex)},[w]),i.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:B?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(me=$.transformOrigin)==null?void 0:me.x,(L=$.transformOrigin)==null?void 0:L.y].join(" "),...((q=$.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(The,{scope:r,placedSide:U,onArrowChange:E,arrowX:X,arrowY:he,shouldHideArrow:D,children:i.jsx(et.div,{"data-side":U,"data-align":Y,...p,ref:j,style:{...p.style,animation:B?void 0:"none"}})})})});C7.displayName=rk;var k7="PopperArrow",khe={top:"bottom",right:"left",bottom:"top",left:"right"},I7=g.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,a=Che(k7,n),o=khe[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(Ehe,{...s,ref:r,style:{...s.style,display:"block"}})})});I7.displayName=k7;function Ihe(t){return t!==null}var Rhe=t=>({name:"transformOrigin",options:t,fn(e){var v,w,b;const{placement:r,rects:n,middlewareData:s}=e,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=R7(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,m=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let x="",p="";return u==="bottom"?(x=o?h:`${f}px`,p=`${-c}px`):u==="top"?(x=o?h:`${f}px`,p=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,p=o?h:`${m}px`):u==="left"&&(x=`${n.floating.width+c}px`,p=o?h:`${m}px`),{data:{x,y:p}}}});function R7(t){const[e,r="center"]=t.split("-");return[e,r]}var nk=_7,fy=T7,tj=C7,rj=I7,[nj,HWe]=Sa("Tooltip",[Lc]),sk=Lc(),O7="TooltipProvider",Ohe=700,gM="tooltip.open",[Dhe,D7]=nj(O7),M7=t=>{const{__scopeTooltip:e,delayDuration:r=Ohe,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,[o,l]=g.useState(!0),c=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(Dhe,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:g.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};M7.displayName=O7;var $7="Tooltip",[GWe,sj]=nj($7),jP="TooltipTrigger",Mhe=g.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=sj(jP,r),a=D7(jP,r),o=sk(r),l=g.useRef(null),c=Tt(e,l,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(fy,{asChild:!0,...o,children:i.jsx(et.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Me(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Me(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Me(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Me(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Me(t.onBlur,s.onClose),onClick:Me(t.onClick,s.onClose)})})});Mhe.displayName=jP;var $he="TooltipPortal",[KWe,Lhe]=nj($he,{forceMount:void 0}),xf="TooltipContent",L7=g.forwardRef((t,e)=>{const r=Lhe(xf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=t,o=sj(xf,t.__scopeTooltip);return i.jsx(Fn,{present:n||o.open,children:o.disableHoverableContent?i.jsx(F7,{side:s,...a,ref:e}):i.jsx(Fhe,{side:s,...a,ref:e})})}),Fhe=g.forwardRef((t,e)=>{const r=sj(xf,t.__scopeTooltip),n=D7(xf,t.__scopeTooltip),s=g.useRef(null),a=Tt(e,s),[o,l]=g.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,f=g.useCallback(()=>{l(null),h(!1)},[h]),m=g.useCallback((x,p)=>{const v=x.currentTarget,w={x:x.clientX,y:x.clientY},b=qhe(w,v.getBoundingClientRect()),j=zhe(w,b),N=Whe(p.getBoundingClientRect()),E=Ghe([...j,...N]);l(E),h(!0)},[h]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(c&&d){const x=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",p)}}},[c,d,m,f]),g.useEffect(()=>{if(o){const x=p=>{const v=p.target,w={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),j=!Hhe(w,o);b?f():j&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,f]),i.jsx(F7,{...t,ref:a})}),[Vhe,Bhe]=nj($7,{isInside:!1}),F7=g.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=sj(xf,r),u=sk(r),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(gM,d),()=>document.removeEventListener(gM,d)),[d]),g.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),i.jsx(vd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:i.jsxs(tj,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(kU,{children:n}),i.jsx(Vhe,{scope:r,isInside:!0,children:i.jsx(hce,{id:c.contentId,role:"tooltip",children:s||n})})]})})});L7.displayName=xf;var V7="TooltipArrow",Uhe=g.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=sk(r);return Bhe(V7,r).isInside?null:i.jsx(rj,{...s,...n,ref:e})});Uhe.displayName=V7;function qhe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function zhe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Whe(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function Hhe(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,d=e[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function Ghe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Khe(e)}function Khe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Yhe=M7,B7=L7;const Qhe=Yhe,Xhe=g.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(B7,{ref:n,sideOffset:e,className:He("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Xhe.displayName=B7.displayName;var ij=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},aj=typeof window>"u"||"Deno"in globalThis;function ra(){}function Jhe(t,e){return typeof t=="function"?t(e):t}function Zhe(t){return typeof t=="number"&&t>=0&&t!==1/0}function efe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xM(t,e){return typeof t=="function"?t(e):t}function tfe(t,e){return typeof t=="function"?t(e):t}function yM(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==ik(o,e.options))return!1}else if(!Zg(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||a&&!a(e))}function vM(t,e){const{exact:r,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Jg(e.options.mutationKey)!==Jg(a))return!1}else if(!Zg(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function ik(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jg)(t)}function Jg(t){return JSON.stringify(t,(e,r)=>NP(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Zg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Zg(t[r],e[r])):!1}function U7(t,e){if(t===e)return t;const r=bM(t)&&bM(e);if(r||NP(t)&&NP(e)){const n=r?t:Object.keys(t),s=n.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=U7(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function bM(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function NP(t){if(!wM(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!wM(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wM(t){return Object.prototype.toString.call(t)==="[object Object]"}function rfe(t){return new Promise(e=>{setTimeout(e,t)})}function nfe(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?U7(t,e):e}function sfe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function ife(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var ak=Symbol();function q7(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ak?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Au,Fl,Fh,SF,afe=(SF=class extends ij{constructor(){super();Kt(this,Au);Kt(this,Fl);Kt(this,Fh);Ct(this,Fh,e=>{if(!aj&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ee(this,Fl)||this.setEventListener(Ee(this,Fh))}onUnsubscribe(){var e;this.hasListeners()||((e=Ee(this,Fl))==null||e.call(this),Ct(this,Fl,void 0))}setEventListener(e){var r;Ct(this,Fh,e),(r=Ee(this,Fl))==null||r.call(this),Ct(this,Fl,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Ee(this,Au)!==e&&(Ct(this,Au,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Ee(this,Au)=="boolean"?Ee(this,Au):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Au=new WeakMap,Fl=new WeakMap,Fh=new WeakMap,SF),z7=new afe,Vh,Vl,Bh,EF,ofe=(EF=class extends ij{constructor(){super();Kt(this,Vh,!0);Kt(this,Vl);Kt(this,Bh);Ct(this,Bh,e=>{if(!aj&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ee(this,Vl)||this.setEventListener(Ee(this,Bh))}onUnsubscribe(){var e;this.hasListeners()||((e=Ee(this,Vl))==null||e.call(this),Ct(this,Vl,void 0))}setEventListener(e){var r;Ct(this,Bh,e),(r=Ee(this,Vl))==null||r.call(this),Ct(this,Vl,e(this.setOnline.bind(this)))}setOnline(e){Ee(this,Vh)!==e&&(Ct(this,Vh,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Ee(this,Vh)}},Vh=new WeakMap,Vl=new WeakMap,Bh=new WeakMap,EF),Mb=new ofe;function lfe(){let t,e;const r=new Promise((s,a)=>{t=s,e=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function cfe(t){return Math.min(1e3*2**t,3e4)}function W7(t){return(t??"online")==="online"?Mb.isOnline():!0}var H7=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function M2(t){return t instanceof H7}function G7(t){let e=!1,r=0,n=!1,s;const a=lfe(),o=p=>{var v;n||(f(new H7(p)),(v=t.abort)==null||v.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>z7.isFocused()&&(t.networkMode==="always"||Mb.isOnline())&&t.canRun(),d=()=>W7(t.networkMode)&&t.canRun(),h=p=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,p),s==null||s(),a.resolve(p))},f=p=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,p),s==null||s(),a.reject(p))},m=()=>new Promise(p=>{var v;s=w=>{(n||u())&&p(w)},(v=t.onPause)==null||v.call(t)}).then(()=>{var p;s=void 0,n||(p=t.onContinue)==null||p.call(t)}),x=()=>{if(n)return;let p;const v=r===0?t.initialPromise:void 0;try{p=v??t.fn()}catch(w){p=Promise.reject(w)}Promise.resolve(p).then(h).catch(w=>{var C;if(n)return;const b=t.retry??(aj?0:3),j=t.retryDelay??cfe,N=typeof j=="function"?j(r,w):j,E=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,w);if(e||!E){f(w);return}r++,(C=t.onFail)==null||C.call(t,r,w),rfe(N).then(()=>u()?void 0:m()).then(()=>{e?f(w):x()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():m().then(x),a)}}function ufe(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var bs=ufe(),Tu,PF,K7=(PF=class{constructor(){Kt(this,Tu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zhe(this.gcTime)&&Ct(this,Tu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(aj?1/0:5*60*1e3))}clearGcTimeout(){Ee(this,Tu)&&(clearTimeout(Ee(this,Tu)),Ct(this,Tu,void 0))}},Tu=new WeakMap,PF),Uh,qh,_i,ns,Wx,Cu,na,jo,_F,dfe=(_F=class extends K7{constructor(e){super();Kt(this,na);Kt(this,Uh);Kt(this,qh);Kt(this,_i);Kt(this,ns);Kt(this,Wx);Kt(this,Cu);Ct(this,Cu,!1),Ct(this,Wx,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ct(this,_i,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ct(this,Uh,ffe(this.options)),this.state=e.state??Ee(this,Uh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ee(this,ns))==null?void 0:e.promise}setOptions(e){this.options={...Ee(this,Wx),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ee(this,_i).remove(this)}setData(e,r){const n=nfe(this.state.data,e,this.options);return Zn(this,na,jo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Zn(this,na,jo).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=Ee(this,ns))==null?void 0:n.promise;return(s=Ee(this,ns))==null||s.cancel(e),r?r.then(ra).catch(ra):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ee(this,Uh))}isActive(){return this.observers.some(e=>tfe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ak||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!efe(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=Ee(this,ns))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=Ee(this,ns))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ee(this,_i).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(Ee(this,ns)&&(Ee(this,Cu)?Ee(this,ns).cancel({revert:!0}):Ee(this,ns).cancelRetry()),this.scheduleGc()),Ee(this,_i).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zn(this,na,jo).call(this,{type:"invalidate"})}fetch(e,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ee(this,ns))return Ee(this,ns).continueRetry(),Ee(this,ns).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ct(this,Cu,!0),n.signal)})},a=()=>{const h=q7(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return s(f),Ct(this,Cu,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),Ct(this,qh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Zn(this,na,jo).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,m,x,p;M2(h)&&h.silent||Zn(this,na,jo).call(this,{type:"error",error:h}),M2(h)||((m=(f=Ee(this,_i).config).onError)==null||m.call(f,h,this),(p=(x=Ee(this,_i).config).onSettled)==null||p.call(x,this.state.data,h,this)),this.scheduleGc()};return Ct(this,ns,G7({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,m,x,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(m=(f=Ee(this,_i).config).onSuccess)==null||m.call(f,h,this),(p=(x=Ee(this,_i).config).onSettled)==null||p.call(x,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{Zn(this,na,jo).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Zn(this,na,jo).call(this,{type:"pause"})},onContinue:()=>{Zn(this,na,jo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Ee(this,ns).start()}},Uh=new WeakMap,qh=new WeakMap,_i=new WeakMap,ns=new WeakMap,Wx=new WeakMap,Cu=new WeakMap,na=new WeakSet,jo=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...hfe(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return M2(s)&&s.revert&&Ee(this,qh)?{...Ee(this,qh),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),bs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ee(this,_i).notify({query:this,type:"updated",action:e})})},_F);function hfe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ffe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var La,AF,mfe=(AF=class extends ij{constructor(e={}){super();Kt(this,La);this.config=e,Ct(this,La,new Map)}build(e,r,n){const s=r.queryKey,a=r.queryHash??ik(s,r);let o=this.get(a);return o||(o=new dfe({cache:this,queryKey:s,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Ee(this,La).has(e.queryHash)||(Ee(this,La).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Ee(this,La).get(e.queryHash);r&&(e.destroy(),r===e&&Ee(this,La).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){bs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ee(this,La).get(e)}getAll(){return[...Ee(this,La).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>yM(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>yM(e,n)):r}notify(e){bs.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){bs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){bs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},La=new WeakMap,AF),Fa,ys,ku,Va,Nl,TF,pfe=(TF=class extends K7{constructor(e){super();Kt(this,Va);Kt(this,Fa);Kt(this,ys);Kt(this,ku);this.mutationId=e.mutationId,Ct(this,ys,e.mutationCache),Ct(this,Fa,[]),this.state=e.state||gfe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ee(this,Fa).includes(e)||(Ee(this,Fa).push(e),this.clearGcTimeout(),Ee(this,ys).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ct(this,Fa,Ee(this,Fa).filter(r=>r!==e)),this.scheduleGc(),Ee(this,ys).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ee(this,Fa).length||(this.state.status==="pending"?this.scheduleGc():Ee(this,ys).remove(this))}continue(){var e;return((e=Ee(this,ku))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,l,c,u,d,h,f,m,x,p,v,w,b,j,N,E,C,P;Ct(this,ku,G7({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(S,A)=>{Zn(this,Va,Nl).call(this,{type:"failed",failureCount:S,error:A})},onPause:()=>{Zn(this,Va,Nl).call(this,{type:"pause"})},onContinue:()=>{Zn(this,Va,Nl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ee(this,ys).canRun(this)}));const r=this.state.status==="pending",n=!Ee(this,ku).canStart();try{if(!r){Zn(this,Va,Nl).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(s=Ee(this,ys).config).onMutate)==null?void 0:a.call(s,e,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));A!==this.state.context&&Zn(this,Va,Nl).call(this,{type:"pending",context:A,variables:e,isPaused:n})}const S=await Ee(this,ku).start();return await((u=(c=Ee(this,ys).config).onSuccess)==null?void 0:u.call(c,S,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,S,e,this.state.context)),await((m=(f=Ee(this,ys).config).onSettled)==null?void 0:m.call(f,S,null,this.state.variables,this.state.context,this)),await((p=(x=this.options).onSettled)==null?void 0:p.call(x,S,null,e,this.state.context)),Zn(this,Va,Nl).call(this,{type:"success",data:S}),S}catch(S){try{throw await((w=(v=Ee(this,ys).config).onError)==null?void 0:w.call(v,S,e,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,S,e,this.state.context)),await((E=(N=Ee(this,ys).config).onSettled)==null?void 0:E.call(N,void 0,S,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,S,e,this.state.context)),S}finally{Zn(this,Va,Nl).call(this,{type:"error",error:S})}}finally{Ee(this,ys).runNext(this)}}},Fa=new WeakMap,ys=new WeakMap,ku=new WeakMap,Va=new WeakSet,Nl=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),bs.batch(()=>{Ee(this,Fa).forEach(n=>{n.onMutationUpdate(e)}),Ee(this,ys).notify({mutation:this,type:"updated",action:e})})},TF);function gfe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zs,Hx,CF,xfe=(CF=class extends ij{constructor(e={}){super();Kt(this,Zs);Kt(this,Hx);this.config=e,Ct(this,Zs,new Map),Ct(this,Hx,Date.now())}build(e,r,n){const s=new pfe({mutationCache:this,mutationId:++o0(this,Hx)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=M0(e),n=Ee(this,Zs).get(r)??[];n.push(e),Ee(this,Zs).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=M0(e);if(Ee(this,Zs).has(r)){const s=(n=Ee(this,Zs).get(r))==null?void 0:n.filter(a=>a!==e);s&&(s.length===0?Ee(this,Zs).delete(r):Ee(this,Zs).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=Ee(this,Zs).get(M0(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=Ee(this,Zs).get(M0(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){bs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Ee(this,Zs).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>vM(r,n))}findAll(e={}){return this.getAll().filter(r=>vM(e,r))}notify(e){bs.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return bs.batch(()=>Promise.all(e.map(r=>r.continue().catch(ra))))}},Zs=new WeakMap,Hx=new WeakMap,CF);function M0(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function jM(t){return{onFetch:(e,r)=>{var d,h,f,m,x;const n=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((m=e.state.data)==null?void 0:m.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},w=q7(e.options,e.fetchOptions),b=async(j,N,E)=>{if(p)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const C={queryKey:e.queryKey,pageParam:N,direction:E?"backward":"forward",meta:e.options.meta};v(C);const P=await w(C),{maxPages:S}=e.options,A=E?ife:sfe;return{pages:A(j.pages,P,S),pageParams:A(j.pageParams,N,S)}};if(s&&a.length){const j=s==="backward",N=j?yfe:NM,E={pages:a,pageParams:o},C=N(n,E);l=await b(E,C,j)}else{const j=t??a.length;do{const N=c===0?o[0]??n.initialPageParam:NM(n,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<j)}return l};e.options.persister?e.fetchFn=()=>{var p,v;return(v=(p=e.options).persister)==null?void 0:v.call(p,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function NM(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function yfe(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Yr,Bl,Ul,zh,Wh,ql,Hh,Gh,kF,vfe=(kF=class{constructor(t={}){Kt(this,Yr);Kt(this,Bl);Kt(this,Ul);Kt(this,zh);Kt(this,Wh);Kt(this,ql);Kt(this,Hh);Kt(this,Gh);Ct(this,Yr,t.queryCache||new mfe),Ct(this,Bl,t.mutationCache||new xfe),Ct(this,Ul,t.defaultOptions||{}),Ct(this,zh,new Map),Ct(this,Wh,new Map),Ct(this,ql,0)}mount(){o0(this,ql)._++,Ee(this,ql)===1&&(Ct(this,Hh,z7.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ee(this,Yr).onFocus())})),Ct(this,Gh,Mb.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ee(this,Yr).onOnline())})))}unmount(){var t,e;o0(this,ql)._--,Ee(this,ql)===0&&((t=Ee(this,Hh))==null||t.call(this),Ct(this,Hh,void 0),(e=Ee(this,Gh))==null||e.call(this),Ct(this,Gh,void 0))}isFetching(t){return Ee(this,Yr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ee(this,Bl).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Ee(this,Yr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=Ee(this,Yr).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(xM(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return Ee(this,Yr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=Ee(this,Yr).get(n.queryHash),a=s==null?void 0:s.state.data,o=Jhe(e,a);if(o!==void 0)return Ee(this,Yr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return bs.batch(()=>Ee(this,Yr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Ee(this,Yr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Ee(this,Yr);bs.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Ee(this,Yr),n={type:"active",...t};return bs.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=bs.batch(()=>Ee(this,Yr).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(ra).catch(ra)}invalidateQueries(t={},e={}){return bs.batch(()=>{if(Ee(this,Yr).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=bs.batch(()=>Ee(this,Yr).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ra)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ra)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Ee(this,Yr).build(this,e);return r.isStaleByTime(xM(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ra).catch(ra)}fetchInfiniteQuery(t){return t.behavior=jM(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ra).catch(ra)}ensureInfiniteQueryData(t){return t.behavior=jM(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Mb.isOnline()?Ee(this,Bl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ee(this,Yr)}getMutationCache(){return Ee(this,Bl)}getDefaultOptions(){return Ee(this,Ul)}setDefaultOptions(t){Ct(this,Ul,t)}setQueryDefaults(t,e){Ee(this,zh).set(Jg(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ee(this,zh).values()];let r={};return e.forEach(n=>{Zg(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){Ee(this,Wh).set(Jg(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ee(this,Wh).values()];let r={};return e.forEach(n=>{Zg(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ee(this,Ul).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ik(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ak&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ee(this,Ul).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ee(this,Yr).clear(),Ee(this,Bl).clear()}},Yr=new WeakMap,Bl=new WeakMap,Ul=new WeakMap,zh=new WeakMap,Wh=new WeakMap,ql=new WeakMap,Hh=new WeakMap,Gh=new WeakMap,kF),bfe=g.createContext(void 0),wfe=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(bfe.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ex.apply(this,arguments)}var Kl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kl||(Kl={}));const SM="popstate";function jfe(t){t===void 0&&(t={});function e(n,s){let{pathname:a,search:o,hash:l}=n.location;return SP("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:$b(s)}return Sfe(e,r,null,t)}function vn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Y7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Nfe(){return Math.random().toString(36).substr(2,8)}function EM(t,e){return{usr:t.state,key:t.key,idx:e}}function SP(t,e,r,n){return r===void 0&&(r=null),ex({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ym(e):e,{state:r,key:e&&e.key||n||Nfe()})}function $b(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ym(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Sfe(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Kl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ex({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Kl.Pop;let v=d(),w=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:w})}function f(v,w){l=Kl.Push;let b=SP(p.location,v,w);u=d()+1;let j=EM(b,u),N=p.createHref(b);try{o.pushState(j,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(N)}a&&c&&c({action:l,location:p.location,delta:1})}function m(v,w){l=Kl.Replace;let b=SP(p.location,v,w);u=d();let j=EM(b,u),N=p.createHref(b);o.replaceState(j,"",N),a&&c&&c({action:l,location:p.location,delta:0})}function x(v){let w=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:$b(v);return b=b.replace(/ $/,"%20"),vn(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let p={get action(){return l},get location(){return t(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(SM,h),c=v,()=>{s.removeEventListener(SM,h),c=null}},createHref(v){return e(s,v)},createURL:x,encodeLocation(v){let w=x(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(v){return o.go(v)}};return p}var PM;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PM||(PM={}));function Efe(t,e,r){return r===void 0&&(r="/"),Pfe(t,e,r,!1)}function Pfe(t,e,r,n){let s=typeof e=="string"?ym(e):e,a=ok(s.pathname||"/",r);if(a==null)return null;let o=Q7(t);_fe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Lfe(a);l=Mfe(o[c],u,n)}return l}function Q7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(vn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=hc([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(vn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Q7(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Ofe(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of X7(a.path))s(a,o,c)}),e}function X7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=X7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function _fe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Dfe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Afe=/^:[\w-]+$/,Tfe=3,Cfe=2,kfe=1,Ife=10,Rfe=-2,_M=t=>t==="*";function Ofe(t,e){let r=t.split("/"),n=r.length;return r.some(_M)&&(n+=Rfe),e&&(n+=Cfe),r.filter(s=>!_M(s)).reduce((s,a)=>s+(Afe.test(a)?Tfe:a===""?kfe:Ife),n)}function Dfe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Mfe(t,e,r){let{routesMeta:n}=t,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=AM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=AM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:hc([a,h.pathname]),pathnameBase:Ufe(hc([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=hc([a,h.pathnameBase]))}return o}function AM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=$fe(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=l[h]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[h];return m&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function $fe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Y7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Lfe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Y7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ok(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Ffe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ym(t):t;return{pathname:r?r.startsWith("/")?r:Vfe(r,e):e,search:qfe(n),hash:zfe(s)}}function Vfe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function $2(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bfe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function J7(t,e){let r=Bfe(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Z7(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ym(t):(s=ex({},t),vn(!s.pathname||!s.pathname.includes("?"),$2("?","pathname","search",s)),vn(!s.pathname||!s.pathname.includes("#"),$2("#","pathname","hash",s)),vn(!s.search||!s.search.includes("#"),$2("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=Ffe(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const hc=t=>t.join("/").replace(/\/\/+/g,"/"),Ufe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qfe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zfe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Wfe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eq=["post","put","patch","delete"];new Set(eq);const Hfe=["get",...eq];new Set(Hfe);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tx.apply(this,arguments)}const lk=g.createContext(null),Gfe=g.createContext(null),bd=g.createContext(null),oj=g.createContext(null),Fc=g.createContext({outlet:null,matches:[],isDataRoute:!1}),tq=g.createContext(null);function Kfe(t,e){let{relative:r}=e===void 0?{}:e;my()||vn(!1);let{basename:n,navigator:s}=g.useContext(bd),{hash:a,pathname:o,search:l}=nq(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:hc([n,o])),s.createHref({pathname:c,search:l,hash:a})}function my(){return g.useContext(oj)!=null}function ul(){return my()||vn(!1),g.useContext(oj).location}function rq(t){g.useContext(bd).static||g.useLayoutEffect(t)}function Zr(){let{isDataRoute:t}=g.useContext(Fc);return t?ome():Yfe()}function Yfe(){my()||vn(!1);let t=g.useContext(lk),{basename:e,future:r,navigator:n}=g.useContext(bd),{matches:s}=g.useContext(Fc),{pathname:a}=ul(),o=JSON.stringify(J7(s,r.v7_relativeSplatPath)),l=g.useRef(!1);return rq(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Z7(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:hc([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,a,t])}function py(){let{matches:t}=g.useContext(Fc),e=t[t.length-1];return e?e.params:{}}function nq(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=g.useContext(bd),{matches:s}=g.useContext(Fc),{pathname:a}=ul(),o=JSON.stringify(J7(s,n.v7_relativeSplatPath));return g.useMemo(()=>Z7(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function Qfe(t,e){return Xfe(t,e)}function Xfe(t,e,r,n){my()||vn(!1);let{navigator:s}=g.useContext(bd),{matches:a}=g.useContext(Fc),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ul(),d;if(e){var h;let v=typeof e=="string"?ym(e):e;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||vn(!1),d=v}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=Efe(t,{pathname:m}),p=rme(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:hc([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:hc([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&p?g.createElement(oj.Provider,{value:{location:tx({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Kl.Pop}},p):p}function Jfe(){let t=ame(),e=Wfe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),r?g.createElement("pre",{style:s},r):null,null)}const Zfe=g.createElement(Jfe,null);class eme extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?g.createElement(Fc.Provider,{value:this.props.routeContext},g.createElement(tq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tme(t){let{routeContext:e,match:r,children:n}=t,s=g.useContext(lk);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Fc.Provider,{value:e},n)}function rme(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||vn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,x=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,x=!1,p=null,v=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||Zfe,c&&(u<0&&f===0?(x=!0,v=null):u===f&&(x=!0,v=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),b=()=>{let j;return m?j=p:x?j=v:h.route.Component?j=g.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,g.createElement(tme,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:j})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(eme,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var sq=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sq||{}),Lb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lb||{});function nme(t){let e=g.useContext(lk);return e||vn(!1),e}function sme(t){let e=g.useContext(Gfe);return e||vn(!1),e}function ime(t){let e=g.useContext(Fc);return e||vn(!1),e}function iq(t){let e=ime(),r=e.matches[e.matches.length-1];return r.route.id||vn(!1),r.route.id}function ame(){var t;let e=g.useContext(tq),r=sme(Lb.UseRouteError),n=iq(Lb.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function ome(){let{router:t}=nme(sq.UseNavigateStable),e=iq(Lb.UseNavigateStable),r=g.useRef(!1);return rq(()=>{r.current=!0}),g.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,tx({fromRouteId:e},a)))},[t,e])}function Ht(t){vn(!1)}function lme(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Kl.Pop,navigator:a,static:o=!1,future:l}=t;my()&&vn(!1);let c=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:a,static:o,future:tx({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ym(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:x="default"}=n,p=g.useMemo(()=>{let v=ok(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:m,key:x},navigationType:s}},[c,d,h,f,m,x,s]);return p==null?null:g.createElement(bd.Provider,{value:u},g.createElement(oj.Provider,{children:r,value:p}))}function cme(t){let{children:e,location:r}=t;return Qfe(EP(e),r)}new Promise(()=>{});function EP(t,e){e===void 0&&(e=[]);let r=[];return g.Children.forEach(t,(n,s)=>{if(!g.isValidElement(n))return;let a=[...e,s];if(n.type===g.Fragment){r.push.apply(r,EP(n.props.children,a));return}n.type!==Ht&&vn(!1),!n.props.index||!n.props.children||vn(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=EP(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function PP(){return PP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PP.apply(this,arguments)}function ume(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function dme(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hme(t,e){return t.button===0&&(!e||e==="_self")&&!dme(t)}function _P(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function fme(t,e){let r=_P(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(a=>{r.append(s,a)})}),r}const mme=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pme="6";try{window.__reactRouterVersion=pme}catch{}const gme="startTransition",TM=UF[gme];function xme(t){let{basename:e,children:r,future:n,window:s}=t,a=g.useRef();a.current==null&&(a.current=jfe({window:s,v5Compat:!0}));let o=a.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(h=>{u&&TM?TM(()=>c(h)):c(h)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(lme,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const yme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vme=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=g.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=ume(e,mme),{basename:m}=g.useContext(bd),x,p=!1;if(typeof u=="string"&&vme.test(u)&&(x=u,yme))try{let j=new URL(window.location.href),N=u.startsWith("//")?new URL(j.protocol+u):new URL(u),E=ok(N.pathname,m);N.origin===j.origin&&E!=null?u=E+N.search+N.hash:p=!0}catch{}let v=Kfe(u,{relative:s}),w=bme(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function b(j){n&&n(j),j.defaultPrevented||w(j)}return g.createElement("a",PP({},f,{href:x||v,onClick:p||a?n:b,ref:r,target:c}))});var CM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(CM||(CM={}));var kM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kM||(kM={}));function bme(t,e){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=Zr(),u=ul(),d=nq(t,{relative:o});return g.useCallback(h=>{if(hme(h,r)){h.preventDefault();let f=n!==void 0?n:$b(u)===$b(d);c(t,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,t,a,o,l])}function aq(t){let e=g.useRef(_P(t)),r=g.useRef(!1),n=ul(),s=g.useMemo(()=>fme(n.search,r.current?null:e.current),[n.search]),a=Zr(),o=g.useCallback((l,c)=>{const u=_P(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}const wme=()=>{const{pathname:t}=ul();return g.useEffect(()=>{window.scrollTo(0,0)},[t]),null},jme=({isVisible:t,userName:e,onClose:r})=>{const[n,s]=g.useState(!1);return g.useEffect(()=>{if(t){const a=setTimeout(()=>{s(!0),setTimeout(()=>{r()},200)},2e3);return()=>{clearTimeout(a)}}},[t,r]),t?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20",children:i.jsx("div",{className:`max-w-[280px] w-[90%] transform transition-all duration-200 ${n?"scale-95 opacity-0 translate-y-1":"scale-100 opacity-100 translate-y-0"} bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden`,onClick:a=>{a.stopPropagation(),s(!0),setTimeout(()=>r(),200)},children:i.jsx("div",{className:"p-3 sm:p-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 bg-gray-800 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(xt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:["Welcome",e?`, ${e.split(" ")[0]}`:"","!"]}),i.jsx("p",{className:"text-[11px] sm:text-xs text-gray-600",children:"Successfully signed in"})]})]})})})}):null},oq=g.createContext(void 0),Nme=({children:t})=>{const[e,r]=g.useState(null),[n,s]=g.useState(!0),[a,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(null),[h,f]=g.useState(!1),m=T=>{if(T){const R=Ce(oe,"userProfiles",T.uid);return Ur(R,I=>{if(I.exists()){const M=I.data();c(M.isProfileVerified||!1),d(M.verificationStatus||null)}else c(!1),d(null)},I=>{console.log("Error in profile listener:",I),c(!1),d(null)})}else return c(!1),d(null),null};g.useEffect(()=>{let T=null;const R=use(Cr,_=>{r(_),o((_==null?void 0:_.emailVerified)||!1),T&&T(),_&&(T=m(_)),s(!1)});return()=>{R(),T&&T()}},[]);const x=T=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T),p=async(T,R,_)=>{try{if(s(!0),x(T)){const I=await rse(Cr,T,R);if(_!=null&&_.full_name&&await ose(I.user,{displayName:_.full_name}),_!=null&&_.full_name||_!=null&&_.first_name||_!=null&&_.last_name)try{await pn(Ce(oe,"userProfiles",I.user.uid),{userId:I.user.uid,fullName:(_==null?void 0:_.full_name)||"",firstName:(_==null?void 0:_.first_name)||"",lastName:(_==null?void 0:_.last_name)||"",phone:"",isProfileVerified:!1,verificationMethod:"manual",createdAt:new Date,updatedAt:new Date}),console.log("User profile data stored successfully")}catch(M){console.error("Error storing user profile:",M)}return await RD(I.user,{url:`${window.location.origin}/auth/callback`,handleCodeInApp:!0}),le({title:"Verification Email Sent!",description:`We've sent a verification link to ${T}. Check your inbox and spam folder, then click the verification link to activate your account.`}),s(!1),{error:null,requiresVerification:!0}}else return le({title:"Phone authentication disabled",description:"Please use email authentication. Phone auth requires billing setup.",variant:"destructive"}),s(!1),{error:new Error("Phone authentication disabled")}}catch(I){return le({title:"Sign up failed",description:I.message,variant:"destructive"}),s(!1),{error:I}}},v=async(T,R)=>{try{if(console.log(" Starting sign-in process for:",T),s(!0),x(T)){console.log(" Attempting email sign-in");let _=0;const I=2;for(;_<I;)try{const M=await nse(Cr,T,R);return console.log(" Sign-in result:",{uid:M.user.uid,emailVerified:M.user.emailVerified}),console.log(" Sign-in successful, showing welcome popup"),f(!0),s(!1),{error:null}}catch(M){if(_++,console.warn(` Sign-in attempt ${_} failed:`,M.code),_>=I)throw M;await new Promise(z=>setTimeout(z,1e3))}}else return le({title:"Phone authentication disabled",description:"Please use email authentication. Phone auth requires billing setup.",variant:"destructive"}),s(!1),{error:new Error("Phone authentication disabled")}}catch(_){console.error(" Firebase signIn error details:",{code:_.code,message:_.message,stack:_.stack,name:_.name});let I="Sign in failed",M=_.message;return _.code==="auth/invalid-credential"?(I="Invalid Credentials",M="The email or password you entered is incorrect. Please check your credentials and try again."):_.code==="auth/user-not-found"?(I="Account Not Found",M="No account found with this email address. Please sign up first or check your email."):_.code==="auth/wrong-password"?(I="Incorrect Password",M="The password you entered is incorrect. Please try again or reset your password."):_.code==="auth/too-many-requests"?(I="Too Many Attempts",M="Too many failed sign-in attempts. Please try again later."):_.code==="auth/network-request-failed"?(I="Network Connection Failed",M=`Unable to connect to Firebase servers. This could be due to:
 Internet connection issues
 Firebase project configuration
 CORS settings
 Firewall blocking the connection

Please check your internet connection and try again.`):_.code==="auth/user-disabled"?(I="Account Disabled",M="This account has been disabled. Please contact support."):_.code==="auth/operation-not-allowed"?(I="Sign-in Method Disabled",M="Email/password sign-in is not enabled. Please contact support."):_.code==="auth/user-already-exists"?(I="User Already Exists",M="An account with this email already exists. Please sign in instead."):_.code==="auth/invalid-api-key"?(I="Configuration Error",M="Firebase API key is invalid. Please contact support."):_.code==="auth/project-not-found"&&(I="Project Not Found",M="Firebase project not found. Please contact support."),le({title:I,description:M,variant:"destructive"}),s(!1),{error:_}}},w=async()=>{try{console.log(" Starting sign-out process"),r(null),o(!1),c(!1),d(null),f(!1),await D9(Cr),console.log(" Sign-out successful"),le({title:"Signed out",description:"You have been signed out successfully."}),setTimeout(()=>{window.location.href="/"},100)}catch(T){console.error(" Sign-out error:",T),le({title:"Sign out failed",description:T.message,variant:"destructive"})}},b=()=>{f(!1)},j=()=>{console.log(" Clearing all authentication state"),r(null),o(!1),c(!1),d(null),f(!1),s(!1)},N=async()=>{try{if(!Cr.currentUser)throw new Error("No user is currently signed in.");const T=Cr.currentUser,R=T.uid;try{await dc(Ce(oe,"userProfiles",R))}catch(_){console.error("Error deleting user profile:",_)}try{const _=jt(Ze(oe,"enquiries"),At("userId","==",R)),M=(await Bt(_)).docs.map(z=>dc(z.ref));await Promise.all(M)}catch(_){console.error("Error deleting user enquiries:",_)}try{const _=jt(Ze(oe,"responses"),At("userId","==",R)),M=(await Bt(_)).docs.map(z=>dc(z.ref));await Promise.all(M)}catch(_){console.error("Error deleting user responses:",_)}return await dse(T),le({title:"Account Deleted",description:"Your account and all associated data have been permanently deleted."}),window.location.href="/",{error:null}}catch(T){console.error("Error deleting account:",T);let R="Failed to delete account. Please try again.";return T.code==="auth/requires-recent-login"?R="For security reasons, please sign in again before deleting your account.":T.message&&(R=T.message),le({title:"Account Deletion Failed",description:R,variant:"destructive"}),{error:T}}},E=async()=>{try{if(!Cr.currentUser)throw new Error("You must be signed in to resend verification email.");return await RD(Cr.currentUser,{url:`${window.location.origin}/auth/callback`,handleCodeInApp:!0}),le({title:"Email sent",description:"Verification email resent. Please check your inbox."}),{error:null}}catch(T){return le({title:"Failed to resend email",description:T.message,variant:"destructive"}),{error:T}}},C=async T=>{try{return await Jne(Cr,T,{url:`${window.location.origin}/reset-password`,handleCodeInApp:!0}),le({title:"Password reset email sent",description:"Please check your inbox for a password reset link."}),{error:null}}catch(R){return le({title:"Failed to send password reset email",description:R.message,variant:"destructive"}),{error:R}}},P=async(T,R)=>{try{return await Zne(Cr,T,R),le({title:"Password reset successful",description:"Your password has been reset. You can now sign in with your new password."}),{error:null}}catch(_){return le({title:"Password reset failed",description:_.message,variant:"destructive"}),{error:_}}},S=async T=>{try{const R=T.startsWith("+")?T:`+${T}`;window.recaptchaVerifier||(window.recaptchaVerifier=new Ise(Cr,"recaptcha-container",{size:"invisible"}));const _=await Dse(Cr,R,window.recaptchaVerifier);return window.verificationId=_.verificationId,le({title:"OTP sent",description:"Please enter the OTP sent to your phone number."}),{error:null,verificationId:_.verificationId}}catch(R){return le({title:"Failed to send OTP",description:R.message,variant:"destructive"}),{error:R}}},A=async(T,R)=>{try{const _=Mu.credential(R,T);if(Cr.currentUser)await Xne(Cr.currentUser,_),await pn(Ce(oe,"users",Cr.currentUser.phoneNumber||""),{uid:Cr.currentUser.uid,phoneNumber:Cr.currentUser.phoneNumber,displayName:Cr.currentUser.displayName,createdAt:new Date});else{const I=await b1(Cr,_);await pn(Ce(oe,"users",I.user.phoneNumber||""),{uid:I.user.uid,phoneNumber:I.user.phoneNumber,displayName:I.user.displayName,createdAt:new Date})}return le({title:"Phone verified",description:"Your phone number has been verified successfully."}),{error:null}}catch(_){return le({title:"OTP verification failed",description:_.message,variant:"destructive"}),{error:_}}};return i.jsxs(oq.Provider,{value:{user:e,loading:n,isEmailVerified:a,isProfileVerified:l,profileVerificationStatus:u,showWelcomePopup:h,signUp:p,signIn:v,signOut:w,resendConfirmation:E,sendPasswordResetEmail:C,confirmPasswordReset:P,sendPhoneOTP:S,verifyPhoneOTP:A,deleteAccount:N,closeWelcomePopup:b,clearAuthState:j},children:[t,i.jsx(jme,{isVisible:h,userName:(e==null?void 0:e.displayName)||void 0,onClose:b})]})},Dr=()=>{const t=g.useContext(oq);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},lq=g.createContext(void 0),Sme=({children:t})=>{let e=null;try{const{user:P}=Dr();e=P}catch{console.warn("UsageProvider: AuthProvider not ready yet, continuing with null user")}const[r,n]=g.useState(null),[s,a]=g.useState({enquiriesPosted:0,supplierSubmissions:0,responseViewsUsed:{},purchasedCredits:{enquiries:0,submissions:0,responseViews:0},premiumSubscription:!1,premiumEnquiries:[],monthlyEnquiriesUsed:0,premiumPackPurchased:!1,premiumPackEnquiriesUsed:0});g.useEffect(()=>{if(!e)return;const P=`palUsageStats:${e.uid}`,S=localStorage.getItem(P);a(S?JSON.parse(S):{enquiriesPosted:0,supplierSubmissions:0,responseViewsUsed:{},purchasedCredits:{enquiries:0,submissions:0,responseViews:0},premiumSubscription:!1,premiumEnquiries:[],monthlyEnquiriesUsed:0,premiumPackPurchased:!1,premiumPackEnquiriesUsed:0})},[e]),g.useEffect(()=>{n(e?{id:e.uid,email:e.email||"",name:e.displayName||e.email||"User",role:"both"}:null)},[e]),g.useEffect(()=>{if(!e)return;const P=`palUsageStats:${e.uid}`;localStorage.setItem(P,JSON.stringify(s))},[s,e]);const o=()=>!!r,l=()=>{if(!r)return!1;const S=5+s.purchasedCredits.submissions;return s.supplierSubmissions<S},c=P=>r?(s.responseViewsUsed[P]||0)<2:!1,u=P=>{var S;return r&&(s.premiumSubscription||((S=s.premiumEnquiries)==null?void 0:S.includes(P)))||!1},d=P=>{var R;if(!r)return{canView:0,total:0,isPremium:!1};const S=2,A=s.responseViewsUsed[P]||0;return s.premiumSubscription||((R=s.premiumEnquiries)==null?void 0:R.includes(P))||!1?{canView:999,total:999,isPremium:!0}:{canView:Math.max(0,S-A),total:S,isPremium:!1}},h=()=>{a(P=>({...P,enquiriesPosted:P.enquiriesPosted+1}))},f=()=>{a(P=>({...P,supplierSubmissions:P.supplierSubmissions+1}))},m=P=>{a(S=>({...S,responseViewsUsed:{...S.responseViewsUsed,[P]:(S.responseViewsUsed[P]||0)+1}}))},x=()=>{if(!r)return 0;const S=5+s.purchasedCredits.enquiries;return Math.max(0,S-s.enquiriesPosted)},p=()=>{if(!r)return 0;const S=5+s.purchasedCredits.submissions;return Math.max(0,S-s.supplierSubmissions)},v=P=>{if(!r)return 0;const S=2,A=Object.values(s.responseViewsUsed).reduce((R,_)=>R+_,0),T=S+s.purchasedCredits.responseViews;return Math.max(0,T-A)},w=(P,S)=>{a(A=>({...A,purchasedCredits:{...A.purchasedCredits,[P]:A.purchasedCredits[P]+S}}))},b=P=>{if(!r)return 0;switch(P){case"enquiries":return 5+s.purchasedCredits.enquiries;case"submissions":return 5+s.purchasedCredits.submissions;case"responseViews":return 2+s.purchasedCredits.responseViews;default:return 0}},j=P=>{console.log("UsageContext: Purchasing premium for enquiry:",P),a(S=>{if(S.premiumEnquiries.includes(P))return console.log("UsageContext: Enquiry already premium, skipping"),S;const A={...S,premiumEnquiries:[...S.premiumEnquiries,P]};return console.log("UsageContext: Updated premiumEnquiries:",A.premiumEnquiries),A})},N=()=>{const P=new Date;P.setMonth(P.getMonth()+1),a(S=>({...S,premiumSubscription:!0,premiumSubscriptionExpiry:P,monthlyEnquiriesUsed:0}))},E=()=>{a(P=>({...P,premiumPackPurchased:!0,premiumPackEnquiriesUsed:0}))},C=()=>s.premiumPackPurchased?10-s.premiumPackEnquiriesUsed:0;return i.jsx(lq.Provider,{value:{user:r,usageStats:s,setUser:n,canPostEnquiry:o,canSubmitResponse:l,canViewResponse:c,canViewAllResponses:u,getResponseViewLimit:d,incrementEnquiries:h,incrementSubmissions:f,incrementResponseViews:m,getRemainingEnquiries:x,getRemainingSubmissions:p,getRemainingResponseViews:v,purchaseCredits:w,getAvailableCredits:b,purchasePremiumEnquiry:j,purchaseMonthlySubscription:N,purchasePremiumPack:E,getRemainingPremiumPackEnquiries:C},children:t})},vm=()=>{const t=g.useContext(lq);if(t===void 0)throw new Error("useUsage must be used within a UsageProvider");return t},Eme="modulepreload",Pme=function(t){return"/"+t},IM={},nd=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Pme(c),c in IM)return;IM[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Eme,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},_me=g.createContext(void 0),Ame=({children:t})=>{const[e,r]=g.useState(null),[n,s]=g.useState(!1),[a,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(null),[h,f]=g.useState(!1),m=A=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A),x=async(A,T,R)=>{try{if(s(!0),m(A)){const _={uid:`mock_${Date.now()}`,email:A,displayName:(R==null?void 0:R.full_name)||"Mock User",emailVerified:!1};return localStorage.setItem("mockUser",JSON.stringify(_)),le({title:"Mock Account Created!",description:`Mock account created for ${A}. This is for testing only.`}),s(!1),{error:null,requiresVerification:!1}}else return le({title:"Phone authentication disabled",description:"Please use email authentication in mock mode.",variant:"destructive"}),s(!1),{error:new Error("Phone authentication disabled")}}catch(_){return le({title:"Mock sign up failed",description:_.message,variant:"destructive"}),s(!1),{error:_}}},p=async(A,T)=>{try{if(console.log(" Mock sign-in for:",A),s(!0),m(A)){const R=localStorage.getItem("mockUser");if(R){const I=JSON.parse(R);if(I.email===A)return r(I),o(!0),f(!0),s(!1),{error:null}}const _={uid:`mock_${Date.now()}`,email:A,displayName:"Mock User",emailVerified:!0};return localStorage.setItem("mockUser",JSON.stringify(_)),r(_),o(!0),f(!0),s(!1),{error:null}}else return le({title:"Phone authentication disabled",description:"Please use email authentication in mock mode.",variant:"destructive"}),s(!1),{error:new Error("Phone authentication disabled")}}catch(R){return console.error(" Mock signIn error:",R),le({title:"Mock sign in failed",description:R.message,variant:"destructive"}),s(!1),{error:R}}},v=async()=>{try{console.log(" Mock sign-out"),localStorage.removeItem("mockUser"),r(null),o(!1),c(!1),d(null),f(!1),le({title:"Mock signed out",description:"You have been signed out from mock authentication."}),setTimeout(()=>{window.location.href="/"},100)}catch(A){console.error(" Mock sign-out error:",A),le({title:"Mock sign out failed",description:A.message,variant:"destructive"})}},w=()=>{f(!1)},b=()=>{console.log(" Clearing mock authentication state"),r(null),o(!1),c(!1),d(null),f(!1),s(!1)};g.useEffect(()=>{const A=localStorage.getItem("mockUser");if(A){const T=JSON.parse(A);r(T),o(T.emailVerified)}},[]);const j=async()=>(le({title:"Mock email sent",description:"Mock verification email resent."}),{error:null}),N=async A=>(le({title:"Mock password reset email sent",description:"Mock password reset email sent."}),{error:null}),E=async(A,T)=>(le({title:"Mock password reset successful",description:"Mock password reset successful."}),{error:null}),C=async A=>(le({title:"Mock OTP sent",description:"Mock OTP sent to phone number."}),{error:null,verificationId:"mock_verification_id"}),P=async(A,T)=>(le({title:"Mock phone verified",description:"Mock phone number verified."}),{error:null}),S=async()=>(localStorage.removeItem("mockUser"),r(null),le({title:"Mock account deleted",description:"Mock account deleted successfully."}),window.location.href="/",{error:null});return i.jsx(_me.Provider,{value:{user:e,loading:n,isEmailVerified:a,isProfileVerified:l,profileVerificationStatus:u,showWelcomePopup:h,signUp:x,signIn:p,signOut:v,resendConfirmation:j,sendPasswordResetEmail:N,confirmPasswordReset:E,sendPhoneOTP:C,verifyPhoneOTP:P,deleteAccount:S,closeWelcomePopup:w,clearAuthState:b},children:t})},Tme=({children:t})=>{const[e,r]=g.useState(!1),[n,s]=g.useState(!0);return g.useEffect(()=>{console.log(" Using Firebase Authentication (confirmed working)"),r(!1),s(!1)},[]),n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-slate-600 font-medium",children:"Initializing authentication..."})]})}):e?(console.log(" Using Mock Authentication Provider"),i.jsx(Ame,{children:t})):(console.log(" Using Firebase Authentication Provider"),i.jsx(Nme,{children:t}))};class Cme{constructor(){Tn(this,"userPreferences",new Map);Tn(this,"analytics",new Map)}async initializeUserNotifications(e){try{if(!e||typeof e!="string"){console.warn("Invalid userId provided to initializeUserNotifications");return}const r=this.getUserPreferences(e);this.userPreferences.set(e,r),this.analytics.set(e,{totalSent:0,readRate:0,clickRate:0,userEngagement:0,optimalTiming:[]}),console.log("Smart notifications initialized for user:",e)}catch(r){console.error("Failed to initialize notifications:",r)}}getUserPreferences(e){try{const r=localStorage.getItem(`notification_prefs_${e}`);if(r)return JSON.parse(r)}catch(r){console.warn("Failed to parse stored notification preferences:",r)}return{userId:e,enabledTypes:["admin_approval","new_response","new_chat","enquiry_update","achievement"],quietHours:{start:"22:00",end:"07:00"},frequency:"immediate",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}async saveUserPreferences(e,r){try{const s={...this.userPreferences.get(e)||this.getUserPreferences(e),...r};this.userPreferences.set(e,s),localStorage.setItem(`notification_prefs_${e}`,JSON.stringify(s))}catch(n){console.error("Failed to save preferences:",n)}}generateNotificationContent(e,r,n){const s=this.userPreferences.get(n);switch(this.isQuietTime(s),e){case"admin_approval":return{type:e,title:r.title||(r.approved?"Approved! ":"Update Required"),message:r.message||(r.approved?`${r.itemType||"Item"} has been approved and is now live!`:`${r.itemType||"Item"} needs some updates. Please check the requirements.`),priority:r.priority||(r.approved?"medium":"high"),actionUrl:r.actionUrl,actionText:r.actionText||(r.approved?"View Now":"Update Now"),metadata:{approved:r.approved,itemType:r.itemType}};case"new_response":return{type:e,title:r.title||"New Response! ",message:r.message||`You got a response to "${r.enquiryTitle||"your enquiry"}" from ${r.sellerName||"a seller"}`,priority:r.priority||"high",actionUrl:r.actionUrl||`/enquiry/${r.enquiryId}/responses?sellerId=${r.sellerId}`,actionText:r.actionText||"View Response",metadata:{enquiryId:r.enquiryId,sellerId:r.sellerId}};case"new_chat":return{type:e,title:r.title||"New Message! ",message:r.message||`New message from ${r.senderName||"someone"} about "${r.enquiryTitle||"your enquiry"}"`,priority:r.priority||"high",actionUrl:r.actionUrl||`/enquiry/${r.enquiryId}/responses?sellerId=${r.senderId}`,actionText:r.actionText||"Chat Now",metadata:{enquiryId:r.enquiryId,senderId:r.senderId}};case"enquiry_update":return{type:e,title:r.title||"Enquiry Update ",message:r.message||"Your enquiry has been updated",priority:r.priority||"medium",actionUrl:r.actionUrl||`/enquiry/${r.enquiryId}`,actionText:r.actionText||"View Details",metadata:{enquiryId:r.enquiryId,updateType:r.updateType}};case"achievement":return{type:e,title:"Achievement Unlocked! ",message:r.message,priority:"medium",actionUrl:r.actionUrl,actionText:"View Achievement",metadata:{achievementType:r.achievementType}};case"reminder":return{type:e,title:"Reminder ",message:r.message,priority:"low",actionUrl:r.actionUrl,actionText:"Take Action",metadata:{reminderType:r.reminderType}};case"system":return{type:e,title:"System Update ",message:r.message,priority:"low",actionUrl:r.actionUrl,actionText:"Learn More",metadata:{systemType:r.systemType}};default:return{type:e,title:"Notification",message:r.message||"You have a new notification",priority:"medium",actionUrl:r.actionUrl,actionText:"View",metadata:r}}}isQuietTime(e){if(!(e!=null&&e.quietHours))return!1;const r=new Date,n=r.getHours()*60+r.getMinutes(),[s,a]=e.quietHours.start.split(":").map(Number),[o,l]=e.quietHours.end.split(":").map(Number),c=s*60+a,u=o*60+l;return n>=c||n<=u}getOptimalDeliveryTime(e,r){const n=this.userPreferences.get(e),s=this.analytics.get(e);if(r==="urgent")return new Date;if(this.isQuietTime(n)){const a=new Date;return a.setDate(a.getDate()+1),a.setHours(8,0,0,0),a}if((s==null?void 0:s.optimalTiming.length)>0){const a=s.optimalTiming.reduce((l,c)=>c.engagement>l.engagement?c:l),o=new Date;return o.setHours(a.hour,0,0,0),o}return new Date}async createNotification(e,r,n){try{const s=this.generateNotificationContent(r,n,e),a=this.getOptimalDeliveryTime(e,s.priority),o={id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...s,timestamp:a,read:!1};return await this.storeNotification(e,o),this.updateAnalytics(e,"sent"),o}catch(s){throw console.error("Failed to create notification:",s),s}}async storeNotification(e,r){try{const n=`notifications_${e}`,s=JSON.parse(localStorage.getItem(n)||"[]"),a=new Date,o=new Date(r.timestamp),l=new Date(a.getTime()-3e4);if(o<l){console.log(" Skipping old notification - too old to store (>30sec)");return}s.push(r),s.length>20&&s.splice(0,s.length-20);const c=s.filter(u=>new Date(u.timestamp)>=l);localStorage.setItem(n,JSON.stringify(c)),console.log(` Stored notification (total: ${c.length} fresh)`)}catch(n){console.error("Failed to store notification:",n)}}async getUserNotifications(e,r=20){try{const n=`notifications_${e}`,s=localStorage.getItem(n);if(!s)return[];const a=JSON.parse(s),o=new Date,l=new Date(o.getTime()-3e4);return a.filter(u=>!u||!u.timestamp?!1:new Date(u.timestamp)>=l).sort((u,d)=>new Date(d.timestamp).getTime()-new Date(u.timestamp).getTime()).slice(0,r)}catch(n){return console.error("Failed to get notifications:",n),[]}}async markAsRead(e,r){try{const n=`notifications_${e}`,s=JSON.parse(localStorage.getItem(n)||"[]"),a=s.find(o=>o.id===r);a&&(a.read=!0,localStorage.setItem(n,JSON.stringify(s)),this.updateAnalytics(e,"read"))}catch(n){console.error("Failed to mark notification as read:",n)}}async markAsUnread(e,r){try{const n=`notifications_${e}`,s=JSON.parse(localStorage.getItem(n)||"[]"),a=s.find(o=>o.id===r);a&&(a.read=!1,localStorage.setItem(n,JSON.stringify(s)))}catch(n){console.error("Failed to mark notification as unread:",n)}}updateAnalytics(e,r){const n=this.analytics.get(e);if(n){switch(r){case"sent":n.totalSent++;break;case"read":n.readRate=(n.readRate+1)/n.totalSent;break;case"clicked":n.clickRate=(n.clickRate+1)/n.totalSent;break}this.analytics.set(e,n)}}getAnalytics(e){return this.analytics.get(e)||null}async clearAllNotifications(e){try{const r=`notifications_${e}`;localStorage.removeItem(r)}catch(r){console.error("Failed to clear notifications:",r)}}}const wl=new Cme,Ea=g.createContext(void 0),kme=({children:t})=>{const{user:e}=Dr(),[r,n]=g.useState([]),[s,a]=g.useState(0),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,h]=g.useState(!1);g.useEffect(()=>{if(!(e!=null&&e.uid)){n([]),a(0),h(!1);return}(async()=>{try{await f(),await m(),n([]),a(0),h(!0),console.log(" Notification system initialized - starting fresh (no old data)")}catch(A){console.error("Failed to initialize notifications:",A),n([]),a(0),h(!0)}})()},[e==null?void 0:e.uid]);const f=async()=>{try{Object.keys(localStorage).forEach(A=>{(A.includes("notification")||A.includes("notif")||A.startsWith("notifications_")||A.startsWith("notification_prefs_"))&&localStorage.removeItem(A)}),console.log(" CLEARED ALL OLD NOTIFICATIONS FOR ALL USERS")}catch(S){console.error("Failed to clear old notifications:",S)}},m=async()=>{e!=null&&e.uid&&await wl.initializeUserNotifications(e.uid)},x=async()=>{if(e!=null&&e.uid){l(!0);try{await f(),n([]),a(0),console.log(" Notification system cleared - NO old notifications will be shown")}catch(S){console.error("Failed to refresh notifications:",S),n([]),a(0)}finally{l(!1)}}},p=async S=>{if(!(!(e!=null&&e.uid)||!S))try{const A=r.find(T=>T.id===S);if(A&&A.read)return;await wl.markAsRead(e.uid,S),n(T=>T.map(R=>R.id===S?{...R,read:!0}:R)),A&&!A.read&&a(T=>Math.max(0,T-1))}catch(A){console.error("Failed to mark notification as read:",A)}},v=async S=>{if(!(!(e!=null&&e.uid)||!S))try{const A=r.find(T=>T.id===S);if(A&&!A.read)return;await wl.markAsUnread(e.uid,S),n(T=>T.map(R=>R.id===S?{...R,read:!1}:R)),A!=null&&A.read&&a(T=>T+1)}catch(A){console.error("Failed to mark notification as unread:",A)}},w=async()=>{if(e!=null&&e.uid)try{const S=r.filter(A=>A&&!A.read);if(S.length===0)return;for(const A of S)A.id&&await wl.markAsRead(e.uid,A.id);n(A=>A.map(T=>({...T,read:!0}))),a(0)}catch(S){console.error("Failed to mark all as read:",S)}},b=async(S,A)=>{if(e!=null&&e.uid)try{const T=await wl.createNotification(e.uid,S,A);n(R=>[T,...R]),a(R=>R+1)}catch(T){console.error("Failed to create notification:",T)}},j=async(S,A,T)=>{if(S)try{await wl.createNotification(S,A,T),S===(e==null?void 0:e.uid)&&await x()}catch(R){console.error("Failed to create notification for user:",R)}},N=async()=>{if(e!=null&&e.uid)try{await wl.clearAllNotifications(e.uid),n([]),a(0)}catch(S){console.error("Failed to clear notifications:",S)}},E=async S=>{if(e!=null&&e.uid)try{await wl.saveUserPreferences(e.uid,S),u(A=>A?{...A,...S}:null)}catch(A){console.error("Failed to update preferences:",A)}},C=async()=>!1,P={notifications:Array.isArray(r)?r:[],unreadCount:typeof s=="number"?s:0,loading:typeof o=="boolean"?o:!1,preferences:c,createNotification:b,createNotificationForUser:j,markAsRead:p,markAsUnread:v,markAllAsRead:w,clearAllNotifications:N,updatePreferences:E,refreshNotifications:x,requestNotificationPermission:C};return i.jsx(Ea.Provider,{value:P,children:t})},Ime=()=>{const t=g.useContext(Ea);if(t===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return t},be=g.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:He("rounded-2xl border-2 border-gray-100 bg-white text-card-foreground shadow-md hover:shadow-lg transition-all duration-300 ease-out",t),...e}));be.displayName="Card";const vt=g.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:He("flex flex-col space-y-2 p-6 sm:p-8",t),...e}));vt.displayName="CardHeader";const cr=g.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:He("text-xl sm:text-2xl font-bold leading-tight tracking-tight text-gray-900",t),...e}));cr.displayName="CardTitle";const Bu=g.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:He("text-sm sm:text-base text-gray-600 leading-relaxed",t),...e}));Bu.displayName="CardDescription";const Ve=g.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:He("px-6 sm:px-8 pb-6 pt-0",t),...e}));Ve.displayName="CardContent";const Rme=g.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:He("flex items-center px-6 sm:px-8 pb-6 pt-0 gap-2",t),...e}));Rme.displayName="CardFooter";const cq=g.createContext({});function Ome(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const ck=typeof window<"u",Dme=ck?g.useLayoutEffect:g.useEffect,uk=g.createContext(null);function dk(t,e){t.indexOf(e)===-1&&t.push(e)}function hk(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const rl=(t,e,r)=>r>e?e:r<t?t:r;let Fb=()=>{};const nl={},uq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function dq(t){return typeof t=="object"&&t!==null}const hq=t=>/^0[^.\s]+$/u.test(t);function fk(t){let e;return()=>(e===void 0&&(e=t()),e)}const Mi=t=>t,Mme=(t,e)=>r=>e(t(r)),gy=(...t)=>t.reduce(Mme),rx=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class mk{constructor(){this.subscriptions=[]}add(e){return dk(this.subscriptions,e),()=>hk(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ja=t=>t*1e3,Ri=t=>t/1e3;function fq(t,e){return e?t*(1e3/e):0}const mq=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,$me=1e-7,Lme=12;function Fme(t,e,r,n,s){let a,o,l=0;do o=e+(r-e)/2,a=mq(o,n,s)-t,a>0?r=o:e=o;while(Math.abs(a)>$me&&++l<Lme);return o}function xy(t,e,r,n){if(t===e&&r===n)return Mi;const s=a=>Fme(a,0,1,t,r);return a=>a===0||a===1?a:mq(s(a),e,n)}const pq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gq=t=>e=>1-t(1-e),xq=xy(.33,1.53,.69,.99),pk=gq(xq),yq=pq(pk),vq=t=>(t*=2)<1?.5*pk(t):.5*(2-Math.pow(2,-10*(t-1))),gk=t=>1-Math.sin(Math.acos(t)),bq=gq(gk),wq=pq(gk),Vme=xy(.42,0,1,1),Bme=xy(0,0,.58,1),jq=xy(.42,0,.58,1),Ume=t=>Array.isArray(t)&&typeof t[0]!="number",Nq=t=>Array.isArray(t)&&typeof t[0]=="number",RM={linear:Mi,easeIn:Vme,easeInOut:jq,easeOut:Bme,circIn:gk,circInOut:wq,circOut:bq,backIn:pk,backInOut:yq,backOut:xq,anticipate:vq},qme=t=>typeof t=="string",OM=t=>{if(Nq(t)){Fb(t.length===4);const[e,r,n,s]=t;return xy(e,r,n,s)}else if(qme(t))return Fb(RM[t]!==void 0),RM[t];return t},$0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],DM={value:null,addProjectionMetrics:null};function zme(t,e){let r=new Set,n=new Set,s=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),t()),c++,h(l)}const d={schedule:(h,f=!1,m=!1)=>{const p=m&&s?r:n;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),e&&DM.value&&DM.value.frameloop[e].push(c),c=0,r.clear(),s=!1,a&&(a=!1,d.process(h))}};return d}const Wme=40;function Sq(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=$0.reduce((j,N)=>(j[N]=zme(a,e?N:void 0),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:x}=o,p=()=>{const j=nl.useManualTiming?s.timestamp:performance.now();r=!1,nl.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(j-s.timestamp,Wme),1)),s.timestamp=j,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),x.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(p))},v=()=>{r=!0,n=!0,s.isProcessing||t(p)};return{schedule:$0.reduce((j,N)=>{const E=o[N];return j[N]=(C,P=!1,S=!1)=>(r||v(),E.schedule(C,P,S)),j},{}),cancel:j=>{for(let N=0;N<$0.length;N++)o[$0[N]].cancel(j)},state:s,steps:o}}const{schedule:Rr,cancel:_c,state:Wn,steps:L2}=Sq(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mi,!0);let Iv;function Hme(){Iv=void 0}const Bs={now:()=>(Iv===void 0&&Bs.set(Wn.isProcessing||nl.useManualTiming?Wn.timestamp:performance.now()),Iv),set:t=>{Iv=t,queueMicrotask(Hme)}},Eq=t=>e=>typeof e=="string"&&e.startsWith(t),xk=Eq("--"),Gme=Eq("var(--"),yk=t=>Gme(t)?Kme.test(t.split("/*")[0].trim()):!1,Kme=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nx={...bm,transform:t=>rl(0,1,t)},L0={...bm,default:1},og=t=>Math.round(t*1e5)/1e5,vk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Yme(t){return t==null}const Qme=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bk=(t,e)=>r=>!!(typeof r=="string"&&Qme.test(r)&&r.startsWith(t)||e&&!Yme(r)&&Object.prototype.hasOwnProperty.call(r,e)),Pq=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,a,o,l]=n.match(vk);return{[t]:parseFloat(s),[e]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Xme=t=>rl(0,255,t),F2={...bm,transform:t=>Math.round(Xme(t))},wu={test:bk("rgb","red"),parse:Pq("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+F2.transform(t)+", "+F2.transform(e)+", "+F2.transform(r)+", "+og(nx.transform(n))+")"};function Jme(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const AP={test:bk("#"),parse:Jme,transform:wu.transform},yy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sl=yy("deg"),Za=yy("%"),ut=yy("px"),Zme=yy("vh"),epe=yy("vw"),MM={...Za,parse:t=>Za.parse(t)/100,transform:t=>Za.transform(t*100)},ah={test:bk("hsl","hue"),parse:Pq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Za.transform(og(e))+", "+Za.transform(og(r))+", "+og(nx.transform(n))+")"},cn={test:t=>wu.test(t)||AP.test(t)||ah.test(t),parse:t=>wu.test(t)?wu.parse(t):ah.test(t)?ah.parse(t):AP.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wu.transform(t):ah.transform(t),getAnimatableNone:t=>{const e=cn.parse(t);return e.alpha=0,cn.transform(e)}},tpe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rpe(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(vk))==null?void 0:e.length)||0)+(((r=t.match(tpe))==null?void 0:r.length)||0)>0}const _q="number",Aq="color",npe="var",spe="var(",$M="${}",ipe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sx(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const l=e.replace(ipe,c=>(cn.test(c)?(n.color.push(a),s.push(Aq),r.push(cn.parse(c))):c.startsWith(spe)?(n.var.push(a),s.push(npe),r.push(c)):(n.number.push(a),s.push(_q),r.push(parseFloat(c))),++a,$M)).split($M);return{values:r,split:l,indexes:n,types:s}}function Tq(t){return sx(t).values}function Cq(t){const{split:e,types:r}=sx(t),n=e.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],s[o]!==void 0){const l=r[o];l===_q?a+=og(s[o]):l===Aq?a+=cn.transform(s[o]):a+=s[o]}return a}}const ape=t=>typeof t=="number"?0:cn.test(t)?cn.getAnimatableNone(t):t;function ope(t){const e=Tq(t);return Cq(t)(e.map(ape))}const Ac={test:rpe,parse:Tq,createTransformer:Cq,getAnimatableNone:ope};function V2(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function lpe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,a=0,o=0;if(!e)s=a=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;s=V2(c,l,t+1/3),a=V2(c,l,t),o=V2(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function Vb(t,e){return r=>r>0?e:t}const Vr=(t,e,r)=>t+(e-t)*r,B2=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},cpe=[AP,wu,ah],upe=t=>cpe.find(e=>e.test(t));function LM(t){const e=upe(t);if(!e)return!1;let r=e.parse(t);return e===ah&&(r=lpe(r)),r}const FM=(t,e)=>{const r=LM(t),n=LM(e);if(!r||!n)return Vb(t,e);const s={...r};return a=>(s.red=B2(r.red,n.red,a),s.green=B2(r.green,n.green,a),s.blue=B2(r.blue,n.blue,a),s.alpha=Vr(r.alpha,n.alpha,a),wu.transform(s))},TP=new Set(["none","hidden"]);function dpe(t,e){return TP.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function hpe(t,e){return r=>Vr(t,e,r)}function wk(t){return typeof t=="number"?hpe:typeof t=="string"?yk(t)?Vb:cn.test(t)?FM:ppe:Array.isArray(t)?kq:typeof t=="object"?cn.test(t)?FM:fpe:Vb}function kq(t,e){const r=[...t],n=r.length,s=t.map((a,o)=>wk(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=s[o](a);return r}}function fpe(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=wk(t[s])(t[s],e[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function mpe(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][n[a]],l=t.values[o]??0;r[s]=l,n[a]++}return r}const ppe=(t,e)=>{const r=Ac.createTransformer(e),n=sx(t),s=sx(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?TP.has(t)&&!s.values.length||TP.has(e)&&!n.values.length?dpe(t,e):gy(kq(mpe(n,s),s.values),r):Vb(t,e)};function Iq(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Vr(t,e,r):wk(t)(t,e)}const gpe=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Rr.update(e,r),stop:()=>_c(e),now:()=>Wn.isProcessing?Wn.timestamp:Bs.now()}},Rq=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let a=0;a<s;a++)n+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Bb=2e4;function jk(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Bb;)e+=r,n=t.next(e);return e>=Bb?1/0:e}function xpe(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(jk(n),Bb);return{type:"keyframes",ease:a=>n.next(s*a).value/e,duration:Ri(s)}}const ype=5;function Oq(t,e,r){const n=Math.max(e-ype,0);return fq(r-t(n),e-n)}const Qr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},U2=.001;function vpe({duration:t=Qr.duration,bounce:e=Qr.bounce,velocity:r=Qr.velocity,mass:n=Qr.mass}){let s,a,o=1-e;o=rl(Qr.minDamping,Qr.maxDamping,o),t=rl(Qr.minDuration,Qr.maxDuration,Ri(t)),o<1?(s=u=>{const d=u*o,h=d*t,f=d-r,m=CP(u,o),x=Math.exp(-h);return U2-f/m*x},a=u=>{const h=u*o*t,f=h*r+r,m=Math.pow(o,2)*Math.pow(u,2)*t,x=Math.exp(-h),p=CP(Math.pow(u,2),o);return(-s(u)+U2>0?-1:1)*((f-m)*x)/p}):(s=u=>{const d=Math.exp(-u*t),h=(u-r)*t+1;return-U2+d*h},a=u=>{const d=Math.exp(-u*t),h=(r-u)*(t*t);return d*h});const l=5/t,c=wpe(s,a,l);if(t=Ja(t),isNaN(c))return{stiffness:Qr.stiffness,damping:Qr.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const bpe=12;function wpe(t,e,r){let n=r;for(let s=1;s<bpe;s++)n=n-t(n)/e(n);return n}function CP(t,e){return t*Math.sqrt(1-e*e)}const jpe=["duration","bounce"],Npe=["stiffness","damping","mass"];function VM(t,e){return e.some(r=>t[r]!==void 0)}function Spe(t){let e={velocity:Qr.velocity,stiffness:Qr.stiffness,damping:Qr.damping,mass:Qr.mass,isResolvedFromDuration:!1,...t};if(!VM(t,Npe)&&VM(t,jpe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*rl(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Qr.mass,stiffness:s,damping:a}}else{const r=vpe(t);e={...e,...r,mass:Qr.mass},e.isResolvedFromDuration=!0}return e}function Ub(t=Qr.visualDuration,e=Qr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=Spe({...r,velocity:-Ri(r.velocity||0)}),x=f||0,p=u/(2*Math.sqrt(c*d)),v=o-a,w=Ri(Math.sqrt(c/d)),b=Math.abs(v)<5;n||(n=b?Qr.restSpeed.granular:Qr.restSpeed.default),s||(s=b?Qr.restDelta.granular:Qr.restDelta.default);let j;if(p<1){const E=CP(w,p);j=C=>{const P=Math.exp(-p*w*C);return o-P*((x+p*w*v)/E*Math.sin(E*C)+v*Math.cos(E*C))}}else if(p===1)j=E=>o-Math.exp(-w*E)*(v+(x+w*v)*E);else{const E=w*Math.sqrt(p*p-1);j=C=>{const P=Math.exp(-p*w*C),S=Math.min(E*C,300);return o-P*((x+p*w*v)*Math.sinh(S)+E*v*Math.cosh(S))/E}}const N={calculatedDuration:m&&h||null,next:E=>{const C=j(E);if(m)l.done=E>=h;else{let P=E===0?x:0;p<1&&(P=E===0?Ja(x):Oq(j,E,C));const S=Math.abs(P)<=n,A=Math.abs(o-C)<=s;l.done=S&&A}return l.value=l.done?o:C,l},toString:()=>{const E=Math.min(jk(N),Bb),C=Rq(P=>N.next(E*P).value,E,30);return E+"ms "+C},toTransition:()=>{}};return N}Ub.applyToOptions=t=>{const e=xpe(t,100,Ub);return t.ease=e.ease,t.duration=Ja(e.duration),t.type="keyframes",t};function kP({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=S=>l!==void 0&&S<l||c!==void 0&&S>c,x=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let p=r*e;const v=h+p,w=o===void 0?v:o(v);w!==v&&(p=w-h);const b=S=>-p*Math.exp(-S/n),j=S=>w+b(S),N=S=>{const A=b(S),T=j(S);f.done=Math.abs(A)<=u,f.value=f.done?w:T};let E,C;const P=S=>{m(f.value)&&(E=S,C=Ub({keyframes:[f.value,x(f.value)],velocity:Oq(j,S,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:S=>{let A=!1;return!C&&E===void 0&&(A=!0,N(S),P(S)),E!==void 0&&S>=E?C.next(S-E):(!A&&N(S),f)}}}function Epe(t,e,r){const n=[],s=r||nl.mix||Iq,a=t.length-1;for(let o=0;o<a;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Mi:e;l=gy(c,l)}n.push(l)}return n}function Ppe(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const a=t.length;if(Fb(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Epe(e,n,s),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=rx(t[h],t[h+1],d);return l[h](f)};return r?d=>u(rl(t[0],t[a-1],d)):u}function _pe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=rx(0,e,n);t.push(Vr(r,1,s))}}function Ape(t){const e=[0];return _pe(e,t.length-1),e}function Tpe(t,e){return t.map(r=>r*e)}function Cpe(t,e){return t.map(()=>e||jq).splice(0,t.length-1)}function lg({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=Ume(n)?n.map(OM):OM(n),a={done:!1,value:e[0]},o=Tpe(r&&r.length===e.length?r:Ape(e),t),l=Ppe(o,e,{ease:Array.isArray(s)?s:Cpe(e,s)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const kpe=t=>t!==null;function Nk(t,{repeat:e,repeatType:r="loop"},n,s=1){const a=t.filter(kpe),l=s<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const Ipe={decay:kP,inertia:kP,tween:lg,keyframes:lg,spring:Ub};function Dq(t){typeof t.type=="string"&&(t.type=Ipe[t.type])}class Sk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Rpe=t=>t/100;class Ek extends Sk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Bs.now()&&this.tick(Bs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Dq(e);const{type:r=lg,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=r||lg;c!==lg&&typeof l[0]!="number"&&(this.mixKeyframes=gy(Rpe,Iq(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=jk(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:x,onUpdate:p,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,N=n;if(h){const S=Math.min(this.currentTime,s)/l;let A=Math.floor(S),T=S%1;!T&&S>=1&&(T=1),T===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(f==="reverse"?(T=1-T,m&&(T-=m/l)):f==="mirror"&&(N=o)),j=rl(0,1,T)*l}const E=b?{done:!1,value:d[0]}:N.next(j);a&&(E.value=a(E.value));let{done:C}=E;!b&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return P&&x!==kP&&(E.value=Nk(d,this.options,v,this.speed)),p&&p(E.value),P&&this.finish(),E}then(e,r){return this.finished.then(e,r)}get duration(){return Ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(this.currentTime)}set time(e){var r;e=Ja(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bs.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Ri(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=gpe,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(s=this.options).onPlay)==null||a.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Ope(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ju=t=>t*180/Math.PI,IP=t=>{const e=ju(Math.atan2(t[1],t[0]));return RP(e)},Dpe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:IP,rotateZ:IP,skewX:t=>ju(Math.atan(t[1])),skewY:t=>ju(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},RP=t=>(t=t%360,t<0&&(t+=360),t),BM=IP,UM=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),qM=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Mpe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:UM,scaleY:qM,scale:t=>(UM(t)+qM(t))/2,rotateX:t=>RP(ju(Math.atan2(t[6],t[5]))),rotateY:t=>RP(ju(Math.atan2(-t[2],t[0]))),rotateZ:BM,rotate:BM,skewX:t=>ju(Math.atan(t[4])),skewY:t=>ju(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function OP(t){return t.includes("scale")?1:0}function DP(t,e){if(!t||t==="none")return OP(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=Mpe,s=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Dpe,s=l}if(!s)return OP(e);const a=n[e],o=s[1].split(",").map(Lpe);return typeof a=="function"?a(o):o[a]}const $pe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return DP(r,e)};function Lpe(t){return parseFloat(t.trim())}const wm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jm=new Set(wm),zM=t=>t===bm||t===ut,Fpe=new Set(["x","y","z"]),Vpe=wm.filter(t=>!Fpe.has(t));function Bpe(t){const e=[];return Vpe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Uu={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>DP(e,"x"),y:(t,{transform:e})=>DP(e,"y")};Uu.translateX=Uu.x;Uu.translateY=Uu.y;const qu=new Set;let MP=!1,$P=!1,LP=!1;function Mq(){if($P){const t=Array.from(qu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=Bpe(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,o])=>{var l;(l=n.getValue(a))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}$P=!1,MP=!1,qu.forEach(t=>t.complete(LP)),qu.clear()}function $q(){qu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($P=!0)})}function Upe(){LP=!0,$q(),Mq(),LP=!1}class Pk{constructor(e,r,n,s,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(qu.add(this),MP||(MP=!0,Rr.read($q),Rr.resolveKeyframes(Mq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}Ope(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qu.delete(this)}cancel(){this.state==="scheduled"&&(qu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qpe=t=>t.startsWith("--");function zpe(t,e,r){qpe(e)?t.style.setProperty(e,r):t.style[e]=r}const Wpe=fk(()=>window.ScrollTimeline!==void 0),Hpe={};function Gpe(t,e){const r=fk(t);return()=>Hpe[e]??r()}const Lq=Gpe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Op=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,WM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Op([0,.65,.55,1]),circOut:Op([.55,0,1,.45]),backIn:Op([.31,.01,.66,-.59]),backOut:Op([.33,1.53,.69,.99])};function Fq(t,e){if(t)return typeof t=="function"?Lq()?Rq(t,e):"ease-out":Nq(t)?Op(t):Array.isArray(t)?t.map(r=>Fq(r,e)||WM.easeOut):WM[t]}function Kpe(t,e,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:r};c&&(d.offset=c);const h=Fq(l,s);Array.isArray(h)&&(d.easing=h);const f={delay:n,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function Vq(t){return typeof t=="function"&&"applyToOptions"in t}function Ype({type:t,...e}){return Vq(t)&&Lq()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Qpe extends Sk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Fb(typeof e.type!="string");const u=Ype(e);this.animation=Kpe(r,n,s,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=Nk(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):zpe(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ja(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Wpe()?(this.animation.timeline=e,Mi):r(this)}}const Bq={anticipate:vq,backInOut:yq,circInOut:wq};function Xpe(t){return t in Bq}function Jpe(t){typeof t.ease=="string"&&Xpe(t.ease)&&(t.ease=Bq[t.ease])}const HM=10;class Zpe extends Qpe{constructor(e){Jpe(e),Dq(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new Ek({...o,autoplay:!1}),c=Ja(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-HM).value,l.sample(c).value,HM),l.stop()}}const GM=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ac.test(t)||t==="0")&&!t.startsWith("url("));function ege(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function tge(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=GM(s,e),l=GM(a,e);return!o||!l?!1:ege(t)||(r==="spring"||Vq(r))&&n}function FP(t){t.duration=0,t.type="keyframes"}const rge=new Set(["opacity","clipPath","filter","transform"]),nge=fk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sge(t){var d;const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:a,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return nge()&&r&&rge.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&a!==0&&o!=="inertia"}const ige=40;class age extends Sk{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var x;super(),this.stop=()=>{var p,v;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Bs.now();const f={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Pk;this.keyframeResolver=new m(l,(p,v,w)=>this.onKeyframesResolved(p,v,f,!w),c,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Bs.now(),tge(e,a,o,l)||((nl.instantAnimations||!c)&&(d==null||d(Nk(e,n,r))),e[0]=e[e.length-1],FP(n),n.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>ige?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},m=!u&&sge(f)?new Zpe({...f,element:f.motionValue.owner.current}):new Ek(f);m.finished.then(()=>this.notifyFinished()).catch(Mi),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Upe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const oge=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lge(t){const e=oge.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function Uq(t,e,r=1){const[n,s]=lge(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return uq(o)?parseFloat(o):o}return yk(s)?Uq(s,e,r+1):s}function _k(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const qq=new Set(["width","height","top","left","right","bottom",...wm]),cge={test:t=>t==="auto",parse:t=>t},zq=t=>e=>e.test(t),Wq=[bm,ut,Za,Sl,epe,Zme,cge],KM=t=>Wq.find(zq(t));function uge(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||hq(t):!0}const dge=new Set(["brightness","contrast","saturate","opacity"]);function hge(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(vk)||[];if(!n)return t;const s=r.replace(n,"");let a=dge.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+s+")"}const fge=/\b([a-z-]*)\(.*?\)/gu,VP={...Ac,getAnimatableNone:t=>{const e=t.match(fge);return e?e.map(hge).join(" "):t}},YM={...bm,transform:Math.round},mge={rotate:Sl,rotateX:Sl,rotateY:Sl,rotateZ:Sl,scale:L0,scaleX:L0,scaleY:L0,scaleZ:L0,skew:Sl,skewX:Sl,skewY:Sl,distance:ut,translateX:ut,translateY:ut,translateZ:ut,x:ut,y:ut,z:ut,perspective:ut,transformPerspective:ut,opacity:nx,originX:MM,originY:MM,originZ:ut},Ak={borderWidth:ut,borderTopWidth:ut,borderRightWidth:ut,borderBottomWidth:ut,borderLeftWidth:ut,borderRadius:ut,radius:ut,borderTopLeftRadius:ut,borderTopRightRadius:ut,borderBottomRightRadius:ut,borderBottomLeftRadius:ut,width:ut,maxWidth:ut,height:ut,maxHeight:ut,top:ut,right:ut,bottom:ut,left:ut,padding:ut,paddingTop:ut,paddingRight:ut,paddingBottom:ut,paddingLeft:ut,margin:ut,marginTop:ut,marginRight:ut,marginBottom:ut,marginLeft:ut,backgroundPositionX:ut,backgroundPositionY:ut,...mge,zIndex:YM,fillOpacity:nx,strokeOpacity:nx,numOctaves:YM},pge={...Ak,color:cn,backgroundColor:cn,outlineColor:cn,fill:cn,stroke:cn,borderColor:cn,borderTopColor:cn,borderRightColor:cn,borderBottomColor:cn,borderLeftColor:cn,filter:VP,WebkitFilter:VP},Hq=t=>pge[t];function Gq(t,e){let r=Hq(t);return r!==VP&&(r=Ac),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const gge=new Set(["auto","none","0"]);function xge(t,e,r){let n=0,s;for(;n<t.length&&!s;){const a=t[n];typeof a=="string"&&!gge.has(a)&&sx(a).values.length&&(s=t[n]),n++}if(s&&r)for(const a of e)t[a]=Gq(r,s)}class yge extends Pk{constructor(e,r,n,s,a){super(e,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),yk(u))){const d=Uq(u,r.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!qq.has(n)||e.length!==2)return;const[s,a]=e,o=KM(s),l=KM(a);if(o!==l)if(zM(o)&&zM(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else Uu[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||uge(e[s]))&&n.push(s);n.length&&xge(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Uu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=Uu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function vge(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const Kq=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function bge(t){return dq(t)&&"offsetHeight"in t}const QM=30,wge=t=>!isNaN(parseFloat(t));class jge{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const s=Bs.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Bs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wge(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new mk);const n=this.events[e].add(r);return e==="change"?()=>{n(),Rr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>QM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,QM);return fq(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yf(t,e){return new jge(t,e)}const{schedule:Tk,cancel:YWe}=Sq(queueMicrotask,!1),Zi={x:!1,y:!1};function Yq(){return Zi.x||Zi.y}function Nge(t){return t==="x"||t==="y"?Zi[t]?null:(Zi[t]=!0,()=>{Zi[t]=!1}):Zi.x||Zi.y?null:(Zi.x=Zi.y=!0,()=>{Zi.x=Zi.y=!1})}function Qq(t,e){const r=vge(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function XM(t){return!(t.pointerType==="touch"||Yq())}function Sge(t,e,r={}){const[n,s,a]=Qq(t,r),o=l=>{if(!XM(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=h=>{XM(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const Xq=(t,e)=>e?t===e?!0:Xq(t,e.parentElement):!1,Ck=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Ege=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pge(t){return Ege.has(t.tagName)||t.tabIndex!==-1}const Rv=new WeakSet;function JM(t){return e=>{e.key==="Enter"&&t(e)}}function q2(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _ge=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=JM(()=>{if(Rv.has(r))return;q2(r,"down");const s=JM(()=>{q2(r,"up")}),a=()=>q2(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function ZM(t){return Ck(t)&&!Yq()}function Age(t,e,r={}){const[n,s,a]=Qq(t,r),o=l=>{const c=l.currentTarget;if(!ZM(l))return;Rv.add(c);const u=e(c,l),d=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Rv.has(c)&&Rv.delete(c),ZM(m)&&typeof u=="function"&&u(m,{success:x})},h=m=>{d(m,c===window||c===document||r.useGlobalTarget||Xq(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),bge(l)&&(l.addEventListener("focus",u=>_ge(u,s)),!Pge(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Jq(t){return dq(t)&&"ownerSVGElement"in t}function Tge(t){return Jq(t)&&t.tagName==="svg"}const ls=t=>!!(t&&t.getVelocity),Cge=[...Wq,cn,Ac],kge=t=>Cge.find(zq(t)),Zq=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Ige(t=!0){const e=g.useContext(uk);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,a=g.useId();g.useEffect(()=>{if(t)return s(a)},[t]);const o=g.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,o]:[!0]}const ez=g.createContext({strict:!1}),e3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vf={};for(const t in e3)vf[t]={isEnabled:e=>e3[t].some(r=>!!e[r])};function Rge(t){for(const e in t)vf[e]={...vf[e],...t[e]}}const Oge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Oge.has(t)}let tz=t=>!qb(t);function Dge(t){typeof t=="function"&&(tz=e=>e.startsWith("on")?!qb(e):t(e))}try{Dge(require("@emotion/is-prop-valid").default)}catch{}function Mge(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(tz(s)||r===!0&&qb(s)||!e&&!qb(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}const lj=g.createContext({});function cj(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ix(t){return typeof t=="string"||Array.isArray(t)}const kk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ik=["initial",...kk];function uj(t){return cj(t.animate)||Ik.some(e=>ix(t[e]))}function rz(t){return!!(uj(t)||t.variants)}function $ge(t,e){if(uj(t)){const{initial:r,animate:n}=t;return{initial:r===!1||ix(r)?r:void 0,animate:ix(n)?n:void 0}}return t.inherit!==!1?e:{}}function Lge(t){const{initial:e,animate:r}=$ge(t,g.useContext(lj));return g.useMemo(()=>({initial:e,animate:r}),[t3(e),t3(r)])}function t3(t){return Array.isArray(t)?t.join(" "):t}const ax={};function Fge(t){for(const e in t)ax[e]=t[e],xk(e)&&(ax[e].isCSSVariable=!0)}function nz(t,{layout:e,layoutId:r}){return jm.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!ax[t]||t==="opacity")}const Vge={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bge=wm.length;function Uge(t,e,r){let n="",s=!0;for(let a=0;a<Bge;a++){const o=wm[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Kq(l,Ak[o]);if(!c){s=!1;const d=Vge[o]||o;n+=`${d}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function Rk(t,e,r){const{style:n,vars:s,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(jm.has(c)){o=!0;continue}else if(xk(c)){s[c]=u;continue}else{const d=Kq(u,Ak[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(e.transform||(o||r?n.transform=Uge(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}const Ok=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sz(t,e,r){for(const n in e)!ls(e[n])&&!nz(n,r)&&(t[n]=e[n])}function qge({transformTemplate:t},e){return g.useMemo(()=>{const r=Ok();return Rk(r,e,t),Object.assign({},r.vars,r.style)},[e])}function zge(t,e){const r=t.style||{},n={};return sz(n,r,t),Object.assign(n,qge(t,e)),n}function Wge(t,e){const r={},n=zge(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Hge={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gge={offset:"strokeDashoffset",array:"strokeDasharray"};function Kge(t,e,r=1,n=0,s=!0){t.pathLength=1;const a=s?Hge:Gge;t[a.offset]=ut.transform(-n);const o=ut.transform(e),l=ut.transform(r);t[a.array]=`${o} ${l}`}function iz(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(Rk(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&Kge(h,s,a,o,!1)}const az=()=>({...Ok(),attrs:{}}),oz=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Yge(t,e,r,n){const s=g.useMemo(()=>{const a=az();return iz(a,e,oz(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};sz(a,t.style,t),s.style={...a,...s.style}}return s}const Qge=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dk(t){return typeof t!="string"||t.includes("-")?!1:!!(Qge.indexOf(t)>-1||/[A-Z]/u.test(t))}function Xge(t,e,r,{latestValues:n},s,a=!1){const l=(Dk(t)?Yge:Wge)(e,n,s,t),c=Mge(e,typeof t=="string",a),u=t!==g.Fragment?{...c,...l,ref:r}:{},{children:d}=e,h=g.useMemo(()=>ls(d)?d.get():d,[d]);return g.createElement(t,{...u,children:h})}function r3(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Mk(t,e,r,n){if(typeof e=="function"){const[s,a]=r3(n);e=e(r!==void 0?r:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=r3(n);e=e(r!==void 0?r:t.custom,s,a)}return e}function Ov(t){return ls(t)?t.get():t}function Jge({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:Zge(r,n,s,t),renderState:e()}}function Zge(t,e,r,n){const s={},a=n(t,{});for(const f in a)s[f]=Ov(a[f]);let{initial:o,animate:l}=t;const c=uj(t),u=rz(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!cj(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const x=Mk(t,f[m]);if(x){const{transitionEnd:p,transition:v,...w}=x;for(const b in w){let j=w[b];if(Array.isArray(j)){const N=d?j.length-1:0;j=j[N]}j!==null&&(s[b]=j)}for(const b in p)s[b]=p[b]}}}return s}const lz=t=>(e,r)=>{const n=g.useContext(lj),s=g.useContext(uk),a=()=>Jge(t,e,n,s);return r?a():Ome(a)};function $k(t,e,r){var a;const{style:n}=t,s={};for(const o in n)(ls(n[o])||e.style&&ls(e.style[o])||nz(o,t)||((a=r==null?void 0:r.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const exe=lz({scrapeMotionValuesFromProps:$k,createRenderState:Ok});function cz(t,e,r){const n=$k(t,e,r);for(const s in t)if(ls(t[s])||ls(e[s])){const a=wm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=t[s]}return n}const txe=lz({scrapeMotionValuesFromProps:cz,createRenderState:az}),rxe=Symbol.for("motionComponentSymbol");function oh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function nxe(t,e,r){return g.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):oh(r)&&(r.current=n))},[e])}const Lk=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sxe="framerAppearId",uz="data-"+Lk(sxe),dz=g.createContext({});function ixe(t,e,r,n,s){var p,v;const{visualElement:a}=g.useContext(lj),o=g.useContext(ez),l=g.useContext(uk),c=g.useContext(Zq).reducedMotion,u=g.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:a,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=g.useContext(dz);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&axe(u.current,r,s,h);const f=g.useRef(!1);g.useInsertionEffect(()=>{d&&f.current&&d.update(r,l)});const m=r[uz],x=g.useRef(!!m&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return Dme(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),g.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,m)}),x.current=!1),d.enteringChildren=void 0)}),d}function axe(t,e,r,n){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:hz(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&oh(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function hz(t){if(t)return t.options.allowProjection!==!1?t.projection:hz(t.parent)}function z2(t,{forwardMotionProps:e=!1}={},r,n){r&&Rge(r);const s=Dk(t)?txe:exe;function a(l,c){let u;const d={...g.useContext(Zq),...l,layoutId:oxe(l)},{isStatic:h}=d,f=Lge(l),m=s(l,h);if(!h&&ck){lxe();const x=cxe(d);u=x.MeasureLayout,f.visualElement=ixe(t,m,d,n,x.ProjectionNode)}return i.jsxs(lj.Provider,{value:f,children:[u&&f.visualElement?i.jsx(u,{visualElement:f.visualElement,...d}):null,Xge(t,l,nxe(m,f.visualElement,c),m,h,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=g.forwardRef(a);return o[rxe]=t,o}function oxe({layoutId:t}){const e=g.useContext(cq).id;return e&&t!==void 0?e+"-"+t:t}function lxe(t,e){g.useContext(ez).strict}function cxe(t){const{drag:e,layout:r}=vf;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function uxe(t,e){if(typeof Proxy>"u")return z2;const r=new Map,n=(a,o)=>z2(a,o,t,e),s=(a,o)=>n(a,o);return new Proxy(s,{get:(a,o)=>o==="create"?n:(r.has(o)||r.set(o,z2(o,void 0,t,e)),r.get(o))})}function fz({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function dxe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hxe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function W2(t){return t===void 0||t===1}function BP({scale:t,scaleX:e,scaleY:r}){return!W2(t)||!W2(e)||!W2(r)}function lu(t){return BP(t)||mz(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mz(t){return n3(t.x)||n3(t.y)}function n3(t){return t&&t!=="0%"}function zb(t,e,r){const n=t-r,s=e*n;return r+s}function s3(t,e,r,n,s){return s!==void 0&&(t=zb(t,s,n)),zb(t,r,n)+e}function UP(t,e=0,r=1,n,s){t.min=s3(t.min,e,r,n,s),t.max=s3(t.max,e,r,n,s)}function pz(t,{x:e,y:r}){UP(t.x,e.translate,e.scale,e.originPoint),UP(t.y,r.translate,r.scale,r.originPoint)}const i3=.999999999999,a3=1.0000000000001;function fxe(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let a,o;for(let l=0;l<s;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ch(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,pz(t,o)),n&&lu(a.latestValues)&&ch(t,a.latestValues))}e.x<a3&&e.x>i3&&(e.x=1),e.y<a3&&e.y>i3&&(e.y=1)}function lh(t,e){t.min=t.min+e,t.max=t.max+e}function o3(t,e,r,n,s=.5){const a=Vr(t.min,t.max,s);UP(t,e,r,a,n)}function ch(t,e){o3(t.x,e.x,e.scaleX,e.scale,e.originX),o3(t.y,e.y,e.scaleY,e.scale,e.originY)}function gz(t,e){return fz(hxe(t.getBoundingClientRect(),e))}function mxe(t,e,r){const n=gz(t,r),{scroll:s}=e;return s&&(lh(n.x,s.offset.x),lh(n.y,s.offset.y)),n}const l3=()=>({translate:0,scale:1,origin:0,originPoint:0}),uh=()=>({x:l3(),y:l3()}),c3=()=>({min:0,max:0}),en=()=>({x:c3(),y:c3()}),qP={current:null},xz={current:!1};function pxe(){if(xz.current=!0,!!ck)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qP.current=t.matches;t.addEventListener("change",e),e()}else qP.current=!1}const gxe=new WeakMap;function xxe(t,e,r){for(const n in e){const s=e[n],a=r[n];if(ls(s))t.addValue(n,s);else if(ls(a))t.addValue(n,yf(s,{owner:t}));else if(a!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,yf(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const u3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yxe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Bs.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Rr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=uj(r),this.isVariantNode=rz(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&ls(m)&&m.set(c[f])}}mount(e){var r;this.current=e,gxe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),xz.current||pxe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qP.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),_c(this.notifyUpdate),_c(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=jm.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Rr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vf){const r=vf[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):en()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<u3.length;n++){const s=u3[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=e[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=xxe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=yf(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(uq(n)||hq(n))?n=parseFloat(n):!kge(n)&&Ac.test(r)&&(n=Gq(e,r)),this.setBaseTarget(e,ls(n)?n.get():n)),ls(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=Mk(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ls(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new mk),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Tk.render(this.render)}}class yz extends yxe{constructor(){super(...arguments),this.KeyframeResolver=yge}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ls(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function vz(t,{style:e,vars:r},n,s){const a=t.style;let o;for(o in e)a[o]=e[o];s==null||s.applyProjectionStyles(a,n);for(o in r)a.setProperty(o,r[o])}function vxe(t){return window.getComputedStyle(t)}class bxe extends yz{constructor(){super(...arguments),this.type="html",this.renderInstance=vz}readValueFromInstance(e,r){var n;if(jm.has(r))return(n=this.projection)!=null&&n.isProjecting?OP(r):$pe(e,r);{const s=vxe(e),a=(xk(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return gz(e,r)}build(e,r,n){Rk(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return $k(e,r,n)}}const bz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wxe(t,e,r,n){vz(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(bz.has(s)?s:Lk(s),e.attrs[s])}class jxe extends yz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=en}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(jm.has(r)){const n=Hq(r);return n&&n.default||0}return r=bz.has(r)?r:Lk(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return cz(e,r,n)}build(e,r,n){iz(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){wxe(e,r,n,s)}mount(e){this.isSVGTag=oz(e.tagName),super.mount(e)}}const Nxe=(t,e)=>Dk(t)?new jxe(e):new bxe(e,{allowProjection:t!==g.Fragment});function Ch(t,e,r){const n=t.getProps();return Mk(n,e,r!==void 0?r:n.custom,t)}const zP=t=>Array.isArray(t);function Sxe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,yf(r))}function Exe(t){return zP(t)?t[t.length-1]||0:t}function Pxe(t,e){const r=Ch(t,e);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const o in a){const l=Exe(a[o]);Sxe(t,o,l)}}function _xe(t){return!!(ls(t)&&t.add)}function WP(t,e){const r=t.getValue("willChange");if(_xe(r))return r.add(e);if(!r&&nl.WillChange){const n=new nl.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function wz(t){return t.props[uz]}const Axe=t=>t!==null;function Txe(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(Axe),a=e&&r!=="loop"&&e%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const Cxe={type:"spring",stiffness:500,damping:25,restSpeed:10},kxe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ixe={type:"keyframes",duration:.8},Rxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Oxe=(t,{keyframes:e})=>e.length>2?Ixe:jm.has(t)?t.startsWith("scale")?kxe(e[1]):Cxe:Rxe;function Dxe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Fk=(t,e,r,n={},s,a)=>o=>{const l=_k(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ja(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:s};Dxe(l)||Object.assign(d,Oxe(t,d)),d.duration&&(d.duration=Ja(d.duration)),d.repeatDelay&&(d.repeatDelay=Ja(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(FP(d),d.delay===0&&(h=!0)),(nl.instantAnimations||nl.skipAnimations)&&(h=!0,FP(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!a&&e.get()!==void 0){const f=Txe(d.keyframes,l);if(f!==void 0){Rr.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new Ek(d):new age(d)};function Mxe({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function jz(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(a=n);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),f=l[d];if(f===void 0||u&&Mxe(u,d))continue;const m={delay:r,..._k(a||{},d)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===x&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const w=wz(t);if(w){const b=window.MotionHandoffAnimation(w,d,Rr);b!==null&&(m.startTime=b,p=!0)}}WP(t,d),h.start(Fk(d,h,f,t.shouldReduceMotion&&qq.has(d)?{type:!1}:m,t,p));const v=h.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{Rr.update(()=>{o&&Pxe(t,o)})}),c}function Nz(t,e,r,n=0,s=1){const a=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(a,o):s===1?a*n:l-a*n}function HP(t,e,r={}){var c;const n=Ch(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(jz(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return $xe(t,e,u,d,h,f,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function $xe(t,e,r=0,n=0,s=0,a=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(HP(c,e,{...o,delay:r+(typeof n=="function"?0:n)+Nz(t.variantChildren,c,n,s,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Lxe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(a=>HP(t,a,r));n=Promise.all(s)}else if(typeof e=="string")n=HP(t,e,r);else{const s=typeof e=="function"?Ch(t,e,r.custom):e;n=Promise.all(jz(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function Sz(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Fxe=Ik.length;function Ez(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Ez(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Fxe;r++){const n=Ik[r],s=t.props[n];(ix(s)||s===!1)&&(e[n]=s)}return e}const Vxe=[...kk].reverse(),Bxe=kk.length;function Uxe(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Lxe(t,r,n)))}function qxe(t){let e=Uxe(t),r=d3(),n=!0;const s=c=>(u,d)=>{var f;const h=Ch(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:x,...p}=h;u={...u,...p,...x}}return u};function a(c){e=c(t)}function o(c){const{props:u}=t,d=Ez(t.parent)||{},h=[],f=new Set;let m={},x=1/0;for(let v=0;v<Bxe;v++){const w=Vxe[v],b=r[w],j=u[w]!==void 0?u[w]:d[w],N=ix(j),E=w===c?b.isActive:null;E===!1&&(x=v);let C=j===d[w]&&j!==u[w]&&N;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...m},!b.isActive&&E===null||!j&&!b.prevProp||cj(j)||typeof j=="boolean")continue;const P=zxe(b.prevProp,j);let S=P||w===c&&b.isActive&&!C&&N||v>x&&N,A=!1;const T=Array.isArray(j)?j:[j];let R=T.reduce(s(w),{});E===!1&&(R={});const{prevResolvedValues:_={}}=b,I={..._,...R},M=B=>{S=!0,f.has(B)&&(A=!0,f.delete(B)),b.needsAnimating[B]=!0;const $=t.getValue(B);$&&($.liveStyle=!1)};for(const B in I){const $=R[B],U=_[B];if(m.hasOwnProperty(B))continue;let Y=!1;zP($)&&zP(U)?Y=!Sz($,U):Y=$!==U,Y?$!=null?M(B):f.add(B):$!==void 0&&f.has(B)?M(B):b.protectedKeys[B]=!0}b.prevProp=j,b.prevResolvedValues=R,b.isActive&&(m={...m,...R}),n&&t.blockInitialAnimation&&(S=!1);const z=C&&P;S&&(!z||A)&&h.push(...T.map(B=>{const $={type:w};if(typeof B=="string"&&n&&!z&&t.manuallyAnimateOnMount&&t.parent){const{parent:U}=t,Y=Ch(U,B);if(U.enteringChildren&&Y){const{delayChildren:K}=Y.transition||{};$.delay=Nz(U.enteringChildren,t,K)}}return{animation:B,options:$}}))}if(f.size){const v={};if(typeof u.initial!="boolean"){const w=Ch(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(v.transition=w.transition)}f.forEach(w=>{const b=t.getBaseTarget(w),j=t.getValue(w);j&&(j.liveStyle=!0),v[w]=b??null}),h.push({animation:v})}let p=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),n=!1,p?e(h):Promise.resolve()}function l(c,u){var h;if(r[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=o(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=d3()}}}function zxe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Sz(e,t):!1}function eu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d3(){return{animate:eu(!0),whileInView:eu(),whileHover:eu(),whileTap:eu(),whileDrag:eu(),whileFocus:eu(),exit:eu()}}class Vc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Wxe extends Vc{constructor(e){super(e),e.animationState||(e.animationState=qxe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cj(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Hxe=0;class Gxe extends Vc{constructor(){super(...arguments),this.id=Hxe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Kxe={animation:{Feature:Wxe},exit:{Feature:Gxe}};function ox(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function vy(t){return{point:{x:t.pageX,y:t.pageY}}}const Yxe=t=>e=>Ck(e)&&t(e,vy(e));function cg(t,e,r,n){return ox(t,e,Yxe(r),n)}const Pz=1e-4,Qxe=1-Pz,Xxe=1+Pz,_z=.01,Jxe=0-_z,Zxe=0+_z;function ws(t){return t.max-t.min}function eye(t,e,r){return Math.abs(t-e)<=r}function h3(t,e,r,n=.5){t.origin=n,t.originPoint=Vr(e.min,e.max,t.origin),t.scale=ws(r)/ws(e),t.translate=Vr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Qxe&&t.scale<=Xxe||isNaN(t.scale))&&(t.scale=1),(t.translate>=Jxe&&t.translate<=Zxe||isNaN(t.translate))&&(t.translate=0)}function ug(t,e,r,n){h3(t.x,e.x,r.x,n?n.originX:void 0),h3(t.y,e.y,r.y,n?n.originY:void 0)}function f3(t,e,r){t.min=r.min+e.min,t.max=t.min+ws(e)}function tye(t,e,r){f3(t.x,e.x,r.x),f3(t.y,e.y,r.y)}function m3(t,e,r){t.min=e.min-r.min,t.max=t.min+ws(e)}function dg(t,e,r){m3(t.x,e.x,r.x),m3(t.y,e.y,r.y)}function Pi(t){return[t("x"),t("y")]}const Az=({current:t})=>t?t.ownerDocument.defaultView:null,p3=(t,e)=>Math.abs(t-e);function rye(t,e){const r=p3(t.x,e.x),n=p3(t.y,e.y);return Math.sqrt(r**2+n**2)}class Tz{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=G2(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=rye(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!x)return;const{point:p}=f,{timestamp:v}=Wn;this.history.push({...p,timestamp:v});const{onStart:w,onMove:b}=this.handlers;m||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=H2(m,this.transformPagePoint),Rr.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:x,onSessionEnd:p,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=G2(f.type==="pointercancel"?this.lastMoveEventInfo:H2(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,w),p&&p(f,w)},!Ck(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const l=vy(e),c=H2(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Wn;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=r;h&&h(e,G2(c,this.history)),this.removeListeners=gy(cg(this.contextWindow,"pointermove",this.handlePointerMove),cg(this.contextWindow,"pointerup",this.handlePointerUp),cg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_c(this.updatePoint)}}function H2(t,e){return e?{point:e(t.point)}:t}function g3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function G2({point:t},e){return{point:t,delta:g3(t,Cz(e)),offset:g3(t,nye(e)),velocity:sye(e,.1)}}function nye(t){return t[0]}function Cz(t){return t[t.length-1]}function sye(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=Cz(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>Ja(e)));)r--;if(!n)return{x:0,y:0};const a=Ri(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function iye(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Vr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Vr(r,t,n.max):Math.min(t,r)),t}function x3(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function aye(t,{top:e,left:r,bottom:n,right:s}){return{x:x3(t.x,r,s),y:x3(t.y,e,n)}}function y3(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function oye(t,e){return{x:y3(t.x,e.x),y:y3(t.y,e.y)}}function lye(t,e){let r=.5;const n=ws(t),s=ws(e);return s>n?r=rx(e.min,e.max-n,t.min):n>s&&(r=rx(t.min,t.max-s,e.min)),rl(0,1,r)}function cye(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const GP=.35;function uye(t=GP){return t===!1?t=0:t===!0&&(t=GP),{x:v3(t,"left","right"),y:v3(t,"top","bottom")}}function v3(t,e,r){return{min:b3(t,e),max:b3(t,r)}}function b3(t,e){return typeof t=="number"?t:t[e]||0}const dye=new WeakMap;class hye{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=en(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(vy(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:x,onDragStart:p}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Nge(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pi(w=>{let b=this.getAxisMotionValue(w).get()||0;if(Za.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const N=j.layout.layoutBox[w];N&&(b=ws(N)*(parseFloat(b)/100))}}this.originPoint[w]=b}),p&&Rr.postRender(()=>p(h,f)),WP(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:p,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=f;if(x&&this.currentDirection===null){this.currentDirection=fye(w),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),v&&v(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Pi(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Tz(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:Az(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Rr.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!F0(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=iye(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&oh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=aye(n.layoutBox,e):this.constraints=!1,this.elastic=uye(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Pi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=cye(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!oh(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=mxe(n,s.root,this.visualElement.getTransformPagePoint());let o=oye(s.layout.layoutBox,a);if(r){const l=r(dxe(o));this.hasMutatedConstraints=!!l,l&&(o=fz(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Pi(d=>{if(!F0(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:n?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return WP(this.visualElement,e),n.start(Fk(e,n,0,r,this.visualElement,!1))}stopAnimation(){Pi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pi(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Pi(r=>{const{drag:n}=this.getProps();if(!F0(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];a.set(e[r]-Vr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!oh(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=lye({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Pi(o=>{if(!F0(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Vr(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;dye.set(this.visualElement,this);const e=this.visualElement.current,r=cg(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();oh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Rr.read(n);const o=ox(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Pi(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=GP,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function F0(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function fye(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class mye extends Vc{constructor(e){super(e),this.removeGroupControls=Mi,this.removeListeners=Mi,this.controls=new hye(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const w3=t=>(e,r)=>{t&&Rr.postRender(()=>t(e,r))};class pye extends Vc{constructor(){super(...arguments),this.removePointerDownListener=Mi}onPointerDown(e){this.session=new Tz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Az(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:w3(e),onStart:w3(r),onMove:n,onEnd:(a,o)=>{delete this.session,s&&Rr.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=cg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function j3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const up={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ut.test(t))t=parseFloat(t);else return t;const r=j3(t,e.target.x),n=j3(t,e.target.y);return`${r}% ${n}%`}},gye={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Ac.parse(t);if(s.length>5)return n;const a=Ac.createTransformer(t),o=typeof s[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const u=Vr(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};let K2=!1;class xye extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=e;Fge(yye),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),K2&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Dv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,K2=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Rr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;K2=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kz(t){const[e,r]=Ige(),n=g.useContext(cq);return i.jsx(xye,{...t,layoutGroup:n,switchLayoutGroup:g.useContext(dz),isPresent:e,safeToRemove:r})}const yye={borderRadius:{...up,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:up,borderTopRightRadius:up,borderBottomLeftRadius:up,borderBottomRightRadius:up,boxShadow:gye};function vye(t,e,r){const n=ls(t)?t:yf(t);return n.start(Fk("",n,e,r)),n.animation}const bye=(t,e)=>t.depth-e.depth;class wye{constructor(){this.children=[],this.isDirty=!1}add(e){dk(this.children,e),this.isDirty=!0}remove(e){hk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bye),this.isDirty=!1,this.children.forEach(e)}}function jye(t,e){const r=Bs.now(),n=({timestamp:s})=>{const a=s-r;a>=e&&(_c(n),t(a-e))};return Rr.setup(n,!0),()=>_c(n)}const Iz=["TopLeft","TopRight","BottomLeft","BottomRight"],Nye=Iz.length,N3=t=>typeof t=="string"?parseFloat(t):t,S3=t=>typeof t=="number"||ut.test(t);function Sye(t,e,r,n,s,a){s?(t.opacity=Vr(0,r.opacity??1,Eye(n)),t.opacityExit=Vr(e.opacity??1,0,Pye(n))):a&&(t.opacity=Vr(e.opacity??1,r.opacity??1,n));for(let o=0;o<Nye;o++){const l=`border${Iz[o]}Radius`;let c=E3(e,l),u=E3(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||S3(c)===S3(u)?(t[l]=Math.max(Vr(N3(c),N3(u),n),0),(Za.test(u)||Za.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=Vr(e.rotate||0,r.rotate||0,n))}function E3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Eye=Rz(0,.5,bq),Pye=Rz(.5,.95,Mi);function Rz(t,e,r){return n=>n<t?0:n>e?1:r(rx(t,e,n))}function P3(t,e){t.min=e.min,t.max=e.max}function wi(t,e){P3(t.x,e.x),P3(t.y,e.y)}function _3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function A3(t,e,r,n,s){return t-=e,t=zb(t,1/r,n),s!==void 0&&(t=zb(t,1/s,n)),t}function _ye(t,e=0,r=1,n=.5,s,a=t,o=t){if(Za.test(e)&&(e=parseFloat(e),e=Vr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Vr(a.min,a.max,n);t===a&&(l-=e),t.min=A3(t.min,e,r,l,s),t.max=A3(t.max,e,r,l,s)}function T3(t,e,[r,n,s],a,o){_ye(t,e[r],e[n],e[s],e.scale,a,o)}const Aye=["x","scaleX","originX"],Tye=["y","scaleY","originY"];function C3(t,e,r,n){T3(t.x,e,Aye,r?r.x:void 0,n?n.x:void 0),T3(t.y,e,Tye,r?r.y:void 0,n?n.y:void 0)}function k3(t){return t.translate===0&&t.scale===1}function Oz(t){return k3(t.x)&&k3(t.y)}function I3(t,e){return t.min===e.min&&t.max===e.max}function Cye(t,e){return I3(t.x,e.x)&&I3(t.y,e.y)}function R3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Dz(t,e){return R3(t.x,e.x)&&R3(t.y,e.y)}function O3(t){return ws(t.x)/ws(t.y)}function D3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kye{constructor(){this.members=[]}add(e){dk(this.members,e),e.scheduleRender()}remove(e){if(hk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Iye(t,e,r){let n="";const s=t.x.translate/e.x,a=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Y2=["","X","Y","Z"],Rye=1e3;let Oye=0;function Q2(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Mz(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=wz(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Rr,!(s||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Mz(n)}function $z({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Oye++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($ye),this.nodes.forEach(Bye),this.nodes.forEach(Uye),this.nodes.forEach(Lye)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new wye)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new mk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Jq(o)&&!Tge(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Rr.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=jye(f,250),Dv.hasAnimatedSinceResize&&(Dv.hasAnimatedSinceResize=!1,this.nodes.forEach(L3)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||Gye,{onLayoutAnimationStart:p,onLayoutAnimationComplete:v}=u.getProps(),w=!this.targetLayout||!Dz(this.targetLayout,m),b=!h&&f;if(this.options.layoutRoot||this.resumeFrom||b||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={..._k(x,"layout"),onPlay:p,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,b)}else h||L3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_c(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qye),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Mz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Vye),this.nodes.forEach(Dye),this.nodes.forEach(Mye)):this.nodes.forEach($3),this.clearAllSnapshots();const l=Bs.now();Wn.delta=rl(0,1e3/60,l-Wn.timestamp),Wn.timestamp=l,Wn.isProcessing=!0,L2.update.process(Wn),L2.preRender.process(Wn),L2.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Fye),this.sharedNodes.forEach(zye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ws(this.snapshot.measuredBox.x)&&!ws(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=en(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Oz(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||lu(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Kye(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return en();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Yye))){const{scroll:d}=this.root;d&&(lh(l.x,d.offset.x),lh(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=en();if(wi(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&wi(l,o),lh(l.x,h.offset.x),lh(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=en();wi(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ch(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),lu(d.latestValues)&&ch(c,d.latestValues)}return lu(this.latestValues)&&ch(c,this.latestValues),c}removeTransform(o){const l=en();wi(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!lu(u.latestValues))continue;BP(u.latestValues)&&u.updateSnapshot();const d=en(),h=u.measurePageBox();wi(d,h),C3(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return lu(this.latestValues)&&C3(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),dg(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=en(),this.targetWithTransforms=en()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tye(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wi(this.target,this.layout.layoutBox),pz(this.target,this.targetDelta)):wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),dg(this.relativeTargetOrigin,this.target,m.target),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||BP(this.parent.latestValues)||mz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;wi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;fxe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=en());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_3(this.prevProjectionDelta.x,this.projectionDelta.x),_3(this.prevProjectionDelta.y,this.projectionDelta.y)),ug(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!D3(this.projectionDelta.x,this.prevProjectionDelta.x)||!D3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uh(),this.projectionDelta=uh(),this.projectionDeltaWithTransform=uh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=uh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=en(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,p=m!==x,v=this.getStack(),w=!v||v.members.length<=1,b=!!(p&&!w&&this.options.crossfade===!0&&!this.path.some(Hye));this.animationProgress=0;let j;this.mixTargetDelta=N=>{const E=N/1e3;F3(h.x,o.x,E),F3(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dg(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Wye(this.relativeTarget,this.relativeTargetOrigin,f,E),j&&Cye(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=en()),wi(j,this.relativeTarget)),p&&(this.animationValues=d,Sye(d,u,this.latestValues,E,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(_c(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rr.update(()=>{Dv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yf(0)),this.currentAnimation=vye(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rye),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Lz(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||en();const h=ws(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ws(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}wi(l,c),ch(l,d),ug(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new kye),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Q2("z",o,u,this.animationValues);for(let d=0;d<Y2.length;d++)Q2(`rotate${Y2[d]}`,o,u,this.animationValues),Q2(`skew${Y2[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ov(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ov(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!lu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Iye(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in ax){if(d[x]===void 0)continue;const{correct:p,applyTo:v,isCSSVariable:w}=ax[x],b=h==="none"?d[x]:p(d[x],u);if(v){const j=v.length;for(let N=0;N<j;N++)o[v[N]]=b}else w?this.options.visualElement.renderState.vars[x]=b:o[x]=b}this.options.layoutId&&(o.pointerEvents=u===this?Ov(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(M3),this.root.sharedNodes.clear()}}}function Dye(t){t.updateLayout()}function Mye(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?Pi(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=ws(f);f.min=n[h].min,f.max=f.min+m}):Lz(a,e.layoutBox,n)&&Pi(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=ws(n[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=uh();ug(l,n,e.layoutBox);const c=uh();o?ug(c,t.applyTransform(s,!0),e.measuredBox):ug(c,n,e.layoutBox);const u=!Oz(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const x=en();dg(x,e.layoutBox,f.layoutBox);const p=en();dg(p,n,m.layoutBox),Dz(x,p)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function $ye(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Lye(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Fye(t){t.clearSnapshot()}function M3(t){t.clearMeasurements()}function $3(t){t.isLayoutDirty=!1}function Vye(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function L3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Bye(t){t.resolveTargetDelta()}function Uye(t){t.calcProjection()}function qye(t){t.resetSkewAndRotation()}function zye(t){t.removeLeadSnapshot()}function F3(t,e,r){t.translate=Vr(e.translate,0,r),t.scale=Vr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function V3(t,e,r,n){t.min=Vr(e.min,r.min,n),t.max=Vr(e.max,r.max,n)}function Wye(t,e,r,n){V3(t.x,e.x,r.x,n),V3(t.y,e.y,r.y,n)}function Hye(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Gye={duration:.45,ease:[.4,0,.1,1]},B3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),U3=B3("applewebkit/")&&!B3("chrome/")?Math.round:Mi;function q3(t){t.min=U3(t.min),t.max=U3(t.max)}function Kye(t){q3(t.x),q3(t.y)}function Lz(t,e,r){return t==="position"||t==="preserve-aspect"&&!eye(O3(e),O3(r),.2)}function Yye(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Qye=$z({attachResizeListener:(t,e)=>ox(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),X2={current:void 0},Fz=$z({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!X2.current){const t=new Qye({});t.mount(window),t.setOptions({layoutScroll:!0}),X2.current=t}return X2.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Xye={pan:{Feature:pye},drag:{Feature:mye,ProjectionNode:Fz,MeasureLayout:kz}};function z3(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&Rr.postRender(()=>a(e,vy(e)))}class Jye extends Vc{mount(){const{current:e}=this.node;e&&(this.unmount=Sge(e,(r,n)=>(z3(this.node,n,"Start"),s=>z3(this.node,s,"End"))))}unmount(){}}class Zye extends Vc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gy(ox(this.node.current,"focus",()=>this.onFocus()),ox(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function W3(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&Rr.postRender(()=>a(e,vy(e)))}class e0e extends Vc{mount(){const{current:e}=this.node;e&&(this.unmount=Age(e,(r,n)=>(W3(this.node,n,"Start"),(s,{success:a})=>W3(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const KP=new WeakMap,J2=new WeakMap,t0e=t=>{const e=KP.get(t.target);e&&e(t)},r0e=t=>{t.forEach(t0e)};function n0e({root:t,...e}){const r=t||document;J2.has(r)||J2.set(r,{});const n=J2.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(r0e,{root:t,...e})),n[s]}function s0e(t,e,r){const n=n0e(e);return KP.set(t,r),n.observe(t),()=>{KP.delete(t),n.unobserve(t)}}const i0e={some:0,all:1};class a0e extends Vc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:i0e[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return s0e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(o0e(e,r))&&this.startObserver()}unmount(){}}function o0e({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const l0e={inView:{Feature:a0e},tap:{Feature:e0e},focus:{Feature:Zye},hover:{Feature:Jye}},c0e={layout:{ProjectionNode:Fz,MeasureLayout:kz}},u0e={...Kxe,...l0e,...Xye,...c0e},YP=uxe(u0e,Nxe),d0e={scale:.95,transition:{duration:.1}},QP=mm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-2xl text-sm font-medium ring-offset-background transition-all duration-300 ease-out focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-pal-blue/20 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:cursor-not-allowed [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 cursor-pointer min-h-[44px]",{variants:{variant:{default:"bg-gradient-to-r from-pal-blue to-blue-600 text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:scale-95 font-semibold",destructive:"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-md hover:shadow-lg hover:-translate-y-0.5 active:scale-95",outline:"border-2 border-pal-blue/30 bg-white hover:bg-gray-50 hover:border-pal-blue hover:shadow-md shadow-sm active:scale-95",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 shadow-sm hover:shadow-md hover:-translate-y-0.5 active:scale-95",ghost:"hover:bg-gray-100 hover:shadow-sm active:scale-95",link:"text-pal-blue hover:text-pal-blue-dark underline-offset-4 hover:underline",hero:"bg-gradient-to-r from-pal-blue via-blue-600 to-pal-blue-dark text-white font-bold text-lg px-10 py-5 rounded-2xl shadow-xl hover:shadow-2xl hover:scale-105 hover:-translate-y-1 active:scale-95 min-h-[56px]",card:"bg-white border-2 border-gray-200 hover:border-pal-blue/30 hover:shadow-xl hover:-translate-y-1 text-foreground active:scale-[0.99]",prominent:"bg-gradient-to-r from-pal-blue to-blue-700 text-white shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-1 active:scale-95 font-semibold"},size:{default:"h-11 px-6 py-2.5",sm:"h-9 rounded-xl px-4 text-sm",lg:"h-12 rounded-2xl px-8 text-base",xl:"h-14 rounded-2xl px-10 text-lg font-semibold",icon:"h-11 w-11 p-0"}},defaultVariants:{variant:"default",size:"default"}}),G=g.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},a)=>{const o=n?Zo:YP.button;return i.jsx(o,{className:He(QP({variant:e,size:r,className:t})),ref:a,whileTap:s.disabled?void 0:d0e,...s})});G.displayName="Button";const h0e=mm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$i=g.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:He(h0e({variant:e}),t),...r}));$i.displayName="Alert";const f0e=g.forwardRef(({className:t,...e},r)=>i.jsx("h5",{ref:r,className:He("mb-1 font-medium leading-none tracking-tight",t),...e}));f0e.displayName="AlertTitle";const Li=g.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:He("text-sm [&_p]:leading-relaxed",t),...e}));Li.displayName="AlertDescription";const ji=({children:t})=>{const{user:e,isEmailVerified:r,resendConfirmation:n}=Dr();return e?r?i.jsx(i.Fragment,{children:t}):i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs(be,{className:"shadow-lg",children:[i.jsx(vt,{className:"text-center",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[i.jsx(Ir,{className:"h-8 w-8 text-pal-blue"}),i.jsx("span",{className:"text-xl font-semibold",children:"Email Verification Required"})]})}),i.jsxs(Ve,{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx(xt,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),i.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Welcome, ",e.displayName||"User","!"]}),i.jsx("p",{className:"text-muted-foreground",children:"Please verify your email address to access the platform."})]}),i.jsxs($i,{className:"border-pal-blue/20 bg-pal-blue/5",children:[i.jsx(Xa,{className:"h-4 w-4"}),i.jsxs(Li,{children:["We sent a verification email to ",i.jsx("strong",{children:e.email})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(G,{onClick:n,className:"w-full primary-gradient hover:shadow-glow transition-spring",children:[i.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Resend Verification Email"]}),i.jsx(G,{variant:"outline",className:"w-full",onClick:()=>window.location.reload(),children:"I've Verified My Email"})]}),i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:i.jsx("p",{children:"Check your inbox and spam folder for the verification link. Click the link to verify your account."})})]})]})})}):i.jsx(i.Fragment,{children:t})};class m0e extends g.Component{constructor(){super(...arguments);Tn(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Dashboard ErrorBoundary caught:",r,n)}render(){return this.state.hasError?this.props.fallback??i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:i.jsxs("div",{className:"max-w-md text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-slate-300 border-t-blue-600 mx-auto mb-4"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Something went wrong"}),i.jsx("p",{className:"text-slate-600",children:"Please refresh the page. If the issue persists, try signing out and back in."})]})}):this.props.children}}const p0e=mm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:t,variant:e,...r}){return i.jsx("div",{className:He(p0e({variant:e}),t),...r})}var Z2="focusScope.autoFocusOnMount",eS="focusScope.autoFocusOnUnmount",H3={bubbles:!1,cancelable:!0},g0e="FocusScope",by=g.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=t,[l,c]=g.useState(null),u=Fr(s),d=Fr(a),h=g.useRef(null),f=Tt(e,p=>c(p)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let p=function(j){if(m.paused||!l)return;const N=j.target;l.contains(N)?h.current=N:El(h.current,{select:!0})},v=function(j){if(m.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||El(h.current,{select:!0}))},w=function(j){if(document.activeElement===document.body)for(const E of j)E.removedNodes.length>0&&El(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(w);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),g.useEffect(()=>{if(l){K3.add(m);const p=document.activeElement;if(!l.contains(p)){const w=new CustomEvent(Z2,H3);l.addEventListener(Z2,u),l.dispatchEvent(w),w.defaultPrevented||(x0e(j0e(Vz(l)),{select:!0}),document.activeElement===p&&El(l))}return()=>{l.removeEventListener(Z2,u),setTimeout(()=>{const w=new CustomEvent(eS,H3);l.addEventListener(eS,d),l.dispatchEvent(w),w.defaultPrevented||El(p??document.body,{select:!0}),l.removeEventListener(eS,d),K3.remove(m)},0)}}},[l,u,d,m]);const x=g.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,w=document.activeElement;if(v&&w){const b=p.currentTarget,[j,N]=y0e(b);j&&N?!p.shiftKey&&w===N?(p.preventDefault(),r&&El(j,{select:!0})):p.shiftKey&&w===j&&(p.preventDefault(),r&&El(N,{select:!0})):w===b&&p.preventDefault()}},[r,n,m.paused]);return i.jsx(et.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});by.displayName=g0e;function x0e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(El(n,{select:e}),document.activeElement!==r)return}function y0e(t){const e=Vz(t),r=G3(e,t),n=G3(e.reverse(),t);return[r,n]}function Vz(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function G3(t,e){for(const r of t)if(!v0e(r,{upTo:e}))return r}function v0e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function b0e(t){return t instanceof HTMLInputElement&&"select"in t}function El(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&b0e(t)&&e&&t.select()}}var K3=w0e();function w0e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Y3(t,e),t.unshift(e)},remove(e){var r;t=Y3(t,e),(r=t[0])==null||r.resume()}}}function Y3(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function j0e(t){return t.filter(e=>e.tagName!=="A")}var tS=0;function dj(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Q3()),document.body.insertAdjacentElement("beforeend",t[1]??Q3()),tS++,()=>{tS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tS--}},[])}function Q3(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qa=function(){return qa=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qa.apply(this,arguments)};function Bz(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function N0e(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Mv="right-scroll-bar-position",$v="width-before-scroll-bar",S0e="with-scroll-bars-hidden",E0e="--removed-body-scroll-bar-size";function rS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function P0e(t,e){var r=g.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var _0e=typeof window<"u"?g.useLayoutEffect:g.useEffect,X3=new WeakMap;function A0e(t,e){var r=P0e(null,function(n){return t.forEach(function(s){return rS(s,n)})});return _0e(function(){var n=X3.get(r);if(n){var s=new Set(n),a=new Set(t),o=r.current;s.forEach(function(l){a.has(l)||rS(l,null)}),a.forEach(function(l){s.has(l)||rS(l,o)})}X3.set(r,t)},[t]),r}function T0e(t){return t}function C0e(t,e){e===void 0&&(e=T0e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function k0e(t){t===void 0&&(t={});var e=C0e(null);return e.options=qa({async:!0,ssr:!1},t),e}var Uz=function(t){var e=t.sideCar,r=Bz(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,qa({},r))};Uz.isSideCarExport=!0;function I0e(t,e){return t.useMedium(e),Uz}var qz=k0e(),nS=function(){},hj=g.forwardRef(function(t,e){var r=g.useRef(null),n=g.useState({onScrollCapture:nS,onWheelCapture:nS,onTouchMoveCapture:nS}),s=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noIsolation,x=t.inert,p=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,b=t.gapMode,j=Bz(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,E=A0e([r,e]),C=qa(qa({},j),s);return g.createElement(g.Fragment,null,d&&g.createElement(N,{sideCar:qz,removeScrollBar:u,shards:h,noIsolation:m,inert:x,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:b}),o?g.cloneElement(g.Children.only(l),qa(qa({},C),{ref:E})):g.createElement(w,qa({},C,{className:c,ref:E}),l))});hj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hj.classNames={fullWidth:$v,zeroRight:Mv};var R0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function O0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=R0e();return e&&t.setAttribute("nonce",e),t}function D0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function M0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $0e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=O0e())&&(D0e(e,r),M0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},L0e=function(){var t=$0e();return function(e,r){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},zz=function(){var t=L0e(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},F0e={left:0,top:0,right:0,gap:0},sS=function(t){return parseInt(t||"",10)||0},V0e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[sS(r),sS(n),sS(s)]},B0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return F0e;var e=V0e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},U0e=zz(),kh="data-scroll-locked",q0e=function(t,e,r,n){var s=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(S0e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(kh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat($v,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Mv," .").concat(Mv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat($v," .").concat($v,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(kh,`] {
    `).concat(E0e,": ").concat(l,`px;
  }
`)},J3=function(){var t=parseInt(document.body.getAttribute(kh)||"0",10);return isFinite(t)?t:0},z0e=function(){g.useEffect(function(){return document.body.setAttribute(kh,(J3()+1).toString()),function(){var t=J3()-1;t<=0?document.body.removeAttribute(kh):document.body.setAttribute(kh,t.toString())}},[])},W0e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;z0e();var a=g.useMemo(function(){return B0e(s)},[s]);return g.createElement(U0e,{styles:q0e(a,!e,s,r?"":"!important")})},XP=!1;if(typeof window<"u")try{var V0=Object.defineProperty({},"passive",{get:function(){return XP=!0,!0}});window.addEventListener("test",V0,V0),window.removeEventListener("test",V0,V0)}catch{XP=!1}var Od=XP?{passive:!1}:!1,H0e=function(t){return t.tagName==="TEXTAREA"},Wz=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!H0e(t)&&r[e]==="visible")},G0e=function(t){return Wz(t,"overflowY")},K0e=function(t){return Wz(t,"overflowX")},Z3=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Hz(t,n);if(s){var a=Gz(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Y0e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Q0e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Hz=function(t,e){return t==="v"?G0e(e):K0e(e)},Gz=function(t,e){return t==="v"?Y0e(e):Q0e(e)},X0e=function(t,e){return t==="h"&&e==="rtl"?-1:1},J0e=function(t,e,r,n,s){var a=X0e(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{var m=Gz(t,l),x=m[0],p=m[1],v=m[2],w=p-v-a*x;(x||w)&&Hz(t,l)&&(h+=w,f+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},B0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},e4=function(t){return[t.deltaX,t.deltaY]},t4=function(t){return t&&"current"in t?t.current:t},Z0e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eve=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tve=0,Dd=[];function rve(t){var e=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),s=g.useState(tve++)[0],a=g.useState(zz)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=N0e([t.lockRef.current],(t.shards||[]).map(t4),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var w=B0(p),b=r.current,j="deltaX"in p?p.deltaX:b[0]-w[0],N="deltaY"in p?p.deltaY:b[1]-w[1],E,C=p.target,P=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in p&&P==="h"&&C.type==="range")return!1;var S=Z3(P,C);if(!S)return!0;if(S?E=P:(E=P==="v"?"h":"v",S=Z3(P,C)),!S)return!1;if(!n.current&&"changedTouches"in p&&(j||N)&&(n.current=E),!E)return!0;var A=n.current||E;return J0e(A,v,p,A==="h"?j:N,!0)},[]),c=g.useCallback(function(p){var v=p;if(!(!Dd.length||Dd[Dd.length-1]!==a)){var w="deltaY"in v?e4(v):B0(v),b=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&Z0e(E.delta,w)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(t4).filter(Boolean).filter(function(E){return E.contains(v.target)}),N=j.length>0?l(v,j[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),u=g.useCallback(function(p,v,w,b){var j={name:p,delta:v,target:w,should:b,shadowParent:nve(w)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(N){return N!==j})},1)},[]),d=g.useCallback(function(p){r.current=B0(p),n.current=void 0},[]),h=g.useCallback(function(p){u(p.type,e4(p),p.target,l(p,t.lockRef.current))},[]),f=g.useCallback(function(p){u(p.type,B0(p),p.target,l(p,t.lockRef.current))},[]);g.useEffect(function(){return Dd.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Od),document.addEventListener("touchmove",c,Od),document.addEventListener("touchstart",d,Od),function(){Dd=Dd.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Od),document.removeEventListener("touchmove",c,Od),document.removeEventListener("touchstart",d,Od)}},[]);var m=t.removeScrollBar,x=t.inert;return g.createElement(g.Fragment,null,x?g.createElement(a,{styles:eve(s)}):null,m?g.createElement(W0e,{gapMode:t.gapMode}):null)}function nve(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const sve=I0e(qz,rve);var wy=g.forwardRef(function(t,e){return g.createElement(hj,qa({},t,{ref:e,sideCar:sve}))});wy.classNames=hj.classNames;var ive=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Md=new WeakMap,U0=new WeakMap,q0={},iS=0,Kz=function(t){return t&&(t.host||Kz(t.parentNode))},ave=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Kz(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},ove=function(t,e,r,n){var s=ave(e,Array.isArray(t)?t:[t]);q0[r]||(q0[r]=new WeakMap);var a=q0[r],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(n),x=m!==null&&m!=="false",p=(Md.get(f)||0)+1,v=(a.get(f)||0)+1;Md.set(f,p),a.set(f,v),o.push(f),p===1&&x&&U0.set(f,!0),v===1&&f.setAttribute(r,"true"),x||f.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return d(e),l.clear(),iS++,function(){o.forEach(function(h){var f=Md.get(h)-1,m=a.get(h)-1;Md.set(h,f),a.set(h,m),f||(U0.has(h)||h.removeAttribute(n),U0.delete(h)),m||h.removeAttribute(r)}),iS--,iS||(Md=new WeakMap,Md=new WeakMap,U0=new WeakMap,q0={})}},fj=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=ive(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),ove(n,s,r,"aria-hidden")):function(){return null}},Vk="Dialog",[Yz,XWe]=Sa(Vk),[lve,Pa]=Yz(Vk),Qz=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=g.useRef(null),c=g.useRef(null),[u=!1,d]=io({prop:n,defaultProp:s,onChange:a});return i.jsx(lve,{scope:e,triggerRef:l,contentRef:c,contentId:ga(),titleId:ga(),descriptionId:ga(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};Qz.displayName=Vk;var Xz="DialogTrigger",Jz=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Pa(Xz,r),a=Tt(e,s.triggerRef);return i.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qk(s.open),...n,ref:a,onClick:Me(t.onClick,s.onOpenToggle)})});Jz.displayName=Xz;var Bk="DialogPortal",[cve,Zz]=Yz(Bk,{forceMount:void 0}),eW=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,a=Pa(Bk,e);return i.jsx(cve,{scope:e,forceMount:r,children:g.Children.map(n,o=>i.jsx(Fn,{present:r||a.open,children:i.jsx(fm,{asChild:!0,container:s,children:o})}))})};eW.displayName=Bk;var Wb="DialogOverlay",tW=g.forwardRef((t,e)=>{const r=Zz(Wb,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=Pa(Wb,t.__scopeDialog);return a.modal?i.jsx(Fn,{present:n||a.open,children:i.jsx(uve,{...s,ref:e})}):null});tW.displayName=Wb;var uve=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Pa(Wb,r);return i.jsx(wy,{as:Zo,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(et.div,{"data-state":qk(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),sd="DialogContent",rW=g.forwardRef((t,e)=>{const r=Zz(sd,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=Pa(sd,t.__scopeDialog);return i.jsx(Fn,{present:n||a.open,children:a.modal?i.jsx(dve,{...s,ref:e}):i.jsx(hve,{...s,ref:e})})});rW.displayName=sd;var dve=g.forwardRef((t,e)=>{const r=Pa(sd,t.__scopeDialog),n=g.useRef(null),s=Tt(e,r.contentRef,n);return g.useEffect(()=>{const a=n.current;if(a)return fj(a)},[]),i.jsx(nW,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Me(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Me(t.onFocusOutside,a=>a.preventDefault())})}),hve=g.forwardRef((t,e)=>{const r=Pa(sd,t.__scopeDialog),n=g.useRef(!1),s=g.useRef(!1);return i.jsx(nW,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),nW=g.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=t,l=Pa(sd,r),c=g.useRef(null),u=Tt(e,c);return dj(),i.jsxs(i.Fragment,{children:[i.jsx(by,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(vd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qk(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(fve,{titleId:l.titleId}),i.jsx(pve,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Uk="DialogTitle",sW=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Pa(Uk,r);return i.jsx(et.h2,{id:s.titleId,...n,ref:e})});sW.displayName=Uk;var iW="DialogDescription",aW=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Pa(iW,r);return i.jsx(et.p,{id:s.descriptionId,...n,ref:e})});aW.displayName=iW;var oW="DialogClose",lW=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Pa(oW,r);return i.jsx(et.button,{type:"button",...n,ref:e,onClick:Me(t.onClick,()=>s.onOpenChange(!1))})});lW.displayName=oW;function qk(t){return t?"open":"closed"}var cW="DialogTitleWarning",[JWe,uW]=Kle(cW,{contentName:sd,titleName:Uk,docsSlug:"dialog"}),fve=({titleId:t})=>{const e=uW(cW),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},mve="DialogDescriptionWarning",pve=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uW(mve).contentName}}.`;return g.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},dW=Qz,gve=Jz,hW=eW,mj=tW,pj=rW,gj=sW,xj=aW,fW=lW;const JP=dW,mW=gve,xve=hW,pW=g.forwardRef(({className:t,...e},r)=>i.jsx(mj,{className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));pW.displayName=mj.displayName;const yve=mm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),zk=g.forwardRef(({side:t="right",className:e,children:r,...n},s)=>i.jsxs(xve,{children:[i.jsx(pW,{}),i.jsxs(pj,{ref:s,className:He(yve({side:t}),e),...n,children:[r,i.jsxs(fW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(rn,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zk.displayName=pj.displayName;const vve=g.forwardRef(({className:t,...e},r)=>i.jsx(gj,{ref:r,className:He("text-lg font-semibold text-foreground",t),...e}));vve.displayName=gj.displayName;const bve=g.forwardRef(({className:t,...e},r)=>i.jsx(xj,{ref:r,className:He("text-sm text-muted-foreground",t),...e}));bve.displayName=xj.displayName;var wve=g.createContext(void 0);function jy(t){const e=g.useContext(wve);return t||e||"ltr"}function jve(t,e=[]){let r=[];function n(a,o){const l=g.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,v=g.useMemo(()=>x,Object.values(x));return i.jsx(p.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[t][c])||l,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Nve(s,...e)]}function Nve(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var aS="rovingFocusGroup.onEntryFocus",Sve={bubbles:!1,cancelable:!0},yj="RovingFocusGroup",[ZP,gW,Eve]=G1(yj),[Pve,vj]=jve(yj,[Eve]),[_ve,Ave]=Pve(yj),xW=g.forwardRef((t,e)=>i.jsx(ZP.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(ZP.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(Tve,{...t,ref:e})})}));xW.displayName=yj;var Tve=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=g.useRef(null),m=Tt(e,f),x=jy(a),[p=null,v]=io({prop:o,defaultProp:l,onChange:c}),[w,b]=g.useState(!1),j=Fr(u),N=gW(r),E=g.useRef(!1),[C,P]=g.useState(0);return g.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(aS,j),()=>S.removeEventListener(aS,j)},[j]),i.jsx(_ve,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:p,onItemFocus:g.useCallback(S=>v(S),[v]),onItemShiftTab:g.useCallback(()=>b(!0),[]),onFocusableItemAdd:g.useCallback(()=>P(S=>S+1),[]),onFocusableItemRemove:g.useCallback(()=>P(S=>S-1),[]),children:i.jsx(et.div,{tabIndex:w||C===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:Me(t.onMouseDown,()=>{E.current=!0}),onFocus:Me(t.onFocus,S=>{const A=!E.current;if(S.target===S.currentTarget&&A&&!w){const T=new CustomEvent(aS,Sve);if(S.currentTarget.dispatchEvent(T),!T.defaultPrevented){const R=N().filter(W=>W.focusable),_=R.find(W=>W.active),I=R.find(W=>W.id===p),z=[_,I,...R].filter(Boolean).map(W=>W.ref.current);bW(z,d)}}E.current=!1}),onBlur:Me(t.onBlur,()=>b(!1))})})}),yW="RovingFocusGroupItem",vW=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=t,l=ga(),c=a||l,u=Ave(yW,r),d=u.currentTabStopId===c,h=gW(r),{onFocusableItemAdd:f,onFocusableItemRemove:m}=u;return g.useEffect(()=>{if(n)return f(),()=>m()},[n,f,m]),i.jsx(ZP.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(et.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Me(t.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:Me(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Me(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const p=Ive(x,u.orientation,u.dir);if(p!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")w.reverse();else if(p==="prev"||p==="next"){p==="prev"&&w.reverse();const b=w.indexOf(x.currentTarget);w=u.loop?Rve(w,b+1):w.slice(b+1)}setTimeout(()=>bW(w))}})})})});vW.displayName=yW;var Cve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kve(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ive(t,e,r){const n=kve(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Cve[n]}function bW(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Rve(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var wW=xW,jW=vW,e_=["Enter"," "],Ove=["ArrowDown","PageUp","Home"],NW=["ArrowUp","PageDown","End"],Dve=[...Ove,...NW],Mve={ltr:[...e_,"ArrowRight"],rtl:[...e_,"ArrowLeft"]},$ve={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ny="Menu",[lx,Lve,Fve]=G1(Ny),[wd,SW]=Sa(Ny,[Fve,Lc,vj]),bj=Lc(),EW=vj(),[Vve,jd]=wd(Ny),[Bve,Sy]=wd(Ny),PW=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=t,l=bj(e),[c,u]=g.useState(null),d=g.useRef(!1),h=Fr(a),f=jy(s);return g.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),i.jsx(nk,{...l,children:i.jsx(Vve,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:u,children:i.jsx(Bve,{scope:e,onClose:g.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:n})})})};PW.displayName=Ny;var Uve="MenuAnchor",Wk=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=bj(r);return i.jsx(fy,{...s,...n,ref:e})});Wk.displayName=Uve;var Hk="MenuPortal",[qve,_W]=wd(Hk,{forceMount:void 0}),AW=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,a=jd(Hk,e);return i.jsx(qve,{scope:e,forceMount:r,children:i.jsx(Fn,{present:r||a.open,children:i.jsx(fm,{asChild:!0,container:s,children:n})})})};AW.displayName=Hk;var Fi="MenuContent",[zve,Gk]=wd(Fi),TW=g.forwardRef((t,e)=>{const r=_W(Fi,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=jd(Fi,t.__scopeMenu),o=Sy(Fi,t.__scopeMenu);return i.jsx(lx.Provider,{scope:t.__scopeMenu,children:i.jsx(Fn,{present:n||a.open,children:i.jsx(lx.Slot,{scope:t.__scopeMenu,children:o.modal?i.jsx(Wve,{...s,ref:e}):i.jsx(Hve,{...s,ref:e})})})})}),Wve=g.forwardRef((t,e)=>{const r=jd(Fi,t.__scopeMenu),n=g.useRef(null),s=Tt(e,n);return g.useEffect(()=>{const a=n.current;if(a)return fj(a)},[]),i.jsx(Kk,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Me(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Hve=g.forwardRef((t,e)=>{const r=jd(Fi,t.__scopeMenu);return i.jsx(Kk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Kk=g.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:x,...p}=t,v=jd(Fi,r),w=Sy(Fi,r),b=bj(r),j=EW(r),N=Lve(r),[E,C]=g.useState(null),P=g.useRef(null),S=Tt(e,P,v.onContentChange),A=g.useRef(0),T=g.useRef(""),R=g.useRef(0),_=g.useRef(null),I=g.useRef("right"),M=g.useRef(0),z=x?wy:g.Fragment,W=x?{as:Zo,allowPinchZoom:!0}:void 0,B=U=>{var Q,Ne;const Y=T.current+U,K=N().filter(J=>!J.disabled),X=document.activeElement,he=(Q=K.find(J=>J.ref.current===X))==null?void 0:Q.textValue,D=K.map(J=>J.textValue),H=sbe(D,Y,he),se=(Ne=K.find(J=>J.textValue===H))==null?void 0:Ne.ref.current;(function J(me){T.current=me,window.clearTimeout(A.current),me!==""&&(A.current=window.setTimeout(()=>J(""),1e3))})(Y),se&&setTimeout(()=>se.focus())};g.useEffect(()=>()=>window.clearTimeout(A.current),[]),dj();const $=g.useCallback(U=>{var K,X;return I.current===((K=_.current)==null?void 0:K.side)&&abe(U,(X=_.current)==null?void 0:X.area)},[]);return i.jsx(zve,{scope:r,searchRef:T,onItemEnter:g.useCallback(U=>{$(U)&&U.preventDefault()},[$]),onItemLeave:g.useCallback(U=>{var Y;$(U)||((Y=P.current)==null||Y.focus(),C(null))},[$]),onTriggerLeave:g.useCallback(U=>{$(U)&&U.preventDefault()},[$]),pointerGraceTimerRef:R,onPointerGraceIntentChange:g.useCallback(U=>{_.current=U},[]),children:i.jsx(z,{...W,children:i.jsx(by,{asChild:!0,trapped:s,onMountAutoFocus:Me(a,U=>{var Y;U.preventDefault(),(Y=P.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(vd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:i.jsx(wW,{asChild:!0,...j,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:C,onEntryFocus:Me(c,U=>{w.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(tj,{role:"menu","aria-orientation":"vertical","data-state":WW(v.open),"data-radix-menu-content":"",dir:w.dir,...b,...p,ref:S,style:{outline:"none",...p.style},onKeyDown:Me(p.onKeyDown,U=>{const K=U.target.closest("[data-radix-menu-content]")===U.currentTarget,X=U.ctrlKey||U.altKey||U.metaKey,he=U.key.length===1;K&&(U.key==="Tab"&&U.preventDefault(),!X&&he&&B(U.key));const D=P.current;if(U.target!==D||!Dve.includes(U.key))return;U.preventDefault();const se=N().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);NW.includes(U.key)&&se.reverse(),rbe(se)}),onBlur:Me(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(A.current),T.current="")}),onPointerMove:Me(t.onPointerMove,cx(U=>{const Y=U.target,K=M.current!==U.clientX;if(U.currentTarget.contains(Y)&&K){const X=U.clientX>M.current?"right":"left";I.current=X,M.current=U.clientX}}))})})})})})})});TW.displayName=Fi;var Gve="MenuGroup",Yk=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(et.div,{role:"group",...n,ref:e})});Yk.displayName=Gve;var Kve="MenuLabel",CW=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(et.div,{...n,ref:e})});CW.displayName=Kve;var Hb="MenuItem",r4="menu.itemSelect",wj=g.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,a=g.useRef(null),o=Sy(Hb,t.__scopeMenu),l=Gk(Hb,t.__scopeMenu),c=Tt(e,a),u=g.useRef(!1),d=()=>{const h=a.current;if(!r&&h){const f=new CustomEvent(r4,{bubbles:!0,cancelable:!0});h.addEventListener(r4,m=>n==null?void 0:n(m),{once:!0}),$C(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(kW,{...s,ref:c,disabled:r,onClick:Me(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:Me(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Me(t.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||e_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});wj.displayName=Hb;var kW=g.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=t,o=Gk(Hb,r),l=EW(r),c=g.useRef(null),u=Tt(e,c),[d,h]=g.useState(!1),[f,m]=g.useState("");return g.useEffect(()=>{const x=c.current;x&&m((x.textContent??"").trim())},[a.children]),i.jsx(lx.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:i.jsx(jW,{asChild:!0,...l,focusable:!n,children:i.jsx(et.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Me(t.onPointerMove,cx(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Me(t.onPointerLeave,cx(x=>o.onItemLeave(x))),onFocus:Me(t.onFocus,()=>h(!0)),onBlur:Me(t.onBlur,()=>h(!1))})})})}),Yve="MenuCheckboxItem",IW=g.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return i.jsx($W,{scope:t.__scopeMenu,checked:r,children:i.jsx(wj,{role:"menuitemcheckbox","aria-checked":Gb(r)?"mixed":r,...s,ref:e,"data-state":Xk(r),onSelect:Me(s.onSelect,()=>n==null?void 0:n(Gb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});IW.displayName=Yve;var RW="MenuRadioGroup",[Qve,Xve]=wd(RW,{value:void 0,onValueChange:()=>{}}),OW=g.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,a=Fr(n);return i.jsx(Qve,{scope:t.__scopeMenu,value:r,onValueChange:a,children:i.jsx(Yk,{...s,ref:e})})});OW.displayName=RW;var DW="MenuRadioItem",MW=g.forwardRef((t,e)=>{const{value:r,...n}=t,s=Xve(DW,t.__scopeMenu),a=r===s.value;return i.jsx($W,{scope:t.__scopeMenu,checked:a,children:i.jsx(wj,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":Xk(a),onSelect:Me(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});MW.displayName=DW;var Qk="MenuItemIndicator",[$W,Jve]=wd(Qk,{checked:!1}),LW=g.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,a=Jve(Qk,r);return i.jsx(Fn,{present:n||Gb(a.checked)||a.checked===!0,children:i.jsx(et.span,{...s,ref:e,"data-state":Xk(a.checked)})})});LW.displayName=Qk;var Zve="MenuSeparator",FW=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});FW.displayName=Zve;var ebe="MenuArrow",VW=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=bj(r);return i.jsx(rj,{...s,...n,ref:e})});VW.displayName=ebe;var tbe="MenuSub",[ZWe,BW]=wd(tbe),Dp="MenuSubTrigger",UW=g.forwardRef((t,e)=>{const r=jd(Dp,t.__scopeMenu),n=Sy(Dp,t.__scopeMenu),s=BW(Dp,t.__scopeMenu),a=Gk(Dp,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(Wk,{asChild:!0,...u,children:i.jsx(kW,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":WW(r.open),...t,ref:H1(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Me(t.onPointerMove,cx(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Me(t.onPointerLeave,cx(h=>{var m,x;d();const f=(m=r.content)==null?void 0:m.getBoundingClientRect();if(f){const p=(x=r.content)==null?void 0:x.dataset.side,v=p==="right",w=v?-5:5,b=f[v?"left":"right"],j=f[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:b,y:f.top},{x:j,y:f.top},{x:j,y:f.bottom},{x:b,y:f.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Me(t.onKeyDown,h=>{var m;const f=a.searchRef.current!=="";t.disabled||f&&h.key===" "||Mve[n.dir].includes(h.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),h.preventDefault())})})})});UW.displayName=Dp;var qW="MenuSubContent",zW=g.forwardRef((t,e)=>{const r=_W(Fi,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=jd(Fi,t.__scopeMenu),o=Sy(Fi,t.__scopeMenu),l=BW(qW,t.__scopeMenu),c=g.useRef(null),u=Tt(e,c);return i.jsx(lx.Provider,{scope:t.__scopeMenu,children:i.jsx(Fn,{present:n||a.open,children:i.jsx(lx.Slot,{scope:t.__scopeMenu,children:i.jsx(Kk,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Me(t.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Me(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Me(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=$ve[o.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});zW.displayName=qW;function WW(t){return t?"open":"closed"}function Gb(t){return t==="indeterminate"}function Xk(t){return Gb(t)?"indeterminate":t?"checked":"unchecked"}function rbe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function nbe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function sbe(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=nbe(t,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function ibe(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,d=e[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function abe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return ibe(r,e)}function cx(t){return e=>e.pointerType==="mouse"?t(e):void 0}var obe=PW,lbe=Wk,cbe=AW,ube=TW,dbe=Yk,hbe=CW,fbe=wj,mbe=IW,pbe=OW,gbe=MW,xbe=LW,ybe=FW,vbe=VW,bbe=UW,wbe=zW,Jk="DropdownMenu",[jbe,eHe]=Sa(Jk,[SW]),ks=SW(),[Nbe,HW]=jbe(Jk),GW=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=ks(e),u=g.useRef(null),[d=!1,h]=io({prop:s,defaultProp:a,onChange:o});return i.jsx(Nbe,{scope:e,triggerId:ga(),triggerRef:u,contentId:ga(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:l,children:i.jsx(obe,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};GW.displayName=Jk;var KW="DropdownMenuTrigger",YW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,a=HW(KW,r),o=ks(r);return i.jsx(lbe,{asChild:!0,...o,children:i.jsx(et.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:H1(e,a.triggerRef),onPointerDown:Me(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Me(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});YW.displayName=KW;var Sbe="DropdownMenuPortal",QW=t=>{const{__scopeDropdownMenu:e,...r}=t,n=ks(e);return i.jsx(cbe,{...n,...r})};QW.displayName=Sbe;var XW="DropdownMenuContent",JW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=HW(XW,r),a=ks(r),o=g.useRef(!1);return i.jsx(ube,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:e,onCloseAutoFocus:Me(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Me(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JW.displayName=XW;var Ebe="DropdownMenuGroup",Pbe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ks(r);return i.jsx(dbe,{...s,...n,ref:e})});Pbe.displayName=Ebe;var _be="DropdownMenuLabel",ZW=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ks(r);return i.jsx(hbe,{...s,...n,ref:e})});ZW.displayName=_be;var Abe="DropdownMenuItem",eH=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ks(r);return i.jsx(fbe,{...s,...n,ref:e})});eH.displayName=Abe;var Tbe="DropdownMenuCheckboxItem",tH=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ks(r);return i.jsx(mbe,{...s,...n,ref:e})});tH.displayName=Tbe;var Cbe="DropdownMenuRadioGroup",kbe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ks(r);return i.jsx(pbe,{...s,...n,ref:e})});kbe.displayName=Cbe;var Ibe="DropdownMenuRadioItem",rH=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ks(r);return i.jsx(gbe,{...s,...n,ref:e})});rH.displayName=Ibe;var Rbe="DropdownMenuItemIndicator",nH=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ks(r);return i.jsx(xbe,{...s,...n,ref:e})});nH.displayName=Rbe;var Obe="DropdownMenuSeparator",sH=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ks(r);return i.jsx(ybe,{...s,...n,ref:e})});sH.displayName=Obe;var Dbe="DropdownMenuArrow",Mbe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ks(r);return i.jsx(vbe,{...s,...n,ref:e})});Mbe.displayName=Dbe;var $be="DropdownMenuSubTrigger",iH=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ks(r);return i.jsx(bbe,{...s,...n,ref:e})});iH.displayName=$be;var Lbe="DropdownMenuSubContent",aH=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ks(r);return i.jsx(wbe,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aH.displayName=Lbe;var Fbe=GW,Vbe=YW,Bbe=QW,oH=JW,lH=ZW,cH=eH,uH=tH,dH=rH,hH=nH,fH=sH,mH=iH,pH=aH;const t_=Fbe,r_=Vbe,Ube=g.forwardRef(({className:t,inset:e,children:r,...n},s)=>i.jsxs(mH,{ref:s,className:He("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,i.jsx(UC,{className:"ml-auto h-4 w-4"})]}));Ube.displayName=mH.displayName;const qbe=g.forwardRef(({className:t,...e},r)=>i.jsx(pH,{ref:r,className:He("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));qbe.displayName=pH.displayName;const Kb=g.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(Bbe,{children:i.jsx(oH,{ref:n,sideOffset:e,className:He("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Kb.displayName=oH.displayName;const ri=g.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(cH,{ref:n,className:He("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));ri.displayName=cH.displayName;const zbe=g.forwardRef(({className:t,children:e,checked:r,...n},s)=>i.jsxs(uH,{ref:s,className:He("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(hH,{children:i.jsx(Gs,{className:"h-4 w-4"})})}),e]}));zbe.displayName=uH.displayName;const Wbe=g.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(dH,{ref:n,className:He("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(hH,{children:i.jsx(Bce,{className:"h-2 w-2 fill-current"})})}),e]}));Wbe.displayName=dH.displayName;const Hbe=g.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(lH,{ref:n,className:He("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));Hbe.displayName=lH.displayName;const gH=g.forwardRef(({className:t,...e},r)=>i.jsx(fH,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",t),...e}));gH.displayName=fH.displayName;const n4=768;function xH(){const[t,e]=g.useState(void 0);return g.useEffect(()=>{const r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),n=()=>{const l=window.innerWidth<n4||r;e(l)},s=window.matchMedia(`(max-width: ${n4-1}px)`),a=()=>{n()};return s.addEventListener("change",a),n(),()=>s.removeEventListener("change",a)},[]),!!t}function Gbe(){const t=[{id:"privacy",title:"Privacy Policy",icon:Ir,link:"/privacy-policy"},{id:"terms",title:"Terms & Conditions",icon:_o,link:"/terms-and-conditions"},{id:"refund",title:"Shipping & Refund Policy",icon:nue,link:"/refund-policy"},{id:"contact",title:"Contact Us",icon:Xa,link:"/contact-us"}];return i.jsx(i.Fragment,{children:i.jsx("footer",{className:"bg-background border-t border-border/50 pb-24 sm:pb-0",children:i.jsxs("div",{className:"container mx-auto px-3 sm:px-6 lg:px-8 py-2 sm:py-8",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3 sm:gap-8 lg:gap-12 mb-2 sm:mb-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-2 sm:space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-pal-blue to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-white font-bold text-sm sm:text-lg",children:"E"})}),i.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[i.jsxs("h3",{className:"text-xs sm:text-lg lg:text-xl font-bold text-foreground leading-tight",children:["Enqir",i.jsx("span",{className:"text-[10px] sm:text-xs",children:".in"})," Platform"]}),i.jsx("p",{className:"text-[9px] sm:text-xs text-muted-foreground max-w-md leading-relaxed",children:"they suggests we helps"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[i.jsxs("div",{className:"flex flex-col items-center text-center p-2 sm:p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-all duration-200 group",children:[i.jsx("div",{className:"w-8 h-8 bg-pal-blue/10 rounded-lg flex items-center justify-center group-hover:bg-pal-blue/20 transition-colors mb-1",children:i.jsx(Ir,{className:"h-4 w-4 text-pal-blue"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-foreground",children:"ID Verified"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground hidden sm:block",children:"Secure Users"})]})]}),i.jsxs("div",{className:"flex flex-col items-center text-center p-2 sm:p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-all duration-200 group",children:[i.jsx("div",{className:"w-8 h-8 bg-pal-blue/10 rounded-lg flex items-center justify-center group-hover:bg-pal-blue/20 transition-colors mb-1",children:i.jsx(ao,{className:"h-4 w-4 text-pal-blue"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-foreground",children:"Secure"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground hidden sm:block",children:"Transactions"})]})]}),i.jsxs("div",{className:"flex flex-col items-center text-center p-2 sm:p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-all duration-200 group",children:[i.jsx("div",{className:"w-8 h-8 bg-pal-blue/10 rounded-lg flex items-center justify-center group-hover:bg-pal-blue/20 transition-colors mb-1",children:i.jsx(zC,{className:"h-4 w-4 text-pal-blue"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-foreground",children:"Admin"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground hidden sm:block",children:"Oversight"})]})]})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("h4",{className:"text-[10px] sm:text-lg font-semibold text-foreground mb-2 sm:mb-6 border-b border-border/50 pb-1 sm:pb-3 text-center sm:text-left",children:"Quick Links"}),i.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-1 sm:hidden",children:t.map(e=>i.jsx(Je,{to:e.link,className:"text-[10px] text-muted-foreground hover:text-pal-blue transition-colors px-2 py-1 rounded relative after:content-[''] after:absolute after:right-[-6px] after:top-1/2 after:transform after:-translate-y-1/2 after:w-[1px] after:h-3 after:bg-border last:after:hidden",children:e.title},e.id))}),i.jsx("div",{className:"hidden sm:grid grid-cols-2 gap-2 sm:gap-4",children:t.map(e=>i.jsx(Je,{to:e.link,className:"group text-left p-2 sm:p-3 rounded-lg hover:bg-muted/30 transition-all duration-200 border border-transparent hover:border-pal-blue/20",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-pal-blue/10 rounded-md flex items-center justify-center group-hover:bg-pal-blue/20 transition-colors",children:i.jsx(e.icon,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-pal-blue"})}),i.jsx("span",{className:"text-xs sm:text-sm font-medium text-foreground group-hover:text-pal-blue transition-colors leading-tight",children:e.title})]})},e.id))})]})]}),i.jsx("div",{className:"pt-2 sm:pt-4 border-t border-border/50",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-2 sm:space-y-0",children:[i.jsx("div",{className:"text-center sm:text-left",children:i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground",children:" www.enqir.in. All Rights Reserved."})}),i.jsxs("div",{className:"flex items-center justify-center sm:justify-end space-x-4 sm:space-x-6",children:[i.jsx(Je,{to:"/",className:"text-[10px] sm:text-sm text-muted-foreground hover:text-foreground transition-colors relative after:content-[''] after:absolute after:right-[-12px] after:top-1/2 after:transform after:-translate-y-1/2 after:w-[1px] after:h-3 after:bg-border",children:"Home"}),i.jsx(Je,{to:"/enquiries",className:"text-[10px] sm:text-sm text-muted-foreground hover:text-foreground transition-colors relative after:content-[''] after:absolute after:right-[-12px] after:top-1/2 after:transform after:-translate-y-1/2 after:w-[1px] after:h-3 after:bg-border",children:"Browse"}),i.jsx(Je,{to:"/post-enquiry",className:"text-[10px] sm:text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Post Enquiry"})]})]})})]})})})}const oS={search:{enabled:!0,mobileOptimized:!0,suggestionLimit:5,trendingLimit:6,debounceMs:300},autocomplete:{enabled:!0,mobileOptimized:!0,minChars:2,maxSuggestions:4,debounceMs:200},chat:{enabled:!0,mobileOptimized:!0,smartReplies:!0,sentimentAnalysis:!0,translation:!1},image:{enabled:!0,mobileOptimized:!0,autoCategorization:!0,duplicateDetection:!0,maxImageSize:5*1024*1024},analytics:{enabled:!0,mobileOptimized:!0,realTimeUpdates:!0,performanceMode:!0},security:{enabled:!0,mobileOptimized:!0,spamDetection:!0,riskScoring:!0,trustIndicators:!0},content:{enabled:!0,mobileOptimized:!0,smartTitles:!0,tagSuggestions:!0,descriptionTemplates:!0},performance:{mobileFirst:!0,lazyLoading:!0,progressiveEnhancement:!0,fallbackMode:!0}},Kbe={openai:{enabled:!1,apiKey:"",endpoint:""},local:{smartSearch:!0,autocomplete:!0,imageRecognition:!0,sentimentAnalysis:!0,contentGeneration:!0}},Ybe={touchOptimized:!0,gestureSupport:!0,voiceInput:!0,cameraIntegration:!0,responsiveUI:!0,performanceMode:!0},Qbe=()=>{try{return!oS||typeof oS!="object"?(console.warn("AI_CONFIG is invalid, using fallback configuration"),s4()):{...oS,mobile:Ybe,services:Kbe}}catch(t){return console.error("Error getting AI config, using fallback:",t),s4()}},s4=()=>({search:{enabled:!1,mobileOptimized:!0,suggestionLimit:0,trendingLimit:0,debounceMs:300},autocomplete:{enabled:!1,mobileOptimized:!0,minChars:2,maxSuggestions:0,debounceMs:200},chat:{enabled:!1,mobileOptimized:!0,smartReplies:!1,sentimentAnalysis:!1,translation:!1},image:{enabled:!1,mobileOptimized:!0,autoCategorization:!1,duplicateDetection:!1,maxImageSize:5*1024*1024},analytics:{enabled:!1,mobileOptimized:!0,realTimeUpdates:!1,performanceMode:!0},security:{enabled:!1,mobileOptimized:!0,spamDetection:!1,riskScoring:!1,trustIndicators:!1},content:{enabled:!1,mobileOptimized:!0,smartTitles:!1,tagSuggestions:!1,descriptionTemplates:!1},performance:{mobileFirst:!0,lazyLoading:!0,progressiveEnhancement:!0,fallbackMode:!0}}),Xbe=()=>{const[t,e]=g.useState(!1),[r,n]=g.useState([]),[s,a]=g.useState(""),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState(!1),f=g.useRef(null),m=g.useRef(null);let x;try{x=Qbe()}catch(T){console.error("Failed to get AI config:",T),x=getFallbackAIConfig(),h(!0)}const p=["Post enquiry","Respond to enquiries","Trust badge","How to use","Contact support","Browse enquiries"],v={"how to post an enquiry":{answer:"To post an enquiry, click the 'Post Your Need' button on the homepage or go to 'Post Enquiry' in the menu. Fill in the details and submit!",actions:["Go to Post Enquiry","View Examples"]},"how to respond to enquiries":{answer:"To respond to enquiries, browse the 'Browse Enquiries' section, find something you can help with, and click 'Sell' to submit your offer.",actions:["Browse Enquiries","View My Responses"]},"what is a trust badge":{answer:"A trust badge is an optional feature that shows other users you've verified your identity. It's completely optional and helps build trust in the community.",actions:["Learn More","Get Trust Badge"]},"how to use the app":{answer:"Our app is simple! Post what you need, browse what others need, and connect with people who can help. No big fees, just a friendly community helping each other.",actions:["Take Tour","View Features"]},"contact support":{answer:"For support, you can use this chat, check our FAQ, or email us. We're here to help make your experience smooth and enjoyable!",actions:["View FAQ","Email Support"]},"browse enquiries":{answer:"Browse enquiries by going to 'Browse' in the menu or clicking 'Browse Enquiries' on the homepage. Use the search to find exactly what you're looking for!",actions:["Browse Now","Search Enquiries"]}};g.useEffect(()=>{r.length===0&&b(`Hello! I'm your Enqir Assistant. I can help you with:

 Posting enquiries
 Finding what you need
 Understanding features
 Getting support

What would you like to know?`,"text")},[r.length]),g.useEffect(()=>{var T;(T=f.current)==null||T.scrollIntoView({behavior:"smooth"})},[r]);const w=(T,R,_="text")=>{const I={id:Date.now().toString(),text:T,sender:R,timestamp:new Date,type:_};n(M=>[...M,I])},b=(T,R="text")=>{l(!0),setTimeout(()=>{l(!1),w(T,"bot",R)},1e3)},j=async()=>{if(s.trim())try{const T=s.trim();w(T,"user"),a(""),u(!0),setTimeout(()=>{try{const R=N(T.toLowerCase());b(R.answer,"text"),R.actions&&R.actions.length>0&&setTimeout(()=>{b("Here are some quick actions:","suggestion"),R.actions.forEach(_=>{b(_,"quick-action")})},500)}catch(R){console.error("AI response generation failed:",R),b("I'm having trouble right now. You can still use all app features normally!","text")}finally{u(!1)}},1500)}catch(T){console.error("Message handling failed:",T),u(!1),b("Something went wrong. Please try again or use the app normally.","text")}},N=T=>{try{if(!T||typeof T!="string")return E();for(const[R,_]of Object.entries(v))if(T.includes(R)||R.includes(T))return _;return{answer:"I'm here to help! You can ask me about posting enquiries, responding to requests, trust badges, or how to use the app. What would you like to know?",actions:["View FAQ","Take Tour","Browse Enquiries"]}}catch(R){return console.error("AI response generation failed:",R),E()}},E=()=>({answer:"I'm having trouble processing your request right now. You can still use all the PAL app features normally. For help, try browsing enquiries or posting your own request!",actions:["Browse Enquiries","Post Enquiry","Contact Support"]}),C=T=>{w(T,"user"),a(""),u(!0),setTimeout(()=>{const R=N(T.toLowerCase());b(R.answer,"text"),u(!1)},1e3)},P=T=>{w(`I'll help you with: ${T}`,"user"),setTimeout(()=>{b(`Great! I'm taking you to ${T}. You can also use the menu or navigation to get there.`,"text")},1e3)},S=()=>{n([]),b("Chat cleared. How can I help you?","text")},A=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),j())};return i.jsx(i.Fragment,{children:i.jsx("div",{className:"fixed bottom-20 right-4 sm:bottom-6 sm:right-6 z-[60]",children:i.jsxs(JP,{open:t,onOpenChange:e,children:[i.jsx(mW,{asChild:!0,children:i.jsxs("div",{className:"group cursor-pointer relative",children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-gray-800/20 animate-ping"}),i.jsxs("button",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-white border-2 border-gray-800 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-105 group-active:scale-95 flex items-center justify-center relative overflow-hidden",children:[i.jsx(Qce,{className:"h-6 w-6 text-gray-800 group-hover:text-gray-900 transition-colors duration-200 relative z-10"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-800/10 to-gray-900/10 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white animate-pulse"}),i.jsx("div",{className:"absolute inset-0 rounded-full bg-gray-800/20 scale-0 group-hover:scale-110 transition-transform duration-500"})]}),i.jsxs("div",{className:"absolute -top-12 right-0 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-200 whitespace-nowrap pointer-events-none",children:[i.jsx("span",{className:"font-medium",children:"Enqir Assistant"}),i.jsx("div",{className:"absolute bottom-0 right-3 w-0 h-0 border-l-2 border-r-2 border-t-2 border-transparent border-t-gray-900"})]})]})}),i.jsxs(zk,{side:"right",className:"w-[86vw] max-w-[380px] sm:w-[480px] h-[70vh] sm:h-[70vh] p-0 bg-white border-l border-gray-200 flex flex-col [&>button]:hidden rounded-2xl sm:rounded-3xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-white rounded-t-2xl sm:rounded-t-3xl",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center",children:i.jsx(Ba,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Enqir Assistant"}),i.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),d?"Limited mode":"Online"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Clear chat",children:i.jsx(Cb,{className:"h-4 w-4 text-gray-500"})}),i.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Close chat",children:i.jsx(rn,{className:"h-4 w-4 text-gray-500"})})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-5 space-y-4 min-h-0 bg-gray-50/50",children:[r.map((T,R)=>i.jsx("div",{className:`flex ${T.sender==="user"?"justify-end":"justify-start"} animate-in slide-in-from-bottom-2 duration-300`,style:{animationDelay:`${R*100}ms`},children:i.jsxs("div",{className:`max-w-[85%] sm:max-w-[75%] p-4 sm:p-5 rounded-2xl sm:rounded-3xl transition-all duration-200 hover:shadow-md ${T.sender==="user"?"bg-gray-800 text-white rounded-br-md shadow-sm":"bg-white text-gray-900 rounded-bl-md border border-gray-200 shadow-sm"}`,children:[T.type==="quick-action"?i.jsxs("button",{onClick:()=>P(T.text),className:"text-left w-full hover:underline text-sm font-medium flex items-center gap-2 group",children:[i.jsx(I2,{className:"h-3 w-3 text-gray-800 group-hover:animate-spin"}),T.text]}):i.jsxs("div",{className:"space-y-2.5",children:[T.sender==="bot"&&i.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[i.jsx(Ba,{className:"h-4 w-4 text-gray-800"}),i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Assistant"})]}),i.jsx("div",{className:"text-sm sm:text-base leading-relaxed break-words whitespace-pre-wrap text-gray-800",children:T.text.split(`
`).map((_,I)=>_.trim().startsWith("")?i.jsxs("div",{className:"flex items-start gap-2 mb-1.5",children:[i.jsx("span",{className:"text-gray-800 mt-1.5 flex-shrink-0",children:""}),i.jsx("span",{className:"flex-1",children:_.trim().substring(1).trim()})]},I):i.jsx("p",{className:I===0?"font-medium text-gray-900 mb-2":"mb-1.5",children:_||""},I))})]}),i.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-current/10",children:[i.jsx("p",{className:"text-xs opacity-70",children:T.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),T.sender==="user"&&i.jsx(Ai,{className:"h-3 w-3 opacity-70"})]})]})},T.id)),o&&i.jsx("div",{className:"flex justify-start animate-in slide-in-from-bottom-2 duration-300",children:i.jsx("div",{className:"bg-white border border-gray-200 p-3 rounded-2xl sm:rounded-3xl rounded-bl-md",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ba,{className:"h-3 w-3 text-gray-800"}),i.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Assistant"})]}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),i.jsx("span",{className:"text-xs text-gray-500",children:"typing..."})]})})}),i.jsx("div",{ref:f})]}),i.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-100 bg-white rounded-b-none",children:i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[i.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-gray-800 rounded-full flex items-center justify-center",children:i.jsx(I2,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-white"})}),i.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:"Quick Help"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2",children:p.map((T,R)=>i.jsx("button",{onClick:()=>C(T),className:"text-left p-2 sm:p-3 bg-gray-50 hover:bg-gray-100 border border-gray-200 hover:border-gray-800 rounded-xl sm:rounded-2xl transition-all duration-200 group disabled:opacity-50 hover:scale-[1.02] active:scale-100",disabled:c,children:i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[i.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 bg-gray-800 rounded-full group-hover:bg-gray-900 group-hover:scale-125 transition-all duration-200 flex-shrink-0"}),i.jsx("span",{className:"text-[10px] sm:text-xs font-medium text-gray-700 group-hover:text-gray-900 break-words flex-1 text-left leading-tight",children:T}),i.jsx(I2,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex-shrink-0"})]})},R))})]})}),i.jsx("div",{className:"p-4 border-t border-gray-100 bg-white rounded-b-2xl sm:rounded-b-3xl",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx("input",{ref:m,value:s,onChange:T=>a(T.target.value),onKeyPress:A,placeholder:"Type your message...",className:"w-full px-4 py-3 pr-12 text-sm border border-gray-200 rounded-2xl sm:rounded-3xl focus:border-gray-800 focus:ring-2 focus:ring-gray-200 transition-all duration-200 bg-gray-50 focus:bg-white",disabled:c}),s.trim()&&i.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})})]}),i.jsx("button",{onClick:j,disabled:!s.trim()||c,className:"px-4 py-3 bg-gray-800 hover:bg-gray-900 disabled:bg-gray-300 text-white rounded-2xl sm:rounded-3xl transition-all duration-200 disabled:cursor-not-allowed flex items-center justify-center min-w-[48px]",children:c?i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(pP,{className:"h-4 w-4"})})]})})]})]})})})};function mt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function As(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function On(t,e){const r=mt(t);return isNaN(e)?As(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function pi(t,e){const r=mt(t);if(isNaN(e))return As(t,NaN);if(!e)return r;const n=r.getDate(),s=As(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}function yH(t,e){const r=+mt(t);return As(t,r+e)}const Zk=6048e5,Jbe=864e5,Zbe=6e4,ewe=36e5,z0=43200,i4=1440;function tu(t,e){return yH(t,e*ewe)}let twe={};function Nm(){return twe}function lo(t,e){var l,c,u,d;const r=Nm(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=mt(t),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function id(t){return lo(t,{weekStartsOn:1})}function vH(t){const e=mt(t),r=e.getFullYear(),n=As(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=id(n),a=As(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=id(a);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function bf(t){const e=mt(t);return e.setHours(0,0,0,0),e}function wf(t){const e=mt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function za(t,e){const r=bf(t),n=bf(e),s=+r-wf(r),a=+n-wf(n);return Math.round((s-a)/Jbe)}function rwe(t){const e=vH(t),r=As(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),id(r)}function W0(t,e){return yH(t,e*Zbe)}function Ih(t,e){const r=e*7;return On(t,r)}function nwe(t,e){return pi(t,e*12)}function swe(t){let e;return t.forEach(function(r){const n=mt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function iwe(t){let e;return t.forEach(r=>{const n=mt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function Lv(t,e){const r=mt(t),n=mt(e),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function awe(t){return As(t,Date.now())}function Us(t,e){const r=bf(t),n=bf(e);return+r==+n}function eI(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function owe(t){if(!eI(t)&&typeof t!="number")return!1;const e=mt(t);return!isNaN(Number(e))}function jf(t,e){const r=mt(t),n=mt(e),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function lwe(t,e,r){const n=lo(t,r),s=lo(e,r),a=+n-wf(n),o=+s-wf(s);return Math.round((a-o)/Zk)}function cwe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function uwe(t,e){return+mt(t)-+mt(e)}function dwe(t){const e=mt(t);return e.setHours(23,59,59,999),e}function jj(t){const e=mt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function hwe(t){const e=mt(t);return+dwe(e)==+jj(e)}function fwe(t,e){const r=mt(t),n=mt(e),s=Lv(r,n),a=Math.abs(jf(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=Lv(r,n)===-s;hwe(mt(t))&&a===1&&Lv(t,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function mwe(t,e,r){const n=uwe(t,e)/1e3;return cwe(r==null?void 0:r.roundingMethod)(n)}function Ks(t){const e=mt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function bH(t){const e=mt(t),r=As(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function tI(t,e){var l,c,u,d;const r=Nm(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=mt(t),a=s.getDay(),o=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function wH(t){return tI(t,{weekStartsOn:1})}const pwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gwe=(t,e,r)=>{let n;const s=pwe[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function lS(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const xwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ywe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bwe={date:lS({formats:xwe,defaultWidth:"full"}),time:lS({formats:ywe,defaultWidth:"full"}),dateTime:lS({formats:vwe,defaultWidth:"full"})},wwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jwe=(t,e,r,n)=>wwe[t];function dp(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const Nwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Swe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ewe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_we={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Awe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Twe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cwe={ordinalNumber:Twe,era:dp({values:Nwe,defaultWidth:"wide"}),quarter:dp({values:Swe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:dp({values:Ewe,defaultWidth:"wide"}),day:dp({values:Pwe,defaultWidth:"wide"}),dayPeriod:dp({values:_we,defaultWidth:"wide",formattingValues:Awe,defaultFormattingWidth:"wide"})};function hp(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Iwe(l,h=>h.test(o)):kwe(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function kwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Iwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Rwe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const Owe=/^(\d+)(th|st|nd|rd)?/i,Dwe=/\d+/i,Mwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$we={any:[/^b/i,/^(a|c)/i]},Lwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fwe={any:[/1/i,/2/i,/3/i,/4/i]},Vwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hwe={ordinalNumber:Rwe({matchPattern:Owe,parsePattern:Dwe,valueCallback:t=>parseInt(t,10)}),era:hp({matchPatterns:Mwe,defaultMatchWidth:"wide",parsePatterns:$we,defaultParseWidth:"any"}),quarter:hp({matchPatterns:Lwe,defaultMatchWidth:"wide",parsePatterns:Fwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hp({matchPatterns:Vwe,defaultMatchWidth:"wide",parsePatterns:Bwe,defaultParseWidth:"any"}),day:hp({matchPatterns:Uwe,defaultMatchWidth:"wide",parsePatterns:qwe,defaultParseWidth:"any"}),dayPeriod:hp({matchPatterns:zwe,defaultMatchWidth:"any",parsePatterns:Wwe,defaultParseWidth:"any"})},rI={code:"en-US",formatDistance:gwe,formatLong:bwe,formatRelative:jwe,localize:Cwe,match:Hwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Gwe(t){const e=mt(t);return za(e,bH(e))+1}function jH(t){const e=mt(t),r=+id(e)-+rwe(e);return Math.round(r/Zk)+1}function NH(t,e){var d,h,f,m;const r=mt(t),n=r.getFullYear(),s=Nm(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=As(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=lo(o,e),c=As(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=lo(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Kwe(t,e){var l,c,u,d;const r=Nm(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=NH(t,e),a=As(t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),lo(a,e)}function SH(t,e){const r=mt(t),n=+lo(r,e)-+Kwe(r,e);return Math.round(n/Zk)+1}function Zt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const jl={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Zt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Zt(r+1,2)},d(t,e){return Zt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Zt(t.getHours()%12||12,e.length)},H(t,e){return Zt(t.getHours(),e.length)},m(t,e){return Zt(t.getMinutes(),e.length)},s(t,e){return Zt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Zt(s,e.length)}},$d={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},a4={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return jl.y(t,e)},Y:function(t,e,r,n){const s=NH(t,n),a=s>0?s:1-s;if(e==="YY"){const o=a%100;return Zt(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Zt(a,e.length)},R:function(t,e){const r=vH(t);return Zt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Zt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Zt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Zt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return jl.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Zt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=SH(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Zt(s,e.length)},I:function(t,e,r){const n=jH(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Zt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):jl.d(t,e)},D:function(t,e,r){const n=Gwe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Zt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Zt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Zt(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Zt(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=$d.noon:n===0?s=$d.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=$d.evening:n>=12?s=$d.afternoon:n>=4?s=$d.morning:s=$d.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return jl.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):jl.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Zt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Zt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):jl.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):jl.s(t,e)},S:function(t,e){return jl.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return l4(n);case"XXXX":case"XX":return cu(n);case"XXXXX":case"XXX":default:return cu(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return l4(n);case"xxxx":case"xx":return cu(n);case"xxxxx":case"xxx":default:return cu(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+o4(n,":");case"OOOO":default:return"GMT"+cu(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+o4(n,":");case"zzzz":default:return"GMT"+cu(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Zt(n,e.length)},T:function(t,e,r){const n=t.getTime();return Zt(n,e.length)}};function o4(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+e+Zt(a,2)}function l4(t,e){return t%60===0?(t>0?"-":"+")+Zt(Math.abs(t)/60,2):cu(t,e)}function cu(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Zt(Math.trunc(n/60),2),a=Zt(n%60,2);return r+s+e+a}const c4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},EH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ywe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return c4(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",c4(n,e)).replace("{{time}}",EH(s,e))},Qwe={p:EH,P:Ywe},Xwe=/^D+$/,Jwe=/^Y+$/,Zwe=["D","DD","YY","YYYY"];function e1e(t){return Xwe.test(t)}function t1e(t){return Jwe.test(t)}function r1e(t,e,r){const n=n1e(t,e,r);if(console.warn(n),Zwe.includes(t))throw new RangeError(n)}function n1e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a1e=/^'([^]*?)'?$/,o1e=/''/g,l1e=/[a-zA-Z]/;function sl(t,e,r){var d,h,f,m,x,p,v,w;const n=Nm(),s=(r==null?void 0:r.locale)??n.locale??rI,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,l=mt(t);if(!owe(l))throw new RangeError("Invalid time value");let c=e.match(i1e).map(b=>{const j=b[0];if(j==="p"||j==="P"){const N=Qwe[j];return N(b,s.formatLong)}return b}).join("").match(s1e).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const j=b[0];if(j==="'")return{isToken:!1,value:c1e(b)};if(a4[j])return{isToken:!0,value:b};if(j.match(l1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const j=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&t1e(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&e1e(j))&&r1e(j,e,String(t));const N=a4[j[0]];return N(l,j,s.localize,u)}).join("")}function c1e(t){const e=t.match(a1e);return e?e[1].replace(o1e,"'"):t}function u1e(t,e,r){const n=Nm(),s=(r==null?void 0:r.locale)??n.locale??rI,a=2520,o=Lv(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=mt(e),u=mt(t)):(c=mt(t),u=mt(e));const d=mwe(u,c),h=(wf(u)-wf(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<i4){const x=Math.round(f/60);return s.formatDistance("aboutXHours",x,l)}else{if(f<a)return s.formatDistance("xDays",1,l);if(f<z0){const x=Math.round(f/i4);return s.formatDistance("xDays",x,l)}else if(f<z0*2)return m=Math.round(f/z0),s.formatDistance("aboutXMonths",m,l)}if(m=fwe(u,c),m<12){const x=Math.round(f/z0);return s.formatDistance("xMonths",x,l)}else{const x=m%12,p=Math.trunc(m/12);return x<3?s.formatDistance("aboutXYears",p,l):x<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function PH(t,e){return u1e(t,awe(t),e)}function d1e(t){const e=mt(t),r=e.getFullYear(),n=e.getMonth(),s=As(t,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function h1e(t){return Math.trunc(+mt(t)/1e3)}function f1e(t){const e=mt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function m1e(t,e){return lwe(f1e(t),Ks(t),e)+1}function n_(t,e){const r=mt(t),n=mt(e);return r.getTime()>n.getTime()}function _H(t,e){const r=mt(t),n=mt(e);return+r<+n}function nI(t,e){const r=mt(t),n=mt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function p1e(t,e){const r=mt(t),n=mt(e);return r.getFullYear()===n.getFullYear()}function cS(t,e){return On(t,-e)}function uS(t,e){const r=mt(t),n=r.getFullYear(),s=r.getDate(),a=As(t,0);a.setFullYear(n,e,15),a.setHours(0,0,0,0);const o=d1e(a);return r.setMonth(e,Math.min(s,o)),r}function u4(t,e){const r=mt(t);return isNaN(+r)?As(t,NaN):(r.setFullYear(e),r)}const d4=({className:t=""})=>{const e=g.useContext(Ea),r=Zr(),[n,s]=g.useState(!1);if(!e)return null;const{notifications:a=[],unreadCount:o=0,markAsRead:l,markAllAsRead:c}=e,u=(h,f)=>{if(!(!h||!l))try{if(l(h),s(!1),f){let m=f;f.startsWith("/enquiry-responses/")&&(m=`/enquiry/${f.replace("/enquiry-responses/","")}/responses-page`),r(m)}}catch(m){console.error("Failed to handle notification click:",m)}},d=()=>{if(c)try{c()}catch(h){console.error("Failed to mark all as read:",h)}};return i.jsxs("div",{className:`relative ${t}`,children:[i.jsxs("button",{onClick:()=>s(!n),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Notifications",children:[i.jsx(Ph,{className:"w-5 h-5 text-gray-700"}),o>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-semibold rounded-full w-5 h-5 flex items-center justify-center",children:o>9?"9+":o})]}),n&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),i.jsxs("div",{className:"fixed sm:absolute left-2 right-2 top-16 sm:left-auto sm:right-0 sm:top-12 w-auto sm:w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[calc(100vh-5rem)] sm:max-h-[500px] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-gray-200 bg-gray-50",children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Notifications"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o>0&&i.jsx("button",{onClick:d,className:"text-[10px] sm:text-xs bg-gray-800 hover:bg-gray-900 text-white font-medium px-2 py-1 rounded transition-colors",children:"Mark all read"}),i.jsx("button",{onClick:()=>s(!1),className:"p-1.5 hover:bg-gray-200 rounded transition-colors",children:i.jsx(rn,{className:"w-4 h-4 text-gray-600"})})]})]}),i.jsx("div",{className:"overflow-y-auto flex-1 overscroll-contain max-h-[400px]",children:a.length===0?i.jsxs("div",{className:"p-6 sm:p-8 text-center text-gray-500",children:[i.jsx(Ph,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 text-gray-300"}),i.jsx("p",{className:"text-xs sm:text-sm",children:"No notifications yet"})]}):i.jsx("div",{className:"divide-y divide-gray-100",children:(Array.isArray(a)?a:[]).slice(0,5).map(h=>{if(!h||!h.id)return null;try{return i.jsx("div",{onClick:()=>u(h.id,h.actionUrl),className:`p-3 sm:p-4 cursor-pointer hover:bg-gray-50 active:bg-gray-100 transition-colors ${h.read?"":"bg-gray-800/10"}`,children:i.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[i.jsx("div",{className:`flex-shrink-0 w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${h.type==="success"?"bg-green-100":h.type==="error"?"bg-red-100":h.type==="warning"?"bg-yellow-100":"bg-gray-800/20"}`,children:i.jsx(Gs,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${h.type==="success"?"text-green-600":h.type==="error"?"text-red-600":h.type==="warning"?"text-yellow-600":"text-gray-800"}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-0.5 sm:mb-1 line-clamp-2",children:h.title||"Notification"}),i.jsx("p",{className:"text-[11px] sm:text-xs text-gray-600 mb-1 sm:mb-2 line-clamp-2",children:h.message||""}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400",children:h.timestamp?PH(new Date(h.timestamp),{addSuffix:!0}):"Just now"})]}),!h.read&&i.jsx("div",{className:"flex-shrink-0 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-gray-800 rounded-full mt-1.5 sm:mt-2"})]})},h.id)}catch(f){return console.error("Error rendering notification:",f),null}})})}),a.length>0&&i.jsx("div",{className:"border-t border-gray-200 p-3",children:i.jsx("button",{onClick:h=>{h.stopPropagation(),s(!1),r("/notifications")},className:"w-full text-center text-sm font-medium bg-gray-800 hover:bg-gray-900 text-white py-2 rounded transition-colors",children:"View All Notifications"})})]})]})]})},g1e=({id:t,title:e,message:r,type:n="info",actionUrl:s,onDismiss:a,index:o})=>{try{const l=Zr(),[c,u]=g.useState(!1),d=g.useRef(null),h=g.useRef(null),f=g.useRef(null),m=g.useCallback(()=>{try{u(!1),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{try{a&&t&&a(t)}catch(w){console.error("Error in onDismiss callback:",w)}},300)}catch(w){console.error("Error dismissing notification:",w)}},[a,t]);g.useEffect(()=>{try{return d.current=setTimeout(()=>{try{u(!0)}catch(w){console.error("Error setting visibility:",w)}},100),h.current=setTimeout(()=>{try{m()}catch(w){console.error("Error in auto dismiss:",w)}},6e3),()=>{try{d.current&&clearTimeout(d.current),h.current&&clearTimeout(h.current),f.current&&clearTimeout(f.current)}catch(w){console.error("Error clearing timers:",w)}}}catch(w){console.error("Error in popup effect:",w)}},[t,m]);const x=()=>{try{s&&(l(s),m())}catch(w){console.error("Failed to navigate:",w),m()}},p=()=>{try{switch(n){case"success":return i.jsx(Gs,{className:"w-5 h-5 text-green-600"});case"error":return i.jsx(Kg,{className:"w-5 h-5 text-red-600"});case"warning":return i.jsx(Kg,{className:"w-5 h-5 text-yellow-600"});default:return i.jsx(mP,{className:"w-5 h-5 text-blue-600"})}}catch(w){return console.error("Error getting icon:",w),i.jsx(mP,{className:"w-5 h-5 text-blue-600"})}},v=()=>{try{switch(n){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}}catch(w){return console.error("Error getting bg color:",w),"bg-blue-50 border-blue-200"}};if(!t||!a)return null;try{return i.jsxs("div",{className:`fixed left-4 right-4 z-[9999] transition-all duration-300 ease-out ${c?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,style:{top:`${80+o*90}px`},children:[i.jsxs("div",{onClick:x,className:`${v()} border rounded-lg shadow-lg p-4 cursor-pointer active:scale-95 transition-transform`,children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 mt-0.5",children:p()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1 line-clamp-1",children:e}),i.jsx("p",{className:"text-xs text-gray-700 line-clamp-2",children:r})]}),i.jsx("button",{onClick:w=>{w.stopPropagation(),m()},className:"flex-shrink-0 p-1 hover:bg-white/50 rounded transition-colors",children:i.jsx(rn,{className:"w-4 h-4 text-gray-600"})})]}),i.jsx("div",{className:"mt-3 h-1 bg-white/30 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gray-900/20 rounded-full",style:{animation:"shrink 6s linear forwards"}})})]}),i.jsx("style",{children:`
          @keyframes shrink {
            from { width: 100%; }
            to { width: 0%; }
          }
        `})]})}catch(w){return console.error("Error rendering popup:",w),null}}catch(l){return console.error("MobileNotificationPopup error:",l),null}},x1e=()=>{try{const t=g.useContext(Ea),e=xH(),[r,n]=g.useState([]),s=g.useRef(new Set),a=g.useRef(0),o=g.useRef([]);if(!t)return null;const{notifications:l=[],markAsRead:c}=t;g.useEffect(()=>{try{if(!e){n([]);return}if(!Array.isArray(l))return;const d=l.filter(h=>h&&h.id&&typeof h.read=="boolean"&&!h.read&&!s.current.has(h.id));return d.length>0&&d.length<=2&&(o.current.forEach(h=>{try{clearTimeout(h)}catch{}}),o.current=[],d.slice(0,2).forEach((h,f)=>{try{const m=setTimeout(()=>{try{n(x=>{const p=Array.isArray(x)?x.slice(-1):[],v={notification:h,index:p.length};return h.id&&s.current.add(h.id),[...p,v]})}catch(x){console.error("Error setting active popup:",x)}},f*1e3);o.current.push(m)}catch(m){console.error("Error creating popup timeout:",m)}})),a.current=l.length,()=>{try{o.current.forEach(h=>{try{clearTimeout(h)}catch{}}),o.current=[]}catch(h){console.error("Error in cleanup:",h)}}}catch(d){console.error("Error in notification popup effect:",d)}},[l,e]);const u=g.useCallback(d=>{if(!(!d||!c))try{typeof c=="function"&&c(d),n(h=>{try{return Array.isArray(h)?h.filter(m=>m&&m.notification&&m.notification.id&&m.notification.id!==d).map((m,x)=>({...m,index:x})):[]}catch(f){return console.error("Error filtering popups:",f),[]}})}catch(h){console.error("Failed to dismiss notification:",h),n(f=>Array.isArray(f)?f.filter(m=>m&&m.notification&&m.notification.id!==d):[])}},[c]);if(g.useEffect(()=>{try{if(!Array.isArray(l))return;const d=setInterval(()=>{try{const h=new Set(l.filter(f=>f&&f.id).map(f=>f.id));s.current=new Set(Array.from(s.current).filter(f=>h.has(f)))}catch(h){console.error("Error in cleanup interval:",h)}},6e4);return()=>{try{clearInterval(d)}catch(h){console.error("Error clearing cleanup interval:",h)}}}catch(d){console.error("Error setting up cleanup interval:",d)}},[l]),!e||r.length===0)return null;try{return i.jsx(i.Fragment,{children:r.map(d=>{try{return!d||!d.notification||!d.notification.id?null:i.jsx(g1e,{id:d.notification.id,title:d.notification.title||"Notification",message:d.notification.message||"",type:d.notification.type||"info",actionUrl:d.notification.actionUrl,onDismiss:u,index:d.index||0},d.notification.id)}catch(h){return console.error("Error rendering popup:",h),null}})})}catch(d){return console.error("Error rendering notification popups:",d),null}}catch(t){return console.error("NotificationManager error:",t),null}},Nj=dW,y1e=hW,AH=g.forwardRef(({className:t,...e},r)=>i.jsx(mj,{ref:r,className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));AH.displayName=mj.displayName;const Ey=g.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(y1e,{children:[i.jsx(AH,{}),i.jsxs(pj,{ref:n,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,i.jsxs(fW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(rn,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ey.displayName=pj.displayName;const Py=({className:t,...e})=>i.jsx("div",{className:He("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Py.displayName="DialogHeader";const TH=({className:t,...e})=>i.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});TH.displayName="DialogFooter";const _y=g.forwardRef(({className:t,...e},r)=>i.jsx(gj,{ref:r,className:He("text-lg font-semibold leading-none tracking-tight",t),...e}));_y.displayName=gj.displayName;const Ay=g.forwardRef(({className:t,...e},r)=>i.jsx(xj,{ref:r,className:He("text-sm text-muted-foreground",t),...e}));Ay.displayName=xj.displayName;const v1e=({open:t,onOpenChange:e,onConfirm:r})=>{const[n,s]=g.useState(!1),a=async()=>{s(!0);try{await r()}finally{s(!1),e(!1)}};return i.jsx(Nj,{open:t,onOpenChange:e,children:i.jsxs(Ey,{className:"sm:max-w-sm border-2 border-blue-200 rounded-2xl",children:[i.jsxs(Py,{className:"text-center space-y-3",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 mx-auto bg-slate-100 rounded-full",children:i.jsx(Cv,{className:"w-5 h-5 text-slate-600"})}),i.jsx(_y,{className:"text-lg font-medium text-slate-800",children:"Sign Out"}),i.jsx(Ay,{className:"text-sm text-slate-600 leading-relaxed",children:"You'll need to sign in again to access your account."})]}),i.jsxs(TH,{className:"flex gap-3 pt-4",children:[i.jsx(G,{variant:"outline",onClick:()=>e(!1),className:"flex-1 border-slate-200 text-slate-700 hover:bg-slate-50",disabled:n,children:"Cancel"}),i.jsx(G,{onClick:a,disabled:n,className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white",children:n?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing out..."]}):"Sign Out"})]})]})})},b1e=g.lazy(()=>nd(()=>import("./MobileAIController-CIv4gz0D.js"),[]));function Nt({children:t,showNavigation:e=!0}){const{user:r,signOut:n}=Dr(),{theme:s,setTheme:a}=p7(),o=ul(),l=xH(),[c,u]=g.useState(!1),[d,h]=g.useState(!1);g.useState("");const[f,m]=g.useState(!1);g.useEffect(()=>{m(!0)},[]);const x=async()=>{await n(),u(!1)},p=()=>{h(!0)},v=j=>o.pathname===j,w=[{path:"/",label:"Home",icon:vu},{path:"/enquiries",label:"Browse",icon:Gl},{path:"/post-enquiry",label:"Post Enquiry",icon:Yg},{path:"/dashboard",label:"Dashboard",icon:Tv},{path:"/profile",label:"Profile",icon:Ai}],b=()=>i.jsx(JP,{open:c,onOpenChange:u,children:i.jsx(zk,{side:"right",className:"w-[300px] sm:w-[340px] p-0 bg-white [&>button]:hidden",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"p-4 sm:p-5 border-b border-gray-200 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Menu"}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>u(!1),className:"h-8 w-8 p-0 rounded-lg hover:bg-gray-100 transition-colors",children:i.jsx(rn,{className:"h-4 w-4 text-gray-600"})})]}),r?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-lg shadow-sm",children:[i.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center border border-white/20",children:i.jsx(Ai,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-white truncate text-sm",children:r.displayName||r.email}),i.jsx("p",{className:"text-xs text-white/70 truncate",children:r.email})]})]}),i.jsx("div",{className:"flex items-center gap-1.5 flex-wrap",children:i.jsx(Pe,{variant:"outline",className:`text-[10px] font-medium px-1.5 py-0.5 ${r.emailVerified?"border-green-300 bg-green-50 text-green-700":"border-gray-300"}`,children:r.emailVerified?" Verified":" Pending"})})]}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx(Ai,{className:"h-6 w-6 text-gray-400"})}),i.jsx("p",{className:"text-gray-600 mb-3 text-sm",children:"Not signed in"}),i.jsx(Je,{to:"/signin",onClick:()=>u(!1),children:i.jsx(G,{className:"w-full bg-gray-800 hover:bg-gray-900 text-white font-medium text-sm h-9 rounded-lg",children:"Sign In"})})]})]}),i.jsx("nav",{className:"flex-1 overflow-y-auto p-4 sm:p-5",children:i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("p",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wider mb-3 px-1",children:"Navigation"}),w.map((j,N)=>{const E=j.icon;return i.jsx(YP.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.05},children:i.jsxs(Je,{to:j.path,onClick:()=>u(!1),className:`flex items-center space-x-3 p-3 rounded-lg transition-all duration-200 group ${v(j.path)?"bg-gray-800 text-white shadow-sm":"hover:bg-gray-50 text-gray-700"}`,children:[i.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-lg ${v(j.path)?"bg-white/10":"bg-gray-100 group-hover:bg-gray-200"} transition-colors`,children:i.jsx(E,{className:`h-4 w-4 ${v(j.path)?"text-white":"text-gray-600"}`,strokeWidth:2.5})}),i.jsx("span",{className:`font-medium text-sm flex-1 ${v(j.path)?"text-white":"text-gray-800"}`,children:j.label}),v(j.path)&&i.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})]})},j.path)})]})}),r&&i.jsxs("div",{className:"p-4 sm:p-5 border-t border-gray-200 bg-white space-y-2",children:[i.jsx("div",{className:"flex items-center justify-center pb-1",children:i.jsx(d4,{})}),f&&i.jsx(G,{variant:"outline",className:"w-full justify-start h-10 rounded-lg border-gray-300 hover:bg-gray-50 font-medium text-sm text-gray-700",onClick:()=>a(s==="dark"?"light":"dark"),children:s==="dark"?i.jsxs(i.Fragment,{children:[i.jsx(oue,{className:"h-4 w-4 mr-2.5 text-gray-600"}),"Light Mode"]}):i.jsxs(i.Fragment,{children:[i.jsx(Xce,{className:"h-4 w-4 mr-2.5 text-gray-600"}),"Dark Mode"]})}),i.jsx(Je,{to:"/settings",onClick:()=>u(!1),children:i.jsxs(G,{variant:"outline",className:"w-full justify-start h-10 rounded-lg border-gray-300 hover:bg-gray-50 font-medium text-sm text-gray-700",children:[i.jsx(Cb,{className:"h-4 w-4 mr-2.5 text-gray-600"}),"Settings"]})}),i.jsxs(G,{variant:"outline",onClick:p,className:"w-full justify-start h-10 rounded-lg border-red-200 hover:bg-red-50 text-red-600 hover:text-red-700 font-medium text-sm",children:[i.jsx(Cv,{className:"h-4 w-4 mr-2.5"}),"Sign Out"]})]})]})})});return i.jsxs("div",{className:"flex flex-col",children:[i.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsx("div",{className:"container mx-auto px-3 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex h-14 sm:h-20 items-center justify-between min-w-0",children:[i.jsxs(t_,{children:[i.jsx(r_,{asChild:!0,children:i.jsxs("button",{className:"flex items-center space-x-2 sm:space-x-3 flex-shrink-0 hover:opacity-80 transition-opacity focus:outline-none focus:ring-0 active:outline-none",style:{WebkitTapHighlightColor:"transparent"},children:[i.jsx("div",{className:"hidden sm:flex w-7 h-7 sm:w-10 sm:h-10 bg-gray-800 rounded-lg sm:rounded-xl items-center justify-center shadow-lg"}),i.jsxs("span",{className:"text-lg sm:text-2xl font-bold text-foreground hidden sm:block",children:["Enqir",i.jsx("span",{className:"text-sm",children:".in"})]})]})}),i.jsxs(Kb,{align:"start",className:"w-56",children:[i.jsx(ri,{asChild:!0,children:i.jsxs(Je,{to:"/",className:"flex items-center",children:[i.jsx(vu,{className:"h-4 w-4 mr-2"}),"Home"]})}),i.jsx(ri,{asChild:!0,children:i.jsxs(Je,{to:"/enquiries",className:"flex items-center",children:[i.jsx(Gl,{className:"h-4 w-4 mr-2"}),"Browse Enquiries"]})}),i.jsx(ri,{asChild:!0,children:i.jsxs(Je,{to:"/post-enquiry",className:"flex items-center",children:[i.jsx(Yg,{className:"h-4 w-4 mr-2"}),"Post Enquiry"]})}),r&&i.jsxs(i.Fragment,{children:[i.jsx(ri,{asChild:!0,children:i.jsxs(Je,{to:"/dashboard",className:"flex items-center",children:[i.jsx(Tv,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),i.jsx(ri,{asChild:!0,children:i.jsxs(Je,{to:"/profile",className:"flex items-center",children:[i.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Profile"]})}),i.jsx(ri,{asChild:!0,children:i.jsxs(Je,{to:"/settings",className:"flex items-center",children:[i.jsx(Cb,{className:"h-4 w-4 mr-2"}),"Settings"]})}),i.jsx(gH,{}),i.jsxs(ri,{onClick:p,className:"text-red-600 focus:text-red-700",children:[i.jsx(Cv,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]}),!r&&i.jsx(ri,{asChild:!0,children:i.jsxs(Je,{to:"/signin",className:"flex items-center",children:[i.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Sign In"]})})]})]}),e&&!l&&i.jsx("nav",{className:"hidden md:flex items-center gap-2",children:w.map(j=>{const N=j.icon;return i.jsx(YP.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:i.jsxs(Je,{to:j.path,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-300 min-h-[44px] ${v(j.path)?"bg-gradient-to-r from-pal-blue to-blue-600 text-white shadow-md":"text-gray-700 hover:text-gray-900 hover:bg-gray-100 hover:shadow-sm"}`,children:[i.jsx(N,{className:"h-4 w-4"}),i.jsx("span",{children:j.label})]})},j.path)})}),i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-3 flex-shrink-0",children:[r?i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[o.pathname!=="/"&&i.jsx(Je,{to:"/",children:i.jsxs(G,{variant:"ghost",size:"sm",className:"flex h-7 sm:h-9 px-2 sm:px-3",children:[i.jsx(vu,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:"Home"})]})}),i.jsx(d4,{}),i.jsx(Je,{to:"/dashboard",children:i.jsxs(G,{variant:"ghost",size:"sm",className:"flex h-7 sm:h-9 px-2 sm:px-3",children:[i.jsx(Tv,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:"Dashboard"})]})}),i.jsx(Je,{to:"/profile",children:i.jsxs(G,{variant:"ghost",size:"sm",className:"flex h-7 sm:h-9 px-2 sm:px-3",children:[i.jsx(Ai,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:"Profile"})]})}),i.jsxs(G,{variant:"ghost",size:"sm",onClick:p,className:"flex h-7 sm:h-9 px-2 sm:px-3",children:[i.jsx(Cv,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:"Sign Out"})]})]}):i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-3",children:[o.pathname!=="/"&&i.jsx(Je,{to:"/",children:i.jsxs(G,{variant:"ghost",size:"sm",className:"flex h-7 sm:h-9 px-2 sm:px-3",children:[i.jsx(vu,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:"Home"})]})}),i.jsx(Je,{to:"/signin",children:i.jsx(G,{variant:"outline",size:"sm",className:"hidden sm:flex",children:"Sign In"})}),i.jsx(Je,{to:"/signin",children:i.jsx(G,{size:"sm",className:"hidden sm:flex",children:"Get Started"})}),i.jsx(Je,{to:"/signin",className:"sm:hidden",children:i.jsx(G,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-2 h-7",children:"Get Started"})})]}),e&&i.jsx("div",{className:"lg:hidden",children:i.jsxs(JP,{open:c,onOpenChange:u,children:[i.jsx(mW,{asChild:!0,children:i.jsx(G,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-gray-800/10 rounded-lg transition-all duration-200 active:scale-95",onClick:()=>u(!0),children:i.jsx(Yce,{className:"h-5 w-5 text-gray-800 font-bold",strokeWidth:2.5})})}),i.jsx(b,{})]})})]})]})})}),i.jsx("main",{className:`flex-1 ${l&&e?"pb-24":""}`,children:i.jsx(g.Suspense,{fallback:i.jsx("div",{className:"min-h-screen",children:t}),children:i.jsx(b1e,{children:t})})}),l&&e&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t border-border/50",children:i.jsxs("div",{className:"flex items-center justify-around py-2 px-1",children:[w.slice(0,4).map(j=>{const N=j.icon;return i.jsxs(Je,{to:j.path,className:`flex flex-col items-center space-y-1 p-2 rounded-lg transition-colors min-w-0 flex-1 ${v(j.path)?"text-pal-blue bg-pal-blue/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[i.jsx(N,{className:"h-5 w-5"}),i.jsx("span",{className:"text-[10px] font-medium truncate leading-tight",children:j.label})]},j.path)}),i.jsxs(Je,{to:"/profile",className:`flex flex-col items-center space-y-1 p-2 rounded-lg transition-colors min-w-0 flex-1 ${v("/profile")?"text-pal-blue bg-pal-blue/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[i.jsx(Ai,{className:"h-5 w-5"}),i.jsx("span",{className:"text-[10px] font-medium truncate leading-tight",children:"Profile"})]})]})}),i.jsx(Gbe,{}),i.jsx(x1e,{}),(()=>{try{return i.jsx(Xbe,{})}catch(j){return console.error("AI Chatbot failed to load:",j),null}})(),i.jsx(v1e,{open:d,onOpenChange:h,onConfirm:x})]})}const w1e="/assets/new-logo-Dc10frSm.png",Nf=({deadline:t,className:e="",showIcon:r=!0,variant:n="default"})=>{const[s,a]=g.useState({days:0,hours:0,minutes:0,seconds:0,total:0}),[o,l]=g.useState(!1);g.useEffect(()=>{const m=()=>{const v=new Date;let w;if(t instanceof Date)w=t;else if(t&&typeof t.toDate=="function")w=t.toDate();else if(t&&typeof t.getTime=="function")w=t;else if(typeof t=="string"||typeof t=="number")w=new Date(t);else return l(!0),{days:0,hours:0,minutes:0,seconds:0,total:0};const b=w.getTime()-v.getTime();if(b<=0)return l(!0),{days:0,hours:0,minutes:0,seconds:0,total:0};const j=Math.floor(b/(1e3*60*60*24)),N=Math.floor(b%(1e3*60*60*24)/(1e3*60*60)),E=Math.floor(b%(1e3*60*60)/(1e3*60)),C=Math.floor(b%(1e3*60)/1e3);return{days:j,hours:N,minutes:E,seconds:C,total:b}},x=()=>{a(m())};x();const p=setInterval(x,1e3);return()=>clearInterval(p)},[t]);const c=()=>{if(o)return"expired";const m=s.total/(1e3*60*60);return m<1?"critical":m<6?"urgent":m<24?"high":m<72?"medium":"low"},u=m=>{switch(m){case"expired":return{bg:"bg-red-100 text-red-800 border-red-200",icon:i.jsx(kt,{className:"h-3 w-3"}),text:"Expired"};case"critical":return{bg:"bg-red-100 text-red-800 border-red-200",icon:i.jsx(pf,{className:"h-3 w-3"}),text:"Critical"};case"urgent":return{bg:"bg-orange-100 text-orange-800 border-orange-200",icon:i.jsx(pf,{className:"h-3 w-3"}),text:"Urgent"};case"high":return{bg:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:i.jsx(xn,{className:"h-3 w-3"}),text:"High"};case"medium":return{bg:"bg-blue-100 text-blue-800 border-blue-200",icon:i.jsx(xn,{className:"h-3 w-3"}),text:"Medium"};default:return{bg:"bg-green-100 text-green-800 border-green-200",icon:i.jsx(xn,{className:"h-3 w-3"}),text:"Low"}}},d=()=>o?"Expired":s.days>0?`${s.days}d ${s.hours}h`:s.hours>0?`${s.hours}h ${s.minutes}m`:s.minutes>0?`${s.minutes}m ${s.seconds}s`:`${s.seconds}s`,h=c(),f=u(h);return i.jsxs("div",{className:`flex items-center gap-1 ${e}`,children:[r&&i.jsx("div",{className:"flex items-center",children:f.icon}),i.jsx(Pe,{variant:"outline",className:`${f.bg} text-xs font-medium px-2 py-1 ${h==="critical"||h==="urgent"?"animate-pulse":""}`,children:d()})]})},j1e=()=>{const t=[{icon:Ir,title:"Trust Badge (Optional)",description:"Get a trust badge by sharing your ID - completely optional"},{icon:Gl,title:"AI-Powered Discovery",description:"Smart AI helps you find exactly what you need, instantly"},{icon:zC,title:"Simple & Safe",description:"Easy to use, safe to connect with others"}],e=[{name:"Household & Personal",icon:vu,color:"from-blue-50 to-blue-100/50"},{name:"Community Help",icon:Wce,color:"from-purple-50 to-purple-100/50"},{name:"Services & Skills",icon:$ce,color:"from-emerald-50 to-emerald-100/50"},{name:"Collectibles & Hobbies",icon:Jce,color:"from-amber-50 to-amber-100/50"},{name:"Transportation",icon:Lce,color:"from-slate-50 to-slate-100/50"},{name:"Home & Garden",icon:iue,color:"from-green-50 to-green-100/50"}],{user:r,signOut:n}=Dr(),s=g.useContext(Ea),a=(s==null?void 0:s.createNotification)||(async()=>{console.warn("NotificationContext not available")}),o=Zr(),[l,c]=g.useState({enquiries:0,responses:0,views:0,lastActivity:null}),[u,d]=g.useState([]),[h,f]=g.useState([]),[m,x]=g.useState([]),[p,v]=g.useState([]),[w,b]=g.useState([]),[j,N]=g.useState(!1),[E,C]=g.useState("");g.useState([]);const[P,S]=g.useState(!1),[A,T]=g.useState(!1),[R,_]=g.useState([]),I=g.useRef(null),[M,z]=g.useState({top:0,left:0,width:0}),[W,B]=g.useState([]),$={car:"automobile",vehicle:"automobile",auto:"automobile",bike:"automobile",motorcycle:"automobile",house:"real-estate",home:"real-estate",property:"real-estate",apartment:"real-estate",job:"jobs",work:"jobs",employment:"jobs",career:"jobs",phone:"electronics-gadgets",mobile:"electronics-gadgets",laptop:"electronics-gadgets",computer:"electronics-gadgets",gadget:"electronics-gadgets",electronic:"electronics-gadgets",clothes:"fashion-apparel",fashion:"fashion-apparel",dress:"fashion-apparel",shirt:"fashion-apparel",furniture:"home-furniture",sofa:"home-furniture",chair:"home-furniture",table:"home-furniture",service:"professional-services",help:"professional-services",repair:"professional-services",fix:"professional-services",food:"food-beverage",restaurant:"food-beverage",catering:"food-beverage",travel:"travel-tourism",tourism:"travel-tourism",vacation:"travel-tourism",hotel:"travel-tourism",education:"education-training",training:"education-training",course:"education-training",learn:"education-training",tech:"technology",technology:"technology",software:"technology",app:"technology",gaming:"gaming-recreation",game:"gaming-recreation",entertainment:"entertainment-media",media:"entertainment-media",wedding:"wedding-events",event:"wedding-events",party:"wedding-events",childcare:"childcare-family",baby:"childcare-family",kids:"childcare-family",construction:"construction-renovation",renovation:"construction-renovation",building:"construction-renovation",legal:"legal-financial",lawyer:"legal-financial",finance:"legal-financial",money:"legal-financial",marketing:"marketing-advertising",advertising:"marketing-advertising",promotion:"marketing-advertising",insurance:"insurance-services",security:"security-safety",safety:"security-safety",transport:"transportation-logistics",logistics:"transportation-logistics",shipping:"transportation-logistics"},U=()=>{if(!E.trim())return;S(!0);const L=E.toLowerCase().trim(),q=[E,...R.filter(te=>te!==E)].slice(0,5);_(q),localStorage.setItem("recentSearches",JSON.stringify(q));const ee=$[L];o(ee?`/enquiries?category=${ee}`:`/enquiries?search=${encodeURIComponent(E)}`),setTimeout(()=>{C(""),S(!1),T(!1)},100)},Y=L=>{L.key==="Enter"&&U()};g.useEffect(()=>{const L=localStorage.getItem("recentSearches");if(L)try{_(JSON.parse(L))}catch{console.log("Error loading recent searches")}},[]);const K=["car","house","job","phone","furniture","services","electronics","fashion"],X=()=>E.trim()?[...R,...K].filter(q=>q.toLowerCase().includes(E.toLowerCase())).slice(0,6):[...R,...K].slice(0,6),he=()=>{if(I.current){const L=I.current.getBoundingClientRect();z({top:L.bottom+window.scrollY+8,left:L.left+window.scrollX,width:L.width})}},D=Array.from(new Map(w.map(L=>[L.id,L])).values());g.useEffect(()=>{if(!(r!=null&&r.uid))return;(async()=>{var q;try{const ee=await Ft(Ce(oe,"profiles",r.uid));if(ee.exists()){const te=((q=ee.data())==null?void 0:q.savedEnquiries)||[];B(te)}}catch(ee){console.error("Error loading saved enquiries:",ee)}})()},[r==null?void 0:r.uid]);const H=async(L,q)=>{if(q.preventDefault(),q.stopPropagation(),!r){le({title:"Sign In Required",description:"Please sign in to save enquiries.",variant:"destructive"});return}try{const ee=Ce(oe,"profiles",r.uid),te=await Ft(ee);W.includes(L)?(B(W.filter(ce=>ce!==L)),te.exists()?await ot(ee,{savedEnquiries:DC(L)}):await pn(ee,{savedEnquiries:[]})):(B([...W,L]),te.exists()?await ot(ee,{savedEnquiries:uy(L)}):await pn(ee,{savedEnquiries:[L]}))}catch(ee){console.error("Error updating save:",ee),le({title:"Error",description:"Failed to save enquiry. Please try again.",variant:"destructive"})}},se=async(L,q)=>{q.preventDefault(),q.stopPropagation();const ee=`${window.location.origin}/respond/${L.id}`,te=`Check out this enquiry: ${L.title}`;try{const ce=Ce(oe,"enquiries",L.id);await ot(ce,{shares:(L.shares||0)+1})}catch(ce){console.error("Error updating share count:",ce)}if(navigator.share)try{await navigator.share({title:L.title,text:te,url:ee})}catch(ce){ce.name!=="AbortError"&&(console.error("Error sharing:",ce),Q(ee,te))}else Q(ee,te)},Q=(L,q)=>{navigator.clipboard.writeText(`${q}
${L}`).then(()=>{}).catch(()=>{const ee=document.createElement("textarea");ee.value=`${q}
${L}`,document.body.appendChild(ee),ee.select(),document.execCommand("copy"),document.body.removeChild(ee)})};function Ne(L){return L.length<=3?L:L.slice().sort(()=>Math.random()-.5).slice(0,3)}function J(L){if(!L.deadline)return!1;const q=L.deadline.toDate?L.deadline.toDate():new Date(L.deadline);return new Date>q}g.useEffect(()=>{const L=jt(Ze(oe,"enquiries"),At("status","==","live"),fn("createdAt","desc")),q=Ur(L,ee=>{const te=[];ee.forEach(Te=>{const Xe=Te.data();te.push({id:Te.id,...Xe})});const ce=Array.from(new Map(te.map(Te=>[Te.id,Te])).values()),ge=ce.filter(Te=>!J(Te)),pe=ce.filter(Te=>J(Te));ge.sort((Te,Xe)=>{var pt,at;const It=(pt=Te.createdAt)!=null&&pt.toDate?Te.createdAt.toDate():new Date(Te.createdAt);return((at=Xe.createdAt)!=null&&at.toDate?Xe.createdAt.toDate():new Date(Xe.createdAt)).getTime()-It.getTime()}),pe.sort((Te,Xe)=>{var pt,at;const It=(pt=Te.createdAt)!=null&&pt.toDate?Te.createdAt.toDate():new Date(Te.createdAt);return((at=Xe.createdAt)!=null&&at.toDate?Xe.createdAt.toDate():new Date(Xe.createdAt)).getTime()-It.getTime()});const ie=Array.from(new Map([...ge,...pe].map(Te=>[Te.id,Te])).values());v(ie);let ue=[];if(ge.length>=3)ue=ge.slice(0,3);else{const Te=3-ge.length;ue=[...ge,...pe.slice(0,Te)]}const de=Array.from(new Map(ue.map(Te=>[Te.id,Te])).values());x(de),b(de)},ee=>{console.error("Error loading enquiries:",ee),v([]),x([]),b([])});return()=>q()},[]),g.useEffect(()=>{const L=Array.from(new Map(m.map(ce=>[ce.id,ce])).values());if(L.length<=1){b(L);return}const q=Ne(L),ee=Array.from(new Map(q.map(ce=>[ce.id,ce])).values());b(ee);const te=setInterval(()=>{const ce=Ne(L),ge=Array.from(new Map(ce.map(pe=>[pe.id,pe])).values());b(ge)},6e4);return()=>clearInterval(te)},[m]),g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!r)return;const L=jt(Ze(oe,"enquiries"),At("userId","==",r.uid),$u(10));(async()=>{try{const ee=await Bt(L),te=[];ee.forEach(ge=>{const pe=ge.data();te.push({id:ge.id,title:pe.title,status:pe.status,createdAt:pe.createdAt,views:pe.views||0,responses:pe.responses||0})});const ce=te.sort((ge,pe)=>{var de,Te;const ie=(de=ge.createdAt)!=null&&de.toDate?ge.createdAt.toDate():new Date(ge.createdAt);return((Te=pe.createdAt)!=null&&Te.toDate?pe.createdAt.toDate():new Date(pe.createdAt)).getTime()-ie.getTime()}).slice(0,3);if(d(ce),c(ge=>({...ge,enquiries:ce.length})),ce.length>0){const ge=jt(Ze(oe,"submissions"),At("enquiryId","in",ce.map(de=>de.id)),$u(10)),pe=await Bt(ge),ie=[];pe.forEach(de=>{const Te=de.data();ie.push({id:de.id,enquiryTitle:Te.enquiryTitle,message:Te.message,price:Te.price,status:Te.status,createdAt:Te.createdAt})});const ue=ie.sort((de,Te)=>{var it,pt;const Xe=(it=de.createdAt)!=null&&it.toDate?de.createdAt.toDate():new Date(de.createdAt);return((pt=Te.createdAt)!=null&&pt.toDate?Te.createdAt.toDate():new Date(Te.createdAt)).getTime()-Xe.getTime()}).slice(0,3);f(ue),c(de=>({...de,responses:ue.length}))}}catch(ee){console.error("Error loading user data:",ee),d([]),f([]),c(te=>({...te,enquiries:0,responses:0}))}})()},[r,u.length]),g.useEffect(()=>{if(!r)return;let L=()=>{};if(u.length>0&&Array.isArray(u))try{const ee=u.slice(0,10).map(te=>te==null?void 0:te.id).filter(Boolean);if(ee.length>0){const te=jt(Ze(oe,"sellerSubmissions"),At("enquiryId","in",ee));L=Ur(te,ce=>{try{ce.docChanges().forEach(ge=>{try{if(ge.type==="added"){const pe=ge.doc.data();if(!pe||!pe.enquiryId)return;const ie=u.find(ue=>(ue==null?void 0:ue.id)===pe.enquiryId);ie&&ie.id&&(pe.status==="approved"?a("new_response",{title:" New Response to Your Enquiry!",message:`"${pe.sellerName||"A seller"}" responded to "${ie.title}"`,priority:"high",actionUrl:`/enquiry/${ie.id}/responses-page`,actionText:"View Response"}):pe.status==="pending"&&a("new_response",{title:" New Response Submitted!",message:`"${pe.sellerName||"A seller"}" submitted a response to "${ie.title}" (under review)`,priority:"medium",actionUrl:`/enquiry/${ie.id}/responses-page`,actionText:"View Response"}))}}catch(pe){console.error("Error processing response change:",pe)}})}catch(ge){console.error("Error processing snapshot:",ge)}},ce=>{var ge,pe;(ge=ce==null?void 0:ce.message)!=null&&ge.includes("CORS")||(pe=ce==null?void 0:ce.message)!=null&&pe.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in responses listener. Real-time updates may be limited."):console.error("Firestore responses listener error:",ce)})}}catch(ee){console.error("Error setting up responses listener:",ee)}let q=()=>{};try{const ee=jt(Ze(oe,"chats"),At("participants","array-contains",r.uid));q=Ur(ee,te=>{try{te.docChanges().forEach(ce=>{try{if(ce.type==="modified"){const ge=ce.doc.data();if(!ge||!ge.lastMessage||!ge.enquiryId)return;const pe=ge.lastMessage;pe&&pe.senderId!==r.uid&&ge.enquiryId&&a("new_chat",{title:" New Message",message:`${pe.senderName||"Someone"}: ${(pe.text||"").substring(0,50)}${(pe.text||"").length>50?"...":""}`,priority:"medium",actionUrl:`/enquiry/${ge.enquiryId}/responses`,actionText:"Open Chat"})}}catch(ge){console.error("Error processing chat change:",ge)}})}catch(ce){console.error("Error processing chat snapshot:",ce)}},te=>{var ce,ge;(ce=te==null?void 0:te.message)!=null&&ce.includes("CORS")||(ge=te==null?void 0:te.message)!=null&&ge.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in chat listener. Real-time updates may be limited."):console.error("Firestore chat listener error:",te)})}catch(ee){console.error("Error setting up chat listener:",ee)}return()=>{try{L&&typeof L=="function"&&L(),q&&typeof q=="function"&&q()}catch(ee){console.error("Error cleaning up listeners:",ee)}}},[r,u,a]);const me=L=>new Date(L).toLocaleDateString("en-US",{month:"short",day:"numeric"});return i.jsxs(Nt,{showNavigation:!1,children:[i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-x-hidden overflow-y-auto",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-pal-blue/5 rounded-full animate-float"}),i.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 bg-pal-blue/10 rounded-full animate-float",style:{animationDelay:"2s"}}),i.jsx("div",{className:"absolute bottom-32 left-1/4 w-16 h-16 bg-pal-blue/5 rounded-full animate-float",style:{animationDelay:"4s"}})]}),i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[i.jsx("div",{className:"absolute inset-0 opacity-20 sm:opacity-25",children:i.jsxs("svg",{className:"w-full h-full min-w-full min-h-full",viewBox:"0 0 1200 800",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[i.jsxs("g",{transform:"translate(200, 300)",children:[i.jsx("circle",{cx:"0",cy:"-20",r:"15",fill:"black",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-12",y:"-5",width:"24",height:"30",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-8",y:"5",width:"16",height:"20",fill:"black"}),i.jsx("circle",{cx:"-5",cy:"-15",r:"2",fill:"white"}),i.jsx("circle",{cx:"5",cy:"-15",r:"2",fill:"white"}),i.jsx("path",{d:"M-3 -10 Q0 -5 3 -10",stroke:"black",strokeWidth:"1.5",fill:"none"}),i.jsx("rect",{x:"-15",y:"25",width:"6",height:"20",fill:"black"}),i.jsx("rect",{x:"9",y:"25",width:"6",height:"20",fill:"black"}),i.jsx("rect",{x:"-18",y:"45",width:"12",height:"4",fill:"black"}),i.jsx("rect",{x:"6",y:"45",width:"12",height:"4",fill:"black"}),i.jsx("text",{x:"0",y:"70",textAnchor:"middle",fontSize:"12",fill:"black",fontWeight:"bold",children:"BUYER"})]}),i.jsxs("g",{transform:"translate(800, 280)",children:[i.jsx("circle",{cx:"0",cy:"-20",r:"15",fill:"black",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-12",y:"-5",width:"24",height:"30",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-8",y:"5",width:"16",height:"20",fill:"black"}),i.jsx("circle",{cx:"-5",cy:"-15",r:"2",fill:"white"}),i.jsx("circle",{cx:"5",cy:"-15",r:"2",fill:"white"}),i.jsx("path",{d:"M-3 -10 Q0 -5 3 -10",stroke:"black",strokeWidth:"1.5",fill:"none"}),i.jsx("rect",{x:"-15",y:"25",width:"6",height:"20",fill:"black"}),i.jsx("rect",{x:"9",y:"25",width:"6",height:"20",fill:"black"}),i.jsx("rect",{x:"-18",y:"45",width:"12",height:"4",fill:"black"}),i.jsx("rect",{x:"6",y:"45",width:"12",height:"4",fill:"black"}),i.jsx("text",{x:"0",y:"70",textAnchor:"middle",fontSize:"12",fill:"black",fontWeight:"bold",children:"SELLER"})]}),i.jsxs("g",{transform:"translate(300, 400)",children:[i.jsx("rect",{x:"-8",y:"-15",width:"16",height:"30",fill:"white",stroke:"black",strokeWidth:"2",rx:"2"}),i.jsx("rect",{x:"-6",y:"-12",width:"12",height:"20",fill:"black"}),i.jsx("circle",{cx:"0",cy:"5",r:"2",fill:"white"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:""})]}),i.jsxs("g",{transform:"translate(500, 420)",children:[i.jsx("ellipse",{cx:"0",cy:"0",rx:"25",ry:"8",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-20",y:"-12",width:"15",height:"12",fill:"white",stroke:"black",strokeWidth:"1"}),i.jsx("rect",{x:"5",y:"-12",width:"15",height:"12",fill:"white",stroke:"black",strokeWidth:"1"}),i.jsx("circle",{cx:"-15",cy:"8",r:"4",fill:"black"}),i.jsx("circle",{cx:"15",cy:"8",r:"4",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:""})]}),i.jsxs("g",{transform:"translate(700, 400)",children:[i.jsx("rect",{x:"-15",y:"-10",width:"30",height:"20",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("polygon",{points:"-20,-10 0,-25 20,-10",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("rect",{x:"-8",y:"0",width:"6",height:"10",fill:"black"}),i.jsx("rect",{x:"2",y:"-5",width:"8",height:"6",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:""})]}),i.jsx("path",{d:"M215 300 Q400 200 300 400",stroke:"black",strokeWidth:"3",fill:"none",markerEnd:"url(#arrowhead)"}),i.jsx("path",{d:"M300 400 Q500 350 500 420",stroke:"black",strokeWidth:"3",fill:"none",markerEnd:"url(#arrowhead)"}),i.jsx("path",{d:"M500 420 Q700 380 700 400",stroke:"black",strokeWidth:"3",fill:"none",markerEnd:"url(#arrowhead)"}),i.jsx("path",{d:"M700 400 Q900 300 800 280",stroke:"black",strokeWidth:"3",fill:"none",markerEnd:"url(#arrowhead)"}),i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"black"})})}),i.jsxs("g",{transform:"translate(400, 200)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"20",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("text",{x:"0",y:"5",textAnchor:"middle",fontSize:"16",fill:"black",fontWeight:"bold",children:"$"}),i.jsx("text",{x:"0",y:"35",textAnchor:"middle",fontSize:"10",fill:"black",children:"MONEY"})]}),i.jsxs("g",{transform:"translate(600, 200)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"20",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("text",{x:"0",y:"5",textAnchor:"middle",fontSize:"16",fill:"black",fontWeight:"bold",children:""}),i.jsx("text",{x:"0",y:"35",textAnchor:"middle",fontSize:"10",fill:"black",children:"DEAL"})]}),i.jsxs("g",{transform:"translate(200, 200)",children:[i.jsx("ellipse",{cx:"0",cy:"0",rx:"40",ry:"25",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("text",{x:"0",y:"5",textAnchor:"middle",fontSize:"10",fill:"black",children:"I need this!"}),i.jsx("path",{d:"M-10 25 L-5 35 L0 25",stroke:"black",strokeWidth:"2",fill:"none"})]}),i.jsxs("g",{transform:"translate(800, 180)",children:[i.jsx("ellipse",{cx:"0",cy:"0",rx:"40",ry:"25",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("text",{x:"0",y:"5",textAnchor:"middle",fontSize:"10",fill:"black",children:"I have this!"}),i.jsx("path",{d:"M10 25 L5 35 L0 25",stroke:"black",strokeWidth:"2",fill:"none"})]}),i.jsxs("g",{transform:"translate(500, 150)",children:[i.jsx("path",{d:"M0,6 C0,2 4,0 6,2 C8,0 12,2 12,6 C12,10 6,16 6,16 C6,16 0,10 0,6 Z",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:"LOVE"})]}),i.jsxs("g",{transform:"translate(100, 100)",children:[i.jsx("polygon",{points:"0,-15 4,-4 15,-4 7,3 11,14 0,8 -11,14 -7,3 -15,-4 -4,-4",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:"STAR"})]}),i.jsxs("g",{transform:"translate(1100, 100)",children:[i.jsx("polygon",{points:"0,-15 4,-4 15,-4 7,3 11,14 0,8 -11,14 -7,3 -15,-4 -4,-4",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:"STAR"})]}),i.jsxs("g",{transform:"translate(200, 200)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"15",fill:"#FFE4B5",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"-5",cy:"-3",r:"3",fill:"black"}),i.jsx("circle",{cx:"5",cy:"-3",r:"3",fill:"black"}),i.jsx("circle",{cx:"-4",cy:"-2",r:"1",fill:"white"}),i.jsx("circle",{cx:"6",cy:"-2",r:"1",fill:"white"}),i.jsx("path",{d:"M-3 5 Q0 8 3 5",stroke:"black",strokeWidth:"2",fill:"none"}),i.jsx("text",{x:"0",y:"30",textAnchor:"middle",fontSize:"10",fill:"black",fontWeight:"bold",children:" WOW!"})]}),i.jsxs("g",{transform:"translate(500, 250)",children:[i.jsx("rect",{x:"-30",y:"-20",width:"60",height:"40",fill:"#FFB6C1",stroke:"black",strokeWidth:"2",rx:"8"}),i.jsx("text",{x:"0",y:"-5",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:" ENQUIRY"}),i.jsx("text",{x:"0",y:"10",textAnchor:"middle",fontSize:"7",fill:"black",children:"POST HERE!"}),i.jsx("circle",{cx:"0",cy:"15",r:"4",fill:"black"}),i.jsx("circle",{cx:"-2",cy:"13",r:"1",fill:"white"}),i.jsx("circle",{cx:"2",cy:"13",r:"1",fill:"white"}),i.jsx("path",{d:"M-1 16 Q0 18 1 16",stroke:"white",strokeWidth:"1",fill:"none"}),i.jsx("polygon",{points:"0,-25 8,-15 -8,-15",fill:"#FF69B4",stroke:"black",strokeWidth:"1"}),i.jsx("circle",{cx:"0",cy:"-20",r:"1",fill:"white"})]}),i.jsxs("g",{transform:"translate(700, 200)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"18",fill:"#E6E6FA",stroke:"black",strokeWidth:"2"}),i.jsx("path",{d:"M-10,-6 Q-5,-8 0,-6 Q5,-4 10,-6 Q12,-2 10,2 Q8,6 0,6 Q-8,6 -10,2 Q-12,-2 -10,-6",fill:"black"}),i.jsx("circle",{cx:"-5",cy:"-2",r:"2",fill:"white"}),i.jsx("circle",{cx:"5",cy:"-2",r:"2",fill:"white"}),i.jsx("path",{d:"M-3 2 Q0 4 3 2",stroke:"white",strokeWidth:"1",fill:"none"}),i.jsx("text",{x:"0",y:"30",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:" SUPER AI"})]}),i.jsxs("g",{transform:"translate(700, 300)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"20",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"0",cy:"0",r:"15",fill:"#FFD700",opacity:"0.3"}),i.jsx("circle",{cx:"0",cy:"0",r:"10",fill:"#FFD700",opacity:"0.5"}),i.jsx("circle",{cx:"0",cy:"0",r:"5",fill:"#FFD700"}),i.jsx("text",{x:"0",y:"35",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:" MAGIC MATCH"})]}),i.jsxs("g",{transform:"translate(500, 400)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"12",fill:"#FFE4B5",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"-3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"-2",cy:"-2",r:"0.5",fill:"white"}),i.jsx("circle",{cx:"4",cy:"-2",r:"0.5",fill:"white"}),i.jsx("path",{d:"M-2 3 Q0 5 2 3",stroke:"black",strokeWidth:"1",fill:"none"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:" SELLER"})]}),i.jsxs("g",{transform:"translate(700, 400)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"12",fill:"#FFE4B5",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"-3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"-2",cy:"-2",r:"0.5",fill:"white"}),i.jsx("circle",{cx:"4",cy:"-2",r:"0.5",fill:"white"}),i.jsx("path",{d:"M-2 3 Q0 5 2 3",stroke:"black",strokeWidth:"1",fill:"none"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:" SELLER"})]}),i.jsxs("g",{transform:"translate(900, 400)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"12",fill:"#FFE4B5",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"-3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"3",cy:"-3",r:"2",fill:"black"}),i.jsx("circle",{cx:"-2",cy:"-2",r:"0.5",fill:"white"}),i.jsx("circle",{cx:"4",cy:"-2",r:"0.5",fill:"white"}),i.jsx("path",{d:"M-2 3 Q0 5 2 3",stroke:"black",strokeWidth:"1",fill:"none"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"black",children:" SELLER"})]}),i.jsxs("g",{transform:"translate(600, 520)",children:[i.jsx("rect",{x:"-20",y:"-15",width:"40",height:"30",fill:"white",stroke:"black",strokeWidth:"2",rx:"5"}),i.jsx("rect",{x:"-15",y:"-10",width:"30",height:"20",fill:"#FF69B4"}),i.jsx("circle",{cx:"0",cy:"0",r:"3",fill:"white"}),i.jsx("text",{x:"0",y:"30",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:" AMAZING ITEM"})]}),i.jsxs("g",{transform:"translate(350, 570)",children:[i.jsx("rect",{x:"-25",y:"-20",width:"50",height:"40",fill:"white",stroke:"black",strokeWidth:"2",rx:"8"}),i.jsx("text",{x:"0",y:"-5",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:" FUN CHAT"}),i.jsx("circle",{cx:"-8",cy:"5",r:"2",fill:"black"}),i.jsx("circle",{cx:"0",cy:"5",r:"2",fill:"black"}),i.jsx("circle",{cx:"8",cy:"5",r:"2",fill:"black"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"7",fill:"black",children:"Let's talk! "})]}),i.jsxs("g",{transform:"translate(550, 650)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"25",fill:"white",stroke:"black",strokeWidth:"3"}),i.jsx("text",{x:"0",y:"8",textAnchor:"middle",fontSize:"20",fill:"black",fontWeight:"bold",children:""}),i.jsx("text",{x:"0",y:"35",textAnchor:"middle",fontSize:"9",fill:"black",fontWeight:"bold",children:"EPIC DEAL!"})]}),i.jsxs("g",{transform:"translate(300, 650)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"18",fill:"white",stroke:"black",strokeWidth:"2"}),i.jsx("text",{x:"0",y:"8",textAnchor:"middle",fontSize:"16",fill:"black",fontWeight:"bold",children:""}),i.jsx("text",{x:"0",y:"30",textAnchor:"middle",fontSize:"8",fill:"black",children:"MONEY RAIN!"})]}),i.jsxs("g",{transform:"translate(800, 650)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"18",fill:"#FFE4B5",stroke:"black",strokeWidth:"2"}),i.jsx("circle",{cx:"-5",cy:"-3",r:"3",fill:"black"}),i.jsx("circle",{cx:"5",cy:"-3",r:"3",fill:"black"}),i.jsx("circle",{cx:"-4",cy:"-2",r:"1",fill:"white"}),i.jsx("circle",{cx:"6",cy:"-2",r:"1",fill:"white"}),i.jsx("path",{d:"M-6 3 Q0 8 6 3",stroke:"black",strokeWidth:"2",fill:"none"}),i.jsx("text",{x:"0",y:"30",textAnchor:"middle",fontSize:"8",fill:"black",children:" SUPER HAPPY!"})]})]})}),i.jsx("div",{className:"absolute inset-0 hero-gradient"})]}),i.jsxs("div",{className:"relative z-10 text-center px-3 sm:px-6 lg:px-8 max-w-4xl mx-auto w-full",children:[i.jsx("div",{className:"mb-3 sm:mb-4 animate-slide-up text-center",children:i.jsxs("div",{className:"relative inline-block -m-1 sm:-m-2",children:[i.jsx("img",{src:w1e,alt:"Enqir.in",className:"h-64 sm:h-72 md:h-80 lg:h-96 xl:h-[28rem] 2xl:h-[32rem] w-auto animate-float drop-shadow-2xl block relative z-20",style:{background:"transparent",padding:0,margin:0,border:"none",outline:"none",objectFit:"contain",objectPosition:"center",filter:"drop-shadow(0 0 20px rgba(59, 130, 246, 0.3)) drop-shadow(0 0 40px rgba(59, 130, 246, 0.2))"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-white/20 to-transparent blur-2xl"}),i.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30",children:i.jsxs("svg",{className:"w-full h-full min-w-full min-h-full",viewBox:"0 0 400 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[i.jsxs("g",{transform:"translate(200, 200)",opacity:"0.8",children:[i.jsx("circle",{cx:"0",cy:"0",r:"25",fill:"none",stroke:"#6B7280",strokeWidth:"2"}),i.jsx("circle",{cx:"0",cy:"0",r:"20",fill:"none",stroke:"#6B7280",strokeWidth:"1.5",opacity:"0.7"}),i.jsx("circle",{cx:"0",cy:"0",r:"15",fill:"none",stroke:"#6B7280",strokeWidth:"1",opacity:"0.5"}),i.jsx("text",{x:"0",y:"5",textAnchor:"middle",fontSize:"12",fill:"#4B5563",fontWeight:"600",children:"ENQIR.IN"})]}),i.jsxs("g",{transform:"translate(200, 80)",opacity:"0.8",children:[i.jsx("circle",{cx:"0",cy:"0",r:"12",fill:"none",stroke:"#6B7280",strokeWidth:"1.5"}),i.jsx("circle",{cx:"-3",cy:"-2",r:"1.5",fill:"#6B7280"}),i.jsx("circle",{cx:"3",cy:"-2",r:"1.5",fill:"#6B7280"}),i.jsx("path",{d:"M-2 3 Q0 4 2 3",stroke:"#6B7280",strokeWidth:"1.2",fill:"none"}),i.jsx("rect",{x:"-8",y:"8",width:"16",height:"20",fill:"none",stroke:"#6B7280",strokeWidth:"1",rx:"2"}),i.jsx("rect",{x:"-6",y:"12",width:"12",height:"8",fill:"#6B7280",opacity:"0.3"}),i.jsx("text",{x:"0",y:"35",textAnchor:"middle",fontSize:"8",fill:"#4B5563",fontWeight:"500",children:"User"})]}),i.jsxs("g",{transform:"translate(100, 200)",opacity:"0.8",children:[i.jsx("rect",{x:"-15",y:"-12",width:"30",height:"24",fill:"none",stroke:"#6B7280",strokeWidth:"1.5",rx:"3"}),i.jsx("circle",{cx:"-6",cy:"0",r:"2",fill:"#6B7280"}),i.jsx("circle",{cx:"0",cy:"0",r:"2",fill:"#6B7280"}),i.jsx("circle",{cx:"6",cy:"0",r:"2",fill:"#6B7280"}),i.jsx("path",{d:"M-4 -6 L4 6 M4 -6 L-4 6",stroke:"#6B7280",strokeWidth:"1",opacity:"0.6"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"#4B5563",fontWeight:"500",children:"AI Engine"}),i.jsx("path",{d:"M-20 -5 L-15 -5",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"}),i.jsx("path",{d:"M-20 0 L-15 0",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"}),i.jsx("path",{d:"M-20 5 L-15 5",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"}),i.jsx("path",{d:"M15 -5 L20 -5",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"}),i.jsx("path",{d:"M15 0 L20 0",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"}),i.jsx("path",{d:"M15 5 L20 5",stroke:"#6B7280",strokeWidth:"1",opacity:"0.4"})]}),i.jsxs("g",{transform:"translate(300, 200)",opacity:"0.8",children:[i.jsx("circle",{cx:"0",cy:"0",r:"15",fill:"none",stroke:"#6B7280",strokeWidth:"1.5"}),i.jsx("circle",{cx:"0",cy:"0",r:"10",fill:"none",stroke:"#6B7280",strokeWidth:"1.2",opacity:"0.7"}),i.jsx("circle",{cx:"0",cy:"0",r:"5",fill:"none",stroke:"#6B7280",strokeWidth:"1",opacity:"0.5"}),i.jsx("circle",{cx:"0",cy:"0",r:"2",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"22",textAnchor:"middle",fontSize:"8",fill:"#4B5563",fontWeight:"500",children:"Match"}),i.jsx("circle",{cx:"-12",cy:"-8",r:"2",fill:"#6B7280",opacity:"0.6"}),i.jsx("circle",{cx:"12",cy:"-8",r:"2",fill:"#6B7280",opacity:"0.6"}),i.jsx("circle",{cx:"-12",cy:"8",r:"2",fill:"#6B7280",opacity:"0.6"}),i.jsx("circle",{cx:"12",cy:"8",r:"2",fill:"#6B7280",opacity:"0.6"}),i.jsx("path",{d:"M-12 -8 L-5 -3",stroke:"#6B7280",strokeWidth:"0.8",opacity:"0.4"}),i.jsx("path",{d:"M12 -8 L5 -3",stroke:"#6B7280",strokeWidth:"0.8",opacity:"0.4"}),i.jsx("path",{d:"M-12 8 L-5 3",stroke:"#6B7280",strokeWidth:"0.8",opacity:"0.4"}),i.jsx("path",{d:"M12 8 L5 3",stroke:"#6B7280",strokeWidth:"0.8",opacity:"0.4"})]}),i.jsxs("g",{transform:"translate(200, 320)",opacity:"0.8",children:[i.jsx("circle",{cx:"0",cy:"0",r:"16",fill:"none",stroke:"#6B7280",strokeWidth:"1.5"}),i.jsx("path",{d:"M-6 0 L-2 4 L6 -2",stroke:"#6B7280",strokeWidth:"2.5",fill:"none"}),i.jsx("text",{x:"0",y:"25",textAnchor:"middle",fontSize:"8",fill:"#4B5563",fontWeight:"500",children:"Success!"}),i.jsx("path",{d:"M-20 -8 L-18 -6 L-16 -8 L-18 -10 Z",fill:"#6B7280",opacity:"0.6"}),i.jsx("path",{d:"M20 -8 L22 -6 L24 -8 L22 -10 Z",fill:"#6B7280",opacity:"0.6"}),i.jsx("path",{d:"M-20 8 L-18 10 L-16 8 L-18 6 Z",fill:"#6B7280",opacity:"0.6"}),i.jsx("path",{d:"M20 8 L22 10 L24 8 L22 6 Z",fill:"#6B7280",opacity:"0.6"})]}),i.jsx("path",{d:"M200 92 L200 175",stroke:"#6B7280",strokeWidth:"1.5",fill:"none",opacity:"0.6",markerEnd:"url(#arrowhead)",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,100;100,0;0,100",dur:"3s",repeatCount:"indefinite"})}),i.jsx("path",{d:"M130 200 L175 200",stroke:"#6B7280",strokeWidth:"1.5",fill:"none",opacity:"0.6",markerEnd:"url(#arrowhead)",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,100;100,0;0,100",dur:"3s",repeatCount:"indefinite",begin:"0.5s"})}),i.jsx("path",{d:"M225 200 L270 200",stroke:"#6B7280",strokeWidth:"1.5",fill:"none",opacity:"0.6",markerEnd:"url(#arrowhead)",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,100;100,0;0,100",dur:"3s",repeatCount:"indefinite",begin:"1s"})}),i.jsx("path",{d:"M100 225 L175 275",stroke:"#6B7280",strokeWidth:"1.5",fill:"none",opacity:"0.6",markerEnd:"url(#arrowhead)",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,100;100,0;0,100",dur:"3s",repeatCount:"indefinite",begin:"1.5s"})}),i.jsx("path",{d:"M300 225 L225 275",stroke:"#6B7280",strokeWidth:"1.5",fill:"none",opacity:"0.6",markerEnd:"url(#arrowhead)",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,100;100,0;0,100",dur:"3s",repeatCount:"indefinite",begin:"2s"})}),i.jsxs("g",{transform:"translate(150, 120)",opacity:"0.6",children:[i.jsx("circle",{cx:"0",cy:"0",r:"8",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"2",textAnchor:"middle",fontSize:"8",fill:"white",children:""}),i.jsx("text",{x:"0",y:"15",textAnchor:"middle",fontSize:"6",fill:"#4B5563",children:"Secure"})]}),i.jsxs("g",{transform:"translate(250, 120)",opacity:"0.6",children:[i.jsx("circle",{cx:"0",cy:"0",r:"8",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"2",textAnchor:"middle",fontSize:"8",fill:"white",children:""}),i.jsx("text",{x:"0",y:"15",textAnchor:"middle",fontSize:"6",fill:"#4B5563",children:"Fast"})]}),i.jsxs("g",{transform:"translate(150, 280)",opacity:"0.6",children:[i.jsx("circle",{cx:"0",cy:"0",r:"8",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"2",textAnchor:"middle",fontSize:"8",fill:"white",children:""}),i.jsx("text",{x:"0",y:"15",textAnchor:"middle",fontSize:"6",fill:"#4B5563",children:"Chat"})]}),i.jsxs("g",{transform:"translate(250, 280)",opacity:"0.6",children:[i.jsx("circle",{cx:"0",cy:"0",r:"8",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"2",textAnchor:"middle",fontSize:"8",fill:"white",children:""}),i.jsx("text",{x:"0",y:"15",textAnchor:"middle",fontSize:"6",fill:"#4B5563",children:"Quality"})]}),i.jsxs("g",{transform:"translate(60, 60)",opacity:"0.4",children:[i.jsx("circle",{cx:"0",cy:"0",r:"4",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"1",textAnchor:"middle",fontSize:"5",fill:"white",children:""})]}),i.jsxs("g",{transform:"translate(340, 60)",opacity:"0.4",children:[i.jsx("circle",{cx:"0",cy:"0",r:"4",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"1",textAnchor:"middle",fontSize:"5",fill:"white",children:""})]}),i.jsxs("g",{transform:"translate(60, 340)",opacity:"0.4",children:[i.jsx("circle",{cx:"0",cy:"0",r:"4",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"1",textAnchor:"middle",fontSize:"5",fill:"white",children:""})]}),i.jsxs("g",{transform:"translate(340, 340)",opacity:"0.4",children:[i.jsx("circle",{cx:"0",cy:"0",r:"4",fill:"#6B7280"}),i.jsx("text",{x:"0",y:"1",textAnchor:"middle",fontSize:"5",fill:"white",children:""})]}),i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"8",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:i.jsx("polygon",{points:"0 0, 8 3, 0 6",fill:"#6B7280"})})})]})})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-center justify-center mb-6 sm:mb-16 animate-slide-up px-1 sm:px-0",style:{animationDelay:"0.4s"},children:[i.jsx(Je,{to:"/post-enquiry",className:"w-full sm:w-auto",children:i.jsxs("button",{className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 text-white font-semibold py-2.5 sm:py-2 px-4 sm:px-4 rounded-lg sm:rounded-lg flex items-center justify-center gap-1.5 sm:gap-2 transition-all duration-200 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[i.jsx("span",{className:"text-xs sm:text-base",children:"Post Your Need"}),i.jsx(sg,{className:"h-3 w-3 sm:h-5 sm:w-5 group-hover:translate-x-1 transition-transform duration-200"})]})}),i.jsx(Je,{to:"/enquiries",className:"w-full sm:w-auto",children:i.jsxs("button",{className:"w-full sm:w-auto bg-white hover:bg-gray-50 text-gray-800 font-semibold py-2 sm:py-2 px-3 sm:px-4 rounded-lg sm:rounded-lg border-2 border-gray-800 hover:border-gray-800 flex items-center justify-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[i.jsx(pr,{className:"h-3 w-3 sm:h-5 sm:w-5 group-hover:scale-110 transition-transform duration-200"}),i.jsx("span",{className:"text-[10px] sm:text-base",children:"Show All Enquiries"})]})}),i.jsx("div",{className:"w-full sm:w-auto relative z-50",style:{zIndex:50},children:i.jsxs("div",{className:"flex gap-2 sm:gap-2",children:[i.jsxs("div",{className:"relative flex-1",style:{zIndex:50},children:[i.jsx(Gl,{className:"absolute left-2 sm:left-5 top-1/2 transform -translate-y-1/2 h-3 w-3 sm:h-5 sm:w-5 text-gray-400"}),i.jsx("input",{ref:I,type:"text",placeholder:"Search enquiries...",value:E,onChange:L=>{C(L.target.value),T(!0),he()},onFocus:()=>{T(!0),he()},onBlur:()=>setTimeout(()=>T(!1),200),onKeyPress:Y,className:"w-full px-2 sm:px-5 py-2.5 sm:py-4 pl-8 sm:pl-12 pr-3 sm:pr-4 text-xs sm:text-base border-2 border-gray-200 rounded-lg sm:rounded-2xl focus:border-blue-500 focus:ring-2 sm:focus:ring-4 focus:ring-blue-100 transition-all duration-300 ease-out bg-white shadow-sm placeholder-gray-400"})]}),i.jsx("button",{onClick:U,disabled:P,className:"bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-800 hover:to-gray-900 text-white font-semibold py-2.5 sm:py-2 px-3 sm:px-3 rounded-lg sm:rounded-lg flex items-center justify-center transition-all duration-200 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl min-w-[40px] sm:min-w-[52px]",children:P?i.jsx("div",{className:"w-3 h-3 sm:w-5 sm:h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(Gl,{className:"h-3 w-3 sm:h-5 sm:w-5"})})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-6 mb-6 sm:mb-16 animate-slide-up px-1 sm:px-0",style:{animationDelay:"0.6s"},children:t.map((L,q)=>i.jsxs(be,{className:"p-3 sm:p-6 glass-card hover-lift transition-spring group bg-blue-50/30 border-blue-100/50 rounded-xl sm:rounded-2xl",children:[i.jsxs("div",{className:"relative",children:[i.jsx(L.icon,{className:"h-5 w-5 sm:h-8 sm:w-8 text-pal-blue mx-auto mb-2 sm:mb-4 group-hover:scale-110 transition-spring"}),i.jsx("div",{className:"absolute inset-0 bg-pal-blue/20 blur-xl opacity-0 group-hover:opacity-100 transition-spring"})]}),i.jsx("h3",{className:"text-xs sm:text-lg font-semibold text-foreground mb-1 sm:mb-2 text-center group-hover:text-pal-blue transition-spring",children:L.title}),i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground text-center leading-relaxed",children:L.description})]},q))}),i.jsxs("section",{className:"py-4 sm:py-16",children:[i.jsx("div",{className:"text-center mb-4 sm:mb-12"}),i.jsxs("div",{className:"text-center mb-4 sm:mb-8",children:[i.jsx("h3",{className:"text-sm sm:text-2xl md:text-3xl font-bold text-foreground mb-1 sm:mb-4",children:"Live Needs"}),i.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1 sm:py-2 bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200 rounded-full shadow-sm",children:[i.jsx("div",{className:"w-1 h-1 sm:w-2 sm:h-2 bg-green-500 rounded-full animate-pulse"}),i.jsxs("span",{className:"text-sm sm:text-sm font-medium text-slate-700",children:[p.length," enquir",p.length!==1?"ys":"y"," available"]})]})]}),D.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 mb-6 px-1 sm:px-0",children:(j?D:D.slice(0,3)).map(L=>{var q;return i.jsx(Je,{to:`/enquiry/${L.id}`,className:"block h-full",children:i.jsxs("div",{className:`bg-white rounded-lg shadow-md hover:shadow-lg border border-gray-200 hover:border-gray-300 flex flex-col h-full transform transition-all duration-200 hover:scale-[1.01] overflow-hidden group ${J(L)?"opacity-70 bg-gray-100 border-gray-300 grayscale":""}`,children:[i.jsx("div",{className:"bg-gray-800 px-2.5 sm:px-3 lg:px-6 py-1.5 sm:py-2 lg:py-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"flex items-center gap-0.5 sm:gap-1 lg:gap-2",children:(L.userProfileVerified||L.idFrontImage||L.idBackImage)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`flex items-center justify-center w-2.5 h-2.5 sm:w-3 sm:h-3 lg:w-4 lg:h-4 rounded-full ${J(L)?"bg-gray-400":"bg-blue-500"}`,children:i.jsx(Gs,{className:"h-1 w-1 sm:h-1.5 sm:w-1.5 lg:h-2 lg:w-2 text-white"})}),i.jsx("span",{className:`text-[8px] sm:text-[9px] lg:text-xs font-medium hidden sm:inline ${J(L)?"text-gray-300":"text-blue-300"}`,children:"Verified"})]})}),i.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 lg:gap-2",children:[!J(L)&&i.jsx(Pe,{variant:"default",className:"text-[8px] sm:text-[9px] lg:text-xs px-1 sm:px-1.5 lg:px-2.5 py-0.5 lg:py-1 bg-green-100 text-green-700 border-green-200",children:"Live"}),L.isUrgent&&!J(L)&&i.jsx(Pe,{variant:"destructive",className:"text-[8px] sm:text-[9px] lg:text-xs px-1 sm:px-1.5 lg:px-2.5 py-0.5 lg:py-1",children:"Urgent"}),J(L)&&i.jsx(Pe,{variant:"outline",className:"text-[8px] sm:text-[9px] lg:text-xs px-1 sm:px-1.5 lg:px-2.5 py-0.5 lg:py-1 text-gray-300 border-gray-400",children:"Expired"})]})]})}),i.jsxs("div",{className:"p-2.5 sm:p-3 lg:p-6 flex-1 flex flex-col",children:[i.jsx("h3",{className:`text-[12px] sm:text-[13px] lg:text-lg font-semibold mb-1 sm:mb-1.5 lg:mb-3 leading-snug line-clamp-2 ${J(L)?"text-gray-600":"text-gray-900"}`,children:L.title}),i.jsx("div",{className:"mb-1.5 sm:mb-2.5 lg:mb-4",children:i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 lg:gap-3 text-[10px] sm:text-[11px] lg:text-base text-slate-700 flex-wrap",children:[L.budget&&i.jsxs("span",{className:"inline-flex items-center font-semibold text-slate-900",children:[i.jsx("span",{className:"mr-0.5 sm:mr-1 lg:mr-1.5 text-[12px] sm:text-[13px] lg:text-lg",children:""}),ag(L.budget)]}),L.budget&&L.location&&i.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),L.location&&i.jsxs("span",{className:"hidden sm:inline-flex items-center",children:[i.jsx(Vu,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 lg:h-4 lg:w-4 mr-1 lg:mr-1.5 text-slate-500"}),i.jsx("span",{className:"line-clamp-1",children:L.location})]})]})}),i.jsxs("div",{className:"mb-2 sm:mb-3 lg:mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Pe,{variant:"secondary",className:"text-[9px] sm:text-[10px] lg:text-sm px-1.5 sm:px-2 lg:px-3 py-0.5 lg:py-1",children:L.category}),i.jsxs("div",{className:"flex items-center text-[9px] sm:text-[10px] lg:text-sm text-slate-500",children:[i.jsx(xn,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 lg:h-4 lg:w-4 mr-0.5 sm:mr-1 lg:mr-1.5"}),i.jsx("span",{className:"whitespace-nowrap",children:(q=L.createdAt)!=null&&q.toDate?me(L.createdAt.toDate().toISOString()):"N/A"})]})]}),L.location&&i.jsx("div",{className:"sm:hidden mt-1.5",children:i.jsxs("div",{className:"flex items-start justify-end gap-1",children:[i.jsx(Vu,{className:"h-2.5 w-2.5 mt-0.5 text-slate-600"}),i.jsx("span",{className:"text-[9px] text-slate-700 text-right break-words",children:L.location})]})}),L.deadline&&!J(L)&&i.jsx("div",{className:"mt-0.5 sm:mt-1 lg:mt-2",children:i.jsx(Nf,{deadline:L.deadline.toDate?L.deadline.toDate():new Date(L.deadline),className:"text-[9px] sm:text-[10px] lg:text-sm"})})]}),i.jsx("div",{className:"flex flex-col gap-0.5 sm:gap-1 lg:gap-2 mt-auto -mx-2.5 sm:-mx-3 lg:-mx-6 px-2.5 sm:px-3 lg:px-6",children:r?L.userId===r.uid?i.jsx("button",{className:"w-full h-5 sm:h-6 lg:h-10 bg-gray-100 text-gray-600 text-[8px] sm:text-[9px] lg:text-sm font-medium rounded border border-gray-300",disabled:!0,children:" Your Enquiry"}):J(L)?i.jsx("button",{className:"w-full h-5 sm:h-6 lg:h-10 bg-gray-100 text-gray-600 text-[8px] sm:text-[9px] lg:text-sm font-medium rounded border border-gray-300",disabled:!0,children:"Expired"}):i.jsx("button",{className:"w-full h-5 sm:h-6 lg:h-10 bg-gray-800 text-white text-[8px] sm:text-[9px] lg:text-sm font-medium rounded hover:bg-gray-900 transition-colors",onClick:()=>o(`/respond/${L.id}`),children:"Sell"}):i.jsx("button",{className:"w-full h-5 sm:h-6 lg:h-10 bg-gray-100 text-gray-700 text-[8px] sm:text-[9px] lg:text-sm font-medium rounded border border-gray-300 hover:bg-gray-200 transition-colors",onClick:()=>o("/signin"),children:"Sign In to Respond"})}),i.jsx("div",{className:"border-t border-gray-700 bg-gray-800 rounded-b-lg -mx-2.5 sm:-mx-3 lg:-mx-6 -mb-2.5 sm:-mb-3 lg:-mb-6 px-2.5 sm:px-3 lg:px-6 py-1.5 sm:py-2 lg:py-4",children:i.jsxs("div",{className:"flex items-center justify-between h-[18px] sm:h-[20px] lg:h-[28px]",children:[i.jsxs("button",{onClick:ee=>H(L.id,ee),className:`inline-flex items-center gap-0.5 sm:gap-1 lg:gap-2 px-1 sm:px-1.5 lg:px-3 py-0.5 lg:py-1 h-auto text-[8px] sm:text-[9px] lg:text-sm transition-all duration-150 ${W.includes(L.id)?"text-blue-300 hover:text-blue-200":"text-gray-300 hover:text-blue-300"}`,disabled:!r,children:[i.jsx(Fu,{className:`h-2.5 w-2.5 sm:h-3 sm:w-3 lg:h-4 lg:w-4 transition-transform duration-150 ${W.includes(L.id)?"fill-current scale-110":"hover:scale-110"}`}),i.jsx("span",{className:"hidden sm:inline",children:W.includes(L.id)?"Saved":"Save"})]}),i.jsxs("button",{onClick:ee=>se(L,ee),className:"inline-flex items-center gap-0.5 sm:gap-1 lg:gap-2 px-1 sm:px-1.5 lg:px-3 py-0.5 lg:py-1 h-auto text-[8px] sm:text-[9px] lg:text-sm text-gray-300 hover:text-blue-300 transition-all duration-150",children:[i.jsx(s7,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 lg:h-4 lg:w-4 transition-transform duration-150 hover:scale-110"}),i.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]})})]})]})},L.id)})}),D.length>3&&i.jsx("div",{className:"text-center mt-6",children:i.jsx(G,{onClick:()=>N(!j),variant:"outline",className:"mobile-button-outline",children:j?"Show Less":`Load More Enquiries (${D.length-3} more)`})}),i.jsx("div",{className:"text-center mt-4",children:i.jsx(Je,{to:"/enquiries",children:i.jsxs(G,{variant:"outline",className:"h-7 sm:h-10 px-3 sm:px-6 text-[10px] sm:text-sm font-medium border-2 border-gray-800 text-gray-800 hover:border-gray-800 hover:bg-gray-50 transition-all duration-200",children:[i.jsx(pr,{className:"mr-1 sm:mr-2 h-2.5 w-2.5 sm:h-4 sm:w-4"}),"Show All Enquiries"]})})})]}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(_o,{className:"h-8 w-8 text-gray-400"})}),E?i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No results found"}),i.jsxs("p",{className:"text-muted-foreground mb-6",children:['No enquiries match your search for "',E,'". Try different keywords!']}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(G,{onClick:()=>C(""),variant:"outline",children:"Clear Search"}),i.jsx(Je,{to:"/post-enquiry",children:i.jsxs(G,{className:"bg-pal-blue hover:bg-pal-blue-dark text-white",children:["Post Your Enquiry",i.jsx(sg,{className:"ml-2 h-4 w-4"})]})})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No live enquiries yet"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Post your needs and start connecting with sellers!"}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:i.jsx(Je,{to:"/post-enquiry",children:i.jsx(G,{variant:"default",className:"bg-pal-blue hover:bg-pal-blue-dark text-white",children:"Post First Enquiry"})})})]})]})]}),r&&i.jsx("div",{className:"mb-6 sm:mb-12 animate-slide-up px-4 sm:px-0",style:{animationDelay:"1s"},children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx("p",{className:"text-slate-600 font-medium text-[10px] sm:text-xs md:text-base mb-3 sm:mb-4 leading-tight",children:"Stay anonymous until closing the deal"}),i.jsxs("div",{className:"flex flex-row gap-1.5 sm:gap-2 justify-center items-center",children:[i.jsx(Je,{to:"/dashboard",children:i.jsx("button",{className:"bg-gray-800 text-white px-3 sm:px-4 py-3 sm:py-4 text-[10px] sm:text-xs rounded-full inline-flex items-center justify-center aspect-square w-12 h-12 sm:w-14 sm:h-14",children:i.jsx(Tv,{className:"h-3 w-3 sm:h-4 sm:w-4"})})}),i.jsx(Je,{to:"/post-enquiry",children:i.jsx("button",{className:"bg-gray-800 text-white px-3 sm:px-4 py-3 sm:py-4 text-[10px] sm:text-xs rounded-full inline-flex items-center justify-center aspect-square w-12 h-12 sm:w-14 sm:h-14",children:i.jsx(_o,{className:"h-3 w-3 sm:h-4 sm:w-4"})})})]})]})}),i.jsx("div",{className:"mb-12 sm:mb-20 animate-slide-up",style:{animationDelay:"1.2s"},children:i.jsxs("div",{className:"relative py-12 sm:py-16 lg:py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50/50 via-white to-gray-50/30",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-0 left-1/4 w-64 h-64 bg-blue-100/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-0 right-1/4 w-64 h-64 bg-purple-100/20 rounded-full blur-3xl"})]}),i.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[i.jsxs("div",{className:"text-center mb-8 sm:mb-14 lg:mb-16 px-2 sm:px-0",children:[i.jsx("div",{className:"inline-block mb-2 sm:mb-4",children:i.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600 uppercase tracking-wider px-4 py-1.5 bg-gray-100 rounded-full",children:"Explore"})}),i.jsx("h2",{className:"text-2xl sm:text-4xl lg:text-5xl font-bold text-gray-900 tracking-tight mb-2 sm:mb-4",children:"Popular Categories"}),i.jsx("p",{className:"text-[10px] sm:text-base lg:text-lg text-gray-600 max-w-2xl mx-auto leading-tight sm:leading-relaxed whitespace-nowrap sm:whitespace-normal px-1",children:"Discover opportunities across diverse categories tailored to your needs"})]}),i.jsx("div",{className:"flex flex-wrap justify-center items-center gap-4 sm:gap-5 lg:gap-8 mb-10 sm:mb-12",children:e.map((L,q)=>{var te,ce;const ee=L.icon;return i.jsx("div",{className:"group flex justify-center items-center animate-slide-up",style:{animationDelay:`${1.4+q*.1}s`},children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-purple-400/0 group-hover:from-blue-400/20 group-hover:to-purple-400/20 rounded-full blur-xl transition-all duration-500 scale-0 group-hover:scale-150"}),i.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-full w-28 h-28 sm:w-32 sm:h-32 md:w-36 md:h-36 lg:w-40 lg:h-40 transition-all duration-500 hover:shadow-2xl hover:shadow-gray-400/20 hover:scale-110 overflow-hidden flex flex-col items-center justify-center cursor-pointer border border-gray-700/50 group-hover:border-gray-600",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/5 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative flex flex-col items-center justify-center text-center space-y-2 sm:space-y-2.5 lg:space-y-3 z-10 w-full h-full p-4",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 bg-white/5 rounded-full flex items-center justify-center group-hover:bg-white/10 group-hover:scale-110 transition-all duration-500 flex-shrink-0 shadow-lg",children:i.jsx(ee,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 lg:w-9 lg:h-9 text-white group-hover:text-blue-100 transition-colors duration-300"})}),i.jsx("div",{className:"w-full flex flex-col items-center justify-center gap-0.5",children:L.name.includes("&")?i.jsxs(i.Fragment,{children:[i.jsx("h4",{className:"text-[10px] sm:text-xs md:text-sm lg:text-base font-semibold text-white/95 group-hover:text-white leading-tight text-center px-2 transition-colors duration-300",children:(te=L.name.split("&")[0])==null?void 0:te.trim()}),i.jsxs("h4",{className:"text-[10px] sm:text-xs md:text-sm lg:text-base font-semibold text-white/95 group-hover:text-white leading-tight text-center px-2 transition-colors duration-300",children:["& ",(ce=L.name.split("&")[1])==null?void 0:ce.trim()]})]}):L.name.split(" ").length>2?i.jsxs(i.Fragment,{children:[i.jsx("h4",{className:"text-[10px] sm:text-xs md:text-sm lg:text-base font-semibold text-white/95 group-hover:text-white leading-tight text-center px-2 transition-colors duration-300",children:L.name.split(" ").slice(0,2).join(" ")}),i.jsx("h4",{className:"text-[10px] sm:text-xs md:text-sm lg:text-base font-semibold text-white/95 group-hover:text-white leading-tight text-center px-2 transition-colors duration-300",children:L.name.split(" ").slice(2).join(" ")})]}):i.jsx("h4",{className:"text-[10px] sm:text-xs md:text-sm lg:text-base font-semibold text-white/95 group-hover:text-white leading-tight text-center px-2 transition-colors duration-300",children:L.name})})]})]})]})},q)})}),i.jsx("div",{className:"text-center",children:i.jsxs(Je,{to:"/enquiries",className:"inline-flex items-center gap-2 px-8 sm:px-10 py-3.5 sm:py-4 bg-gradient-to-r from-gray-900 to-gray-800 hover:from-gray-800 hover:to-gray-900 text-white font-semibold rounded-full transition-all duration-300 hover:shadow-xl hover:shadow-gray-400/20 hover:scale-105 active:scale-100 border border-gray-700/50",children:[i.jsx("span",{className:"text-sm sm:text-base",children:"Explore All Categories"}),i.jsx(sg,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"})]})})]})]})})]}),i.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:i.jsx("div",{className:"w-6 h-10 border-2 border-muted-foreground/50 rounded-full flex justify-center glass-effect backdrop-blur-sm",children:i.jsx("div",{className:"w-1 h-3 bg-gradient-to-b from-pal-blue to-transparent rounded-full mt-2 animate-pulse"})})})]}),i.jsx("section",{className:"py-10 sm:py-16 relative bg-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-4 sm:mb-12",children:[i.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-900 mb-1",children:"How It Works"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"3 simple steps to connect"})]}),i.jsx("div",{className:"bg-white p-4 sm:p-14 rounded-xl sm:rounded-3xl border border-gray-200 sm:border-2 shadow-md sm:shadow-lg",children:i.jsxs("svg",{viewBox:"0 0 1200 600",className:"w-full h-[400px] sm:h-[650px]",children:[i.jsxs("g",{transform:"translate(120, 150)",children:[i.jsx("circle",{cx:"0",cy:"-40",r:"48",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-8; 0,0",dur:"2s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"-16",cy:"-56",r:"6",fill:"#1F2937",children:i.jsx("animate",{attributeName:"r",values:"6;8;6",dur:"1.5s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"16",cy:"-56",r:"6",fill:"#1F2937",children:i.jsx("animate",{attributeName:"r",values:"6;8;6",dur:"1.5s",repeatCount:"indefinite"})}),i.jsx("path",{d:"M-16,-36 Q0,-28 16,-36",stroke:"#1F2937",strokeWidth:"4",fill:"none",strokeLinecap:"round",children:i.jsx("animate",{attributeName:"d",values:"M-16,-36 Q0,-28 16,-36; M-16,-36 Q0,-22 16,-36",dur:"2s",repeatCount:"indefinite"})}),i.jsx("ellipse",{cx:"0",cy:"20",rx:"36",ry:"55",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"1,1; 1.08,1; 1,1",dur:"3s",repeatCount:"indefinite"})}),i.jsxs("g",{transform:"translate(-35, 15)",children:[i.jsx("path",{d:"M0,0 L-28,-25",stroke:"#1F2937",strokeWidth:"4",strokeLinecap:"round",children:i.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0 0 0; -25 0 0; 0 0 0",dur:"2.5s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"-28",cy:"-25",r:"8",fill:"#1F2937"})]}),i.jsxs("g",{transform:"translate(35, 15)",children:[i.jsx("path",{d:"M0,0 L28,-25",stroke:"#1F2937",strokeWidth:"4",strokeLinecap:"round",children:i.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0 0 0; 25 0 0; 0 0 0",dur:"2.5s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"28",cy:"-25",r:"8",fill:"#1F2937"})]}),i.jsx("circle",{cx:"0",cy:"-40",r:"65",fill:"none",stroke:"#1F2937",strokeWidth:"2",opacity:"0.3",children:i.jsx("animate",{attributeName:"r",values:"65;75;65",dur:"2s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"0",cy:"-40",r:"55",fill:"none",stroke:"#1F2937",strokeWidth:"1.5",opacity:"0.2",children:i.jsx("animate",{attributeName:"r",values:"55;65;55",dur:"2.3s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"0",cy:"-40",r:"45",fill:"none",stroke:"#1F2937",strokeWidth:"1",opacity:"0.15",children:i.jsx("animate",{attributeName:"r",values:"45;55;45",dur:"2.6s",repeatCount:"indefinite"})})]}),i.jsxs("g",{transform:"translate(280, 220)",children:[i.jsx("line",{x1:"0",y1:"0",x2:"140",y2:"0",stroke:"#1F2937",strokeWidth:"5",opacity:"0.7",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,400;140,0;0,0",dur:"3s",repeatCount:"indefinite",begin:"0s"})}),i.jsx("polygon",{points:"155,0 140,-12 125,0 140,12",fill:"#1F2937"})]}),i.jsxs("g",{transform:"translate(450, 150)",children:[i.jsx("rect",{x:"-60",y:"-60",width:"120",height:"120",rx:"16",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.08;1",dur:"2s",repeatCount:"indefinite"})}),i.jsx("rect",{x:"-45",y:"-45",width:"90",height:"90",fill:"#F9FAFB"}),i.jsxs("circle",{cx:"0",cy:"-20",r:"10",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite"}),i.jsx("animate",{attributeName:"r",values:"10;12;10",dur:"2s",repeatCount:"indefinite"})]}),i.jsxs("circle",{cx:"-20",cy:"-10",r:"8",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.15s"}),i.jsx("animate",{attributeName:"r",values:"8;10;8",dur:"2s",repeatCount:"indefinite",begin:"0.15s"})]}),i.jsxs("circle",{cx:"20",cy:"-10",r:"8",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.3s"}),i.jsx("animate",{attributeName:"r",values:"8;10;8",dur:"2s",repeatCount:"indefinite",begin:"0.3s"})]}),i.jsxs("circle",{cx:"-18",cy:"10",r:"8",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.45s"}),i.jsx("animate",{attributeName:"r",values:"8;10;8",dur:"2s",repeatCount:"indefinite",begin:"0.45s"})]}),i.jsxs("circle",{cx:"18",cy:"10",r:"8",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.6s"}),i.jsx("animate",{attributeName:"r",values:"8;10;8",dur:"2s",repeatCount:"indefinite",begin:"0.6s"})]}),i.jsxs("circle",{cx:"-15",cy:"28",r:"7",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.75s"}),i.jsx("animate",{attributeName:"r",values:"7;9;7",dur:"2s",repeatCount:"indefinite",begin:"0.75s"})]}),i.jsxs("circle",{cx:"15",cy:"28",r:"7",fill:"#1F2937",children:[i.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"0.8s",repeatCount:"indefinite",begin:"0.9s"}),i.jsx("animate",{attributeName:"r",values:"7;9;7",dur:"2s",repeatCount:"indefinite",begin:"0.9s"})]}),i.jsx("circle",{cx:"0",cy:"35",r:"9",fill:"#1F2937",opacity:"0.6",children:i.jsx("animate",{attributeName:"r",values:"9;12;9",dur:"2s",repeatCount:"indefinite"})}),i.jsx("line",{x1:"-20",y1:"-10",x2:"0",y2:"-20",stroke:"#1F2937",strokeWidth:"3",opacity:"0.4",children:i.jsx("animate",{attributeName:"opacity",values:"0.2;0.8;0.2",dur:"1.5s",repeatCount:"indefinite"})}),i.jsx("line",{x1:"20",y1:"-10",x2:"0",y2:"-20",stroke:"#1F2937",strokeWidth:"3",opacity:"0.4",children:i.jsx("animate",{attributeName:"opacity",values:"0.2;0.8;0.2",dur:"1.5s",repeatCount:"indefinite",begin:"0.3s"})}),i.jsx("line",{x1:"-18",y1:"10",x2:"-20",y2:"-10",stroke:"#1F2937",strokeWidth:"3",opacity:"0.3",children:i.jsx("animate",{attributeName:"opacity",values:"0.1;0.6;0.1",dur:"1.5s",repeatCount:"indefinite",begin:"0.6s"})}),i.jsx("line",{x1:"18",y1:"10",x2:"20",y2:"-10",stroke:"#1F2937",strokeWidth:"3",opacity:"0.3",children:i.jsx("animate",{attributeName:"opacity",values:"0.1;0.6;0.1",dur:"1.5s",repeatCount:"indefinite",begin:"0.9s"})})]}),i.jsxs("g",{transform:"translate(580, 220)",children:[i.jsx("line",{x1:"0",y1:"0",x2:"160",y2:"0",stroke:"#1F2937",strokeWidth:"5",opacity:"0.7",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,400;160,0;0,0",dur:"3s",repeatCount:"indefinite",begin:"0.5s"})}),i.jsx("polygon",{points:"175,0 160,-12 145,0 160,12",fill:"#1F2937"})]}),i.jsxs("g",{transform:"translate(780, 80)",children:[i.jsxs("g",{transform:"translate(-70, 0)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"45",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-18; 0,0",dur:"2s",repeatCount:"indefinite",begin:"0s"})}),i.jsx("circle",{cx:"-16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("circle",{cx:"16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("path",{d:"M-18,15 Q0,10 18,15",stroke:"#1F2937",strokeWidth:"4",fill:"none"}),i.jsx("path",{d:"M-35,25 L35,25 M-42,38 L42,38",stroke:"#1F2937",strokeWidth:"4",strokeLinecap:"round"})]}),i.jsxs("g",{transform:"translate(0, 0)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"45",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-18; 0,0",dur:"2s",repeatCount:"indefinite",begin:"0.4s"})}),i.jsx("circle",{cx:"-16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("circle",{cx:"16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("path",{d:"M-18,15 Q0,10 18,15",stroke:"#1F2937",strokeWidth:"4",fill:"none"}),i.jsx("path",{d:"M-35,25 L35,25 M-42,38 L42,38",stroke:"#1F2937",strokeWidth:"4",strokeLinecap:"round"})]}),i.jsxs("g",{transform:"translate(70, 0)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"45",fill:"none",stroke:"#1F2937",strokeWidth:"4",children:i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-18; 0,0",dur:"2s",repeatCount:"indefinite",begin:"0.8s"})}),i.jsx("circle",{cx:"-16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("circle",{cx:"16",cy:"-16",r:"5",fill:"#1F2937"}),i.jsx("path",{d:"M-18,15 Q0,10 18,15",stroke:"#1F2937",strokeWidth:"4",fill:"none"}),i.jsx("path",{d:"M-35,25 L35,25 M-42,38 L42,38",stroke:"#1F2937",strokeWidth:"4",strokeLinecap:"round"})]})]}),i.jsxs("g",{transform:"translate(620, 130)",children:[i.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"90",stroke:"#1F2937",strokeWidth:"4",opacity:"0.7",children:i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,250;90,0;0,0",dur:"3s",repeatCount:"indefinite",begin:"1s"})}),i.jsx("polygon",{points:"0,95 -8,88 0,105 8,88",fill:"#1F2937"})]}),i.jsxs("g",{transform:"translate(580, 260)",children:[i.jsx("circle",{cx:"0",cy:"0",r:"65",fill:"#1F2937",opacity:"0.9",children:i.jsx("animate",{attributeName:"r",values:"65;72;65",dur:"2s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"0",cy:"0",r:"52",fill:"none",stroke:"white",strokeWidth:"3"}),i.jsx("path",{d:"M-24,-8 L-8,15 L24,-15",stroke:"white",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.15;1",dur:"1.5s",repeatCount:"indefinite"})})]}),i.jsxs("g",{transform:"translate(140, 450)",children:[i.jsx("text",{x:"0",y:"0",textAnchor:"start",fontSize:"16",fill:"#1F2937",fontWeight:"700",className:"sm:text-2xl",children:"1. Post Need"}),i.jsx("text",{x:"0",y:"20",textAnchor:"start",fontSize:"12",fill:"#6B7280",className:"sm:text-lg",children:" Share what you need"})]}),i.jsxs("g",{transform:"translate(470, 450)",children:[i.jsx("text",{x:"0",y:"0",textAnchor:"start",fontSize:"16",fill:"#1F2937",fontWeight:"700",className:"sm:text-2xl",children:"2. AI Matches"}),i.jsx("text",{x:"0",y:"20",textAnchor:"start",fontSize:"12",fill:"#6B7280",className:"sm:text-lg",children:" Finds verified sellers"})]}),i.jsxs("g",{transform:"translate(800, 450)",children:[i.jsx("text",{x:"0",y:"0",textAnchor:"start",fontSize:"16",fill:"#1F2937",fontWeight:"700",className:"sm:text-2xl",children:"3. Connect & Complete"}),i.jsx("text",{x:"0",y:"20",textAnchor:"start",fontSize:"12",fill:"#6B7280",className:"sm:text-lg",children:" Chat & close deal"})]})]})})]})}),A&&X().length>0&&Ic.createPortal(i.jsx("div",{className:"fixed bg-white border-2 border-blue-400 rounded-2xl shadow-2xl max-h-60 overflow-y-auto z-[99999]",style:{top:M.top,left:M.left,width:M.width,zIndex:99999},children:X().map((L,q)=>i.jsxs("button",{onClick:()=>{C(L),T(!1),U()},className:"w-full px-4 py-3 text-left hover:bg-blue-100 transition-colors duration-150 first:rounded-t-2xl last:rounded-b-2xl flex items-center gap-3 border-b border-gray-200 last:border-b-0",children:[i.jsx(Gl,{className:"h-4 w-4 text-blue-500"}),i.jsx("span",{className:"text-sm text-gray-800 font-medium",children:L})]},q))}),document.body)]})},s_=({name:t,isVerified:e=!1,className:r="",showVerification:n=!0})=>{const s=r.includes("text-2xl")||r.includes("text-3xl")||r.includes("text-4xl")||r.includes("text-5xl")||r.includes("text-6xl")||r.includes("text-7xl");return i.jsxs("span",{className:He("inline-flex items-center gap-1 sm:gap-2",r),children:[i.jsx("span",{children:t}),e&&n&&i.jsx("div",{className:He("flex-shrink-0 bg-blue-500 rounded-full flex items-center justify-center",s?"h-5 w-5 sm:h-8 sm:w-8":"h-2 w-2 sm:h-3 sm:w-3"),title:"Verified User",children:i.jsx(Gs,{className:He("text-white font-bold",s?"h-3 w-3 sm:h-5 sm:w-5":"h-1 w-1 sm:h-1.5 sm:w-1.5"),strokeWidth:2.5})})]})},cs=[{id:"free",name:"Free",price:0,responses:2,description:"AI-powered smart matching with verified sellers",features:[" Unlock 2 AI-ranked seller responses"," Smart seller matching"," Mobile-optimized experience"]},{id:"basic",name:"Basic",price:99,responses:5,description:"Unlock more AI-curated quality responses",features:[" Unlock 5 AI-ranked seller responses"," Priority AI matching"," Smart response filtering"]},{id:"standard",name:"Standard",price:199,responses:10,description:"AI-powered premium access to top sellers",features:[" Unlock 10 AI-ranked seller responses"," Advanced AI recommendations"," AI-powered search filters"]},{id:"premium",name:"Premium",price:499,responses:-1,description:"Unlimited AI-matched seller connections",features:[" Unlock ALL AI-ranked seller responses"," Exclusive premium sellers"," Priority AI processing"],isPopular:!0}],sI=(t,e,r,n)=>{if(console.log(" getUpgradeOptions called with:",{currentPlanId:t,userCurrentPlan:e}),t==="premium")return console.log(" Already premium, no upgrades available"),[];const s=cs.findIndex(c=>c.id===t);if(s===-1)return console.log(" Current plan not found, returning all paid plans"),cs.filter(c=>c.id!=="free");const a=cs[s],o=a.price;console.log(" Current plan details:",{id:a.id,name:a.name,price:o});let l=cs.filter(c=>{const u=c.price>o,d=c.id!=="pro",h=c.id!=="free",f=c.id!==t;return u&&d&&h&&f});return console.log(" Available upgrade plans:",l.map(c=>({id:c.id,name:c.name,price:c.price}))),l},N1e=Object.freeze(Object.defineProperty({__proto__:null,PAYMENT_PLANS:cs,getUpgradeOptions:sI},Symbol.toStringTag,{value:"Module"})),S1e=({isOpen:t,onClose:e,selectedPlan:r,enquiryId:n,userId:s,onPaymentSuccess:a,isUpgrade:o=!1,currentPlanPrice:l=0})=>{const[c,u]=g.useState("form"),[d,h]=g.useState(!1),[f,m]=g.useState({cardNumber:"",expiryDate:"",cvv:"",name:""}),x=r.price-l,p=o?x:r.price,v=async()=>{u("processing"),h(!0);try{await new Promise(j=>setTimeout(j,2e3)),console.log(" Dummy payment successful:",{enquiryId:n,userId:s,planId:r.id,amount:r.price,paymentDetails:f}),u("success"),setTimeout(()=>{a(r.id,r.price),w()},1500)}catch(j){console.error("Payment failed:",j),u("failed"),h(!1)}},w=()=>{u("form"),h(!1),m({cardNumber:"",expiryDate:"",cvv:"",name:""}),e()},b=f.cardNumber&&f.expiryDate&&f.cvv&&f.name;return t?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-[95vw] sm:max-w-2xl my-4 sm:my-8 flex flex-col",children:[i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:o?"Upgrade Payment":"Complete Payment"}),i.jsx("button",{onClick:w,className:"text-slate-400 hover:text-slate-600 transition-colors p-1",children:i.jsx(rn,{className:"h-6 w-6 sm:h-7 sm:w-7"})})]}),c==="form"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs(be,{className:"border-2 border-blue-200",children:[i.jsx(vt,{className:"pb-3",children:i.jsxs(cr,{className:"text-lg flex items-center gap-2",children:[i.jsx(fP,{className:"h-5 w-5 text-blue-600"}),r.name," Plan"]})}),i.jsxs(Ve,{className:"pt-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium text-slate-900",children:o?"Upgrade Amount":"Plan Price"}),i.jsxs("span",{className:"text-lg font-bold text-slate-900",children:["",p]})]}),o&&i.jsx("div",{className:"text-sm text-slate-600 mb-2",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["New Plan: ",r.price]}),i.jsxs("span",{children:["Current Plan: ",l]})]})}),i.jsx("p",{className:"text-sm text-slate-600",children:r.responses===-1?"Unlimited responses per enquiry":`${r.responses} unlocked responses per enquiry`})]})]}),i.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Card Number"}),i.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",value:f.cardNumber,onChange:j=>m(N=>({...N,cardNumber:j.target.value})),className:"w-full px-4 py-3 text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Expiry Date"}),i.jsx("input",{type:"text",placeholder:"MM/YY",value:f.expiryDate,onChange:j=>m(N=>({...N,expiryDate:j.target.value})),className:"w-full px-4 py-3 text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CVV"}),i.jsx("input",{type:"text",placeholder:"123",value:f.cvv,onChange:j=>m(N=>({...N,cvv:j.target.value})),className:"w-full px-4 py-3 text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cardholder Name"}),i.jsx("input",{type:"text",placeholder:"John Doe",value:f.name,onChange:j=>m(N=>({...N,name:j.target.value})),className:"w-full px-4 py-3 text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg mb-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-yellow-600 text-xs",children:""})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-yellow-800 text-sm",children:"Test Mode"}),i.jsx("p",{className:"text-yellow-700 text-xs",children:"Use any card details - payment will be simulated"})]})]})})]}),c==="processing"&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(mf,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Processing Payment"}),i.jsx("p",{className:"text-slate-600",children:"Please wait while we process your payment..."})]}),c==="success"&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(xt,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Payment Successful! "}),i.jsx("p",{className:"text-slate-600",children:o?"Your plan has been upgraded successfully!":"Your payment has been processed successfully!"})]}),c==="failed"&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Kg,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Payment Failed"}),i.jsx("p",{className:"text-slate-600 mb-4",children:"There was an error processing your payment. Please try again."}),i.jsx(G,{onClick:()=>u("form"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Try Again"})]})]}),c==="form"&&i.jsx("div",{className:"border-t border-gray-200 p-5 bg-white rounded-b-xl shadow-lg",children:i.jsxs("div",{className:"flex space-x-3",children:[i.jsx(G,{onClick:w,variant:"outline",className:"flex-1 py-3",disabled:d,children:"Cancel"}),i.jsxs(G,{onClick:v,disabled:d||!b,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3",children:[d?i.jsx(mf,{className:"h-5 w-5 animate-spin mr-2"}):i.jsx(fP,{className:"h-5 w-5 mr-2"}),o?`Upgrade for ${p}`:`Pay ${p}`]})]})})]})}):null},CH=async(t,e,r,n)=>{try{await new Promise(a=>setTimeout(a,1e3));const s=`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return console.log(" Payment processed successfully:",{enquiryId:t,userId:e,planId:r.id,amount:r.price,transactionId:s}),{success:!0,transactionId:s}}catch(s){return console.error("Payment processing error:",s),{success:!1,error:"Payment processing failed. Please try again."}}},Sj=async(t,e,r,n)=>{try{const s={enquiryId:t,userId:e,planId:r.id,planPrice:r.price,responsesUnlocked:r.responses,isUnlimited:r.responses===-1,purchasedAt:new Date,isActive:!0,paymentMethod:"card",transactionId:n},a=Ce(oe,"payments",`${t}_${e}_${Date.now()}`);return await pn(a,{...s,purchasedAt:Fe()}),a.id}catch(s){throw console.error("Error saving payment record:",s),new Error("Failed to save payment record")}},Ej=async(t,e,r,n)=>{try{const s=Ce(oe,"userPayments",t),a=await Ft(s);if(a.exists()){const o=a.data(),l={currentPlan:e,lastUpgrade:Fe(),activePayments:uy(r)};await ot(s,l),console.log(" User payment plan updated successfully:",{userId:t,planId:e,proEnquiriesRemaining:l.proEnquiriesRemaining})}else{const o={userId:t,currentPlan:e,totalSpent:0,lastUpgrade:Fe(),activePayments:[r]};await pn(s,o),console.log(" User payment plan created successfully:",{userId:t,planId:e,proEnquiriesRemaining:o.proEnquiriesRemaining})}}catch(s){throw console.error("Error updating user payment plan:",s),new Error("Failed to update user payment plan")}},Rh=async t=>{try{const e=Ce(oe,"userPayments",t),r=await Ft(e);if(r.exists()){const n=r.data();return console.log(" User Payment Plan:",{userId:t,currentPlan:n.currentPlan,proEnquiriesRemaining:n.proEnquiriesRemaining,hasProActivation:!!n.proActivationDate}),n}return console.log(" No payment plan found for user:",t),null}catch(e){return console.error("Error getting user payment plan:",e),null}},kH=async t=>{try{const e=await Rh(t);return!!(e&&e.currentPlan==="pro"&&e.proEnquiriesRemaining&&e.proEnquiriesRemaining>0)}catch(e){return console.error("Error checking Pro enquiries remaining:",e),!1}},IH=Object.freeze(Object.defineProperty({__proto__:null,getUserPaymentPlan:Rh,hasProEnquiriesRemaining:kH,processPayment:CH,savePaymentRecord:Sj,updateUserPaymentPlan:Ej},Symbol.toStringTag,{value:"Module"})),Sf=({currentPlanId:t="free",enquiryId:e,userId:r,onPlanSelect:n,isUpgrade:s=!1,enquiryCreatedAt:a,className:o=""})=>{const[l,c]=g.useState(t),[u,d]=g.useState(!1),[h,f]=g.useState(null),[m,x]=g.useState(!1),[p,v]=g.useState(!0),[w,b]=g.useState("free"),[j,N]=g.useState(null);g.useEffect(()=>{(async()=>{v(!0);const I=await Rh(r);if(I&&(b(I.currentPlan),N(I.proActivationDate)),!s){const M=await kH(r);x(M),M&&cs.find(W=>W.id==="premium")&&(c("premium"),setTimeout(()=>n("premium",0),0))}v(!1)})()},[r,s,n]);let E=s?sI(t,w):m?[]:cs;if(s&&(t==="basic"||t==="standard")){const _=cs.find(I=>I.id==="premium");_&&!E.find(I=>I.id==="premium")&&(console.log(" Premium plan not in available plans, adding it explicitly"),E=[...E,_])}console.log(" PaymentPlanSelector Debug:",{currentPlanId:t,isUpgrade:s,availablePlansCount:E.length,availablePlans:E.map(_=>({id:_.id,name:_.name,price:_.price}))});const C=_=>{c(_.id),f(_),_.price===0?n(_.id,_.price):s?d(!0):n(_.id,_.price)},P=(_,I)=>{n(_,I),d(!1)},S=E.find(_=>_.id===t),A=(S==null?void 0:S.price)||0,T=_=>_.isPro?i.jsx(yn,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-yellow-500"}):_.isPopular?i.jsx(X1,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-blue-500"}):i.jsx(pf,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-gray-500"}),R=_=>_.isPro?i.jsx(Pe,{className:"bg-yellow-100 text-yellow-800 text-[8px] sm:text-[9px] px-0.5 py-0 h-3.5 sm:h-4",children:"Pro"}):_.isPopular?i.jsx(Pe,{className:"bg-blue-100 text-blue-800 text-[8px] sm:text-[9px] px-0.5 py-0 h-3.5 sm:h-4",children:"Popular"}):null;return i.jsxs("div",{className:`space-y-4 ${o}`,children:[i.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 sm:mb-2",children:s?"Upgrade Your Plan":"Choose Your Plan"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600",children:s?"Unlock more responses for this enquiry":"Select the plan that works best for you"})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2 min-h-[120px]",children:[E.length===0&&s&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl",children:[i.jsx(xt,{className:"h-16 w-16 text-green-600 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"You're Already at the Top! "}),i.jsx("p",{className:"text-gray-600 text-center max-w-md",children:t==="pro"?"Your enquiry has Pro features with unlimited responses. This is the highest tier!":"Your enquiry already has Premium features with unlimited responses. Enjoy full access to all seller responses!"})]}),E.map(_=>i.jsxs(be,{className:`relative cursor-pointer transition-all duration-200 hover:shadow-md overflow-hidden ${l===_.id?"ring-2 ring-blue-500 shadow-md border-blue-300":"hover:shadow-sm"} ${_.isPopular?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,onClick:()=>C(_),children:[i.jsx("div",{className:"bg-gray-800 px-2.5 sm:px-3 py-2 h-auto min-h-[42px] flex items-center",children:i.jsxs("div",{className:"flex items-center justify-between w-full gap-1.5",children:[i.jsxs("div",{className:"flex items-center space-x-1.5 flex-1 min-w-0",children:[i.jsx("div",{className:"flex-shrink-0",children:T(_)}),i.jsxs("h3",{className:"text-[11px] sm:text-xs font-semibold text-white flex items-center gap-1 truncate",children:[_.name,R(_)]})]}),i.jsxs("div",{className:"text-right flex-shrink-0 ml-1.5",children:[i.jsxs("div",{className:"text-xs sm:text-sm font-bold text-white",children:["",_.price]}),_.price>0&&i.jsx("div",{className:"text-[9px] text-gray-300",children:"per enquiry"})]})]})}),i.jsxs(Ve,{className:"p-2.5 sm:p-3",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[i.jsx("input",{type:"radio",name:"paymentPlan",checked:l===_.id,onChange:()=>C(_),className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-blue-600 focus:ring-blue-500 border-gray-300 flex-shrink-0"}),i.jsx("div",{className:"min-w-0 flex-1",children:i.jsx("p",{className:"text-[9px] sm:text-[10px] text-gray-600 truncate",children:_.description})})]}),i.jsx("div",{className:"hidden lg:flex flex-1 justify-center max-w-md",children:i.jsxs("div",{className:"space-y-0.5",children:[_.features.slice(0,2).map((I,M)=>i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Gs,{className:"h-2 w-2 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-[9px] sm:text-[10px] text-gray-700 truncate",children:I})]},M)),_.features.length>2&&i.jsxs("div",{className:"text-[9px] sm:text-[10px] text-gray-500 ml-3",children:["+",_.features.length-2," more"]})]})}),i.jsx("div",{className:"flex items-center justify-end",children:i.jsxs(G,{size:"sm",className:`h-6 sm:h-7 text-[9px] sm:text-[10px] ${l===_.id||_.isPopular?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-900"} px-2 sm:px-3`,onClick:I=>{I.stopPropagation(),C(_)},children:[i.jsx("span",{className:"hidden sm:inline",children:l===_.id?"Selected":"Select"}),i.jsx("span",{className:"sm:hidden",children:l===_.id?"":"Select"})]})})]}),i.jsx("div",{className:"sm:hidden mt-2 pt-2 border-t border-gray-200",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:_.features.map((I,M)=>i.jsxs("div",{className:"flex items-start space-x-1",children:[i.jsx(Gs,{className:"h-2 w-2 text-green-500 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-[9px] sm:text-[10px] text-gray-700 leading-tight",children:I})]},M))})})]})]},_.id))]}),l!==t&&i.jsx("div",{className:"mt-3 sm:mt-4 p-2.5 sm:p-3 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-blue-900",children:s?"Upgrade Confirmation":"Plan Selected"}),i.jsx("p",{className:"text-[9px] sm:text-[10px] text-blue-700",children:s?"You will be charged the difference for the upgrade":"Proceed to payment to activate this plan"})]}),i.jsx(G,{size:"sm",className:"h-6 sm:h-7 text-[9px] sm:text-[10px] bg-blue-600 hover:bg-blue-700 text-white px-2.5 sm:px-3 flex-shrink-0",onClick:()=>{const _=E.find(I=>I.id===l);_&&n(_.id,_.price)},children:s?"Upgrade Now":"Continue"})]})}),h&&i.jsx(S1e,{isOpen:u,onClose:()=>d(!1),selectedPlan:h,enquiryId:e,userId:r,onPaymentSuccess:P,isUpgrade:s,currentPlanPrice:A})]})},_a=({message:t="Loading...",className:e="",showBackButton:r=!0,onBack:n})=>{const s=Zr(),a=()=>{n?n():s(-1)};return i.jsxs("div",{className:`min-h-screen flex items-center justify-center bg-slate-50 px-4 py-8 relative ${e}`,children:[r&&i.jsx("button",{onClick:a,className:"absolute top-4 left-4 sm:top-6 sm:left-6 p-2 rounded-full bg-white border border-gray-300 shadow-md hover:shadow-lg hover:bg-gray-50 transition-all duration-200 z-10",title:"Go back",children:i.jsx(gn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-900"})}),i.jsx("div",{className:"text-center w-full max-w-2xl mx-auto flex flex-col items-center justify-center",children:i.jsxs("div",{className:"bg-white p-6 sm:p-10 rounded-2xl sm:rounded-3xl border border-gray-200 shadow-lg sm:shadow-xl flex flex-col items-center justify-center w-full mx-auto",children:[i.jsxs("svg",{viewBox:"0 0 500 280",className:"w-full h-[200px] sm:h-[250px] mx-auto mb-4 sm:mb-6",preserveAspectRatio:"xMidYMid meet",children:[i.jsxs("g",{id:"step1",transform:"translate(80, 80)",children:[i.jsxs("g",{children:[i.jsx("circle",{cx:"0",cy:"-25",r:"20",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-4; 0,0",dur:"2s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"-8",cy:"-32",r:"3",fill:"#1F2937"}),i.jsx("circle",{cx:"8",cy:"-32",r:"3",fill:"#1F2937"}),i.jsx("path",{d:"M-8,-18 Q0,-14 8,-18",stroke:"#1F2937",strokeWidth:"2",fill:"none"}),i.jsx("ellipse",{cx:"0",cy:"5",rx:"15",ry:"25",fill:"none",stroke:"#1F2937",strokeWidth:"2.5"})]}),i.jsxs("g",{transform:"translate(40, -10)",children:[i.jsx("rect",{x:"0",y:"0",width:"0",height:"35",rx:"4",fill:"#F9FAFB",stroke:"#1F2937",strokeWidth:"2",children:i.jsx("animate",{attributeName:"width",values:"0;50;50;50",dur:"4s",repeatCount:"indefinite",begin:"0s"})}),i.jsxs("line",{x1:"5",y1:"8",x2:"0",y2:"8",stroke:"#1F2937",strokeWidth:"1.5",opacity:"0",children:[i.jsx("animate",{attributeName:"x2",values:"0;40;40;40",dur:"4s",repeatCount:"indefinite",begin:"0.5s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"0.5s"})]}),i.jsxs("line",{x1:"5",y1:"18",x2:"0",y2:"18",stroke:"#1F2937",strokeWidth:"1.5",opacity:"0",children:[i.jsx("animate",{attributeName:"x2",values:"0;35;35;35",dur:"4s",repeatCount:"indefinite",begin:"0.8s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"0.8s"})]})]}),i.jsx("circle",{cx:"0",cy:"-25",r:"30",fill:"none",stroke:"#E5E7EB",strokeWidth:"2"}),i.jsxs("circle",{cx:"0",cy:"-25",r:"30",fill:"none",stroke:"#1F2937",strokeWidth:"2",strokeDasharray:"47 94",transform:"rotate(-90 0 -25)",opacity:"0",children:[i.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"-90 0 -25; 270 0 -25",dur:"1.5s",repeatCount:"indefinite",begin:"0s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"0s"})]})]}),i.jsxs("g",{transform:"translate(170, 125)",children:[i.jsxs("line",{x1:"0",y1:"0",x2:"70",y2:"0",stroke:"#1F2937",strokeWidth:"3",opacity:"0",children:[i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;70,0;0,0",dur:"1.5s",repeatCount:"indefinite",begin:"1.5s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"1.5s"})]}),i.jsx("polygon",{points:"75,0 62,-6 62,6",fill:"#1F2937",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"1.5s"})})]}),i.jsxs("g",{id:"step2",transform:"translate(260, 80)",children:[i.jsxs("rect",{x:"-30",y:"-30",width:"60",height:"60",rx:"8",fill:"none",stroke:"#1F2937",strokeWidth:"3",opacity:"0",children:[i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"0.8;1;1;1",dur:"4s",repeatCount:"indefinite",begin:"2s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"2s"})]}),i.jsx("rect",{x:"-22",y:"-22",width:"44",height:"44",fill:"#F9FAFB",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"2s"})}),i.jsxs("circle",{cx:"0",cy:"-10",r:"6",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.2s"}),i.jsx("animate",{attributeName:"r",values:"6;7;6",dur:"1s",repeatCount:"indefinite",begin:"2.2s"})]}),i.jsxs("circle",{cx:"-12",cy:"0",r:"5",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.4s"}),i.jsx("animate",{attributeName:"r",values:"5;6;5",dur:"1s",repeatCount:"indefinite",begin:"2.4s"})]}),i.jsxs("circle",{cx:"12",cy:"0",r:"5",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.6s"}),i.jsx("animate",{attributeName:"r",values:"5;6;5",dur:"1s",repeatCount:"indefinite",begin:"2.6s"})]}),i.jsxs("circle",{cx:"0",cy:"10",r:"6",fill:"#1F2937",opacity:"0",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.6;1;0.6;0",dur:"4s",repeatCount:"indefinite",begin:"2.8s"}),i.jsx("animate",{attributeName:"r",values:"6;7;6",dur:"1s",repeatCount:"indefinite",begin:"2.8s"})]}),i.jsx("line",{x1:"-12",y1:"0",x2:"0",y2:"-10",stroke:"#1F2937",strokeWidth:"2",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;0.5;0.5;0",dur:"4s",repeatCount:"indefinite",begin:"2.5s"})}),i.jsx("line",{x1:"12",y1:"0",x2:"0",y2:"-10",stroke:"#1F2937",strokeWidth:"2",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;0.5;0.5;0",dur:"4s",repeatCount:"indefinite",begin:"2.7s"})})]}),i.jsxs("g",{transform:"translate(330, 125)",children:[i.jsxs("line",{x1:"0",y1:"0",x2:"70",y2:"0",stroke:"#1F2937",strokeWidth:"3",opacity:"0",children:[i.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;70,0;0,0",dur:"1.5s",repeatCount:"indefinite",begin:"3.5s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"3.5s"})]}),i.jsx("polygon",{points:"75,0 62,-6 62,6",fill:"#1F2937",opacity:"0",children:i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"3.5s"})})]}),i.jsxs("g",{id:"step3",transform:"translate(420, 80)",children:[i.jsxs("g",{transform:"translate(-25, 0)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"18",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:[i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-8; 0,0",dur:"2s",repeatCount:"indefinite",begin:"4s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"4s"})]}),i.jsx("circle",{cx:"-6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("circle",{cx:"6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("path",{d:"M-8,8 Q0,5 8,8",stroke:"#1F2937",strokeWidth:"2",fill:"none"})]}),i.jsxs("g",{transform:"translate(0, 0)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"18",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:[i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-8; 0,0",dur:"2s",repeatCount:"indefinite",begin:"4.3s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"4.3s"})]}),i.jsx("circle",{cx:"-6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("circle",{cx:"6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("path",{d:"M-8,8 Q0,5 8,8",stroke:"#1F2937",strokeWidth:"2",fill:"none"})]}),i.jsxs("g",{transform:"translate(25, 0)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"18",fill:"none",stroke:"#1F2937",strokeWidth:"2.5",children:[i.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-8; 0,0",dur:"2s",repeatCount:"indefinite",begin:"4.6s"}),i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"4.6s"})]}),i.jsx("circle",{cx:"-6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("circle",{cx:"6",cy:"-6",r:"2.5",fill:"#1F2937"}),i.jsx("path",{d:"M-8,8 Q0,5 8,8",stroke:"#1F2937",strokeWidth:"2",fill:"none"})]})]}),i.jsxs("g",{transform:"translate(250, 180)",opacity:"0",children:[i.jsxs("circle",{cx:"0",cy:"0",r:"25",fill:"#1F2937",opacity:"0.8",children:[i.jsx("animate",{attributeName:"opacity",values:"0;0.8;0.8;0",dur:"4s",repeatCount:"indefinite",begin:"6.5s"}),i.jsx("animate",{attributeName:"r",values:"25;28;25",dur:"1.5s",repeatCount:"indefinite",begin:"6.5s"})]}),i.jsxs("path",{d:"M-10,-3 L-3,8 L10,-8",stroke:"white",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("animate",{attributeName:"opacity",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"6.5s"}),i.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"0;1;1;0",dur:"4s",repeatCount:"indefinite",begin:"6.5s"})]})]}),i.jsxs("g",{transform:"translate(100, 240)",children:[i.jsx("rect",{x:"0",y:"0",width:"300",height:"6",rx:"3",fill:"#E5E7EB"}),i.jsx("rect",{x:"0",y:"0",width:"0",height:"6",rx:"3",fill:"#1F2937",children:i.jsx("animate",{attributeName:"width",values:"0;75;150;225;300;300",dur:"8s",repeatCount:"indefinite"})})]})]}),i.jsxs("p",{className:"text-base sm:text-xl text-slate-700 font-semibold text-center tracking-tight",children:[t,i.jsx("span",{className:"inline-block animate-pulse",children:"..."})]})]})})]})},E1e=()=>{const{user:t,isProfileVerified:e}=Dr(),{canPostEnquiry:r,incrementEnquiries:n,getRemainingEnquiries:s,usageStats:a,purchasePremiumEnquiry:o}=vm(),l=g.useContext(Ea),c=(l==null?void 0:l.createNotification)||(async()=>{console.warn("NotificationContext not available")}),u=Zr(),[d,h]=g.useState([]),[f,m]=g.useState([]),[x,p]=g.useState({}),[v,w]=g.useState([]),[b,j]=g.useState(!1),[N,E]=g.useState(!0),[C,P]=g.useState(!1),[S,A]=g.useState(null),[T,R]=g.useState(!1),[_,I]=g.useState(null);g.useState({});const[M,z]=g.useState([]),[W,B]=g.useState(!1),[$,U]=g.useState(null),[Y,K]=g.useState("free");g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{(t==null?void 0:t.email)==="admin@example.com"&&P(!0)},[t]),g.useEffect(()=>{if(!(t!=null&&t.uid))return;(async()=>{try{const q=await Ft(Ce(oe,"userProfiles",t.uid));q.exists()&&A(q.data())}catch(q){console.error("Error fetching user profile:",q)}})()},[t==null?void 0:t.uid]),g.useEffect(()=>{if(!(t!=null&&t.uid))return;let L=null;return(async()=>{try{const ee=Ce(oe,"profiles",t.uid);L=Ur(ee,async te=>{var ce;try{const ge=te.exists()?((ce=te.data())==null?void 0:ce.savedEnquiries)||[]:[];if(ge.length===0){z([]);return}const pe=ge.map(async ue=>{try{const de=await Ft(Ce(oe,"enquiries",ue));return de.exists()?{id:de.id,...de.data()}:null}catch(de){return console.error(`Error fetching saved enquiry ${ue}:`,de),null}}),ie=(await Promise.all(pe)).filter(ue=>ue!==null);z(ie)}catch(ge){console.error("Error processing saved enquiries snapshot:",ge)}},te=>{var ce,ge;(ce=te==null?void 0:te.message)!=null&&ce.includes("CORS")||(ge=te==null?void 0:te.message)!=null&&ge.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in saved enquiries listener. Real-time updates may be limited."):console.error("Error listening to saved enquiries:",te)})}catch(ee){console.error("Error setting up saved enquiries listener:",ee)}})(),()=>{L&&L()}},[t==null?void 0:t.uid]);const X=async(L=!1)=>{if(!t){E(!1),j(!1);return}L&&R(!0),L||j(!1),console.log("Dashboard: Starting to fetch data for user:",t.uid);try{console.log("Dashboard: Fetching initial data with getDocs (simplified)");const q=await Bt(jt(Ze(oe,"enquiries"),At("userId","==",t.uid),fn("createdAt","desc"),$u(10)));let ee;try{ee=await Bt(jt(Ze(oe,"sellerSubmissions"),At("sellerId","==",t.uid),fn("createdAt","desc")))}catch(ue){console.error("Dashboard: Query with orderBy failed, trying without orderBy:",ue),ee=await Bt(jt(Ze(oe,"sellerSubmissions"),At("sellerId","==",t.uid)))}const te=[];q.forEach(ue=>{te.push({id:ue.id,...ue.data()})}),h(te);const ce=[];ee.forEach(ue=>{const de={id:ue.id,...ue.data()};de.userProfileVerified=e,ce.push(de)}),ce.sort((ue,de)=>{var It,it;const Te=(It=ue.createdAt)!=null&&It.toDate?ue.createdAt.toDate():new Date(ue.createdAt);return((it=de.createdAt)!=null&&it.toDate?de.createdAt.toDate():new Date(de.createdAt)).getTime()-Te.getTime()}),console.log("Dashboard:  Seller submissions loaded from fetchDashboardData:",ce.length),console.log("Dashboard: Setting seller submissions state NOW"),m(ce),w(ce),j(!0),console.log("Dashboard:  responsesSummary state updated with",ce.length,"items - responsesReady set to true");const ge=te.map(async ue=>{try{const de=jt(Ze(oe,"sellerSubmissions"),At("enquiryId","==",ue.id),fn("createdAt","desc"),$u(20)),Te=await Bt(de),Xe=[];return Te.forEach(It=>Xe.push({id:It.id,...It.data()})),{enquiryId:ue.id,responses:Xe}}catch{return{enquiryId:ue.id,responses:[]}}}),pe=await Promise.all(ge),ie={};pe.forEach(({enquiryId:ue,responses:de})=>{ie[ue]=de}),p(ie),console.log("Dashboard: All initial data loaded"),R(!1)}catch(q){console.error("Dashboard: Error fetching initial data:",q),R(!1),E(!1),j(!1),w([]),c("system",{title:"Failed to Load Dashboard Data",message:"There was an issue loading your data. Please try refreshing the page.",priority:"high",actionUrl:"/dashboard",actionText:"Refresh Page"})}},he=()=>{X(!0)};g.useEffect(()=>{if(!t)return;let L=null,q=null,ee=null;return(async()=>{E(!0),j(!1),w([]);try{await X(),console.log("Dashboard: setupDashboard complete, responsesReady should be true now")}catch(ie){console.error("Dashboard: Error in setupDashboard:",ie),E(!1),j(!1);return}const ce=jt(Ze(oe,"sellerSubmissions"),At("sellerId","==",t.uid),fn("createdAt","desc"));let ge=!0;q=Ur(ce,ie=>{const ue=[];if(ie.forEach(de=>{const Te={id:de.id,...de.data()};Te.userProfileVerified=e,ue.push(Te)}),ue.sort((de,Te)=>{var it,pt;const Xe=(it=de.createdAt)!=null&&it.toDate?de.createdAt.toDate():new Date(de.createdAt);return((pt=Te.createdAt)!=null&&pt.toDate?Te.createdAt.toDate():new Date(Te.createdAt)).getTime()-Xe.getTime()}),ge){ge=!1,console.log("Dashboard: Skipping initial snapshot, data already loaded");return}console.log("Dashboard: Seller submissions updated (realtime):",ue.length),m(ue),w(ue),j(!0)},ie=>{var ue,de;(ue=ie==null?void 0:ie.message)!=null&&ue.includes("CORS")||(de=ie==null?void 0:ie.message)!=null&&de.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in seller submissions listener. Real-time updates may be limited."):console.error("Error in seller submissions listener:",ie)}),E(!1);const pe=jt(Ze(oe,"enquiries"),At("userId","==",t.uid),fn("createdAt","desc"),$u(10));L=Ur(pe,ie=>{const ue=[];ie.forEach(Te=>{const Xe=Te.data();Xe.deadline&&(Xe.deadline.toDate?Xe.deadline.toDate():new Date(Xe.deadline)),Xe.status!=="pending_payment"&&ue.push({id:Te.id,...Xe})}),ue.sort((Te,Xe)=>{var pt,at;const It=(pt=Te.createdAt)!=null&&pt.toDate?Te.createdAt.toDate():new Date(Te.createdAt);return((at=Xe.createdAt)!=null&&at.toDate?Xe.createdAt.toDate():new Date(Xe.createdAt)).getTime()-It.getTime()}),h(ue),(async()=>{if(ue.length===0){p({});return}const Te={},Xe=ue;if(Xe.length===0){p({});return}const It=Xe.map(async pt=>{try{const at=jt(Ze(oe,"sellerSubmissions"),At("enquiryId","==",pt.id)),Rt=await Bt(at),_r=[];return Rt.forEach(Xt=>{_r.push({id:Xt.id,...Xt.data()})}),{enquiryId:pt.id,responses:_r}}catch(at){return console.error("Error fetching responses for enquiry:",pt.id,at),{enquiryId:pt.id,responses:[]}}});(await Promise.all(It)).forEach(({enquiryId:pt,responses:at})=>{Te[pt]=at}),p(Te)})()},ie=>{var ue,de;(ue=ie==null?void 0:ie.message)!=null&&ue.includes("CORS")||(de=ie==null?void 0:ie.message)!=null&&de.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in enquiries listener. Real-time updates may be limited."):console.error("Dashboard: Enquiry listener error:",ie)});try{const ie=jt(Ze(oe,"chats"),At("participants","array-contains",t.uid));ee=Ur(ie,ue=>{try{ue.docChanges().forEach(de=>{try{if(de.type==="modified"){const Te=de.doc.data();if(!Te||!Te.lastMessage||!Te.enquiryId)return;const Xe=Te.lastMessage;Xe&&Xe.senderId!==t.uid&&Te.enquiryId&&c("new_chat",{title:" New Message",message:`${Xe.senderName||"Someone"}: ${(Xe.text||"").substring(0,50)}${(Xe.text||"").length>50?"...":""}`,priority:"medium",actionUrl:`/enquiry/${Te.enquiryId}/responses`,actionText:"Open Chat"})}}catch(Te){console.error("Error processing chat change:",Te)}})}catch(de){console.error("Error processing chat snapshot:",de)}},ue=>{var de,Te;(de=ue==null?void 0:ue.message)!=null&&de.includes("CORS")||(Te=ue==null?void 0:ue.message)!=null&&Te.includes("Access-Control-Allow-Origin")?console.warn("Firestore CORS error in chat listener. Real-time updates may be limited."):console.error("Firestore chat listener error:",ue)})}catch(ie){console.error("Error setting up chat listener:",ie)}})().catch(ce=>{console.error("Dashboard setup error:",ce),E(!1)}),()=>{L&&L(),q&&q(),ee&&ee()}},[t,c,e]),g.useEffect(()=>{let L;const q=()=>{!document.hidden&&t&&(L&&window.clearTimeout(L),L=window.setTimeout(()=>{console.log("Dashboard: Page became visible (debounced), refreshing data"),X(!0)},500))},ee=ge=>{(ge.key===null||ge.key.startsWith("pal"))&&(console.log("Dashboard: Storage cleared, refreshing data"),X(!0))},te=()=>{console.log("Dashboard: Data cleared event received, refreshing data"),X(!0)};document.addEventListener("visibilitychange",q),window.addEventListener("storage",ee),window.addEventListener("palDataCleared",te);const ce=setInterval(()=>{t&&!document.hidden&&(console.log("Dashboard: Periodic refresh"),X(!0))},3e4);return()=>{document.removeEventListener("visibilitychange",q),window.removeEventListener("storage",ee),window.removeEventListener("palDataCleared",te),clearInterval(ce),L&&window.clearTimeout(L)}},[t]);const D=async L=>{try{await dc(Ce(oe,"enquiries",L)),h(q=>q.filter(ee=>ee.id!==L)),p(q=>{const ee={...q};return delete ee[L],ee}),le({title:"Enquiry Deleted",description:"Your enquiry has been successfully deleted.",variant:"default"})}catch(q){console.error("Error deleting enquiry:",q),le({title:"Error",description:"Failed to delete enquiry. Please try again.",variant:"destructive"})}},H=async(L,q)=>{if(!(!$||!t))try{I($.id);const ee=`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,te=cs.find(ge=>ge.id===L);if(!te)throw new Error("Plan not found");const ce=await Sj($.id,t.uid,te,ee);await Ej(t.uid,L,ce,$.id),await ot(Ce(oe,"enquiries",$.id),{selectedPlanId:L,selectedPlanPrice:q,isPremium:q>0,updatedAt:Fe()}),h(ge=>ge.map(pe=>pe.id===$.id?{...pe,selectedPlanId:L,selectedPlanPrice:q,isPremium:q>0}:pe)),B(!1),U(null),I(null),le({title:"Payment Successful! ",description:`Your enquiry has been upgraded to ${te.name} plan.`,variant:"default"})}catch(ee){console.error("Error upgrading enquiry:",ee),I(null),le({title:"Payment Failed",description:"There was an error processing your payment. Please try again.",variant:"destructive"})}},se=(L,q)=>{q.stopPropagation(),U(L),K(L.selectedPlanId||"free"),B(!0)},Q=L=>{const q=x[L]||[],ee=d.find(ie=>ie.id===L);if(!ee)return q;const te=ee.selectedPlanId||"free";console.log(" Dashboard getVisibleResponses DEBUG:",{enquiryId:L,totalResponses:q.length,selectedPlanId:te,isPremiumUser:a.premiumSubscription,isPremiumEnquiry:ee.isPremium,userEmail:t==null?void 0:t.email,enquiryTitle:ee.title,enquiryBudget:ee.budget});let ce=2;switch(te){case"free":ce=2;break;case"basic":ce=5;break;case"standard":ce=10;break;case"premium":case"pro":ce=-1;break;default:ce=2}if(ce===-1)return console.log(" Showing all responses (unlimited plan)"),q;const ge=q.slice(0,ce),pe=Math.max(0,q.length-ce);return console.log(" PLAN LIMIT RESULT:",{plan:te,limit:ce,visible:ge.length,locked:pe,total:q.length,status:pe>0?"LIMITED":"ALL_VISIBLE"}),ge},Ne=L=>{const q=x[L]||[],ee=d.find(pe=>pe.id===L);if(!ee)return[];const te=ee.selectedPlanId||"free";let ce=2;switch(te){case"free":ce=2;break;case"basic":ce=5;break;case"standard":ce=10;break;case"premium":case"pro":ce=-1;break;default:ce=2}if(ce===-1)return console.log("No locked responses (unlimited plan)"),[];const ge=q.slice(ce);return console.log(`Locked responses for ${te} plan:`,ge.length),ge},J=L=>{const q=x[L]||[],ee=Q(L);return Math.max(0,q.length-ee.length)},me=()=>{console.log(" TESTING PREMIUM PLAN LIMITS:"),console.log("================================"),d.forEach(L=>{const q=x[L.id]||[],ee=Q(L.id),te=Ne(L.id);console.log(`
 Enquiry: "${L.title}"`),console.log(`   Plan: ${L.selectedPlanId||"free"}`),console.log(`   Total Responses: ${q.length}`),console.log(`   Visible: ${ee.length}`),console.log(`   Locked: ${te.length}`),console.log(`   Status: ${te.length>0?"LIMITED":"ALL_VISIBLE"}`)}),console.log(`
 Test completed! Check the results above.`)};return window.testPremiumPlanLimits=me,N?i.jsx(_a,{message:"Loading your dashboard"}):i.jsx(Nt,{children:i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-6 pt-0 sm:pt-2 pb-2 sm:pb-8",children:[i.jsx("div",{className:"mb-1 sm:mb-2 relative z-50 -mt-2 sm:-mt-4",children:i.jsx(G,{variant:"ghost",type:"button",onClick:L=>{L.preventDefault(),L.stopPropagation(),u("/")},className:"p-2 sm:p-2 hover:bg-slate-100 rounded-xl transition-colors relative z-50",children:i.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5"})})}),i.jsxs("div",{className:"text-center mb-4 sm:mb-16 px-2 -mt-2 sm:-mt-6",children:[i.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 mb-1.5 sm:mb-3",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 sm:w-20 sm:h-20 bg-gray-800 rounded-lg sm:rounded-2xl shadow-lg sm:shadow-xl",children:i.jsx(zC,{className:"h-4 w-4 sm:h-10 sm:w-10 text-white"})}),i.jsx(G,{onClick:he,disabled:T,variant:"outline",size:"sm",className:"h-7 w-7 sm:h-12 sm:w-12 rounded-full shadow-lg sm:shadow-xl hover:shadow-2xl transition-all duration-200 hover:scale-105",title:"Refresh Dashboard Data",children:i.jsx(Tb,{className:`h-3 w-3 sm:h-5 sm:w-5 ${T?"animate-spin":""}`})})]}),i.jsx("h1",{className:"mb-0.5 sm:mb-2",children:i.jsx(s_,{name:(S==null?void 0:S.fullName)||"User",isVerified:(S==null?void 0:S.isProfileVerified)||!1,className:"text-2xl sm:text-7xl font-bold text-slate-900 inline-flex items-center gap-1.5 justify-center"})}),i.jsx("p",{className:"text-xs sm:text-base text-slate-600 max-w-3xl mx-auto leading-relaxed px-2 text-center",children:"Use AI to search for you"})]}),i.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-2 gap-2 sm:gap-6 mb-3 sm:mb-20",children:[i.jsx(be,{className:"border shadow-sm bg-white rounded-lg",onClick:L=>L.stopPropagation(),children:i.jsxs(Ve,{className:"p-2 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-3",children:[i.jsx("div",{className:"w-5 h-5 sm:w-8 sm:h-8 bg-blue-600 rounded-md flex items-center justify-center",children:i.jsx(pr,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-white"})}),i.jsx(lue,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-blue-600 opacity-60"})]}),i.jsx("h3",{className:"text-base sm:text-2xl font-bold text-slate-900 mb-0.5 sm:mb-2",children:d.length}),i.jsx("p",{className:"text-slate-600 font-semibold text-[10px] sm:text-xs",children:"Total Enquiries"}),i.jsxs("div",{className:"mt-0.5 sm:mt-3 flex items-center text-[9px] sm:text-xs text-slate-500",children:[i.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"All your enquiries and needs"}),i.jsx("span",{className:"sm:hidden",children:"All enquiries"})]})]})}),i.jsx(be,{className:"border shadow-sm bg-white rounded-lg",onClick:L=>L.stopPropagation(),children:i.jsxs(Ve,{className:"p-2 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-3",children:[i.jsx("div",{className:"w-5 h-5 sm:w-8 sm:h-8 bg-emerald-600 rounded-md flex items-center justify-center",children:i.jsx(vr,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-white"})}),i.jsx(Gg,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-emerald-600 opacity-60"})]}),i.jsx("h3",{className:"text-base sm:text-2xl font-bold text-slate-900 mb-0.5 sm:mb-2",children:d.filter(L=>L.status==="live").length}),i.jsx("p",{className:"text-slate-600 font-semibold text-[10px] sm:text-xs",children:"Active Enquiries"}),i.jsxs("div",{className:"mt-0.5 sm:mt-3 flex items-center text-[9px] sm:text-xs text-slate-500",children:[i.jsx("span",{className:"w-1 h-1 bg-emerald-500 rounded-full mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Active enquiries getting responses"}),i.jsx("span",{className:"sm:hidden",children:"Getting responses"})]})]})}),i.jsx(be,{className:"border shadow-sm bg-white rounded-lg",onClick:L=>L.stopPropagation(),children:i.jsxs(Ve,{className:"p-2 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-3",children:[i.jsx("div",{className:"w-5 h-5 sm:w-8 sm:h-8 bg-orange-600 rounded-md flex items-center justify-center",children:i.jsx(Fu,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-white"})}),i.jsx(Fu,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 text-orange-600 opacity-60"})]}),i.jsx("h3",{className:"text-base sm:text-2xl font-bold text-slate-900 mb-0.5 sm:mb-2",children:M.length}),i.jsx("p",{className:"text-slate-600 font-semibold text-[10px] sm:text-xs",children:"Saved Enquiries"}),i.jsxs("div",{className:"mt-0.5 sm:mt-3 flex items-center text-[9px] sm:text-xs text-slate-500",children:[i.jsx("span",{className:"w-1 h-1 bg-orange-500 rounded-full mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Your bookmarked favourites"}),i.jsx("span",{className:"sm:hidden",children:"Bookmarked"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-6 lg:gap-8 mb-0",children:[i.jsxs(be,{className:"group cursor-pointer border-2 border-blue-200 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden bg-white hover:bg-gradient-to-br hover:from-blue-50 hover:to-blue-100 rounded-2xl relative",onClick:L=>{L.stopPropagation(),u("/my-enquiries")},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),i.jsxs(vt,{className:"p-3 sm:p-8 pb-2 sm:pb-6 relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-8",children:[i.jsx("div",{className:"w-10 h-10 sm:w-20 sm:h-20 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl sm:rounded-3xl flex items-center justify-center shadow-lg sm:shadow-xl group-hover:scale-110 transition-transform duration-300",children:i.jsx(pr,{className:"h-5 w-5 sm:h-10 sm:w-10 text-white"})}),i.jsx("div",{className:"text-right",children:i.jsxs(Pe,{className:"bg-blue-100 text-blue-800 text-xs sm:text-sm font-semibold px-2 sm:px-4 py-1 sm:py-2 rounded-full",children:[d.length," Total"]})})]}),i.jsxs("div",{className:"text-left lg:text-center",children:[i.jsx("h2",{className:"text-sm sm:text-2xl md:text-3xl lg:text-4xl font-bold text-slate-900 mb-1 sm:mb-4 whitespace-nowrap",children:"Your Enquiries"}),i.jsx("p",{className:"text-slate-600 text-xs sm:text-lg leading-relaxed",children:"Track all your simple needs to mighty requirements"})]})]}),i.jsxs(Ve,{className:"p-3 sm:p-6 lg:p-8 pt-0 relative z-10",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-1 sm:gap-4 mb-3 sm:mb-8",children:[i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-emerald-50 rounded-lg sm:rounded-2xl border border-emerald-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-emerald-600 mb-0.5 sm:mb-2",children:d.filter(L=>L.status==="live").length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-emerald-700 font-semibold",children:"Live"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-amber-50 rounded-lg sm:rounded-2xl border border-amber-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-amber-600 mb-0.5 sm:mb-2",children:d.filter(L=>L.status==="pending").length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-amber-700 font-semibold",children:"Pending"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-slate-50 rounded-lg sm:rounded-2xl border border-slate-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-slate-600 mb-0.5 sm:mb-2",children:d.filter(L=>L.status==="completed").length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-slate-700 font-semibold",children:"Completed"})]})]}),i.jsxs("div",{className:"mb-3 sm:mb-8",children:[i.jsx("h4",{className:"text-xs sm:text-xl font-semibold text-slate-800 mb-1 sm:mb-4",children:"Your Enquiries"}),d.length===0?i.jsx("p",{className:"text-slate-500 text-center py-3 text-xs sm:text-sm",children:"No enquiries yet"}):i.jsx("div",{className:"space-y-2 sm:space-y-3",children:(()=>{const L=new Date,q=ue=>ue.deadline?(ue.deadline.toDate?ue.deadline.toDate():new Date(ue.deadline))<L:!1,ee=ue=>ue!=null&&ue.toDate?ue.toDate():new Date(ue),te=d.filter(ue=>!q(ue)).sort((ue,de)=>ee(de.createdAt).getTime()-ee(ue.createdAt).getTime()),ce=d.filter(ue=>q(ue)).sort((ue,de)=>ee(de.createdAt).getTime()-ee(ue.createdAt).getTime()),ge=te.slice(0,3),pe=ce.slice(0,3-ge.length);return[...ge,...pe].map(ue=>{const de=x[ue.id]||[];Q(ue.id),Ne(ue.id);const Te=J(ue.id),Xe=q(ue),it=(()=>{if(ue.selectedPlanId)switch(ue.selectedPlanId){case"free":return{name:"Free Plan",price:"0"};case"basic":return{name:"Basic Plan",price:"99"};case"standard":return{name:"Standard Plan",price:"199"};case"premium":return{name:"Premium Plan",price:"499"};case"pro":return{name:"Pro Plan",price:"1,499"};default:return{name:"Paid Plan",price:"0"}}else return ue.isPremium?{name:"Premium Plan",price:"0"}:{name:"Free Plan",price:"0"}})();return i.jsxs("div",{className:`rounded-2xl sm:rounded-3xl shadow-sm transition-all duration-200 overflow-hidden ${Xe?"opacity-70 grayscale pointer-events-none bg-gray-100 border-2 border-gray-300":"bg-white border-2 border-blue-200 hover:shadow-md cursor-pointer"}`,onClick:()=>!Xe&&u(`/my-enquiries?highlight=${ue.id}`),children:[i.jsxs("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h5",{className:`text-xs sm:text-lg font-semibold truncate ${Xe?"text-gray-300":"text-white"}`,children:ue.title}),i.jsx(Pe,{className:`text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 ${ue.selectedPlanId==="free"||!ue.selectedPlanId&&!ue.isPremium?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-800"}`,children:it.name})]}),Xe&&i.jsx("div",{className:"mt-1 text-[10px] sm:text-xs text-red-300",children:"Expired"})]}),i.jsxs("div",{className:"p-2 sm:p-4",children:[i.jsxs("div",{className:"mb-1 sm:mb-2",children:[i.jsxs("span",{className:"text-xs sm:text-base font-medium text-green-600",children:[de.length," responses"]}),Te>0&&i.jsxs("span",{className:"text-[10px] sm:text-xs text-slate-500 ml-1 sm:ml-2",children:["(",Te," locked)"]})]}),i.jsx("div",{className:"mb-2 sm:mb-3",children:i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-[10px] sm:text-sm text-slate-600",children:[i.jsx(yn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500"}),i.jsxs("span",{children:[it.name," (",it.price,")"]}),ue.selectedPlanPrice&&ue.selectedPlanPrice>0&&i.jsxs("span",{className:"font-semibold text-blue-600",children:["- ",ue.selectedPlanPrice]})]})}),ue.deadline&&i.jsx("div",{className:"mb-2 sm:mb-3",children:i.jsx(Nf,{deadline:ue.deadline.toDate?ue.deadline.toDate():new Date(ue.deadline),className:"justify-start"})}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap",children:[i.jsx(G,{variant:"outline",size:"sm",onClick:pt=>{pt.stopPropagation(),u(`/enquiry/${ue.id}/responses`)},disabled:de.length===0,className:"text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9",children:"View Responses"}),!ue.isPremium&&i.jsx(G,{variant:"default",size:"sm",onClick:pt=>se(ue,pt),className:"text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9 bg-blue-600 hover:bg-blue-700 text-white",children:"Upgrade"}),ue.isPremium&&i.jsx(Pe,{className:"bg-blue-100 text-blue-800 text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 sm:py-1",children:"Premium"}),i.jsx(G,{variant:"destructive",size:"sm",onClick:pt=>{pt.stopPropagation(),window.confirm(`Are you sure you want to delete the enquiry "${ue.title}"? This action cannot be undone.`)&&D(ue.id)},className:"text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9",children:"Delete"})]})]})]},ue.id)})})()})]}),d.length>3&&i.jsx("div",{className:"flex justify-center mt-1 sm:mt-4",children:i.jsx(G,{variant:"outline",onClick:L=>{L.stopPropagation(),u("/my-enquiries")},className:"h-5 sm:h-9 text-[9px] sm:text-sm px-2 sm:px-4",children:"Show More"})})]})]}),i.jsxs(be,{className:"group cursor-pointer border-2 border-blue-200 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden bg-white hover:bg-gradient-to-br hover:from-gray-50 hover:to-gray-100 rounded-2xl relative",onClick:L=>{L.stopPropagation(),u("/my-responses")},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-800/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),i.jsxs(vt,{className:"p-3 sm:p-8 pb-2 sm:pb-6 relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-8",children:[i.jsx("div",{className:"w-10 h-10 sm:w-20 sm:h-20 bg-gradient-to-br from-gray-700 to-gray-800 rounded-xl sm:rounded-3xl flex items-center justify-center shadow-lg sm:shadow-xl group-hover:scale-110 transition-transform duration-300",children:i.jsx(_h,{className:"h-5 w-5 sm:h-10 sm:w-10 text-white"})}),i.jsx("div",{className:"text-right",children:i.jsx(Pe,{className:"bg-gray-100 text-gray-800 text-xs sm:text-sm font-semibold px-2 sm:px-4 py-1 sm:py-2 rounded-full",children:b?`${v.length} Total`:"Loading..."})})]}),i.jsxs("div",{className:"text-left lg:text-center",children:[i.jsx("h2",{className:"text-sm sm:text-2xl md:text-3xl lg:text-4xl font-bold text-slate-900 mb-1 sm:mb-4 whitespace-nowrap",children:"Your Responses"}),i.jsx("p",{className:"text-xs sm:text-lg text-slate-600 leading-relaxed",children:"Track your seller submissions and their status"})]})]}),i.jsxs(Ve,{className:"p-3 sm:p-6 lg:p-8 pt-0 relative z-10",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-1 sm:gap-4 mb-3 sm:mb-8",children:[i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-emerald-50 rounded-lg sm:rounded-2xl border border-emerald-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-emerald-600 mb-0.5 sm:mb-2",children:b?v.filter(L=>L.status==="approved").length:""}),i.jsx("div",{className:"text-[10px] sm:text-sm text-emerald-700 font-semibold",children:"Approved"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-amber-50 rounded-lg sm:rounded-2xl border border-amber-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-amber-600 mb-0.5 sm:mb-2",children:b?v.filter(L=>L.status==="pending").length:""}),i.jsx("div",{className:"text-[10px] sm:text-sm text-amber-700 font-semibold",children:"Reviewing"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-red-50 rounded-lg sm:rounded-2xl border border-red-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-red-600 mb-0.5 sm:mb-2",children:b?v.filter(L=>L.status==="rejected").length:""}),i.jsx("div",{className:"text-[10px] sm:text-sm text-red-700 font-semibold",children:"Rejected"})]})]}),i.jsxs("div",{className:"mb-3 sm:mb-8",children:[i.jsx("h4",{className:"text-xs sm:text-xl font-semibold text-slate-800 mb-1 sm:mb-4",children:"Your Submissions"}),b?v.length===0?i.jsx("div",{className:"text-slate-500 text-center py-3 text-xs sm:text-sm",children:i.jsx("p",{children:"No submissions yet"})}):i.jsx("div",{className:"space-y-2 sm:space-y-3",children:v.slice(0,3).map(L=>{var q,ee;return i.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl border-2 border-blue-200 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h5",{className:"text-xs sm:text-lg font-semibold text-white truncate",children:L.title}),i.jsx(Pe,{className:`text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 ${L.status==="approved"?"bg-green-100 text-green-700":L.status==="pending"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:L.status.charAt(0).toUpperCase()+L.status.slice(1)})]})}),i.jsxs("div",{className:"p-2 sm:p-4",children:[i.jsxs("div",{className:"mb-1 sm:mb-2",children:[i.jsx("span",{className:"text-xs sm:text-base font-medium text-blue-600",children:L.status==="approved"?"Live Response":"Under Review"}),L.status==="approved"&&i.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500 ml-1 sm:ml-2",children:"(Ready for chat)"})]}),i.jsx("div",{className:"mb-2 sm:mb-3",children:i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-[10px] sm:text-sm text-slate-600",children:[i.jsx("span",{className:"font-medium",children:"Experience:"}),i.jsx("span",{children:((q=L.message)==null?void 0:q.split(" ").slice(0,3).join(" "))||"Professional service"})]})}),i.jsx("div",{className:"mb-2 sm:mb-3",children:i.jsxs("div",{className:"text-[10px] sm:text-sm text-slate-500",children:["Submitted: ",(ee=L.createdAt)!=null&&ee.toDate?L.createdAt.toDate().toLocaleString():"N/A"]})}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap",children:[L.status==="approved"&&i.jsx(G,{size:"sm",variant:"outline",onClick:te=>{te.stopPropagation(),u(`/enquiry/${L.enquiryId}/responses?sellerId=${L.sellerId}`)},className:"text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9",children:"Chat"}),i.jsx(G,{variant:"outline",size:"sm",onClick:te=>{te.stopPropagation(),u("/my-responses")},className:"text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9",children:"View Details"})]})]})]},L.id)})}):i.jsx("div",{className:"text-slate-500 text-center py-3 text-xs sm:text-sm",children:i.jsx("p",{children:"Loading your submissions..."})})]}),v.length>3&&i.jsx("div",{className:"flex justify-center mt-1 sm:mt-4",children:i.jsx(G,{variant:"outline",onClick:L=>{L.stopPropagation(),u("/my-responses")},className:"h-5 sm:h-9 text-[9px] sm:text-sm px-2 sm:px-4",children:"Show More"})})]})]})]}),i.jsxs(be,{className:"group cursor-pointer border-2 border-blue-200 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden bg-white hover:bg-gradient-to-br hover:from-orange-50 hover:to-orange-100 rounded-2xl mt-8 sm:mt-6 lg:mt-8",onClick:L=>L.stopPropagation(),onTouchStart:L=>L.stopPropagation(),style:{position:"relative",zIndex:10},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs(vt,{className:"p-3 sm:p-8 pb-2 sm:pb-6 relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-8",children:[i.jsx("div",{className:"w-10 h-10 sm:w-20 sm:h-20 bg-gradient-to-br from-orange-600 to-orange-700 rounded-xl sm:rounded-3xl flex items-center justify-center shadow-lg sm:shadow-xl group-hover:scale-110 transition-transform duration-300",children:i.jsx(Fu,{className:"h-5 w-5 sm:h-10 sm:w-10 text-white"})}),i.jsx("div",{className:"text-right",children:i.jsxs(Pe,{className:"bg-orange-100 text-orange-800 text-xs sm:text-sm font-semibold px-2 sm:px-4 py-1 sm:py-2 rounded-full",children:[M.length," Total"]})})]}),i.jsxs("div",{className:"text-left lg:text-center",children:[i.jsx("h2",{className:"text-sm sm:text-2xl md:text-3xl lg:text-4xl font-bold text-slate-900 mb-1 sm:mb-4 whitespace-nowrap",children:"Your Saved Favorites"}),i.jsx("p",{className:"text-xs sm:text-lg text-slate-600 leading-relaxed",children:"Quickly access your bookmarked enquiries anytime"})]})]}),i.jsxs(Ve,{className:"p-3 sm:p-6 lg:p-8 pt-0 relative z-10",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-1 sm:gap-4 mb-3 sm:mb-8",children:[i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-orange-50 rounded-lg sm:rounded-2xl border border-orange-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-orange-600 mb-0.5 sm:mb-2",children:M.length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-orange-700 font-semibold",children:"Total"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-blue-50 rounded-lg sm:rounded-2xl border border-blue-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-blue-600 mb-0.5 sm:mb-2",children:M.filter(L=>L.status==="live").length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-blue-700 font-semibold",children:"Live"})]}),i.jsxs("div",{className:"text-center p-1 sm:p-5 bg-purple-50 rounded-lg sm:rounded-2xl border border-purple-200",children:[i.jsx("div",{className:"text-xs sm:text-2xl lg:text-3xl font-bold text-purple-600 mb-0.5 sm:mb-2",children:M.filter(L=>L.status==="completed").length}),i.jsx("div",{className:"text-[10px] sm:text-sm text-purple-700 font-semibold",children:"Completed"})]})]}),i.jsxs("div",{className:"mb-3 sm:mb-8",children:[i.jsx("h4",{className:"text-xs sm:text-xl font-semibold text-slate-800 mb-1 sm:mb-4",children:"Your Saved Enquiries"}),M.length===0?i.jsx("p",{className:"text-slate-500 text-center py-3 text-xs sm:text-sm",children:"No saved enquiries yet"}):i.jsx("div",{className:"space-y-2 sm:space-y-3",children:M.slice(0,3).map(L=>{var q;return i.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl border-2 border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 p-2 sm:p-4",children:[i.jsx("div",{className:"flex items-start justify-between gap-2",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-xs sm:text-base font-semibold text-gray-900 mb-1 line-clamp-1",children:L.title}),i.jsx("p",{className:"text-[10px] sm:text-sm text-gray-600 mb-2 line-clamp-2",children:L.description}),i.jsxs("div",{className:"flex items-center gap-3 text-[10px] sm:text-sm text-gray-500",children:[i.jsx(Pe,{variant:"secondary",className:"text-[9px] sm:text-xs",children:L.category}),i.jsxs("span",{children:["",(q=L.budget)==null?void 0:q.toLocaleString("en-IN")]}),L.location&&i.jsxs("span",{children:[" ",L.location]})]})]})}),i.jsx(G,{variant:"outline",size:"sm",onClick:()=>u(`/enquiry/${L.id}`),className:"w-full mt-2 text-[10px] sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-6 sm:h-9",children:"View Details"})]},L.id)})})]}),M.length>3&&i.jsx("div",{className:"flex justify-center mt-1 sm:mt-4",onClick:L=>L.stopPropagation(),children:i.jsx(G,{variant:"outline",onClick:L=>{L.preventDefault(),L.stopPropagation(),console.log("Navigating to saved enquiries"),u("/saved-enquiries")},className:"h-5 sm:h-9 text-[9px] sm:text-sm px-2 sm:px-4",children:"Show More"})})]})]}),i.jsx(be,{className:"border-2 border-blue-200 shadow-xl bg-gradient-to-r from-slate-50 to-white overflow-hidden rounded-2xl mt-4 sm:mt-6 lg:mt-8 mb-2 sm:mb-4",onClick:L=>L.stopPropagation(),children:i.jsxs(Ve,{className:"p-3 sm:p-12",children:[i.jsxs("div",{className:"text-center mb-2 sm:mb-10",children:[i.jsx("h3",{className:"text-base sm:text-2xl font-bold text-slate-900 mb-1 sm:mb-4",children:"Quick Actions"}),i.jsx("p",{className:"text-xs sm:text-lg text-slate-600 text-center",children:"Post your needs or help others with their requests"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6 items-center",children:[i.jsx(Je,{to:"/post-enquiry",className:"group flex-1 w-full",children:i.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-200 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[i.jsx(Yg,{className:"h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Post Your Need"})]})}),i.jsx(Je,{to:"/enquiries",className:"group flex-1 w-full",children:i.jsxs("button",{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-200 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[i.jsx(pr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Show All Enquiries"})]})})]})]})})]}),W&&$&&i.jsx(Nj,{open:W,onOpenChange:B,children:i.jsxs(Ey,{className:"max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs(Py,{children:[i.jsxs(_y,{className:"text-sm sm:text-base font-bold text-center mb-2 sm:mb-4 flex items-center justify-center gap-2",children:[i.jsx(yn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-500"}),'Upgrade Plan for "',$.title,'"']}),i.jsx(Ay,{className:"text-center text-[10px] sm:text-xs text-slate-600",children:"Choose a plan to unlock more responses and premium features for this enquiry"})]}),i.jsx("div",{className:"mt-6",children:i.jsx(Sf,{currentPlanId:Y,enquiryId:$.id,userId:(t==null?void 0:t.uid)||"",onPlanSelect:H,isUpgrade:!0,enquiryCreatedAt:$.createdAt,className:"max-w-5xl mx-auto"})})]})})]})})};class i_{static async analyzeSearchQuery(e){try{const r=e.toLowerCase().trim(),n=this.analyzeWithRules(r);return{category:n.category,confidence:n.confidence,reasoning:n.reasoning,alternativeCategories:n.alternatives}}catch(r){return console.error("AI Search Error:",r),{category:null,confidence:0,reasoning:"Error analyzing search query"}}}static analyzeWithRules(e){const r={"agriculture-farming":[/\b(agriculture|agricultural|farming|farm|farms|farmer|farmers|crop|crops|harvest|harvesting)\b/,/\b(livestock|cattle|cow|cows|sheep|goat|goats|pig|pigs|chicken|chickens|poultry)\b/,/\b(seed|seeds|fertilizer|fertilizers|pesticide|pesticides|irrigation|tractor|tractors)\b/,/\b(agricultural equipment|farming equipment|farm machinery|agricultural products)\b/,/\b(organic|organic farming|sustainable agriculture|agri|agribusiness|horticulture)\b/],antiques:[/\b(antique|antiques|vintage|collectible|collectibles|rare|historical|artifact|artifacts)\b/,/\b(old|ancient|classic|retro|heritage|traditional|period piece|estate|estate sale)\b/],art:[/\b(art|arts|artwork|painting|paintings|sculpture|sculptures|artist|artists|creative)\b/,/\b(drawing|drawings|sketch|sketches|canvas|gallery|galleries|exhibition|exhibitions)\b/,/\b(artistic|artistry|fine art|visual art|art supplies|art materials|artistic services)\b/],automobile:[/\b(car|cars|vehicle|vehicles|auto|automobile|bike|bikes|motorcycle|motorcycles|truck|trucks|scooter|scooters|bus|buses|van|vans|transport|transportation|driving|driver|ride|rides)\b/,/\b(engine|motor|brake|brakes|tire|tires|wheel|wheels|fuel|gas|petrol|diesel|oil|lubricant)\b/,/\b(garage|mechanic|repair|maintenance|service|parts|accessories|insurance|registration)\b/],"books-publications":[/\b(book|books|novel|novels|literature|reading|author|authors|publisher|publishers)\b/,/\b(textbook|textbooks|library|libraries|story|stories|fiction|non-fiction|biography)\b/,/\b(publication|publications|magazine|magazines|journal|journals|paper|papers)\b/],"childcare-family":[/\b(childcare|child care|babysitting|babysitter|nanny|nannies|daycare|day care)\b/,/\b(kids|children|toddler|toddlers|infant|infants|baby|babies|childcare services)\b/,/\b(family|families|parenting|parents|guardian|guardians|family services)\b/],collectibles:[/\b(collectible|collectibles|collection|collections|collector|collectors|rare|rarity)\b/,/\b(memorabilia|souvenir|souvenirs|keepsake|keepsakes|treasure|treasures)\b/],"construction-renovation":[/\b(construction|building|build|builds|contractor|contractors|renovation|renovations|repair|repairs)\b/,/\b(maintenance|maintain|plumbing|plumber|electrical|electrician|painting|painter|roofing|roofer)\b/,/\b(flooring|tiling|carpentry|carpenter|masonry|mason|welding|welder|installation|install)\b/,/\b(remodeling|remodel|renovate|restore|restoration|demolition|demolish|excavation|excavate)\b/],"education-training":[/\b(education|school|schools|college|colleges|university|universities|learning|learn|study|studies)\b/,/\b(teacher|teachers|tutor|tutors|tutoring|training|course|courses|class|classes|lesson|lessons)\b/,/\b(student|students|pupil|pupils|academic|academics|scholar|scholars|research|researcher)\b/],"electronics-gadgets":[/\b(phone|phones|mobile|smartphone|iphone|android|samsung|xiaomi|oneplus|huawei)\b/,/\b(laptop|laptops|computer|computers|pc|mac|macbook|desktop|monitor|monitors|keyboard|mouse)\b/,/\b(tablet|tablets|ipad|android tablet|surface|kindle|ereader)\b/,/\b(camera|cameras|dslr|mirrorless|gopro|action camera|video|recording)\b/,/\b(gadget|gadgets|tech|technology|electronic|electronics|device|devices|smart|iot)\b/],"entertainment-media":[/\b(entertainment|entertain|show|shows|performance|performances|concert|concerts)\b/,/\b(movie|movies|film|films|theater|theatre|comedy|drama|music|musical)\b/,/\b(media|broadcasting|broadcast|television|tv|radio|streaming|content)\b/],"events-entertainment":[/\b(event|events|party|parties|celebration|celebrations|function|functions|gathering|gatherings)\b/,/\b(conference|conferences|seminar|seminars|workshop|workshops|meeting|meetings)\b/,/\b(entertainment|entertainer|entertainers|dj|djs|performer|performers)\b/],"fashion-apparel":[/\b(fashion|style|trend|trends|apparel|clothing|clothes|outfit|outfits|wardrobe)\b/,/\b(designer|designers|boutique|boutiques|couture|haute couture|fashionable)\b/,/\b(dress|dresses|shirt|shirts|pants|trousers|jeans|jacket|jackets|coat|coats)\b/],"food-beverage":[/\b(food|meal|meals|eat|eating|restaurant|restaurants|cafe|cafes|coffee|tea|drink|drinks)\b/,/\b(cooking|chef|cook|kitchen|recipe|recipes|ingredients|spices|herbs|flavors)\b/,/\b(catering|caterer|party|parties|event|events|celebration|celebrations|wedding|birthday)\b/,/\b(beverage|beverages|beverage service|drink service|food service)\b/],"gaming-recreation":[/\b(gaming|game|games|gamer|gamers|console|consoles|playstation|xbox|nintendo)\b/,/\b(video game|video games|pc gaming|mobile gaming|esports|gaming equipment)\b/,/\b(recreation|recreational|leisure|hobby|hobbies|fun|entertainment)\b/],"government-public":[/\b(government|govt|public|official|authority|authorities|administrative|administration)\b/,/\b(civic|citizen|citizens|municipal|municipality|public service|public services)\b/],"health-beauty":[/\b(health|healthcare|medical|medicine|doctor|doctors|physician|physicians|nurse|nurses)\b/,/\b(hospital|hospitals|clinic|clinics|pharmacy|pharmacist|therapist|therapy|treatment|treatments)\b/,/\b(wellness|fitness|gym|gyms|exercise|training|coach|coaching|nutrition|diet|dietician)\b/,/\b(beauty|cosmetic|cosmetics|salon|salons|spa|spas|skincare|makeup|hair|nail)\b/],"home-furniture":[/\b(home|house|household|furniture|furnishings|decor|decoration|decorations|interior)\b/,/\b(appliance|appliances|home goods|household items|home improvement|home services)\b/,/\b(sofa|sofas|chair|chairs|table|tables|bed|beds|wardrobe|wardrobes|cabinet|cabinets)\b/],"insurance-services":[/\b(insurance|coverage|policy|policies|insure|insured|premium|premiums|claim|claims)\b/,/\b(life insurance|health insurance|car insurance|home insurance|business insurance)\b/],jobs:[/\b(job|jobs|work|employment|career|careers|position|positions|hiring|recruitment|recruit)\b/,/\b(employee|employees|staff|worker|workers|professional|professionals|expert|experts)\b/,/\b(manager|managers|director|directors|executive|executives|officer|officers|assistant|assistants)\b/],"jewelry-accessories":[/\b(jewelry|jewellery|necklace|necklaces|earrings|bracelet|bracelets|ring|rings|watch|watches)\b/,/\b(diamond|diamonds|gold|silver|platinum|gem|gems|gemstone|gemstones|precious)\b/,/\b(accessories|accessory|bag|bags|purse|purses|handbag|handbags|wallet|wallets|belt|belts)\b/],"legal-financial":[/\b(legal|law|lawyer|lawyers|attorney|attorneys|advocate|advocates|counsel|counselor)\b/,/\b(legal advice|legal consultation|legal services|litigation|court|courts|justice)\b/,/\b(financial|finance|banking|bank|banks|accounting|accountant|accountants|tax|taxes)\b/],"marketing-advertising":[/\b(marketing|advertising|advertise|promotion|promotions|branding|brand|brands)\b/,/\b(publicity|public relations|pr|social media|digital marketing|marketing services)\b/],memorabilia:[/\b(memorabilia|souvenir|souvenirs|keepsake|keepsakes|memento|mementos|trophy|trophies)\b/,/\b(autograph|autographs|signed|signature|signatures|collectible|collectibles)\b/],"non-profit-charity":[/\b(non-profit|nonprofit|charity|charities|donation|donations|volunteer|volunteers)\b/,/\b(ngo|foundation|foundations|social service|social services|community service)\b/],pets:[/\b(pet|pets|dog|dogs|cat|cats|animal|animals|veterinary|vet|veterinarian|veterinarians)\b/,/\b(pet care|pet supplies|pet food|pet grooming|pet training|pet services)\b/],"professional-services":[/\b(service|services|professional service|professional services|service provider)\b/,/\b(consulting|consultant|consultants|advisory|advisor|advisors|professional)\b/],"raw-materials-industrial":[/\b(fuel|oil|crude|petroleum|diesel|gas|petrol|chemicals|chemical|steel|metal|metals)\b/,/\b(plastic|plastics|rubber|cement|concrete|lumber|timber|wood|materials|material)\b/,/\b(industrial|manufacturing|production|factory|factories|plant|plants|machinery|equipment)\b/],"real-estate":[/\b(house|houses|home|homes|property|properties|apartment|apartments|flat|flats|condo|condos)\b/,/\b(rent|rental|renting|lease|leasing|buy|buying|purchase|purchasing|sell|selling|sale|sales)\b/,/\b(land|plot|plots|villa|villas|mansion|mansions|townhouse|townhouses|studio|studios)\b/],"real-estate-services":[/\b(real estate service|real estate services|property management|property manager)\b/,/\b(real estate consultation|real estate advisory|property consulting)\b/],"renewable-energy":[/\b(renewable energy|solar|wind|hydro|geothermal|green energy|sustainable energy)\b/,/\b(solar panel|solar panels|wind turbine|wind turbines|clean energy|alternative energy)\b/],"security-safety":[/\b(security|secure|protection|safety|guard|guards|surveillance|monitoring)\b/,/\b(security system|security systems|alarm|alarms|cctv|security services|safety services)\b/],sneakers:[/\b(sneaker|sneakers|athletic shoes|sports shoes|footwear|running shoes|trainers)\b/,/\b(sports footwear|athletic footwear|sneaker collection|sneakerhead)\b/],souvenir:[/\b(souvenir|souvenirs|keepsake|keepsakes|memento|mementos|gift|gifts|remembrance)\b/],"sports-outdoor":[/\b(sport|sports|athletic|athletics|fitness|exercise|training|coach|coaching)\b/,/\b(sports equipment|athletic equipment|sports gear|sports goods|sports services)\b/,/\b(outdoor|outdoors|camping|hiking|adventure|recreation|recreational)\b/],technology:[/\b(technology|tech|it|information technology|software|hardware|digital|innovation)\b/,/\b(tech services|it services|technology services|tech solutions|tech products)\b/],thrift:[/\b(thrift|second-hand|secondhand|used|pre-owned|vintage|hand-me-down|resale)\b/,/\b(thrift store|thrift shop|consignment|bargain|discount|affordable)\b/],"transportation-logistics":[/\b(transportation|transport|shipping|logistics|delivery|freight|cargo|shipment)\b/,/\b(transport service|transport services|shipping service|logistics service)\b/],"travel-tourism":[/\b(travel|tourism|tour|tours|trip|trips|vacation|vacations|holiday|holidays)\b/,/\b(travel service|travel services|travel planning|travel agent|travel agency)\b/],vintage:[/\b(vintage|retro|classic|old|antique|antiques|collectible|collectibles|heritage)\b/,/\b(vintage items|retro products|classic items|vintage goods|vintage collectibles)\b/],"waste-management":[/\b(waste|garbage|trash|rubbish|refuse|disposal|dispose|recycling|recycle|recyclable)\b/,/\b(cleaning|clean|cleaner|cleaners|hygiene|sanitation|sanitary|environment|environmental)\b/,/\b(compost|composting|biodegradable|sustainable|sustainability|green|eco|ecological)\b/],"wedding-events":[/\b(wedding|weddings|marriage|marriages|bride|groom|ceremony|ceremonies|reception|receptions)\b/,/\b(engagement|bridal|groom|bridesmaid|groomsman|vows|nuptials|matrimony)\b/,/\b(event|events|party|parties|celebration|celebrations)\b/]};let n={category:null,confidence:0,reasoning:"",alternatives:[]};const s=[];for(const[a,o]of Object.entries(r)){let l=0,c=[];for(const u of o)u.test(e)&&(l+=.3,c.push(u.source));l>0&&s.push({category:a,confidence:Math.min(l,1),reasoning:`Matched patterns: ${c.join(", ")}`})}return s.sort((a,o)=>o.confidence-a.confidence),s.length>0?n={category:s[0].category,confidence:s[0].confidence,reasoning:s[0].reasoning,alternatives:s.slice(1,3).map(a=>a.category)}:n={category:null,confidence:0,reasoning:`No patterns matched for "${e}"`,alternatives:[]},n}static async searchEnquiries(e,r){const n=await this.analyzeSearchQuery(r);if(!n.category)return{results:e,searchedCategory:null,noResultsInCategory:!1,showAllFallback:!0,aiAnalysis:n};const s=e.filter(a=>a.category===n.category||a.categories&&a.categories.includes(n.category));return s.length===0?{results:e,searchedCategory:n.category,noResultsInCategory:!0,showAllFallback:!0,aiAnalysis:n}:{results:s,searchedCategory:n.category,noResultsInCategory:!1,showAllFallback:!1,aiAnalysis:n}}}Tn(i_,"CATEGORIES",["agriculture-farming","antiques","art","automobile","books-publications","childcare-family","collectibles","construction-renovation","education-training","electronics-gadgets","entertainment-media","events-entertainment","fashion-apparel","food-beverage","gaming-recreation","government-public","health-beauty","home-furniture","insurance-services","jobs","jewelry-accessories","legal-financial","marketing-advertising","memorabilia","non-profit-charity","pets","professional-services","raw-materials-industrial","real-estate","real-estate-services","renewable-energy","security-safety","sneakers","souvenir","sports-outdoor","technology","thrift","transportation-logistics","travel-tourism","vintage","waste-management","wedding-events","other"]),Tn(i_,"CATEGORY_DESCRIPTIONS",{"agriculture-farming":"Farming, crops, livestock, agricultural equipment, seeds, fertilizers, farming services, agricultural products",antiques:"Antique items, collectibles, vintage artifacts, historical items, rare collectibles",art:"Artwork, paintings, sculptures, artistic services, art supplies, creative works",automobile:"Cars, vehicles, bikes, motorcycles, trucks, transportation, automotive parts, vehicle services","books-publications":"Books, literature, reading materials, educational books, novels, textbooks, publications","childcare-family":"Childcare services, babysitting, nanny services, daycare, children activities, family services",collectibles:"Collectible items, rare items, memorabilia, special collections","construction-renovation":"Building, construction, renovation, repair, maintenance, plumbing, electrical, painting, roofing","education-training":"Schools, colleges, universities, tutoring, training, courses, teachers, learning, education services","electronics-gadgets":"Phones, laptops, computers, gadgets, tech devices, cameras, audio equipment, electronic components","entertainment-media":"Entertainment services, shows, performances, media, amusement, broadcasting","events-entertainment":"Events, parties, celebrations, functions, gatherings, event planning, entertainment","fashion-apparel":"Clothing, fashion, accessories, shoes, bags, jewelry, personal style, apparel","food-beverage":"Food, meals, restaurants, cooking, catering services, kitchen equipment, culinary services, beverages","gaming-recreation":"Gaming equipment, video games, gaming consoles, gaming accessories, recreation","government-public":"Government services, public services, official services, administrative services","health-beauty":"Medical services, healthcare, doctors, nurses, hospitals, clinics, pharmacy, therapy, wellness, fitness, beauty","home-furniture":"Home goods, furniture, home decor, household items, home services","insurance-services":"Insurance services, insurance products, coverage, policies",jobs:"Employment, work opportunities, career positions, hiring, recruitment, professional services","jewelry-accessories":"Jewelry, watches, accessories, precious metals, gemstones","legal-financial":"Legal services, lawyers, legal advice, legal consultation, law services, financial services","marketing-advertising":"Marketing services, advertising, promotional services, branding",memorabilia:"Memorabilia, collectibles, souvenirs, keepsakes, historical items","non-profit-charity":"Non-profit services, charity, donations, social services, community services",pets:"Pet services, pet care, pet supplies, veterinary services, pet products","professional-services":"General services, professional services, service providers","raw-materials-industrial":"Fuel, oil, chemicals, steel, metal, plastic, rubber, cement, lumber, industrial materials, manufacturing supplies","real-estate":"Houses, properties, rent, buy, apartments, land, real estate services, property management","real-estate-services":"Real estate services, property management, real estate consultation","renewable-energy":"Renewable energy, solar, wind, green energy, sustainable energy","security-safety":"Security services, security systems, safety services, protection services",sneakers:"Sneakers, athletic shoes, sports shoes, footwear",souvenir:"Souvenirs, keepsakes, mementos, gifts","sports-outdoor":"Sports equipment, sports services, athletic goods, fitness equipment, outdoor activities",technology:"Technology services, tech products, IT services, software, hardware",thrift:"Second-hand items, used goods, thrift store items, vintage clothing","transportation-logistics":"Transportation services, shipping, logistics, transport","travel-tourism":"Travel services, tourism, travel planning, travel products",vintage:"Vintage items, retro products, classic items, old collectibles","waste-management":"Waste disposal, recycling, garbage, cleaning, hygiene, sanitation, environmental services","wedding-events":"Weddings, wedding services, marriage ceremonies, wedding planning, events",other:"General services, miscellaneous, help, support, consultation, assistance"});function h4(){var U,Y,K,X,he;const{user:t}=Dr(),[e]=aq(),[r,n]=g.useState([]),[s,a]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState("all"),[d,h]=g.useState("list"),[f,m]=g.useState(!1),x=g.useRef(null),[p,v]=g.useState(null),[w,b]=g.useState([]),[j,N]=g.useState(!1),[E,C]=g.useState(!1);g.useEffect(()=>{const D=e.get("category"),H=e.get("search");D&&u(D),H&&l(H)},[e]),g.useEffect(()=>{const D=document.querySelector('meta[name="viewport"]'),H=D==null?void 0:D.getAttribute("content");if(j)return D&&D.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"),document.body.style.touchAction="pan-y",()=>{D&&H&&D.setAttribute("content",H),document.body.style.touchAction=""}},[j]),g.useEffect(()=>{(async()=>{try{const se=(await Bt(jt(Ze(oe,"enquiries"),At("status","==","live")))).docs.map(q=>({id:q.id,...q.data()})),Q=new Date,Ne=se.filter(q=>q.deadline?(q.deadline.toDate?q.deadline.toDate():new Date(q.deadline))>=Q:!0),J=se.filter(q=>q.deadline?(q.deadline.toDate?q.deadline.toDate():new Date(q.deadline))<Q:!1);Ne.sort((q,ee)=>{var ge,pe;const te=(ge=q.createdAt)!=null&&ge.toDate?q.createdAt.toDate():new Date(q.createdAt);return((pe=ee.createdAt)!=null&&pe.toDate?ee.createdAt.toDate():new Date(ee.createdAt)).getTime()-te.getTime()}),J.sort((q,ee)=>{var ge,pe;const te=(ge=q.createdAt)!=null&&ge.toDate?q.createdAt.toDate():new Date(q.createdAt);return((pe=ee.createdAt)!=null&&pe.toDate?ee.createdAt.toDate():new Date(ee.createdAt)).getTime()-te.getTime()});const me=[...Ne,...J],L=Array.from(new Map(me.map(q=>[q.id,q])).values());n(L),a(!1)}catch(H){console.error("Error loading enquiries:",H),a(!1)}})()},[]);const P=async D=>{if(!D.trim()){v(null),C(!1);return}C(!0);try{const H=await i_.searchEnquiries(r,D);v(H)}catch(H){console.error("AI Search Error:",H),v(null)}finally{C(!1)}},S=D=>{if(!D.trim()||r.length===0)return[];const H=D.toLowerCase(),se=new Set,Q=new Set;r.forEach(me=>{me.category&&Q.add(me.category.replace("-"," ")),me.categories&&Array.isArray(me.categories)&&me.categories.forEach(L=>{L&&Q.add(L.replace("-"," "))})}),Q.forEach(me=>{const L=me.toLowerCase();(L.includes(H)||H.includes(L))&&se.add(me)});const Ne=new Set,J=new Set;return r.forEach(me=>{me.title&&me.title.toLowerCase().split(/\s+/).forEach(L=>{L.length>3&&L.includes(H)&&Ne.add(L)}),me.description&&me.description.toLowerCase().split(/\s+/).forEach(L=>{L.length>3&&L.includes(H)&&J.add(L)})}),Ne.forEach(me=>{se.size<5&&se.add(me)}),J.forEach(me=>{se.size<5&&se.add(me)}),Array.from(se).slice(0,5)},A=async D=>{if(l(D),D.trim()){const H=S(D);b(H),N(H.length>0),await P(D)}else b([]),N(!1),v(null)},T=D=>{const H=D.toLowerCase().replace(/\s+/g,"-"),se=[{value:"agriculture",label:"Agriculture"},{value:"antiques",label:"Antiques"},{value:"art",label:"Art"},{value:"automobile",label:"Automobile"},{value:"books",label:"Books"},{value:"childcare",label:"Childcare"},{value:"collectibles",label:"Collectibles"},{value:"construction",label:"Construction"},{value:"education",label:"Education"},{value:"electronics",label:"Electronics"},{value:"entertainment",label:"Entertainment"},{value:"events",label:"Events"},{value:"fashion",label:"Fashion"},{value:"food",label:"Food"},{value:"gaming",label:"Gaming"},{value:"government",label:"Government"},{value:"health",label:"Health"},{value:"home",label:"Home"},{value:"insurance",label:"Insurance"},{value:"jobs",label:"Jobs"},{value:"jewelry",label:"Jewelry"},{value:"legal",label:"Legal"},{value:"marketing",label:"Marketing"},{value:"memorabilia",label:"Memorabilia"},{value:"non-profit",label:"Non-Profit"},{value:"pets",label:"Pets"},{value:"products",label:"Products"},{value:"real-estate",label:"Real Estate"},{value:"real-estate-services",label:"Real Estate Services"},{value:"renewable-energy",label:"Renewable Energy"},{value:"security",label:"Security"},{value:"services",label:"Services"},{value:"sports",label:"Sports"},{value:"technology",label:"Technology"},{value:"thrift",label:"Thrift"},{value:"transportation",label:"Transportation"},{value:"travel",label:"Travel"},{value:"vintage",label:"Vintage"},{value:"waste-management",label:"Waste Management"},{value:"wedding",label:"Wedding"},{value:"other",label:"Other"}],Q=se.find(J=>J.value===H||J.label.toLowerCase()===D.toLowerCase());if(Q)return Q.value;const Ne=se.find(J=>J.value.includes(H)||H.includes(J.value)||J.label.toLowerCase().includes(D.toLowerCase())||D.toLowerCase().includes(J.label.toLowerCase()));return Ne?Ne.value:null},R=D=>{N(!1);const H=T(D);l(D),H&&u(H),A(D)},_=(()=>{let D=[];return p?D=p.results:D=r.filter(H=>{const se=!o||H.title.toLowerCase().includes(o.toLowerCase())||H.description.toLowerCase().includes(o.toLowerCase()),Q=c==="all"||H.category===c||H.categories&&H.categories.includes(c);return se&&Q}),c!=="all"?D.sort((H,se)=>{const Q=H.category===c||H.categories&&H.categories.includes(c),Ne=se.category===c||se.categories&&se.categories.includes(c),J=t&&H.userId===t.uid,me=t&&se.userId===t.uid,L=J&&Q,q=me&&Ne;return L&&!q?-1:!L&&q?1:Q&&!Ne?-1:!Q&&Ne?1:0}):D})(),I=Array.from(new Map(_.map(D=>[D.id,D])).values()),M=I.length===0&&c!=="all"&&!p,z=M?r:I,W=D=>t&&D.userId===t.uid,B=D=>{if(!D.deadline)return!1;const H=D.deadline.toDate?D.deadline.toDate():new Date(D.deadline);return new Date>H},$=D=>new Date(D).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return s?i.jsx(_a,{message:"Loading enquiries"}):i.jsx(Nt,{children:i.jsx("div",{className:"flex flex-col flex-grow bg-gradient-to-br from-background to-muted/20",style:{touchAction:"pan-y pinch-zoom",WebkitTextSizeAdjust:"100%",msTextSizeAdjust:"100%"},children:i.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8",children:[i.jsxs("div",{className:"text-center mb-4 sm:mb-8",children:[i.jsx("h1",{className:"text-lg sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-4",children:"Live Enquiries"}),i.jsx("p",{className:"text-[9px] sm:text-xs text-muted-foreground max-w-xl mx-auto",children:"Connect with buyers from individuals to businesses."})]}),i.jsxs("div",{className:"mb-6 sm:mb-8 space-y-3 sm:space-y-4",children:[i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"relative",children:[i.jsx(Gl,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground z-10"}),i.jsx("input",{ref:x,type:"text",placeholder:"Search enquiries... (try 'car', 'jacket', 'phone')",value:o,onChange:D=>A(D.target.value),onFocus:()=>N(w.length>0),onBlur:()=>setTimeout(()=>N(!1),200),className:"w-full pl-10 sm:pl-12 pr-10 sm:pr-12 py-3 sm:py-3.5 text-sm sm:text-base border-2 border-gray-200 rounded-xl sm:rounded-2xl focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all duration-200 bg-white shadow-sm placeholder-gray-400 leading-tight sm:leading-normal",style:{fontSize:"16px",lineHeight:"1.5",paddingTop:"0.75rem",paddingBottom:"0.75rem",WebkitAppearance:"none",WebkitTapHighlightColor:"transparent"},disabled:E}),E&&i.jsx("div",{className:"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 z-10",children:i.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}),j&&w.length>0&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",style:{touchAction:"pan-y",transform:"translateZ(0)",WebkitTransform:"translateZ(0)",contain:"layout style paint",willChange:"transform",isolation:"isolate"},children:w.map((D,H)=>i.jsx("button",{type:"button",onTouchStart:se=>{se.preventDefault()},onTouchEnd:se=>{se.preventDefault(),se.stopPropagation(),x.current&&x.current.blur(),R(D)},onClick:se=>{x.current&&x.current.blur(),R(D)},className:"w-full text-left px-4 py-3 hover:bg-slate-50 active:bg-slate-100 border-b border-slate-100 last:border-b-0 cursor-pointer",style:{touchAction:"none",fontSize:"16px",WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",transform:"translateZ(0)",WebkitTransform:"translateZ(0)",userSelect:"none",WebkitUserSelect:"none"},children:i.jsxs("div",{className:"flex items-center gap-2",style:{pointerEvents:"none"},children:[i.jsx(Gl,{className:"h-4 w-4 text-slate-400 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-slate-700",children:D})]})},H))})]})}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"w-full",children:[i.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-2.5 justify-center sm:justify-start mb-2 sm:mb-0",children:[{value:"all",label:"All"},{value:"agriculture-farming",label:"Agriculture"},{value:"antiques",label:"Antiques"},{value:"art",label:"Art"},{value:"automobile",label:"Automobile"},{value:"books-publications",label:"Books"}].map(D=>i.jsx("button",{onClick:()=>u(D.value),className:`px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm font-medium rounded-xl sm:rounded-2xl transition-all duration-200 whitespace-nowrap min-touch ${c===D.value?"bg-gray-800 text-white shadow-md hover:bg-gray-900 scale-105":"bg-white text-gray-700 border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 hover:shadow-sm"}`,children:D.label},D.value))}),i.jsx("div",{className:`${f?"block":"hidden sm:block"} transition-all duration-300`,children:i.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-2.5 justify-center sm:justify-start",children:[{value:"childcare-family",label:"Childcare"},{value:"collectibles",label:"Collectibles"},{value:"construction-renovation",label:"Construction"},{value:"education-training",label:"Education"},{value:"electronics-gadgets",label:"Electronics"},{value:"entertainment-media",label:"Entertainment"},{value:"events-entertainment",label:"Events"},{value:"fashion-apparel",label:"Fashion"},{value:"food-beverage",label:"Food"},{value:"gaming-recreation",label:"Gaming"},{value:"government-public",label:"Government"},{value:"health-beauty",label:"Health"},{value:"home-furniture",label:"Home"},{value:"insurance-services",label:"Insurance"},{value:"jobs",label:"Jobs"},{value:"jewelry-accessories",label:"Jewelry"},{value:"legal-financial",label:"Legal"},{value:"marketing-advertising",label:"Marketing"},{value:"memorabilia",label:"Memorabilia"},{value:"non-profit-charity",label:"Non-Profit"},{value:"pets",label:"Pets"},{value:"professional-services",label:"Services"},{value:"raw-materials-industrial",label:"Industrial"},{value:"real-estate",label:"Real Estate"},{value:"real-estate-services",label:"Real Estate Services"},{value:"renewable-energy",label:"Renewable Energy"},{value:"security-safety",label:"Security"},{value:"sneakers",label:"Sneakers"},{value:"souvenir",label:"Souvenir"},{value:"sports-outdoor",label:"Sports"},{value:"technology",label:"Technology"},{value:"thrift",label:"Thrift"},{value:"transportation-logistics",label:"Transportation"},{value:"travel-tourism",label:"Travel"},{value:"vintage",label:"Vintage"},{value:"waste-management",label:"Waste Management"},{value:"wedding-events",label:"Wedding"},{value:"other",label:"Other"}].map(D=>i.jsx("button",{onClick:()=>u(D.value),className:`px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm font-medium rounded-xl sm:rounded-2xl transition-all duration-200 whitespace-nowrap min-touch ${c===D.value?"bg-gray-800 text-white shadow-md hover:bg-gray-900 scale-105":"bg-white text-gray-700 border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 hover:shadow-sm"}`,children:D.label},D.value))})})]}),i.jsx("div",{className:"text-center sm:hidden pt-2",children:i.jsx("button",{onClick:()=>m(!f),className:"inline-flex items-center gap-1.5 px-4 py-2.5 text-xs font-medium text-gray-700 bg-white border-2 border-gray-200 rounded-xl hover:border-gray-300 hover:bg-gray-50 hover:shadow-sm transition-all duration-200 min-touch",children:f?i.jsxs(i.Fragment,{children:[i.jsx(rn,{className:"w-3.5 h-3.5"}),"Show Less"]}):i.jsxs(i.Fragment,{children:[i.jsx(Uce,{className:"w-3.5 h-3.5"}),"Show More (+38)"]})})})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[i.jsxs("h3",{className:"text-sm sm:text-xl font-semibold text-foreground",children:[z.length," enquiries"]}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[i.jsxs(G,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>h("grid"),className:"h-5 sm:h-8 px-1.5 sm:px-3 text-[9px] sm:text-sm",children:[i.jsx(zce,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 mr-0.5 sm:mr-1"}),"Grid"]}),i.jsxs(G,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>h("list"),className:"h-5 sm:h-8 px-1.5 sm:px-3 text-[9px] sm:text-sm",children:[i.jsx(Kce,{className:"h-2.5 w-2.5 sm:h-4 sm:w-4 mr-0.5 sm:mr-1"}),"List"]})]})]}),z.length>0?i.jsxs(i.Fragment,{children:[M&&i.jsx("div",{className:"mb-4 p-3 sm:p-4 bg-amber-50 border border-amber-200 rounded-lg sm:rounded-xl",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-amber-800 font-semibold text-sm sm:text-base",children:['No enquiries found in "',c.replace("-"," "),'" category']}),i.jsx("p",{className:"text-amber-600 text-xs sm:text-sm mt-1",children:"Showing all enquiries below"})]})}),p&&i.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:p.noResultsInCategory?i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-blue-800 font-medium text-sm",children:["No enquiries found in ",(U=p.searchedCategory)==null?void 0:U.replace("-"," ")," category"]}),i.jsxs("p",{className:"text-blue-600 text-xs mt-1",children:["AI Analysis: ",(Y=p.aiAnalysis)==null?void 0:Y.reasoning]}),i.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Showing all enquiries below"})]}):p.showAllFallback?i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-blue-800 font-medium text-sm",children:[`AI couldn't determine category for "`,o,'"']}),i.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Showing all enquiries"})]}):i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-blue-800 font-medium text-sm",children:["AI found ",p.results.length," enquiry",p.results.length!==1?"ies":""," in ",(K=p.searchedCategory)==null?void 0:K.replace("-"," ")," category"]}),i.jsxs("p",{className:"text-blue-600 text-xs mt-1",children:["Confidence: ",Math.round((((X=p.aiAnalysis)==null?void 0:X.confidence)||0)*100),"% | ",(he=p.aiAnalysis)==null?void 0:he.reasoning]})]})}),i.jsx("div",{className:`${d==="grid"?"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2 sm:gap-3 items-stretch":"space-y-3 sm:space-y-4"}`,children:z.map(D=>{var H,se;return i.jsx("div",{className:"block",children:i.jsx(Je,{to:`/enquiry/${D.id}`,className:"block",children:i.jsxs(be,{className:`${d==="grid"?"h-full border border-gray-200 bg-white shadow-md hover:shadow-xl hover:border-gray-300 sm:hover:border-blue-300 flex flex-col rounded-2xl sm:rounded-3xl overflow-hidden":"border-2 border-gray-200 bg-white shadow-sm hover:shadow-md hover:border-gray-300 rounded-2xl sm:rounded-3xl"} transition-all duration-300 hover:-translate-y-0.5 cursor-pointer ${B(D)?"opacity-70 bg-gray-50 border-gray-300 grayscale":d==="list"?"":"border-l-4 border-l-green-500"}`,children:[i.jsx("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 px-2.5 sm:px-4 py-1.5 sm:py-2.5 border-b border-gray-700",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:(D.userProfileVerified||D.idFrontImage||D.idBackImage)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`flex items-center justify-center w-2.5 h-2.5 sm:w-3.5 sm:h-3.5 rounded-full shadow-sm ${B(D)?"bg-gray-500":"bg-blue-500"}`,children:i.jsx(Gs,{className:"h-1 w-1 sm:h-2 sm:w-2 text-white"})}),i.jsx("span",{className:`text-[8px] sm:text-[10px] font-semibold hidden sm:inline tracking-wide ${B(D)?"text-gray-400":"text-blue-300"}`,children:"Verified"})]})}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[!B(D)&&i.jsx(Pe,{className:"text-[8px] sm:text-[10px] px-1 sm:px-2 py-0.5 sm:py-1 bg-green-500 text-white border-0 shadow-sm font-semibold",children:"Live"}),D.isUrgent&&!B(D)&&i.jsx(Pe,{className:"text-[8px] sm:text-[10px] px-1 sm:px-2 py-0.5 sm:py-1 bg-red-500 text-white border-0 shadow-sm font-semibold",children:"Urgent"}),B(D)&&i.jsx(Pe,{variant:"outline",className:"text-[8px] sm:text-[10px] px-1 sm:px-2 py-0.5 sm:py-1 text-gray-400 border-gray-500 bg-gray-800",children:"Expired"})]})]})}),d==="list"?i.jsx(vt,{className:"p-2.5 sm:p-5 border-b border-gray-200",children:i.jsxs("div",{className:"space-y-2 sm:space-y-3.5",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-3",children:[i.jsxs("div",{className:"flex items-start gap-1.5 sm:gap-2.5 flex-1 min-w-0",children:[i.jsx("h3",{className:`text-sm sm:text-lg lg:text-xl font-black leading-tight line-clamp-2 flex-1 text-gray-900 ${B(D)?"text-gray-500":""}`,children:D.title}),(D.userProfileVerified||D.idFrontImage||D.idBackImage)&&i.jsx("div",{className:`flex items-center justify-center w-4 h-4 sm:w-6 sm:h-6 rounded-full flex-shrink-0 mt-0.5 shadow-sm ${B(D)?"bg-gray-400":"bg-blue-500"}`,children:i.jsx(Gs,{className:"h-2.5 w-2.5 sm:h-3.5 sm:w-3.5 text-white"})})]}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[D.isUrgent&&!B(D)&&i.jsxs(Pe,{className:"text-[9px] sm:text-xs px-1.5 sm:px-2.5 py-0.5 sm:py-1 bg-red-500 text-white border-0 shadow-sm font-semibold",children:[i.jsx("span",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 bg-white rounded-full inline-block mr-0.5 sm:mr-1"}),"Urgent"]}),B(D)&&i.jsx(Pe,{variant:"outline",className:"text-[9px] sm:text-xs px-1.5 sm:px-2.5 py-0.5 sm:py-1 text-gray-500 border-gray-300 bg-gray-50",children:"Expired"}),W(D)&&i.jsx(Pe,{variant:"secondary",className:"text-[9px] sm:text-xs px-1.5 sm:px-2.5 py-0.5 sm:py-1 font-semibold",children:"Your Enquiry"})]})]}),i.jsx("p",{className:"text-xs sm:text-base text-gray-700 leading-relaxed line-clamp-2",children:D.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[D.budget&&i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-blue-50 rounded-lg px-2 sm:px-3 py-1 sm:py-1.5 border border-blue-200",children:[i.jsx("span",{className:"font-black text-blue-600 text-base sm:text-xl",children:""}),i.jsx("span",{className:"font-black text-gray-900 text-xs sm:text-base",children:ag(D.budget)})]}),D.location&&i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-gray-700",children:[i.jsx("div",{className:"flex items-center justify-center w-4 h-4 sm:w-6 sm:h-6 rounded-full bg-gray-100 flex-shrink-0",children:i.jsx(Vu,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-600"})}),i.jsx("span",{className:"text-xs sm:text-base font-semibold",children:D.location})]}),i.jsx(Pe,{variant:"secondary",className:"text-[10px] sm:text-sm px-2 sm:px-4 py-1 sm:py-2 bg-gray-100 text-gray-700 border border-gray-200 font-semibold",children:D.category.replace("-"," ")})]}),D.deadline&&!B(D)&&i.jsx("div",{className:"pt-1.5 sm:pt-2 border-t border-gray-200",children:i.jsx(Nf,{deadline:D.deadline.toDate?D.deadline.toDate():new Date(D.deadline),className:"text-[10px] sm:text-sm"})})]})}):i.jsx(vt,{className:"p-2.5 sm:p-5",children:i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-1.5 sm:gap-2 mb-2 sm:mb-3",children:[i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-1 min-w-0",children:[i.jsx("h3",{className:`text-xs sm:text-base font-black leading-tight line-clamp-1 truncate flex-1 text-gray-900 ${B(D)?"text-gray-500":""}`,children:D.title}),(D.userProfileVerified||D.idFrontImage||D.idBackImage)&&i.jsx("div",{className:`flex items-center justify-center w-3.5 h-3.5 sm:w-5 sm:h-5 rounded-full flex-shrink-0 shadow-sm ${B(D)?"bg-gray-400":"bg-blue-500"}`,children:i.jsx(Gs,{className:"h-2 w-2 sm:h-3 sm:w-3 text-white"})})]}),D.isUrgent&&!B(D)&&i.jsxs(Pe,{className:"text-[9px] sm:text-[11px] px-1 sm:px-2 py-0.5 bg-red-500 text-white border-0 shadow-sm font-semibold flex-shrink-0",children:[i.jsx("span",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 bg-white rounded-full inline-block mr-0.5 sm:mr-1"}),"Urgent"]}),B(D)&&i.jsx(Pe,{variant:"outline",className:"text-[9px] sm:text-[11px] px-1 sm:px-2 py-0.5 text-gray-500 border-gray-300 bg-gray-50 flex-shrink-0",children:"Expired"})]}),i.jsxs("div",{className:"flex flex-col gap-2 sm:gap-2.5",children:[D.budget&&i.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg sm:rounded-xl px-2 sm:px-3 py-1.5 sm:py-2 border border-blue-200 shadow-sm",children:[i.jsx("span",{className:"font-black text-blue-600 text-base sm:text-xl",children:""}),i.jsx("span",{className:"truncate font-black text-gray-900 text-sm sm:text-lg",children:ag(D.budget)})]}),D.location&&i.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5 px-0.5 sm:px-1",children:[i.jsx("div",{className:"flex items-center justify-center w-4 h-4 sm:w-6 sm:h-6 rounded-full bg-gray-100 flex-shrink-0",children:i.jsx(Vu,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-600"})}),i.jsx("span",{className:"truncate text-[10px] sm:text-sm font-semibold text-gray-700",children:D.location})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3 pt-1.5 sm:pt-2 border-t border-gray-100",children:[D.deadline&&!B(D)&&i.jsx("div",{className:"flex-1",children:i.jsx(Nf,{deadline:D.deadline.toDate?D.deadline.toDate():new Date(D.deadline),className:"text-[10px] sm:text-sm"})}),i.jsx("div",{className:`${D.deadline&&!B(D)?"sm:ml-auto":""}`,children:i.jsx(Pe,{variant:"secondary",className:"text-[9px] sm:text-xs px-2 sm:px-3.5 py-1 sm:py-2 bg-gray-100 text-gray-700 border border-gray-200 font-semibold shadow-sm",children:D.category.replace("-"," ")})})]})]})}),i.jsx(Ve,{className:`${d==="list"?"p-2.5 sm:p-5 bg-gray-50 border-t border-gray-200":"flex-1 flex flex-col p-2.5 sm:p-5 justify-between"}`,children:d==="list"?i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[W(D)&&i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] sm:text-xs text-gray-600 bg-white rounded-md px-2 py-1 border border-gray-200 shadow-sm",children:[i.jsx(vr,{className:"h-3 w-3 text-gray-600 flex-shrink-0"}),i.jsxs("span",{className:"font-semibold text-gray-700 whitespace-nowrap",children:[D.responses||0," responses"]})]}),((H=D.createdAt)==null?void 0:H.toDate)&&i.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500 bg-white rounded-md px-2 py-1 border border-gray-200",children:[i.jsx(xn,{className:"h-3 w-3 text-gray-500 flex-shrink-0"}),i.jsx("span",{className:"whitespace-nowrap",children:$(D.createdAt.toDate().toISOString())})]}),D.budget&&i.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-700 bg-blue-50 rounded-md px-2 py-1 border border-blue-200",children:[i.jsx("span",{className:"font-black text-blue-600",children:""}),i.jsx("span",{className:"font-semibold whitespace-nowrap",children:ag(D.budget)})]}),D.location&&i.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-600 bg-white rounded-md px-2 py-1 border border-gray-200",children:[i.jsx(Vu,{className:"h-3 w-3 text-gray-500 flex-shrink-0"}),i.jsx("span",{className:"truncate max-w-[120px] sm:max-w-none",children:D.location})]})]}),i.jsx("div",{className:"flex-shrink-0 ml-auto",children:W(D)?i.jsx(G,{variant:"outline",size:"sm",className:"h-8 sm:h-10 px-3 sm:px-6 text-xs sm:text-sm font-semibold border-2 border-gray-300 bg-white text-gray-600",disabled:!0,children:"Your Enquiry"}):t?B(D)?i.jsx(G,{variant:"outline",size:"sm",className:"h-8 sm:h-10 px-3 sm:px-6 text-xs sm:text-sm font-semibold border-2 border-gray-300 bg-white text-gray-500",disabled:!0,children:"Expired"}):i.jsxs(G,{className:"h-8 sm:h-10 px-3 sm:px-6 text-xs sm:text-sm font-bold bg-gray-800 hover:bg-gray-900 text-white shadow-md hover:shadow-lg transition-all duration-200 rounded-xl",onClick:()=>window.location.href=`/respond/${D.id}`,children:["Sell",i.jsx(sg,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1.5 sm:ml-2"})]}):i.jsx(Je,{to:"/signin",children:i.jsx(G,{variant:"outline",className:"h-8 sm:h-10 px-3 sm:px-6 text-xs sm:text-sm font-semibold border-2 border-gray-300 hover:border-gray-400 bg-white hover:bg-gray-50 transition-all duration-200 rounded-xl",children:"Sign In to Respond"})})})]}):i.jsxs("div",{className:"space-y-2 sm:space-y-2.5",children:[W(D)&&i.jsxs("div",{className:"flex items-center justify-between text-[9px] sm:text-xs text-gray-600 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg sm:rounded-xl px-2 sm:px-3 py-1.5 sm:py-2 border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[i.jsx("div",{className:"flex items-center justify-center w-3.5 h-3.5 sm:w-5 sm:h-5 rounded-full bg-white shadow-sm",children:i.jsx(vr,{className:"h-2.5 w-2.5 sm:h-3.5 sm:w-3.5 text-gray-600"})}),i.jsxs("span",{className:"font-semibold text-gray-700",children:[D.responses||0," responses"]})]}),i.jsx("div",{className:"text-[9px] sm:text-xs font-semibold text-gray-500",children:(se=D.createdAt)!=null&&se.toDate?$(D.createdAt.toDate().toISOString()):"N/A"})]}),W(D)?i.jsx(G,{variant:"outline",size:"sm",className:"w-full h-7 sm:h-10 text-[9px] sm:text-xs font-bold border-2 border-gray-300 bg-gray-50 text-gray-600 hover:bg-gray-100 transition-all duration-200 rounded-lg sm:rounded-xl",disabled:!0,children:"Your Enquiry"}):t?i.jsxs(G,{className:"w-full h-7 sm:h-10 text-[9px] sm:text-xs font-bold bg-gray-800 hover:bg-gray-900 text-white shadow-md hover:shadow-lg transition-all duration-200 rounded-lg sm:rounded-xl",onClick:()=>window.location.href=`/respond/${D.id}`,children:["Sell",i.jsx(sg,{className:"h-2.5 w-2.5 sm:h-3.5 sm:w-3.5 ml-1.5 sm:ml-2"})]}):i.jsx(Je,{to:"/signin",children:i.jsx(G,{className:"w-full h-7 sm:h-10 text-[9px] sm:text-xs font-bold border-2 border-gray-300 hover:border-gray-400 bg-white hover:bg-gray-50 transition-all duration-200 rounded-lg sm:rounded-xl",variant:"outline",children:"Sign In to Respond"})})]})})]})})},D.id)})})]}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(_o,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No enquiries found"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:o||c!=="all"?"Try adjusting your search or filters":"No live enquiries available at the moment"}),(o||c!=="all")&&i.jsx(G,{variant:"outline",onClick:()=>{l(""),u("all")},children:"Clear All"})]})]})})})}const gr=g.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:He("flex h-12 w-full rounded-xl border border-input bg-background px-4 py-3 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-spring hover:border-ring/50",t),ref:n,...r}));gr.displayName="Input";const ad=g.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-xl border border-input bg-background px-4 py-3 text-base ring-offset-background placeholder:text-muted-foreground/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-spring hover:border-ring/50 resize-none",t),ref:r,...e}));ad.displayName="Textarea";var P1e="Label",RH=g.forwardRef((t,e)=>i.jsx(et.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));RH.displayName=P1e;var OH=RH;const _1e=mm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ht=g.forwardRef(({className:t,...e},r)=>i.jsx(OH,{ref:r,className:He(_1e(),t),...e}));ht.displayName=OH.displayName;var iI="Popover",[DH,tHe]=Sa(iI,[Lc]),Ty=Lc(),[A1e,Bc]=DH(iI),MH=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=t,l=Ty(e),c=g.useRef(null),[u,d]=g.useState(!1),[h=!1,f]=io({prop:n,defaultProp:s,onChange:a});return i.jsx(nk,{...l,children:i.jsx(A1e,{scope:e,contentId:ga(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:o,children:r})})};MH.displayName=iI;var $H="PopoverAnchor",T1e=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Bc($H,r),a=Ty(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(fy,{...a,...n,ref:e})});T1e.displayName=$H;var LH="PopoverTrigger",FH=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Bc(LH,r),a=Ty(r),o=Tt(e,s.triggerRef),l=i.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":zH(s.open),...n,ref:o,onClick:Me(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(fy,{asChild:!0,...a,children:l})});FH.displayName=LH;var aI="PopoverPortal",[C1e,k1e]=DH(aI,{forceMount:void 0}),VH=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,a=Bc(aI,e);return i.jsx(C1e,{scope:e,forceMount:r,children:i.jsx(Fn,{present:r||a.open,children:i.jsx(fm,{asChild:!0,container:s,children:n})})})};VH.displayName=aI;var Ef="PopoverContent",BH=g.forwardRef((t,e)=>{const r=k1e(Ef,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,a=Bc(Ef,t.__scopePopover);return i.jsx(Fn,{present:n||a.open,children:a.modal?i.jsx(I1e,{...s,ref:e}):i.jsx(R1e,{...s,ref:e})})});BH.displayName=Ef;var I1e=g.forwardRef((t,e)=>{const r=Bc(Ef,t.__scopePopover),n=g.useRef(null),s=Tt(e,n),a=g.useRef(!1);return g.useEffect(()=>{const o=n.current;if(o)return fj(o)},[]),i.jsx(wy,{as:Zo,allowPinchZoom:!0,children:i.jsx(UH,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Me(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Me(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),R1e=g.forwardRef((t,e)=>{const r=Bc(Ef,t.__scopePopover),n=g.useRef(!1),s=g.useRef(!1);return i.jsx(UH,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),UH=g.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=t,f=Bc(Ef,r),m=Ty(r);return dj(),i.jsx(by,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(vd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:i.jsx(tj,{"data-state":zH(f.open),role:"dialog",id:f.contentId,...m,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qH="PopoverClose",O1e=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Bc(qH,r);return i.jsx(et.button,{type:"button",...n,ref:e,onClick:Me(t.onClick,()=>s.onOpenChange(!1))})});O1e.displayName=qH;var D1e="PopoverArrow",M1e=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ty(r);return i.jsx(rj,{...s,...n,ref:e})});M1e.displayName=D1e;function zH(t){return t?"open":"closed"}var $1e=MH,L1e=FH,F1e=VH,WH=BH;const HH=$1e,GH=L1e,oI=g.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>i.jsx(F1e,{children:i.jsx(WH,{ref:s,align:e,sideOffset:r,className:He("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));oI.displayName=WH.displayName;function lI(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var cI="Checkbox",[V1e,rHe]=Sa(cI),[B1e,U1e]=V1e(cI),KH=g.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,m]=g.useState(null),x=Tt(e,N=>m(N)),p=g.useRef(!1),v=f?d||!!f.closest("form"):!0,[w=!1,b]=io({prop:s,defaultProp:a,onChange:u}),j=g.useRef(w);return g.useEffect(()=>{const N=f==null?void 0:f.form;if(N){const E=()=>b(j.current);return N.addEventListener("reset",E),()=>N.removeEventListener("reset",E)}},[f,b]),i.jsxs(B1e,{scope:r,state:w,disabled:l,children:[i.jsx(et.button,{type:"button",role:"checkbox","aria-checked":fc(w)?"mixed":w,"aria-required":o,"data-state":XH(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onKeyDown:Me(t.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Me(t.onClick,N=>{b(E=>fc(E)?!0:!E),v&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),v&&i.jsx(q1e,{control:f,bubbles:!p.current,name:n,value:c,checked:w,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:fc(a)?!1:a})]})});KH.displayName=cI;var YH="CheckboxIndicator",QH=g.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,a=U1e(YH,r);return i.jsx(Fn,{present:n||fc(a.state)||a.state===!0,children:i.jsx(et.span,{"data-state":XH(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});QH.displayName=YH;var q1e=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:s,...a}=t,o=g.useRef(null),l=lI(r),c=ek(e);g.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&m){const x=new Event("click",{bubbles:n});d.indeterminate=fc(r),m.call(d,fc(r)?!1:r),d.dispatchEvent(x)}},[l,r,n]);const u=g.useRef(fc(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fc(t){return t==="indeterminate"}function XH(t){return fc(t)?"indeterminate":t?"checked":"unchecked"}var JH=KH,z1e=QH;const ZH=g.forwardRef(({className:t,...e},r)=>i.jsx(JH,{ref:r,className:He("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(z1e,{className:He("flex items-center justify-center text-current"),children:i.jsx(Gs,{className:"h-4 w-4"})})}));ZH.displayName=JH.displayName;const W1e=({type:t,onUpgrade:e,compact:r=!1})=>{vm();const s=(()=>{switch(t){case"enquiry":return{title:"Buy More Enquiry Credits",description:"You've used all your enquiry credits. Purchase more to continue posting enquiries.",icon:i.jsx(pf,{className:"h-5 w-5"}),price:"50"};case"submission":return{title:"Buy More Submission Credits",description:"You've used all your submission credits. Purchase more to respond to enquiries.",icon:i.jsx(X1,{className:"h-5 w-5"}),price:"30"};case"response":return{title:"Buy Response View Credits",description:"You've used all your response view credits. Purchase more to see supplier proposals.",icon:i.jsx(yn,{className:"h-5 w-5"}),price:"20"}}})(),o=(()=>{switch(t){case"enquiry":return["10 enquiry credits","Instant activation","No expiry","24/7 support"];case"submission":return["10 submission credits","Instant activation","No expiry","24/7 support"];case"response":return["20 response view credits","Instant activation","No expiry","24/7 support"]}})(),l=()=>{e&&e()};return r?i.jsx(be,{className:"border-pal-blue/20 bg-gradient-to-r from-pal-blue/5 to-pal-blue/10",children:i.jsx(Ve,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-pal-blue/10 rounded-full",children:s.icon}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:s.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]}),i.jsxs(G,{size:"sm",className:"bg-pal-blue hover:bg-pal-blue-dark",onClick:l,children:[i.jsx(yn,{className:"h-4 w-4 mr-1"}),"OK"]})]})})}):i.jsxs(be,{className:"border-pal-blue/20 bg-gradient-to-br from-pal-blue/5 via-white to-pal-blue/10 shadow-lg",children:[i.jsxs(vt,{className:"text-center pb-4",children:[i.jsx("div",{className:"mx-auto p-3 bg-pal-blue/10 rounded-full w-fit mb-4",children:s.icon}),i.jsx(cr,{className:"text-xl font-bold",children:s.title}),i.jsx(Bu,{className:"text-base",children:s.description})]}),i.jsxs(Ve,{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx("span",{className:"text-3xl font-bold text-pal-blue",children:s.price}),i.jsx("span",{className:"text-muted-foreground",children:"one-time"})]}),i.jsxs(Pe,{variant:"secondary",className:"bg-pal-blue/10 text-pal-blue",children:[i.jsx(yn,{className:"h-3 w-3 mr-1"}),"Credit Pack"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-center",children:"What you get:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map((c,u)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(xt,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{children:c})]},u))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(G,{className:"w-full bg-pal-blue hover:bg-pal-blue-dark text-white font-semibold py-3",onClick:l,children:[i.jsx(yn,{className:"h-4 w-4 mr-2"}),"OK"]}),i.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Demo mode enabled: clicking OK bypasses payment and should grant access."})]})]})]})},hg={cloudName:"dlsddhj4m",uploadPreset:"ml_default"},Yb=async t=>{try{console.log("Starting Cloudinary upload for:",t.name);const e=new FormData;e.append("file",t),e.append("upload_preset",hg.uploadPreset),e.append("cloud_name",hg.cloudName),e.append("folder","id-verification");const r=await fetch(`https://api.cloudinary.com/v1_1/${hg.cloudName}/image/upload`,{method:"POST",body:e});if(!r.ok)throw new Error(`Upload failed: ${r.status} ${r.statusText}`);const n=await r.json();return console.log("Cloudinary upload successful:",n.secure_url),n.secure_url}catch(e){throw console.error("Cloudinary upload error:",e),new Error(`Failed to upload image: ${e}`)}},f4=async t=>{try{console.log("Starting unsigned Cloudinary upload for:",t.name);const e=new FormData;e.append("file",t),e.append("upload_preset",hg.uploadPreset);const r=await fetch(`https://api.cloudinary.com/v1_1/${hg.cloudName}/image/upload`,{method:"POST",body:e});if(!r.ok)throw new Error(`Upload failed: ${r.status} ${r.statusText}`);const n=await r.json();return console.log("Cloudinary upload successful:",n.secure_url),n.secure_url}catch(e){throw console.error("Cloudinary upload error:",e),new Error(`Failed to upload image: ${e}`)}};function a_(t,[e,r]){return Math.min(r,Math.max(e,t))}var H1e=[" ","Enter","ArrowUp","ArrowDown"],G1e=[" ","Enter"],Cy="Select",[Pj,_j,K1e]=G1(Cy),[Sm,nHe]=Sa(Cy,[K1e,Lc]),Aj=Lc(),[Y1e,Uc]=Sm(Cy),[Q1e,X1e]=Sm(Cy),eG=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:x}=t,p=Aj(e),[v,w]=g.useState(null),[b,j]=g.useState(null),[N,E]=g.useState(!1),C=jy(u),[P=!1,S]=io({prop:n,defaultProp:s,onChange:a}),[A,T]=io({prop:o,defaultProp:l,onChange:c}),R=g.useRef(null),_=v?x||!!v.closest("form"):!0,[I,M]=g.useState(new Set),z=Array.from(I).map(W=>W.props.value).join(";");return i.jsx(nk,{...p,children:i.jsxs(Y1e,{required:m,scope:e,trigger:v,onTriggerChange:w,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:ga(),value:A,onValueChange:T,open:P,onOpenChange:S,dir:C,triggerPointerDownPosRef:R,disabled:f,children:[i.jsx(Pj.Provider,{scope:e,children:i.jsx(Q1e,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(W=>{M(B=>new Set(B).add(W))},[]),onNativeOptionRemove:g.useCallback(W=>{M(B=>{const $=new Set(B);return $.delete(W),$})},[]),children:r})}),_?i.jsxs(EG,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:A,onChange:W=>T(W.target.value),disabled:f,form:x,children:[A===void 0?i.jsx("option",{value:""}):null,Array.from(I)]},z):null]})})};eG.displayName=Cy;var tG="SelectTrigger",rG=g.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,a=Aj(r),o=Uc(tG,r),l=o.disabled||n,c=Tt(e,o.onTriggerChange),u=_j(r),d=g.useRef("touch"),[h,f,m]=PG(p=>{const v=u().filter(j=>!j.disabled),w=v.find(j=>j.value===o.value),b=_G(v,p,w);b!==void 0&&o.onValueChange(b.value)}),x=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(fy,{asChild:!0,...a,children:i.jsx(et.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":SG(o.value)?"":void 0,...s,ref:c,onClick:Me(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&x(p)}),onPointerDown:Me(s.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:Me(s.onKeyDown,p=>{const v=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(v&&p.key===" ")&&H1e.includes(p.key)&&(x(),p.preventDefault())})})})});rG.displayName=tG;var nG="SelectValue",sG=g.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=t,c=Uc(nG,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=Tt(e,c.onValueNodeChange);return Yn(()=>{u(d)},[u,d]),i.jsx(et.span,{...l,ref:h,style:{pointerEvents:"none"},children:SG(c.value)?i.jsx(i.Fragment,{children:o}):a})});sG.displayName=nG;var J1e="SelectIcon",iG=g.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return i.jsx(et.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});iG.displayName=J1e;var Z1e="SelectPortal",aG=t=>i.jsx(fm,{asChild:!0,...t});aG.displayName=Z1e;var od="SelectContent",oG=g.forwardRef((t,e)=>{const r=Uc(od,t.__scopeSelect),[n,s]=g.useState();if(Yn(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Ic.createPortal(i.jsx(lG,{scope:t.__scopeSelect,children:i.jsx(Pj.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(cG,{...t,ref:e})});oG.displayName=od;var ea=10,[lG,qc]=Sm(od),eje="SelectContentImpl",cG=g.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v,...w}=t,b=Uc(od,r),[j,N]=g.useState(null),[E,C]=g.useState(null),P=Tt(e,Q=>N(Q)),[S,A]=g.useState(null),[T,R]=g.useState(null),_=_j(r),[I,M]=g.useState(!1),z=g.useRef(!1);g.useEffect(()=>{if(j)return fj(j)},[j]),dj();const W=g.useCallback(Q=>{const[Ne,...J]=_().map(q=>q.ref.current),[me]=J.slice(-1),L=document.activeElement;for(const q of Q)if(q===L||(q==null||q.scrollIntoView({block:"nearest"}),q===Ne&&E&&(E.scrollTop=0),q===me&&E&&(E.scrollTop=E.scrollHeight),q==null||q.focus(),document.activeElement!==L))return},[_,E]),B=g.useCallback(()=>W([S,j]),[W,S,j]);g.useEffect(()=>{I&&B()},[I,B]);const{onOpenChange:$,triggerPointerDownPosRef:U}=b;g.useEffect(()=>{if(j){let Q={x:0,y:0};const Ne=me=>{var L,q;Q={x:Math.abs(Math.round(me.pageX)-(((L=U.current)==null?void 0:L.x)??0)),y:Math.abs(Math.round(me.pageY)-(((q=U.current)==null?void 0:q.y)??0))}},J=me=>{Q.x<=10&&Q.y<=10?me.preventDefault():j.contains(me.target)||$(!1),document.removeEventListener("pointermove",Ne),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",J,{capture:!0})}}},[j,$,U]),g.useEffect(()=>{const Q=()=>$(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[$]);const[Y,K]=PG(Q=>{const Ne=_().filter(L=>!L.disabled),J=Ne.find(L=>L.ref.current===document.activeElement),me=_G(Ne,Q,J);me&&setTimeout(()=>me.ref.current.focus())}),X=g.useCallback((Q,Ne,J)=>{const me=!z.current&&!J;(b.value!==void 0&&b.value===Ne||me)&&(A(Q),me&&(z.current=!0))},[b.value]),he=g.useCallback(()=>j==null?void 0:j.focus(),[j]),D=g.useCallback((Q,Ne,J)=>{const me=!z.current&&!J;(b.value!==void 0&&b.value===Ne||me)&&R(Q)},[b.value]),H=n==="popper"?o_:uG,se=H===o_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v}:{};return i.jsx(lG,{scope:r,content:j,viewport:E,onViewportChange:C,itemRefCallback:X,selectedItem:S,onItemLeave:he,itemTextRefCallback:D,focusSelectedItem:B,selectedItemText:T,position:n,isPositioned:I,searchRef:Y,children:i.jsx(wy,{as:Zo,allowPinchZoom:!0,children:i.jsx(by,{asChild:!0,trapped:b.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Me(s,Q=>{var Ne;(Ne=b.trigger)==null||Ne.focus({preventScroll:!0}),Q.preventDefault()}),children:i.jsx(vd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(H,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Q=>Q.preventDefault(),...w,...se,onPlaced:()=>M(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Me(w.onKeyDown,Q=>{const Ne=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!Ne&&Q.key.length===1&&K(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let me=_().filter(L=>!L.disabled).map(L=>L.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const L=Q.target,q=me.indexOf(L);me=me.slice(q+1)}setTimeout(()=>W(me)),Q.preventDefault()}})})})})})})});cG.displayName=eje;var tje="SelectItemAlignedPosition",uG=g.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,a=Uc(od,r),o=qc(od,r),[l,c]=g.useState(null),[u,d]=g.useState(null),h=Tt(e,P=>d(P)),f=_j(r),m=g.useRef(!1),x=g.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:w,focusSelectedItem:b}=o,j=g.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&v&&w){const P=a.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),T=w.getBoundingClientRect();if(a.dir!=="rtl"){const L=T.left-S.left,q=A.left-L,ee=P.left-q,te=P.width+ee,ce=Math.max(te,S.width),ge=window.innerWidth-ea,pe=a_(q,[ea,Math.max(ea,ge-ce)]);l.style.minWidth=te+"px",l.style.left=pe+"px"}else{const L=S.right-T.right,q=window.innerWidth-A.right-L,ee=window.innerWidth-P.right-q,te=P.width+ee,ce=Math.max(te,S.width),ge=window.innerWidth-ea,pe=a_(q,[ea,Math.max(ea,ge-ce)]);l.style.minWidth=te+"px",l.style.right=pe+"px"}const R=f(),_=window.innerHeight-ea*2,I=p.scrollHeight,M=window.getComputedStyle(u),z=parseInt(M.borderTopWidth,10),W=parseInt(M.paddingTop,10),B=parseInt(M.borderBottomWidth,10),$=parseInt(M.paddingBottom,10),U=z+W+I+$+B,Y=Math.min(v.offsetHeight*5,U),K=window.getComputedStyle(p),X=parseInt(K.paddingTop,10),he=parseInt(K.paddingBottom,10),D=P.top+P.height/2-ea,H=_-D,se=v.offsetHeight/2,Q=v.offsetTop+se,Ne=z+W+Q,J=U-Ne;if(Ne<=D){const L=R.length>0&&v===R[R.length-1].ref.current;l.style.bottom="0px";const q=u.clientHeight-p.offsetTop-p.offsetHeight,ee=Math.max(H,se+(L?he:0)+q+B),te=Ne+ee;l.style.height=te+"px"}else{const L=R.length>0&&v===R[0].ref.current;l.style.top="0px";const ee=Math.max(D,z+p.offsetTop+(L?X:0)+se)+J;l.style.height=ee+"px",p.scrollTop=Ne-D+p.offsetTop}l.style.margin=`${ea}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=_+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,a.trigger,a.valueNode,l,u,p,v,w,a.dir,n]);Yn(()=>j(),[j]);const[N,E]=g.useState();Yn(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const C=g.useCallback(P=>{P&&x.current===!0&&(j(),b==null||b(),x.current=!1)},[j,b]);return i.jsx(nje,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:i.jsx(et.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});uG.displayName=tje;var rje="SelectPopperPosition",o_=g.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ea,...a}=t,o=Aj(r);return i.jsx(tj,{...o,...a,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});o_.displayName=rje;var[nje,uI]=Sm(od,{}),l_="SelectViewport",dG=g.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,a=qc(l_,r),o=uI(l_,r),l=Tt(e,a.onViewportChange),c=g.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Pj.Slot,{scope:r,children:i.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Me(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const x=window.innerHeight-ea*2,p=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),w=Math.max(p,v);if(w<x){const b=w+m,j=Math.min(x,b),N=b-j;h.style.height=j+"px",h.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});dG.displayName=l_;var hG="SelectGroup",[sje,ije]=Sm(hG),aje=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=ga();return i.jsx(sje,{scope:r,id:s,children:i.jsx(et.div,{role:"group","aria-labelledby":s,...n,ref:e})})});aje.displayName=hG;var fG="SelectLabel",mG=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=ije(fG,r);return i.jsx(et.div,{id:s.id,...n,ref:e})});mG.displayName=fG;var Qb="SelectItem",[oje,pG]=Sm(Qb),gG=g.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=t,l=Uc(Qb,r),c=qc(Qb,r),u=l.value===n,[d,h]=g.useState(a??""),[f,m]=g.useState(!1),x=Tt(e,b=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,b,n,s)}),p=ga(),v=g.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(oje,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:g.useCallback(b=>{h(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(Pj.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(et.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Me(o.onFocus,()=>m(!0)),onBlur:Me(o.onBlur,()=>m(!1)),onClick:Me(o.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:Me(o.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:Me(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Me(o.onPointerMove,b=>{var j;v.current=b.pointerType,s?(j=c.onItemLeave)==null||j.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(o.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Me(o.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(G1e.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});gG.displayName=Qb;var Mp="SelectItemText",xG=g.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...a}=t,o=Uc(Mp,r),l=qc(Mp,r),c=pG(Mp,r),u=X1e(Mp,r),[d,h]=g.useState(null),f=Tt(e,w=>h(w),c.onItemTextChange,w=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,w,c.value,c.disabled)}),m=d==null?void 0:d.textContent,x=g.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Yn(()=>(p(x),()=>v(x)),[p,v,x]),i.jsxs(i.Fragment,{children:[i.jsx(et.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ic.createPortal(a.children,o.valueNode):null]})});xG.displayName=Mp;var yG="SelectItemIndicator",vG=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return pG(yG,r).isSelected?i.jsx(et.span,{"aria-hidden":!0,...n,ref:e}):null});vG.displayName=yG;var c_="SelectScrollUpButton",bG=g.forwardRef((t,e)=>{const r=qc(c_,t.__scopeSelect),n=uI(c_,t.__scopeSelect),[s,a]=g.useState(!1),o=Tt(e,n.onScrollButtonChange);return Yn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(jG,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});bG.displayName=c_;var u_="SelectScrollDownButton",wG=g.forwardRef((t,e)=>{const r=qc(u_,t.__scopeSelect),n=uI(u_,t.__scopeSelect),[s,a]=g.useState(!1),o=Tt(e,n.onScrollButtonChange);return Yn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(jG,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});wG.displayName=u_;var jG=g.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,a=qc("SelectScrollButton",r),o=g.useRef(null),l=_j(r),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Yn(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(et.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Me(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Me(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Me(s.onPointerLeave,()=>{c()})})}),lje="SelectSeparator",NG=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(et.div,{"aria-hidden":!0,...n,ref:e})});NG.displayName=lje;var d_="SelectArrow",cje=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Aj(r),a=Uc(d_,r),o=qc(d_,r);return a.open&&o.position==="popper"?i.jsx(rj,{...s,...n,ref:e}):null});cje.displayName=d_;function SG(t){return t===""||t===void 0}var EG=g.forwardRef((t,e)=>{const{value:r,...n}=t,s=g.useRef(null),a=Tt(e,s),o=lI(r);return g.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const h=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(h)}},[o,r]),i.jsx(dy,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});EG.displayName="BubbleSelect";function PG(t){const e=Fr(t),r=g.useRef(""),n=g.useRef(0),s=g.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function _G(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=uje(t,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function uje(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var dje=eG,AG=rG,hje=sG,fje=iG,mje=aG,TG=oG,pje=dG,CG=mG,kG=gG,gje=xG,xje=vG,IG=bG,RG=wG,OG=NG;const Ml=dje,$l=hje,To=g.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(AG,{ref:n,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(fje,{asChild:!0,children:i.jsx(ff,{className:"h-4 w-4 opacity-50"})})]}));To.displayName=AG.displayName;const DG=g.forwardRef(({className:t,...e},r)=>i.jsx(IG,{ref:r,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(r7,{className:"h-4 w-4"})}));DG.displayName=IG.displayName;const MG=g.forwardRef(({className:t,...e},r)=>i.jsx(RG,{ref:r,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(ff,{className:"h-4 w-4"})}));MG.displayName=RG.displayName;const Co=g.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>i.jsx(mje,{children:i.jsxs(TG,{ref:s,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(DG,{}),i.jsx(pje,{className:He("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(MG,{})]})}));Co.displayName=TG.displayName;const yje=g.forwardRef(({className:t,...e},r)=>i.jsx(CG,{ref:r,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));yje.displayName=CG.displayName;const $r=g.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(kG,{ref:n,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(xje,{children:i.jsx(Gs,{className:"h-4 w-4"})})}),i.jsx(gje,{children:e})]}));$r.displayName=kG.displayName;const vje=g.forwardRef(({className:t,...e},r)=>i.jsx(OG,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",t),...e}));vje.displayName=OG.displayName;var dt=function(){return dt=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dt.apply(this,arguments)};function bje(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function $G(t,e,r){for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function ky(t){return t.mode==="multiple"}function Iy(t){return t.mode==="range"}function Tj(t){return t.mode==="single"}var wje={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function jje(t,e){return sl(t,"LLLL y",e)}function Nje(t,e){return sl(t,"d",e)}function Sje(t,e){return sl(t,"LLLL",e)}function Eje(t){return"".concat(t)}function Pje(t,e){return sl(t,"cccccc",e)}function _je(t,e){return sl(t,"yyyy",e)}var Aje=Object.freeze({__proto__:null,formatCaption:jje,formatDay:Nje,formatMonthCaption:Sje,formatWeekNumber:Eje,formatWeekdayName:Pje,formatYearCaption:_je}),Tje=function(t,e,r){return sl(t,"do MMMM (EEEE)",r)},Cje=function(){return"Month: "},kje=function(){return"Go to next month"},Ije=function(){return"Go to previous month"},Rje=function(t,e){return sl(t,"cccc",e)},Oje=function(t){return"Week n. ".concat(t)},Dje=function(){return"Year: "},Mje=Object.freeze({__proto__:null,labelDay:Tje,labelMonthDropdown:Cje,labelNext:kje,labelPrevious:Ije,labelWeekNumber:Oje,labelWeekday:Rje,labelYearDropdown:Dje});function $je(){var t="buttons",e=wje,r=rI,n={},s={},a=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:Aje,labels:Mje,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:o,today:l,mode:"default"}}function Lje(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,s=t.toMonth,a=t.fromDate,o=t.toDate;return n?a=Ks(n):e&&(a=new Date(e,0,1)),s?o=jj(s):r&&(o=new Date(r,11,31)),{fromDate:a?bf(a):void 0,toDate:o?bf(o):void 0}}var LG=g.createContext(void 0);function Fje(t){var e,r=t.initialProps,n=$je(),s=Lje(r),a=s.fromDate,o=s.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(Tj(r)||ky(r)||Iy(r))&&(c=r.onSelect);var u=dt(dt(dt({},n),r),{captionLayout:l,classNames:dt(dt({},n.classNames),r.classNames),components:dt({},r.components),formatters:dt(dt({},n.formatters),r.formatters),fromDate:a,labels:dt(dt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:dt(dt({},n.modifiers),r.modifiers),modifiersClassNames:dt(dt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:dt(dt({},n.styles),r.styles),toDate:o});return i.jsx(LG.Provider,{value:u,children:t.children})}function wr(){var t=g.useContext(LG);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function FG(t){var e=wr(),r=e.locale,n=e.classNames,s=e.styles,a=e.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:r})})}function Vje(t){return i.jsx("svg",dt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function VG(t){var e,r,n=t.onChange,s=t.value,a=t.children,o=t.caption,l=t.className,c=t.style,u=wr(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:Vje;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),i.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:a}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Bje(t){var e,r=wr(),n=r.fromDate,s=r.toDate,a=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var h=[];if(p1e(n,s))for(var f=Ks(n),m=n.getMonth();m<=s.getMonth();m++)h.push(uS(f,m));else for(var f=Ks(new Date),m=0;m<=11;m++)h.push(uS(f,m));var x=function(v){var w=Number(v.target.value),b=uS(Ks(t.displayMonth),w);t.onChange(b)},p=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:VG;return i.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:x,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:h.map(function(v){return i.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function Uje(t){var e,r=t.displayMonth,n=wr(),s=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,f=[];if(!s)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});for(var m=s.getFullYear(),x=a.getFullYear(),p=m;p<=x;p++)f.push(u4(bH(new Date),p));var v=function(b){var j=u4(Ks(r),Number(b.target.value));t.onChange(j)},w=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:VG;return i.jsx(w,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:f.map(function(b){return i.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function qje(t,e){var r=g.useState(t),n=r[0],s=r[1],a=e===void 0?n:e;return[a,s]}function zje(t){var e=t.month,r=t.defaultMonth,n=t.today,s=e||r||n||new Date,a=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(a&&jf(a,s)<0){var u=-1*(c-1);s=pi(a,u)}return o&&jf(s,o)<0&&(s=o),Ks(s)}function Wje(){var t=wr(),e=zje(t),r=qje(e,t.month),n=r[0],s=r[1],a=function(o){var l;if(!t.disableNavigation){var c=Ks(o);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[n,a]}function Hje(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,s=Ks(t),a=Ks(pi(s,n)),o=jf(a,s),l=[],c=0;c<o;c++){var u=pi(s,c);l.push(u)}return r&&(l=l.reverse()),l}function Gje(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,s=e.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=Ks(t);if(!r)return pi(l,o);var c=jf(r,t);if(!(c<a))return pi(l,o)}}function Kje(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,s=e.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=Ks(t);if(!r)return pi(l,-o);var c=jf(l,r);if(!(c<=0))return pi(l,-o)}}var BG=g.createContext(void 0);function Yje(t){var e=wr(),r=Wje(),n=r[0],s=r[1],a=Hje(n,e),o=Gje(n,e),l=Kje(n,e),c=function(h){return a.some(function(f){return nI(h,f)})},u=function(h,f){c(h)||(f&&_H(h,f)?s(pi(h,1+e.numberOfMonths*-1)):s(h))},d={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(BG.Provider,{value:d,children:t.children})}function Ry(){var t=g.useContext(BG);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function m4(t){var e,r=wr(),n=r.classNames,s=r.styles,a=r.components,o=Ry().goToMonth,l=function(d){o(pi(d,t.displayIndex?-t.displayIndex:0))},c=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:FG,u=i.jsx(c,{id:t.id,displayMonth:t.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(Bje,{onChange:l,displayMonth:t.displayMonth}),i.jsx(Uje,{onChange:l,displayMonth:t.displayMonth})]})}function Qje(t){return i.jsx("svg",dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Xje(t){return i.jsx("svg",dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Xb=g.forwardRef(function(t,e){var r=wr(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];t.className&&a.push(t.className);var o=a.join(" "),l=dt(dt({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),i.jsx("button",dt({},t,{ref:e,type:"button",className:o,style:l}))});function Jje(t){var e,r,n=wr(),s=n.dir,a=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,h=n.components;if(!t.nextMonth&&!t.previousMonth)return i.jsx(i.Fragment,{});var f=u(t.previousMonth,{locale:a}),m=[o.nav_button,o.nav_button_previous].join(" "),x=d(t.nextMonth,{locale:a}),p=[o.nav_button,o.nav_button_next].join(" "),v=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:Xje,w=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:Qje;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&i.jsx(Xb,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?i.jsx(v,{className:o.nav_icon,style:l.nav_icon}):i.jsx(w,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&i.jsx(Xb,{name:"next-month","aria-label":x,className:p,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?i.jsx(w,{className:o.nav_icon,style:l.nav_icon}):i.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function p4(t){var e=wr().numberOfMonths,r=Ry(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return nI(t.displayMonth,x)}),c=l===0,u=l===o.length-1,d=e>1&&(c||!u),h=e>1&&(u||!c),f=function(){n&&a(n)},m=function(){s&&a(s)};return i.jsx(Jje,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:f,onNextClick:m})}function Zje(t){var e,r=wr(),n=r.classNames,s=r.disableNavigation,a=r.styles,o=r.captionLayout,l=r.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:FG,u;return s?u=i.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=i.jsx(m4,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(m4,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),i.jsx(p4,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(p4,{displayMonth:t.displayMonth,id:t.id})]}),i.jsx("div",{className:n.caption,style:a.caption,children:u})}function eNe(t){var e=wr(),r=e.footer,n=e.styles,s=e.classNames.tfoot;return r?i.jsx("tfoot",{className:s,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function tNe(t,e,r){for(var n=r?id(new Date):lo(new Date,{locale:t,weekStartsOn:e}),s=[],a=0;a<7;a++){var o=On(n,a);s.push(o)}return s}function rNe(){var t=wr(),e=t.classNames,r=t.styles,n=t.showWeekNumber,s=t.locale,a=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=tNe(s,a,o);return i.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,h){return i.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function nNe(){var t,e=wr(),r=e.classNames,n=e.styles,s=e.components,a=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:rNe;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(a,{})})}function sNe(t){var e=wr(),r=e.locale,n=e.formatters.formatDay;return i.jsx(i.Fragment,{children:n(t.date,{locale:r})})}var dI=g.createContext(void 0);function iNe(t){if(!ky(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return i.jsx(dI.Provider,{value:e,children:t.children})}return i.jsx(aNe,{initialProps:t.initialProps,children:t.children})}function aNe(t){var e=t.initialProps,r=t.children,n=e.selected,s=e.min,a=e.max,o=function(u,d,h){var f,m;(f=e.onDayClick)===null||f===void 0||f.call(e,u,d,h);var x=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!x){var p=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!p){var v=n?$G([],n):[];if(d.selected){var w=v.findIndex(function(b){return Us(u,b)});v.splice(w,1)}else v.push(u);(m=e.onSelect)===null||m===void 0||m.call(e,v,u,d,h)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=a&&n.length>a-1,h=n.some(function(f){return Us(f,u)});return!!(d&&!h)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(dI.Provider,{value:c,children:r})}function hI(){var t=g.useContext(dI);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function oNe(t,e){var r=e||{},n=r.from,s=r.to;return n&&s?Us(s,t)&&Us(n,t)?void 0:Us(s,t)?{from:s,to:void 0}:Us(n,t)?void 0:n_(n,t)?{from:t,to:s}:{from:n,to:t}:s?n_(t,s)?{from:s,to:t}:{from:t,to:s}:n?_H(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var fI=g.createContext(void 0);function lNe(t){if(!Iy(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(fI.Provider,{value:e,children:t.children})}return i.jsx(cNe,{initialProps:t.initialProps,children:t.children})}function cNe(t){var e=t.initialProps,r=t.children,n=e.selected,s=n||{},a=s.from,o=s.to,l=e.min,c=e.max,u=function(m,x,p){var v,w;(v=e.onDayClick)===null||v===void 0||v.call(e,m,x,p);var b=oNe(m,n);(w=e.onSelect)===null||w===void 0||w.call(e,b,m,x,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],Us(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),l&&(a&&!o&&d.disabled.push({after:cS(a,l-1),before:On(a,l-1)}),a&&o&&d.disabled.push({after:a,before:On(a,l-1)}),!a&&o&&d.disabled.push({after:cS(o,l-1),before:On(o,l-1)})),c){if(a&&!o&&(d.disabled.push({before:On(a,-c+1)}),d.disabled.push({after:On(a,c-1)})),a&&o){var h=za(o,a)+1,f=c-h;d.disabled.push({before:cS(a,f)}),d.disabled.push({after:On(o,f)})}!a&&o&&(d.disabled.push({before:On(o,-c+1)}),d.disabled.push({after:On(o,c-1)}))}return i.jsx(fI.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function mI(){var t=g.useContext(fI);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Fv(t){return Array.isArray(t)?$G([],t):t!==void 0?[t]:[]}function uNe(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],s=r[1];e[n]=Fv(s)}),e}var Na;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Na||(Na={}));var dNe=Na.Selected,bo=Na.Disabled,hNe=Na.Hidden,fNe=Na.Today,dS=Na.RangeEnd,hS=Na.RangeMiddle,fS=Na.RangeStart,mNe=Na.Outside;function pNe(t,e,r){var n,s=(n={},n[dNe]=Fv(t.selected),n[bo]=Fv(t.disabled),n[hNe]=Fv(t.hidden),n[fNe]=[t.today],n[dS]=[],n[hS]=[],n[fS]=[],n[mNe]=[],n);return t.fromDate&&s[bo].push({before:t.fromDate}),t.toDate&&s[bo].push({after:t.toDate}),ky(t)?s[bo]=s[bo].concat(e.modifiers[bo]):Iy(t)&&(s[bo]=s[bo].concat(r.modifiers[bo]),s[fS]=r.modifiers[fS],s[hS]=r.modifiers[hS],s[dS]=r.modifiers[dS]),s}var UG=g.createContext(void 0);function gNe(t){var e=wr(),r=hI(),n=mI(),s=pNe(e,r,n),a=uNe(e.modifiers),o=dt(dt({},s),a);return i.jsx(UG.Provider,{value:o,children:t.children})}function qG(){var t=g.useContext(UG);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function xNe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function yNe(t){return!!(t&&typeof t=="object"&&"from"in t)}function vNe(t){return!!(t&&typeof t=="object"&&"after"in t)}function bNe(t){return!!(t&&typeof t=="object"&&"before"in t)}function wNe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function jNe(t,e){var r,n=e.from,s=e.to;if(n&&s){var a=za(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var o=za(t,n)>=0&&za(s,t)>=0;return o}return s?Us(s,t):n?Us(n,t):!1}function NNe(t){return eI(t)}function SNe(t){return Array.isArray(t)&&t.every(eI)}function ENe(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(NNe(r))return Us(t,r);if(SNe(r))return r.includes(t);if(yNe(r))return jNe(t,r);if(wNe(r))return r.dayOfWeek.includes(t.getDay());if(xNe(r)){var n=za(r.before,t),s=za(r.after,t),a=n>0,o=s<0,l=n_(r.before,r.after);return l?o&&a:a||o}return vNe(r)?za(t,r.after)>0:bNe(r)?za(r.before,t)>0:typeof r=="function"?r(t):!1})}function pI(t,e,r){var n=Object.keys(e).reduce(function(a,o){var l=e[o];return ENe(t,l)&&a.push(o),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!nI(t,r)&&(s.outside=!0),s}function PNe(t,e){for(var r=Ks(t[0]),n=jj(t[t.length-1]),s,a,o=r;o<=n;){var l=pI(o,e),c=!l.disabled&&!l.hidden;if(!c){o=On(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),s||(s=o),o=On(o,1)}return a||s}var _Ne=365;function zG(t,e){var r=e.moveBy,n=e.direction,s=e.context,a=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,f={day:On,week:Ih,month:pi,year:nwe,startOfWeek:function(v){return s.ISOWeek?id(v):lo(v,{locale:h,weekStartsOn:c})},endOfWeek:function(v){return s.ISOWeek?wH(v):tI(v,{locale:h,weekStartsOn:c})}},m=f[r](t,n==="after"?1:-1);n==="before"&&u?m=swe([u,m]):n==="after"&&d&&(m=iwe([d,m]));var x=!0;if(a){var p=pI(m,a);x=!p.disabled&&!p.hidden}return x?m:l.count>_Ne?l.lastFocused:zG(m,{moveBy:r,direction:n,context:s,modifiers:a,retry:dt(dt({},l),{count:l.count+1})})}var WG=g.createContext(void 0);function ANe(t){var e=Ry(),r=qG(),n=g.useState(),s=n[0],a=n[1],o=g.useState(),l=o[0],c=o[1],u=PNe(e.displayMonths,r),d=s??(l&&e.isDateDisplayed(l))?l:u,h=function(){c(s),a(void 0)},f=function(v){a(v)},m=wr(),x=function(v,w){if(s){var b=zG(s,{moveBy:v,direction:w,context:m,modifiers:r});Us(s,b)||(e.goToDate(b,s),f(b))}},p={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return i.jsx(WG.Provider,{value:p,children:t.children})}function gI(){var t=g.useContext(WG);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function TNe(t,e){var r=qG(),n=pI(t,r,e);return n}var xI=g.createContext(void 0);function CNe(t){if(!Tj(t.initialProps)){var e={selected:void 0};return i.jsx(xI.Provider,{value:e,children:t.children})}return i.jsx(kNe,{initialProps:t.initialProps,children:t.children})}function kNe(t){var e=t.initialProps,r=t.children,n=function(a,o,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,a,o,l),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,o,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,o,l)},s={selected:e.selected,onDayClick:n};return i.jsx(xI.Provider,{value:s,children:r})}function HG(){var t=g.useContext(xI);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function INe(t,e){var r=wr(),n=HG(),s=hI(),a=mI(),o=gI(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,f=o.focus,m=o.focusMonthBefore,x=o.focusMonthAfter,p=o.focusYearBefore,v=o.focusYearAfter,w=o.focusStartOfWeek,b=o.focusEndOfWeek,j=function(B){var $,U,Y,K;Tj(r)?($=n.onDayClick)===null||$===void 0||$.call(n,t,e,B):ky(r)?(U=s.onDayClick)===null||U===void 0||U.call(s,t,e,B):Iy(r)?(Y=a.onDayClick)===null||Y===void 0||Y.call(a,t,e,B):(K=r.onDayClick)===null||K===void 0||K.call(r,t,e,B)},N=function(B){var $;f(t),($=r.onDayFocus)===null||$===void 0||$.call(r,t,e,B)},E=function(B){var $;h(),($=r.onDayBlur)===null||$===void 0||$.call(r,t,e,B)},C=function(B){var $;($=r.onDayMouseEnter)===null||$===void 0||$.call(r,t,e,B)},P=function(B){var $;($=r.onDayMouseLeave)===null||$===void 0||$.call(r,t,e,B)},S=function(B){var $;($=r.onDayPointerEnter)===null||$===void 0||$.call(r,t,e,B)},A=function(B){var $;($=r.onDayPointerLeave)===null||$===void 0||$.call(r,t,e,B)},T=function(B){var $;($=r.onDayTouchCancel)===null||$===void 0||$.call(r,t,e,B)},R=function(B){var $;($=r.onDayTouchEnd)===null||$===void 0||$.call(r,t,e,B)},_=function(B){var $;($=r.onDayTouchMove)===null||$===void 0||$.call(r,t,e,B)},I=function(B){var $;($=r.onDayTouchStart)===null||$===void 0||$.call(r,t,e,B)},M=function(B){var $;($=r.onDayKeyUp)===null||$===void 0||$.call(r,t,e,B)},z=function(B){var $;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),u();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),d();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?p():m();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?v():x();break;case"Home":B.preventDefault(),B.stopPropagation(),w();break;case"End":B.preventDefault(),B.stopPropagation(),b();break}($=r.onDayKeyDown)===null||$===void 0||$.call(r,t,e,B)},W={onClick:j,onFocus:N,onBlur:E,onKeyDown:z,onKeyUp:M,onMouseEnter:C,onMouseLeave:P,onPointerEnter:S,onPointerLeave:A,onTouchCancel:T,onTouchEnd:R,onTouchMove:_,onTouchStart:I};return W}function RNe(){var t=wr(),e=HG(),r=hI(),n=mI(),s=Tj(t)?e.selected:ky(t)?r.selected:Iy(t)?n.selected:void 0;return s}function ONe(t){return Object.values(Na).includes(t)}function DNe(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var s=t.modifiersClassNames[n];if(s)r.push(s);else if(ONe(n)){var a=t.classNames["day_".concat(n)];a&&r.push(a)}}),r}function MNe(t,e){var r=dt({},t.styles.day);return Object.keys(e).forEach(function(n){var s;r=dt(dt({},r),(s=t.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function $Ne(t,e,r){var n,s,a,o=wr(),l=gI(),c=TNe(t,e),u=INe(t,c),d=RNe(),h=!!(o.onDayClick||o.mode!=="default");g.useEffect(function(){var C;c.outside||l.focusedDay&&h&&Us(l.focusedDay,t)&&((C=r.current)===null||C===void 0||C.focus())},[l.focusedDay,t,r,h,c.outside]);var f=DNe(o,c).join(" "),m=MNe(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(a=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:sNe,v=i.jsx(p,{date:t,displayMonth:e,activeModifiers:c}),w={style:m,className:f,children:v,role:"gridcell"},b=l.focusTarget&&Us(l.focusTarget,t)&&!c.outside,j=l.focusedDay&&Us(l.focusedDay,t),N=dt(dt(dt({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=j||b?0:-1,n)),u),E={isButton:h,isHidden:x,activeModifiers:c,selectedDays:d,buttonProps:N,divProps:w};return E}function LNe(t){var e=g.useRef(null),r=$Ne(t.date,t.displayMonth,e);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(Xb,dt({name:"day",ref:e},r.buttonProps)):i.jsx("div",dt({},r.divProps))}function FNe(t){var e=t.number,r=t.dates,n=wr(),s=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return i.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var h=c(Number(e),{locale:l}),f=function(m){s(e,r,m)};return i.jsx(Xb,{name:"week-number","aria-label":h,className:o.weeknumber,style:a.weeknumber,onClick:f,children:d})}function VNe(t){var e,r,n=wr(),s=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:LNe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:FNe,d;return o&&(d=i.jsx("td",{className:a.cell,style:s.cell,children:i.jsx(u,{number:t.weekNumber,dates:t.dates})})),i.jsxs("tr",{className:a.row,style:s.row,children:[d,t.dates.map(function(h){return i.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:i.jsx(c,{displayMonth:t.displayMonth,date:h})},h1e(h))})]})}function g4(t,e,r){for(var n=r!=null&&r.ISOWeek?wH(e):tI(e,r),s=r!=null&&r.ISOWeek?id(t):lo(t,r),a=za(n,s),o=[],l=0;l<=a;l++)o.push(On(s,l));var c=o.reduce(function(u,d){var h=r!=null&&r.ISOWeek?jH(d):SH(d,r),f=u.find(function(m){return m.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function BNe(t,e){var r=g4(Ks(t),jj(t),e);if(e!=null&&e.useFixedWeeks){var n=m1e(t,e);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],o=Ih(a,6-n),l=g4(Ih(a,1),o,e);r.push.apply(r,l)}}return r}function UNe(t){var e,r,n,s=wr(),a=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,m=s.ISOWeek,x=BNe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:a,weekStartsOn:h,firstWeekContainsDate:f}),p=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:nNe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:VNe,w=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:eNe;return i.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&i.jsx(p,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(b){return i.jsx(v,{displayMonth:t.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),i.jsx(w,{displayMonth:t.displayMonth})]})}function qNe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var zNe=qNe()?g.useLayoutEffect:g.useEffect,mS=!1,WNe=0;function x4(){return"react-day-picker-".concat(++WNe)}function HNe(t){var e,r=t??(mS?x4():null),n=g.useState(r),s=n[0],a=n[1];return zNe(function(){s===null&&a(x4())},[]),g.useEffect(function(){mS===!1&&(mS=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function GNe(t){var e,r,n=wr(),s=n.dir,a=n.classNames,o=n.styles,l=n.components,c=Ry().displayMonths,u=HNe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,h=[a.month],f=o.month,m=t.displayIndex===0,x=t.displayIndex===c.length-1,p=!m&&!x;s==="rtl"&&(e=[m,x],x=e[0],m=e[1]),m&&(h.push(a.caption_start),f=dt(dt({},f),o.caption_start)),x&&(h.push(a.caption_end),f=dt(dt({},f),o.caption_end)),p&&(h.push(a.caption_between),f=dt(dt({},f),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Zje;return i.jsxs("div",{className:h.join(" "),style:f,children:[i.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(UNe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function KNe(t){var e=wr(),r=e.classNames,n=e.styles;return i.jsx("div",{className:r.months,style:n.months,children:t.children})}function YNe(t){var e,r,n=t.initialProps,s=wr(),a=gI(),o=Ry(),l=g.useState(!1),c=l[0],u=l[1];g.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=dt(dt({},s.styles.root),s.style),f=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,p){var v;return dt(dt({},x),(v={},v[p]=n[p],v))},{}),m=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:KNe;return i.jsx("div",dt({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:i.jsx(m,{children:o.displayMonths.map(function(x,p){return i.jsx(GNe,{displayIndex:p,displayMonth:x},p)})})}))}function QNe(t){var e=t.children,r=bje(t,["children"]);return i.jsx(Fje,{initialProps:r,children:i.jsx(Yje,{children:i.jsx(CNe,{initialProps:r,children:i.jsx(iNe,{initialProps:r,children:i.jsx(lNe,{initialProps:r,children:i.jsx(gNe,{children:i.jsx(ANe,{children:e})})})})})})})}function XNe(t){return i.jsx(QNe,dt({},t,{children:i.jsx(YNe,{initialProps:t})}))}function GG({className:t,classNames:e,showOutsideDays:r=!0,...n}){return i.jsx(XNe,{showOutsideDays:r,className:He("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:He(QP({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:He(QP({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>i.jsx(Fce,{className:"h-4 w-4"}),IconRight:({...s})=>i.jsx(UC,{className:"h-4 w-4"})},...n})}GG.displayName="Calendar";const JNe=({value:t,onChange:e,className:r=""})=>{var S;const[n,s]=g.useState(!1),[a,o]=g.useState("quick"),[l,c]=g.useState("1hour"),[u,d]=g.useState(new Date);g.useState("12:00");const[h,f]=g.useState("1"),[m,x]=g.useState("hours"),p=[{value:"5min",label:"5 minutes",icon:"",color:"text-red-600"},{value:"15min",label:"15 minutes",icon:"",color:"text-orange-600"},{value:"30min",label:"30 minutes",icon:"",color:"text-yellow-600"},{value:"1hour",label:"1 hour",icon:"",color:"text-blue-600"},{value:"2hours",label:"2 hours",icon:"",color:"text-indigo-600"},{value:"6hours",label:"6 hours",icon:"",color:"text-purple-600"},{value:"12hours",label:"12 hours",icon:"",color:"text-pink-600"},{value:"1day",label:"1 day",icon:"",color:"text-green-600"},{value:"3days",label:"3 days",icon:"",color:"text-emerald-600"},{value:"1week",label:"1 week",icon:"",color:"text-teal-600"},{value:"2weeks",label:"2 weeks",icon:"",color:"text-cyan-600"},{value:"1month",label:"1 month",icon:"",color:"text-sky-600"}],v=[{value:"minutes",label:"Minutes",max:59},{value:"hours",label:"Hours",max:23},{value:"days",label:"Days",max:30},{value:"weeks",label:"Weeks",max:12},{value:"months",label:"Months",max:12}],w=()=>{const A=new Date;if(a==="quick")switch(l){case"5min":return W0(A,5);case"15min":return W0(A,15);case"30min":return W0(A,30);case"1hour":return tu(A,1);case"2hours":return tu(A,2);case"6hours":return tu(A,6);case"12hours":return tu(A,12);case"1day":return On(A,1);case"3days":return On(A,3);case"1week":return Ih(A,1);case"2weeks":return Ih(A,2);case"1month":return pi(A,1);default:return tu(A,1)}else{const T=parseInt(h)||1,R=u||A;switch(m){case"minutes":return W0(R,T);case"hours":return tu(R,T);case"days":return On(R,T);case"weeks":return Ih(R,T);case"months":return pi(R,T);default:return tu(R,T)}}},b=A=>{c(A);const T=w();e(T)},j=()=>{const A=w();e(A),s(!1)},N=A=>{const T=new Date,R=(A.getTime()-T.getTime())/(1e3*60*60);return R<1?{level:"critical",color:"bg-red-100 text-red-800",icon:""}:R<6?{level:"urgent",color:"bg-orange-100 text-orange-800",icon:""}:R<24?{level:"high",color:"bg-yellow-100 text-yellow-800",icon:""}:R<72?{level:"medium",color:"bg-blue-100 text-blue-800",icon:""}:{level:"low",color:"bg-green-100 text-green-800",icon:""}},E=A=>{const T=new Date,R=A.getTime()-T.getTime(),_=Math.floor(R/(1e3*60)),I=Math.floor(R/(1e3*60*60)),M=Math.floor(R/(1e3*60*60*24));return _<60?`${_} minutes`:I<24?`${I} hours`:M<7?`${M} days`:sl(A,"MMM dd, yyyy")},C=t?new Date(t):w(),P=N(C);return i.jsxs("div",{className:`space-y-4 ${r}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-5 w-5 text-slate-600"}),i.jsx(ht,{className:"text-sm font-medium",children:"Response Deadline"}),t&&i.jsxs(Pe,{className:P.color,children:[i.jsx("span",{className:"mr-1",children:P.icon}),E(C)]})]}),i.jsxs(HH,{open:n,onOpenChange:s,children:[i.jsx(GH,{asChild:!0,children:i.jsxs(G,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[i.jsx(BC,{className:"mr-2 h-4 w-4"}),t?E(C):"Set deadline"]})}),i.jsx(oI,{className:"w-80 p-0",align:"start",children:i.jsxs(be,{className:"border-0 shadow-none",children:[i.jsx(vt,{className:"pb-3",children:i.jsx(cr,{className:"text-sm font-medium",children:"Set Response Deadline"})}),i.jsxs(Ve,{className:"space-y-4",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(G,{variant:a==="quick"?"default":"outline",size:"sm",onClick:()=>o("quick"),className:"flex-1",children:"Quick Select"}),i.jsx(G,{variant:a==="custom"?"default":"outline",size:"sm",onClick:()=>o("custom"),className:"flex-1",children:"Custom"})]}),a==="quick"?i.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(A=>i.jsxs(G,{variant:l===A.value?"default":"outline",size:"sm",onClick:()=>b(A.value),className:"justify-start text-xs",children:[i.jsx("span",{className:"mr-1",children:A.icon}),A.label]},A.value))}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ht,{className:"text-xs text-slate-600",children:"Start Date"}),i.jsx(GG,{mode:"single",selected:u,onSelect:d,className:"rounded-md border"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx(ht,{className:"text-xs text-slate-600",children:"Duration"}),i.jsx(gr,{type:"number",value:h,onChange:A=>f(A.target.value),min:"1",max:((S=v.find(A=>A.value===m))==null?void 0:S.max)||12,className:"text-sm"})]}),i.jsxs("div",{children:[i.jsx(ht,{className:"text-xs text-slate-600",children:"Type"}),i.jsxs(Ml,{value:m,onValueChange:x,children:[i.jsx(To,{className:"text-sm",children:i.jsx($l,{})}),i.jsx(Co,{children:v.map(A=>i.jsx($r,{value:A.value,children:A.label},A.value))})]})]})]}),i.jsx(G,{onClick:j,className:"w-full",children:"Apply Custom Time"})]}),t&&i.jsx("div",{className:"pt-3 border-t",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Deadline:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Pe,{className:P.color,children:[i.jsx("span",{className:"mr-1",children:P.icon}),P.level.toUpperCase()]}),i.jsx("span",{className:"font-medium",children:sl(C,"MMM dd, yyyy HH:mm")})]})]})})]})]})})]})]})};function ZNe(){const{user:t,isProfileVerified:e,profileVerificationStatus:r,loading:n}=Dr(),s=e||r==="approved"||r==="verified"||r==="completed";g.useEffect(()=>{console.log(" PostEnquiry Debug:",{isProfileVerified:e,profileVerificationStatus:r,isUserVerified:s,authLoading:n,userId:t==null?void 0:t.uid,shouldShowID:!s})},[e,r,s,n,t==null?void 0:t.uid]);const{canPostEnquiry:a,incrementEnquiries:o,getRemainingEnquiries:l}=vm();Ime();const c=Zr(),[u,d]=g.useState(""),[h,f]=g.useState(""),[m,x]=g.useState(""),[p,v]=g.useState([]),[w,b]=g.useState(""),[j,N]=g.useState(""),[E,C]=g.useState(null),[P,S]=g.useState(null),[A,T]=g.useState(""),[R,_]=g.useState(!1),[I,M]=g.useState(!1),[z,W]=g.useState(!1),[B,$]=g.useState("form"),[U,Y]=g.useState({cardNumber:"",expiryDate:"",cvv:"",name:""}),[K,X]=g.useState(!1),[he,D]=g.useState(!1),[H,se]=g.useState(null),[Q,Ne]=g.useState(null),[J,me]=g.useState(!1),[L,q]=g.useState(0),[ee,te]=g.useState(""),[ce,ge]=g.useState(null),[pe,ie]=g.useState("pending"),[ue,de]=g.useState(!1),[Te,Xe]=g.useState(!1),[It,it]=g.useState([]),[pt,at]=g.useState(!1),Rt=async()=>{if(!(!P||!(t!=null&&t.uid))){if(R||z||K){console.warn(" Payment blocked: Already processing or already submitted");return}$("processing"),W(!0);try{const ne=await CH("temp-enquiry-id",t.uid,P,U);$("success"),setTimeout(async()=>{var Z;if(K){console.warn(" Enquiry creation blocked: Already submitted"),W(!1),M(!1);return}try{_(!0);const Re={title:u.trim(),description:h.trim(),category:p.length>0?p[0]:"other",categories:p.length>0?p:["other"],budget:w?parseFloat(w.replace(/[^\d]/g,"")):null,location:j.trim(),deadline:E,isUrgent:E?(()=>{const wt=new Date;return(E.getTime()-wt.getTime())/(1e3*60*60)<72})():!1,status:"live",isPremium:P.price>0,selectedPlanId:P.id,selectedPlanPrice:P.price,paymentStatus:"completed",createdAt:Fe(),userId:t==null?void 0:t.uid,userEmail:t==null?void 0:t.email,userName:(t==null?void 0:t.displayName)||((Z=t==null?void 0:t.email)==null?void 0:Z.split("@")[0]),notes:A.trim()||null,governmentIdFront:null,governmentIdBack:null,isUserVerified:s,profileVerificationStatus:r},ze=(await ai(Ze(oe,"enquiries"),Re)).id;console.log("Premium enquiry saved successfully with ID:",ze);const ke=await Sj(ze,t.uid,P,ne.transactionId||"");await Ej(t.uid,P.id,ke,ze),ge(ze),ie("live"),de(!0),o(),X(!0),Xe(!0),le({title:"Payment Successful! ",description:"Your premium enquiry is now live!"})}catch(Re){console.error("Error creating premium enquiry:",Re),le({title:"Error",description:"Failed to create enquiry. Please try again.",variant:"destructive"})}finally{_(!1)}W(!1),M(!1),$("form"),Y({cardNumber:"",expiryDate:"",cvv:"",name:""})},1e3)}catch(ne){console.error("Payment failed:",ne),$("failed"),W(!1)}}},_r=()=>{$("form"),W(!1),Y({cardNumber:"",expiryDate:"",cvv:"",name:""}),M(!1)};if(g.useEffect(()=>{if(!t){c("/signin",{state:{message:"Please sign in to post an enquiry",redirectTo:"/post-enquiry"}});return}},[t,c]),g.useEffect(()=>{t&&(async()=>{try{console.log("Testing database connection...");const Z=jt(Ze(oe,"enquiries"),$u(1)),Re=await Bt(Z);console.log("Database connection successful, found",Re.size,"documents")}catch(Z){console.error("Database connection failed:",Z),alert("Database connection failed. Please check your internet connection and try again.")}})()},[t]),g.useEffect(()=>{if(!ce){console.log(" No submittedEnquiryId, skipping real-time listener setup");return}console.log(" Setting up REAL-TIME listener for enquiry:",ce),console.log(" This works for BOTH free and premium submissions"),window.scrollTo(0,0);const ne=Ce(oe,"enquiries",ce);let Z,Re=!1,Ae=0,ze="pending";return Z=setInterval(async()=>{if(Ae++,console.log(` POLLING ATTEMPT #${Ae} for enquiry:`,ce),Re){console.log(" Navigation already triggered, stopping polling"),clearInterval(Z);return}try{const ke=await Ft(ne);if(ke.exists()){const Lt=ke.data().status;console.log(" POLLING CHECK #"+Ae+" - Current status:",Lt,"Previous:",ze),ze=Lt,ie(Lt),Lt==="live"||Lt==="approved"?(Re=!0,de(!0),console.log(" ENQUIRY APPROVED! Auto-navigating to live enquiries page..."),console.log(" Status changed from pending to",Lt),clearInterval(Z),le({title:"Enquiry Approved! ",description:"Your enquiry is now live and visible to sellers!"}),console.log(" NAVIGATING TO LIVE ENQUIRIES NOW..."),c("/enquiries")):Lt==="rejected"?(Re=!0,console.log(" ENQUIRY REJECTED! Auto-navigating to dashboard..."),clearInterval(Z),le({title:"Enquiry Rejected",description:"Your enquiry was not approved. Check your dashboard for details.",variant:"destructive"}),console.log(" NAVIGATING TO DASHBOARD NOW..."),c("/dashboard")):console.log(" Status update:",Lt,"(no navigation needed)")}else console.log(" Document not found for enquiry:",ce)}catch(ke){console.error(" Error in polling check #"+Ae+":",ke)}},1e3),()=>{console.log(" Cleaning up enquiry status listener and polling"),clearInterval(Z)}},[ce,c]),!t)return i.jsx(Nt,{children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pal-blue mx-auto mb-4"}),i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground whitespace-nowrap",children:"Redirecting to sign in..."})]})})});I&&(B==="form"&&(P!=null&&P.name,P!=null&&P.price,P!=null&&P.description,U.cardNumber,U.expiryDate,U.cvv,U.name,z||!U.cardNumber||!U.expiryDate||!U.cvv||U.name,z||`${(P==null?void 0:P.price)||0}`));let Xt=[{value:"jobs",label:"Jobs & Employment",group:"Professional"},{value:"professional-services",label:"Professional Services",group:"Professional"},{value:"real-estate",label:"Real Estate",group:"Professional"},{value:"real-estate-services",label:"Real Estate Services",group:"Professional"},{value:"legal-financial",label:"Legal & Financial",group:"Professional"},{value:"marketing-advertising",label:"Marketing & Advertising",group:"Professional"},{value:"insurance-services",label:"Insurance Services",group:"Professional"},{value:"government-public",label:"Government & Public",group:"Professional"},{value:"non-profit-charity",label:"Non-Profit & Charity",group:"Professional"},{value:"antiques",label:"Antiques",group:"Products"},{value:"art",label:"Art & Artifacts",group:"Products"},{value:"automobile",label:"Automobile",group:"Products"},{value:"books-publications",label:"Books & Publications",group:"Products"},{value:"collectibles",label:"Collectibles",group:"Products"},{value:"electronics-gadgets",label:"Electronics & Gadgets",group:"Products"},{value:"fashion-apparel",label:"Fashion & Apparel",group:"Products"},{value:"home-furniture",label:"Home & Furniture",group:"Products"},{value:"jewelry-accessories",label:"Jewelry & Accessories",group:"Products"},{value:"memorabilia",label:"Memorabilia",group:"Products"},{value:"sneakers",label:"Sneakers",group:"Products"},{value:"souvenir",label:"Souvenir",group:"Products"},{value:"thrift",label:"Thrift",group:"Products"},{value:"vintage",label:"Vintage Items",group:"Products"},{value:"agriculture-farming",label:"Agriculture & Farming",group:"Lifestyle"},{value:"childcare-family",label:"Childcare & Family",group:"Lifestyle"},{value:"education-training",label:"Education & Training",group:"Lifestyle"},{value:"entertainment-media",label:"Entertainment & Media",group:"Lifestyle"},{value:"events-entertainment",label:"Events & Entertainment",group:"Lifestyle"},{value:"food-beverage",label:"Food & Beverage",group:"Lifestyle"},{value:"gaming-recreation",label:"Gaming & Recreation",group:"Lifestyle"},{value:"health-beauty",label:"Health & Beauty",group:"Lifestyle"},{value:"pets",label:"Pets & Animals",group:"Lifestyle"},{value:"sports-outdoor",label:"Sports & Outdoor",group:"Lifestyle"},{value:"travel-tourism",label:"Travel & Tourism",group:"Lifestyle"},{value:"wedding-events",label:"Wedding & Events",group:"Lifestyle"},{value:"technology",label:"Technology",group:"Technology"},{value:"renewable-energy",label:"Renewable Energy",group:"Technology"},{value:"construction-renovation",label:"Construction & Renovation",group:"Industrial"},{value:"raw-materials-industrial",label:"Raw Materials & Industrial",group:"Industrial"},{value:"transportation-logistics",label:"Transportation & Logistics",group:"Industrial"},{value:"waste-management",label:"Waste Management",group:"Industrial"},{value:"security-safety",label:"Security & Safety",group:"Security"},{value:"other",label:"Other",group:"Other"}];Xt=[...Xt.filter(ne=>ne.value!=="other").sort((ne,Z)=>ne.label.localeCompare(Z.label)),Xt.find(ne=>ne.value==="other")],l();const fs=ne=>{v(Z=>Z.includes(ne)?Z.filter(Re=>Re!==ne):Z.length<3?[...Z,ne]:Z)},rr=ne=>{const Z=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry","Mumbai","Delhi","Bangalore","Hyderabad","Ahmedabad","Chennai","Kolkata","Surat","Pune","Jaipur","Lucknow","Kanpur","Nagpur","Indore","Thane","Bhopal","Visakhapatnam","Pimpri-Chinchwad","Patna","Vadodara","Ghaziabad","Ludhiana","Agra","Nashik","Faridabad","Meerut","Rajkot","Kalyan-Dombivali","Vasai-Virar","Varanasi","Srinagar","Aurangabad","Navi Mumbai","Solapur","Vijayawada","Ranchi","Chandigarh","Mysore","Jodhpur","Guwahati","Jabalpur","Gwalior","Noida","Coimbatore","Kochi","Bhubaneswar","Dehradun","Amritsar","Allahabad","Howrah","Rourkela","Dhanbad","Asansol","Nanded","Kolhapur","Ajmer","Guntur","Salem","Warangal","Udaipur","Tiruchirappalli","Kozhikode","Thrissur","Alappuzha","Vellore","Tirunelveli","Kollam","Kottayam","Palakkad","Malappuram","Kannur","Pathanamthitta","Ernakulam","Wayanad","Idukki","Aligarh","Ambala","Bareilly","Belgaum","Bhavnagar","Bilaspur","Cuttack","Durgapur","Gaya","Gorakhpur","Hubli","Jamnagar","Jhansi","Kakinada","Kharagpur","Kurnool","Mathura","Moradabad","Muzaffarnagar","Muzaffarpur","Nellore","Panipat","Rohtak","Saharanpur","Sangli","Shimla","Siliguri","Tirupati","Ujjain","Vellore","Vijayanagaram","Yamunanagar","Anywhere","Everywhere","Remote","Work from Home","Online","Virtual","Global","International"];if(!ne.trim()){it([]);return}const Re=Z.filter(Ae=>Ae.toLowerCase().includes(ne.toLowerCase())).slice(0,12);it(Re)},hr=ne=>{const Z=ne.target.value;N(Z),rr(Z),at(!0)},ms=ne=>{N(ne),at(!1),it([])},Is=async ne=>{if(ne.preventDefault(),R||K){console.warn(" Submission blocked: Already submitting or already submitted");return}if(console.log(" FORM SUBMITTED! "),console.log("Form submission started"),console.log("Form data:",{title:u,description:h,category:m,budget:w,location:j,deadline:E,notes:A}),console.log("ID images:",{idFrontImage:!!H,idBackImage:!!Q}),console.log("Current loading state:",R),console.log("Current selectedPlan:",P),!t){alert("Please sign in to post an enquiry.");return}if(!a()){console.log("Cannot post enquiry - usage limit reached"),D(!0);return}if(!u.trim()||!h.trim()||p.length===0&&!m||!w.trim()||!j.trim()){alert("Please fill in all required fields (title, description, categories, budget, location).");return}if(console.log("Checking premium status:",{selectedPlan:P}),P&&P.price>0){console.log(" Opening payment modal for premium enquiry"),M(!0);return}try{_(!0);let Z=null,Re=null;if(!s&&(H||Q)){console.log("Starting ID image upload for non-verified user..."),me(!0),te("Uploading ID documents..."),q(0);try{H&&(te("Uploading front ID to Cloudinary..."),q(25),Z=await Yb(H),console.log("Front ID uploaded to Cloudinary")),Q&&(te("Uploading back ID to Cloudinary..."),q(50),Re=await Yb(Q),console.log("Back ID uploaded to Cloudinary")),q(75),te("ID documents uploaded successfully!")}catch(ke){throw console.error("Error uploading ID documents:",ke),te(`Upload failed: ${ke}`),new Error(`Failed to upload ID documents: ${ke}`)}}else e?(console.log("User is verified - skipping ID upload"),te("User verified - no ID upload needed"),q(100)):(console.log("No ID images to upload"),te("No ID images provided"),q(100));console.log("Now saving to Firestore..."),te("Saving enquiry to database..."),q(90);const Ae=!1,ze={title:u.trim(),description:h.trim(),category:p.length>0?p[0]:"other",categories:p.length>0?p:["other"],budget:w?parseFloat(w.replace(/[^\d]/g,"")):null,location:j.trim(),deadline:E,isUrgent:E?(()=>{const ke=new Date;return(E.getTime()-ke.getTime())/(1e3*60*60)<72})():!1,status:P&&P.price>0?"pending_payment":s?"live":"pending",isPremium:Ae||(P?P.price>0:!1),selectedPlanId:Ae?"premium":(P==null?void 0:P.id)||"free",selectedPlanPrice:Ae?0:(P==null?void 0:P.price)||0,isAutoProEnquiry:Ae,paymentStatus:P&&P.price>0?"pending":"completed",createdAt:Fe(),userId:t.uid,responses:0,likes:0,shares:0,views:0,userLikes:[],notes:A.trim(),userVerified:s,isProfileVerified:s};if(Z&&(ze.idFrontImage=Z),Re&&(ze.idBackImage=Re),console.log("Saving enquiry data:",ze),K){console.warn(" Duplicate submission prevented: Already submitted"),_(!1);return}try{const ke=await ai(Ze(oe,"enquiries"),ze);console.log("Enquiry saved successfully with ID:",ke.id),X(!0),ge(ke.id),ie("pending"),de(!1),q(100),te("Enquiry submitted successfully!"),console.log(" Processing free enquiry through AI approval system...");try{const{enquiryApprovalAI:wt}=await nd(async()=>{const{enquiryApprovalAI:nr}=await import("./enquiryApproval-RZPuFPt0.js");return{enquiryApprovalAI:nr}},[]),Lt={id:ke.id,title:ze.title,description:ze.description,category:ze.category,budget:ze.budget,location:ze.location,deadline:ze.deadline,isPremium:!1,userId:t.uid,createdAt:ze.createdAt};if(await wt.processEnquiry(ke.id,Lt))await ot(Ce(oe,"enquiries",ke.id),{status:"live",adminNotes:"AI Approved - High quality enquiry"}),ie("live"),de(!0),console.log(" Free enquiry approved by AI"),le({title:"Enquiry Posted Successfully! ",description:"Your enquiry is now live and visible to sellers.",variant:"default"});else{ie("pending"),console.log(" Free enquiry sent to manual review");const Ar=(await Ft(Ce(oe,"enquiries",ke.id))).data();Ar!=null&&Ar.isDuplicate?le({title:"Duplicate Detected",description:"Your enquiry appears similar to existing ones. It's under review by our team.",variant:"default"}):le({title:"Under Review",description:"Your enquiry is being reviewed. You'll be notified once it's approved.",variant:"default"})}}catch(wt){console.error(" AI processing failed for free enquiry:",wt),ie("pending"),le({title:"Enquiry Submitted",description:"Your enquiry is being reviewed. You'll be notified once it's approved.",variant:"default"})}await new Promise(wt=>setTimeout(wt,1e3)),o(),X(!0),s?(console.log(" Trust Badge User: Enquiry automatically approved and made live!"),setTimeout(()=>{c("/enquiries")},3e3)):(console.log(" PostEnquiry: Starting AI processing for enquiry:",ke.id,"User verified:",e),Lu.processEnquirySubmission(ke.id,ze).then(wt=>{wt.success?console.log(" AI: Enquiry auto-approved and made live instantly!"):wt.action==="flagged"?console.log(" AI: Enquiry flagged for manual review"):console.log(" AI: Enquiry auto-rejected")}).catch(wt=>{console.error(" AI: Error processing enquiry:",wt)}))}catch(ke){throw console.error("Error saving to Firestore:",ke),new Error(`Failed to save enquiry to database: ${ke}`)}}catch(Z){console.error("Error submitting enquiry:",Z),alert(`Failed to submit enquiry: ${(Z==null?void 0:Z.message)||"Unknown error occurred"}. Please try again.`)}finally{_(!1),me(!1),q(0),te("")}};return g.useEffect(()=>{K&&window.scrollTo(0,0)},[K]),K?i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center py-20 px-4",children:i.jsxs(be,{className:"max-w-2xl w-full mx-auto p-8 text-center shadow-xl border-2 border-blue-200 rounded-2xl",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(xt,{className:"h-8 w-8 text-green-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Enquiry sent for verification"}),i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground mb-6 leading-relaxed",children:"Our AI system will review your enquiry and make it live shortly"}),i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-200 rounded-lg p-6 mb-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-lg font-semibold text-green-700",children:" AI Processing Active"}),i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),i.jsx("p",{className:"text-[10px] sm:text-sm font-medium text-green-600 whitespace-nowrap",children:"Auto-redirect when approved"}),i.jsx("p",{className:"text-[10px] sm:text-xs mt-1 text-green-500 whitespace-nowrap",children:"Watching for updates every second"})]}),i.jsx("div",{className:"bg-pal-blue-light p-4 rounded-lg mb-6",children:i.jsxs("p",{className:"text-[10px] sm:text-sm text-pal-blue-dark whitespace-nowrap overflow-hidden text-ellipsis",children:[i.jsx(Ir,{className:"h-4 w-4 inline mr-1"}),"Your personal details remain private"]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(Je,{to:"/enquiries",children:i.jsx(G,{variant:"default",children:"Browse Other Enquiries"})}),i.jsx(Je,{to:"/dashboard",children:i.jsx(G,{variant:"outline",children:"View My Dashboard"})})]}),ce&&i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg text-left",children:[i.jsx("p",{className:"text-sm text-gray-700 mb-3 font-semibold",children:" Debug Information"}),i.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Enquiry ID:"})," ",ce]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Current Status:"})," ",pe]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Real-time monitoring:"})," ",ce?" Active":" Inactive"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"isSubmitted:"})," ",K?" True":" False"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"isEnquiryApproved:"})," ",ue?" True":" False"]})]}),i.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:i.jsx(G,{variant:"outline",size:"sm",onClick:async()=>{console.log(" MANUAL TEST: Checking enquiry status...");try{const ne=Ce(oe,"enquiries",ce),Z=await Ft(ne);if(Z.exists()){const Re=Z.data();console.log(" MANUAL TEST: Current status:",Re.status),console.log(" MANUAL TEST: Full data:",Re),le({title:"Manual Check Complete",description:`Status: ${Re.status}`})}else console.log(" MANUAL TEST: Document not found"),le({title:"Document Not Found",description:"Enquiry document not found in database",variant:"destructive"})}catch(ne){console.error(" MANUAL TEST ERROR:",ne),le({title:"Check Failed",description:"Error checking enquiry status",variant:"destructive"})}},className:"w-full",children:" Manual Status Check"})})]})]})})}):i.jsxs(Nt,{children:[i.jsx("div",{className:"min-h-screen bg-slate-50 py-6 lg:py-8",children:i.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6",children:[i.jsx("div",{className:"mb-8 rounded-2xl overflow-hidden shadow-lg",children:i.jsxs("div",{className:"bg-gray-800 px-6 py-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx(G,{variant:"ghost",onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-700 rounded-lg text-white",children:i.jsx(gn,{className:"h-5 w-5"})}),i.jsx("div",{className:"text-center flex-1",children:i.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-white tracking-tight",children:"Post Enquiry"})}),i.jsx("div",{className:"w-10"})," "]}),i.jsx("p",{className:"text-gray-300 text-[10px] sm:text-xs lg:text-sm max-w-2xl mx-auto text-center whitespace-nowrap",children:"AI matches you with verified sellers"})]})}),K&&i.jsx(be,{className:"border-2 border-blue-200 shadow-sm mb-6 rounded-2xl",children:i.jsxs(Ve,{className:"p-6 text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-6 w-6 text-green-600"})}),i.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Enquiry Posted Successfully!"}),i.jsx("p",{className:"text-[10px] sm:text-sm text-green-700 mb-4 whitespace-nowrap overflow-hidden text-ellipsis",children:"Sent for verification - You'll get notified"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[i.jsx(Je,{to:"/dashboard",children:i.jsx(G,{className:"bg-green-600 hover:bg-green-700 text-white",children:"View Dashboard"})}),i.jsx(G,{variant:"outline",onClick:()=>X(!1),className:"border-green-300 text-green-700 hover:bg-green-50",children:"Post Another Enquiry"})]})]})}),!K&&i.jsx(be,{className:"border-2 border-blue-200 shadow-sm rounded-2xl",children:i.jsx(Ve,{className:"p-6 lg:p-8",children:i.jsxs("form",{onSubmit:Is,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ht,{htmlFor:"title",className:"text-sm font-medium text-slate-700",children:[m==="jobs"?"Job Title":"What you need"," *"]}),i.jsx(gr,{id:"title",placeholder:m==="jobs"?"e.g., Senior Web Developer":"e.g., Vintage Toyota Car",value:u,onChange:ne=>d(ne.target.value),className:"h-12 sm:h-11 text-xs sm:text-base border-slate-200 focus:border-slate-400 focus:ring-slate-400 min-touch",required:!0})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ht,{className:"text-sm font-medium text-slate-700",children:"Choose Categories *"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 whitespace-nowrap overflow-hidden text-ellipsis",children:" Select up to 3 categories for better reach"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(HH,{children:[i.jsx(GH,{asChild:!0,children:i.jsxs(G,{variant:"outline",className:`w-full justify-between min-h-[44px] h-auto py-2 px-3 border-slate-200 focus:border-slate-400 focus:ring-slate-400 ${p.length===0?"border-pal-blue/30 bg-pal-blue/5":""}`,children:[i.jsx("div",{className:"flex flex-wrap gap-1.5 flex-1 text-left items-center min-w-0",children:p.length===0?i.jsx("span",{className:"text-xs sm:text-base text-slate-500",children:"Select categories..."}):p.map(ne=>{const Z=Xt.find(Re=>Re.value===ne);return i.jsx(Pe,{variant:"secondary",className:"text-[10px] sm:text-xs px-2 py-0.5 whitespace-nowrap flex-shrink-0",children:Z==null?void 0:Z.label},ne)})}),i.jsx(ff,{className:"ml-2 h-4 w-4 flex-shrink-0"})]})}),i.jsxs(oI,{className:"w-[var(--radix-popover-trigger-width)] max-w-[100vw] p-0",align:"start",children:[i.jsx("div",{className:"max-h-60 overflow-y-auto",children:Xt.map(ne=>{const Z=p.includes(ne.value),Re=!Z&&p.length>=3;return i.jsxs("div",{className:`flex items-center space-x-2 p-3 hover:bg-slate-50 ${Re?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx(ZH,{id:ne.value,checked:Z,disabled:Re,onCheckedChange:()=>fs(ne.value)}),i.jsx(ht,{htmlFor:ne.value,className:`text-sm flex-1 ${Re?"cursor-not-allowed text-slate-400":"cursor-pointer text-slate-700"}`,children:ne.label})]},ne.value)})}),p.length>=3&&i.jsx("div",{className:"p-3 bg-blue-50 border-t border-blue-200",children:i.jsx("p",{className:"text-[10px] sm:text-xs text-blue-600 whitespace-nowrap",children:" Max 3 categories selected"})})]})]}),p.length===0&&i.jsx("p",{className:"text-[10px] sm:text-xs text-pal-blue whitespace-nowrap",children:" Select at least one category"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ht,{htmlFor:"description",className:"text-sm font-medium text-slate-700",children:[p.includes("jobs")?"Job Description":"Description"," *"]}),i.jsx(ad,{id:"description",placeholder:p.includes("jobs")?"Job responsibilities, requirements, experience needed...":"Specifications, requirements, timeline...",value:h,onChange:ne=>f(ne.target.value),rows:4,className:"border-slate-200 focus:border-slate-400 focus:ring-slate-400 resize-none text-xs sm:text-base min-h-[120px] min-touch",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ht,{htmlFor:"budget",className:"text-sm font-medium text-slate-700",children:[p.includes("jobs")?"Salary ()":"Budget ()"," *"]}),i.jsx(gr,{id:"budget",placeholder:p.includes("jobs")?"50,000/month":"50,000",value:w,onChange:ne=>{const Re=ne.target.value.replace(/[^\d,]/g,"").replace(/,/g,"");if(Re===""||/^\d+$/.test(Re)){const Ae=Re===""?"":parseInt(Re).toLocaleString("en-IN");b(Ae)}},onBlur:ne=>{ne.target.value&&!ne.target.value.startsWith("")&&b(""+ne.target.value)},className:"h-12 sm:h-11 text-xs sm:text-base border-slate-200 focus:border-slate-400 focus:ring-slate-400 min-touch",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ht,{htmlFor:"location",className:"text-sm font-medium text-slate-700",children:"Location *"}),i.jsxs("div",{className:"relative",children:[i.jsx(gr,{id:"location",placeholder:"Anywhere",value:j,onChange:hr,onFocus:()=>at(!0),onBlur:()=>setTimeout(()=>at(!1),200),className:"h-12 sm:h-11 text-xs sm:text-base border-slate-200 focus:border-slate-400 focus:ring-slate-400 min-touch",required:!0}),pt&&It.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:It.map((ne,Z)=>i.jsxs("button",{type:"button",onClick:()=>ms(ne),className:"w-full px-4 py-2 text-left hover:bg-slate-50 focus:bg-slate-50 focus:outline-none text-xs sm:text-sm",children:[i.jsx("span",{className:"font-medium",children:ne}),(ne==="Anywhere"||ne==="Everywhere")&&i.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:"Global"})]},Z))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[i.jsx("div",{className:"space-y-2",children:i.jsx(JNe,{value:E,onChange:C,className:"w-full"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ht,{htmlFor:"notes",className:"text-sm font-medium text-slate-700",children:"Notes (Optional)"}),i.jsx(ad,{id:"notes",placeholder:"Additional requirements or preferences...",value:A,onChange:ne=>T(ne.target.value),rows:3,className:"border-slate-200 focus:border-slate-400 focus:ring-slate-400 resize-none text-xs sm:text-base"})]})]}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ht,{className:"text-[11px] sm:text-xs font-medium text-slate-700",children:"Choose Your Plan (Optional)"}),i.jsx(Sf,{currentPlanId:(P==null?void 0:P.id)||"free",enquiryId:"new-enquiry",userId:(t==null?void 0:t.uid)||"",onPlanSelect:(ne,Z)=>{const Re=cs.find(Ae=>Ae.id===ne);S(Re||null)},isUpgrade:!1,className:"max-w-4xl mx-auto"})]}),P&&P.price>0&&i.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-blue-600 text-xs",children:""})}),i.jsxs("div",{className:"text-[10px] sm:text-sm text-blue-800",children:[i.jsxs("p",{className:"font-medium mb-1 whitespace-nowrap",children:[P.name," Plan Benefits:"]}),i.jsx("ul",{className:"text-[10px] sm:text-xs space-y-1 text-blue-700",children:P.features.map((ne,Z)=>i.jsxs("li",{children:[" ",ne]},Z))})]})]})})]}),!n&&!s&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ir,{className:"h-4 w-4 text-slate-600"}),i.jsx(ht,{className:"text-sm font-medium text-slate-700",children:"ID Verification (Optional)"})]}),i.jsx("div",{className:"p-3 bg-slate-50 border border-slate-200 rounded-lg",children:i.jsx("p",{className:"text-[10px] sm:text-xs text-slate-600 whitespace-nowrap overflow-hidden text-ellipsis",children:H||Q?" ID uploaded - pending verification":"Upload ID to build trust"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ht,{htmlFor:"idFront",className:"text-xs font-medium text-slate-600",children:"Front Side"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"file",id:"idFront",accept:"image/*",onChange:ne=>{var Z;return se(((Z=ne.target.files)==null?void 0:Z[0])||null)},className:"hidden"}),i.jsx("label",{htmlFor:"idFront",className:`block w-full h-20 border border-dashed rounded-lg cursor-pointer transition-all flex flex-col items-center justify-center text-center ${H?"border-green-300 bg-green-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:H?i.jsxs("div",{className:"space-y-1",children:[i.jsx(xt,{className:"h-4 w-4 text-green-600 mx-auto"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-green-700 font-medium whitespace-nowrap",children:"Uploaded"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-green-600 whitespace-nowrap overflow-hidden text-ellipsis",children:H.name})]}):i.jsxs("div",{className:"space-y-1",children:[i.jsx(bu,{className:"h-5 w-5 sm:h-6 sm:w-6 text-muted-foreground mx-auto"}),i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground font-medium whitespace-nowrap",children:"Click to upload"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground whitespace-nowrap",children:"Front side of ID"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ht,{htmlFor:"idBack",className:"text-xs font-medium text-slate-600",children:"Back Side"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"file",id:"idBack",accept:"image/*",onChange:ne=>{var Z;return Ne(((Z=ne.target.files)==null?void 0:Z[0])||null)},className:"hidden"}),i.jsx("label",{htmlFor:"idBack",className:`block w-full h-20 border border-dashed rounded-lg cursor-pointer transition-all flex flex-col items-center justify-center text-center ${Q?"border-green-300 bg-green-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:Q?i.jsxs("div",{className:"space-y-1",children:[i.jsx(xt,{className:"h-4 w-4 text-green-600 mx-auto"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-green-700 font-medium whitespace-nowrap",children:"Uploaded"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-green-600 whitespace-nowrap overflow-hidden text-ellipsis",children:Q.name})]}):i.jsxs("div",{className:"space-y-1",children:[i.jsx(bu,{className:"h-4 w-4 text-slate-400 mx-auto"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 font-medium whitespace-nowrap",children:"Click to upload"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-slate-400 whitespace-nowrap",children:"Back side"})]})})]})]})]})]}),!n&&s&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xt,{className:"h-4 w-4 text-green-600"}),i.jsx(ht,{className:"text-sm font-medium text-green-700",children:"Trust Badge Verified"})]}),i.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:i.jsx("p",{className:"text-xs text-green-700",children:" You have a trust badge - no ID upload needed for verification"})})]}),!n&&!s&&J&&i.jsxs("div",{className:"space-y-3 p-4 bg-muted/20 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:ee}),i.jsxs("span",{className:"text-[10px] sm:text-sm text-muted-foreground whitespace-nowrap",children:[L,"%"]})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-pal-blue h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${L}%`}})})]}),i.jsxs("div",{className:"pt-6",children:[i.jsx(G,{type:"submit",disabled:R||J,className:"w-full h-12 bg-slate-900 hover:bg-slate-800 text-white font-medium rounded-lg transition-colors disabled:opacity-50",children:R?i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Submitting..."})]}):"Post Enquiry"}),R&&i.jsxs("div",{className:"mt-4 p-3 bg-slate-50 border border-slate-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-slate-600 border-t-transparent rounded-full animate-spin"}),i.jsx("span",{className:"text-sm font-medium text-slate-700",children:J?"Uploading ID...":"Submitting enquiry..."})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:i.jsx("div",{className:"bg-slate-600 h-2 rounded-full transition-all duration-300",style:{width:`${L}%`}})})]})]})]})})}),ce&&i.jsx(be,{className:"mt-6 border-2 border-blue-200 bg-green-50/50 rounded-2xl",children:i.jsxs(Ve,{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:Te?" Payment Successful!":" Enquiry Submitted Successfully!"}),i.jsx("p",{className:"text-sm text-green-700",children:Te?"Your premium enquiry is now under review. Check the status below:":s?"Your enquiry is automatically approved and live thanks to your trust badge!":"Your enquiry is being processed by AI. Check the status below:"})]}),i.jsxs("div",{className:"bg-white border border-green-300 rounded-lg p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${pe==="live"||pe==="approved"?"bg-green-500":pe==="rejected"?"bg-pal-blue":"bg-yellow-500"}`,children:pe==="live"||pe==="approved"?i.jsx(xt,{className:"h-5 w-5 text-white"}):pe==="rejected"?i.jsx(rn,{className:"h-5 w-5 text-white"}):i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-slate-800",children:pe==="live"||pe==="approved"?" Enquiry Approved!":pe==="rejected"?" Enquiry Rejected":" Processing..."}),i.jsx("p",{className:"text-sm text-slate-600",children:pe==="live"||pe==="approved"?"Your enquiry is now live and visible to sellers!":pe==="rejected"?"Your enquiry was not approved. Please check the requirements and try again.":"Our AI is reviewing your enquiry. This usually takes a few seconds..."})]})]}),i.jsx("div",{className:"mt-3 flex items-center justify-center",children:i.jsxs("div",{className:"flex items-center space-x-2 text-[10px] sm:text-xs text-slate-500",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"whitespace-nowrap",children:"Real-time updates active"})]})}),i.jsx("div",{className:"mt-2 text-center",children:i.jsx(G,{variant:"outline",size:"sm",onClick:async()=>{if(ce)try{const ne=Ce(oe,"enquiries",ce),Z=await Ft(ne);if(Z.exists()){const Re=Z.data();console.log("Manual status check:",Re.status),ie(Re.status),le({title:"Status Check",description:`Current status: ${Re.status}`})}}catch(ne){console.error("Manual status check failed:",ne)}},className:"text-xs",children:"Check Status Manually"})})]}),i.jsxs("div",{className:"mt-4 text-center",children:[i.jsx(G,{variant:"outline",onClick:()=>{ge(null),ie("pending"),de(!1),Xe(!1),d(""),f(""),x(""),b(""),N(""),C(null),S(null),T(""),se(null),Ne(null)},className:"mr-3",children:"Submit Another"}),i.jsx(G,{onClick:()=>c("/enquiries"),className:"bg-green-600 hover:bg-green-700",children:"View Live Enquiries"})]}),(pe==="live"||pe==="approved")&&i.jsx("div",{className:"mt-3 text-center",children:i.jsx("p",{className:"text-xs text-green-600",children:"Redirecting to live enquiries page in 3 seconds..."})}),pe==="rejected"&&i.jsx("div",{className:"mt-3 text-center",children:i.jsx("p",{className:"text-xs text-red-600",children:"Redirecting to dashboard in 3 seconds..."})})]})}),he&&i.jsx(W1e,{type:"enquiry",onUpgrade:()=>{D(!1),alert("Premium features activated! You can now post unlimited enquiries.")}})]})}),I&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:ne=>{ne.target===ne.currentTarget&&M(!1)},children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:" Test Payment"}),i.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),i.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[i.jsxs("p",{className:"font-semibold text-blue-800",children:["Amount: ",(P==null?void 0:P.price)||0]}),i.jsx("p",{className:"text-sm text-blue-600",children:(P==null?void 0:P.name)||"Premium Enquiry"}),i.jsx("p",{className:"text-xs text-blue-500 mt-1",children:" Test Mode - Payment will always succeed"})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsx("input",{type:"text",placeholder:"Card Number: 1234 5678 9012 3456",value:U.cardNumber,onChange:ne=>Y(Z=>({...Z,cardNumber:ne.target.value})),className:"w-full p-2 border border-gray-300 rounded text-xs sm:text-base"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",placeholder:"MM/YY",value:U.expiryDate,onChange:ne=>Y(Z=>({...Z,expiryDate:ne.target.value})),className:"flex-1 p-2 border border-gray-300 rounded text-xs sm:text-base"}),i.jsx("input",{type:"text",placeholder:"CVV",value:U.cvv,onChange:ne=>Y(Z=>({...Z,cvv:ne.target.value})),className:"flex-1 p-2 border border-gray-300 rounded text-xs sm:text-base"})]}),i.jsx("input",{type:"text",placeholder:"Cardholder Name",value:U.name,onChange:ne=>Y(Z=>({...Z,name:ne.target.value})),className:"w-full p-2 border border-gray-300 rounded text-xs sm:text-base"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>{M(!1),$("form"),Y({cardNumber:"",expiryDate:"",cvv:"",name:""})},className:"flex-1 py-2 px-4 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"}),i.jsx("button",{onClick:Rt,disabled:z||!U.cardNumber||!U.expiryDate||!U.cvv||!U.name,className:"flex-1 py-2 px-4 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:z?"Processing...":"Pay Now"})]})]})})]})}var e2e="Separator",y4="horizontal",t2e=["horizontal","vertical"],KG=g.forwardRef((t,e)=>{const{decorative:r,orientation:n=y4,...s}=t,a=r2e(n)?n:y4,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(et.div,{"data-orientation":a,...l,...s,ref:e})});KG.displayName=e2e;function r2e(t){return t2e.includes(t)}var YG=KG;const Ds=g.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>i.jsx(YG,{ref:s,decorative:r,orientation:e,className:He("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Ds.displayName=YG.displayName;function n2e(t,e=[]){let r=[];function n(a,o){const l=g.createContext(o),c=r.length;r=[...r,o];function u(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,v=g.useMemo(()=>x,Object.values(x));return i.jsx(p.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[t][c])||l,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,s2e(s,...e)]}function s2e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var yI="Progress",vI=100,[i2e,sHe]=n2e(yI),[a2e,o2e]=i2e(yI),QG=g.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=l2e,...o}=t;(s||s===0)&&!v4(s)&&console.error(c2e(`${s}`,"Progress"));const l=v4(s)?s:vI;n!==null&&!b4(n,l)&&console.error(u2e(`${n}`,"Progress"));const c=b4(n,l)?n:null,u=Jb(c)?a(c,l):void 0;return i.jsx(a2e,{scope:r,value:c,max:l,children:i.jsx(et.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Jb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":ZG(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});QG.displayName=yI;var XG="ProgressIndicator",JG=g.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=o2e(XG,r);return i.jsx(et.div,{"data-state":ZG(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});JG.displayName=XG;function l2e(t,e){return`${Math.round(t/e*100)}%`}function ZG(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Jb(t){return typeof t=="number"}function v4(t){return Jb(t)&&!isNaN(t)&&t>0}function b4(t,e){return Jb(t)&&!isNaN(t)&&t<=e&&t>=0}function c2e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${vI}\`.`}function u2e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${vI} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var eK=QG,d2e=JG;const fg=g.forwardRef(({className:t,value:e,...r},n)=>i.jsx(eK,{ref:n,className:He("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:i.jsx(d2e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));fg.displayName=eK.displayName;const h2e=()=>{var ms,Is;const{enquiryId:t}=py(),e=Zr(),r=g.useContext(Ea),n=(r==null?void 0:r.createNotification)||(async()=>{console.warn("NotificationContext not available")}),[s,a]=g.useState(""),[o,l]=g.useState(""),[c,u]=g.useState(""),[d,h]=g.useState(""),[f,m]=g.useState(Array(5).fill(null)),[x,p]=g.useState(Array(5).fill("")),[v,w]=g.useState(Array(5).fill(0)),[b,j]=g.useState(""),[N,E]=g.useState(""),[C,P]=g.useState(null),[S,A]=g.useState(""),[T,R]=g.useState(0),[_,I]=g.useState(!1),[M,z]=g.useState(null),[W,B]=g.useState(!0),[$,U]=g.useState(!1),[Y,K]=g.useState(!1);g.useState(0);const[X,he]=g.useState(0),[D,H]=g.useState({}),[se,Q]=g.useState(!1),[Ne,J]=g.useState(null),[me,L]=g.useState(null),[q,ee]=g.useState(!1),[te,ce]=g.useState(!1),[ge,pe]=g.useState(null),[ie,ue]=g.useState(5),{user:de,isProfileVerified:Te,profileVerificationStatus:Xe,loading:It}=Dr(),it=Te||Xe==="approved"||Xe==="verified"||Xe==="completed";g.useEffect(()=>{console.log(" SellerResponse Debug:",{isProfileVerified:Te,profileVerificationStatus:Xe,isUserVerified:it,authLoading:It,userId:de==null?void 0:de.uid})},[Te,Xe,it,It,de==null?void 0:de.uid]),g.useEffect(()=>{const ne=[o,c],Re=ne.filter(Ae=>Ae.trim().length>0).length/ne.length*100;he(Re)},[o,c]),g.useEffect(()=>{(async()=>{if(!(!t||!de))try{const Z=await Ft(Ce(oe,"enquiries",t));if(Z.exists()){const Re=Z.data();z(Re),a(Re.title),Re.userId===de.uid&&U(!0)}else e("/enquiries")}catch(Z){console.error("Error fetching enquiry:",Z),e("/enquiries")}finally{B(!1)}})()},[t,de,e]),g.useEffect(()=>{if(!ge||!de)return;const ne=Ce(oe,"sellerSubmissions",ge),Z=Ur(ne,Re=>{if(Re.exists()){const ze=Re.data().status;L(ze),ze==="approved"?(ee(!0),ce(!1)):ze==="rejected"?(ce(!0),ee(!1)):(ee(!1),ce(!1))}});return()=>Z()},[ge,de]),g.useEffect(()=>{(async()=>{if(!(!t||!de))try{const Z=jt(Ze(oe,"sellerSubmissions"),At("enquiryId","==",t),At("sellerId","==",de.uid)),Re=await Bt(Z);if(!Re.empty){const Ae=Re.docs[0].data(),ze=Re.docs[0].id;J(Ae),pe(ze),Q(!0),console.log("User has already submitted to this enquiry:",Ae)}}catch(Z){console.error("Error checking existing submission:",Z)}})()},[t,de]),g.useEffect(()=>{$&&e("/dashboard")},[$,e]),g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{_&&window.scrollTo({top:0,behavior:"smooth"})},[_]),g.useEffect(()=>{if(_){const ne=setInterval(()=>{ue(Z=>Z<=1?(clearInterval(ne),console.log(" Auto-redirecting to dashboard"),e("/dashboard"),0):Z-1)},1e3);return()=>clearInterval(ne)}},[_,e]);const pt=ne=>new Promise((Z,Re)=>{const Ae=document.createElement("canvas"),ze=Ae.getContext("2d"),ke=new Image;if(!ze){console.warn("Canvas context not available, using original file"),Z(ne);return}ke.onload=()=>{try{let{width:ar,height:nr}=ke;(ar>1200||nr>1200)&&(ar>nr?(nr=nr*1200/ar,ar=1200):(ar=ar*1200/nr,nr=1200)),Ae.width=ar,Ae.height=nr,ze.fillStyle="#FFFFFF",ze.fillRect(0,0,ar,nr),ze.drawImage(ke,0,0,ar,nr),Ae.toBlob(Ar=>{Ar?Z(new File([Ar],ne.name,{type:"image/jpeg",lastModified:Date.now()})):(console.warn("Failed to create blob, using original file"),Z(ne))},"image/jpeg",.85)}catch(wt){console.error("Error compressing image:",wt),Z(ne)}},ke.onerror=()=>{console.error("Error loading image for compression"),Z(ne)},ke.src=URL.createObjectURL(ne)}),at=()=>{console.log("Validation started"),console.log("title:",s,"length:",s.length),console.log("description:",o,"length:",o.length),console.log("price:",c);const ne={};if(o.trim()||(ne.description="Description is required",console.log("Description validation failed - empty")),!c.trim())ne.price="Price is required",console.log("Price validation failed - empty");else{const Re=parseFloat(c.replace(/[^\d]/g,""));console.log("Parsed price:",Re),Re<=0&&(ne.price="Price must be greater than 0",console.log("Price validation failed - <= 0"))}return x.filter(Re=>Re.trim()!==""),(b.trim()||N.trim()||C||S)&&(b.trim()||(ne.govIdType="Please select an ID type"),N.trim()?N.length<8&&(ne.govIdNumber="ID number must be at least 8 characters"):ne.govIdNumber="ID number is required when uploading ID",!C&&!S&&(ne.govId="Please upload your government ID document")),console.log("Validation errors:",ne),console.log("Validation result:",Object.keys(ne).length===0),H(ne),Object.keys(ne).length===0},Rt=async(ne,Z)=>{var ze;const Re=(ze=ne.target.files)==null?void 0:ze[0];if(!Re)return;if(Re.size>5*1024*1024){H(ke=>({...ke,[`image_${Z}`]:"Image must be less than 5MB"}));return}if(!Re.type.startsWith("image/")){H(ke=>({...ke,[`image_${Z}`]:"Please upload a valid image file"}));return}const Ae=[...f];Ae[Z]=Re,m(Ae),H(ke=>({...ke,[`image_${Z}`]:""}));try{const ke=[...v];ke[Z]=25,w(ke);const wt=await pt(Re),Lt=await f4(wt);ke[Z]=100,w(ke);const ar=[...x];ar[Z]=Lt,p(ar),H(nr=>{const Ar={...nr};return delete Ar[`image_${Z}`],Ar})}catch(ke){console.error("Error uploading image:",ke);const wt=[...v];wt[Z]=0,w(wt),H(Lt=>({...Lt,[`image_${Z}`]:"Failed to upload image. Please try again."}))}},_r=ne=>{const Z=[...f],Re=[...x],Ae=[...v];Z[ne]=null,Re[ne]="",Ae[ne]=0,m(Z),p(Re),w(Ae),H(ze=>({...ze,[`image_${ne}`]:""}))},Xt=async ne=>{var Re;const Z=(Re=ne.target.files)==null?void 0:Re[0];if(Z){if(Z.size>10*1024*1024){H(Ae=>({...Ae,govId:"ID document must be less than 10MB"}));return}if(!Z.type.startsWith("image/")&&Z.type!=="application/pdf"){H(Ae=>({...Ae,govId:"Please upload a valid image or PDF file"}));return}P(Z),H(Ae=>({...Ae,govId:""}));try{R(25);const Ae=await pt(Z),ze=await f4(Ae);R(100),A(ze)}catch(Ae){console.error("Error uploading government ID:",Ae),R(0),H(ze=>({...ze,govId:"Failed to upload ID document. Please try again."}))}}},fs=()=>{P(null),A(""),R(0),H(ne=>({...ne,govId:""}))},rr=async ne=>{if(ne.preventDefault(),console.log("Form submission started"),console.log("enquiry:",M),console.log("isOwnEnquiry:",$),console.log("enquiryId:",t),console.log("authUser:",de),!M||$){console.log("Form submission blocked: no enquiry or own enquiry");return}if(console.log("Validating form..."),!at()){console.log("Form validation failed");return}console.log("Form validation passed"),K(!0);try{const Z=x.filter(ke=>ke.trim()!==""),Re=f.filter((ke,wt)=>ke!==null&&x[wt]!=="").map(ke=>(ke==null?void 0:ke.name)||""),Ae={enquiryId:t,sellerId:(de==null?void 0:de.uid)||"",sellerName:(de==null?void 0:de.displayName)||(de==null?void 0:de.email)||"Anonymous Seller",sellerEmail:(de==null?void 0:de.email)||"",title:s.trim(),message:o.trim(),price:c.trim(),notes:d.trim(),imageUrls:Z,imageNames:Re,imageCount:Z.length,govIdType:b.trim(),govIdNumber:N.trim(),govIdUrl:S||"",govIdFileName:(C==null?void 0:C.name)||"",isIdentityVerified:it||!!(b&&N&&S),status:it?"approved":"pending",createdAt:Fe(),updatedAt:Fe(),buyerViewed:!1,chatEnabled:!1,userVerified:it,isProfileVerified:it};console.log("Submitting seller response:",Ae);const ze=await ai(Ze(oe,"sellerSubmissions"),Ae);if(console.log("Seller response saved with ID:",ze.id),pe(ze.id),it?console.log(" Trust Badge User: Seller response automatically approved and made live!"):(console.log(" SellerResponse: Starting AI processing for response:",ze.id),Lu.processSellerResponse(ze.id,Ae).then(ke=>{ke.success?console.log(" AI: Seller response auto-approved instantly!"):ke.action==="flagged"?console.log(" AI: Seller response flagged for manual review"):console.log(" AI: Seller response auto-rejected")}).catch(ke=>{console.error(" AI: Error processing seller response:",ke)})),M){const ke=Ce(oe,"enquiries",t);await ot(ke,{responses:(M.responses||0)+1,lastResponseAt:Fe()})}I(!0),K(!1);try{await n("new_response",{title:"Response Submitted Successfully! ",message:`Your offer for "${M==null?void 0:M.title}" has been submitted and is ${it?"now live!":"under review."}`,priority:"high",actionUrl:"/my-responses",actionText:"View My Responses"})}catch(ke){console.error("Failed to create notification:",ke)}if(M!=null&&M.userId&&M.userId!==(de==null?void 0:de.uid)&&(r!=null&&r.createNotificationForUser))try{await r.createNotificationForUser(M.userId,"new_response",{title:" New Response to Your Enquiry!",message:`${(de==null?void 0:de.displayName)||"A seller"} responded to "${M.title}"`,priority:"high",actionUrl:`/enquiry/${t}/responses?sellerId=${de==null?void 0:de.uid}`,actionText:"View Response",enquiryId:t,sellerId:de==null?void 0:de.uid,sellerName:(de==null?void 0:de.displayName)||(de==null?void 0:de.email)||"Anonymous Seller"}),console.log(" Buyer notification created successfully")}catch(ke){console.error("Failed to create buyer notification:",ke)}}catch(Z){console.error("Error submitting response:",Z),H({submit:"Failed to submit response. Please check your connection and try again."}),I(!1)}finally{K(!1)}},hr=ne=>{if(!ne)return"No deadline";let Z;if(ne.toDate&&typeof ne.toDate=="function")Z=ne.toDate();else if(typeof ne=="string"||typeof ne=="number")Z=new Date(ne);else if(ne instanceof Date)Z=ne;else return"Invalid date";return isNaN(Z.getTime())?"Invalid date":Z.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})};return W?i.jsx(_a,{message:"Loading enquiry"}):$?i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(kt,{className:"h-8 w-8 text-yellow-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Cannot Respond to Your Own Enquiry"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"You cannot respond to enquiries that you posted yourself."}),i.jsxs("div",{className:"space-x-4",children:[i.jsx(Je,{to:"/enquiries",children:i.jsx(G,{variant:"default",children:"Browse Other Enquiries"})}),i.jsx(Je,{to:"/dashboard",children:i.jsx(G,{variant:"outline",children:"Go to Dashboard"})})]})]})})}):M?_?i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center py-8 sm:py-12 px-4",children:i.jsx("div",{className:"max-w-md w-full",children:i.jsx(be,{className:"border-2 border-gray-200 shadow-xl",children:i.jsxs(Ve,{className:"p-6 sm:p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(xt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-green-600"})}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Offer Submitted"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:it?"Your offer is now live and visible to buyers":"Your offer is under review"}),it&&i.jsxs("div",{className:"inline-flex items-center px-3 py-1.5 bg-green-50 text-green-700 rounded-full text-xs sm:text-sm font-medium mb-6",children:[i.jsx(xt,{className:"h-3.5 w-3.5 mr-1.5"}),"Verified User"]}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:it?"Your offer is immediately visible to buyers. They can contact you directly through the platform.":"Our admin team will review your offer. You'll be notified once it's approved."})}),i.jsxs("p",{className:"text-xs text-gray-500 mb-6",children:["Redirecting in ",ie," seconds..."]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx(Je,{to:"/dashboard",className:"flex-1",children:i.jsx(G,{className:"w-full bg-gray-800 hover:bg-gray-900 text-white text-sm py-2.5",children:"Go to Dashboard"})}),i.jsx(Je,{to:"/enquiries",className:"flex-1",children:i.jsx(G,{variant:"outline",className:"w-full border-gray-300 text-gray-700 hover:bg-gray-50 text-sm py-2.5",children:"Browse Enquiries"})})]})]})})})})}):i.jsx(Nt,{children:i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/20",children:[i.jsx("div",{className:"bg-gray-800 text-white py-6 sm:py-12 lg:py-16",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-8",children:[i.jsx("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:i.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center text-[10px] sm:text-xs lg:text-sm text-white/80 hover:text-white transition-all",children:[i.jsx(gn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Back to Enquiries"]})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4 lg:mb-6",children:i.jsx(_o,{className:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8 text-white"})}),i.jsx("h1",{className:"text-lg sm:text-2xl lg:text-4xl xl:text-5xl font-black mb-2 sm:mb-3 lg:mb-4 text-white px-2",children:"Help with this Request"}),i.jsxs("p",{className:"text-[11px] sm:text-sm lg:text-lg text-white/90 max-w-2xl mx-auto px-2 mb-3 sm:mb-4 lg:mb-6",children:["Share your offer for: ",i.jsxs("span",{className:"font-semibold",children:['"',M==null?void 0:M.title,'"']})]}),i.jsxs("div",{className:"mt-3 sm:mt-4 lg:mt-6 flex flex-wrap items-center justify-center gap-2 sm:gap-3 lg:gap-4 text-[10px] sm:text-xs lg:text-sm text-white/80 px-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ir,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 lg:h-4 lg:w-4 mr-1 flex-shrink-0"}),i.jsx("span",{children:"Secure & Private"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(A2,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 lg:h-4 lg:w-4 mr-1 flex-shrink-0"}),i.jsx("span",{children:"Admin Reviewed"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ao,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 lg:h-4 lg:w-4 mr-1 flex-shrink-0"}),i.jsx("span",{children:"Confidential"})]})]})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[se&&Ne&&i.jsx(be,{className:"mb-6 sm:mb-8 border-2 border-gray-200 bg-white rounded-2xl shadow-sm",children:i.jsx(Ve,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-amber-600"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-1.5",children:"You've Already Submitted an Offer"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-5",children:"You have already submitted an offer for this enquiry"}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 mb-5 text-left",children:[i.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-800 mb-3",children:"Your Submitted Offer"}),i.jsxs("div",{className:"space-y-2 text-xs sm:text-sm text-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Price:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["",Ne.price]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Status:"}),i.jsx(Pe,{variant:Ne.status==="approved"?"default":Ne.status==="rejected"?"destructive":"secondary",className:"ml-2 text-[10px] sm:text-xs",children:Ne.status})]}),i.jsxs("div",{className:"flex items-center justify-between pt-1 border-t border-gray-200",children:[i.jsx("span",{className:"text-gray-600",children:"Submitted:"}),i.jsx("span",{className:"text-gray-900 font-medium",children:(ms=Ne.createdAt)!=null&&ms.toDate?Ne.createdAt.toDate().toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}):"N/A"})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2.5 sm:gap-3",children:[i.jsx(Je,{to:"/dashboard",className:"flex-1",children:i.jsx(G,{className:"w-full bg-gray-800 hover:bg-gray-900 text-white text-xs sm:text-sm py-2.5",children:"View Dashboard"})}),i.jsx(Je,{to:"/enquiries",className:"flex-1",children:i.jsx(G,{variant:"outline",className:"w-full border-gray-300 text-gray-700 hover:bg-gray-50 text-xs sm:text-sm py-2.5",children:"Find More Requests"})})]})]})})}),i.jsxs(be,{className:"mb-6 sm:mb-8 card-premium overflow-hidden border-2 border-blue-200 rounded-2xl",children:[i.jsxs(vt,{className:"bg-gray-800 p-3 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2.5 sm:mb-3",children:[i.jsx("p",{className:`text-xs sm:text-sm font-semibold ${M.idFrontImage||M.idBackImage?"text-blue-300":"text-white"}`,children:M.idFrontImage||M.idBackImage?"Trusted User Request":"Enquiry Details"}),i.jsx(Pe,{variant:"secondary",className:"bg-white/90 text-gray-800 text-[10px] sm:text-xs font-medium px-2.5 py-1 rounded-full",children:M.category})]}),i.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 sm:gap-3",children:[i.jsxs("div",{className:"flex items-center text-[10px] sm:text-xs text-gray-300",children:[i.jsx(xn,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 flex-shrink-0"}),M.createdAt&&i.jsxs("span",{children:["Posted ",hr(M.createdAt.toDate().toISOString())]})]}),i.jsxs("div",{className:"flex items-center text-[10px] sm:text-xs text-green-400",children:[i.jsx(pr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 flex-shrink-0"}),"Live & Active"]})]})]}),i.jsx(Ve,{className:"p-3 sm:p-4",children:i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"space-y-2 sm:space-y-2.5",children:[i.jsxs("h3",{className:"text-sm sm:text-lg font-bold text-gray-800 flex items-start gap-2",children:[i.jsx("span",{className:"text-base sm:text-xl flex-shrink-0",children:""}),i.jsxs("span",{children:["Need: ",M.title]})]}),i.jsx("p",{className:"text-[11px] sm:text-sm text-gray-600 leading-relaxed pl-6 sm:pl-8",children:M.description})]}),i.jsxs("div",{className:"space-y-2 sm:space-y-2.5",children:[M.deadline&&i.jsxs("div",{className:"flex items-center px-2.5 py-1.5 sm:px-3 sm:py-2 bg-red-50 border border-red-200 rounded-lg",children:[i.jsx(kt,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-red-500 mr-1.5 flex-shrink-0"}),i.jsxs("span",{className:"text-[11px] sm:text-xs text-red-700 font-medium",children:["Deadline: ",hr(M.deadline)]})]}),M.idFrontImage||M.idBackImage?i.jsxs("div",{className:"flex items-center px-2.5 py-1.5 sm:px-3 sm:py-2 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx(Ir,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-green-500 mr-1.5 flex-shrink-0"}),i.jsx("span",{className:"text-[11px] sm:text-xs text-green-700 font-medium",children:"This buyer has a trust badge"})]}):null]})]})})]}),!se&&i.jsxs(be,{className:"card-premium overflow-hidden border-2 border-blue-200 rounded-2xl",children:[i.jsx(vt,{className:"bg-gray-800 border-b",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-pal-blue rounded-xl flex items-center justify-center",children:i.jsx(X1,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-white",children:"Your Offer"}),i.jsx("p",{className:"text-[10px] sm:text-base text-gray-300",children:"AI will instantly verify and approve your offer"})]})]})}),i.jsxs(Ve,{className:"p-8",children:[D.submit&&i.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(kt,{className:"h-4 w-4 text-red-500 mr-2"}),i.jsx("span",{className:"text-sm text-red-700",children:D.submit})]})}),i.jsxs("form",{onSubmit:rr,className:"space-y-8",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ht,{htmlFor:"title",className:"text-sm sm:text-lg font-black text-foreground flex items-center",children:[i.jsx(_o,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 sm:mr-3 text-pal-blue"}),i.jsxs("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[i.jsx("span",{className:"hidden sm:inline",children:"Response Title *"}),i.jsx("span",{className:"sm:hidden",children:"Title *"})]})]}),i.jsx(gr,{id:"title",value:s,readOnly:!0,disabled:!0,className:"h-12 input-touch font-bold text-lg bg-gray-100 cursor-not-allowed",required:!0})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ht,{htmlFor:"description",className:"text-base sm:text-lg font-black text-foreground flex items-center",children:[i.jsx(_o,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 sm:mr-3 text-pal-blue"}),i.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Detailed Description *"})]}),i.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground",children:"Describe your offering in detail. Include any relevant information that would help the buyer make a decision."}),i.jsx(ad,{id:"description",placeholder:"Tell buyers about your product/service, pricing, availability, and any other important details...",value:o,onChange:ne=>l(ne.target.value),className:`min-h-[140px] input-touch placeholder:text-[8px] sm:placeholder:text-sm ${D.description?"border-red-500 focus:border-red-500":"border-border focus:border-pal-blue"}`}),i.jsxs("div",{className:"flex justify-between items-center",children:[D.description&&i.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[i.jsx(kt,{className:"h-3 w-3 mr-1"}),D.description]}),i.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:[o.length,"/500"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ht,{htmlFor:"price",className:"text-sm sm:text-lg font-black text-foreground flex items-center",children:[i.jsx("span",{className:"text-lg sm:text-2xl mr-2 sm:mr-3",children:""}),i.jsx("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Your Price *"})]}),M&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 sm:p-3 mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs sm:text-sm text-blue-700 font-medium",children:"Buyer's Budget:"}),i.jsxs("span",{className:"text-sm sm:text-lg font-bold text-blue-800",children:["",((Is=M.budget)==null?void 0:Is.toLocaleString("en-IN"))||"Not specified"]})]}),i.jsx("p",{className:"text-[9px] sm:text-xs text-blue-600 mt-1 whitespace-nowrap",children:" Consider pricing within or near this budget for better chances"})]}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Enter your competitive price for this offering"}),i.jsxs("div",{className:"relative",children:[i.jsx(gr,{id:"price",placeholder:"Enter amount (e.g., 50000)",value:c,onChange:ne=>{const Z=ne.target.value.replace(/[^\d]/g,"");if(Z){const Re=parseInt(Z);u(Re.toLocaleString("en-IN"))}else u("")},onBlur:ne=>{ne.target.value&&!ne.target.value.startsWith("")&&u(""+ne.target.value)},className:`h-12 text-lg font-semibold input-touch ${D.price?"border-red-500 focus:border-red-500":"border-border focus:border-pal-blue"}`,required:!0}),i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx("span",{className:"text-sm text-muted-foreground",children:"INR"})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[D.price&&i.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[i.jsx(kt,{className:"h-3 w-3 mr-1"}),D.price]}),i.jsx("span",{className:"text-xs text-green-600 ml-auto",children:" Competitive pricing attracts buyers"})]})]}),i.jsx(Ds,{className:"my-8"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ht,{htmlFor:"notes",className:"text-sm sm:text-lg font-black text-foreground flex items-center",children:[i.jsx(_o,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 sm:mr-3 text-gray-500"}),i.jsx("span",{className:"bg-gradient-to-r from-gray-600 to-slate-600 bg-clip-text text-transparent",children:"Additional Information (Optional)"})]}),i.jsx("p",{className:"text-[8px] sm:text-sm text-muted-foreground",children:"Include payment terms, delivery details, warranties, or any special conditions"}),i.jsx(ad,{id:"notes",placeholder:` Payment terms (cash, installments, etc.)
 Delivery/pickup details
 Warranty or return policy
 Special conditions or requirements`,value:d,onChange:ne=>h(ne.target.value),className:"min-h-[120px] input-touch placeholder:text-[8px] sm:placeholder:text-sm"}),i.jsxs("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[d.length,"/300 characters"]})]}),i.jsx(Ds,{className:"my-8"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs(ht,{className:"text-sm sm:text-base font-semibold text-foreground flex items-center justify-center mb-2",children:[i.jsx(Q1,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-pal-blue"}),"Product Images Gallery (Optional)"]}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Upload up to 5 high-quality images to showcase your product (Optional, Max 5MB each)"}),i.jsxs("div",{className:"mt-2 text-[10px] sm:text-xs text-pal-blue font-medium",children:[x.filter(ne=>ne.trim()!=="").length,"/5 images uploaded"]})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:Array.from({length:5},(ne,Z)=>i.jsx("div",{className:"aspect-square",children:i.jsxs("div",{className:`
                        relative h-full border-2 border-dashed rounded-xl overflow-hidden transition-all duration-300
                        ${x[Z]?"border-green-400 bg-green-50":"border-gray-300 hover:border-pal-blue hover:bg-pal-blue/5"}
                      `,children:[x[Z]?i.jsxs("div",{className:"relative h-full group",children:[i.jsx("img",{src:x[Z],alt:`Product ${Z+1}`,className:"w-full h-full object-cover",onError:Re=>{console.error("Image display error:",x[Z]),Re.currentTarget.style.display="none"}}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:i.jsx(G,{type:"button",variant:"destructive",size:"sm",className:"text-xs",onClick:()=>_r(Z),children:"Remove"})}),i.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:""}),i.jsx("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:Z+1})]}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-3 text-center",children:[i.jsx("div",{className:`
                              w-8 h-8 mb-2 rounded-full flex items-center justify-center
                              ${v[Z]>0?"bg-pal-blue":"bg-gray-100"}
                            `,children:v[Z]>0&&v[Z]<100?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):i.jsx(bu,{className:`h-4 w-4 ${v[Z]>0?"text-white":"text-gray-400"}`})}),i.jsx(gr,{id:`image-${Z}`,type:"file",accept:"image/*",onChange:Re=>Rt(Re,Z),className:"hidden"}),i.jsxs(ht,{htmlFor:`image-${Z}`,className:"cursor-pointer text-xs text-pal-blue hover:text-pal-blue-dark font-medium",children:["Add Image ",Z+1]}),v[Z]>0&&v[Z]<100&&i.jsxs("div",{className:"mt-2 w-full",children:[i.jsx(fg,{value:v[Z],className:"h-1"}),i.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[v[Z],"%"]})]})]}),D[`image_${Z}`]&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-red-500 text-white text-[10px] p-1 text-center",children:"Error"})]})},Z))}),D.images&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(kt,{className:"h-4 w-4 text-red-500 mr-2"}),i.jsx("span",{className:"text-sm font-medium text-red-700",children:"Image Requirement:"})]}),i.jsx("p",{className:"text-xs text-red-600",children:D.images})]}),(()=>{const ne=Object.entries(D).filter(([Z])=>Z.startsWith("image_")).filter(([Z])=>{const Re=parseInt(Z.split("_")[1]),Ae=v[Re]>0&&v[Re]<100,ze=x[Re]&&x[Re].length>0;return!Ae&&!ze});return ne.length>0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(kt,{className:"h-4 w-4 text-red-500 mr-2"}),i.jsx("span",{className:"text-sm font-medium text-red-700",children:"Image Upload Issues:"})]}),i.jsx("div",{className:"text-xs text-red-600",children:ne.map(([Z,Re])=>{const Ae=Z.split("_")[1];return i.jsxs("p",{children:["Image ",parseInt(Ae)+1,": ",Re]},Z)})})]})})()]}),i.jsx(Ds,{className:"my-8"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs(ht,{className:"text-sm sm:text-lg font-black text-foreground flex items-center justify-center mb-2",children:[i.jsx(Ir,{className:"h-4 w-4 sm:h-6 sm:w-6 mr-2 sm:mr-3 text-pal-blue"}),i.jsx("span",{className:"bg-gradient-to-r from-gray-700 to-gray-800 bg-clip-text text-transparent",children:"Trust Badge"})]}),!It&&it?i.jsxs("div",{className:"p-3 sm:p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2 mb-2 sm:mb-2.5",children:[i.jsx(xt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0"}),i.jsx("span",{className:"text-green-800 font-semibold text-xs sm:text-base",children:"Profile Verified"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-green-700 mb-2 sm:mb-2.5",children:"Already verified. No ID upload needed."}),i.jsx("div",{className:"inline-flex",children:i.jsxs(Pe,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-300 text-[10px] sm:text-xs px-2 py-0.5",children:[i.jsx(Ir,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"Verified Response"]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:b&&N&&S?" Trust Badge Pending: Your ID will be verified when admin approves  You'll get trust badge benefits!":"Completely optional - submit without ID anytime  Upload ID for trust badge benefits"}),i.jsxs("div",{className:"mt-1 flex items-center justify-center space-x-1",children:[i.jsx(A2,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-500"}),i.jsx("span",{className:"text-xs sm:text-xs text-green-600 font-medium",children:b&&N&&S?"Trust badge pending":"Upload ID for trust badge benefits"})]})]})]}),!It&&!it&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-3 sm:gap-6",children:[i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs(ht,{htmlFor:"govIdType",className:"text-sm sm:text-base font-semibold text-foreground flex items-center",children:[i.jsx(_o,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 text-pal-blue"}),"ID Document Type"]}),i.jsxs("select",{id:"govIdType",value:b,onChange:ne=>j(ne.target.value),className:`w-full h-8 sm:h-12 px-2 sm:px-3 border rounded-lg input-touch text-xs sm:text-sm ${D.govIdType?"border-red-500 focus:border-red-500":"border-border focus:border-pal-blue"} bg-background`,children:[i.jsx("option",{value:"",children:"Select ID Type"}),i.jsx("option",{value:"aadhaar",children:"Aadhaar Card"}),i.jsx("option",{value:"pan",children:"PAN Card"}),i.jsx("option",{value:"passport",children:"Passport"}),i.jsx("option",{value:"driving_license",children:"Driving License"}),i.jsx("option",{value:"voter_id",children:"Voter ID Card"})]}),D.govIdType&&i.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[i.jsx(kt,{className:"h-3 w-3 mr-1"}),D.govIdType]})]}),i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs(ht,{htmlFor:"govIdNumber",className:"text-sm sm:text-base font-semibold text-foreground flex items-center",children:[i.jsx(ao,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 text-pal-blue"}),"ID Number"]}),i.jsx(gr,{id:"govIdNumber",placeholder:"Enter ID number",value:N,onChange:ne=>E(ne.target.value.toUpperCase()),className:`h-8 sm:h-12 input-touch text-xs sm:text-sm ${D.govIdNumber?"border-red-500 focus:border-red-500":"border-border focus:border-pal-blue"}`}),D.govIdNumber&&i.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[i.jsx(kt,{className:"h-3 w-3 mr-1"}),D.govIdNumber]}),i.jsx("p",{className:"text-xs sm:text-xs text-muted-foreground",children:"This information is encrypted and securely stored"})]})]}),i.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[i.jsxs(ht,{className:"text-sm sm:text-base font-semibold text-foreground flex items-center",children:[i.jsx(bu,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 text-pal-blue"}),"Upload ID Document"]}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Upload a clear photo or scan of your government ID (Front side only, Max 10MB)"}),i.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-all ${S?"border-green-400 bg-green-50":"border-gray-300 hover:border-pal-blue hover:bg-pal-blue/5"}`,children:S?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:S,alt:"Government ID",className:"max-w-xs max-h-48 mx-auto rounded-lg shadow-md"}),i.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:" Verified"})]}),i.jsx("p",{className:"text-sm text-green-600 font-medium",children:" ID document uploaded successfully!"}),i.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:fs,children:"Remove Document"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto ${T>0?"bg-pal-blue":"bg-gray-100"}`,children:T>0&&T<100?i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent"}):i.jsx(bu,{className:`h-6 w-6 ${T>0?"text-white":"text-gray-400"}`})}),i.jsxs("div",{children:[i.jsx(gr,{id:"govId",type:"file",accept:"image/*,application/pdf",onChange:Xt,className:"hidden"}),i.jsxs(ht,{htmlFor:"govId",className:"cursor-pointer inline-flex items-center px-6 py-3 bg-pal-blue text-white rounded-lg hover:bg-pal-blue-dark transition-colors font-medium",children:[i.jsx(bu,{className:"h-4 w-4 mr-2"}),"Choose ID Document"]})]}),i.jsx("p",{className:"text-xs sm:text-xs text-muted-foreground",children:"JPEG, PNG, PDF up to 10MB"}),T>0&&T<100&&i.jsxs("div",{className:"mt-4",children:[i.jsx(fg,{value:T,className:"h-2"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Uploading ID document... ",T,"%"]})]})]})}),D.govId&&i.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[i.jsx(kt,{className:"h-3 w-3 mr-1"}),D.govId]})]}),i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full flex-shrink-0",children:i.jsx(A2,{className:"h-4 w-4 text-blue-600"})}),i.jsxs("div",{className:"text-[10px] sm:text-xs text-blue-700",children:[i.jsx("p",{className:"font-semibold mb-1",children:"Automatic Trust Badge Process:"}),i.jsxs("ul",{className:"space-y-0.5",children:[i.jsx("li",{children:" Upload ID  Admin approves response  Your profile gets trust badge automatically"}),i.jsx("li",{children:" Verified profiles appear with a badge on all enquiries and responses"}),i.jsx("li",{children:" ID information is encrypted and never shared with buyers"}),i.jsx("li",{children:" Skip this section if you prefer to remain unverified"})]})]})]})})]})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Ir,{className:"h-5 w-5 text-blue-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-blue-900 mb-1",children:"Security & Privacy"}),i.jsxs("ul",{className:"text-[10px] sm:text-xs text-blue-700 space-y-1",children:[i.jsx("li",{children:" Your response is submitted securely and reviewed by our admin team"}),i.jsx("li",{children:" Personal contact details are kept confidential until approval"}),i.jsx("li",{children:" All communications are monitored for safety and quality"})]})]})]})}),i.jsxs("div",{className:"pt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-foreground",children:"Form Completion"}),i.jsxs("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[Math.round(X),"% Complete"]})]}),i.jsx(fg,{value:X,className:"h-2"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Fill in the details and price to share your offer (title is auto-filled)"})]}),i.jsxs("div",{className:"pt-6 space-y-4",children:[i.jsx(G,{type:"submit",className:`w-full h-16 text-lg font-bold rounded-xl btn-primary transition-all transform hover:scale-[1.02] ${Y?"opacity-70 cursor-not-allowed":""}`,disabled:!c||Y,children:Y?i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),i.jsx("span",{children:"Submitting Response..."})]}):i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(xt,{className:"h-5 w-5"}),i.jsx("span",{children:"Submit Offer"})]})}),i.jsx("p",{className:"text-[10px] sm:text-xs text-center text-muted-foreground",children:"By submitting, you agree to our terms and confirm all information is accurate"})]})]})]})]})]})]})}):i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(kt,{className:"h-8 w-8 text-red-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Enquiry Not Found"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"The enquiry you're looking for doesn't exist or has been removed."}),i.jsx(Je,{to:"/enquiries",children:i.jsx(G,{variant:"default",children:"Browse Enquiries"})})]})})})},f2e=()=>{const{user:t}=Dr(),e=Zr(),[r,n]=g.useState([]),[s,a]=g.useState({});g.useState(null);const[o,l]=g.useState(!0),[c,u]=g.useState(!1),[d,h]=g.useState(null),[f,m]=g.useState("free"),[x,p]=g.useState(null),[v,w]=g.useState(null),b=g.useRef(null);g.useEffect(()=>{if(!t)return;l(!0),console.log("MyEnquiries: Starting to fetch user enquiries for:",t.uid),(async()=>{try{const z=await Rh(t.uid);p(z),m((z==null?void 0:z.currentPlan)||"free")}catch(z){console.error("Error fetching user payment plan:",z)}})();const I=jt(Ze(oe,"enquiries"),At("userId","==",t.uid),fn("createdAt","desc"));(async()=>{try{const z=await Bt(I),W=[];z.forEach(D=>{W.push({id:D.id,...D.data()})});const B=new Date,$=D=>D.deadline?(D.deadline.toDate?D.deadline.toDate():new Date(D.deadline))<B:!1,U=D=>D!=null&&D.toDate?D.toDate():new Date(D),Y=W.filter(D=>!$(D)).sort((D,H)=>U(H.createdAt).getTime()-U(D.createdAt).getTime()),K=W.filter(D=>$(D)).sort((D,H)=>U(H.createdAt).getTime()-U(D.createdAt).getTime()),X=[...Y,...K],he=Array.from(new Map(X.map(D=>[D.id,D])).values());console.log("MyEnquiries: Ordered live then expired:",{live:Y.length,expired:K.length,unique:he.length}),n(he),l(!1)}catch(z){console.log("Error loading enquiries:",z),l(!1)}})()},[t]),g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!t)return;(async()=>{try{const I=await Rh(t.uid);p(I),I&&I.currentPlan&&m(I.currentPlan)}catch(I){console.error("Error fetching user payment plan:",I)}})()},[t]),g.useEffect(()=>{if(r.length===0)return;console.log("MyEnquiries: Setting up real-time response listeners for",r.length,"enquiries"),console.log("MyEnquiries: Enquiry IDs:",r.map(I=>I.id));const _=[];for(const I of r)try{console.log(`MyEnquiries: Setting up listener for enquiry: ${I.id}`);const M=jt(Ze(oe,"sellerSubmissions"),At("enquiryId","==",I.id));(async()=>{try{const W=await Bt(M),B=[];W.forEach($=>{const U=$.data();B.push({id:$.id,...U,status:U.status||"pending"})}),console.log(`MyEnquiries: Loaded responses for enquiry ${I.id}:`,{count:B.length,responses:B.map($=>({id:$.id,sellerName:$.sellerName,status:$.status,price:$.price}))}),a($=>({...$,[I.id]:B}))}catch(W){console.log(`Error loading responses for enquiry ${I.id}:`,W)}})()}catch(M){console.error("Error setting up response listener for enquiry:",I.id,M)}return()=>{console.log("MyEnquiries: Cleaning up response listeners"),_.forEach(I=>I())}},[r]);const j=async _=>{if(window.confirm("Are you sure you want to delete this enquiry? This action cannot be undone."))try{await dc(Ce(oe,"enquiries",_)),le({title:"Enquiry Deleted",description:"Your enquiry has been removed successfully."})}catch(I){console.error("Error deleting enquiry:",I),le({title:"Error",description:"Failed to delete enquiry. Please try again.",variant:"destructive"})}},N=async(_,I)=>{if(!(!d||!t)){console.log("MyEnquiries: Plan selected:",{planId:_,price:I,enquiryId:d.id});try{const{updateDoc:M,serverTimestamp:z}=await nd(async()=>{const{updateDoc:X,serverTimestamp:he}=await Promise.resolve().then(()=>CU);return{updateDoc:X,serverTimestamp:he}},void 0),{updateUserPaymentPlan:W,savePaymentRecord:B}=await nd(async()=>{const{updateUserPaymentPlan:X,savePaymentRecord:he}=await Promise.resolve().then(()=>IH);return{updateUserPaymentPlan:X,savePaymentRecord:he}},void 0),$=`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,U=cs.find(X=>X.id===_);if(!U)throw new Error("Plan not found");const Y=await B(d.id,t.uid,U,$);await W(t.uid,_,Y,d.id),await M(Ce(oe,"enquiries",d.id),{selectedPlanId:_,selectedPlanPrice:I,isPremium:I>0,updatedAt:z()}),n(X=>X.map(he=>he.id===d.id?{...he,selectedPlanId:_,selectedPlanPrice:I,isPremium:I>0}:he));const K=await Rh(t.uid);p(K),m((K==null?void 0:K.currentPlan)||"free"),u(!1),h(null),le(_==="premium"?{title:"Premium Plan Activated! ",description:"Your enquiry now has unlimited responses!"}:{title:"Payment Successful! ",description:`Your enquiry is now on the ${_} plan (${I}).`})}catch(M){console.error("Error updating enquiry plan:",M),le({title:"Error",description:"Failed to update plan. Please try again.",variant:"destructive"})}}},E=_=>{const I=_.selectedPlanId||(_.isPremium?"premium":"free");console.log(" Upgrade clicked for enquiry:",{enquiryId:_.id,currentPlanId:I,selectedPlanId:_.selectedPlanId,isPremium:_.isPremium}),h(_),m(I),u(!0)},C=_=>{const I={pending:"bg-amber-100 text-amber-800 border-amber-200",live:"bg-emerald-100 text-emerald-800 border-emerald-200",rejected:"bg-red-100 text-red-800 border-red-200",completed:"bg-slate-100 text-slate-800 border-slate-200"};return i.jsx(Pe,{className:`text-[10px] sm:text-xs rounded-full border ${I[_]||"bg-gray-100 text-gray-800"}`,children:_.charAt(0).toUpperCase()+_.slice(1)})},P=_=>{switch(_){case"live":return i.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-emerald-600"});case"pending":return i.jsx(xn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-600"});case"rejected":return i.jsx(kt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600"});case"completed":return i.jsx(X1,{className:"h-3 w-3 sm:h-4 sm:w-4 text-slate-600"});default:return i.jsx(xn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-600"})}},S=_=>{if(!cs.find(M=>M.id===_))return"Shows 2 responses";switch(_){case"free":return"Shows 2 responses";case"basic":return"Shows 5 responses";case"standard":return"Shows 10 responses";case"premium":return"Shows unlimited responses";case"pro":return"Shows unlimited responses";default:return"Shows 2 responses"}},A=_=>{switch(_.status){case"live":return"Your enquiry is live and receiving responses from sellers";case"pending":return"Your enquiry is under admin review";case"rejected":return"Your enquiry was not approved by admin";case"completed":return"Your enquiry has been completed";default:return"Status unknown"}},T=_=>_?(_.toDate?_.toDate():new Date(_)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Recently",R=_=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(_);return o?i.jsx(_a,{message:"Loading your enquiries"}):i.jsxs(Nt,{children:[i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-2 sm:px-6 lg:px-8 py-2 sm:py-8",children:[i.jsx("div",{className:"mb-3 sm:mb-8 rounded-2xl sm:rounded-3xl overflow-hidden shadow-xl border-2 border-gray-700",children:i.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-gray-800 px-3 py-3 sm:px-6 sm:py-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-4",children:[i.jsx(G,{variant:"ghost",onClick:()=>e("/dashboard"),className:"p-1.5 sm:p-2 hover:bg-gray-700 rounded-lg text-white font-bold",children:i.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),i.jsx("div",{className:"text-center flex-1",children:i.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-black text-white tracking-tight drop-shadow-lg",children:"Your Enquiries"})}),i.jsx("div",{className:"w-8 sm:w-10"})," "]}),i.jsx("p",{className:"text-gray-200 text-[10px] sm:text-xs lg:text-sm max-w-2xl mx-auto leading-relaxed text-center font-medium",children:"Manage and track your requests"})]})}),i.jsx("div",{className:"flex justify-center mb-3 sm:mb-8",children:i.jsx(Je,{to:"/post-enquiry",className:"w-full sm:w-auto",children:i.jsxs(G,{className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 sm:px-8 sm:py-3 text-xs sm:text-sm font-black shadow-lg hover:shadow-xl transition-all duration-300 rounded-lg",children:[i.jsx(Yg,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1.5 sm:mr-2"}),"Post New Enquiry"]})})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-5 mb-3 sm:mb-8",children:[i.jsxs(be,{className:"p-2.5 sm:p-6 text-center border border-gray-200 shadow-md bg-white hover:shadow-lg transition-all duration-300 rounded-2xl",children:[i.jsx("div",{className:"text-xl sm:text-4xl font-black text-blue-600 mb-1 sm:mb-2",children:r.length}),i.jsx("p",{className:"text-[9px] sm:text-sm text-gray-700 font-black uppercase tracking-wider",children:"Total Enquiries"})]}),i.jsxs(be,{className:"p-2.5 sm:p-6 text-center border border-gray-200 shadow-md bg-white hover:shadow-lg transition-all duration-300 rounded-2xl",children:[i.jsx("div",{className:"text-xl sm:text-4xl font-black text-green-600 mb-1 sm:mb-2",children:r.filter(_=>_.status==="live").length}),i.jsx("p",{className:"text-[9px] sm:text-sm text-gray-700 font-black uppercase tracking-wider",children:"Live"})]}),i.jsxs(be,{className:"p-2.5 sm:p-6 text-center border border-gray-200 shadow-md bg-white hover:shadow-lg transition-all duration-300 rounded-2xl",children:[i.jsx("div",{className:"text-xl sm:text-4xl font-black text-yellow-600 mb-1 sm:mb-2",children:r.filter(_=>_.status==="pending").length}),i.jsx("p",{className:"text-[9px] sm:text-sm text-gray-700 font-black uppercase tracking-wider",children:"Pending"})]}),i.jsxs(be,{className:"p-2.5 sm:p-6 text-center border border-gray-200 shadow-md bg-white hover:shadow-lg transition-all duration-300 rounded-2xl",children:[i.jsx("div",{className:"text-xl sm:text-4xl font-black text-gray-600 mb-1 sm:mb-2",children:r.filter(_=>_.status==="completed").length}),i.jsx("p",{className:"text-[9px] sm:text-sm text-gray-700 font-black uppercase tracking-wider",children:"Completed"})]})]}),r.length===0?i.jsxs(be,{className:"p-6 sm:p-12 text-center border-0 shadow-lg rounded-2xl",children:[i.jsx("div",{className:"w-12 h-12 sm:w-20 sm:h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:i.jsx(pr,{className:"h-6 w-6 sm:h-10 sm:w-10 text-blue-600"})}),i.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-slate-900 mb-2 sm:mb-3",children:"No enquiries yet"}),i.jsx("p",{className:"text-xs sm:text-base text-slate-600 mb-4 sm:mb-6 max-w-md mx-auto",children:"Start by posting your first enquiry to find what you're looking for in our community."}),i.jsx(Je,{to:"/post-enquiry",children:i.jsxs(G,{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 sm:px-8 py-2 sm:py-3 text-xs sm:text-base",children:[i.jsx(Yg,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"}),"Post Your First Enquiry"]})})]}):i.jsx("div",{className:"space-y-2.5 sm:space-y-6",children:r.map(_=>{var M;const I=_.deadline?(_.deadline.toDate?_.deadline.toDate():new Date(_.deadline))<new Date:!1;return i.jsxs(be,{className:`${I?"opacity-70 bg-gray-100 border-2 sm:border-4 border-gray-400 grayscale":"border-2 sm:border-4 border-blue-300"} shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden`,children:[i.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-gray-800 px-2.5 py-2 sm:px-6 sm:py-4 border-b-2 border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between gap-1 sm:gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-3 flex-1 min-w-0",children:[P(_.status),i.jsx("h3",{className:`text-[11px] sm:text-lg font-black truncate ${I?"text-gray-300":"text-white"} drop-shadow-sm`,children:_.title})]}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[I&&i.jsx(Pe,{variant:"outline",className:"text-[8px] sm:text-xs text-gray-500 border border-gray-400 font-bold",children:"Expired"}),C(_.status)]})]}),i.jsx("div",{className:"mt-1 sm:mt-2",children:i.jsx("span",{className:"text-[9px] sm:text-xs text-white font-bold opacity-95",children:A(_)})})]}),i.jsxs(Ve,{className:"p-2 sm:p-4 space-y-2 sm:space-y-3",children:[i.jsxs("div",{className:"space-y-1.5 sm:space-y-2 pb-2 border-b border-gray-200",children:[_.deadline&&i.jsx("div",{className:"pb-1.5",children:i.jsx(Nf,{deadline:_.deadline.toDate?_.deadline.toDate():new Date(_.deadline),className:"justify-start"})}),_.isUrgent&&i.jsx(Pe,{variant:"destructive",className:"text-[8px] sm:text-xs font-bold mb-1",children:" Urgent"}),i.jsx("p",{className:"text-[10px] sm:text-sm text-gray-900 leading-snug line-clamp-2 font-bold",children:_.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2.5 pt-1",children:[i.jsxs("span",{className:"flex items-center space-x-1 text-[9px] sm:text-xs text-gray-700 font-black",children:[i.jsx(vr,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-blue-600"}),i.jsx("span",{children:_.responses||0})]}),i.jsxs("span",{className:"flex items-center space-x-1 text-[9px] sm:text-xs text-gray-700 font-black",children:[i.jsx(pr,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-gray-600"}),i.jsx("span",{children:_.views||0})]}),i.jsx(Pe,{variant:"outline",className:"text-[8px] sm:text-xs font-black border border-gray-300 text-gray-800 px-1.5 py-0",children:_.category})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white rounded border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center space-x-1.5",children:[i.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-black text-[9px] sm:text-xs",children:""})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[8px] sm:text-[9px] text-gray-600 font-bold",children:"Budget"}),i.jsx("div",{className:"text-xs sm:text-base font-black text-gray-900",children:R(_.budget)})]})]}),_.location&&i.jsxs("div",{className:"flex items-center space-x-1 text-[9px] sm:text-xs text-gray-700 font-bold",children:[i.jsx("span",{className:"text-sm",children:""}),i.jsx("span",{className:"truncate max-w-[120px] sm:max-w-none",children:_.location})]})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2 p-2 sm:p-3 bg-white rounded-lg border-2 border-blue-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[i.jsx(yn,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"text-[8px] sm:text-[9px] text-gray-600 font-bold uppercase",children:"Plan"}),i.jsx("div",{className:"text-[10px] sm:text-xs font-black text-gray-900 truncate",children:_.selectedPlanId?_.selectedPlanId==="free"?"Free":_.selectedPlanId==="basic"?"Basic (99)":_.selectedPlanId==="standard"?"Standard (199)":_.selectedPlanId==="premium"?"Premium (499)":_.selectedPlanId==="pro"?"Pro (1,499)":"Paid":_.isPremium?"Premium (Legacy)":"Free"})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse"}),i.jsx("span",{className:"text-[9px] sm:text-xs font-black text-blue-700",children:S(_.selectedPlanId||(_.isPremium?"premium":"free"))})]})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex gap-1.5",children:[_.selectedPlanId&&_.selectedPlanId!=="free"&&i.jsx(Pe,{className:`${_.selectedPlanId==="basic"||_.selectedPlanId==="standard"?"bg-blue-100 text-blue-800 border-blue-300":_.selectedPlanId==="premium"?"bg-blue-600 text-white border-blue-700":"bg-gray-100 text-gray-800 border-gray-300"} text-[8px] sm:text-xs font-black border shadow-sm px-1.5 py-0`,children:_.selectedPlanId==="basic"?"Basic":_.selectedPlanId==="standard"?"Standard":_.selectedPlanId==="premium"?"Premium":_.selectedPlanId==="pro"?"Pro":"Paid"}),!_.selectedPlanId&&_.isPremium&&i.jsx(Pe,{className:"bg-blue-600 text-white text-[8px] sm:text-xs font-black border border-blue-700 shadow-sm px-1.5 py-0",children:"Premium"}),!_.selectedPlanId&&!_.isPremium&&i.jsx(Pe,{className:"bg-gray-100 text-gray-800 text-[8px] sm:text-xs font-black border border-gray-300 shadow-sm px-1.5 py-0",children:"Free"})]})}),(()=>{const z=_.selectedPlanId||(_.isPremium?"premium":"free");return z==="premium"||z==="pro"?!1:sI(z,x==null?void 0:x.currentPlan,_.createdAt,x==null?void 0:x.proActivationDate).length>0})()&&i.jsx("div",{className:"pt-1.5 border-t border-gray-200",children:i.jsxs(G,{onClick:()=>E(_),className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-[9px] sm:text-xs py-1.5 sm:py-2 font-black shadow-md hover:shadow-lg transition-all duration-200 rounded",size:"sm",children:[i.jsx(yn,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"Upgrade to Premium"]})})]}),i.jsxs("div",{className:"space-y-1.5 pt-1.5 border-t border-gray-200",children:[_.adminNotes&&i.jsx("div",{className:"p-2 bg-yellow-50 border-l-2 border-yellow-500 rounded",children:i.jsxs("div",{className:"flex items-start space-x-1.5",children:[i.jsx("div",{className:"w-3.5 h-3.5 bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-white text-[8px] font-bold",children:"!"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-[9px] font-bold text-gray-900 mb-0.5",children:"Admin Notes:"}),i.jsx("p",{className:"text-gray-700 text-[9px] leading-tight",children:_.adminNotes})]})]})}),i.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 text-[8px] sm:text-[9px] text-gray-500",children:[i.jsxs("span",{className:"flex items-center space-x-0.5",children:[i.jsx(xn,{className:"h-2.5 w-2.5"}),i.jsxs("span",{className:"font-medium",children:["Created: ",T(_.createdAt)]})]}),_.approvedAt&&i.jsxs("span",{className:"flex items-center space-x-0.5 text-green-600 font-medium",children:[i.jsx(xt,{className:"h-2.5 w-2.5"}),i.jsxs("span",{children:["Approved: ",T(_.approvedAt)]})]}),_.rejectedAt&&i.jsxs("span",{className:"flex items-center space-x-0.5 text-red-600 font-medium",children:[i.jsx(kt,{className:"h-2.5 w-2.5"}),i.jsxs("span",{children:["Rejected: ",T(_.rejectedAt)]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-1.5 sm:gap-2 pt-2 border-t-2 border-gray-200 bg-gray-50 rounded-lg p-2 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-1.5 sm:gap-2",children:[i.jsx(Je,{to:`/enquiry/${_.id}`,className:"flex-1 sm:flex-none min-w-[100px]",children:i.jsxs(G,{variant:"outline",size:"sm",className:"w-full sm:w-auto border border-blue-400 text-blue-800 hover:bg-blue-100 hover:border-blue-500 text-[9px] sm:text-xs py-1.5 sm:py-2 px-2 sm:px-3 font-black shadow-sm hover:shadow-md transition-all duration-200 bg-white",children:[i.jsx(pr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-0.5 sm:mr-1"}),i.jsx("span",{className:"whitespace-nowrap",children:"View Details"})]})}),i.jsxs(G,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none min-w-[110px] sm:min-w-[140px] w-full sm:w-auto border border-gray-300 text-gray-800 hover:bg-gray-100 hover:border-gray-400 text-[9px] sm:text-xs py-1.5 sm:py-2 px-2 sm:px-3 font-black shadow-sm hover:shadow-md transition-all duration-200 bg-white",onClick:()=>e(`/enquiry/${_.id}/responses-page`),children:[i.jsx(vr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-0.5 sm:mr-1"}),i.jsxs("span",{className:"whitespace-nowrap text-[8px] sm:text-xs",children:["Responses (",((M=s[_.id])==null?void 0:M.length)||0,")"]})]}),_.status==="live"&&i.jsx(Je,{to:`/enquiry/${_.id}/responses`,className:"flex-1 sm:flex-none min-w-[100px]",children:i.jsxs(G,{variant:"outline",size:"sm",className:"w-full sm:w-auto border border-gray-300 text-gray-800 hover:bg-gray-100 hover:border-gray-400 text-[9px] sm:text-xs py-1.5 sm:py-2 px-2 sm:px-3 font-black shadow-sm hover:shadow-md transition-all duration-200 bg-white",children:[i.jsx(vr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-0.5 sm:mr-1"}),i.jsx("span",{className:"whitespace-nowrap",children:"View Chats"})]})})]}),i.jsx("div",{className:"flex justify-center sm:justify-end pt-1 border-t border-gray-300",children:i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>j(_.id),className:"border border-red-400 text-red-800 hover:bg-red-100 hover:border-red-500 text-[9px] sm:text-xs py-1.5 sm:py-2 px-2 sm:px-3 font-black shadow-sm hover:shadow-md transition-all duration-200 bg-white",children:[i.jsx(ln,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-0.5 sm:mr-1"}),i.jsx("span",{className:"hidden sm:inline",children:"Delete Enquiry"}),i.jsx("span",{className:"sm:hidden",children:"Delete"})]})})]})]})]},_.id)})})]})}),c&&d&&i.jsx(Nj,{open:c,onOpenChange:u,children:i.jsxs(Ey,{className:"max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs(Py,{children:[i.jsxs(_y,{className:"text-sm sm:text-base font-bold text-center mb-2 sm:mb-4 flex items-center justify-center gap-2",children:[i.jsx(yn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-500"}),'Upgrade Plan for "',d.title,'"']}),i.jsx(Ay,{className:"text-center text-[10px] sm:text-xs text-slate-600",children:"Choose a plan to unlock more responses and premium features for this enquiry"})]}),i.jsx("div",{className:"mt-6",children:i.jsx(Sf,{currentPlanId:f,enquiryId:d.id,userId:(t==null?void 0:t.uid)||"",onPlanSelect:N,isUpgrade:!0,enquiryCreatedAt:d.createdAt,className:"max-w-5xl mx-auto"})})]})}),v&&i.jsx("div",{ref:b,className:"fixed inset-0 z-[9999] bg-black bg-opacity-95 flex items-center justify-center p-0 sm:p-4",onClick:_=>{_.preventDefault(),_.stopPropagation(),w(null)},children:i.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",onClick:_=>_.stopPropagation(),children:[i.jsx("img",{src:v,alt:"Fullscreen view",className:"w-full h-full object-contain sm:rounded-lg",style:{maxHeight:"100vh",maxWidth:"100vw",width:"100%",height:"100%"},onClick:_=>_.stopPropagation()}),i.jsxs("button",{type:"button",onClick:_=>{_.preventDefault(),_.stopPropagation(),_.nativeEvent.stopImmediatePropagation(),console.log("Back button clicked"),w(null)},onMouseDown:_=>{_.preventDefault(),_.stopPropagation(),_.nativeEvent.stopImmediatePropagation()},onTouchStart:_=>{_.preventDefault(),_.stopPropagation(),_.nativeEvent.stopImmediatePropagation()},className:"absolute top-2 left-2 sm:top-4 sm:left-4 bg-white hover:bg-gray-100 text-gray-800 rounded-full p-2 sm:p-3 shadow-lg z-10 flex items-center gap-1 border-0 outline-none focus:outline-none",children:[i.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Back"})]})]})})]})},m2e=()=>{const{user:t,isProfileVerified:e}=Dr();Zr();const[r,n]=g.useState([]),[s,a]=g.useState({}),[o,l]=g.useState(!0);g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!(t!=null&&t.uid))return;window.scrollTo(0,0),l(!0),console.log("MyResponses: Current user:",t.uid);const x=jt(Ze(oe,"sellerSubmissions"),At("sellerId","==",t.uid)),p=Ur(x,v=>{const w=[];v.forEach(b=>{const j={id:b.id,...b.data()};j.userProfileVerified=e,w.push(j)}),w.sort((b,j)=>{var C,P;const N=(C=b.createdAt)!=null&&C.toDate?b.createdAt.toDate():new Date(b.createdAt);return((P=j.createdAt)!=null&&P.toDate?j.createdAt.toDate():new Date(j.createdAt)).getTime()-N.getTime()}),n(w),l(!1),console.log("MyResponses: Real-time seller submissions:",w.length)},v=>{console.log("Error loading seller submissions (real-time):",v),l(!1)});return()=>p()},[t==null?void 0:t.uid,e]),g.useEffect(()=>{if(console.log("MyResponses: Seller submissions:",r),r.length===0)return;(async()=>{const p=[...new Set(r.map(w=>w.enquiryId))],v={};try{const w=p.map(async j=>{try{const N=await Ft(Ce(oe,"enquiries",j));return N.exists()?{id:j,...N.data()}:null}catch(N){return console.error("Error fetching enquiry:",j,N),null}});(await Promise.all(w)).forEach(j=>{j&&(v[j.id]=j)}),console.log("MyResponses: Loaded enquiries:",Object.keys(v).length),a(v)}catch(w){console.error("Error loading enquiries:",w)}})()},[r]);const c=x=>{const p={pending:"bg-amber-100 text-amber-800 border-amber-200",approved:"bg-emerald-100 text-emerald-800 border-emerald-200",rejected:"bg-red-100 text-red-800 border-red-200"};return i.jsx(Pe,{className:`text-xs rounded-full border ${p[x]||"bg-gray-100 text-gray-800"}`,children:x.charAt(0).toUpperCase()+x.slice(1)})},u=x=>{switch(x){case"approved":return i.jsx(xt,{className:"h-4 w-4 text-emerald-600"});case"pending":return i.jsx(xn,{className:"h-4 w-4 text-amber-600"});case"rejected":return i.jsx(kt,{className:"h-4 w-4 text-red-600"});default:return i.jsx(xn,{className:"h-4 w-4 text-gray-600"})}},d=x=>{const p=s[x.enquiryId];if(p&&p.deadline){const v=new Date;if((p.deadline.toDate?p.deadline.toDate():new Date(p.deadline))<v)return"Enquiry expired - no longer active"}switch(x.status){case"approved":return"Approved! Buyer can see your offer.";case"pending":return"Under admin review";case"rejected":return"Not approved by admin";default:return"Status unknown"}},h=x=>{const p=s[x];if(!p||!p.deadline)return!1;const v=new Date;return(p.deadline.toDate?p.deadline.toDate():new Date(p.deadline))<v},f=x=>x?(x.toDate?x.toDate():new Date(x)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Recently",m=x=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(x);return t?o?i.jsx(_a,{message:"Loading your responses"}):i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx("div",{className:"mb-8 rounded-2xl overflow-hidden shadow-lg",children:i.jsxs("div",{className:"bg-gray-800 px-6 py-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx(G,{variant:"ghost",onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-700 rounded-lg text-white",children:i.jsx(gn,{className:"h-5 w-5"})}),i.jsx("div",{className:"text-center flex-1",children:i.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-white tracking-tight whitespace-nowrap",children:"Your Responses"})}),i.jsx("div",{className:"w-10"})," "]}),i.jsx("p",{className:"text-gray-300 text-xs lg:text-sm max-w-2xl mx-auto leading-relaxed text-center",children:"Track your seller submissions and their status"})]})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8",children:[i.jsxs(be,{className:"p-3 text-center border-0 shadow-lg bg-gradient-to-br from-gray-700 to-gray-800",children:[i.jsx("div",{className:"text-xl font-bold text-white mb-1",children:r.length}),i.jsx("p",{className:"text-xs text-gray-100 font-medium",children:"Total Responses"})]}),i.jsxs(be,{className:"p-3 text-center border-0 shadow-lg bg-gradient-to-br from-emerald-50 to-emerald-100",children:[i.jsx("div",{className:"text-xl font-bold text-emerald-600 mb-1",children:r.filter(x=>x.status==="approved").length}),i.jsx("p",{className:"text-xs text-emerald-700 font-medium",children:"Approved"})]}),i.jsxs(be,{className:"p-3 text-center border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100",children:[i.jsx("div",{className:"text-xl font-bold text-amber-600 mb-1",children:r.filter(x=>x.status==="pending").length}),i.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"Under Review"})]}),i.jsxs(be,{className:"p-3 text-center border-0 shadow-lg bg-gradient-to-br from-red-50 to-red-100",children:[i.jsx("div",{className:"text-xl font-bold text-red-600 mb-1",children:r.filter(x=>x.status==="rejected").length}),i.jsx("p",{className:"text-xs text-red-700 font-medium",children:"Rejected"})]})]}),r.length===0?i.jsxs(be,{className:"p-12 text-center border-0 shadow-lg",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(_h,{className:"h-10 w-10 text-white"})}),i.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"You never responded to any enquiry"}),i.jsx("p",{className:"text-slate-600 mb-6 max-w-md mx-auto",children:"You haven't submitted any responses to buyer enquiries yet. Start helping others by responding to their requests and needs!"}),i.jsx(Je,{to:"/enquiries",children:i.jsxs(G,{className:"bg-gray-800 hover:bg-gray-900 text-white px-8 py-3",children:[i.jsx(_h,{className:"h-5 w-5 mr-2"}),"Browse Enquiries"]})})]}):i.jsx("div",{className:"space-y-6",children:r.map(x=>{const p=s[x.enquiryId],v=h(x.enquiryId);return i.jsxs(be,{className:`border-0 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden ${v?"opacity-60":""}`,children:[i.jsxs("div",{className:`px-6 py-4 ${v?"bg-red-900":"bg-gray-800"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[v?i.jsx(kt,{className:"h-4 w-4 text-red-300"}):u(x.status),i.jsx("h3",{className:"text-lg font-semibold text-white truncate",children:x.title})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[v&&i.jsx(Pe,{className:"text-xs bg-red-100 text-red-800 border-red-300",children:"Expired"}),c(x.status)]})]}),i.jsx("div",{className:"mt-2",children:i.jsx("span",{className:`text-xs sm:text-sm ${v?"text-red-200":"text-gray-300"}`,children:d(x)})})]}),i.jsxs(Ve,{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[(x.userProfileVerified||x.isIdentityVerified)&&i.jsx("div",{className:"mb-3",children:i.jsxs(Pe,{className:"text-xs bg-green-100 text-green-800 border-green-300",children:[i.jsx(Ir,{className:"h-3 w-3 mr-1"}),"Trusted User"]})}),i.jsx("p",{className:"text-slate-600 mb-3 line-clamp-2",children:x.message}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-500",children:[i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(Q1,{className:"h-4 w-4"}),i.jsxs("span",{children:[x.imageCount," images"]})]}),i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(vr,{className:"h-4 w-4"}),i.jsxs("span",{children:["",x.price]})]}),x.govIdUrl&&i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(Ir,{className:"h-4 w-4"}),i.jsx("span",{children:"ID Uploaded"})]})]})]}),p&&i.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-blue-800 mb-2",children:"Responding to:"}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-blue-900 font-medium text-sm sm:text-base",children:p.title}),i.jsxs("p",{className:"text-blue-700 text-xs sm:text-sm",children:["Budget: ",m(p.budget),"  ",p.category]})]}),i.jsx(Je,{to:`/enquiry/${p.id}`,children:i.jsxs(G,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-700 hover:bg-blue-50 text-xs sm:text-sm",children:[i.jsx(pr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"View Enquiry"]})})]})]}),x.notes&&i.jsxs("div",{className:"mb-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-slate-800 mb-2",children:"Additional Notes:"}),i.jsx("p",{className:"text-slate-700 text-sm",children:x.notes})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-4 text-xs text-slate-500 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),i.jsxs("span",{className:"text-slate-600",children:["Submitted: ",f(x.createdAt)]})]}),x.updatedAt&&x.updatedAt!==x.createdAt&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),i.jsxs("span",{className:"text-slate-600",children:["Updated: ",f(x.updatedAt)]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex space-x-3",children:[x.status==="approved"&&i.jsx(Je,{to:`/enquiry/${x.enquiryId}/responses?sellerId=${x.sellerId}`,children:i.jsxs(G,{variant:"outline",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[i.jsx(vr,{className:"h-4 w-4 mr-2"}),"Chat Available"]})}),x.status==="rejected"&&i.jsx(Je,{to:"/enquiries",children:i.jsxs(G,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:[i.jsx(_h,{className:"h-4 w-4 mr-2"}),"Submit New Response"]})})]}),i.jsx("div",{className:"text-sm text-slate-500",children:x.buyerViewed&&i.jsx("span",{className:"text-emerald-600",children:" Buyer has viewed"})})]})]})]},x.id)})})]})})}):i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-gray-800 mx-auto"}),i.jsx("p",{className:"mt-4 text-slate-600 font-medium",children:"Loading your account..."})]})})})},p2e=()=>{const{user:t}=Dr(),e=Zr(),[r,n]=g.useState([]),[s,a]=g.useState(!0);return g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!(t!=null&&t.uid))return;(()=>{try{const l=Ce(oe,"profiles",t.uid),c=Ur(l,async u=>{var m;const d=u.exists()?((m=u.data())==null?void 0:m.savedEnquiries)||[]:[];if(d.length===0){n([]),a(!1);return}const h=d.map(async x=>{try{const p=await Ft(Ce(oe,"enquiries",x));return p.exists()?{id:p.id,...p.data()}:null}catch(p){return console.error(`Error fetching saved enquiry ${x}:`,p),null}}),f=(await Promise.all(h)).filter(x=>x!==null);n(f),a(!1)},u=>{console.error("Error listening to saved enquiries:",u),a(!1)});return()=>c()}catch(l){console.error("Error setting up saved enquiries listener:",l),a(!1)}})()},[t==null?void 0:t.uid]),s?i.jsx(_a,{message:"Loading saved enquiries"}):i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-6 sm:py-12",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(G,{variant:"ghost",onClick:()=>e("/dashboard"),onTouchEnd:()=>e("/dashboard"),className:"mb-6 text-slate-600 hover:text-slate-900 transition-colors h-12 px-4 touch-manipulation text-sm font-medium",children:[i.jsx(gn,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]}),i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 sm:p-12 shadow-2xl border border-white/30",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-800 to-gray-900 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:i.jsx(Fu,{className:"h-10 w-10 text-white"})}),i.jsx("h1",{className:"text-2xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-4",children:" Your Saved Favorites"}),i.jsx("p",{className:"text-base sm:text-lg text-slate-600 max-w-2xl mx-auto leading-relaxed",children:"Quickly access your bookmarked enquiries anytime"})]})})]}),r.length===0?i.jsx(be,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm",children:i.jsxs(Ve,{className:"text-center py-8 sm:py-24",children:[i.jsx("div",{className:"w-12 h-12 sm:w-20 sm:h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg",children:i.jsx(Fu,{className:"h-6 w-6 sm:h-10 sm:w-10 text-gray-500"})}),i.jsx("h2",{className:"text-base sm:text-2xl font-semibold text-gray-700 mb-3 sm:mb-4",children:"No saved enquiries yet"}),i.jsx("p",{className:"text-xs sm:text-base text-gray-500 mb-6 sm:mb-8 max-w-md mx-auto",children:"Start saving enquiries you're interested in to access them quickly later"}),i.jsx(G,{onClick:()=>e("/enquiries"),onTouchEnd:()=>e("/enquiries"),size:"lg",className:"h-10 sm:h-14 px-4 sm:px-8 text-xs sm:text-base font-medium bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:"Browse Enquiries"})]})}):i.jsx("div",{className:"space-y-3 sm:space-y-6",children:r.map(o=>{var l;return i.jsx(be,{className:"hover:shadow-xl transition-all duration-300 cursor-pointer touch-manipulation border-0 bg-white/90 backdrop-blur-sm shadow-lg hover:scale-[1.01] sm:hover:scale-[1.02]",onClick:()=>e(`/enquiry/${o.id}`),onTouchEnd:()=>e(`/enquiry/${o.id}`),children:i.jsx(Ve,{className:"p-3 sm:p-8",children:i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm sm:text-xl font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-2 leading-tight",children:o.title}),i.jsx("p",{className:"text-xs sm:text-base text-gray-600 mb-3 sm:mb-4 line-clamp-3 leading-relaxed",children:o.description})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[i.jsx(Pe,{variant:"secondary",className:"text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-1.5 bg-blue-100 text-blue-700 font-medium",children:o.category}),i.jsxs("div",{className:"text-xs sm:text-sm font-semibold text-green-600",children:["",(l=o.budget)==null?void 0:l.toLocaleString("en-IN")]}),o.location&&i.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 flex items-center",children:[" ",o.location]})]}),i.jsx(G,{variant:"outline",size:"lg",onClick:c=>{c.stopPropagation(),e(`/enquiry/${o.id}`)},onTouchEnd:c=>{c.stopPropagation(),e(`/enquiry/${o.id}`)},className:"w-full h-10 sm:h-12 text-xs sm:text-base font-medium border-2 border-blue-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-200",children:"View Details"})]})})},o.id)})})]})})})};function g2e(t){if(typeof t!="object"||t===null)return t;const e={...t};return["email","phone","phoneNumber","idNumber","address","password"].forEach(n=>{e[n]&&(e[n]="[HIDDEN]")}),e}const x2e=()=>{const t=navigator.userAgent.toLowerCase();return t.includes("chrome")&&!t.includes("edg")?"chrome":t.includes("safari")&&!t.includes("chrome")?"safari":t.includes("firefox")?"firefox":t.includes("edg")?"edge":"unknown"},fp=async()=>{try{if(!navigator.permissions||!navigator.permissions.query)try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(r=>r.stop()),"granted"}catch(e){return e.name==="NotAllowedError"||e.name==="PermissionDeniedError"?"denied":"prompt"}return(await navigator.permissions.query({name:"microphone"})).state}catch(t){return console.error("Error checking microphone permission:",t),"prompt"}},y2e=async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}})).getTracks().forEach(e=>e.stop()),"granted"}catch(t){return console.error("Error requesting microphone permission:",t),t.name==="NotAllowedError"||t.name==="PermissionDeniedError"?"denied":t.name==="NotFoundError"||t.name==="DevicesNotFoundError"?"unavailable":"prompt"}},v2e=t=>{switch(t){case"chrome":return"Click the lock icon () in the address bar  Site settings  Microphone  Allow";case"safari":return'Safari  Settings  Websites  Microphone  Find "enqir.in"  Allow';case"firefox":return"Click the lock icon () in the address bar  Permissions  Microphone  Allow";case"edge":return"Click the lock icon () in the address bar  Permissions  Microphone  Allow";default:return"Go to your browser settings  Privacy  Site permissions  Microphone  Allow for this site"}},b2e=({permissionStatus:t,onPermissionGranted:e,className:r=""})=>{const[n,s]=g.useState(!1),[a,o]=g.useState(!1),l=x2e(),c=v2e(l);if(t==="granted")return null;const u=async()=>{s(!0);try{const d=await y2e();d==="granted"?(le({title:"Microphone Permission Granted",description:"You can now make calls and send voice messages."}),e==null||e()):d==="denied"?(le({title:"Permission Denied",description:"Please enable microphone access in your browser settings to use call and voice features.",variant:"destructive"}),o(!0)):le({title:"Permission Request Failed",description:"Please try again or enable microphone access manually in browser settings.",variant:"destructive"})}catch(d){console.error("Error requesting permission:",d),le({title:"Error",description:"Failed to request microphone permission. Please enable it manually in browser settings.",variant:"destructive"}),o(!0)}finally{s(!1)}};return i.jsx(be,{className:`border-blue-200 bg-blue-50 shadow-md rounded-2xl ${r}`,children:i.jsx(Ve,{className:"p-3 sm:p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 mt-0.5",children:t==="denied"?i.jsx(n7,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-600"}):i.jsx(Ao,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Microphone Permission Required"}),t==="denied"&&i.jsx(Pe,{variant:"destructive",className:"text-xs",children:"Denied"})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-3",children:"Allow microphone access to make calls and send voice messages in this chat."}),i.jsx(G,{onClick:u,disabled:n,size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm font-medium px-3 sm:px-4 py-1.5 sm:py-2 h-8 sm:h-9 mb-2",children:n?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"animate-spin mr-2",children:""}),"Requesting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ao,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5"}),"Grant Permission"]})}),i.jsx("button",{onClick:()=>o(!a),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 font-medium transition-colors",children:a?i.jsxs(i.Fragment,{children:[i.jsx(r7,{className:"h-3 w-3"}),"Hide Instructions"]}):i.jsxs(i.Fragment,{children:[i.jsx(ff,{className:"h-3 w-3"}),"Need Help?"]})}),a&&i.jsx("div",{className:"mt-3 p-3 bg-white rounded-lg border border-gray-200",children:i.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[i.jsx(mP,{className:"h-4 w-4 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-900 mb-1",children:"How to enable microphone manually:"}),i.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:c}),t==="denied"&&i.jsx("p",{className:"text-xs text-red-600 mt-2 font-medium",children:"Note: You may need to refresh the page after enabling the permission."})]})]})})]})]})})})},w2e=()=>{var bi,Yc,Qc,Km,sr,Xc;const{user:t}=Dr(),e=g.useContext(Ea),r=(e==null?void 0:e.createNotification)||(async()=>{console.warn("NotificationContext not available")}),{canViewResponse:n,canViewAllResponses:s,getResponseViewLimit:a,purchasePremiumEnquiry:o,purchaseMonthlySubscription:l,usageStats:c}=vm(),u=Zr(),{enquiryId:d}=py(),[h,f]=g.useState(null),[m,x]=g.useState([]),[p,v]=g.useState(null),b=new URLSearchParams(window.location.search).get("sellerId"),[j,N]=g.useState([]),[E,C]=g.useState(""),[P,S]=g.useState(!0),[A,T]=g.useState(!1),[R,_]=g.useState(!1),[I,M]=g.useState([]),[z,W]=g.useState(!1),[B,$]=g.useState(!1),[U,Y]=g.useState(0),[K,X]=g.useState(null),[he,D]=g.useState([]),[H,se]=g.useState(null),[Q,Ne]=g.useState({}),[J,me]=g.useState(!1),[L,q]=g.useState(!1),[ee,te]=g.useState({}),[ce,ge]=g.useState({});g.useState(null);const[pe,ie]=g.useState(!1),[ue,de]=g.useState(!1),[Te,Xe]=g.useState(!1),[It,it]=g.useState(!1),[pt,at]=g.useState(null),[Rt,_r]=g.useState(!1),[Xt,fs]=g.useState(!1),[rr,hr]=g.useState("idle"),[ms,Is]=g.useState(!0),[ne,Z]=g.useState("checking");g.useEffect(()=>{or.current=rr},[rr]);const[Re,Ae]=g.useState(null),[ze,ke]=g.useState(null),[wt,Lt]=g.useState(!1),ar=g.useRef(null),nr=g.useRef(null),Ar=g.useRef(null),Ki=g.useRef(null),Ta=g.useRef(null),Yi=g.useRef(null),Ca=g.useRef([]),Mr=g.useRef(new Set),or=g.useRef("idle"),wn=g.useRef(null),ps=g.useRef(null),[Vm,Kc]=g.useState(0);g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!d||!t)return;S(!0),console.log("EnquiryResponses: Starting to fetch data for enquiry:",d),(async()=>{try{const ve=await Ft(Ce(oe,"enquiries",d));if(ve.exists()){const _e={id:ve.id,...ve.data()};f(_e),console.log("EnquiryResponses: Fetched enquiry:",_e)}}catch(ve){console.error("Error fetching enquiry:",ve),le({title:"Error",description:"Failed to fetch enquiry details",variant:"destructive"})}})(),(async()=>{try{const ve=jt(Ze(oe,"sellerSubmissions"),At("enquiryId","==",d)),_e=await Bt(ve),Ke=[];_e.forEach(je=>{const We=je.data();We&&Ke.push({id:je.id,...We})});const Ie=Ke.filter(je=>je.status==="approved").sort((je,We)=>{var yt,nt;const Le=(yt=je.createdAt)!=null&&yt.toDate?je.createdAt.toDate():new Date(je.createdAt);return((nt=We.createdAt)!=null&&nt.toDate?We.createdAt.toDate():new Date(We.createdAt)).getTime()-Le.getTime()});if(console.log("EnquiryResponses: Fetched approved responses:",Ie),x(Ie),b&&Ke.length>0){const je=Ke.find(We=>We.sellerId===b);je&&(v(je),console.log("EnquiryResponses: Auto-selected seller from URL:",g2e({sellerName:je.sellerName})))}S(!1)}catch(ve){console.log("Error loading responses:",ve),S(!1)}})()},[d,t]),g.useEffect(()=>{if(b&&m.length>0){const re=m.find(we=>we.sellerId===b);re&&((t==null?void 0:t.uid)===(h==null?void 0:h.userId)||(t==null?void 0:t.uid)===re.sellerId?(v(re),console.log("EnquiryResponses: Selected seller from URL change:",re.sellerName)):console.log("EnquiryResponses: User not authorized to chat with this seller"))}},[b,m,t,h]),g.useEffect(()=>{if(!p||!d)return;(async()=>{try{const we=Ce(oe,"chatSettings",`${d}_${p.sellerId}`),ve=await Ft(we);if(ve.exists()){const _e=ve.data();Is(_e.callsEnabled!==void 0?_e.callsEnabled:!0)}else Is(!0)}catch(we){console.log("Error loading calls enabled state:",we),Is(!0)}})()},[p,d]),g.useEffect(()=>{if(!p)return;(async()=>{try{const we=await fp();Z(we)}catch(we){console.error("Error checking microphone permission:",we),Z("prompt")}})()},[p]);const pl=async()=>{const re=await fp();Z(re)};g.useEffect(()=>{if(!p||!d)return;if(p.enquiryId!==d){console.log("EnquiryResponses: Selected response does not belong to current enquiry, clearing selection"),v(null);return}console.log("Setting up real-time chat for enquiry:",d,"seller:",p.sellerId);const re=jt(Ze(oe,"chatMessages"),At("enquiryId","==",d),At("sellerId","==",p.sellerId)),we=Ur(re,ve=>{const _e=[];ve.forEach(Ke=>{const Ie={id:Ke.id,...Ke.data()};_e.push(Ie)}),_e.sort((Ke,Ie)=>{var Le,tt;const je=(Le=Ke.timestamp)!=null&&Le.toDate?Ke.timestamp.toDate():new Date(Ke.timestamp),We=(tt=Ie.timestamp)!=null&&tt.toDate?Ie.timestamp.toDate():new Date(Ie.timestamp);return je.getTime()-We.getTime()}),N(_e),_(!0),setTimeout(()=>{const Ke=document.getElementById("chat-messages");Ke&&(Ke.scrollTop=Ke.scrollHeight)},100)},ve=>{console.log("Chat error:",ve),_(!1)});return()=>{we(),N([]),_(!1)}},[p,d]),g.useEffect(()=>{if(j.length===0)return;const re=[...new Set(j.map(_e=>_e.senderId))],we={};(async()=>{for(const _e of re)try{const Ke=await Ft(Ce(oe,"userProfiles",_e));Ke.exists()&&(we[_e]=Ke.data())}catch(Ke){console.error("Error fetching user profile:",Ke)}Ne(we)})()},[j]),g.useEffect(()=>{if(!(p!=null&&p.sellerId)&&!(t!=null&&t.uid))return;(async()=>{try{if(p!=null&&p.sellerId){const we=await Ft(Ce(oe,"userProfiles",p.sellerId));we.exists()&&Ne(ve=>({...ve,[p.sellerId]:we.data()}))}if(t!=null&&t.uid){const we=await Ft(Ce(oe,"userProfiles",t.uid));we.exists()&&Ne(ve=>({...ve,[t.uid]:we.data()}))}}catch(we){console.error("Error fetching profiles:",we)}})()},[p==null?void 0:p.sellerId,t==null?void 0:t.uid]);const Bm=async()=>{var ve,_e,Ke;if(!E.trim()&&I.length===0||!p||!d||!t)return;const re=E.trim(),we=t.uid===p.sellerId;C(""),M([]);try{const Ie=(await Promise.all(I.map(async(je,We)=>{const Le=`${Date.now()}-${We}`;ge(tt=>({...tt,[Le]:!0})),te(tt=>({...tt,[Le]:0}));try{let tt=je;je.type.startsWith("image/")?(te(nt=>({...nt,[Le]:25})),tt=await Gm(je),te(nt=>({...nt,[Le]:50}))):je.type.startsWith("audio/")?(te(nt=>({...nt,[Le]:25})),tt=await Td(je),te(nt=>({...nt,[Le]:50}))):(te(nt=>({...nt,[Le]:25})),tt=await Cd(je),te(nt=>({...nt,[Le]:50})));const yt={name:tt.name,type:tt.type,size:tt.size,lastModified:tt.lastModified};if(tt.type.startsWith("image/")||tt.type.startsWith("audio/")||tt.type.startsWith("video/")){if(tt.size>3145728)return console.log("File is still too large after compression, skipping"),te(Jt=>({...Jt,[Le]:0})),null;te(Jt=>({...Jt,[Le]:75}));const nt=await new Promise(Jt=>{const Gr=new FileReader;Gr.onload=()=>Jt(Gr.result),Gr.readAsDataURL(tt)});return te(Jt=>({...Jt,[Le]:100})),{...yt,base64:nt}}return te(nt=>({...nt,[Le]:100})),yt}finally{ge(tt=>({...tt,[Le]:!1})),setTimeout(()=>{te(tt=>{const yt={...tt};return delete yt[Le],yt})},1e3)}}))).filter(je=>je!==null);await ai(Ze(oe,"chatMessages"),{enquiryId:d,sellerId:p.sellerId,senderId:t.uid,senderName:((ve=Q[t.uid])==null?void 0:ve.fullName)||"User",senderType:we?"seller":"buyer",message:re,attachments:Ie,timestamp:Fe()});try{const je=we?h==null?void 0:h.userId:p.sellerId;je&&je!==t.uid&&(e!=null&&e.createNotificationForUser)&&(await e.createNotificationForUser(je,"new_chat",{title:" New Message",message:`${((_e=Q[t.uid])==null?void 0:_e.fullName)||"Someone"} sent you a message about "${h==null?void 0:h.title}"`,priority:"high",actionUrl:`/enquiry/${d}/responses?sellerId=${p.sellerId}`,actionText:"View Message",enquiryId:d,senderId:t.uid,senderName:((Ke=Q[t.uid])==null?void 0:Ke.fullName)||"Someone"}),console.log(" Chat notification sent to recipient"))}catch(je){console.error("Failed to create chat notification:",je)}}catch(Ie){console.error("Error sending message:",Ie),C(re),M(I)}},Um=async()=>{var we,ve,_e;if(!E.trim()&&I.length===0||!p||!d||!t)return;const re=E.trim();C(""),M([]);try{const Ke=(await Promise.all(I.map(async(Ie,je)=>{const We=`seller-${Date.now()}-${je}`;ge(Le=>({...Le,[We]:!0})),te(Le=>({...Le,[We]:0}));try{let Le=Ie;Ie.type.startsWith("image/")?(te(yt=>({...yt,[We]:25})),Le=await Gm(Ie),te(yt=>({...yt,[We]:50}))):Ie.type.startsWith("audio/")?(te(yt=>({...yt,[We]:25})),Le=await Td(Ie),te(yt=>({...yt,[We]:50}))):(te(yt=>({...yt,[We]:25})),Le=await Cd(Ie),te(yt=>({...yt,[We]:50})));const tt={name:Le.name,type:Le.type,size:Le.size,lastModified:Le.lastModified};if(Le.type.startsWith("image/")||Le.type.startsWith("audio/")||Le.type.startsWith("video/")){if(Le.size>3145728)return console.log("File is still too large after compression, skipping"),te(nt=>({...nt,[We]:0})),null;te(nt=>({...nt,[We]:75}));const yt=await new Promise(nt=>{const Jt=new FileReader;Jt.onload=()=>nt(Jt.result),Jt.readAsDataURL(Le)});return te(nt=>({...nt,[We]:100})),{...tt,base64:yt}}return te(yt=>({...yt,[We]:100})),tt}finally{ge(Le=>({...Le,[We]:!1})),setTimeout(()=>{te(Le=>{const tt={...Le};return delete tt[We],tt})},1e3)}}))).filter(Ie=>Ie!==null);await ai(Ze(oe,"chatMessages"),{enquiryId:d,sellerId:p.sellerId,senderId:t.uid,senderName:((we=Q[t.uid])==null?void 0:we.fullName)||"User",senderType:"seller",message:re,attachments:Ke,timestamp:Fe()});try{const Ie=h==null?void 0:h.userId;Ie&&Ie!==t.uid&&(e!=null&&e.createNotificationForUser)&&(await e.createNotificationForUser(Ie,"new_chat",{title:" New Message",message:`${((ve=Q[t.uid])==null?void 0:ve.fullName)||"Seller"} sent you a message about "${h==null?void 0:h.title}"`,priority:"high",actionUrl:`/enquiry/${d}/responses?sellerId=${p.sellerId}`,actionText:"View Message",enquiryId:d,senderId:t.uid,senderName:((_e=Q[t.uid])==null?void 0:_e.fullName)||"Seller"}),console.log(" Chat notification sent to buyer"))}catch(Ie){console.error("Failed to create seller chat notification:",Ie)}}catch(Ke){console.error("Error sending seller message:",Ke),C(re),M(I)}},go=()=>{v(null),N([]),C(""),T(!1)},qy=()=>{de(!0)},qm=async()=>{de(!1);try{if(h&&p){const re=jt(Ze(oe,"chatMessages"),At("enquiryId","==",h.id),At("sellerId","==",p.sellerId)),ve=(await Bt(re)).docs.map(_e=>dc(_e.ref));await Promise.all(ve),le({title:"Chat Ended",description:"Chat history has been deleted permanently."}),go()}}catch(re){console.error("Error ending chat:",re),le({title:"Error",description:"Failed to end chat",variant:"destructive"})}},Pd=()=>{var ve;if(!p||!h||!t)return;const re=t.uid===h.userId?p.sellerId:h.userId,we=t.uid===h.userId?p.sellerName:((ve=Q[h.userId])==null?void 0:ve.fullName)||"User";at({id:re,name:we}),Xe(!0)},ka=async()=>{if(!(!pt||!t)){Xe(!1);try{const re=Ce(oe,"users",t.uid),we=await Ft(re);we.exists()?(we.data().blockedUsers||[]).includes(pt.id)||await ot(re,{blockedUsers:uy(pt.id)}):await pn(re,{blockedUsers:[pt.id]},{merge:!0}),le({title:"User Blocked",description:`${pt.name} has been blocked. You will no longer receive messages from this user.`}),go(),at(null)}catch(re){console.error("Error blocking user:",re),le({title:"Error",description:"Failed to block user",variant:"destructive"}),at(null)}}},zy=()=>{it(!0)},Wy=async()=>{it(!1);try{if(h){await ot(Ce(oe,"enquiries",h.id),{status:"deal_closed",dealClosed:!0,dealClosedAt:Fe(),dealClosedBy:t==null?void 0:t.uid}),le({title:"Deal Closed",description:'This enquiry has been marked as "Deal Closed" and will appear in your history.'});try{await r("enquiry_update",{title:"Deal Closed Successfully! ",message:`The deal for "${h.title}" has been closed and marked as completed.`,priority:"high",actionUrl:"/my-enquiries",actionText:"View My Enquiries"})}catch(re){console.error("Failed to create deal closure notification:",re)}go()}}catch(re){console.error("Error closing deal:",re),le({title:"Error",description:"Failed to close deal",variant:"destructive"})}},zm=()=>{T(!0),setTimeout(()=>T(!1),3e3)},_d=async re=>{const we={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]},ve=new RTCPeerConnection(we);return re.getTracks().forEach(_e=>{ve.addTrack(_e,re)}),ve.ontrack=_e=>{console.log("Received remote track:",_e.track),console.log("Remote streams:",_e.streams),_e.streams[0]&&(ke(_e.streams[0]),Ki.current&&(Ki.current.srcObject=_e.streams[0],Ki.current.play().catch(Ke=>{console.error("Error playing remote audio:",Ke)}),console.log("Remote audio element set and playing")))},ve.onicecandidate=async _e=>{if(_e.candidate&&p&&h&&t){const Ke=t.uid===h.userId?p.sellerId:h.userId,Ie=t.uid<Ke?`${t.uid}_${Ke}`:`${Ke}_${t.uid}`,je=Ce(oe,"callSignaling",Ie);try{const We=_e.candidate.toJSON();console.log("Sending ICE candidate:",We),await ot(je,{[`${t.uid}.lastCandidate`]:We,[`${t.uid}.lastCandidateTime`]:Fe()}).catch(async Le=>{console.log("Document not found, creating it"),await pn(je,{[`${t.uid}.lastCandidate`]:We,[`${t.uid}.lastCandidateTime`]:Fe()})})}catch(We){console.error("Error sending ICE candidate:",We)}}else _e.candidate||console.log("All ICE candidates have been sent")},ve.onconnectionstatechange=()=>{if(console.log("Connection state changed:",ve.connectionState),ve.connectionState==="connected")hr("active"),or.current="active",fs(!0),console.log("Call connected successfully!");else if(ve.connectionState==="disconnected"){const _e=or.current;_e==="active"||_e==="connecting"?(console.log("Call disconnected during active call, ending call"),le({title:"Call Disconnected",description:"The call was disconnected. This may be due to network issues.",variant:"default"}),Hr()):console.log("Connection disconnected but call not active, ignoring")}else if(ve.connectionState==="failed"||ve.connectionState==="closed"){const _e=or.current;_e==="active"||_e==="connecting"?(console.log("Call failed/closed:",ve.connectionState),le({title:"Call Failed",description:"The call failed to connect. Please check your internet connection.",variant:"destructive"}),Hr()):console.log("Connection failed/closed but call not active, ignoring")}},ve.oniceconnectionstatechange=()=>{const _e=ve.iceConnectionState;if(console.log("ICE connection state:",_e),_e==="failed"){const Ke=or.current;(Ke==="connecting"||Ke==="active")&&(console.log("ICE connection failed - network issue detected"),le({title:"Connection Failed",description:"Unable to establish connection. The other person may be offline or have network issues.",variant:"destructive"}),setTimeout(()=>{var Ie;((Ie=Ta.current)==null?void 0:Ie.iceConnectionState)==="failed"&&(or.current==="connecting"||or.current==="calling")&&(console.log("ICE failed and did not recover, ending call"),Hr(!1))},5e3))}else _e==="disconnected"&&or.current==="active"&&(console.log("ICE disconnected - possible network issue"),le({title:"Connection Lost",description:"The connection was lost. Attempting to reconnect...",variant:"default"}),setTimeout(()=>{var Ie;((Ie=Ta.current)==null?void 0:Ie.iceConnectionState)==="disconnected"&&or.current==="active"&&(console.log("Connection lost and did not recover, ending call"),le({title:"Call Ended",description:"Unable to reconnect. The other person may have lost internet connection.",variant:"destructive"}),Hr(!1))},1e4))},ve},Hy=async()=>{if(!(!p||!d))try{const re=Ce(oe,"chatSettings",`${d}_${p.sellerId}`),we=!ms;await ot(re,{callsEnabled:we,updatedAt:new Date,updatedBy:t==null?void 0:t.uid}).catch(async ve=>{if(ve.code==="not-found")await pn(re,{enquiryId:d,sellerId:p.sellerId,callsEnabled:we,createdAt:new Date,updatedAt:new Date,updatedBy:t==null?void 0:t.uid});else throw ve}),Is(we),le({title:we?"Calls Enabled":"Calls Disabled",description:we?"You can now make audio calls in this chat.":"Audio calls are now disabled for this chat."}),!we&&(Rt||Xt)&&await Hr()}catch(re){console.error("Error toggling calls:",re),le({title:"Error",description:"Failed to update call settings. Please try again.",variant:"destructive"})}},Gy=async()=>{var re,we;if(!(!p||!h||!t))try{const ve=await fp();if(ve!=="granted"){Z(ve),le({title:"Microphone Permission Required",description:"Please grant microphone access to make calls. Click the permission button above.",variant:"default"});return}if(!navigator.onLine){le({title:"No Internet Connection",description:"Please check your internet connection and try again.",variant:"destructive"});return}_r(!0),Lt(!0),hr("calling"),or.current="calling",ps.current=Date.now(),Kc(0);const _e=setInterval(()=>{if(ps.current){const nt=Math.floor((Date.now()-ps.current)/1e3);if(Kc(nt),!navigator.onLine){console.log("Network offline detected"),clearInterval(_e),le({title:"No Internet Connection",description:"Your internet connection was lost. The call cannot continue.",variant:"destructive"}),Hr(!1);return}nt>=60&&or.current==="calling"&&(console.log("Call timeout - no answer after 60 seconds, ending call"),clearInterval(_e),le({title:"Call Not Answered",description:"The call was not answered. The other person may be offline or have network issues.",variant:"default"}),Hr(!1))}},1e3);wn.current=_e,console.log("Requesting microphone access...");const Ke=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1});console.log("Microphone access granted, stream created:",Ke),console.log("Audio tracks:",Ke.getAudioTracks()),Ae(Ke),Ar.current&&(Ar.current.srcObject=Ke,Ar.current.muted=!0,Ar.current.play().catch(nt=>{console.error("Error playing local audio:",nt)}));const Ie=await _d(Ke);Ta.current=Ie,console.log("Creating offer...");const je=await Ie.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!1});await Ie.setLocalDescription(je),console.log("Offer created and local description set");const We=t.uid===h.userId?p.sellerId:h.userId,Le=t.uid<We?`${t.uid}_${We}`:`${We}_${t.uid}`,tt=Ce(oe,"callSignaling",Le);await pn(tt,{callerId:t.uid,receiverId:We,enquiryId:h.id,offer:JSON.stringify(je),status:"calling",createdAt:Fe(),[t.uid]:{offer:JSON.stringify(je),timestamp:Fe()}});try{e!=null&&e.createNotificationForUser&&(await e.createNotificationForUser(We,"new_chat",{title:" Incoming Call",message:`${((re=Q[t.uid])==null?void 0:re.fullName)||"Someone"} is calling you about "${h.title}"`,priority:"urgent",actionUrl:`/enquiry/${d}/responses?sellerId=${p.sellerId}`,actionText:"Answer",enquiryId:d,callerId:t.uid,callerName:((we=Q[t.uid])==null?void 0:we.fullName)||"Someone"}),console.log(" Incoming call notification sent to recipient"))}catch(nt){console.error("Failed to create call notification:",nt)}const yt=Ur(tt,async nt=>{var Bn;const Jt=nt.data();if(!Jt||!Ie)return;if(Jt.status==="answered"&&Jt.answer&&Ie.localDescription&&!Ie.remoteDescription){if(console.log("Received answer, setting remote description"),!navigator.onLine){console.log("Network offline when receiving answer"),le({title:"Connection Lost",description:"Lost internet connection while connecting. Please try again.",variant:"destructive"}),Hr(!1);return}wn.current&&(clearInterval(wn.current),wn.current=null);const sn=JSON.parse(Jt.answer);for(await Ie.setRemoteDescription(new RTCSessionDescription(sn)),hr("connecting"),or.current="connecting";Ca.current.length>0;){const Qs=Ca.current.shift();if(Qs)try{await Ie.addIceCandidate(Qs),console.log("Added pending ICE candidate")}catch(Jc){console.error("Error adding pending ICE candidate:",Jc)}}}const Gr=t.uid===h.userId?p.sellerId:h.userId,gs=Jt[`${Gr}.lastCandidate`],xo=Jt[`${Gr}.lastCandidateTime`];if(gs){const sn=`${gs.candidate}-${gs.sdpMLineIndex}-${gs.sdpMid}`;if(Mr.current.has(sn))return;try{if(Ie.remoteDescription)await Ie.addIceCandidate(new RTCIceCandidate(gs)),Mr.current.add(sn),console.log("Added ICE candidate from remote");else{const Qs=new RTCIceCandidate(gs);Ca.current.push(Qs),Mr.current.add(sn),console.log("Queued ICE candidate (waiting for remote description)")}}catch(Qs){(Bn=Qs.message)!=null&&Bn.includes("already been set")||console.error("Error adding ICE candidate:",Qs)}}Jt.status==="rejected"||Jt.status==="ended"&&Ie.remoteDescription?(console.log("Call ended/rejected, ending call"),Hr()):Jt.status==="ended"&&!Ie.remoteDescription&&(console.log("Call ended before answer, resetting state"),hr("idle"),or.current="idle",_r(!1),Re&&(Re.getTracks().forEach(sn=>sn.stop()),Ae(null)))});Yi.current=yt}catch(ve){console.error("Error initiating call:",ve),le({title:"Error",description:"Failed to start call. Please check microphone permissions.",variant:"destructive"}),Hr()}},AN=async()=>{if(!(!p||!h||!t))try{const re=await fp();if(re!=="granted"){Z(re),le({title:"Microphone Permission Required",description:"Please grant microphone access to answer calls. Click the permission button above.",variant:"default"}),Hr();return}if(!navigator.onLine){le({title:"No Internet Connection",description:"Please check your internet connection and try again.",variant:"destructive"});return}_r(!0),Lt(!1),hr("connecting"),or.current="connecting",console.log("Answering call, requesting microphone access...");const we=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1});console.log("Microphone access granted (answer), stream created:",we),console.log("Audio tracks:",we.getAudioTracks()),Ae(we),Ar.current&&(Ar.current.srcObject=we,Ar.current.muted=!0,Ar.current.play().catch(We=>{console.error("Error playing local audio (answer):",We)}));const ve=await _d(we);Ta.current=ve;const _e=t.uid===h.userId?p.sellerId:h.userId,Ke=t.uid<_e?`${t.uid}_${_e}`:`${_e}_${t.uid}`,Ie=Ce(oe,"callSignaling",Ke),je=await Ft(Ie);if(je.exists()&&je.data().offer){console.log("Answering call, setting remote description");const We=JSON.parse(je.data().offer);for(await ve.setRemoteDescription(new RTCSessionDescription(We));Ca.current.length>0;){const yt=Ca.current.shift();if(yt)try{await ve.addIceCandidate(yt),console.log("Added pending ICE candidate (answer side)")}catch(nt){console.error("Error adding pending ICE candidate:",nt)}}wn.current&&(clearInterval(wn.current),wn.current=null),console.log("Creating answer...");const Le=await ve.createAnswer();await ve.setLocalDescription(Le),console.log("Answer created and local description set"),await ot(Ie,{answer:JSON.stringify(Le),status:"answered",[`${t.uid}.answer`]:JSON.stringify(Le),[`${t.uid}.timestamp`]:Fe()});const tt=Ur(Ie,async yt=>{var gs;const nt=yt.data();if(!nt||!ve)return;const Jt=t.uid===h.userId?p.sellerId:h.userId,Gr=nt[`${Jt}.lastCandidate`];if(Gr){const xo=`${Gr.candidate}-${Gr.sdpMLineIndex}-${Gr.sdpMid}`;if(Mr.current.has(xo))return;try{if(ve.remoteDescription)await ve.addIceCandidate(new RTCIceCandidate(Gr)),Mr.current.add(xo),console.log("Added ICE candidate from remote (answer side)");else{const Bn=new RTCIceCandidate(Gr);Ca.current.push(Bn),Mr.current.add(xo),console.log("Queued ICE candidate (answer side, waiting for remote description)")}}catch(Bn){(gs=Bn.message)!=null&&gs.includes("already been set")||console.error("Error adding ICE candidate:",Bn)}}nt.status==="ended"&&Hr()});Yi.current=tt}}catch(re){console.error("Error answering call:",re),le({title:"Error",description:"Failed to answer call. Please check microphone permissions.",variant:"destructive"}),Hr()}},Hr=async(re=!1)=>{const we=or.current;if(console.log("endCall called, currentStatus:",we,"skipFirestoreUpdate:",re),wn.current&&(clearInterval(wn.current),wn.current=null),ps.current=null,Kc(0),Re&&(Re.getTracks().forEach(ve=>ve.stop()),Ae(null)),Ta.current&&(Ta.current.close(),Ta.current=null),Yi.current&&(Yi.current(),Yi.current=null),!re&&p&&h&&t){const ve=t.uid===h.userId?p.sellerId:h.userId,_e=t.uid<ve?`${t.uid}_${ve}`:`${ve}_${t.uid}`;try{const Ke=Ce(oe,"callSignaling",_e),Ie=await Ft(Ke);we==="active"||we==="connecting"||we==="calling"&&wt||Ie.exists()&&Ie.data().status==="answered"?(console.log("Updating Firestore to ended status"),await ot(Ke,{status:"ended",endedAt:Fe(),endedBy:t.uid})):console.log("Skipping Firestore update - call not yet answered")}catch(Ke){console.error("Error updating call status:",Ke)}}_r(!1),fs(!1),hr("idle"),or.current="idle",ke(null),Lt(!1),Ca.current=[],Mr.current.clear(),Ar.current&&(Ar.current.srcObject=null),Ki.current&&(Ki.current.srcObject=null)};g.useEffect(()=>{if(!p||!h||!t)return;const re=t.uid===h.userId?p.sellerId:h.userId,we=t.uid<re?`${t.uid}_${re}`:`${re}_${t.uid}`,ve=Ce(oe,"callSignaling",we);console.log("Setting up incoming call listener for:",we),(async()=>{var Ie;try{const je=await Ft(ve);if(je.exists()){const We=je.data(),Le=(Ie=We.createdAt)!=null&&Ie.toMillis?We.createdAt.toMillis():Date.now(),tt=Date.now()-Le,yt=2*60*1e3;tt>yt&&(We.status==="calling"||We.status==="ringing")&&(console.log("Cleaning up old call document:",we),await ot(ve,{status:"ended",endedAt:Fe(),autoEnded:!0}))}}catch(je){console.error("Error cleaning up old call:",je)}})();const Ke=Ur(ve,Ie=>{var yt;const je=Ie.data(),We=or.current,Le=Rt,tt=Xt;if(console.log("Incoming call listener triggered:",{hasData:!!je,status:je==null?void 0:je.status,callerId:je==null?void 0:je.callerId,currentStatus:We,currentIsCalling:Le,currentIsInCall:tt}),!je){We==="ringing"&&(console.log("Call document deleted while ringing, resetting state"),hr("idle"),or.current="idle");return}if(!Le&&!tt&&We==="idle"&&je.status==="calling"&&je.callerId&&je.callerId!==t.uid){const nt=(yt=je.createdAt)!=null&&yt.toMillis?je.createdAt.toMillis():Date.now(),Jt=Date.now()-nt,Gr=2*60*1e3;if(Jt>Gr){console.log("Ignoring old call (older than 2 minutes):",je.callerId,"age:",Math.floor(Jt/1e3),"seconds");return}console.log("Incoming call detected from:",je.callerId),hr("ringing"),or.current="ringing",ps.current=Date.now(),Kc(0),wn.current&&clearInterval(wn.current);const gs=setInterval(()=>{if(ps.current){const xo=Math.floor((Date.now()-ps.current)/1e3);if(Kc(xo),!navigator.onLine){console.log("Network offline detected while ringing"),clearInterval(gs),le({title:"No Internet Connection",description:"Your internet connection was lost. Cannot receive calls.",variant:"destructive"});const Bn=t.uid===h.userId?p.sellerId:h.userId,sn=t.uid<Bn?`${t.uid}_${Bn}`:`${Bn}_${t.uid}`,Qs=Ce(oe,"callSignaling",sn);ot(Qs,{status:"rejected",rejectedAt:Fe(),rejectedBy:t.uid,rejectionReason:"network_offline"}).catch(Jc=>console.error("Error rejecting call:",Jc)),hr("idle"),or.current="idle",_r(!1),fs(!1);return}if(xo>=60&&or.current==="ringing"){console.log("Incoming call timeout - not answered after 60 seconds, auto-rejecting"),clearInterval(gs),le({title:"Call Missed",description:"You did not answer the call in time.",variant:"default"});const Bn=t.uid===h.userId?p.sellerId:h.userId,sn=t.uid<Bn?`${t.uid}_${Bn}`:`${Bn}_${t.uid}`,Qs=Ce(oe,"callSignaling",sn);ot(Qs,{status:"rejected",rejectedAt:Fe(),rejectedBy:t.uid}).catch(Jc=>console.error("Error rejecting call:",Jc)),hr("idle"),or.current="idle",_r(!1),fs(!1)}}},1e3);wn.current=gs}if(We==="ringing"&&je.status==="calling"&&je.callerId&&je.callerId!==t.uid){console.log("Call still ringing, status:",je.status);return}(je.status==="ended"||je.status==="rejected")&&(We==="ringing"||Le||tt)&&(console.log("Call ended/rejected remotely, status:",je.status),hr("idle"),or.current="idle",Le||tt?Hr():(_r(!1),fs(!1))),We==="ringing"&&je.status!=="calling"&&je.status!=="answered"&&je.status!=="ended"&&je.status!=="rejected"&&(console.log("Call cancelled by caller (status changed to:",je.status,")"),hr("idle"),or.current="idle")});return()=>{console.log("Cleaning up incoming call listener"),Ke()}},[p,h,t,Rt,Xt]);const Ad=re=>{const we=re.target.files;if(we){const ve=Array.from(we);M(_e=>[..._e,...ve])}},Wm=re=>{M(we=>we.filter((ve,_e)=>_e!==re))},vi=re=>{if(re===0)return"0 Bytes";const we=1024,ve=["Bytes","KB","MB","GB"],_e=Math.floor(Math.log(re)/Math.log(we));return parseFloat((re/Math.pow(we,_e)).toFixed(2))+" "+ve[_e]},Ia=async()=>{try{const re=await fp();if(re!=="granted"){Z(re),le({title:"Microphone Permission Required",description:"Please grant microphone access to record voice messages. Click the permission button above.",variant:"default"});return}const we=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),ve=new MediaRecorder(we,{mimeType:"audio/webm;codecs=opus"}),_e=[];ve.ondataavailable=Ie=>{Ie.data.size>0&&_e.push(Ie.data)},ve.onstop=()=>{const Ie=new Blob(_e,{type:"audio/webm"});se(Ie),D(_e),we.getTracks().forEach(je=>je.stop())},ve.onerror=Ie=>{console.error("Recording error:",Ie),$(!1),we.getTracks().forEach(je=>je.stop())},ve.start(100),X(ve),$(!0),Y(0),D([]);const Ke=setInterval(()=>{Y(Ie=>Ie+1)},1e3);ve.timer=Ke}catch(re){console.error("Error starting recording:",re),le({title:"Error",description:"Could not access microphone",variant:"destructive"})}},gl=()=>{K&&B&&(K.stop(),$(!1),K.timer&&clearInterval(K.timer))},TN=()=>{K&&B&&(K.stop(),$(!1),se(null),D([]),Y(0),K.timer&&clearInterval(K.timer))},Ky=async()=>{var re;if(!(!H||!p||!d||!t)){me(!0);try{const we=t.uid===p.sellerId,ve=await new Promise(Ke=>{const Ie=new FileReader;Ie.onload=()=>Ke(Ie.result),Ie.readAsDataURL(H)}),_e=[{name:`voice-message-${Date.now()}.webm`,type:"audio/webm",size:H.size,lastModified:Date.now(),base64:ve}];await ai(Ze(oe,"chatMessages"),{enquiryId:d,sellerId:p.sellerId,senderId:t.uid,senderName:((re=Q[t.uid])==null?void 0:re.fullName)||"User",senderType:we?"seller":"buyer",message:` Voice message (${Math.floor(U/60)}:${(U%60).toString().padStart(2,"0")})`,attachments:_e,timestamp:Fe()}),se(null),D([]),Y(0)}catch(we){console.error("Error sending voice message:",we),le({title:"Error",description:"Failed to send voice message",variant:"destructive"})}finally{me(!1)}}},Hm=re=>{const we=Math.floor(re/60),ve=re%60;return`${we}:${ve.toString().padStart(2,"0")}`},Gm=(re,we=.8)=>new Promise(ve=>{const _e=document.createElement("canvas"),Ke=_e.getContext("2d"),Ie=document.createElement("img");Ie.onload=()=>{let{width:We,height:Le}=Ie;We>Le&&We>800?(Le=Le*800/We,We=800):Le>800&&(We=We*800/Le,Le=800),_e.width=We,_e.height=Le,Ke.drawImage(Ie,0,0,We,Le),_e.toBlob(tt=>{if(tt){const yt=Object.assign(tt,{name:re.name,lastModified:Date.now()});ve(yt)}else ve(re)},"image/jpeg",we)},Ie.src=URL.createObjectURL(re)}),Td=re=>new Promise(we=>{if(re.size<=3*1024*1024){console.log("Audio file is small enough, no compression needed"),we(re);return}console.log("Audio file is large, but compression is complex - using original"),we(re)}),Cd=re=>new Promise(we=>{if(re.size<=20*1024*1024){we(re);return}we(re)}),Yy=()=>{ar.current&&(ar.current.scrollTop=ar.current.scrollHeight)},Qy=()=>{if(!d||!h||!t)return[];const re=[...m].sort((we,ve)=>{var Ie,je;const _e=(Ie=we.createdAt)!=null&&Ie.toDate?we.createdAt.toDate():new Date(we.createdAt),Ke=(je=ve.createdAt)!=null&&je.toDate?ve.createdAt.toDate():new Date(ve.createdAt);return _e.getTime()-Ke.getTime()});if(t.uid===h.userId){const we=h.selectedPlanId||"free";let ve=2;switch(we){case"free":ve=2;break;case"basic":ve=5;break;case"standard":ve=10;break;case"premium":case"pro":ve=-1;break;default:ve=2}return ve===-1?re:re.slice(0,ve)}return re.filter(we=>we.sellerId===t.uid)},CN=()=>!h||!t||t.uid===h.userId||!m.find(ve=>ve.sellerId===t.uid)||h.isPremium?!1:m.findIndex(ve=>ve.sellerId===t.uid)>=2,Tr=re=>!h||!t||!h.isPremium&&!c.premiumSubscription&&m.findIndex(ve=>ve.id===re.id)>=2?!1:t.uid===h.userId?!0:t.uid!==re.sellerId?!1:!h.isPremium&&!c.premiumSubscription?m.findIndex(ve=>ve.sellerId===t.uid)<2:!0,Xy=re=>{d&&v(re)},Jy=()=>{d&&(o(d),ie(!1),le({title:"Premium Unlocked! ",description:"You can now view all responses for this enquiry"}))};g.useEffect(()=>{Yy()},[j]),g.useEffect(()=>{const re=we=>{nr.current&&!nr.current.contains(we.target)&&W(!1)};return document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[]),g.useEffect(()=>()=>{K&&B&&(K.stop(),K.timer&&clearInterval(K.timer))},[K,B]);const kN=re=>re?(re.toDate?re.toDate():new Date(re)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Recently",Ra=re=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(re);return g.useEffect(()=>()=>{document.querySelectorAll("[data-image-overlay]").forEach(we=>we.remove())},[]),P?i.jsx(_a,{message:"Loading responses"}):h&&m.length===0&&!P?i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(G,{variant:"ghost",onClick:()=>u("/my-enquiries"),className:"p-2 hover:bg-slate-100 rounded-lg",children:i.jsx(gn,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Enquiry Responses"}),i.jsx("p",{className:"text-slate-600",children:"View and chat with approved sellers"})]})]})}),i.jsx(be,{className:"mb-8 border-0 shadow-lg rounded-2xl",children:i.jsx(Ve,{className:"p-6",children:i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:[h.title,h.isUrgent&&i.jsx(Pe,{variant:"destructive",className:"ml-2 text-xs",children:"Urgent"})]}),i.jsx("p",{className:"text-slate-600 mb-3",children:h.description}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500",children:[i.jsx(Pe,{variant:"outline",children:h.category}),i.jsxs("span",{children:["Budget: ",Ra(h.budget)]}),h.location&&i.jsxs("span",{children:[" ",h.location]})]})]})})})}),i.jsx(be,{className:"border-0 shadow-lg rounded-2xl",children:i.jsxs(Ve,{className:"p-16 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(vr,{className:"h-12 w-12 text-slate-600"})}),i.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"No Responses Yet"}),i.jsx("p",{className:"text-slate-600 text-lg mb-6 max-w-md mx-auto",children:"Your enquiry hasn't received any approved responses yet. Sellers are reviewing your request and will respond soon."}),i.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[i.jsxs(G,{onClick:()=>window.history.back(),variant:"outline",className:"border-slate-300 text-slate-700 hover:bg-slate-50",children:[i.jsx(gn,{className:"h-4 w-4 mr-2"}),"Back to My Enquiries"]}),i.jsx(G,{onClick:()=>u("/"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Browse More Enquiries"})]})]})})]})})}):h?i.jsxs(Nt,{children:[i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[i.jsx("div",{className:"mb-4 sm:mb-6 lg:mb-8 rounded-lg overflow-hidden shadow-lg",children:i.jsxs("div",{className:"bg-gray-800 px-4 sm:px-6 py-4 sm:py-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(G,{variant:"ghost",onClick:()=>u("/my-enquiries"),className:"p-2 hover:bg-gray-700 rounded-lg min-touch text-white",children:i.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),i.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2",children:i.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black text-white tracking-tight",children:"Chat"})}),i.jsx("div",{className:"w-10"})," "]}),i.jsx("div",{className:"bg-gray-800 rounded-lg p-2 sm:p-3",children:i.jsxs("div",{className:"text-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm sm:text-base font-bold",children:h.title}),i.jsx("div",{className:"text-lg sm:text-xl font-bold",children:"1"})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-300 mb-1",children:[i.jsx("span",{children:"fulltime"}),i.jsx("span",{children:h.category})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-300 mb-1",children:[i.jsxs("span",{children:["Budget: ",Ra(h.budget)]}),i.jsxs("span",{children:[" ",h.location]})]}),i.jsx("div",{className:"text-center text-xs text-gray-300",children:"Approved Responses"})]})})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-8",children:[i.jsxs("div",{className:"lg:col-span-1 order-2 lg:order-1",children:[i.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-slate-900 mb-2 sm:mb-3 lg:mb-4",children:"Approved Responses"}),m.length===0?i.jsxs(be,{className:"p-4 sm:p-6 lg:p-8 text-center border-0 shadow-lg rounded-2xl",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx(vr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600"})}),i.jsx("h4",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"No response till now"}),i.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"We are still pushing your enquiry to the right sellers"})]}):i.jsx("div",{className:"space-y-3 sm:space-y-4",children:Qy().map((re,we)=>i.jsx("div",{className:`cursor-pointer border-0 shadow-lg transition-all duration-300 min-touch rounded-lg border bg-card text-card-foreground ${(p==null?void 0:p.id)===re.id?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-xl"}`,onClick:()=>Xy(re),children:i.jsxs("div",{className:"p-3 sm:p-4 pointer-events-none",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1 mr-2",children:[(t==null?void 0:t.uid)===(h==null?void 0:h.userId)&&i.jsxs(Pe,{variant:"outline",className:"text-xs font-medium",children:["Response #",we+1]}),i.jsx("h4",{className:"font-semibold text-slate-900 line-clamp-2 text-sm sm:text-base",children:re.title})]}),i.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:re.isIdentityVerified&&i.jsxs(Pe,{className:"bg-emerald-100 text-emerald-800 text-xs",children:[i.jsx(Ir,{className:"h-3 w-3 mr-1"}),"Verified"]})})]}),i.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mb-2 sm:mb-3 line-clamp-2",children:re.message}),i.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-slate-500",children:[i.jsxs("span",{className:"font-semibold text-emerald-600",children:["",re.price]}),i.jsxs("span",{children:[re.imageCount," images"]})]})]})},re.id))}),CN()&&i.jsx(be,{className:"border-0 shadow-lg bg-green-50 border-green-200 md:hidden mt-6 relative z-0 rounded-2xl",children:i.jsx(Ve,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(xt,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"Response Submitted Successfully"}),i.jsx("p",{className:"text-green-700 text-sm",children:"Your response has been submitted. The buyer will review it and get back to you if interested."})]})]})})})]}),i.jsx("div",{className:"lg:col-span-2 order-1 lg:order-2 min-h-0",children:p?i.jsxs(i.Fragment,{children:[i.jsxs(be,{className:"border border-slate-200 shadow-sm h-[600px] sm:h-[500px] lg:h-[600px] flex flex-col bg-white",children:[i.jsxs(vt,{className:"pb-2 sm:pb-3 border-b border-slate-200 bg-slate-50/50 p-3 sm:p-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0",children:[i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[i.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 bg-slate-600 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(vr,{className:"h-3.5 w-3.5 lg:h-4 lg:w-4 text-white"})}),i.jsx("div",{className:"min-w-0 flex-1",children:i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[i.jsx("h2",{className:"text-xs sm:text-sm lg:text-base font-medium text-slate-900",children:"Chat"}),i.jsx("span",{className:"text-xs text-slate-500",children:"with"}),i.jsx(s_,{name:(t==null?void 0:t.uid)===(h==null?void 0:h.userId)?((bi=Q[p.sellerId])==null?void 0:bi.fullName)||"Seller":((Yc=Q[h==null?void 0:h.userId])==null?void 0:Yc.fullName)||"Buyer",isVerified:(t==null?void 0:t.uid)===(h==null?void 0:h.userId)?((Qc=Q[p.sellerId])==null?void 0:Qc.isProfileVerified)||!1:((Km=Q[h==null?void 0:h.userId])==null?void 0:Km.isProfileVerified)||!1,className:"text-xs"}),h&&i.jsx(Pe,{variant:h.status==="live"?"default":"secondary",className:"text-[10px] sm:text-xs h-4 lg:h-5 px-1.5 lg:px-2 flex-shrink-0",children:h.status==="live"?"Live":"Ended"})]})})]}),i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0 flex-wrap sm:flex-nowrap",children:[Tr(p)&&i.jsx(G,{onClick:Hy,variant:"ghost",size:"sm",className:"h-8 px-2 sm:px-3 text-[10px] sm:text-xs font-medium rounded-md transition-colors duration-200 flex-shrink-0 whitespace-nowrap border border-gray-200 hover:border-gray-300",title:ms?"Click to disable calls":"Click to enable calls",children:ms?" Calls On":" Calls Off"}),Tr(p)&&ms&&i.jsx(G,{onClick:()=>{Rt||Xt?Hr():Gy()},variant:"ghost",size:"sm",className:`h-8 w-8 sm:h-9 sm:w-9 p-0 rounded-md transition-colors duration-200 flex-shrink-0 relative z-10 ${Rt||Xt?"text-red-600 hover:text-red-700 hover:bg-red-50":"text-blue-600 hover:text-blue-700 hover:bg-blue-50"}`,disabled:rr==="ringing",title:Rt||Xt?"End Call":"Start Call",children:Rt||Xt?i.jsx(C2,{className:"h-4 w-4"}):i.jsx(k2,{className:"h-4 w-4"})}),h&&(t==null?void 0:t.uid)===h.userId&&i.jsx(G,{onClick:zy,variant:"outline",size:"sm",className:"text-slate-600 hover:text-green-700 hover:border-green-300 hover:bg-green-50 text-[10px] sm:text-xs font-medium px-2 sm:px-3 py-1.5 h-8 sm:h-9 rounded-md border-slate-200 transition-colors duration-200 flex-shrink-0 whitespace-nowrap",children:"Deal Closed"}),i.jsx(G,{onClick:qy,variant:"outline",size:"sm",className:"text-slate-600 hover:text-orange-700 hover:border-orange-300 hover:bg-orange-50 text-[10px] sm:text-xs font-medium px-2 sm:px-3 py-1.5 h-8 sm:h-9 rounded-md border-slate-200 transition-colors duration-200 flex-shrink-0 whitespace-nowrap",children:"End Chat"}),i.jsx(G,{onClick:Pd,variant:"outline",size:"sm",className:"text-slate-600 hover:text-red-700 hover:border-red-300 hover:bg-red-50 text-[10px] sm:text-xs font-medium px-2 sm:px-3 py-1.5 h-8 sm:h-9 rounded-md border-slate-200 transition-colors duration-200 flex-shrink-0 whitespace-nowrap",children:"Block User"}),i.jsx(G,{variant:"ghost",size:"sm",onClick:go,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-100 h-8 w-8 sm:h-9 sm:w-9 p-0 rounded-md transition-colors duration-200 flex-shrink-0",children:i.jsx(rn,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"pt-2 border-t border-slate-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("h3",{className:"text-xs lg:text-sm font-medium text-slate-900 truncate",children:[h.title,h.isUrgent&&i.jsx(Pe,{variant:"destructive",className:"ml-1 lg:ml-2 text-xs h-3 lg:h-4 px-1",children:"Urgent"})]}),i.jsx("p",{className:"text-xs text-slate-500 truncate",children:h.description})]}),i.jsx("div",{className:"text-right ml-2 lg:ml-3 flex-shrink-0",children:i.jsxs("div",{className:"text-xs lg:text-sm font-semibold text-emerald-600",children:["",p.price]})})]})})]}),i.jsx("div",{ref:ar,id:"chat-messages",className:"flex-1 overflow-y-auto bg-slate-50/30",children:j.length===0?i.jsxs("div",{className:"text-center py-8 sm:py-12 lg:py-16",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-16 lg:h-16 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3 lg:mb-4",children:i.jsx(vr,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-slate-500"})}),i.jsx("h4",{className:"text-xs sm:text-sm lg:text-base font-medium text-slate-700 mb-1 lg:mb-2",children:"Start chatting"}),(t==null?void 0:t.uid)!==(p==null?void 0:p.sellerId)&&i.jsx("p",{className:"text-slate-500 text-xs sm:text-sm max-w-sm mx-auto px-3 sm:px-4",children:"Begin discussing details and negotiating with this seller"})]}):i.jsxs("div",{className:"px-2 sm:px-3 lg:px-4 py-2 sm:py-3 lg:py-4 space-y-1 sm:space-y-1.5 lg:space-y-2",children:[j.map((re,we)=>{var ve;return i.jsx("div",{className:`flex ${re.senderId===(t==null?void 0:t.uid)?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[200px] sm:max-w-[240px] lg:max-w-[280px] px-2 sm:px-2.5 lg:px-3 py-1.5 sm:py-2 rounded-lg relative ${re.senderId===(t==null?void 0:t.uid)?"bg-blue-600 text-white":"bg-white border border-slate-200 text-slate-900"}`,children:[re.message&&i.jsx("p",{className:"text-xs lg:text-sm leading-relaxed break-words",children:re.message}),re.attachments&&re.attachments.length>0&&i.jsx("div",{className:"mt-2 space-y-2",children:re.attachments.map((_e,Ke)=>i.jsxs("div",{children:[_e.type.startsWith("image/")&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:_e.base64,alt:_e.name,className:"max-w-[200px] max-h-[200px] rounded-lg object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{document.querySelectorAll("[data-image-overlay]").forEach(nt=>nt.remove());const je=document.createElement("div");je.setAttribute("data-image-overlay","true"),je.style.position="fixed",je.style.top="0",je.style.left="0",je.style.width="100vw",je.style.height="100vh",je.style.backgroundColor="rgba(0, 0, 0, 0.9)",je.style.zIndex="9999",je.style.display="flex",je.style.alignItems="center",je.style.justifyContent="center",je.style.cursor="pointer";const We=document.createElement("img");We.src=_e.base64,We.style.maxWidth="90vw",We.style.maxHeight="90vh",We.style.objectFit="contain",We.style.borderRadius="8px",We.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",We.style.cursor="default";const Le=document.createElement("button");Le.innerHTML="",Le.style.position="absolute",Le.style.top="20px",Le.style.right="20px",Le.style.background="rgba(255, 255, 255, 0.2)",Le.style.border="none",Le.style.borderRadius="50%",Le.style.width="40px",Le.style.height="40px",Le.style.color="white",Le.style.fontSize="20px",Le.style.cursor="pointer",Le.style.display="flex",Le.style.alignItems="center",Le.style.justifyContent="center",je.appendChild(We),je.appendChild(Le),document.body.appendChild(je);const tt=()=>{try{je&&je.parentNode&&je.parentNode.removeChild(je)}catch(nt){console.error("Error removing overlay:",nt)}};je.onclick=nt=>{nt.target===je&&tt()},Le.onclick=tt;const yt=nt=>{nt.key==="Escape"&&(tt(),document.removeEventListener("keydown",yt))};document.addEventListener("keydown",yt)}}),i.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:vi(_e.size)})]}),_e.type.startsWith("audio/")&&i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg border border-gray-200",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Ao,{className:"h-6 w-6 text-gray-800"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Voice Message"}),i.jsx("p",{className:"text-xs text-gray-600",children:vi(_e.size)})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("audio",{src:_e.base64,controls:!0,preload:"metadata",className:"h-8 w-32",style:{backgroundColor:"transparent",border:"none",outline:"none"},onError:Ie=>{console.error("Audio error:",Ie);const je=Ie.target;console.log("Audio failed to load:",je.src)},onLoadStart:()=>console.log("Audio loading started"),onCanPlay:()=>console.log("Audio can play")})})]}),!_e.type.startsWith("image/")&&!_e.type.startsWith("audio/")&&i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gradient-to-r from-slate-50 to-gray-50 rounded-lg border border-slate-200",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(T2,{className:"h-6 w-6 text-slate-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-slate-700 truncate",children:_e.name}),i.jsx("p",{className:"text-xs text-slate-500",children:vi(_e.size)})]}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{const Ie=document.createElement("a");if(_e.base64)Ie.href=_e.base64;else if(_e.blobUrl)Ie.href=_e.blobUrl;else{const je=new Blob([_e],{type:_e.type});Ie.href=URL.createObjectURL(je)}Ie.download=_e.name,document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie)},className:"h-8 w-8 p-0 text-slate-600 hover:text-blue-600 hover:bg-blue-100",children:""})]})]},Ke))}),i.jsxs("div",{className:"flex items-center justify-end space-x-1 mt-1",children:[i.jsx("span",{className:`text-xs ${re.senderId===(t==null?void 0:t.uid)?"text-blue-100":"text-slate-400"}`,children:kN(re.timestamp)}),re.senderId===(t==null?void 0:t.uid)&&i.jsx("div",{className:"ml-1",children:i.jsx(xt,{className:"h-2.5 w-2.5 lg:h-3 lg:w-3 text-blue-100"})})]}),re.senderId!==(t==null?void 0:t.uid)&&i.jsx("div",{className:"mt-1",children:i.jsx(s_,{name:re.senderName,isVerified:((ve=Q[re.senderId])==null?void 0:ve.isProfileVerified)||!1,className:"text-xs"})})]})},re.id||`message-${we}`)}),A&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"px-2.5 lg:px-3 py-1.5 lg:py-2 rounded-lg bg-white border border-slate-200",children:i.jsx("div",{className:"flex items-center space-x-1",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})}),R&&i.jsx("div",{className:"flex justify-center py-2",children:i.jsxs("div",{className:"flex items-center space-x-2 text-xs px-3 py-1 rounded-full bg-green-100 text-green-700",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),i.jsx("span",{children:"Live Chat - Real-time"})]})})]})}),i.jsx("div",{className:"border-t border-slate-200 bg-white",children:i.jsxs("div",{className:"p-3 sm:p-4",children:[p&&i.jsx("div",{className:"mb-3 sm:mb-4",children:i.jsx(b2e,{permissionStatus:ne,onPermissionGranted:pl})}),i.jsx("div",{className:"flex items-center space-x-2 sm:space-x-2 mb-3 sm:mb-4 overflow-x-auto pb-3",children:(t==null?void 0:t.uid)===(p==null?void 0:p.sellerId)?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>C("Payment: 50% advance, 50% on delivery"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-blue-50 text-blue-700 border border-blue-200 rounded-md hover:bg-blue-100 hover:border-blue-300 transition-colors duration-200 font-medium min-touch",children:" Payment"}),i.jsx("button",{onClick:()=>C("Delivery: 3-5 days"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-green-50 text-green-700 border border-green-200 rounded-md hover:bg-green-100 hover:border-green-300 transition-colors duration-200 font-medium",children:" Delivery"}),i.jsx("button",{onClick:()=>C("Bulk discounts available"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-gray-50 text-gray-700 border border-gray-200 rounded-md hover:bg-gray-100 hover:border-gray-300 transition-colors duration-200 font-medium",children:" Bulk"}),i.jsx("button",{onClick:()=>C("Quality guarantee included"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-emerald-50 text-emerald-700 border border-emerald-200 rounded-md hover:bg-emerald-100 hover:border-emerald-300 transition-colors duration-200 font-medium",children:" Quality"}),i.jsx("button",{onClick:()=>C("Can we schedule a meetup to discuss details?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-orange-50 text-orange-700 border border-orange-200 rounded-md hover:bg-orange-100 hover:border-orange-300 transition-colors duration-200 font-medium",children:" Meetup"}),i.jsx("button",{onClick:()=>C("I sell samples for testing"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-pink-50 text-pink-700 border border-pink-200 rounded-md hover:bg-pink-100 hover:border-pink-300 transition-colors duration-200 font-medium",children:" Samples"})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>C("Can you provide more details about pricing?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-blue-50 text-blue-700 border border-blue-200 rounded-md hover:bg-blue-100 hover:border-blue-300 transition-colors duration-200 font-medium",children:" Pricing"}),i.jsx("button",{onClick:()=>C("What's the delivery timeline?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-green-50 text-green-700 border border-green-200 rounded-md hover:bg-green-100 hover:border-green-300 transition-colors duration-200 font-medium",children:" Timeline"}),i.jsx("button",{onClick:()=>C("Can you share more images?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-gray-50 text-gray-700 border border-gray-200 rounded-md hover:bg-gray-100 hover:border-gray-300 transition-colors duration-200 font-medium",children:" Images"}),i.jsx("button",{onClick:()=>C("What are the payment terms?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-emerald-50 text-emerald-700 border border-emerald-200 rounded-md hover:bg-emerald-100 hover:border-emerald-300 transition-colors duration-200 font-medium",children:" Terms"}),i.jsx("button",{onClick:()=>C("Can we meet in person to discuss?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-orange-50 text-orange-700 border border-orange-200 rounded-md hover:bg-orange-100 hover:border-orange-300 transition-colors duration-200 font-medium",children:" Meetup"}),i.jsx("button",{onClick:()=>C("Do you have samples I can check?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-pink-50 text-pink-700 border border-pink-200 rounded-md hover:bg-pink-100 hover:border-pink-300 transition-colors duration-200 font-medium",children:" Samples"}),i.jsx("button",{onClick:()=>C("What's your best price for this?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-yellow-50 text-yellow-700 border border-yellow-200 rounded-md hover:bg-yellow-100 hover:border-yellow-300 transition-colors duration-200 font-medium",children:" Best Price"}),i.jsx("button",{onClick:()=>C("Can you provide references or reviews?"),className:"flex-shrink-0 px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm bg-indigo-50 text-indigo-700 border border-indigo-200 rounded-md hover:bg-indigo-100 hover:border-indigo-300 transition-colors duration-200 font-medium",children:" Reviews"})]})}),I.length>0&&i.jsxs("div",{className:"mb-3 p-2 bg-slate-50 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["Attachments (",I.length,")"]}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>M([]),className:"text-xs h-6 px-2",children:"Clear All"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:I.map((re,we)=>{const ve=`${Date.now()}-${we}`,_e=ce[ve],Ke=ee[ve]||0;return i.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-md border p-2 text-xs relative",children:[re.type.startsWith("image/")?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:URL.createObjectURL(re),alt:re.name,className:"w-8 h-8 rounded object-cover"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"truncate font-medium text-slate-700",children:re.name}),i.jsx("p",{className:"text-slate-500",children:vi(re.size)})]})]}):re.type.startsWith("audio/")?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 rounded bg-gray-100 flex items-center justify-center",children:i.jsx(Ao,{className:"h-4 w-4 text-gray-800"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"truncate font-medium text-slate-700",children:re.name}),i.jsx("p",{className:"text-slate-500",children:vi(re.size)})]})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 rounded bg-slate-100 flex items-center justify-center",children:i.jsx(T2,{className:"h-4 w-4 text-slate-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"truncate font-medium text-slate-700",children:re.name}),i.jsx("p",{className:"text-slate-500",children:vi(re.size)})]})]}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>Wm(we),className:"h-5 w-5 p-0 text-slate-400 hover:text-red-500",disabled:_e,children:i.jsx(rn,{className:"h-3 w-3"})}),_e&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 rounded-md flex items-center justify-center",children:i.jsxs("div",{className:"w-full mx-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-slate-600",children:"Uploading..."}),i.jsxs("span",{className:"text-xs text-slate-600",children:[Ke,"%"]})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5",children:i.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Ke}%`}})})]})})]},we)})})]}),B&&i.jsxs("div",{className:"mb-3 p-4 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full animate-pulse"}),i.jsx("div",{className:"absolute inset-0 w-4 h-4 bg-red-500 rounded-full animate-ping opacity-75"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-semibold text-red-700",children:"Recording..."}),i.jsx("div",{className:"text-lg text-red-600 font-mono font-bold",children:Hm(U)})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(G,{variant:"ghost",size:"sm",onClick:TN,className:"text-red-600 hover:text-red-700 hover:bg-red-100 rounded-full p-2",children:i.jsx(rn,{className:"h-4 w-4"})}),i.jsx(G,{variant:"ghost",size:"sm",onClick:gl,className:"text-red-600 hover:text-red-700 hover:bg-red-100 rounded-full p-2",children:i.jsx(aue,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"mt-2 text-xs text-red-500 text-center",children:"Hold to record, release to send"})]}),H&&!B&&i.jsxs("div",{className:"mb-3 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ao,{className:"h-6 w-6 text-blue-600"}),i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full animate-pulse"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-blue-700",children:"Voice Message"}),i.jsx("p",{className:"text-lg text-blue-600 font-mono font-bold",children:Hm(U)})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{se(null),Y(0)},className:"text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-full p-2",children:i.jsx(rn,{className:"h-4 w-4"})}),i.jsx(G,{onClick:Ky,disabled:J,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 rounded-full p-2",children:J?i.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(pP,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"mt-2 text-xs text-blue-500 text-center",children:"Tap to send voice message"})]}),i.jsxs("div",{className:"flex items-end space-x-2",children:[!B&&!H&&i.jsx(G,{variant:"ghost",size:"sm",disabled:!Tr(p),onMouseDown:()=>{Tr(p)&&(q(!0),Ia())},onMouseUp:()=>{Tr(p)&&(q(!1),gl())},onMouseLeave:()=>{Tr(p)&&(q(!1),gl())},onTouchStart:re=>{re.preventDefault(),Tr(p)&&(q(!0),Ia())},onTouchEnd:re=>{re.preventDefault(),Tr(p)&&(q(!1),gl())},className:`h-9 w-9 lg:h-10 lg:w-10 p-0 transition-all duration-150 ${Tr(p)?L?"text-white bg-red-600 scale-110 shadow-lg":"text-red-600 hover:text-red-700 hover:bg-red-50 active:bg-red-100 active:scale-95":"md:text-red-600 md:hover:text-red-700 md:hover:bg-red-50 md:active:bg-red-100 md:active:scale-95 text-slate-300 cursor-not-allowed"}`,children:i.jsx(Ao,{className:"h-4 w-4"})}),i.jsxs("div",{className:"relative",ref:nr,children:[i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>Tr(p)&&W(!z),disabled:!Tr(p),className:`h-9 w-9 lg:h-10 lg:w-10 p-0 ${Tr(p)?"text-slate-600 hover:text-blue-600 hover:bg-blue-50":"md:text-slate-600 md:hover:text-blue-600 md:hover:bg-blue-50 text-slate-300 cursor-not-allowed"}`,children:i.jsx(Zce,{className:"h-4 w-4"})}),z&&i.jsx("div",{className:"absolute bottom-full left-0 mb-2 bg-white border border-slate-200 rounded-lg shadow-lg p-2 z-10",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsxs("label",{className:"flex items-center space-x-2 px-3 py-2 text-sm hover:bg-slate-50 rounded cursor-pointer",children:[i.jsx(Q1,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{children:"Image"}),i.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Ad,className:"hidden"})]}),i.jsxs("label",{className:"flex items-center space-x-2 px-3 py-2 text-sm hover:bg-slate-50 rounded cursor-pointer",children:[i.jsx(Ao,{className:"h-4 w-4 text-gray-800"}),i.jsx("span",{children:"Audio"}),i.jsx("input",{type:"file",accept:"audio/*",multiple:!0,onChange:Ad,className:"hidden"})]}),i.jsxs("label",{className:"flex items-center space-x-2 px-3 py-2 text-sm hover:bg-slate-50 rounded cursor-pointer",children:[i.jsx(T2,{className:"h-4 w-4 text-slate-600"}),i.jsx("span",{children:"File"}),i.jsx("input",{type:"file",multiple:!0,onChange:Ad,className:"hidden"})]})]})})]}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(ad,{placeholder:Tr(p)?"Type a message...":"Chat not available - Response submitted successfully",value:E,onChange:re=>{Tr(p)&&(C(re.target.value),re.target.value.length>0&&zm())},disabled:!Tr(p),className:`resize-none border-slate-200 focus:border-slate-400 focus:ring-slate-400 rounded-lg px-3 py-2 pr-12 text-sm min-touch ${Tr(p)?"":"bg-slate-50 text-slate-400 cursor-not-allowed"}`,rows:1,style:{minHeight:"50px",maxHeight:"100px"},onKeyPress:re=>{re.key==="Enter"&&!re.shiftKey&&Tr(p)&&(re.preventDefault(),(t==null?void 0:t.uid)===(p==null?void 0:p.sellerId)?Um():Bm())},onKeyDown:re=>{re.key==="Enter"&&!re.shiftKey&&Tr(p)&&(re.preventDefault(),(t==null?void 0:t.uid)===(p==null?void 0:p.sellerId)?Um():Bm())}}),i.jsxs("div",{className:"absolute bottom-1.5 lg:bottom-2 right-1.5 lg:right-2 text-xs text-slate-400",children:[E.length,"/500"]})]}),i.jsx(G,{onClick:()=>{Tr(p)&&((t==null?void 0:t.uid)===(p==null?void 0:p.sellerId)?Um():Bm())},disabled:!Tr(p)||!E.trim()&&I.length===0||Object.values(ce).some(re=>re),className:`h-8 w-8 sm:h-9 sm:w-9 lg:h-10 lg:w-10 p-0 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed min-touch ${Tr(p)?"bg-slate-600 hover:bg-slate-700 text-white":"md:bg-slate-600 md:hover:bg-slate-700 md:text-white bg-slate-300 text-slate-500"}`,children:Object.values(ce).some(re=>re)?i.jsx("div",{className:"h-3.5 w-3.5 lg:h-4 lg:w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(pP,{className:"h-3.5 w-3.5 lg:h-4 lg:w-4"})})]})]})})]}),!Tr(p)&&i.jsx(be,{className:"border border-slate-200 shadow-sm h-[500px] lg:h-[600px] flex items-center justify-center bg-amber-50/30",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-amber-200 rounded-full flex items-center justify-center mx-auto mb-2 lg:mb-3",children:i.jsx(xn,{className:"h-6 w-6 lg:h-8 lg:w-8 text-amber-600"})}),i.jsx("h3",{className:"text-sm lg:text-base font-medium text-amber-800 mb-1",children:"Chat Not Available"}),i.jsx("p",{className:"text-amber-700 text-xs lg:text-sm px-4",children:h!=null&&h.isPremium?"You can only chat with your own response":"Only the first 2 sellers can chat with the buyer for non-premium enquiries"})]})})]}):i.jsx(be,{className:"border border-slate-200 shadow-sm h-[500px] lg:h-[600px] flex items-center justify-center bg-slate-50/30",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-2 lg:mb-3",children:i.jsx(vr,{className:"h-6 w-6 lg:h-8 lg:w-8 text-slate-500"})}),i.jsx("h3",{className:"text-sm lg:text-base font-medium text-slate-700 mb-1",children:"Select a response"}),i.jsx("p",{className:"text-slate-500 text-xs lg:text-sm px-4",children:"Choose from the left to start chatting"})]})})})]})]})}),t&&h&&t.uid===h.userId&&h.isPremium!==!0&&m.length>2&&i.jsxs("div",{className:"my-4 text-center",children:[i.jsxs("p",{className:"text-amber-700 text-sm mb-2",children:["Upgrade to Premium to view all ",m.length," responses."]}),i.jsx(G,{variant:"default",onClick:Jy,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Upgrade to Premium (99+)"})]}),i.jsx("audio",{ref:Ar,autoPlay:!0,muted:!0,playsInline:!0,style:{display:"none"}}),i.jsx("audio",{ref:Ki,autoPlay:!0,playsInline:!0,style:{display:"none"}}),(Rt||Xt||rr==="ringing")&&i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 sm:p-8 max-w-sm w-[90%] mx-auto",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsxs("div",{className:"relative mx-auto mb-4",children:[i.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:rr==="active"?i.jsx(tue,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600 animate-pulse"}):i.jsx(k2,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"})}),(rr==="calling"||rr==="ringing")&&i.jsx("div",{className:"absolute inset-0 w-20 h-20 sm:w-24 sm:h-24 bg-blue-200 rounded-full animate-ping opacity-75"})]}),i.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-slate-900 mb-2",children:[rr==="ringing"&&"Incoming Call",rr==="calling"&&"Calling...",rr==="connecting"&&"Connecting...",rr==="active"&&"Call Active"]}),i.jsx("p",{className:"text-sm text-slate-600 mb-2",children:p&&h&&t&&(t.uid===h.userId?((sr=Q[p.sellerId])==null?void 0:sr.fullName)||"Seller":((Xc=Q[h.userId])==null?void 0:Xc.fullName)||"Buyer")}),(rr==="calling"||rr==="ringing")&&Vm>0&&i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-slate-500",children:Vm<60?`${Vm}s / 60s`:"Timeout"}),!navigator.onLine&&i.jsx("p",{className:"text-xs text-red-500 font-medium",children:" No Internet Connection"})]}),rr==="active"&&ps.current&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-xs text-slate-500",children:[Math.floor((Date.now()-ps.current)/1e3),"s"]}),!navigator.onLine&&i.jsx("p",{className:"text-xs text-red-500 font-medium",children:" Connection Lost"})]}),rr==="connecting"&&i.jsx(i.Fragment,{children:!navigator.onLine&&i.jsx("p",{className:"text-xs text-red-500 font-medium",children:" No Internet - Cannot Connect"})})]}),i.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[rr==="ringing"&&i.jsxs(i.Fragment,{children:[i.jsx(G,{onClick:AN,className:"bg-green-600 hover:bg-green-700 text-white rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center",children:i.jsx(k2,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),i.jsx(G,{onClick:Hr,variant:"destructive",className:"bg-red-600 hover:bg-red-700 text-white rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center",children:i.jsx(C2,{className:"h-6 w-6 sm:h-7 sm:w-7"})})]}),(rr==="calling"||rr==="connecting"||rr==="active")&&i.jsx(G,{onClick:Hr,variant:"destructive",className:"bg-red-600 hover:bg-red-700 text-white rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center",children:i.jsx(C2,{className:"h-6 w-6 sm:h-7 sm:w-7"})})]}),rr==="active"&&i.jsx("div",{className:"text-center mt-4",children:i.jsx("p",{className:"text-xs text-slate-500",children:"Call in progress"})})]})}),ue&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998] transition-opacity duration-200",onClick:()=>de(!1)}),i.jsx("div",{className:"fixed inset-x-0 bottom-0 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 z-[9999] transition-all duration-300",children:i.jsxs(be,{className:"mx-3 sm:mx-auto sm:w-[400px] bg-white shadow-2xl border border-gray-200 rounded-t-2xl sm:rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:i.jsx(kt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})}),i.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-bold text-white",children:"End Chat"})]}),i.jsx("button",{onClick:()=>de(!1),className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg hover:bg-white/10 transition-colors flex items-center justify-center touch-manipulation",children:i.jsx(rn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsx("p",{className:"text-xs sm:text-sm lg:text-base text-gray-700 leading-relaxed mb-6 sm:mb-8",children:"Are you sure you want to end this chat? This will delete all chat history between you and this user."}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3",children:[i.jsx("button",{onClick:()=>de(!1),className:"flex-1 px-4 py-2.5 sm:py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-semibold text-xs sm:text-sm lg:text-base hover:bg-gray-50 transition-colors touch-manipulation min-h-[44px] active:scale-95",children:"Cancel"}),i.jsx("button",{onClick:qm,className:"flex-1 px-4 py-2.5 sm:py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg font-semibold text-xs sm:text-sm lg:text-base transition-colors touch-manipulation min-h-[44px] active:scale-95 shadow-sm",children:"End Chat"})]})]})]})})]}),Te&&pt&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998] transition-opacity duration-200",onClick:()=>{Xe(!1),at(null)}}),i.jsx("div",{className:"fixed inset-x-0 bottom-0 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 z-[9999] transition-all duration-300",children:i.jsxs(be,{className:"mx-3 sm:mx-auto sm:w-[400px] bg-white shadow-2xl border border-gray-200 rounded-t-2xl sm:rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:i.jsx(kt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})}),i.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-bold text-white",children:"Block User"})]}),i.jsx("button",{onClick:()=>{Xe(!1),at(null)},className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg hover:bg-white/10 transition-colors flex items-center justify-center touch-manipulation",children:i.jsx(rn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("p",{className:"text-xs sm:text-sm lg:text-base text-gray-700 leading-relaxed mb-6 sm:mb-8",children:["Are you sure you want to block ",i.jsx("span",{className:"font-semibold",children:pt.name}),"? You will no longer receive messages or calls from this user."]}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3",children:[i.jsx("button",{onClick:()=>{Xe(!1),at(null)},className:"flex-1 px-4 py-2.5 sm:py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-semibold text-xs sm:text-sm lg:text-base hover:bg-gray-50 transition-colors touch-manipulation min-h-[44px] active:scale-95",children:"Cancel"}),i.jsx("button",{onClick:ka,className:"flex-1 px-4 py-2.5 sm:py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg font-semibold text-xs sm:text-sm lg:text-base transition-colors touch-manipulation min-h-[44px] active:scale-95 shadow-sm",children:"Block User"})]})]})]})})]}),It&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998] transition-opacity duration-200",onClick:()=>it(!1)}),i.jsx("div",{className:"fixed inset-x-0 bottom-0 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 z-[9999] transition-all duration-300",children:i.jsxs(be,{className:"mx-3 sm:mx-auto sm:w-[400px] bg-white shadow-2xl border border-gray-200 rounded-t-2xl sm:rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-amber-500/20 rounded-lg flex items-center justify-center",children:i.jsx(kt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500"})}),i.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-bold text-white",children:"Close Deal"})]}),i.jsx("button",{onClick:()=>it(!1),className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg hover:bg-white/10 transition-colors flex items-center justify-center touch-manipulation",children:i.jsx(rn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsx("p",{className:"text-xs sm:text-sm lg:text-base text-gray-700 leading-relaxed mb-6 sm:mb-8",children:'Are you sure you want to close this deal? This will mark the enquiry as "Deal Closed" and prevent further responses.'}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3",children:[i.jsx("button",{onClick:()=>it(!1),className:"flex-1 px-4 py-2.5 sm:py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-semibold text-xs sm:text-sm lg:text-base hover:bg-gray-50 transition-colors touch-manipulation min-h-[44px] active:scale-95",children:"Cancel"}),i.jsx("button",{onClick:Wy,className:"flex-1 px-4 py-2.5 sm:py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg font-semibold text-xs sm:text-sm lg:text-base transition-colors touch-manipulation min-h-[44px] active:scale-95 shadow-sm",children:"Close Deal"})]})]})]})})]})]}):i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4 py-8",children:i.jsxs("div",{className:"text-center w-full max-w-sm mx-auto",children:[i.jsx(kt,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"Enquiry Not Found"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-5 sm:mb-6 leading-relaxed px-2",children:"The enquiry you're looking for doesn't exist or has been removed."}),i.jsxs(G,{onClick:()=>u("/my-enquiries"),size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm px-4 sm:px-6 bg-gray-800 hover:bg-gray-900 text-white",children:[i.jsx(gn,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-2"}),"Back to My Enquiries"]})]})})})},j2e=({isVerified:t=!1,size:e="sm",className:r=""})=>{if(!t)return null;const n={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},s={sm:"text-xs",md:"text-sm",lg:"text-base"};return i.jsxs(Pe,{className:`bg-blue-100 text-blue-800 border-blue-200 ${s[e]} ${r}`,children:[i.jsx(xt,{className:`${n[e]} mr-1`}),"Verified"]})},N2e=()=>{const{enquiryId:t}=py(),e=Zr(),{user:r}=Dr();vm();const[n,s]=g.useState(null),[a,o]=g.useState([]),[l,c]=g.useState(!0),[u,d]=g.useState("free"),[h,f]=g.useState(!1),[m,x]=g.useState({}),p=async(N,E)=>{if(!(!n||!r))try{const{updateDoc:C,serverTimestamp:P}=await nd(async()=>{const{updateDoc:I,serverTimestamp:M}=await Promise.resolve().then(()=>CU);return{updateDoc:I,serverTimestamp:M}},void 0),{PAYMENT_PLANS:S}=await nd(async()=>{const{PAYMENT_PLANS:I}=await Promise.resolve().then(()=>N1e);return{PAYMENT_PLANS:I}},void 0),A=`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,T=S.find(I=>I.id===N);if(!T)throw new Error("Plan not found");const R=await Sj(n.id,r.uid,T,A);await Ej(r.uid,N,R,n.id);const _=Ce(oe,"enquiries",n.id);await C(_,{selectedPlanId:N,selectedPlanPrice:E,isPremium:E>0,updatedAt:P()}),d(N),s({...n,selectedPlanId:N,isPremium:E>0}),f(!1),window.location.reload()}catch(C){console.error("Error updating plan:",C)}};g.useEffect(()=>{if(!t||!r)return;(async()=>{try{const E=await Ft(Ce(oe,"enquiries",t));if(E.exists()){const C=E.data();s(C),d(C.selectedPlanId||"free"),console.log(" Enquiry loaded - Current plan:",C.selectedPlanId||"free"),console.log(" Enquiry data:",{id:C.id,isPremium:C.isPremium,selectedPlanId:C.selectedPlanId,title:C.title})}}catch(E){console.error("Error fetching enquiry:",E)}})()},[t,r]),g.useEffect(()=>{if(!t)return;const N=jt(Ze(oe,"sellerSubmissions"),At("enquiryId","==",t),fn("createdAt","asc")),E=Ur(N,C=>{const P=[];C.forEach(S=>{P.push({id:S.id,...S.data()})}),o(P),c(!1)});return()=>E()},[t]),g.useEffect(()=>{if(a.length===0)return;(async()=>{const E={};for(const C of a)try{const P=await Ft(Ce(oe,"userProfiles",C.sellerId));P.exists()&&(E[C.sellerId]=P.data())}catch(P){console.error("Error fetching profile:",P)}x(E)})()},[a]);const v=()=>{if(!n||!r)return[];if(console.log("DetailedResponses: getVisibleResponses debug:",{enquiryId:n.id,selectedPlanId:n.selectedPlanId,isPremium:n.isPremium,totalResponses:a.length,userIsOwner:r.uid===n.userId,userRole:r.uid===n.userId?"buyer":"seller"}),r.uid===n.userId){const N=n.selectedPlanId||"free";let E=2;switch(N){case"free":E=2;break;case"basic":E=5;break;case"standard":E=10;break;case"premium":case"pro":E=-1;break;default:E=2}if(E===-1)return console.log("DetailedResponses: Unlimited plan - returning all responses:",a.length),a;const C=a.slice(0,E);return console.log(`DetailedResponses: ${N} plan - returning ${C.length} responses (limit: ${E})`),C}return console.log("DetailedResponses: Seller view - returning own responses"),a.filter(N=>N.sellerId===r.uid)},w=N=>{e(`/enquiry/${t}/responses?sellerId=${N.sellerId}`)},b=N=>{window.open(N,"_blank")};if(l)return i.jsx(_a,{message:"Loading responses"});if(!n)return i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Enquiry Not Found"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"The enquiry you're looking for doesn't exist."}),i.jsxs(G,{onClick:()=>window.history.back(),children:[i.jsx(gn,{className:"h-4 w-4 mr-2"}),"Back to My Enquiries"]})]})})});const j=v();return i.jsxs(Nt,{children:[i.jsx("div",{className:"min-h-screen bg-slate-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 lg:px-6 py-3 sm:py-6",children:[i.jsxs("div",{className:"mb-3 sm:mb-6",children:[i.jsx("div",{className:"flex items-center gap-2 sm:gap-4 mb-3 sm:mb-4",children:i.jsx(G,{variant:"ghost",onClick:()=>e("/my-enquiries"),className:"p-1.5 sm:p-2 hover:bg-slate-100 rounded-lg h-8 w-8 sm:h-9 sm:w-9",children:i.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5"})})}),i.jsxs(be,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl overflow-hidden mb-3 sm:mb-6",children:[i.jsxs("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:[i.jsx("h1",{className:"text-sm sm:text-lg lg:text-xl font-semibold text-white mb-1 sm:mb-2",children:n.title}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-[10px] sm:text-xs text-gray-300",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(vr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsxs("span",{children:[a.length," responses"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full"}),i.jsxs("span",{children:[j.length," available"]})]}),n.isPremium&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(yn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-400"}),i.jsx("span",{className:"text-yellow-300",children:"Premium"})]})]})]}),i.jsx(Ve,{className:"p-3 sm:p-4 lg:p-6",children:i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs sm:text-sm font-medium text-slate-700 mb-1.5 sm:mb-2",children:"Description"}),i.jsx("p",{className:"text-[11px] sm:text-sm text-slate-600 leading-relaxed",children:n.description})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 pt-2 sm:pt-3 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500",children:"Budget:"}),i.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-green-600",children:["",n.budget.toLocaleString()]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500",children:"Category:"}),i.jsx(Pe,{variant:"secondary",className:"text-[9px] sm:text-[10px] px-1.5 sm:px-2 py-0.5 bg-gray-100 text-gray-700",children:n.category})]}),n.deadline&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500",children:"Deadline:"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium text-slate-700",children:new Date(n.deadline).toLocaleDateString()})]})]}),r&&n.userId===r.uid&&!n.isPremium&&i.jsx("div",{className:"pt-2 sm:pt-3 border-t border-gray-200",children:i.jsxs(G,{onClick:()=>f(!0),className:"w-full sm:w-auto h-8 sm:h-9 text-[10px] sm:text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-4",size:"sm",children:[i.jsx(yn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5"}),"Upgrade Plan"]})})]})})]}),r&&n&&r.uid===n.userId&&!n.isPremium&&i.jsx(be,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl mb-3 sm:mb-6",children:i.jsxs(Ve,{className:"p-3 sm:p-4 lg:p-6",children:[i.jsxs("div",{className:"text-center mb-3 sm:mb-4",children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 sm:mb-2",children:"Unlock More Responses"}),i.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-600",children:["You're seeing ",j.length," of ",a.length," responses. Upgrade to see all."]})]}),i.jsx(Sf,{currentPlanId:u,enquiryId:n.id,userId:r.uid,onPlanSelect:p,isUpgrade:!0,enquiryCreatedAt:n.createdAt,className:"max-w-4xl mx-auto"})]})})]}),j.length>0?i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[i.jsx("h2",{className:"text-base sm:text-xl font-bold text-slate-900",children:"Seller Responses"}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] sm:text-xs text-slate-600",children:[i.jsx(vr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsxs("span",{children:[j.length," available"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:j.map((N,E)=>i.jsxs(be,{className:"border-2 border-blue-200 shadow-sm hover:shadow-md transition-all duration-200 rounded-xl sm:rounded-2xl overflow-hidden",children:[i.jsx("div",{className:"bg-gray-800 px-2 sm:px-3 py-2 sm:py-2.5",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-gray-700 rounded-full flex items-center justify-center text-white font-semibold text-[10px] sm:text-xs flex-shrink-0",children:E+1}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-white truncate",children:N.title}),i.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[i.jsxs("span",{className:"text-[9px] sm:text-[10px] text-gray-300 truncate",children:["by ",N.sellerName||"Anonymous"]}),N.isIdentityVerified&&i.jsx(j2e,{isVerified:!0,size:"sm"})]})]})]}),i.jsxs("div",{className:"text-right flex-shrink-0",children:[i.jsxs("div",{className:"text-base sm:text-lg font-bold text-emerald-400",children:["",N.price]}),i.jsx("div",{className:"text-[9px] sm:text-[10px] text-gray-400",children:"Starting price"})]})]})}),i.jsxs(Ve,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-slate-600 mb-3 sm:mb-4 line-clamp-3 leading-relaxed",children:N.message}),N.imageUrls.length>0&&i.jsxs("div",{className:"mb-3 sm:mb-4",children:[i.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:i.jsxs("span",{className:"text-[9px] sm:text-[10px] font-medium text-slate-600",children:[N.imageUrls.length," image",N.imageUrls.length>1?"s":""]})}),i.jsx("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-2",children:N.imageUrls.map((C,P)=>i.jsx("div",{className:"aspect-square bg-slate-100 rounded-md sm:rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>b(C),children:i.jsx("img",{src:C,alt:`Product ${P+1}`,className:"w-full h-full object-cover",onError:S=>{console.error("Image load error:",C),S.currentTarget.style.display="none"}})},P))})]}),i.jsxs("div",{className:"pt-2 sm:pt-3 border-t border-gray-200 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2 text-[9px] sm:text-[10px] text-slate-500",children:i.jsx("span",{children:new Date(N.createdAt.toDate()).toLocaleDateString()})}),i.jsxs(G,{onClick:()=>w(N),size:"sm",className:"h-7 sm:h-8 text-[9px] sm:text-[10px] bg-gray-800 hover:bg-gray-900 text-white px-2 sm:px-3",children:[i.jsx(vr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"Chat"]})]})]})]},N.id))})]}):i.jsx("div",{className:"text-center py-8 sm:py-12",children:i.jsxs("div",{className:"max-w-md mx-auto px-4",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx(vr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"})}),i.jsx("h3",{className:"text-base sm:text-xl font-bold text-slate-900 mb-2",children:"No Responses Yet"}),i.jsx("p",{className:"text-[11px] sm:text-sm text-slate-600 mb-4 leading-relaxed",children:"We're still pushing your enquiry to the right sellers. Check back soon for responses!"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] sm:text-xs text-slate-500",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),i.jsx("span",{children:"Searching for matching sellers..."})]})]})})]})}),h&&n&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[i.jsx("h2",{className:"text-sm sm:text-base font-bold text-slate-900",children:"Choose Your Plan"}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600",children:i.jsx(rn,{className:"h-6 w-6"})})]}),i.jsx(Sf,{currentPlanId:u,enquiryId:n.id,userId:r.uid,onPlanSelect:p,isUpgrade:!0,enquiryCreatedAt:n.createdAt,className:"max-w-5xl mx-auto"})]})})})]})},S2e=()=>{const{user:t}=Dr(),e=Zr(),{enquiryId:r}=py(),[n,s]=g.useState(null),[a,o]=g.useState([]),[l,c]=g.useState(!0),[u,d]=g.useState(null),h=g.useRef(null),[f,m]=g.useState(!1),[x,p]=g.useState(null),[v,w]=g.useState("free"),[b,j]=g.useState("newest"),N=(A,T)=>{console.log(" SortResponses called:",{sortType:T,responseCount:A.length,responses:A.map(_=>({id:_.id,price:_.price}))});const R=[...A];switch(T){case"price-high":return R.sort((_,I)=>{var W,B;const M=parseFloat(((W=_.price)==null?void 0:W.replace(/[^0-9.-]/g,""))||"0"),z=parseFloat(((B=I.price)==null?void 0:B.replace(/[^0-9.-]/g,""))||"0");return console.log("Price high sort:",{priceA:M,priceB:z,result:z-M}),z-M});case"price-low":return R.sort((_,I)=>{var W,B;const M=parseFloat(((W=_.price)==null?void 0:W.replace(/[^0-9.-]/g,""))||"0"),z=parseFloat(((B=I.price)==null?void 0:B.replace(/[^0-9.-]/g,""))||"0");return console.log("Price low sort:",{priceA:M,priceB:z,result:M-z}),M-z});case"newest":return R.sort((_,I)=>{var W,B;const M=(W=_.createdAt)!=null&&W.toDate?_.createdAt.toDate():new Date(_.createdAt),z=(B=I.createdAt)!=null&&B.toDate?I.createdAt.toDate():new Date(I.createdAt);return console.log("Newest sort:",{dateA:M.getTime(),dateB:z.getTime(),result:z.getTime()-M.getTime()}),z.getTime()-M.getTime()});case"oldest":return R.sort((_,I)=>{var W,B;const M=(W=_.createdAt)!=null&&W.toDate?_.createdAt.toDate():new Date(_.createdAt),z=(B=I.createdAt)!=null&&B.toDate?I.createdAt.toDate():new Date(I.createdAt);return console.log("Oldest sort:",{dateA:M.getTime(),dateB:z.getTime(),result:M.getTime()-z.getTime()}),M.getTime()-z.getTime()});case"default":default:return R.sort((_,I)=>{var W,B;const M=(W=_.createdAt)!=null&&W.toDate?_.createdAt.toDate():new Date(_.createdAt),z=(B=I.createdAt)!=null&&B.toDate?I.createdAt.toDate():new Date(I.createdAt);return console.log("Default sort:",{dateA:M.getTime(),dateB:z.getTime(),result:M.getTime()-z.getTime()}),M.getTime()-z.getTime()})}},E=g.useMemo(()=>{if(console.log(" VisibleResponses useMemo called:",{enquiry:n==null?void 0:n.title,user:t==null?void 0:t.uid,responsesCount:a.length,sortBy:b}),!n||!t)return[];let A=a;if(n.userId===t.uid){const T=n.selectedPlanId||"free";let R=2;switch(T){case"free":R=2;break;case"basic":R=5;break;case"standard":R=10;break;case"premium":case"pro":R=-1;break;default:R=2}R===-1?A=a:(A=a.slice(0,R),console.log(` EnquiryResponsesPage: Limiting to ${R} responses for ${T} plan`))}else A=a.filter(T=>T.sellerId===t.uid);return N(A,b)},[n,t,a,b]);console.log("EnquiryResponsesPage: Debug info:",{enquiry:n==null?void 0:n.title,enquiryId:r,responsesCount:a.length,visibleResponsesCount:E.length,user:t==null?void 0:t.uid,isOwner:(n==null?void 0:n.userId)===(t==null?void 0:t.uid),sortBy:b,sortedResponses:E.map(A=>({id:A.id,price:A.price,createdAt:A.createdAt}))}),g.useEffect(()=>{if(!t||!r)return;(async()=>{c(!0);try{const T=await Ft(Ce(oe,"enquiries",r));if(T.exists()){const R={id:T.id,...T.data()};s(R),w(R.selectedPlanId||(R.isPremium?"premium":"free"));const _=jt(Ze(oe,"sellerSubmissions"),At("enquiryId","==",r)),I=Ur(_,M=>{try{const z=M.docs.map(W=>{try{const B=W.data();if(!B)return null;const{sellerEmail:$,...U}=B,Y=B.sellerName&&(B.sellerName.includes("@")||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B.sellerName))?B.sellerName.split("@")[0].charAt(0).toUpperCase()+B.sellerName.split("@")[0].slice(1)||"Seller":B.sellerName;return{id:W.id,...U,sellerName:Y,status:B.status||"pending"}}catch(B){return console.error("Error processing response doc:",B),null}}).filter(Boolean);console.log("EnquiryResponsesPage: Loaded responses:",z.length),o(z)}catch(z){console.error("Error processing snapshot:",z)}},M=>{var z,W;(z=M.message)!=null&&z.includes("CORS")||(W=M.message)!=null&&W.includes("Access-Control-Allow-Origin")?(console.warn("Firestore CORS error detected. This may be due to network configuration."),console.warn("The app will continue to work, but real-time updates may be limited.")):console.error("Firestore listener error:",M),o([])});return()=>I()}else le({title:"Enquiry not found",description:"This enquiry may have been deleted.",variant:"destructive"}),e("/my-enquiries")}catch(T){console.error("Error loading enquiry and responses:",T),le({title:"Error",description:"Failed to load enquiry details. Please try again.",variant:"destructive"})}finally{c(!1)}})()},[t,r,e]);const C=A=>{p(A),w(A.selectedPlanId||(A.isPremium?"premium":"free")),m(!0)},P=async(A,T)=>{if(!(!x||!t))try{const{updateUserPaymentPlan:R,savePaymentRecord:_}=await nd(async()=>{const{updateUserPaymentPlan:B,savePaymentRecord:$}=await Promise.resolve().then(()=>IH);return{updateUserPaymentPlan:B,savePaymentRecord:$}},void 0),I=`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,M=cs.find(B=>B.id===A);if(!M)throw new Error("Plan not found");const z=await _(x.id,t.uid,M,I);await R(t.uid,A,z,x.id);const W=Ce(oe,"enquiries",x.id);await ot(W,{selectedPlanId:A,selectedPlanPrice:T,isPremium:T>0}),le({title:"Payment Successful! ",description:`Your enquiry has been upgraded to ${M.name} plan.`}),m(!1),p(null),window.location.reload()}catch(R){console.error("Error updating plan:",R),le({title:"Error",description:"Failed to update plan. Please try again.",variant:"destructive"})}},S=A=>{if(!A)return"Seller";if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A.trim())){const R=A.split("@")[0];return R.charAt(0).toUpperCase()+R.slice(1)||"Seller"}if(A.includes("@")){const R=A.split("@")[0];return R.charAt(0).toUpperCase()+R.slice(1)||"Seller"}return A};return l?i.jsx(_a,{message:"Loading enquiry responses"}):n?i.jsxs(Nt,{children:[i.jsxs("div",{className:"container mx-auto px-2 sm:px-6 lg:px-8 py-2 sm:py-8 bg-white text-gray-900 min-h-screen",children:[i.jsx("div",{className:"flex items-center mb-3 sm:mb-6",children:i.jsxs(G,{variant:"ghost",onClick:()=>window.history.back(),className:"text-gray-700 hover:bg-gray-100 p-1.5 sm:p-2",children:[i.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"}),i.jsx("span",{className:"text-xs sm:text-base",children:"Back"})]})}),i.jsx("div",{className:"mb-3 sm:mb-6 rounded-2xl sm:rounded-3xl overflow-hidden shadow-lg border-2 border-gray-700",children:i.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-gray-800 px-3 py-3 sm:px-6 sm:py-6",children:[i.jsxs("h2",{className:"text-lg sm:text-3xl font-black text-white mb-1 sm:mb-2 tracking-tight",children:['Responses to "',n.title,'"']}),i.jsx("p",{className:"text-gray-200 mb-0 sm:mb-6 text-[10px] sm:text-base font-medium",children:"View and manage responses from sellers for this enquiry"})]})}),E.length>1&&i.jsxs("div",{className:"mb-3 sm:mb-6 p-2 sm:p-4 bg-gray-800 rounded-xl sm:rounded-2xl border border-gray-700",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2 sm:mb-3 space-y-1.5 sm:space-y-0",children:[i.jsx("h3",{className:"text-white font-bold text-xs sm:text-base",children:"Sort Responses"}),i.jsxs("span",{className:"text-gray-300 text-[10px] sm:text-sm font-medium",children:[E.length," responses"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-1.5 sm:gap-3",children:[i.jsxs(t_,{children:[i.jsx(r_,{asChild:!0,children:i.jsxs(G,{variant:"outline",size:"sm",className:"w-full sm:w-auto text-[10px] sm:text-xs bg-gray-700 border-gray-600 text-white hover:bg-gray-600 h-7 sm:h-9",children:[i.jsx(Dce,{className:"h-3 w-3 mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Sort by Amount"}),i.jsx("span",{className:"sm:hidden",children:"Amount"}),i.jsx(ff,{className:"h-3 w-3 ml-1 sm:ml-2"})]})}),i.jsxs(Kb,{className:"w-full sm:w-56 bg-gray-800 border-gray-600",children:[i.jsxs(ri,{onClick:()=>{console.log(" Price high sort clicked"),j("price-high")},className:"text-white hover:bg-gray-700 cursor-pointer text-xs sm:text-sm",children:[i.jsx(Oce,{className:"h-3 w-3 mr-2"}),"Highest to Lowest"]}),i.jsxs(ri,{onClick:()=>{console.log(" Price low sort clicked"),j("price-low")},className:"text-white hover:bg-gray-700 cursor-pointer text-xs sm:text-sm",children:[i.jsx(Mce,{className:"h-3 w-3 mr-2"}),"Lowest to Highest"]})]})]}),i.jsxs(t_,{children:[i.jsx(r_,{asChild:!0,children:i.jsxs(G,{variant:"outline",size:"sm",className:"w-full sm:w-auto text-[10px] sm:text-xs bg-gray-700 border-gray-600 text-white hover:bg-gray-600 h-7 sm:h-9",children:[i.jsx(xn,{className:"h-3 w-3 mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Sort by Date"}),i.jsx("span",{className:"sm:hidden",children:"Date"}),i.jsx(ff,{className:"h-3 w-3 ml-1 sm:ml-2"})]})}),i.jsxs(Kb,{className:"w-full sm:w-56 bg-gray-800 border-gray-600",children:[i.jsxs(ri,{onClick:()=>{console.log(" Newest sort clicked"),j("newest")},className:"text-white hover:bg-gray-700 cursor-pointer text-xs sm:text-sm",children:[i.jsx(xn,{className:"h-3 w-3 mr-2"}),"Newest First"]}),i.jsxs(ri,{onClick:()=>{console.log(" Oldest sort clicked"),j("oldest")},className:"text-white hover:bg-gray-700 cursor-pointer text-xs sm:text-sm",children:[i.jsx(xn,{className:"h-3 w-3 mr-2"}),"Oldest First"]})]})]})]})]}),i.jsx("div",{className:"space-y-2.5 sm:space-y-6",children:E.length>0?E.map((A,T)=>{var R,_,I;return i.jsxs("div",{className:"border-2 sm:border-4 border-blue-300 rounded-lg bg-white shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-gray-800 px-3 py-2 sm:px-6 sm:py-4 border-b-2 border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-1.5 sm:space-x-2 flex-1 min-w-0",children:[i.jsxs("div",{className:"bg-blue-600 text-white rounded-full w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center font-black text-[10px] sm:text-sm flex-shrink-0",children:["#",T+1]}),i.jsxs("span",{className:"text-[10px] sm:text-sm font-bold text-white",children:["Response ",T+1," of ",E.length]})]}),i.jsx(Pe,{variant:A.status==="approved"?"default":A.status==="rejected"?"destructive":"secondary",className:"text-[9px] sm:text-xs px-2 sm:px-3 py-0.5 sm:py-1 font-black flex-shrink-0",children:A.status||"pending"})]})}),i.jsxs("div",{className:"p-2.5 sm:p-6 space-y-2.5 sm:space-y-4",children:[i.jsxs("div",{className:"space-y-2 pb-2 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[i.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 bg-blue-600 rounded-full flex items-center justify-center shadow-sm flex-shrink-0",children:i.jsx("span",{className:"text-white font-black text-xs sm:text-sm",children:S(A.sellerName).charAt(0).toUpperCase()})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h4",{className:"font-black text-xs sm:text-sm text-gray-900 truncate",children:S(A.sellerName)}),i.jsxs("div",{className:"flex items-center space-x-1.5",children:[A.isIdentityVerified&&i.jsxs("div",{className:"flex items-center space-x-0.5",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-[9px] sm:text-xs font-bold text-green-600",children:"Verified"})]}),i.jsx("span",{className:"text-[9px] sm:text-xs text-gray-500",children:(R=A.createdAt)!=null&&R.toDate?A.createdAt.toDate().toLocaleDateString():"N/A"})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center space-x-1 mb-0.5",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px] font-black",children:""})}),i.jsx("span",{className:"text-[8px] sm:text-[9px] font-bold text-gray-600",children:"Price"})]}),i.jsx("p",{className:"font-black text-sm sm:text-lg text-blue-600",children:(_=A.price)!=null&&_.includes("")?A.price:`${A.price||"N/A"}`})]})]}),A.isIdentityVerified&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white text-[8px] font-black",children:""})}),i.jsx("span",{className:"text-[9px] sm:text-xs font-bold text-green-600",children:" Trust Badge Verified"})]})]}),i.jsxs("div",{className:"space-y-2 pb-2 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-1.5 mb-1.5",children:[i.jsx(vr,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600"}),i.jsx("span",{className:"text-[9px] sm:text-xs font-black text-gray-700",children:"Message"})]}),i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-2",children:i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-900 leading-snug",children:A.message||"No message provided"})})]}),A.notes&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-1.5 mb-1.5",children:[i.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px] font-black",children:""})}),i.jsx("span",{className:"text-[9px] sm:text-xs font-black text-gray-700",children:"Additional Notes"})]}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-2",children:i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-900 leading-snug",children:A.notes})})]})]}),A.imageUrls&&A.imageUrls.length>0&&i.jsxs("div",{className:"pb-2 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-1.5 mb-2",children:[i.jsx(Q1,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600"}),i.jsxs("span",{className:"text-[9px] sm:text-xs font-black text-gray-700",children:["Images (",A.imageUrls.length,")"]})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2",children:A.imageUrls.map((M,z)=>i.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{console.log("Image clicked:",M),d(M)},children:[i.jsx("img",{src:M,alt:`Response image ${z+1}`,className:"w-full h-20 sm:h-24 object-cover rounded-lg border border-gray-300 hover:border-blue-500 transition-all duration-200 hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 rounded-lg transition-all duration-200 flex items-center justify-center pointer-events-none",children:i.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:i.jsx("div",{className:"bg-white rounded-full p-1.5",children:i.jsx(pr,{className:"h-3 w-3 text-gray-600"})})})})]},z))})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 pt-2 border-t border-gray-200",children:[i.jsxs("div",{className:"text-[9px] sm:text-xs text-gray-500 flex items-center space-x-1",children:[i.jsx(xn,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),i.jsxs("span",{children:["Submitted: ",(I=A.createdAt)!=null&&I.toDate?A.createdAt.toDate().toLocaleString():"N/A"]})]}),i.jsxs(G,{size:"sm",onClick:()=>e(`/enquiry/${n.id}/responses?sellerId=${A.sellerId}`),className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-1.5 sm:py-2 rounded-lg text-[9px] sm:text-xs font-black shadow-md hover:shadow-lg transition-all duration-200",children:[i.jsx(vr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Start Chat"]})]})]})]},A.id)}):i.jsxs("div",{className:"text-center py-6 sm:py-10 bg-white rounded-lg border-2 border-gray-200 shadow-md",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx(vr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"})}),i.jsx("h3",{className:"text-base sm:text-xl font-black text-gray-900 mb-2",children:"No Responses Yet"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-4 max-w-md mx-auto leading-relaxed",children:t&&n&&t.uid===n.userId?"Your enquiry hasn't received any approved responses yet. Sellers are reviewing your request and will respond soon.":"Be the first to respond to this enquiry!"}),t&&n&&t.uid===n.userId&&i.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] sm:text-xs text-gray-500",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse"}),i.jsx("span",{children:"Searching for matching sellers..."})]})]})}),(()=>{const A=(n==null?void 0:n.selectedPlanId)||(n!=null&&n.isPremium?"premium":"free"),T=A==="premium"||A==="pro";if(!t||!n||t.uid!==n.userId||T)return null;const R=cs.find(I=>I.id===A),_=(R==null?void 0:R.responses)||2;return(a.length||0)<=_?null:i.jsxs("div",{className:"my-3 sm:my-6 text-center bg-white border-2 border-blue-200 rounded-lg p-3 sm:p-5 flex flex-col items-center shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[i.jsx(yn,{className:"h-5 w-5 sm:h-7 sm:w-7 text-blue-600 mr-2"}),i.jsx("span",{className:"text-sm sm:text-lg font-black text-gray-900",children:"Unlock All Responses"})]}),i.jsxs("p",{className:"text-gray-700 text-xs sm:text-base font-bold mb-2 sm:mb-3",children:["Only the first ",_," responses are visible for your current plan.",i.jsx("br",{}),"Upgrade to a higher plan to view all ",a.length," responses."]}),i.jsx(G,{variant:"default",className:"bg-blue-600 hover:bg-blue-700 text-white w-full max-w-xs mt-1 sm:mt-2 py-2 sm:py-3 text-xs sm:text-base font-black rounded-lg shadow-md hover:shadow-lg",onClick:()=>C(n),children:"Upgrade Plan"})]})})()]}),u&&i.jsx("div",{ref:h,className:"fixed inset-0 z-[9999] bg-black bg-opacity-95 flex items-center justify-center p-0 sm:p-4",onClick:()=>d(null),children:i.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",onClick:A=>A.stopPropagation(),children:[i.jsx("img",{src:u,alt:"Fullscreen view",className:"w-full h-full object-contain sm:rounded-lg",style:{maxHeight:"100vh",maxWidth:"100vw",width:"100%",height:"100%"},onClick:A=>A.stopPropagation()}),i.jsxs("button",{type:"button",onClick:A=>{A.preventDefault(),A.stopPropagation(),A.nativeEvent.stopImmediatePropagation(),d(null)},className:"absolute top-2 left-2 sm:top-4 sm:left-4 bg-white hover:bg-gray-100 text-gray-800 rounded-full p-2 sm:p-3 shadow-lg z-10 flex items-center gap-1 border-0 outline-none focus:outline-none",children:[i.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Back"})]})]})}),f&&x&&i.jsx(Nj,{open:f,onOpenChange:m,children:i.jsxs(Ey,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(Py,{children:[i.jsx(_y,{className:"text-sm sm:text-base font-bold text-center mb-2 sm:mb-4",children:"Upgrade Your Enquiry Plan"}),i.jsxs(Ay,{className:"text-center text-[10px] sm:text-xs text-slate-600",children:['Choose a plan to unlock more responses for "',x.title,'"']})]}),i.jsx("div",{className:"py-4",children:i.jsx(Sf,{currentPlanId:v,enquiryId:x.id,userId:(t==null?void 0:t.uid)||"",onPlanSelect:P,isUpgrade:!0,enquiryCreatedAt:x.createdAt,className:"max-w-5xl mx-auto"})})]})})]}):i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Enquiry Not Found"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"This enquiry may have been deleted or doesn't exist."}),i.jsxs(G,{onClick:()=>window.history.back(),children:[i.jsx(gn,{className:"h-4 w-4 mr-2"}),"Back to My Enquiries"]})]})})})},E2e=()=>{var j,N;const{id:t}=py(),e=Zr(),{user:r}=Dr(),[n,s]=g.useState(null),[a,o]=g.useState(null),[l,c]=g.useState(!0),[u,d]=g.useState(!1),[h,f]=g.useState([]);g.useEffect(()=>{t&&m()},[t]),g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{if(!(r!=null&&r.uid))return;(async()=>{try{const C=await Ft(Ce(oe,"profiles",r.uid));if(C.exists()){const P=C.data();f(P.savedEnquiries||[])}}catch(C){console.error("Error loading saved enquiries:",C)}})()},[r==null?void 0:r.uid]);const m=async()=>{try{c(!0);const E=await Ft(Ce(oe,"enquiries",t));if(!E.exists()){le({title:"Enquiry Not Found",description:"This enquiry may have been removed or doesn't exist.",variant:"destructive"}),e("/enquiries");return}const C={id:E.id,...E.data()};s(C);try{await ot(Ce(oe,"enquiries",t),{views:iP(1)})}catch(P){console.warn("Failed to increment view count:",P)}if(C.userId){const P=await Ft(Ce(oe,"profiles",C.userId));P.exists()&&o({...P.data()})}}catch(E){console.error("Error loading enquiry details:",E),(E==null?void 0:E.code)==="permission-denied"?le({title:"Sign in for free to sell",description:"You already found the demand!",variant:"default",className:"bg-gradient-to-r from-emerald-50 to-green-50 border-emerald-200 text-emerald-800 shadow-lg max-w-sm mx-auto sm:max-w-md",action:i.jsx("button",{onClick:()=>e("/signin"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1.5 rounded-md text-sm font-medium transition-colors",children:"Sign In"})}):(E==null?void 0:E.code)==="not-found"?(le({title:"Enquiry Not Found",description:"This enquiry may have been removed or doesn't exist.",variant:"destructive"}),e("/enquiries")):le({title:"Error",description:"Failed to load enquiry details. Please try again.",variant:"destructive"})}finally{c(!1)}},x=async()=>{if(!r||!n){le({title:"Sign In Required",description:"Please sign in to save enquiries.",variant:"destructive"});return}try{const E=Ce(oe,"profiles",r.uid),C=await Ft(E);h.includes(n.id)?(f(h.filter(P=>P!==n.id)),C.exists()?await ot(E,{savedEnquiries:DC(n.id)}):await pn(E,{savedEnquiries:[]}),le({title:"Removed from Saved",description:"This enquiry has been removed from your saved list."})):(f([...h,n.id]),C.exists()?await ot(E,{savedEnquiries:uy(n.id)}):await pn(E,{savedEnquiries:[n.id]}),le({title:"Saved!",description:"This enquiry has been saved to your list."}))}catch(E){console.error("Error updating save:",E),le({title:"Error",description:"Failed to save enquiry. Please try again.",variant:"destructive"})}},p=()=>{if(!r){le({title:"Sign In Required",description:"Please sign in to respond to this enquiry.",variant:"destructive"}),e("/signin");return}d(!0),e(`/respond/${n==null?void 0:n.id}`)},v=async()=>{if(n)try{await ot(Ce(oe,"enquiries",n.id),{shares:iP(1)}),s(C=>C?{...C,shares:(C.shares||0)+1}:null);const E=`${window.location.origin}/enquiry/${n.id}`;await navigator.clipboard.writeText(E),le({title:"Link Copied!",description:"Enquiry link has been copied to your clipboard."})}catch(E){console.error("Error sharing enquiry:",E),le({title:"Error",description:"Failed to share enquiry. Please try again.",variant:"destructive"})}},w=E=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(E),b=E=>{const C={pending:"bg-amber-100 text-amber-800 border-amber-200",live:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200",completed:"bg-blue-100 text-blue-800 border-blue-200"};return i.jsx(Pe,{className:`text-xs rounded-full border ${C[E]||"bg-gray-100 text-gray-800"}`,children:E.charAt(0).toUpperCase()+E.slice(1)})};return l?i.jsx(_a,{message:"Loading enquiry details"}):n?i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen bg-slate-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 lg:px-6 py-3 sm:py-6",children:[i.jsxs("div",{className:"mb-3 sm:mb-6",children:[i.jsx(G,{variant:"ghost",onClick:()=>e(-1),className:"mb-2 sm:mb-3 p-1.5 sm:p-2 hover:bg-slate-100 rounded-lg h-8 w-8 sm:h-9 sm:w-9",children:i.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),i.jsxs(be,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[b(n.status),(n.userProfileVerified||n.isIdentityVerified)&&i.jsx("div",{title:"Verified Enquiry",children:i.jsx(xt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-400"})}),r&&r.uid===n.userId&&n.isPremium&&i.jsxs(Pe,{className:"bg-yellow-100 text-yellow-800 border-yellow-300 px-1.5 sm:px-2 py-0.5 text-[9px] sm:text-[10px]",children:[i.jsx(yn,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 mr-1"}),"Premium"]}),n.isUrgent&&i.jsxs(Pe,{className:"bg-red-100 text-red-800 border-red-200 px-1.5 sm:px-2 py-0.5 text-[9px] sm:text-[10px]",children:[i.jsx(xn,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 mr-1"}),"Urgent"]})]}),i.jsx("h1",{className:"text-sm sm:text-lg lg:text-xl font-semibold text-white mb-1.5 sm:mb-2",children:n.title})]}),i.jsx(Ve,{className:"p-3 sm:p-4 lg:p-6",children:i.jsx("div",{className:"space-y-3 sm:space-y-4",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs sm:text-sm font-medium text-slate-700 mb-1.5 sm:mb-2",children:"Description"}),i.jsx("p",{className:"text-[11px] sm:text-sm text-slate-600 leading-relaxed",children:n.description})]})})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 sm:gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-3 sm:space-y-4",children:i.jsxs(be,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl",children:[i.jsx("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:i.jsxs("h2",{className:"text-xs sm:text-sm font-semibold text-white flex items-center gap-2",children:[i.jsx(rM,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Enquiry Details"]})}),i.jsxs(Ve,{className:"p-3 sm:p-4 lg:p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:[i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5",children:"Budget"}),i.jsx("p",{className:"text-sm sm:text-base font-semibold text-green-600",children:w(n.budget)})]})]})}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vu,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5",children:"Location"}),i.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-800 truncate",children:n.location})]})]})}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rM,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5",children:"Category"}),i.jsx(Pe,{variant:"secondary",className:"text-[9px] sm:text-[10px] px-1.5 sm:px-2 py-0.5 bg-gray-100 text-gray-700",children:n.category})]})]})}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(BC,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5",children:"Deadline"}),i.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-800",children:n.deadline&&(n.deadline instanceof Date||(j=n.deadline)!=null&&j.toDate||typeof n.deadline=="string"||typeof n.deadline=="number")?i.jsx(Nf,{deadline:n.deadline}):i.jsx("span",{className:"text-gray-500 text-[10px] sm:text-xs",children:"No deadline"})})]})]})})]}),n.notes&&i.jsxs("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200",children:[i.jsxs("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-700 mb-2 flex items-center gap-1.5",children:[i.jsx(vr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Additional Notes"]}),i.jsx("p",{className:"text-[11px] sm:text-sm text-slate-600 leading-relaxed",children:n.notes})]})]})]})}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs(be,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl",children:[i.jsx("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:i.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-white",children:r&&n.userId===r.uid?"Your Enquiry":"Ready to Respond?"})}),i.jsx(Ve,{className:"p-3 sm:p-4",children:i.jsxs("div",{className:"space-y-3",children:[r&&n.userId===r.uid?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-3",children:"View responses and manage from dashboard"}),i.jsxs(G,{disabled:!0,className:"w-full h-8 sm:h-9 text-[10px] sm:text-xs bg-gray-100 text-gray-500 cursor-not-allowed",children:[i.jsx(vr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5"}),"Your Enquiry"]}),i.jsx(G,{onClick:()=>e("/dashboard"),variant:"outline",className:"w-full h-8 sm:h-9 text-[10px] sm:text-xs border-gray-300",children:"View Dashboard"})]}):i.jsxs(G,{onClick:p,disabled:u||n.status!=="live",className:"w-full h-8 sm:h-9 text-[10px] sm:text-xs bg-gray-800 hover:bg-gray-900 text-white",children:[i.jsx(vr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5"}),u?"Opening...":"Respond to Enquiry"]}),i.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-200",children:[i.jsxs(G,{variant:"outline",onClick:x,className:`flex-1 h-7 sm:h-8 text-[9px] sm:text-[10px] border-gray-300 ${h.includes(n.id)?"bg-blue-50 text-blue-600 border-blue-200":""}`,children:[i.jsx(Fu,{className:`h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 ${h.includes(n.id)?"fill-current":""}`}),h.includes(n.id)?"Saved":"Save"]}),i.jsxs(G,{variant:"outline",className:"flex-1 h-7 sm:h-8 text-[9px] sm:text-[10px] border-gray-300",onClick:v,children:[i.jsx(s7,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"Share"]})]})]})})]}),a&&i.jsxs(be,{className:"border-2 border-blue-200 shadow-sm rounded-xl sm:rounded-2xl",children:[i.jsx("div",{className:"bg-gray-800 px-2 sm:px-4 py-2 sm:py-3",children:i.jsxs("h3",{className:"text-xs sm:text-sm font-semibold text-white flex items-center gap-1.5",children:[i.jsx(Ai,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Posted by"]})}),i.jsxs(Ve,{className:"p-3 sm:p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-800 rounded-full flex items-center justify-center text-white font-semibold text-xs sm:text-sm flex-shrink-0",children:((N=a.displayName)==null?void 0:N.charAt(0))||"U"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-semibold text-xs sm:text-sm text-gray-900 truncate",children:a.displayName||"User"}),a.isVerified?i.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-[9px] sm:text-[10px] font-medium",children:[i.jsx(xt,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),"Verified"]}):i.jsx("div",{className:"text-gray-500 text-[9px] sm:text-[10px]",children:"Regular User"})]})]}),a.location&&i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-1.5 text-gray-700",children:[i.jsx(Vu,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-gray-500 flex-shrink-0"}),i.jsx("span",{className:"font-medium text-[10px] sm:text-xs truncate",children:a.location})]})})]})]})]})]})]})})}):i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4 py-8",children:i.jsxs("div",{className:"text-center w-full max-w-sm mx-auto",children:[i.jsx(kt,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"Enquiry Not Found"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-5 sm:mb-6 leading-relaxed px-2",children:"The enquiry you're looking for doesn't exist or has been removed."}),i.jsxs(G,{onClick:()=>e("/my-enquiries"),size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm px-4 sm:px-6 bg-gray-800 hover:bg-gray-900 text-white",children:[i.jsx(gn,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-2"}),"Back to My Enquiries"]})]})})})},P2e=()=>{const{user:t}=Dr(),[e,r]=g.useState(!1),[n,s]=g.useState({enquiries:0,sellerSubmissions:0,chatMessages:0,users:0,userProfiles:0,notifications:0,aiActivities:0,submissions:0}),a=(t==null?void 0:t.email)==="admin@example.com"||(t==null?void 0:t.uid)==="admin",o=async()=>{try{const d=["enquiries","sellerSubmissions","chatMessages","users","userProfiles","notifications","aiActivities","submissions"],h={};for(const f of d){const m=await Bt(Ze(oe,f));h[f]=m.size}s(h)}catch(d){console.error("Error getting stats:",d),le({title:"Error",description:"Failed to get collection stats",variant:"destructive"})}},l=async()=>{if(!a){le({title:"Access Denied",description:"Only admins can clear data",variant:"destructive"});return}if(confirm(` WARNING: This will delete ALL data permanently!

This includes:
 All enquiries and responses
 All chat messages
 All user profiles and data
 All notifications
 All AI activity logs
 All localStorage data

Are you absolutely sure you want to continue?`)){r(!0);try{const d=["enquiries","sellerSubmissions","chatMessages","users","userProfiles","notifications","aiActivities","submissions"];let h=0;for(const x of d){console.log(`Clearing collection: ${x}`);const v=(await Bt(Ze(oe,x))).docs,w=500;for(let b=0;b<v.length;b+=w){const j=rg(oe),N=v.slice(b,b+w);N.forEach(E=>{j.delete(E.ref),h++}),await j.commit(),console.log(`Deleted batch ${Math.floor(b/w)+1} for ${x}: ${N.length} documents`)}console.log(`Completed clearing ${x}: ${v.length} documents`)}console.log("Clearing localStorage data...");const f=Object.keys(localStorage);let m=0;f.forEach(x=>{(x.startsWith("palUsageStats:")||x.startsWith("pal")||x.includes("pal"))&&(localStorage.removeItem(x),m++)}),console.log(`Cleared ${m} localStorage entries`),le({title:"Data Cleared Successfully",description:`Deleted ${h} documents from all collections and ${m} localStorage entries`}),s({enquiries:0,sellerSubmissions:0,chatMessages:0,users:0,userProfiles:0,notifications:0,aiActivities:0,submissions:0}),setTimeout(()=>{localStorage.clear(),sessionStorage.clear(),window.dispatchEvent(new CustomEvent("palDataCleared")),window.location.reload()},2e3)}catch(d){console.error("Error clearing data:",d),le({title:"Error",description:"Failed to clear data",variant:"destructive"})}finally{r(!1)}}},c=async d=>{if(!a){le({title:"Access Denied",description:"Only admins can clear data",variant:"destructive"});return}if(confirm(` WARNING: This will delete ALL ${d} permanently!

Are you sure?`)){r(!0);try{const f=(await Bt(Ze(oe,d))).docs;let m=0;const x=500;for(let p=0;p<f.length;p+=x){const v=rg(oe),w=f.slice(p,p+x);w.forEach(b=>{v.delete(b.ref),m++}),await v.commit(),console.log(`Deleted batch ${Math.floor(p/x)+1} for ${d}: ${w.length} documents`)}le({title:"Collection Cleared",description:`Deleted ${m} documents from ${d}`}),s(p=>({...p,[d]:0}))}catch(h){console.error(`Error clearing ${d}:`,h),le({title:"Error",description:`Failed to clear ${d}`,variant:"destructive"})}finally{r(!1)}}},u=async()=>{if(!a){le({title:"Access Denied",description:"Only admins can clear data",variant:"destructive"});return}if(confirm(` WARNING: This will delete ALL user dashboard data (enquiries & responses) permanently!

Are you sure?`)){r(!0);try{const d=["enquiries","sellerSubmissions"];let h=0;for(const x of d){const v=(await Bt(Ze(oe,x))).docs,w=500;for(let b=0;b<v.length;b+=w){const j=rg(oe);v.slice(b,b+w).forEach(E=>{j.delete(E.ref),h++}),await j.commit()}}const f=Object.keys(localStorage);let m=0;f.forEach(x=>{(x.startsWith("palUsageStats:")||x.startsWith("pal")||x.includes("pal"))&&(localStorage.removeItem(x),m++)}),le({title:"User Dashboard Data Cleared",description:`Deleted ${h} documents from enquiries and sellerSubmissions. Also cleared ${m} localStorage entries.`}),setTimeout(()=>{localStorage.clear(),sessionStorage.clear(),window.dispatchEvent(new CustomEvent("palDataCleared")),window.location.reload()},2e3)}catch(d){console.error("Error clearing user dashboard data:",d),le({title:"Error",description:"Failed to clear user dashboard data",variant:"destructive"})}finally{r(!1)}}};return a?i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:" Data Management"}),i.jsx("p",{className:"text-xl text-slate-600",children:"Clear all data for fresh testing"})]}),i.jsx(be,{className:"mb-8 border-red-200 bg-red-50",children:i.jsx(Ve,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(kt,{className:"h-8 w-8 text-red-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-red-800",children:" DANGER ZONE"}),i.jsx("p",{className:"text-red-700",children:"This will permanently delete ALL data from your Firestore database including enquiries, responses, chats, user profiles, notifications, AI logs, and localStorage data. This action cannot be undone!"})]})]})})}),i.jsxs(be,{className:"mb-8",children:[i.jsxs(vt,{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Current Data Status"}),i.jsx("p",{className:"text-slate-600",children:"Overview of documents in each collection"})]}),i.jsxs(Ve,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.enquiries}),i.jsx("div",{className:"text-sm text-blue-700",children:"Enquiries"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.sellerSubmissions}),i.jsx("div",{className:"text-sm text-green-700",children:"Seller Submissions"})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-100 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-800",children:n.chatMessages}),i.jsx("div",{className:"text-sm text-gray-700",children:"Chat Messages"})]}),i.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:n.users}),i.jsx("div",{className:"text-sm text-orange-700",children:"Users"})]}),i.jsxs("div",{className:"text-center p-4 bg-cyan-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-cyan-600",children:n.userProfiles}),i.jsx("div",{className:"text-sm text-cyan-700",children:"User Profiles"})]}),i.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-pink-600",children:n.notifications}),i.jsx("div",{className:"text-sm text-pink-700",children:"Notifications"})]}),i.jsxs("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:n.aiActivities}),i.jsx("div",{className:"text-sm text-indigo-700",children:"AI Activities"})]}),i.jsxs("div",{className:"text-center p-4 bg-teal-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-teal-600",children:n.submissions}),i.jsx("div",{className:"text-sm text-teal-700",children:"Submissions"})]})]}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs(G,{onClick:o,variant:"outline",disabled:e,children:[i.jsx(xt,{className:"h-4 w-4 mr-2"}),"Refresh Stats"]})})]})]}),i.jsxs(be,{className:"mb-8",children:[i.jsxs(vt,{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Clear Individual Collections"}),i.jsx("p",{className:"text-slate-600",children:"Clear specific collections one by one"})]}),i.jsx(Ve,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Enquiries"}),i.jsxs(Pe,{variant:"outline",children:[n.enquiries," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Buyer enquiries and requests"}),i.jsxs(G,{onClick:()=>c("enquiries"),variant:"destructive",size:"sm",disabled:e||n.enquiries===0,children:[i.jsx(ln,{className:"h-4 w-4 mr-2"}),"Clear Enquiries"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Seller Submissions"}),i.jsxs(Pe,{variant:"outline",children:[n.sellerSubmissions," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Seller responses to enquiries"}),i.jsxs(G,{onClick:()=>c("sellerSubmissions"),variant:"destructive",size:"sm",disabled:e||n.sellerSubmissions===0,children:[i.jsx(ln,{className:"h-4 w-4 mr-2"}),"Clear Submissions"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Chat Messages"}),i.jsxs(Pe,{variant:"outline",children:[n.chatMessages," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"All chat conversations"}),i.jsxs(G,{onClick:()=>c("chatMessages"),variant:"destructive",size:"sm",disabled:e||n.chatMessages===0,children:[i.jsx(ln,{className:"h-4 w-4 mr-2"}),"Clear Messages"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Users"}),i.jsxs(Pe,{variant:"outline",children:[n.users," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"User profiles and data"}),i.jsxs(G,{onClick:()=>c("users"),variant:"destructive",size:"sm",disabled:e||n.users===0,children:[i.jsx(ln,{className:"h-4 w-4 mr-2"}),"Clear Users"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"User Profiles"}),i.jsxs(Pe,{variant:"outline",children:[n.userProfiles," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Detailed user profile data"}),i.jsxs(G,{onClick:()=>c("userProfiles"),variant:"destructive",size:"sm",disabled:e||n.userProfiles===0,children:[i.jsx(ln,{className:"h-4 w-4 mr-2"}),"Clear Profiles"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Notifications"}),i.jsxs(Pe,{variant:"outline",children:[n.notifications," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"User notifications and alerts"}),i.jsxs(G,{onClick:()=>c("notifications"),variant:"destructive",size:"sm",disabled:e||n.notifications===0,children:[i.jsx(ln,{className:"h-4 w-4 mr-2"}),"Clear Notifications"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"AI Activities"}),i.jsxs(Pe,{variant:"outline",children:[n.aiActivities," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"AI processing logs and activities"}),i.jsxs(G,{onClick:()=>c("aiActivities"),variant:"destructive",size:"sm",disabled:e||n.aiActivities===0,children:[i.jsx(ln,{className:"h-4 w-4 mr-2"}),"Clear AI Logs"]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Submissions"}),i.jsxs(Pe,{variant:"outline",children:[n.submissions," documents"]})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"General submissions and forms"}),i.jsxs(G,{onClick:()=>c("submissions"),variant:"destructive",size:"sm",disabled:e||n.submissions===0,children:[i.jsx(ln,{className:"h-4 w-4 mr-2"}),"Clear Submissions"]})]})]})})]}),i.jsxs(be,{className:"border-red-300 bg-red-50",children:[i.jsxs(vt,{children:[i.jsx("h2",{className:"text-2xl font-bold text-red-800",children:" Nuclear Option"}),i.jsx("p",{className:"text-red-700",children:"Clear ALL data at once"})]}),i.jsx(Ve,{children:i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-red-700 mb-4",children:["This will delete ",i.jsx("strong",{children:"ALL documents"})," from ",i.jsx("strong",{children:"ALL collections"})," in one operation."]}),i.jsx(G,{onClick:l,variant:"destructive",size:"lg",disabled:e,className:"px-8 py-3",children:e?i.jsxs(i.Fragment,{children:[i.jsx(mf,{className:"h-5 w-5 mr-2 animate-spin"}),"Clearing Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ln,{className:"h-5 w-5 mr-2"}),"Clear ALL Data"]})})]})})]}),i.jsxs(be,{className:"border-yellow-300 bg-yellow-50 mb-8",children:[i.jsxs(vt,{children:[i.jsx("h2",{className:"text-2xl font-bold text-yellow-800",children:" Clear User Dashboard Data"}),i.jsx("p",{className:"text-yellow-700",children:"Delete all user enquiries and responses (dashboard histories) only"})]}),i.jsx(Ve,{children:i.jsx("div",{className:"text-center",children:i.jsx(G,{onClick:u,variant:"destructive",size:"lg",disabled:e,className:"px-8 py-3",children:e?i.jsxs(i.Fragment,{children:[i.jsx(mf,{className:"h-5 w-5 mr-2 animate-spin"}),"Clearing User Dashboard Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ln,{className:"h-5 w-5 mr-2"}),"Clear User Dashboard Data"]})})})})]})]})})}):i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:i.jsxs(be,{className:"max-w-md w-full mx-4",children:[i.jsxs(vt,{className:"text-center",children:[i.jsx(kt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Access Denied"}),i.jsx("p",{className:"text-slate-600",children:"Only administrators can access this page."})]}),i.jsxs(Ve,{className:"text-center",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"To access data clearing, you need to be logged in as an admin user."}),i.jsx(G,{onClick:()=>window.history.back(),children:"Go Back"})]})]})})})},_2e=({enquiries:t,sellerSubmissions:e,className:r=""})=>i.jsx("div",{className:`space-y-4 ${r}`}),A2e=()=>{var $;const{user:t}=Dr(),e=g.useContext(Ea),r=(e==null?void 0:e.createNotification)||(async()=>{console.warn("NotificationContext not available")}),[n,s]=g.useState(""),[a,o]=g.useState(""),[l,c]=g.useState("+91"),[u,d]=g.useState(!1),[h,f]=g.useState(null),[m,x]=g.useState(""),[p,v]=g.useState(""),[w,b]=g.useState(null),[j,N]=g.useState(null),[E,C]=g.useState(!1),[P,S]=g.useState(0),[A,T]=g.useState(null),[R,_]=g.useState([]),[I,M]=g.useState([]),z=[{code:"+91",country:"India",flag:""},{code:"+1",country:"USA/Canada",flag:""},{code:"+44",country:"UK",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+971",country:"UAE",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+65",country:"Singapore",flag:""},{code:"+60",country:"Malaysia",flag:""},{code:"+66",country:"Thailand",flag:""},{code:"+63",country:"Philippines",flag:""},{code:"+62",country:"Indonesia",flag:""},{code:"+84",country:"Vietnam",flag:""},{code:"+86",country:"China",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+82",country:"South Korea",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+33",country:"France",flag:""},{code:"+39",country:"Italy",flag:""},{code:"+34",country:"Spain",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+52",country:"Mexico",flag:""},{code:"+54",country:"Argentina",flag:""},{code:"+27",country:"South Africa",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+234",country:"Nigeria",flag:""},{code:"+254",country:"Kenya",flag:""},{code:"+233",country:"Ghana",flag:""},{code:"+212",country:"Morocco",flag:""},{code:"+216",country:"Tunisia",flag:""}];g.useEffect(()=>{if(!t)return;console.log(" Profile: Setting up real-time profile listener for:",t.uid);const U=Ce(oe,"userProfiles",t.uid),Y=Ur(U,K=>{if(K.exists()){const X=K.data();console.log(" Profile: Profile data updated (REALTIME):",X),s(X.fullName||""),o(X.phone||""),c(X.countryCode||"+91"),d(X.isProfileVerified||!1),f(X.verificationStatus||null)}else console.log(" Profile: No profile found, setting defaults"),d(!1),f(null)},K=>{console.error("Error in profile listener:",K),d(!1),f(null)});return()=>{console.log(" Profile: Cleaning up profile listener"),Y()}},[t]),g.useEffect(()=>{if(!t)return;(async()=>{try{const Y=jt(Ze(oe,"enquiries"),At("userId","==",t.uid),fn("createdAt","desc")),X=(await Bt(Y)).docs.map(se=>({id:se.id,...se.data()}));_(X);const he=jt(Ze(oe,"sellerSubmissions"),At("sellerId","==",t.uid),fn("createdAt","desc")),H=(await Bt(he)).docs.map(se=>({id:se.id,...se.data()}));M(H)}catch(Y){console.error("Error loading security data:",Y)}})()},[t]);const W=async()=>{if(!(!t||!n.trim()||!a.trim()))try{await pn(Ce(oe,"userProfiles",t.uid),{userId:t.uid,fullName:n.trim(),phone:a.trim(),countryCode:l,isProfileVerified:u,verificationStatus:h,updatedAt:Fe()},{merge:!0}),le({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(U){console.error("Error updating profile:",U),le({title:"Update Failed",description:"Failed to update profile. Please try again.",variant:"destructive"})}},B=async()=>{if(!w||!m||!p){le({title:"Missing Information",description:"Please fill in all required fields and upload front ID image.",variant:"destructive"});return}console.log(" Starting ID upload process..."),C(!0),S(10);try{console.log(" Uploading front ID to Cloudinary..."),S(25);const U=await Yb(w);console.log(" Front ID uploaded to Cloudinary:",U),S(50);let Y=null;j&&(console.log(" Uploading back ID to Cloudinary..."),S(75),Y=await Yb(j),console.log(" Back ID uploaded to Cloudinary:",Y)),console.log(" Storing verification data in Firestore..."),S(90);const K={userId:t.uid,fullName:n||t.displayName||"",phone:a||"",isProfileVerified:!1,verificationStatus:"pending",idType:m,idNumber:p,frontImageUrl:U,backImageUrl:Y,verificationRequestedAt:Fe(),updatedAt:Fe()};console.log(" Profile data to store:",K);const X=Ce(oe,"userProfiles",t.uid);await pn(X,K,{merge:!0}),console.log(" Profile verification request stored successfully in userProfiles"),T(t.uid),console.log(" Profile: Starting AI processing for profile verification:",t.uid),Lu.processProfileVerification(t.uid,K,{front:U,back:Y}).then(he=>{he.success?(console.log(" AI: Profile auto-verified instantly!"),r("achievement",{title:" Trust Badge Verified!",message:"Your profile has been verified and you now have a trust badge!",priority:"high",actionUrl:"/profile",actionText:"View Profile"})):he.action==="flagged"?(console.log(" AI: Profile flagged for manual review"),r("enquiry_update",{title:" Trust Badge Under Review",message:"Your profile verification is being reviewed by our team. You will be notified when approved.",priority:"medium",actionUrl:"/profile",actionText:"View Profile"})):(console.log(" AI: Profile auto-rejected"),r("enquiry_update",{title:" Trust Badge Not Approved",message:"Your profile verification was not approved. Please try again with clearer ID images.",priority:"medium",actionUrl:"/profile",actionText:"Try Again"}))}).catch(he=>{console.error(" AI: Error processing profile verification:",he),r("enquiry_update",{title:" Verification Error",message:"There was an error processing your verification. Please try again.",priority:"medium",actionUrl:"/profile",actionText:"Try Again"})}),f("pending"),d(!1),S(100),le({title:"ID Upload Successful!",description:"Your ID has been uploaded and is pending admin review. You'll get a verified badge once approved."}),b(null),N(null),x(""),v(""),console.log(" ID upload process completed successfully!")}catch(U){console.error(" Error uploading ID:",U),le({title:"Upload Failed",description:"Failed to upload ID. Please try again.",variant:"destructive"})}finally{C(!1),setTimeout(()=>S(0),2e3)}};return t?i.jsx(Nt,{children:i.jsxs("div",{className:"max-w-2xl mx-auto px-3 sm:px-4 py-4 sm:py-8",children:[i.jsx("div",{className:"mb-4 sm:mb-8",children:i.jsx(be,{children:i.jsxs(vt,{className:"text-center p-4 sm:p-6",children:[i.jsx("div",{className:"mx-auto p-3 sm:p-4 bg-pal-blue/10 rounded-full w-fit mb-3 sm:mb-4",children:i.jsx(Ai,{className:"h-8 w-8 sm:h-12 sm:w-12 text-pal-blue"})}),i.jsx(cr,{className:"text-lg sm:text-2xl font-bold",children:n||t.displayName||"Profile"}),i.jsx(Bu,{className:"text-sm sm:text-lg",children:t.email}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2",children:"AI-powered profile verification for enhanced trust"}),u&&i.jsx("div",{className:"mt-3 sm:mt-4",children:i.jsxs(Pe,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs sm:text-sm",children:[i.jsx(Ir,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Verified Profile"]})})]})})}),i.jsxs(be,{children:[i.jsxs(vt,{className:"p-4 sm:p-6",children:[i.jsx(cr,{className:"text-base sm:text-lg",children:"Profile Information"}),i.jsx(Bu,{className:"text-xs sm:text-sm",children:"Update your profile details"})]}),i.jsxs(Ve,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"fullName",className:"text-xs sm:text-sm",children:"Full Name *"}),i.jsx(gr,{id:"fullName",value:n,onChange:U=>s(U.target.value),placeholder:"Enter your full name",className:"h-8 sm:h-10 text-xs sm:text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ht,{htmlFor:"phone",className:"text-xs sm:text-sm font-medium text-slate-700",children:"Phone Number *"}),i.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[i.jsxs(Ml,{value:l,onValueChange:c,children:[i.jsx(To,{className:"w-14 sm:w-16 h-8 sm:h-10 border-slate-200 focus:border-slate-400 focus:ring-slate-400",children:i.jsx($l,{placeholder:"Code",children:l&&i.jsxs("span",{className:"flex items-center gap-0.5 sm:gap-1",children:[i.jsx("span",{className:"text-[10px] sm:text-xs",children:($=z.find(U=>U.code===l))==null?void 0:$.flag}),i.jsx("span",{className:"font-medium text-[10px] sm:text-xs",children:l})]})})}),i.jsx(Co,{children:z.map(U=>i.jsx($r,{value:U.code,children:i.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[i.jsx("span",{className:"text-xs sm:text-sm",children:U.flag}),i.jsx("span",{className:"font-medium text-xs sm:text-sm",children:U.code}),i.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500",children:U.country})]})},U.code))})]}),i.jsx(gr,{id:"phone",value:a,onChange:U=>o(U.target.value),placeholder:"Enter phone number",className:"flex-1 h-8 sm:h-10 border-slate-200 focus:border-slate-400 focus:ring-slate-400 text-xs sm:text-sm",required:!0})]})]})]}),i.jsx("div",{className:"flex justify-end space-x-1 sm:space-x-2",children:i.jsx(G,{onClick:W,disabled:!n.trim()||!a.trim(),className:"h-8 sm:h-10 text-xs sm:text-sm px-3 sm:px-4",children:"Save Changes"})})]})]}),i.jsxs(be,{className:"mt-4 sm:mt-6",children:[i.jsxs(vt,{className:"p-4 sm:p-6",children:[i.jsx(cr,{className:"text-base sm:text-lg",children:"Trust Badge (Optional)"}),i.jsx(Bu,{className:"text-xs sm:text-sm",children:"Upload your government ID to get a trust badge and build trust"})]}),i.jsxs(Ve,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[h==="approved"&&i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 sm:p-6 text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mb-3 sm:mb-4",children:i.jsx(xt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})}),i.jsx("h3",{className:"text-base sm:text-xl font-semibold text-green-800 mb-2",children:"Profile Verified!"}),i.jsx("p",{className:"text-green-700 text-xs sm:text-sm",children:"Congratulations! Your profile has been verified and you now have a verified badge."}),i.jsx("div",{className:"mt-3 sm:mt-4",children:i.jsxs(Pe,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-300 text-xs sm:text-sm",children:[i.jsx(Ir,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Verified Profile"]})})]}),h==="pending"&&i.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200 rounded-xl p-4 sm:p-6 text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 sm:w-16 sm:h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-3 sm:mb-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-2 border-yellow-500 border-t-transparent"})}),i.jsx("h3",{className:"text-base sm:text-xl font-semibold text-yellow-800 mb-2",children:"Verification Pending"}),i.jsx("p",{className:"text-yellow-700 text-xs sm:text-sm",children:"Your ID has been uploaded and is under admin review."})]}),h==="rejected"&&i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl p-4 sm:p-6 text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 sm:w-16 sm:h-16 bg-red-100 rounded-full flex items-center justify-center mb-3 sm:mb-4",children:i.jsx(qC,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600"})}),i.jsx("h3",{className:"text-base sm:text-xl font-semibold text-red-800 mb-2",children:"Verification Rejected"}),i.jsx("p",{className:"text-red-700 text-xs sm:text-sm",children:"Your trust badge request was rejected. Please upload a clearer image and try again."})]}),!h||h==="rejected"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"idType",className:"text-xs sm:text-sm",children:"ID Type"}),i.jsxs(Ml,{value:m,onValueChange:x,children:[i.jsx(To,{className:"h-8 sm:h-10",children:i.jsx($l,{placeholder:"Select ID type"})}),i.jsxs(Co,{children:[i.jsx($r,{value:"aadhar",children:"Aadhar Card"}),i.jsx($r,{value:"pan",children:"PAN Card"}),i.jsx($r,{value:"driving_license",children:"Driving License"}),i.jsx($r,{value:"passport",children:"Passport"})]})]})]}),i.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"idNumber",className:"text-xs sm:text-sm",children:"ID Number"}),i.jsx(gr,{id:"idNumber",value:p,onChange:U=>v(U.target.value),placeholder:"Enter ID number",className:"h-8 sm:h-10 text-xs sm:text-sm"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"idFront",className:"text-xs sm:text-sm",children:"Front Side *"}),i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 sm:p-4 text-center hover:border-pal-blue transition-colors",children:[i.jsx("input",{id:"idFront",type:"file",accept:"image/*",onChange:U=>{var Y;return b(((Y=U.target.files)==null?void 0:Y[0])||null)},className:"hidden"}),i.jsx(ht,{htmlFor:"idFront",className:"cursor-pointer",children:i.jsxs("div",{className:"flex flex-col items-center space-y-1 sm:space-y-2",children:[i.jsx(X5,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"}),i.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:w?w.name:"Click to upload front side"})]})})]})]}),i.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"idBack",className:"text-xs sm:text-sm",children:"Back Side (Optional)"}),i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 sm:p-4 text-center hover:border-pal-blue transition-colors",children:[i.jsx("input",{id:"idBack",type:"file",accept:"image/*",onChange:U=>{var Y;return N(((Y=U.target.files)==null?void 0:Y[0])||null)},className:"hidden"}),i.jsx(ht,{htmlFor:"idBack",className:"cursor-pointer",children:i.jsxs("div",{className:"flex flex-col items-center space-y-1 sm:space-y-2",children:[i.jsx(X5,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"}),i.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:j?j.name:"Click to upload back side"})]})})]})]})]}),P>0&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4",children:[i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-blue-700 mb-1",children:[i.jsx("span",{children:"Uploading ID..."}),i.jsxs("span",{children:[P,"%"]})]}),i.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 sm:h-3",children:i.jsx("div",{className:"bg-blue-600 h-2 sm:h-3 rounded-full transition-all duration-300 ease-out",style:{width:`${P}%`}})})]}),i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm text-blue-600",children:[i.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-2 border-blue-500 border-t-transparent"}),i.jsxs("span",{children:[P<25&&"Preparing upload...",P>=25&&P<50&&"Uploading front ID...",P>=50&&P<75&&"Uploading back ID...",P>=75&&P<100&&"Saving to database...",P===100&&"Upload complete!"]})]})]}),i.jsxs(G,{onClick:B,disabled:!m||!p||!w||E,className:"w-full h-8 sm:h-10 text-xs sm:text-sm",children:[i.jsx(bu,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),E?"Uploading...":"Upload ID for Trust Badge"]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground text-center",children:"Trust badge is completely optional. Upload to get a trust badge and build trust."})]}):null]})]}),i.jsx(_2e,{enquiries:R,sellerSubmissions:I,className:"mt-4 sm:mt-6"})]})}):i.jsx(Nt,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pal-blue mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})})};var bI="Tabs",[T2e,iHe]=Sa(bI,[vj]),tK=vj(),[C2e,wI]=T2e(bI),rK=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=jy(l),[h,f]=io({prop:n,onChange:s,defaultProp:a});return i.jsx(C2e,{scope:r,baseId:ga(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:i.jsx(et.div,{dir:d,"data-orientation":o,...u,ref:e})})});rK.displayName=bI;var nK="TabsList",sK=g.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=wI(nK,r),o=tK(r);return i.jsx(wW,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(et.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});sK.displayName=nK;var iK="TabsTrigger",aK=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,o=wI(iK,r),l=tK(r),c=cK(o.baseId,n),u=uK(o.baseId,n),d=n===o.value;return i.jsx(jW,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(et.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:e,onMouseDown:Me(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Me(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Me(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(n)})})})});aK.displayName=iK;var oK="TabsContent",lK=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=t,l=wI(oK,r),c=cK(l.baseId,n),u=uK(l.baseId,n),d=n===l.value,h=g.useRef(d);return g.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(Fn,{present:s||d,children:({present:f})=>i.jsx(et.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});lK.displayName=oK;function cK(t,e){return`${t}-trigger-${e}`}function uK(t,e){return`${t}-content-${e}`}var k2e=rK,dK=sK,hK=aK,fK=lK;const jI=k2e,Cj=g.forwardRef(({className:t,...e},r)=>i.jsx(dK,{ref:r,className:He("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Cj.displayName=dK.displayName;const oa=g.forwardRef(({className:t,...e},r)=>i.jsx(hK,{ref:r,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));oa.displayName=hK.displayName;const la=g.forwardRef(({className:t,...e},r)=>i.jsx(fK,{ref:r,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));la.displayName=fK.displayName;const I2e=()=>{const{signUp:t,signIn:e}=Dr(),r=Zr(),[n,s]=g.useState(""),[a,o]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState(""),[h,f]=g.useState(""),[m,x]=g.useState(""),[p,v]=g.useState(""),[w,b]=g.useState(""),[j,N]=g.useState(""),[E,C]=g.useState(!1),[P,S]=g.useState(!1),A=I=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I),T=I=>{const M=I.target.value;c(M);const z=M.trim().split(" ");z.length>=2?(d(z[0]),f(z.slice(1).join(" "))):z.length===1?(d(z[0]),f("")):(d(""),f(""))},R=async I=>{I.preventDefault(),b(""),S(!0);try{if(console.log(" Attempting sign in with:",n),!A(n)){b("Please enter a valid email address."),S(!1);return}console.log(" About to call signIn with:",{identifier:n,password:"***"});const M=await e(n,a);console.log(" Sign in result:",M),M.error?(console.log(" Sign in failed:",M.error.message),b(M.error.message||"Sign in failed")):(console.log(" Sign in successful, navigating to home"),r("/"))}catch(M){console.error(" Sign in error:",M),b("An unexpected error occurred during sign in")}finally{S(!1)}},_=async I=>{I.preventDefault(),b(""),S(!0);try{if(console.log("Attempting sign up with:",m),!A(m)){b("Please enter a valid email address."),S(!1);return}const M=await t(m,p,{full_name:l,first_name:u,last_name:h});console.log("Sign up result:",M),!M.error&&M.requiresVerification?(C(!0),N("Account created successfully!"),b("")):M.error&&(b(M.error.message||"Sign up failed"),N(""))}catch(M){console.error("Sign up error:",M),b("An unexpected error occurred during sign up")}finally{S(!1)}};return console.log("SignIn component rendering, loading:",P),i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("div",{className:"text-center mb-6 sm:mb-8",children:i.jsxs("h1",{className:"text-2xl sm:text-4xl font-bold text-foreground mb-4",children:["Welcome to ",i.jsx("span",{className:"text-blue-600 text-3xl sm:text-5xl",children:"Enqir"}),".in"]})}),i.jsxs(be,{className:"shadow-lg border-2 border-blue-200 rounded-2xl overflow-hidden",children:[i.jsx(vt,{className:"bg-gray-800 p-4 sm:p-6 lg:p-8",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(Ir,{className:"h-6 w-6 sm:h-7 sm:w-7 text-white"}),i.jsx("span",{className:"text-lg sm:text-xl font-semibold text-white",children:"Secure Access"})]})}),i.jsxs(Ve,{className:"p-4 sm:p-6 lg:p-8",children:[w&&i.jsxs($i,{className:"mb-4 border-red-200 bg-red-50",children:[i.jsx(kt,{className:"h-4 w-4 text-red-600"}),i.jsx(Li,{className:"text-sm text-red-800",children:w})]}),j&&i.jsxs($i,{className:"mb-4 border-green-200 bg-green-50",children:[i.jsx(Ir,{className:"h-4 w-4 text-green-600"}),i.jsx(Li,{className:"text-sm text-green-800",children:j})]}),E&&i.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Xa,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Verification Email Sent!"}),i.jsxs("p",{className:"text-green-700 text-sm mb-4",children:["We've sent a verification link to ",i.jsx("strong",{className:"text-green-800",children:m})]}),i.jsx("div",{className:"bg-white p-4 rounded-lg border border-green-200 shadow-sm",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-sm text-green-600 flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-lg",children:""})," Check your inbox and spam folder"]}),i.jsxs("p",{className:"text-sm text-green-600 flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-lg",children:""})," Click the verification link in the email"]}),i.jsxs("p",{className:"text-sm text-green-600 flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-lg",children:""})," Then come back here to sign in"]})]})}),i.jsxs("div",{className:"mt-4 space-x-2",children:[i.jsx(G,{variant:"outline",size:"sm",onClick:()=>{C(!1),N(""),b("")},className:"border-green-300 text-green-700 hover:bg-green-50",children:"Got it, let me sign in"}),i.jsx(G,{variant:"default",size:"sm",onClick:()=>r("/signin"),className:"bg-green-600 hover:bg-green-700 text-white",children:"Sign In"})]})]})}),i.jsxs(jI,{defaultValue:"signin",className:"w-full",children:[i.jsxs(Cj,{className:"grid w-full grid-cols-2 h-12 sm:h-14",children:[i.jsx(oa,{value:"signin",className:"text-base sm:text-lg font-semibold",children:"Sign In"}),i.jsx(oa,{value:"signup",className:"text-base sm:text-lg font-semibold",children:"Sign Up"})]}),i.jsxs(la,{value:"signin",children:[i.jsxs("form",{onSubmit:R,className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"identifier",className:"text-xs sm:text-sm",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Xa,{className:"absolute left-2.5 sm:left-3 top-2.5 sm:top-3 h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}),i.jsx(gr,{id:"identifier",type:"email",placeholder:"Enter your email address",className:"pl-8 sm:pl-10 h-9 sm:h-10 text-xs sm:text-sm",value:n,onChange:I=>s(I.target.value),required:!0})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Use your email address to sign in"})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"password",className:"text-xs sm:text-sm",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(ao,{className:"absolute left-2.5 sm:left-3 top-2.5 sm:top-3 h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}),i.jsx(gr,{id:"password",type:"password",placeholder:"Enter your password",className:"pl-8 sm:pl-10 h-9 sm:h-10 text-xs sm:text-sm",value:a,onChange:I=>o(I.target.value),required:!0})]})]}),i.jsx(G,{type:"submit",className:"w-full h-12 sm:h-14 primary-gradient hover:shadow-glow transition-spring text-sm sm:text-base font-medium",disabled:P,children:P?"Signing in...":"Sign In"})]}),i.jsx("div",{className:"mt-3 sm:mt-4 text-center",children:i.jsx(Je,{to:"/forgot-password",className:"text-xs sm:text-sm text-pal-blue hover:underline",children:"Forgot your password?"})})]}),i.jsx(la,{value:"signup",children:i.jsxs("form",{onSubmit:_,className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"name",className:"text-xs sm:text-sm",children:"Full Name *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ai,{className:"absolute left-2.5 sm:left-3 top-2.5 sm:top-3 h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}),i.jsx(gr,{id:"name",type:"text",placeholder:"Enter your full name (e.g., John Smith)",className:"pl-8 sm:pl-10 h-9 sm:h-10 text-xs sm:text-sm",value:l,onChange:T,required:!0})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"We'll automatically extract your first and last name"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"firstName",className:"text-xs sm:text-sm",children:"First Name"}),i.jsx(gr,{id:"firstName",type:"text",value:u,readOnly:!0,disabled:!0,className:"bg-gray-50 border-gray-200 text-gray-700 cursor-not-allowed h-9 sm:h-10 text-xs sm:text-sm"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Auto-extracted"})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"lastName",className:"text-xs sm:text-sm",children:"Last Name"}),i.jsx(gr,{id:"lastName",type:"text",value:h,readOnly:!0,disabled:!0,className:"bg-gray-50 border-gray-200 text-gray-700 cursor-not-allowed h-9 sm:h-10 text-xs sm:text-sm"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Auto-extracted"})]})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"signup-identifier",className:"text-xs sm:text-sm",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Xa,{className:"absolute left-2.5 sm:left-3 top-2.5 sm:top-3 h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}),i.jsx(gr,{id:"signup-identifier",type:"email",placeholder:"Enter your email address",className:"pl-8 sm:pl-10 h-9 sm:h-10 text-xs sm:text-sm",value:m,onChange:I=>x(I.target.value),required:!0})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"We'll send a verification email to your inbox"})]}),i.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[i.jsx(ht,{htmlFor:"signup-password",className:"text-xs sm:text-sm",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(ao,{className:"absolute left-2.5 sm:left-3 top-2.5 sm:top-3 h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}),i.jsx(gr,{id:"signup-password",type:"password",placeholder:"Create a secure password",className:"pl-8 sm:pl-10 h-9 sm:h-10 text-xs sm:text-sm",value:p,onChange:I=>v(I.target.value),required:!0})]})]}),i.jsx(G,{type:"submit",className:"w-full h-12 sm:h-14 primary-gradient hover:shadow-glow transition-spring text-sm sm:text-base font-medium",disabled:P,children:P?"Creating account...":"Create Account"})]})})]}),i.jsx(Ds,{className:"my-6"}),i.jsx("div",{className:"text-center text-xs text-muted-foreground",children:i.jsxs("p",{children:["By continuing, you agree to our"," ",i.jsx(Je,{to:"/terms",className:"text-pal-blue hover:underline",children:"Terms of Service"})," ","and"," ",i.jsx(Je,{to:"/privacy",className:"text-pal-blue hover:underline",children:"Privacy Policy"})]})})]})]})]})})})},R2e=()=>{const{sendPasswordResetEmail:t}=Dr(),[e,r]=g.useState(""),[n,s]=g.useState(!1),[a,o]=g.useState(!1),[l,c]=g.useState(""),[u,d]=g.useState("");Zr();const h=async m=>{m.preventDefault(),o(!0),c(""),d("");try{const x=await t(e);x.error?c(x.error.message||"Failed to send reset email"):(s(!0),d("Password reset email sent successfully! Check your inbox."))}catch(x){c(x.message||"An unexpected error occurred")}finally{o(!1)}},f=()=>{window.history.back()};return i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Reset Password"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Enter your email to receive a password reset link"})]}),i.jsxs(be,{className:"shadow-lg",children:[i.jsx(vt,{className:"space-y-1",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[i.jsx(Ir,{className:"h-6 w-6 text-pal-blue"}),i.jsx("span",{className:"text-lg font-semibold",children:"Secure Password Reset"})]})}),i.jsxs(Ve,{children:[n?i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Check Your Email"}),i.jsxs("p",{className:"text-muted-foreground",children:["We've sent a password reset link to ",i.jsx("strong",{children:e})]}),i.jsxs($i,{className:"border-green-200 bg-green-50",children:[i.jsx(xt,{className:"h-4 w-4 text-green-600"}),i.jsxs(Li,{className:"text-sm text-green-800",children:[i.jsx("strong",{children:"Next steps:"}),i.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[i.jsx("li",{children:"Check your email inbox (and spam folder)"}),i.jsx("li",{children:'Click the "Reset Password" link in the email'}),i.jsx("li",{children:"Create a new secure password"}),i.jsx("li",{children:"Sign in with your new password"})]})]})]}),i.jsxs("div",{className:"space-y-3 pt-4",children:[i.jsxs(G,{onClick:h,variant:"outline",className:"w-full",children:[i.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Resend Email"]}),i.jsxs(G,{onClick:f,variant:"ghost",className:"w-full",children:[i.jsx(gn,{className:"h-4 w-4 mr-2"}),"Back to Sign In"]})]})]}):i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs($i,{className:"border-blue-200 bg-blue-50",children:[i.jsx(kt,{className:"h-4 w-4"}),i.jsxs(Li,{className:"text-sm",children:[i.jsx("strong",{children:"How it works:"})," Enter your email address and we'll send you a secure link to reset your password."]})]}),l&&i.jsxs($i,{className:"border-red-200 bg-red-50",children:[i.jsx(kt,{className:"h-4 w-4 text-red-600"}),i.jsx(Li,{className:"text-sm text-red-800",children:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ht,{htmlFor:"email",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Xa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(gr,{id:"email",type:"email",placeholder:"Enter your email address",className:"pl-10",value:e,onChange:m=>r(m.target.value),required:!0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll send a password reset link to this email"})]}),i.jsx(G,{type:"submit",className:"w-full primary-gradient hover:shadow-glow transition-spring",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),i.jsx(Ds,{className:"my-6"}),i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:i.jsxs("p",{children:["Remember your password?"," ",i.jsx(Je,{to:"/signin",className:"text-pal-blue hover:underline",children:"Sign in here"})]})})]})]})]})})})},O2e=()=>{const{confirmPasswordReset:t}=Dr(),[e]=aq(),[r,n]=g.useState(""),[s,a]=g.useState(""),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState(!1),[f,m]=g.useState(""),[x,p]=g.useState(!1),[v,w]=g.useState(!1),b=Zr(),j=e.get("oobCode");g.useEffect(()=>{j?w(!0):m("Invalid or expired password reset link")},[j]);const N=async E=>{if(E.preventDefault(),h(!0),m(""),r.length<6){m("Password must be at least 6 characters long"),h(!1);return}if(r!==s){m("Passwords do not match"),h(!1);return}try{const C=await t(j,r);C.error?m(C.error.message||"Failed to reset password"):(p(!0),setTimeout(()=>{b("/signin")},3e3))}catch(C){m(C.message||"An unexpected error occurred")}finally{h(!1)}};return v?x?i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsx(be,{className:"shadow-lg",children:i.jsxs(Ve,{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(xt,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Password Reset Successful!"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Your password has been updated successfully. You will be redirected to the sign-in page in a few seconds."}),i.jsx(G,{onClick:()=>b("/signin"),className:"w-full",children:"Go to Sign In"})]})})})})}):i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Set New Password"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Create a new secure password for your account"})]}),i.jsxs(be,{className:"shadow-lg",children:[i.jsx(vt,{className:"space-y-1",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[i.jsx(Ir,{className:"h-6 w-6 text-pal-blue"}),i.jsx("span",{className:"text-lg font-semibold",children:"Secure Password Update"})]})}),i.jsxs(Ve,{children:[i.jsxs("form",{onSubmit:N,className:"space-y-4",children:[i.jsxs($i,{className:"border-blue-200 bg-blue-50",children:[i.jsx(kt,{className:"h-4 w-4"}),i.jsxs(Li,{className:"text-sm",children:[i.jsx("strong",{children:"Security tip:"})," Choose a strong password that you don't use elsewhere."]})]}),f&&i.jsxs($i,{className:"border-red-200 bg-red-50",children:[i.jsx(kt,{className:"h-4 w-4 text-red-600"}),i.jsx(Li,{className:"text-sm text-red-800",children:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ht,{htmlFor:"password",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(ao,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(gr,{id:"password",type:o?"text":"password",placeholder:"Enter new password",className:"pl-10 pr-10",value:r,onChange:E=>n(E.target.value),required:!0,minLength:6}),i.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?i.jsx(Z5,{className:"h-4 w-4"}):i.jsx(pr,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters long"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ht,{htmlFor:"confirmPassword",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(ao,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(gr,{id:"confirmPassword",type:c?"text":"password",placeholder:"Confirm new password",className:"pl-10 pr-10",value:s,onChange:E=>a(E.target.value),required:!0,minLength:6}),i.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),children:c?i.jsx(Z5,{className:"h-4 w-4"}):i.jsx(pr,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Re-enter your new password to confirm"})]}),i.jsx(G,{type:"submit",className:"w-full primary-gradient hover:shadow-glow transition-spring",disabled:d,children:d?"Updating Password...":"Update Password"})]}),i.jsx(Ds,{className:"my-6"}),i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:i.jsxs("p",{children:["Remember your password?"," ",i.jsx(G,{variant:"link",className:"p-0 h-auto text-pal-blue hover:underline",onClick:()=>b("/signin"),children:"Sign in here"})]})})]})]})]})})}):i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background to-muted/20",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsx(be,{className:"shadow-lg",children:i.jsxs(Ve,{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(kt,{className:"h-8 w-8 text-red-600"})}),i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Invalid Reset Link"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"This password reset link is invalid or has expired. Please request a new one."}),i.jsx(G,{onClick:()=>b("/forgot-password"),className:"w-full",children:"Request New Reset Link"})]})})})})})},D2e=()=>{const t=Zr();return g.useEffect(()=>{(async()=>{try{const r=new URLSearchParams(window.location.search),n=r.get("mode"),s=r.get("oobCode"),a=r.get("continueUrl")||"/dashboard";if(n==="verifyEmail"&&s)try{await tse(Cr,s),await ese(Cr,s),le({title:"Email verified!",description:"Your email has been successfully verified."}),t(a);return}catch(o){le({title:"Verification failed",description:o.message,variant:"destructive"}),t("/signin");return}if(sse(Cr,window.location.href)){const o=window.localStorage.getItem("emailForSignIn")||"";if(!o){le({title:"Email required",description:"Please sign in again.",variant:"destructive"}),t("/signin");return}try{await ise(Cr,o,window.location.href),window.localStorage.removeItem("emailForSignIn"),le({title:"Signed in",description:"Welcome back!"}),t("/dashboard");return}catch(l){le({title:"Sign in failed",description:l.message,variant:"destructive"}),t("/signin");return}}t("/signin")}catch{le({title:"An error occurred",description:"There was an error processing your authentication.",variant:"destructive"}),t("/signin")}})()},[t]),i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pal-blue mx-auto"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Processing authentication..."})]})})})};var NI="Switch",[M2e,aHe]=Sa(NI),[$2e,L2e]=M2e(NI),mK=g.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,m]=g.useState(null),x=Tt(e,j=>m(j)),p=g.useRef(!1),v=f?d||!!f.closest("form"):!0,[w=!1,b]=io({prop:s,defaultProp:a,onChange:u});return i.jsxs($2e,{scope:r,checked:w,disabled:l,children:[i.jsx(et.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":xK(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:Me(t.onClick,j=>{b(N=>!N),v&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),v&&i.jsx(F2e,{control:f,bubbles:!p.current,name:n,value:c,checked:w,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});mK.displayName=NI;var pK="SwitchThumb",gK=g.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=L2e(pK,r);return i.jsx(et.span,{"data-state":xK(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});gK.displayName=pK;var F2e=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,a=g.useRef(null),o=lI(r),l=ek(e);return g.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&h){const f=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(f)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xK(t){return t?"checked":"unchecked"}var yK=mK,V2e=gK;const Wd=g.forwardRef(({className:t,...e},r)=>i.jsx(yK,{className:He("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:i.jsx(V2e,{className:He("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Wd.displayName=yK.displayName;const B2e=({items:t})=>{const e=ul(),n=t||(()=>{const s=e.pathname.split("/").filter(Boolean),a=[{label:"Home",href:"/"}],o={enquiries:"Browse Enquiries","post-enquiry":"Post Enquiry",profile:"Profile",settings:"Settings",respond:"Submit Response"};return s.forEach((l,c)=>{const u="/"+s.slice(0,c+1).join("/"),d=o[l]||l.charAt(0).toUpperCase()+l.slice(1);a.push({label:d,href:c===s.length-1?void 0:u})}),a})();return n.length<=1?null:i.jsx("nav",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-6",children:n.map((s,a)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[a>0&&i.jsx(UC,{className:"h-4 w-4"}),s.href?i.jsxs(Je,{to:s.href,className:"hover:text-foreground transition-colors flex items-center space-x-1",children:[a===0&&i.jsx(vu,{className:"h-4 w-4"}),i.jsx("span",{children:s.label})]}):i.jsxs("span",{className:"text-foreground font-medium flex items-center space-x-1",children:[a===0&&i.jsx(vu,{className:"h-4 w-4"}),i.jsx("span",{children:s.label})]})]},a))})},U2e=({isOpen:t,onClose:e,onConfirm:r,userName:n})=>{const[s,a]=g.useState(!1),[o,l]=g.useState(""),[c,u]=g.useState(!1),d=async()=>{c&&(a(!0),await r(),a(!1),e())},h=f=>{const m=f.target.value;l(m),u(m.toLowerCase()==="delete")};return t?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:i.jsxs(be,{className:"w-80 sm:w-96 mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs(vt,{className:"text-center pb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx(ln,{className:"h-6 w-6 text-red-600"})}),i.jsx(cr,{className:"text-lg sm:text-xl text-slate-900",children:"Delete Account"})]}),i.jsxs(Ve,{className:"space-y-4",children:[i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm sm:text-base text-slate-600 mb-4",children:["Are you sure you want to permanently delete your account",n?`, ${n}`:"","?"]})}),i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 space-y-2",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kt,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-xs sm:text-sm text-red-800",children:[i.jsx("p",{className:"font-semibold mb-1",children:"This action cannot be undone!"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[i.jsx("li",{children:" All your enquiries will be deleted"}),i.jsx("li",{children:" All your responses will be deleted"}),i.jsx("li",{children:" Your profile data will be removed"}),i.jsx("li",{children:" You will be signed out immediately"})]})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ht,{htmlFor:"confirmation",className:"text-sm font-medium",children:["Type ",i.jsx("span",{className:"font-bold text-red-600",children:"DELETE"})," to confirm:"]}),i.jsx(gr,{id:"confirmation",value:o,onChange:h,placeholder:"Type DELETE here",className:"text-sm",disabled:s})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2",children:[i.jsx(G,{variant:"outline",onClick:e,className:"flex-1",disabled:s,children:"Cancel"}),i.jsxs(G,{variant:"destructive",onClick:d,disabled:!c||s,className:"flex-1",children:[i.jsx(ln,{className:"h-4 w-4 mr-2"}),s?"Deleting...":"Delete Account"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 pt-2",children:[i.jsx(Ir,{className:"h-3 w-3"}),i.jsx("span",{children:"Your data will be permanently removed from our servers"})]})]})]})}):null},q2e=()=>{const{user:t}=vm(),{user:e,deleteAccount:r}=Dr(),[n,s]=g.useState(!1),[a,o]=g.useState([]),[l,c]=g.useState(!1),[u,d]=g.useState({profileVisibility:"public",showContactInfo:!0,dataCollection:!0}),[h,f]=g.useState({language:"en",timezone:"Asia/Kolkata",currency:"INR"}),[m,x]=g.useState({voiceCommands:!0,touchGestures:!0,mobileOptimization:!0,isRecording:!1}),[p,v]=g.useState({name:(t==null?void 0:t.name)||(e==null?void 0:e.displayName)||"",email:(t==null?void 0:t.email)||(e==null?void 0:e.email)||"",role:"buyer",bio:""}),[w,b]=g.useState(!1);g.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{const S=Ce(oe,"userProfiles",e.uid),A=await Ft(S);if(A.exists()){const T=A.data();v({name:T.fullName||e.displayName||"",email:e.email||"",role:T.role||"buyer",bio:T.bio||""}),d({profileVisibility:T.profileVisibility||"public",showContactInfo:T.showContactInfo!==!1,dataCollection:T.dataCollection!==!1}),f({language:T.language||"en",timezone:T.timezone||"Asia/Kolkata",currency:T.currency||"INR"}),x({voiceCommands:T.voiceCommands!==!1,touchGestures:T.touchGestures!==!1,mobileOptimization:T.mobileOptimization!==!1,isRecording:!1})}}catch(S){console.error("Failed to load user profile:",S)}})()},[e==null?void 0:e.uid]);const j=async()=>{if(e!=null&&e.uid){b(!0);try{await pn(Ce(oe,"userProfiles",e.uid),{userId:e.uid,fullName:p.name,email:p.email,role:p.role,bio:p.bio,updatedAt:Fe()},{merge:!0}),le({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(P){console.error("Failed to save profile:",P),le({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"})}finally{b(!1)}}},N=async()=>{if(e!=null&&e.uid){b(!0);try{await pn(Ce(oe,"userProfiles",e.uid),{profileVisibility:u.profileVisibility,showContactInfo:u.showContactInfo,dataCollection:u.dataCollection,updatedAt:Fe()},{merge:!0}),le({title:"Privacy Settings Updated",description:"Your privacy settings have been saved."})}catch(P){console.error("Failed to save privacy settings:",P),le({title:"Error",description:"Failed to save privacy settings. Please try again.",variant:"destructive"})}finally{b(!1)}}},E=async()=>{if(e!=null&&e.uid){b(!0);try{await pn(Ce(oe,"userProfiles",e.uid),{language:h.language,timezone:h.timezone,currency:h.currency,updatedAt:Fe()},{merge:!0}),le({title:"Preferences Updated",description:"Your preferences have been saved."})}catch(P){console.error("Failed to save preferences:",P),le({title:"Error",description:"Failed to save preferences. Please try again.",variant:"destructive"})}finally{b(!1)}}},C=async()=>{if(e!=null&&e.uid){b(!0);try{await pn(Ce(oe,"userProfiles",e.uid),{voiceCommands:m.voiceCommands,touchGestures:m.touchGestures,mobileOptimization:m.mobileOptimization,updatedAt:Fe()},{merge:!0}),le({title:"AI Features Updated",description:"Your AI feature settings have been saved."})}catch(P){console.error("Failed to save AI features:",P),le({title:"Error",description:"Failed to save AI features. Please try again.",variant:"destructive"})}finally{b(!1)}}};return g.useEffect(()=>{(async()=>{var S,A;if(e!=null&&e.uid){c(!0);try{const T=jt(Ze(oe,"payments"),At("userId","==",e.uid),fn("purchasedAt","desc")),R=await Bt(T),_=[];for(const I of R.docs){const M=I.data(),z={id:I.id,enquiryId:M.enquiryId||"",planId:M.planId||"",planPrice:M.planPrice||0,responsesUnlocked:M.responsesUnlocked||0,isUnlimited:M.isUnlimited||!1,purchasedAt:((S=M.purchasedAt)==null?void 0:S.toDate())||new Date,isActive:M.isActive!==!1,paymentMethod:M.paymentMethod||"card",transactionId:M.transactionId||""};try{const W=Ce(oe,"enquiries",z.enquiryId),B=await Ft(W);B.exists()&&(z.enquiryTitle=((A=B.data())==null?void 0:A.title)||"Untitled Enquiry")}catch(W){console.warn("Could not fetch enquiry title:",W)}_.push(z)}o(_)}catch(T){console.error("Failed to fetch purchase history:",T)}finally{c(!1)}}})()},[e==null?void 0:e.uid]),i.jsxs(Nt,{children:[i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx(B2e,{}),i.jsxs("div",{className:"mb-6 sm:mb-8",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"Settings"}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage your account preferences and platform settings"})]}),i.jsxs(jI,{defaultValue:"profile",className:"space-y-4 sm:space-y-6",children:[i.jsxs(Cj,{className:"grid w-full grid-cols-3 sm:grid-cols-5 overflow-x-auto sm:overflow-visible",children:[i.jsx(oa,{value:"profile",className:"text-xs sm:text-sm px-2 sm:px-3",children:"Profile"}),i.jsx(oa,{value:"privacy",className:"text-xs sm:text-sm px-2 sm:px-3",children:"Privacy"}),i.jsx(oa,{value:"premium",className:"text-xs sm:text-sm px-2 sm:px-3",children:"Premium History"}),i.jsx(oa,{value:"preferences",className:"text-xs sm:text-sm px-2 sm:px-3",children:"Preferences"}),i.jsx(oa,{value:"ai",className:"text-xs sm:text-sm px-2 sm:px-3",children:"AI Features"})]}),i.jsx(la,{value:"profile",className:"space-y-4 sm:space-y-6",children:i.jsxs(be,{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[i.jsx(Ai,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Profile Information"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Full Name"}),i.jsx(gr,{value:p.name,onChange:P=>v({...p,name:P.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Email"}),i.jsx(gr,{value:p.email,type:"email",disabled:!0,className:"opacity-60"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Role"}),i.jsxs(Ml,{value:p.role,onValueChange:P=>v({...p,role:P}),children:[i.jsx(To,{children:i.jsx($l,{})}),i.jsxs(Co,{children:[i.jsx($r,{value:"buyer",children:"Buyer"}),i.jsx($r,{value:"supplier",children:"Supplier"}),i.jsx($r,{value:"both",children:"Both"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Bio"}),i.jsx("textarea",{className:"w-full min-h-[100px] p-3 border border-border rounded-md bg-background",placeholder:"Tell us about yourself...",value:p.bio,onChange:P=>v({...p,bio:P.target.value})})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx(Pe,{variant:"secondary",className:"text-xs",children:"Credit-Based User"}),i.jsxs(Pe,{variant:"outline",className:"text-xs text-pal-blue",children:[i.jsx(Gs,{className:"h-3 w-3 mr-1"}),"Pay-per-Use"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-2 pt-4",children:[i.jsx(G,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>v({name:(t==null?void 0:t.name)||(e==null?void 0:e.displayName)||"",email:(t==null?void 0:t.email)||(e==null?void 0:e.email)||"",role:"buyer",bio:""}),children:"Cancel"}),i.jsx(G,{className:"w-full sm:w-auto bg-pal-blue hover:bg-pal-blue-dark",onClick:j,disabled:w,children:w?"Saving...":"Save Changes"})]})]})]})}),i.jsx(la,{value:"privacy",className:"space-y-4 sm:space-y-6",children:i.jsxs(be,{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[i.jsx(Ir,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Privacy & Security"})]}),i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium block mb-2",children:"Profile Visibility"}),i.jsxs(Ml,{value:u.profileVisibility,onValueChange:P=>d(S=>({...S,profileVisibility:P})),children:[i.jsx(To,{children:i.jsx($l,{})}),i.jsxs(Co,{children:[i.jsx($r,{value:"public",children:"Public - Anyone can see"}),i.jsx($r,{value:"verified",children:"Verified Users Only"}),i.jsx($r,{value:"private",children:"Private - Hidden"})]})]})]}),i.jsx(Ds,{}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Show Contact Information"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Allow verified users to see your contact details"})]}),i.jsx(Wd,{checked:u.showContactInfo,onCheckedChange:P=>d(S=>({...S,showContactInfo:P})),className:"sm:ml-4"})]}),i.jsx(Ds,{}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Data Collection"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Allow PAL to collect analytics for improving your experience"})]}),i.jsx(Wd,{checked:u.dataCollection,onCheckedChange:P=>d(S=>({...S,dataCollection:P})),className:"sm:ml-4"})]}),i.jsx(Ds,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Data Management"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[i.jsxs(G,{variant:"outline",className:"flex items-center justify-center sm:justify-start w-full",children:[i.jsx(pr,{className:"h-4 w-4 mr-2"}),"View My Data"]}),i.jsxs(G,{variant:"outline",className:"flex items-center justify-center sm:justify-start w-full",children:[i.jsx(J5,{className:"h-4 w-4 mr-2"}),"Export Data"]}),i.jsxs(G,{variant:"outline",className:"flex items-center justify-center sm:justify-start w-full text-destructive hover:text-destructive sm:col-span-2 md:col-span-1",onClick:()=>s(!0),children:[i.jsx(ln,{className:"h-4 w-4 mr-2"}),"Delete Account"]})]})]}),i.jsx("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-2 pt-4",children:i.jsx(G,{className:"w-full sm:w-auto bg-pal-blue hover:bg-pal-blue-dark",onClick:N,disabled:w,children:w?"Saving...":"Save Privacy Settings"})})]})]})}),i.jsx(la,{value:"premium",className:"space-y-4 sm:space-y-6",children:i.jsxs(be,{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[i.jsx(Hce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Premium Purchase History"})]}),i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[l?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading purchase history..."})}):a.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(yn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 opacity-50"}),i.jsx("h3",{className:"text-sm sm:text-base font-medium text-foreground mb-2",children:"No Premium Purchases Yet"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Your premium purchase history will appear here once you make a purchase."})]}):i.jsx("div",{className:"space-y-3",children:a.map(P=>i.jsx("div",{className:"p-4 bg-muted/20 rounded-lg border border-border/50 hover:border-border transition-colors",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[i.jsx("div",{className:"flex-1 space-y-2",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-pal-blue/10 rounded-lg flex-shrink-0",children:i.jsx(yn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("h3",{className:"text-sm sm:text-base font-semibold text-foreground",children:[P.planId.charAt(0).toUpperCase()+P.planId.slice(1)," Plan"]}),P.isActive&&i.jsx(Pe,{variant:"default",className:"text-xs",children:"Active"})]}),P.enquiryTitle&&i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1 truncate",children:P.enquiryTitle}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(BC,{className:"h-3 w-3"}),i.jsx("span",{children:P.purchasedAt.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})})]}),P.responsesUnlocked>0&&i.jsx(Pe,{variant:"outline",className:"text-xs",children:P.isUnlimited?"Unlimited":`${P.responsesUnlocked} Responses`}),i.jsx("span",{className:"text-xs text-muted-foreground",children:P.transactionId?`TXN: ${P.transactionId.slice(-8)}`:""})]})]})]})}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsx("div",{className:"text-lg sm:text-xl font-bold text-foreground",children:ag(P.planPrice)}),i.jsx(Pe,{variant:"secondary",className:"text-xs",children:P.paymentMethod==="card"?"Card":P.paymentMethod})]})]})},P.id))}),a.length>0&&i.jsx("div",{className:"pt-4 border-t",children:i.jsxs(G,{variant:"outline",className:"w-full sm:w-auto flex items-center",children:[i.jsx(J5,{className:"h-4 w-4 mr-2"}),"Download All Receipts"]})})]})]})}),i.jsx(la,{value:"preferences",className:"space-y-4 sm:space-y-6",children:i.jsxs(be,{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[i.jsx(qce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Platform Preferences"})]}),i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Language"}),i.jsxs(Ml,{value:h.language,onValueChange:P=>f(S=>({...S,language:P})),children:[i.jsx(To,{children:i.jsx($l,{})}),i.jsxs(Co,{children:[i.jsx($r,{value:"en",children:"English"}),i.jsx($r,{value:"hi",children:" (Hindi)"}),i.jsx($r,{value:"mr",children:" (Marathi)"}),i.jsx($r,{value:"gu",children:" (Gujarati)"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Timezone"}),i.jsxs(Ml,{value:h.timezone,onValueChange:P=>f(S=>({...S,timezone:P})),children:[i.jsx(To,{children:i.jsx($l,{})}),i.jsxs(Co,{children:[i.jsx($r,{value:"Asia/Kolkata",children:"IST (Asia/Kolkata)"}),i.jsx($r,{value:"Asia/Mumbai",children:"IST (Asia/Mumbai)"}),i.jsx($r,{value:"UTC",children:"UTC"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Currency"}),i.jsxs(Ml,{value:h.currency,onValueChange:P=>f(S=>({...S,currency:P})),children:[i.jsx(To,{className:"w-full sm:w-48",children:i.jsx($l,{})}),i.jsxs(Co,{children:[i.jsx($r,{value:"INR",children:" Indian Rupee (INR)"}),i.jsx($r,{value:"USD",children:"$ US Dollar (USD)"}),i.jsx($r,{value:"EUR",children:" Euro (EUR)"})]})]})]}),i.jsx(Ds,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Danger Zone"}),i.jsx("div",{className:"p-4 border border-destructive/20 rounded-lg bg-destructive/5",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(kt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-destructive mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm sm:text-base font-medium text-destructive",children:"Delete Account"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Permanently delete your account and all associated data. This action cannot be undone."}),i.jsx(G,{variant:"destructive",size:"sm",className:"mt-3 w-full sm:w-auto",onClick:()=>s(!0),children:"Delete My Account"})]})]})})]}),i.jsx("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-2 pt-4",children:i.jsx(G,{className:"w-full sm:w-auto bg-pal-blue hover:bg-pal-blue-dark",onClick:E,disabled:w,children:w?"Saving...":"Save Preferences"})})]})]})}),i.jsx(la,{value:"ai",className:"space-y-4 sm:space-y-6",children:i.jsxs(be,{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[i.jsx(tM,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pal-blue"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"AI Features & Mobile Controls"})]}),i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg flex-shrink-0",children:i.jsx(uue,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Voice Commands"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Use voice to control the app"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 sm:ml-4",children:[i.jsx(Wd,{checked:m.voiceCommands,onCheckedChange:P=>x(S=>({...S,voiceCommands:P}))}),m.voiceCommands&&i.jsxs(G,{size:"sm",variant:m.isRecording?"destructive":"default",onClick:()=>x(P=>({...P,isRecording:!P.isRecording})),className:"ml-2",children:[m.isRecording?i.jsx(n7,{className:"h-4 w-4 mr-1"}):i.jsx(Ao,{className:"h-4 w-4 mr-1"}),m.isRecording?"Stop":"Test"]})]})]}),i.jsx(Ds,{}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg flex-shrink-0",children:i.jsx(eM,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Touch Gestures"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Swipe and tap gestures for navigation"})]})]}),i.jsx(Wd,{checked:m.touchGestures,onCheckedChange:P=>x(S=>({...S,touchGestures:P})),className:"sm:ml-4"})]}),i.jsx(Ds,{}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[i.jsx("div",{className:"p-2 bg-gray-100 rounded-lg flex-shrink-0",children:i.jsx(pf,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-800"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"text-sm sm:text-base font-medium",children:"Mobile Optimization"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Enhanced mobile experience and performance"})]})]}),i.jsx(Wd,{checked:m.mobileOptimization,onCheckedChange:P=>x(S=>({...S,mobileOptimization:P})),className:"sm:ml-4"})]}),i.jsx(Ds,{}),i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[i.jsxs("h4",{className:"text-xs sm:text-sm font-medium text-green-800 mb-3 flex items-center",children:[i.jsx(Ao,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Voice Commands"]}),i.jsxs("ul",{className:"text-xs sm:text-sm text-green-700 space-y-1",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:'"Search for enquiries"'})," - Find requests"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:'"Post new enquiry"'})," - Create new post"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:'"Show dashboard"'})," - Go to dashboard"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:'"Show my responses"'})," - View responses"]})]})]}),i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[i.jsxs("h4",{className:"text-xs sm:text-sm font-medium text-blue-800 mb-3 flex items-center",children:[i.jsx(eM,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Touch Gestures"]}),i.jsxs("ul",{className:"text-xs sm:text-sm text-blue-700 space-y-1",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Swipe left/right:"})," Navigate between items"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Swipe up/down:"})," Refresh/load more"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Long press:"})," Context menu"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Double tap:"})," Quick action"]})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[i.jsxs("h4",{className:"text-xs sm:text-sm font-medium text-slate-800 mb-3 flex items-center",children:[i.jsx(tM,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"AI Status"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-600",children:"Voice Commands"}),i.jsx(Pe,{variant:m.voiceCommands?"default":"secondary",className:"text-xs",children:m.voiceCommands?"Enabled":"Disabled"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-600",children:"Touch Gestures"}),i.jsx(Pe,{variant:m.touchGestures?"default":"secondary",className:"text-xs",children:m.touchGestures?"Enabled":"Disabled"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-600",children:"Mobile Optimization"}),i.jsx(Pe,{variant:m.mobileOptimization?"default":"secondary",className:"text-xs",children:m.mobileOptimization?"Enabled":"Disabled"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-600",children:"Network Status"}),i.jsx(Pe,{variant:"outline",className:"text-xs",children:"Online"})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-2 pt-4",children:[i.jsx(G,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>x({voiceCommands:!0,touchGestures:!0,mobileOptimization:!0,isRecording:!1}),children:"Reset to Default"}),i.jsx(G,{className:"w-full sm:w-auto bg-pal-blue hover:bg-pal-blue-dark",onClick:C,disabled:w,children:w?"Saving...":"Save Settings"})]})]})]})})]})]})}),i.jsx(U2e,{isOpen:n,onClose:()=>s(!1),onConfirm:r,userName:(t==null?void 0:t.displayName)||void 0})]})},z2e=()=>{const t=g.useContext(Ea),e=Zr(),[r,n]=g.useState("all"),[s,a]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(""),[d,h]=g.useState("");if(!t)return i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-4 sm:py-6 px-4",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs(be,{className:"p-8 text-center",children:[i.jsx(Ph,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-gray-500",children:"Notifications not available"})]})})})});const{notifications:f=[],unreadCount:m=0,markAsRead:x,markAsUnread:p,markAllAsRead:v,clearAllNotifications:w}=t,b=r==="unread"?(Array.isArray(f)?f:[]).filter(S=>S&&!S.read):Array.isArray(f)?f:[],j=(S,A)=>{if(!(!S||!x))try{if(x(S),A){let T=A;A.startsWith("/enquiry-responses/")&&(T=`/enquiry/${A.replace("/enquiry-responses/","")}/responses-page`),e(T)}}catch(T){console.error("Failed to handle notification click:",T)}},N=(S,A)=>{if(A.stopPropagation(),!(!S||!p))try{p(S)}catch(T){console.error("Failed to mark notification as unread:",T)}},E=()=>{w&&(u("Delete All Notifications"),h("Are you sure you want to delete all notifications? This action cannot be undone."),l(async()=>{try{await w(),a(!1)}catch(S){console.error("Failed to clear notifications:",S),a(!1)}}),a(!0))},C=()=>{o&&o()},P=()=>{a(!1),l(null)};return i.jsxs(Nt,{children:[i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-3 sm:py-8 px-3 sm:px-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-4 sm:mb-8",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 mb-4 sm:mb-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-9 h-9 sm:w-12 sm:h-12 bg-gray-800 rounded-lg sm:rounded-xl flex items-center justify-center shadow-sm",children:i.jsx(Ph,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900 tracking-tight leading-tight",children:"Notifications"}),i.jsx("p",{className:"text-xs sm:text-base text-gray-600 mt-0.5 font-medium",children:m>0?i.jsxs("span",{className:"text-gray-800",children:[m," unread",m>1?"s":""]}):i.jsx("span",{className:"text-green-600 font-semibold",children:"All caught up!"})})]})]})}),f.length>0&&i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3",children:[m>0&&v&&i.jsxs("button",{onClick:()=>{try{v()}catch(S){console.error("Failed to mark all as read:",S)}},className:"text-[11px] sm:text-sm bg-gray-800 hover:bg-gray-900 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-semibold transition-all duration-200 flex items-center gap-1 shadow-sm hover:shadow-md active:scale-95 touch-manipulation min-h-[36px] sm:min-h-[40px]",children:[i.jsx(xt,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),i.jsx("span",{className:"hidden sm:inline",children:"Mark all read"}),i.jsx("span",{className:"sm:hidden",children:"Read"})]}),i.jsxs("button",{onClick:E,className:"text-[11px] sm:text-sm bg-gray-800 hover:bg-gray-900 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-semibold transition-all duration-200 flex items-center gap-1 shadow-sm hover:shadow-md active:scale-95 touch-manipulation min-h-[36px] sm:min-h-[40px]",children:[i.jsx(ln,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),i.jsx("span",{className:"hidden sm:inline",children:"Clear all"}),i.jsx("span",{className:"sm:hidden",children:"Clear"})]})]})]}),f.length>0&&i.jsxs("div",{className:"flex gap-1.5 sm:gap-3 bg-white rounded-lg sm:rounded-xl p-1 sm:p-1.5 shadow-sm border border-gray-200 w-full sm:w-auto",children:[i.jsxs("button",{onClick:()=>n("all"),className:`text-[11px] sm:text-sm px-3 sm:px-5 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-semibold transition-all duration-200 flex-1 sm:flex-none text-center touch-manipulation min-h-[36px] sm:min-h-[40px] ${r==="all"?"bg-gray-800 text-white shadow-sm":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:["All ",i.jsxs("span",{className:"text-[9px] sm:text-xs opacity-90",children:["(",f.length,")"]})]}),i.jsxs("button",{onClick:()=>n("unread"),className:`text-[11px] sm:text-sm px-3 sm:px-5 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-semibold transition-all duration-200 flex-1 sm:flex-none text-center touch-manipulation min-h-[36px] sm:min-h-[40px] ${r==="unread"?"bg-gray-800 text-white shadow-sm":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:["Unread ",i.jsxs("span",{className:"text-[9px] sm:text-xs opacity-90",children:["(",m,")"]})]})]})]}),b.length===0?i.jsxs(be,{className:"p-6 sm:p-16 text-center bg-white shadow-sm border border-gray-200",children:[i.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:i.jsx(Ph,{className:"w-8 h-8 sm:w-12 sm:h-12 text-gray-400"})}),i.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3 tracking-tight",children:r==="unread"?"No unread notifications":"No notifications yet"}),i.jsx("p",{className:"text-xs sm:text-base text-gray-600 mb-6 sm:mb-8 max-w-md mx-auto leading-relaxed px-2",children:r==="unread"?"You're all caught up! Check back later for new updates.":"When you get notifications, they'll appear here."}),r==="unread"&&f.length>0&&i.jsx("button",{onClick:()=>n("all"),className:"bg-gray-800 hover:bg-gray-900 text-white px-5 sm:px-6 py-2 sm:py-2.5 rounded-lg font-semibold text-xs sm:text-sm transition-all duration-200 shadow-sm hover:shadow-md active:scale-95 touch-manipulation min-h-[36px]",children:"View all notifications"})]}):i.jsx("div",{className:"space-y-2.5 sm:space-y-4",children:b.map(S=>!S||!S.id?null:i.jsx(be,{onClick:()=>j(S.id,S.actionUrl),className:`group p-3 sm:p-5 cursor-pointer transition-all duration-200 border touch-manipulation active:scale-[0.98] ${S.read?"bg-white border-gray-200 hover:shadow-md hover:border-gray-300":"bg-gray-800/5 border-gray-800/20 shadow-sm hover:shadow-md hover:border-gray-800/30"}`,children:i.jsxs("div",{className:"flex gap-2.5 sm:gap-4",children:[i.jsx("div",{className:`flex-shrink-0 w-10 h-10 sm:w-14 sm:h-14 rounded-lg sm:rounded-xl flex items-center justify-center shadow-sm ${S.type==="admin_approval"?"bg-green-50 border-2 border-green-200":S.type==="new_response"||S.type==="new_chat"?"bg-gray-800/10 border-2 border-gray-800/20":S.type==="enquiry_update"?"bg-yellow-50 border-2 border-yellow-200":S.type==="achievement"?"bg-green-50 border-2 border-green-200":(S.type==="system"||S.type==="reminder","bg-gray-800/10 border-2 border-gray-800/20")}`,children:i.jsx(Gs,{className:`w-5 h-5 sm:w-7 sm:h-7 ${S.type==="admin_approval"?"text-green-600":S.type==="new_response"||S.type==="new_chat"?"text-gray-800":S.type==="enquiry_update"?"text-yellow-600":S.type==="achievement"?"text-green-600":(S.type==="system"||S.type==="reminder","text-gray-800")}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-3 mb-1.5 sm:mb-2",children:[i.jsx("h3",{className:"text-sm sm:text-lg font-bold text-gray-900 line-clamp-2 leading-tight tracking-tight flex-1",children:S.title||"Notification"}),i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:[!S.read&&i.jsx("div",{className:"flex-shrink-0 w-2 h-2 sm:w-2.5 sm:h-2.5 bg-gray-800 rounded-full mt-1 sm:mt-1.5 animate-pulse"}),S.read&&i.jsx("button",{onClick:A=>N(S.id,A),className:"p-1.5 sm:p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Mark as unread",children:i.jsx(Xa,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 hover:text-gray-700"})})]})]}),i.jsx("p",{className:"text-xs sm:text-base text-gray-600 mb-2 sm:mb-3 line-clamp-2 leading-relaxed",children:S.message||"No message"}),i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3 flex-wrap",children:[i.jsx("span",{className:"text-[10px] sm:text-sm text-gray-500 font-medium",children:S.timestamp?PH(new Date(S.timestamp),{addSuffix:!0}):"Just now"}),S.priority&&i.jsx("span",{className:`text-[9px] sm:text-xs px-1.5 sm:px-2 py-0.5 rounded-full font-semibold ${S.priority==="urgent"?"bg-red-100 text-red-700":S.priority==="high"?"bg-gray-800 text-white":S.priority==="medium"?"bg-gray-600 text-white":"bg-gray-400 text-white"}`,children:S.priority}),S.read&&i.jsx("span",{className:"text-[9px] sm:text-xs px-1.5 sm:px-2 py-0.5 rounded-full bg-gray-100 text-gray-600 font-medium",children:"Read"})]})]})]})},S.id))})]})}),s&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998] transition-opacity duration-200",onClick:P}),i.jsx("div",{className:"fixed inset-x-0 bottom-0 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 z-[9999] transition-all duration-300",children:i.jsxs(be,{className:"mx-3 sm:mx-auto sm:w-[400px] bg-white shadow-2xl border border-gray-200 rounded-t-2xl sm:rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:i.jsx(kt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})}),i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white",children:c})]}),i.jsx("button",{onClick:P,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg hover:bg-white/10 transition-colors flex items-center justify-center touch-manipulation",children:i.jsx(rn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsx("p",{className:"text-sm sm:text-base text-gray-700 leading-relaxed mb-6 sm:mb-8",children:d}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3",children:[i.jsx("button",{onClick:P,className:"flex-1 px-4 py-2.5 sm:py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-semibold text-sm sm:text-base hover:bg-gray-50 transition-colors touch-manipulation min-h-[44px] active:scale-95",children:"Cancel"}),i.jsx("button",{onClick:C,className:"flex-1 px-4 py-2.5 sm:py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg font-semibold text-sm sm:text-base transition-colors touch-manipulation min-h-[44px] active:scale-95 shadow-sm",children:"Confirm"})]})]})]})})]})]})},W2e=()=>{const t=ul(),e=Zr();return g.useEffect(()=>{const r=t.pathname;if(r.startsWith("/enquiry-responses/")){const n=r.replace("/enquiry-responses/","");if(n){e(`/enquiry/${n}/responses-page`,{replace:!0});return}}r.includes("enquiry-responses")||console.warn("404: Route not found:",r)},[t.pathname,e]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("button",{onClick:()=>e("/"),className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var H2e=Array.isArray,Ys=H2e,G2e=typeof l0=="object"&&l0&&l0.Object===Object&&l0,vK=G2e,K2e=vK,Y2e=typeof self=="object"&&self&&self.Object===Object&&self,Q2e=K2e||Y2e||Function("return this")(),fo=Q2e,X2e=fo,J2e=X2e.Symbol,Oy=J2e,w4=Oy,bK=Object.prototype,Z2e=bK.hasOwnProperty,eSe=bK.toString,mp=w4?w4.toStringTag:void 0;function tSe(t){var e=Z2e.call(t,mp),r=t[mp];try{t[mp]=void 0;var n=!0}catch{}var s=eSe.call(t);return n&&(e?t[mp]=r:delete t[mp]),s}var rSe=tSe,nSe=Object.prototype,sSe=nSe.toString;function iSe(t){return sSe.call(t)}var aSe=iSe,j4=Oy,oSe=rSe,lSe=aSe,cSe="[object Null]",uSe="[object Undefined]",N4=j4?j4.toStringTag:void 0;function dSe(t){return t==null?t===void 0?uSe:cSe:N4&&N4 in Object(t)?oSe(t):lSe(t)}var dl=dSe;function hSe(t){return t!=null&&typeof t=="object"}var hl=hSe,fSe=dl,mSe=hl,pSe="[object Symbol]";function gSe(t){return typeof t=="symbol"||mSe(t)&&fSe(t)==pSe}var Em=gSe,xSe=Ys,ySe=Em,vSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bSe=/^\w*$/;function wSe(t,e){if(xSe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||ySe(t)?!0:bSe.test(t)||!vSe.test(t)||e!=null&&t in Object(e)}var SI=wSe;function jSe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zc=jSe;const Pm=Qt(zc);var NSe=dl,SSe=zc,ESe="[object AsyncFunction]",PSe="[object Function]",_Se="[object GeneratorFunction]",ASe="[object Proxy]";function TSe(t){if(!SSe(t))return!1;var e=NSe(t);return e==PSe||e==_Se||e==ESe||e==ASe}var EI=TSe;const ft=Qt(EI);var CSe=fo,kSe=CSe["__core-js_shared__"],ISe=kSe,pS=ISe,S4=function(){var t=/[^.]+$/.exec(pS&&pS.keys&&pS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function RSe(t){return!!S4&&S4 in t}var OSe=RSe,DSe=Function.prototype,MSe=DSe.toString;function $Se(t){if(t!=null){try{return MSe.call(t)}catch{}try{return t+""}catch{}}return""}var wK=$Se,LSe=EI,FSe=OSe,VSe=zc,BSe=wK,USe=/[\\^$.*+?()[\]{}|]/g,qSe=/^\[object .+?Constructor\]$/,zSe=Function.prototype,WSe=Object.prototype,HSe=zSe.toString,GSe=WSe.hasOwnProperty,KSe=RegExp("^"+HSe.call(GSe).replace(USe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function YSe(t){if(!VSe(t)||FSe(t))return!1;var e=LSe(t)?KSe:qSe;return e.test(BSe(t))}var QSe=YSe;function XSe(t,e){return t==null?void 0:t[e]}var JSe=XSe,ZSe=QSe,eEe=JSe;function tEe(t,e){var r=eEe(t,e);return ZSe(r)?r:void 0}var Nd=tEe,rEe=Nd,nEe=rEe(Object,"create"),kj=nEe,E4=kj;function sEe(){this.__data__=E4?E4(null):{},this.size=0}var iEe=sEe;function aEe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var oEe=aEe,lEe=kj,cEe="__lodash_hash_undefined__",uEe=Object.prototype,dEe=uEe.hasOwnProperty;function hEe(t){var e=this.__data__;if(lEe){var r=e[t];return r===cEe?void 0:r}return dEe.call(e,t)?e[t]:void 0}var fEe=hEe,mEe=kj,pEe=Object.prototype,gEe=pEe.hasOwnProperty;function xEe(t){var e=this.__data__;return mEe?e[t]!==void 0:gEe.call(e,t)}var yEe=xEe,vEe=kj,bEe="__lodash_hash_undefined__";function wEe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=vEe&&e===void 0?bEe:e,this}var jEe=wEe,NEe=iEe,SEe=oEe,EEe=fEe,PEe=yEe,_Ee=jEe;function _m(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_m.prototype.clear=NEe;_m.prototype.delete=SEe;_m.prototype.get=EEe;_m.prototype.has=PEe;_m.prototype.set=_Ee;var AEe=_m;function TEe(){this.__data__=[],this.size=0}var CEe=TEe;function kEe(t,e){return t===e||t!==t&&e!==e}var PI=kEe,IEe=PI;function REe(t,e){for(var r=t.length;r--;)if(IEe(t[r][0],e))return r;return-1}var Ij=REe,OEe=Ij,DEe=Array.prototype,MEe=DEe.splice;function $Ee(t){var e=this.__data__,r=OEe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():MEe.call(e,r,1),--this.size,!0}var LEe=$Ee,FEe=Ij;function VEe(t){var e=this.__data__,r=FEe(e,t);return r<0?void 0:e[r][1]}var BEe=VEe,UEe=Ij;function qEe(t){return UEe(this.__data__,t)>-1}var zEe=qEe,WEe=Ij;function HEe(t,e){var r=this.__data__,n=WEe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var GEe=HEe,KEe=CEe,YEe=LEe,QEe=BEe,XEe=zEe,JEe=GEe;function Am(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Am.prototype.clear=KEe;Am.prototype.delete=YEe;Am.prototype.get=QEe;Am.prototype.has=XEe;Am.prototype.set=JEe;var Rj=Am,ZEe=Nd,ePe=fo,tPe=ZEe(ePe,"Map"),_I=tPe,P4=AEe,rPe=Rj,nPe=_I;function sPe(){this.size=0,this.__data__={hash:new P4,map:new(nPe||rPe),string:new P4}}var iPe=sPe;function aPe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var oPe=aPe,lPe=oPe;function cPe(t,e){var r=t.__data__;return lPe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Oj=cPe,uPe=Oj;function dPe(t){var e=uPe(this,t).delete(t);return this.size-=e?1:0,e}var hPe=dPe,fPe=Oj;function mPe(t){return fPe(this,t).get(t)}var pPe=mPe,gPe=Oj;function xPe(t){return gPe(this,t).has(t)}var yPe=xPe,vPe=Oj;function bPe(t,e){var r=vPe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var wPe=bPe,jPe=iPe,NPe=hPe,SPe=pPe,EPe=yPe,PPe=wPe;function Tm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Tm.prototype.clear=jPe;Tm.prototype.delete=NPe;Tm.prototype.get=SPe;Tm.prototype.has=EPe;Tm.prototype.set=PPe;var AI=Tm,jK=AI,_Pe="Expected a function";function TI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(_Pe);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=t.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(TI.Cache||jK),r}TI.Cache=jK;var NK=TI;const APe=Qt(NK);var TPe=NK,CPe=500;function kPe(t){var e=TPe(t,function(n){return r.size===CPe&&r.clear(),n}),r=e.cache;return e}var IPe=kPe,RPe=IPe,OPe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DPe=/\\(\\)?/g,MPe=RPe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(OPe,function(r,n,s,a){e.push(s?a.replace(DPe,"$1"):n||r)}),e}),$Pe=MPe;function LPe(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var CI=LPe,_4=Oy,FPe=CI,VPe=Ys,BPe=Em,UPe=1/0,A4=_4?_4.prototype:void 0,T4=A4?A4.toString:void 0;function SK(t){if(typeof t=="string")return t;if(VPe(t))return FPe(t,SK)+"";if(BPe(t))return T4?T4.call(t):"";var e=t+"";return e=="0"&&1/t==-UPe?"-0":e}var qPe=SK,zPe=qPe;function WPe(t){return t==null?"":zPe(t)}var EK=WPe,HPe=Ys,GPe=SI,KPe=$Pe,YPe=EK;function QPe(t,e){return HPe(t)?t:GPe(t,e)?[t]:KPe(YPe(t))}var PK=QPe,XPe=Em,JPe=1/0;function ZPe(t){if(typeof t=="string"||XPe(t))return t;var e=t+"";return e=="0"&&1/t==-JPe?"-0":e}var Dj=ZPe,e_e=PK,t_e=Dj;function r_e(t,e){e=e_e(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[t_e(e[r++])];return r&&r==n?t:void 0}var kI=r_e,n_e=kI;function s_e(t,e,r){var n=t==null?void 0:n_e(t,e);return n===void 0?r:n}var _K=s_e;const fi=Qt(_K);function i_e(t){return t==null}var a_e=i_e;const St=Qt(a_e);var o_e=dl,l_e=Ys,c_e=hl,u_e="[object String]";function d_e(t){return typeof t=="string"||!l_e(t)&&c_e(t)&&o_e(t)==u_e}var h_e=d_e;const Dy=Qt(h_e);var AK={exports:{}},tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II=Symbol.for("react.element"),RI=Symbol.for("react.portal"),Mj=Symbol.for("react.fragment"),$j=Symbol.for("react.strict_mode"),Lj=Symbol.for("react.profiler"),Fj=Symbol.for("react.provider"),Vj=Symbol.for("react.context"),f_e=Symbol.for("react.server_context"),Bj=Symbol.for("react.forward_ref"),Uj=Symbol.for("react.suspense"),qj=Symbol.for("react.suspense_list"),zj=Symbol.for("react.memo"),Wj=Symbol.for("react.lazy"),m_e=Symbol.for("react.offscreen"),TK;TK=Symbol.for("react.module.reference");function Wi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case II:switch(t=t.type,t){case Mj:case Lj:case $j:case Uj:case qj:return t;default:switch(t=t&&t.$$typeof,t){case f_e:case Vj:case Bj:case Wj:case zj:case Fj:return t;default:return e}}case RI:return e}}}tr.ContextConsumer=Vj;tr.ContextProvider=Fj;tr.Element=II;tr.ForwardRef=Bj;tr.Fragment=Mj;tr.Lazy=Wj;tr.Memo=zj;tr.Portal=RI;tr.Profiler=Lj;tr.StrictMode=$j;tr.Suspense=Uj;tr.SuspenseList=qj;tr.isAsyncMode=function(){return!1};tr.isConcurrentMode=function(){return!1};tr.isContextConsumer=function(t){return Wi(t)===Vj};tr.isContextProvider=function(t){return Wi(t)===Fj};tr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===II};tr.isForwardRef=function(t){return Wi(t)===Bj};tr.isFragment=function(t){return Wi(t)===Mj};tr.isLazy=function(t){return Wi(t)===Wj};tr.isMemo=function(t){return Wi(t)===zj};tr.isPortal=function(t){return Wi(t)===RI};tr.isProfiler=function(t){return Wi(t)===Lj};tr.isStrictMode=function(t){return Wi(t)===$j};tr.isSuspense=function(t){return Wi(t)===Uj};tr.isSuspenseList=function(t){return Wi(t)===qj};tr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mj||t===Lj||t===$j||t===Uj||t===qj||t===m_e||typeof t=="object"&&t!==null&&(t.$$typeof===Wj||t.$$typeof===zj||t.$$typeof===Fj||t.$$typeof===Vj||t.$$typeof===Bj||t.$$typeof===TK||t.getModuleId!==void 0)};tr.typeOf=Wi;AK.exports=tr;var CK=AK.exports,p_e=dl,g_e=hl,x_e="[object Number]";function y_e(t){return typeof t=="number"||g_e(t)&&p_e(t)==x_e}var kK=y_e;const v_e=Qt(kK);var b_e=kK;function w_e(t){return b_e(t)&&t!=+t}var j_e=w_e;const Cm=Qt(j_e);var js=function(e){return e===0?0:e>0?1:-1},Nu=function(e){return Dy(e)&&e.indexOf("%")===e.length-1},De=function(e){return v_e(e)&&!Cm(e)},Pn=function(e){return De(e)||Dy(e)},N_e=0,km=function(e){var r=++N_e;return"".concat(e||"").concat(r)},Ns=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&!Dy(e))return n;var a;if(Nu(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Cm(a)&&(a=n),s&&a>r&&(a=r),a},Ll=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},S_e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},$s=function(e,r){return De(e)&&De(r)?function(n){return e+n*(r-e)}:function(){return r}};function Zb(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):fi(n,e))===r})}function Oh(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function h_(t){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h_(t)}var E_e=["viewBox","children"],P_e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],C4=["points","pathLength"],gS={svg:E_e,polygon:C4,polyline:C4},OI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ew=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),!Pm(n))return null;var s={};return Object.keys(n).forEach(function(a){OI.includes(a)&&(s[a]=r||function(o){return n[a](n,o)})}),s},__e=function(e,r,n){return function(s){return e(r,n,s),null}},ld=function(e,r,n){if(!Pm(e)||h_(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(a){var o=e[a];OI.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=__e(o,r,n))}),s},A_e=["children"],T_e=["children"];function k4(t,e){if(t==null)return{};var r=C_e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}var I4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Bo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},R4=null,xS=null,DI=function t(e){if(e===R4&&Array.isArray(xS))return xS;var r=[];return g.Children.forEach(e,function(n){St(n)||(CK.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),xS=r,R4=e,r};function Vi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return Bo(s)}):n=[Bo(e)],DI(t).forEach(function(s){var a=fi(s,"type.displayName")||fi(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function ni(t,e){var r=Vi(t,e);return r&&r[0]}var O4=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!De(n)||n<=0||!De(s)||s<=0)},k_e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],I_e=function(e){return e&&e.type&&Dy(e.type)&&k_e.indexOf(e.type)>=0},R_e=function(e){return e&&f_(e)==="object"&&"clipDot"in e},O_e=function(e,r,n,s){var a,o=(a=gS==null?void 0:gS[s])!==null&&a!==void 0?a:[];return!ft(e)&&(s&&o.includes(r)||P_e.includes(r))||n&&OI.includes(r)},st=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(g.isValidElement(e)&&(s=e.props),!Pm(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;O_e((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=s[o])}),a},m_=function t(e,r){if(e===r)return!0;var n=g.Children.count(e);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return D4(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=e[s],o=r[s];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!D4(a,o))return!1}return!0},D4=function(e,r){if(St(e)&&St(r))return!0;if(!St(e)&&!St(r)){var n=e.props||{},s=n.children,a=k4(n,A_e),o=r.props||{},l=o.children,c=k4(o,T_e);return s&&l?Oh(a,c)&&m_(s,l):!s&&!l?Oh(a,c):!1}return!1},M4=function(e,r){var n=[],s={};return DI(e).forEach(function(a,o){if(I_e(a))n.push(a);else if(a){var l=Bo(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var h=u(a,l,o);n.push(h),s[l]=!0}}}),n},D_e=function(e){var r=e&&e.type;return r&&I4[r]?I4[r]:null},M_e=function(e,r){return DI(r).indexOf(e)},$_e=["children","width","height","viewBox","className","style","title","desc"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p_.apply(this,arguments)}function L_e(t,e){if(t==null)return{};var r=F_e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g_(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=L_e(t,$_e),d=s||{width:r,height:n,x:0,y:0},h=Et("recharts-surface",a);return V.createElement("svg",p_({},st(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),V.createElement("title",null,l),V.createElement("desc",null,c),e)}var V_e=["children","className"];function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x_.apply(this,arguments)}function B_e(t,e){if(t==null)return{};var r=U_e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ut=V.forwardRef(function(t,e){var r=t.children,n=t.className,s=B_e(t,V_e),a=Et("recharts-layer",n);return V.createElement("g",x_({className:a},st(s,!0),{ref:e}),r)}),xa=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function q_e(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(s);++n<s;)a[n]=t[n+e];return a}var z_e=q_e,W_e=z_e;function H_e(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:W_e(t,e,r)}var G_e=H_e,K_e="\\ud800-\\udfff",Y_e="\\u0300-\\u036f",Q_e="\\ufe20-\\ufe2f",X_e="\\u20d0-\\u20ff",J_e=Y_e+Q_e+X_e,Z_e="\\ufe0e\\ufe0f",eAe="\\u200d",tAe=RegExp("["+eAe+K_e+J_e+Z_e+"]");function rAe(t){return tAe.test(t)}var IK=rAe;function nAe(t){return t.split("")}var sAe=nAe,RK="\\ud800-\\udfff",iAe="\\u0300-\\u036f",aAe="\\ufe20-\\ufe2f",oAe="\\u20d0-\\u20ff",lAe=iAe+aAe+oAe,cAe="\\ufe0e\\ufe0f",uAe="["+RK+"]",y_="["+lAe+"]",v_="\\ud83c[\\udffb-\\udfff]",dAe="(?:"+y_+"|"+v_+")",OK="[^"+RK+"]",DK="(?:\\ud83c[\\udde6-\\uddff]){2}",MK="[\\ud800-\\udbff][\\udc00-\\udfff]",hAe="\\u200d",$K=dAe+"?",LK="["+cAe+"]?",fAe="(?:"+hAe+"(?:"+[OK,DK,MK].join("|")+")"+LK+$K+")*",mAe=LK+$K+fAe,pAe="(?:"+[OK+y_+"?",y_,DK,MK,uAe].join("|")+")",gAe=RegExp(v_+"(?="+v_+")|"+pAe+mAe,"g");function xAe(t){return t.match(gAe)||[]}var yAe=xAe,vAe=sAe,bAe=IK,wAe=yAe;function jAe(t){return bAe(t)?wAe(t):vAe(t)}var NAe=jAe,SAe=G_e,EAe=IK,PAe=NAe,_Ae=EK;function AAe(t){return function(e){e=_Ae(e);var r=EAe(e)?PAe(e):void 0,n=r?r[0]:e.charAt(0),s=r?SAe(r,1).join(""):e.slice(1);return n[t]()+s}}var TAe=AAe,CAe=TAe,kAe=CAe("toUpperCase"),IAe=kAe;const Hj=Qt(IAe);function mr(t){return function(){return t}}const FK=Math.cos,tw=Math.sin,Aa=Math.sqrt,rw=Math.PI,Gj=2*rw,b_=Math.PI,w_=2*b_,uu=1e-6,RAe=w_-uu;function VK(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function OAe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return VK;const r=10**e;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class DAe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?VK:OAe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,a,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,s,a){if(e=+e,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=s-r,d=o-e,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>uu)if(!(Math.abs(h*c-u*d)>uu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-o,x=s-l,p=c*c+u*u,v=m*m+x*x,w=Math.sqrt(p),b=Math.sqrt(f),j=a*Math.tan((b_-Math.acos((p+f-v)/(2*w*b)))/2),N=j/b,E=j/w;Math.abs(N-1)>uu&&this._append`L${e+N*d},${r+N*h}`,this._append`A${a},${a},0,0,${+(h*m>d*x)},${this._x1=e+E*c},${this._y1=r+E*u}`}}arc(e,r,n,s,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=e+l,d=r+c,h=1^o,f=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>uu||Math.abs(this._y1-d)>uu)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%w_+w_),f>RAe?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>uu&&this._append`A${n},${n},0,${+(f>=b_)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function MI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new DAe(e)}function $I(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function BK(t){this._context=t}BK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kj(t){return new BK(t)}function UK(t){return t[0]}function qK(t){return t[1]}function zK(t,e){var r=mr(!0),n=null,s=Kj,a=null,o=MI(l);t=typeof t=="function"?t:t===void 0?UK:mr(t),e=typeof e=="function"?e:e===void 0?qK:mr(e);function l(c){var u,d=(c=$I(c)).length,h,f=!1,m;for(n==null&&(a=s(m=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,u,c),+e(h,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:mr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:mr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:mr(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function H0(t,e,r){var n=null,s=mr(!0),a=null,o=Kj,l=null,c=MI(u);t=typeof t=="function"?t:t===void 0?UK:mr(+t),e=typeof e=="function"?e:mr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?qK:mr(+r);function u(h){var f,m,x,p=(h=$I(h)).length,v,w=!1,b,j=new Array(p),N=new Array(p);for(a==null&&(l=o(b=c())),f=0;f<=p;++f){if(!(f<p&&s(v=h[f],f,h))===w)if(w=!w)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=f-1;x>=m;--x)l.point(j[x],N[x]);l.lineEnd(),l.areaEnd()}w&&(j[f]=+t(v,f,h),N[f]=+e(v,f,h),l.point(n?+n(v,f,h):j[f],r?+r(v,f,h):N[f]))}if(b)return l=null,b+""||null}function d(){return zK().defined(s).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:mr(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:mr(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:mr(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:mr(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:mr(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:mr(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(s=typeof h=="function"?h:mr(!!h),u):s},u.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),u):a},u}class WK{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function MAe(t){return new WK(t,!0)}function $Ae(t){return new WK(t,!1)}const LI={draw(t,e){const r=Aa(e/rw);t.moveTo(r,0),t.arc(0,0,r,0,Gj)}},LAe={draw(t,e){const r=Aa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},HK=Aa(1/3),FAe=HK*2,VAe={draw(t,e){const r=Aa(e/FAe),n=r*HK;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},BAe={draw(t,e){const r=Aa(e),n=-r/2;t.rect(n,n,r,r)}},UAe=.8908130915292852,GK=tw(rw/10)/tw(7*rw/10),qAe=tw(Gj/10)*GK,zAe=-FK(Gj/10)*GK,WAe={draw(t,e){const r=Aa(e*UAe),n=qAe*r,s=zAe*r;t.moveTo(0,-r),t.lineTo(n,s);for(let a=1;a<5;++a){const o=Gj*a/5,l=FK(o),c=tw(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},yS=Aa(3),HAe={draw(t,e){const r=-Aa(e/(yS*3));t.moveTo(0,r*2),t.lineTo(-yS*r,-r),t.lineTo(yS*r,-r),t.closePath()}},Ni=-.5,Si=Aa(3)/2,j_=1/Aa(12),GAe=(j_/2+1)*3,KAe={draw(t,e){const r=Aa(e/GAe),n=r/2,s=r*j_,a=n,o=r*j_+r,l=-a,c=o;t.moveTo(n,s),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Ni*n-Si*s,Si*n+Ni*s),t.lineTo(Ni*a-Si*o,Si*a+Ni*o),t.lineTo(Ni*l-Si*c,Si*l+Ni*c),t.lineTo(Ni*n+Si*s,Ni*s-Si*n),t.lineTo(Ni*a+Si*o,Ni*o-Si*a),t.lineTo(Ni*l+Si*c,Ni*c-Si*l),t.closePath()}};function YAe(t,e){let r=null,n=MI(s);t=typeof t=="function"?t:mr(t||LI),e=typeof e=="function"?e:mr(e===void 0?64:+e);function s(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(t=typeof a=="function"?a:mr(a),s):t},s.size=function(a){return arguments.length?(e=typeof a=="function"?a:mr(+a),s):e},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function nw(){}function sw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function KK(t){this._context=t}KK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QAe(t){return new KK(t)}function YK(t){this._context=t}YK.prototype={areaStart:nw,areaEnd:nw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XAe(t){return new YK(t)}function QK(t){this._context=t}QK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JAe(t){return new QK(t)}function XK(t){this._context=t}XK.prototype={areaStart:nw,areaEnd:nw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ZAe(t){return new XK(t)}function $4(t){return t<0?-1:1}function L4(t,e,r){var n=t._x1-t._x0,s=e-t._x1,a=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(a*s+o*n)/(n+s);return($4(a)+$4(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function F4(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function vS(t,e,r){var n=t._x0,s=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,s+l*e,a-l,o-l*r,a,o)}function iw(t){this._context=t}iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vS(this,this._t0,F4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vS(this,F4(this,r=L4(this,t,e)),r);break;default:vS(this,this._t0,r=L4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function JK(t){this._context=new ZK(t)}(JK.prototype=Object.create(iw.prototype)).point=function(t,e){iw.prototype.point.call(this,e,t)};function ZK(t){this._context=t}ZK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,a){this._context.bezierCurveTo(e,t,n,r,a,s)}};function eTe(t){return new iw(t)}function tTe(t){return new JK(t)}function eY(t){this._context=t}eY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=V4(t),s=V4(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function V4(t){var e,r=t.length-1,n,s=new Array(r),a=new Array(r),o=new Array(r);for(s[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/a[e];for(a[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-s[e+1];return[s,a]}function rTe(t){return new eY(t)}function Yj(t,e){this._context=t,this._t=e}Yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function nTe(t){return new Yj(t,.5)}function sTe(t){return new Yj(t,0)}function iTe(t){return new Yj(t,1)}function Pf(t,e){if((o=t.length)>1)for(var r=1,n,s,a=t[e[0]],o,l=a.length;r<o;++r)for(s=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function N_(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function aTe(t,e){return t[e]}function oTe(t){const e=[];return e.key=t,e}function lTe(){var t=mr([]),e=N_,r=Pf,n=aTe;function s(a){var o=Array.from(t.apply(this,arguments),oTe),l,c=o.length,u=-1,d;for(const h of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,a)]).data=h;for(l=0,d=$I(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(a){return arguments.length?(t=typeof a=="function"?a:mr(Array.from(a)),s):t},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:mr(+a),s):n},s.order=function(a){return arguments.length?(e=a==null?N_:typeof a=="function"?a:mr(Array.from(a)),s):e},s.offset=function(a){return arguments.length?(r=a??Pf,s):r},s}function cTe(t,e){if((n=t.length)>0){for(var r,n,s=0,a=t[0].length,o;s<a;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}Pf(t,e)}}function uTe(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,a=n.length;r<a;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Pf(t,e)}}function dTe(t,e){if(!(!((o=t.length)>0)||!((a=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],h=d[n][1]||0,f=d[n-1][1]||0,m=(h-f)/2,x=0;x<l;++x){var p=t[e[x]],v=p[n][1]||0,w=p[n-1][1]||0;m+=v-w}c+=h,u+=m*h}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Pf(t,e)}}function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}var hTe=["type","size","sizeType"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S_.apply(this,arguments)}function B4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function U4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(r),!0).forEach(function(n){fTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fTe(t,e,r){return e=mTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mTe(t){var e=pTe(t,"string");return ux(e)=="symbol"?e:e+""}function pTe(t,e){if(ux(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gTe(t,e){if(t==null)return{};var r=xTe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var tY={symbolCircle:LI,symbolCross:LAe,symbolDiamond:VAe,symbolSquare:BAe,symbolStar:WAe,symbolTriangle:HAe,symbolWye:KAe},yTe=Math.PI/180,vTe=function(e){var r="symbol".concat(Hj(e));return tY[r]||LI},bTe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*yTe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wTe=function(e,r){tY["symbol".concat(Hj(e))]=r},FI=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,a=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=gTe(e,hTe),u=U4(U4({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=vTe(n),w=YAe().type(v).size(bTe(a,l,n));return w()},h=u.className,f=u.cx,m=u.cy,x=st(u,!0);return f===+f&&m===+m&&a===+a?V.createElement("path",S_({},x,{className:Et("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};FI.registerSymbol=wTe;function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E_.apply(this,arguments)}function q4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jTe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q4(Object(r),!0).forEach(function(n){dx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function STe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nY(n.key),n)}}function ETe(t,e,r){return e&&STe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PTe(t,e,r){return e=aw(e),_Te(t,rY()?Reflect.construct(e,r||[],aw(t).constructor):e.apply(t,r))}function _Te(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ATe(t)}function ATe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rY=function(){return!!t})()}function aw(t){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aw(t)}function TTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},P_(t,e)}function dx(t,e,r){return e=nY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nY(t){var e=CTe(t,"string");return _f(e)=="symbol"?e:e+""}function CTe(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ei=32,VI=function(t){function e(){return NTe(this,e),PTe(this,e,arguments)}return TTe(e,t),ETe(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=Ei/2,o=Ei/6,l=Ei/3,c=n.inactive?s:n.color;if(n.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ei,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ei,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ei/8,"h").concat(Ei,"v").concat(Ei*3/4,"h").concat(-Ei,"z"),className:"recharts-legend-icon"});if(V.isValidElement(n.legendIcon)){var u=jTe({},n);return delete u.legendIcon,V.cloneElement(n.legendIcon,u)}return V.createElement(FI,{fill:c,cx:a,cy:a,size:Ei,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Ei,height:Ei},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,x){var p=m.formatter||c,v=Et(dx(dx({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=ft(m.value)?null:m.value;xa(!ft(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return V.createElement("li",E_({className:v,style:h,key:"legend-item-".concat(x)},ld(n.props,m,x)),V.createElement(g_,{width:o,height:o,viewBox:d,style:f},n.renderIcon(m)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(w,m,x):w))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(g.PureComponent);dx(VI,"displayName","Legend");dx(VI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var kTe=Rj;function ITe(){this.__data__=new kTe,this.size=0}var RTe=ITe;function OTe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var DTe=OTe;function MTe(t){return this.__data__.get(t)}var $Te=MTe;function LTe(t){return this.__data__.has(t)}var FTe=LTe,VTe=Rj,BTe=_I,UTe=AI,qTe=200;function zTe(t,e){var r=this.__data__;if(r instanceof VTe){var n=r.__data__;if(!BTe||n.length<qTe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new UTe(n)}return r.set(t,e),this.size=r.size,this}var WTe=zTe,HTe=Rj,GTe=RTe,KTe=DTe,YTe=$Te,QTe=FTe,XTe=WTe;function Im(t){var e=this.__data__=new HTe(t);this.size=e.size}Im.prototype.clear=GTe;Im.prototype.delete=KTe;Im.prototype.get=YTe;Im.prototype.has=QTe;Im.prototype.set=XTe;var sY=Im,JTe="__lodash_hash_undefined__";function ZTe(t){return this.__data__.set(t,JTe),this}var eCe=ZTe;function tCe(t){return this.__data__.has(t)}var rCe=tCe,nCe=AI,sCe=eCe,iCe=rCe;function ow(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new nCe;++e<r;)this.add(t[e])}ow.prototype.add=ow.prototype.push=sCe;ow.prototype.has=iCe;var iY=ow;function aCe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var aY=aCe;function oCe(t,e){return t.has(e)}var oY=oCe,lCe=iY,cCe=aY,uCe=oY,dCe=1,hCe=2;function fCe(t,e,r,n,s,a){var o=r&dCe,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,m=r&hCe?new lCe:void 0;for(a.set(t,e),a.set(e,t);++h<l;){var x=t[h],p=e[h];if(n)var v=o?n(p,x,h,e,t,a):n(x,p,h,t,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!cCe(e,function(w,b){if(!uCe(m,b)&&(x===w||s(x,w,r,n,a)))return m.push(b)})){f=!1;break}}else if(!(x===p||s(x,p,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var lY=fCe,mCe=fo,pCe=mCe.Uint8Array,gCe=pCe;function xCe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var yCe=xCe;function vCe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var BI=vCe,z4=Oy,W4=gCe,bCe=PI,wCe=lY,jCe=yCe,NCe=BI,SCe=1,ECe=2,PCe="[object Boolean]",_Ce="[object Date]",ACe="[object Error]",TCe="[object Map]",CCe="[object Number]",kCe="[object RegExp]",ICe="[object Set]",RCe="[object String]",OCe="[object Symbol]",DCe="[object ArrayBuffer]",MCe="[object DataView]",H4=z4?z4.prototype:void 0,bS=H4?H4.valueOf:void 0;function $Ce(t,e,r,n,s,a,o){switch(r){case MCe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case DCe:return!(t.byteLength!=e.byteLength||!a(new W4(t),new W4(e)));case PCe:case _Ce:case CCe:return bCe(+t,+e);case ACe:return t.name==e.name&&t.message==e.message;case kCe:case RCe:return t==e+"";case TCe:var l=jCe;case ICe:var c=n&SCe;if(l||(l=NCe),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=ECe,o.set(t,e);var d=wCe(l(t),l(e),n,s,a,o);return o.delete(t),d;case OCe:if(bS)return bS.call(t)==bS.call(e)}return!1}var LCe=$Ce;function FCe(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var cY=FCe,VCe=cY,BCe=Ys;function UCe(t,e,r){var n=e(t);return BCe(t)?n:VCe(n,r(t))}var qCe=UCe;function zCe(t,e){for(var r=-1,n=t==null?0:t.length,s=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[s++]=o)}return a}var WCe=zCe;function HCe(){return[]}var GCe=HCe,KCe=WCe,YCe=GCe,QCe=Object.prototype,XCe=QCe.propertyIsEnumerable,G4=Object.getOwnPropertySymbols,JCe=G4?function(t){return t==null?[]:(t=Object(t),KCe(G4(t),function(e){return XCe.call(t,e)}))}:YCe,ZCe=JCe;function eke(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var tke=eke,rke=dl,nke=hl,ske="[object Arguments]";function ike(t){return nke(t)&&rke(t)==ske}var ake=ike,K4=ake,oke=hl,uY=Object.prototype,lke=uY.hasOwnProperty,cke=uY.propertyIsEnumerable,uke=K4(function(){return arguments}())?K4:function(t){return oke(t)&&lke.call(t,"callee")&&!cke.call(t,"callee")},UI=uke,lw={exports:{}};function dke(){return!1}var hke=dke;lw.exports;(function(t,e){var r=fo,n=hke,s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(lw,lw.exports);var dY=lw.exports,fke=9007199254740991,mke=/^(?:0|[1-9]\d*)$/;function pke(t,e){var r=typeof t;return e=e??fke,!!e&&(r=="number"||r!="symbol"&&mke.test(t))&&t>-1&&t%1==0&&t<e}var qI=pke,gke=9007199254740991;function xke(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gke}var zI=xke,yke=dl,vke=zI,bke=hl,wke="[object Arguments]",jke="[object Array]",Nke="[object Boolean]",Ske="[object Date]",Eke="[object Error]",Pke="[object Function]",_ke="[object Map]",Ake="[object Number]",Tke="[object Object]",Cke="[object RegExp]",kke="[object Set]",Ike="[object String]",Rke="[object WeakMap]",Oke="[object ArrayBuffer]",Dke="[object DataView]",Mke="[object Float32Array]",$ke="[object Float64Array]",Lke="[object Int8Array]",Fke="[object Int16Array]",Vke="[object Int32Array]",Bke="[object Uint8Array]",Uke="[object Uint8ClampedArray]",qke="[object Uint16Array]",zke="[object Uint32Array]",Sr={};Sr[Mke]=Sr[$ke]=Sr[Lke]=Sr[Fke]=Sr[Vke]=Sr[Bke]=Sr[Uke]=Sr[qke]=Sr[zke]=!0;Sr[wke]=Sr[jke]=Sr[Oke]=Sr[Nke]=Sr[Dke]=Sr[Ske]=Sr[Eke]=Sr[Pke]=Sr[_ke]=Sr[Ake]=Sr[Tke]=Sr[Cke]=Sr[kke]=Sr[Ike]=Sr[Rke]=!1;function Wke(t){return bke(t)&&vke(t.length)&&!!Sr[yke(t)]}var Hke=Wke;function Gke(t){return function(e){return t(e)}}var hY=Gke,cw={exports:{}};cw.exports;(function(t,e){var r=vK,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(cw,cw.exports);var Kke=cw.exports,Yke=Hke,Qke=hY,Y4=Kke,Q4=Y4&&Y4.isTypedArray,Xke=Q4?Qke(Q4):Yke,fY=Xke,Jke=tke,Zke=UI,eIe=Ys,tIe=dY,rIe=qI,nIe=fY,sIe=Object.prototype,iIe=sIe.hasOwnProperty;function aIe(t,e){var r=eIe(t),n=!r&&Zke(t),s=!r&&!n&&tIe(t),a=!r&&!n&&!s&&nIe(t),o=r||n||s||a,l=o?Jke(t.length,String):[],c=l.length;for(var u in t)(e||iIe.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rIe(u,c)))&&l.push(u);return l}var oIe=aIe,lIe=Object.prototype;function cIe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||lIe;return t===r}var uIe=cIe;function dIe(t,e){return function(r){return t(e(r))}}var mY=dIe,hIe=mY,fIe=hIe(Object.keys,Object),mIe=fIe,pIe=uIe,gIe=mIe,xIe=Object.prototype,yIe=xIe.hasOwnProperty;function vIe(t){if(!pIe(t))return gIe(t);var e=[];for(var r in Object(t))yIe.call(t,r)&&r!="constructor"&&e.push(r);return e}var bIe=vIe,wIe=EI,jIe=zI;function NIe(t){return t!=null&&jIe(t.length)&&!wIe(t)}var My=NIe,SIe=oIe,EIe=bIe,PIe=My;function _Ie(t){return PIe(t)?SIe(t):EIe(t)}var Qj=_Ie,AIe=qCe,TIe=ZCe,CIe=Qj;function kIe(t){return AIe(t,CIe,TIe)}var IIe=kIe,X4=IIe,RIe=1,OIe=Object.prototype,DIe=OIe.hasOwnProperty;function MIe(t,e,r,n,s,a){var o=r&RIe,l=X4(t),c=l.length,u=X4(e),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in e:DIe.call(e,f)))return!1}var m=a.get(t),x=a.get(e);if(m&&x)return m==e&&x==t;var p=!0;a.set(t,e),a.set(e,t);for(var v=o;++h<c;){f=l[h];var w=t[f],b=e[f];if(n)var j=o?n(b,w,f,e,t,a):n(w,b,f,t,e,a);if(!(j===void 0?w===b||s(w,b,r,n,a):j)){p=!1;break}v||(v=f=="constructor")}if(p&&!v){var N=t.constructor,E=e.constructor;N!=E&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof E=="function"&&E instanceof E)&&(p=!1)}return a.delete(t),a.delete(e),p}var $Ie=MIe,LIe=Nd,FIe=fo,VIe=LIe(FIe,"DataView"),BIe=VIe,UIe=Nd,qIe=fo,zIe=UIe(qIe,"Promise"),WIe=zIe,HIe=Nd,GIe=fo,KIe=HIe(GIe,"Set"),pY=KIe,YIe=Nd,QIe=fo,XIe=YIe(QIe,"WeakMap"),JIe=XIe,__=BIe,A_=_I,T_=WIe,C_=pY,k_=JIe,gY=dl,Rm=wK,J4="[object Map]",ZIe="[object Object]",Z4="[object Promise]",e6="[object Set]",t6="[object WeakMap]",r6="[object DataView]",eRe=Rm(__),tRe=Rm(A_),rRe=Rm(T_),nRe=Rm(C_),sRe=Rm(k_),du=gY;(__&&du(new __(new ArrayBuffer(1)))!=r6||A_&&du(new A_)!=J4||T_&&du(T_.resolve())!=Z4||C_&&du(new C_)!=e6||k_&&du(new k_)!=t6)&&(du=function(t){var e=gY(t),r=e==ZIe?t.constructor:void 0,n=r?Rm(r):"";if(n)switch(n){case eRe:return r6;case tRe:return J4;case rRe:return Z4;case nRe:return e6;case sRe:return t6}return e});var iRe=du,wS=sY,aRe=lY,oRe=LCe,lRe=$Ie,n6=iRe,s6=Ys,i6=dY,cRe=fY,uRe=1,a6="[object Arguments]",o6="[object Array]",G0="[object Object]",dRe=Object.prototype,l6=dRe.hasOwnProperty;function hRe(t,e,r,n,s,a){var o=s6(t),l=s6(e),c=o?o6:n6(t),u=l?o6:n6(e);c=c==a6?G0:c,u=u==a6?G0:u;var d=c==G0,h=u==G0,f=c==u;if(f&&i6(t)){if(!i6(e))return!1;o=!0,d=!1}if(f&&!d)return a||(a=new wS),o||cRe(t)?aRe(t,e,r,n,s,a):oRe(t,e,c,r,n,s,a);if(!(r&uRe)){var m=d&&l6.call(t,"__wrapped__"),x=h&&l6.call(e,"__wrapped__");if(m||x){var p=m?t.value():t,v=x?e.value():e;return a||(a=new wS),s(p,v,r,n,a)}}return f?(a||(a=new wS),lRe(t,e,r,n,s,a)):!1}var fRe=hRe,mRe=fRe,c6=hl;function xY(t,e,r,n,s){return t===e?!0:t==null||e==null||!c6(t)&&!c6(e)?t!==t&&e!==e:mRe(t,e,r,n,xY,s)}var WI=xY,pRe=sY,gRe=WI,xRe=1,yRe=2;function vRe(t,e,r,n){var s=r.length,a=s,o=!n;if(t==null)return!a;for(t=Object(t);s--;){var l=r[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){l=r[s];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var h=new pRe;if(n)var f=n(u,d,c,t,e,h);if(!(f===void 0?gRe(d,u,xRe|yRe,n,h):f))return!1}}return!0}var bRe=vRe,wRe=zc;function jRe(t){return t===t&&!wRe(t)}var yY=jRe,NRe=yY,SRe=Qj;function ERe(t){for(var e=SRe(t),r=e.length;r--;){var n=e[r],s=t[n];e[r]=[n,s,NRe(s)]}return e}var PRe=ERe;function _Re(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var vY=_Re,ARe=bRe,TRe=PRe,CRe=vY;function kRe(t){var e=TRe(t);return e.length==1&&e[0][2]?CRe(e[0][0],e[0][1]):function(r){return r===t||ARe(r,t,e)}}var IRe=kRe;function RRe(t,e){return t!=null&&e in Object(t)}var ORe=RRe,DRe=PK,MRe=UI,$Re=Ys,LRe=qI,FRe=zI,VRe=Dj;function BRe(t,e,r){e=DRe(e,t);for(var n=-1,s=e.length,a=!1;++n<s;){var o=VRe(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=s?a:(s=t==null?0:t.length,!!s&&FRe(s)&&LRe(o,s)&&($Re(t)||MRe(t)))}var URe=BRe,qRe=ORe,zRe=URe;function WRe(t,e){return t!=null&&zRe(t,e,qRe)}var HRe=WRe,GRe=WI,KRe=_K,YRe=HRe,QRe=SI,XRe=yY,JRe=vY,ZRe=Dj,eOe=1,tOe=2;function rOe(t,e){return QRe(t)&&XRe(e)?JRe(ZRe(t),e):function(r){var n=KRe(r,t);return n===void 0&&n===e?YRe(r,t):GRe(e,n,eOe|tOe)}}var nOe=rOe;function sOe(t){return t}var Om=sOe;function iOe(t){return function(e){return e==null?void 0:e[t]}}var aOe=iOe,oOe=kI;function lOe(t){return function(e){return oOe(e,t)}}var cOe=lOe,uOe=aOe,dOe=cOe,hOe=SI,fOe=Dj;function mOe(t){return hOe(t)?uOe(fOe(t)):dOe(t)}var pOe=mOe,gOe=IRe,xOe=nOe,yOe=Om,vOe=Ys,bOe=pOe;function wOe(t){return typeof t=="function"?t:t==null?yOe:typeof t=="object"?vOe(t)?xOe(t[0],t[1]):gOe(t):bOe(t)}var mo=wOe;function jOe(t,e,r,n){for(var s=t.length,a=r+(n?1:-1);n?a--:++a<s;)if(e(t[a],a,t))return a;return-1}var bY=jOe;function NOe(t){return t!==t}var SOe=NOe;function EOe(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}var POe=EOe,_Oe=bY,AOe=SOe,TOe=POe;function COe(t,e,r){return e===e?TOe(t,e,r):_Oe(t,AOe,r)}var kOe=COe,IOe=kOe;function ROe(t,e){var r=t==null?0:t.length;return!!r&&IOe(t,e,0)>-1}var OOe=ROe;function DOe(t,e,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(e,t[n]))return!0;return!1}var MOe=DOe;function $Oe(){}var LOe=$Oe,jS=pY,FOe=LOe,VOe=BI,BOe=1/0,UOe=jS&&1/VOe(new jS([,-0]))[1]==BOe?function(t){return new jS(t)}:FOe,qOe=UOe,zOe=iY,WOe=OOe,HOe=MOe,GOe=oY,KOe=qOe,YOe=BI,QOe=200;function XOe(t,e,r){var n=-1,s=WOe,a=t.length,o=!0,l=[],c=l;if(r)o=!1,s=HOe;else if(a>=QOe){var u=e?null:KOe(t);if(u)return YOe(u);o=!1,s=GOe,c=new zOe}else c=e?[]:l;e:for(;++n<a;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;e&&c.push(h),l.push(d)}else s(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var JOe=XOe,ZOe=mo,eDe=JOe;function tDe(t,e){return t&&t.length?eDe(t,ZOe(e)):[]}var rDe=tDe;const u6=Qt(rDe);function wY(t,e,r){return e===!0?u6(t,r):ft(e)?u6(t,e):t}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}var nDe=["ref"];function d6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(r),!0).forEach(function(n){Xj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NY(n.key),n)}}function iDe(t,e,r){return e&&h6(t.prototype,e),r&&h6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aDe(t,e,r){return e=uw(e),oDe(t,jY()?Reflect.construct(e,r||[],uw(t).constructor):e.apply(t,r))}function oDe(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lDe(t)}function lDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jY=function(){return!!t})()}function uw(t){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uw(t)}function cDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I_(t,e)}function Xj(t,e,r){return e=NY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NY(t){var e=uDe(t,"string");return Af(e)=="symbol"?e:e+""}function uDe(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dDe(t,e){if(t==null)return{};var r=hDe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fDe(t){return t.value}function mDe(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var r=dDe(e,nDe);return V.createElement(VI,r)}var f6=1,Dh=function(t){function e(){var r;sDe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=aDe(this,e,[].concat(s)),Xj(r,"lastBoundingBox",{width:-1,height:-1}),r}return cDe(e,t),iDe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>f6||Math.abs(s.height-this.lastBoundingBox.height)>f6)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();f={top:((d||0)-x.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return wo(wo({},h),f)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,h=wo(wo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){n.wrapperNode=m}},mDe(a,wo(wo({},this.props),{},{payload:wY(d,u,fDe)})))}}],[{key:"getWithHeight",value:function(n,s){var a=wo(wo({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&De(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(g.PureComponent);Xj(Dh,"displayName","Legend");Xj(Dh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var m6=Oy,pDe=UI,gDe=Ys,p6=m6?m6.isConcatSpreadable:void 0;function xDe(t){return gDe(t)||pDe(t)||!!(p6&&t&&t[p6])}var yDe=xDe,vDe=cY,bDe=yDe;function SY(t,e,r,n,s){var a=-1,o=t.length;for(r||(r=bDe),s||(s=[]);++a<o;){var l=t[a];e>0&&r(l)?e>1?SY(l,e-1,r,n,s):vDe(s,l):n||(s[s.length]=l)}return s}var EY=SY;function wDe(t){return function(e,r,n){for(var s=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++s];if(r(a[c],c,a)===!1)break}return e}}var jDe=wDe,NDe=jDe,SDe=NDe(),EDe=SDe,PDe=EDe,_De=Qj;function ADe(t,e){return t&&PDe(t,e,_De)}var PY=ADe,TDe=My;function CDe(t,e){return function(r,n){if(r==null)return r;if(!TDe(r))return t(r,n);for(var s=r.length,a=e?s:-1,o=Object(r);(e?a--:++a<s)&&n(o[a],a,o)!==!1;);return r}}var kDe=CDe,IDe=PY,RDe=kDe,ODe=RDe(IDe),HI=ODe,DDe=HI,MDe=My;function $De(t,e){var r=-1,n=MDe(t)?Array(t.length):[];return DDe(t,function(s,a,o){n[++r]=e(s,a,o)}),n}var _Y=$De;function LDe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var FDe=LDe,g6=Em;function VDe(t,e){if(t!==e){var r=t!==void 0,n=t===null,s=t===t,a=g6(t),o=e!==void 0,l=e===null,c=e===e,u=g6(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&t<e||u&&r&&s&&!n&&!a||l&&r&&s||!o&&s||!c)return-1}return 0}var BDe=VDe,UDe=BDe;function qDe(t,e,r){for(var n=-1,s=t.criteria,a=e.criteria,o=s.length,l=r.length;++n<o;){var c=UDe(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var zDe=qDe,NS=CI,WDe=kI,HDe=mo,GDe=_Y,KDe=FDe,YDe=hY,QDe=zDe,XDe=Om,JDe=Ys;function ZDe(t,e,r){e.length?e=NS(e,function(a){return JDe(a)?function(o){return WDe(o,a.length===1?a[0]:a)}:a}):e=[XDe];var n=-1;e=NS(e,YDe(HDe));var s=GDe(t,function(a,o,l){var c=NS(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return KDe(s,function(a,o){return QDe(a,o,r)})}var e5e=ZDe;function t5e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var r5e=t5e,n5e=r5e,x6=Math.max;function s5e(t,e,r){return e=x6(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,a=x6(n.length-e,0),o=Array(a);++s<a;)o[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(o),n5e(t,this,l)}}var i5e=s5e;function a5e(t){return function(){return t}}var o5e=a5e,l5e=Nd,c5e=function(){try{var t=l5e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),AY=c5e,u5e=o5e,y6=AY,d5e=Om,h5e=y6?function(t,e){return y6(t,"toString",{configurable:!0,enumerable:!1,value:u5e(e),writable:!0})}:d5e,f5e=h5e,m5e=800,p5e=16,g5e=Date.now;function x5e(t){var e=0,r=0;return function(){var n=g5e(),s=p5e-(n-r);if(r=n,s>0){if(++e>=m5e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var y5e=x5e,v5e=f5e,b5e=y5e,w5e=b5e(v5e),j5e=w5e,N5e=Om,S5e=i5e,E5e=j5e;function P5e(t,e){return E5e(S5e(t,e,N5e),t+"")}var _5e=P5e,A5e=PI,T5e=My,C5e=qI,k5e=zc;function I5e(t,e,r){if(!k5e(r))return!1;var n=typeof e;return(n=="number"?T5e(r)&&C5e(e,r.length):n=="string"&&e in r)?A5e(r[e],t):!1}var Jj=I5e,R5e=EY,O5e=e5e,D5e=_5e,v6=Jj,M5e=D5e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&v6(t,e[0],e[1])?e=[]:r>2&&v6(e[0],e[1],e[2])&&(e=[e[0]]),O5e(t,R5e(e,1),[])}),$5e=M5e;const GI=Qt($5e);function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R_.apply(this,arguments)}function L5e(t,e){return U5e(t)||B5e(t,e)||V5e(t,e)||F5e()}function F5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V5e(t,e){if(t){if(typeof t=="string")return b6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b6(t,e)}}function b6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function U5e(t){if(Array.isArray(t))return t}function w6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function SS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(r),!0).forEach(function(n){q5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q5e(t,e,r){return e=z5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z5e(t){var e=W5e(t,"string");return hx(e)=="symbol"?e:e+""}function W5e(t,e){if(hx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H5e(t){return Array.isArray(t)&&Pn(t[0])&&Pn(t[1])?t.join(" ~ "):t}var G5e=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,a=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,f=e.itemSorter,m=e.wrapperClassName,x=e.labelClassName,p=e.label,v=e.labelFormatter,w=e.accessibilityLayer,b=w===void 0?!1:w,j=function(){if(d&&d.length){var _={padding:0,margin:0},I=(f?GI(d,f):d).map(function(M,z){if(M.type==="none")return null;var W=SS({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),B=M.formatter||h||H5e,$=M.value,U=M.name,Y=$,K=U;if(B&&Y!=null&&K!=null){var X=B($,U,M,z,d);if(Array.isArray(X)){var he=L5e(X,2);Y=he[0],K=he[1]}else Y=X}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:W},Pn(K)?V.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Pn(K)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},Y),V.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:_},I)}return null},N=SS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=SS({margin:0},u),C=!St(p),P=C?p:"",S=Et("recharts-default-tooltip",m),A=Et("recharts-tooltip-label",x);C&&v&&d!==void 0&&d!==null&&(P=v(p,d));var T=b?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",R_({className:S,style:N},T),V.createElement("p",{className:A,style:E},V.isValidElement(P)?P:"".concat(P)),j())};function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}function K0(t,e,r){return e=K5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K5e(t){var e=Y5e(t,"string");return fx(e)=="symbol"?e:e+""}function Y5e(t,e){if(fx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pp="recharts-tooltip-wrapper",Q5e={visibility:"hidden"};function X5e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Et(pp,K0(K0(K0(K0({},"".concat(pp,"-right"),De(r)&&e&&De(e.x)&&r>=e.x),"".concat(pp,"-left"),De(r)&&e&&De(e.x)&&r<e.x),"".concat(pp,"-bottom"),De(n)&&e&&De(e.y)&&n>=e.y),"".concat(pp,"-top"),De(n)&&e&&De(e.y)&&n<e.y))}function j6(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&De(a[n]))return a[n];var d=r[n]-l-s,h=r[n]+s;if(e[n])return o[n]?d:h;if(o[n]){var f=d,m=c[n];return f<m?Math.max(h,c[n]):Math.max(d,c[n])}var x=h+l,p=c[n]+u;return x>p?Math.max(d,c[n]):Math.max(h,c[n])}function J5e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Z5e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=j6({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=j6({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=J5e({translateX:d,translateY:h,useTranslate3d:l})):u=Q5e,{cssProperties:u,cssClasses:X5e({translateX:d,translateY:h,coordinate:r})}}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function N6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function S6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(r),!0).forEach(function(n){D_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CY(n.key),n)}}function rMe(t,e,r){return e&&tMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nMe(t,e,r){return e=dw(e),sMe(t,TY()?Reflect.construct(e,r||[],dw(t).constructor):e.apply(t,r))}function sMe(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iMe(t)}function iMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TY=function(){return!!t})()}function dw(t){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dw(t)}function aMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},O_(t,e)}function D_(t,e,r){return e=CY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CY(t){var e=oMe(t,"string");return Tf(e)=="symbol"?e:e+""}function oMe(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E6=1,lMe=function(t){function e(){var r;eMe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=nMe(this,e,[].concat(s)),D_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),D_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return aMe(e,t),rMe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>E6||Math.abs(n.height-this.state.lastBoundingBox.height)>E6)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,h=s.hasPayload,f=s.isAnimationActive,m=s.offset,x=s.position,p=s.reverseDirection,v=s.useTranslate3d,w=s.viewBox,b=s.wrapperStyle,j=Z5e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:w}),N=j.cssClasses,E=j.cssProperties,C=S6(S6({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return V.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(S){n.wrapperNode=S}},u)}}])}(g.PureComponent),cMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},eo={isSsr:cMe(),get:function(e){return eo[e]},set:function(e,r){if(typeof e=="string")eo[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(s){eo[s]=e[s]})}}};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function P6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(r),!0).forEach(function(n){KI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IY(n.key),n)}}function hMe(t,e,r){return e&&dMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fMe(t,e,r){return e=hw(e),mMe(t,kY()?Reflect.construct(e,r||[],hw(t).constructor):e.apply(t,r))}function mMe(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pMe(t)}function pMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kY=function(){return!!t})()}function hw(t){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(t)}function gMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},M_(t,e)}function KI(t,e,r){return e=IY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IY(t){var e=xMe(t,"string");return Cf(e)=="symbol"?e:e+""}function xMe(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yMe(t){return t.dataKey}function vMe(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(G5e,e)}var $a=function(t){function e(){return uMe(this,e),fMe(this,e,arguments)}return gMe(e,t),hMe(e,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,h=s.filterNull,f=s.isAnimationActive,m=s.offset,x=s.payload,p=s.payloadUniqBy,v=s.position,w=s.reverseDirection,b=s.useTranslate3d,j=s.viewBox,N=s.wrapperStyle,E=x??[];h&&E.length&&(E=wY(x.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),p,yMe));var C=E.length>0;return V.createElement(lMe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:d,hasPayload:C,offset:m,position:v,reverseDirection:w,useTranslate3d:b,viewBox:j,wrapperStyle:N},vMe(u,_6(_6({},this.props),{},{payload:E})))}}])}(g.PureComponent);KI($a,"displayName","Tooltip");KI($a,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!eo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bMe=fo,wMe=function(){return bMe.Date.now()},jMe=wMe,NMe=/\s/;function SMe(t){for(var e=t.length;e--&&NMe.test(t.charAt(e)););return e}var EMe=SMe,PMe=EMe,_Me=/^\s+/;function AMe(t){return t&&t.slice(0,PMe(t)+1).replace(_Me,"")}var TMe=AMe,CMe=TMe,A6=zc,kMe=Em,T6=NaN,IMe=/^[-+]0x[0-9a-f]+$/i,RMe=/^0b[01]+$/i,OMe=/^0o[0-7]+$/i,DMe=parseInt;function MMe(t){if(typeof t=="number")return t;if(kMe(t))return T6;if(A6(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=A6(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=CMe(t);var r=RMe.test(t);return r||OMe.test(t)?DMe(t.slice(2),r?2:8):IMe.test(t)?T6:+t}var RY=MMe,$Me=zc,ES=jMe,C6=RY,LMe="Expected a function",FMe=Math.max,VMe=Math.min;function BMe(t,e,r){var n,s,a,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(LMe);e=C6(e)||0,$Me(r)&&(d=!!r.leading,h="maxWait"in r,a=h?FMe(C6(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function m(C){var P=n,S=s;return n=s=void 0,u=C,o=t.apply(S,P),o}function x(C){return u=C,l=setTimeout(w,e),d?m(C):o}function p(C){var P=C-c,S=C-u,A=e-P;return h?VMe(A,a-S):A}function v(C){var P=C-c,S=C-u;return c===void 0||P>=e||P<0||h&&S>=a}function w(){var C=ES();if(v(C))return b(C);l=setTimeout(w,p(C))}function b(C){return l=void 0,f&&n?m(C):(n=s=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function N(){return l===void 0?o:b(ES())}function E(){var C=ES(),P=v(C);if(n=arguments,s=this,c=C,P){if(l===void 0)return x(c);if(h)return clearTimeout(l),l=setTimeout(w,e),m(c)}return l===void 0&&(l=setTimeout(w,e)),o}return E.cancel=j,E.flush=N,E}var UMe=BMe,qMe=UMe,zMe=zc,WMe="Expected a function";function HMe(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(WMe);return zMe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),qMe(t,e,{leading:n,maxWait:e,trailing:s})}var GMe=HMe;const OY=Qt(GMe);function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}function k6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Y0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k6(Object(r),!0).forEach(function(n){KMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KMe(t,e,r){return e=YMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YMe(t){var e=QMe(t,"string");return mx(e)=="symbol"?e:e+""}function QMe(t,e){if(mx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XMe(t,e){return t3e(t)||e3e(t,e)||ZMe(t,e)||JMe()}function JMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZMe(t,e){if(t){if(typeof t=="string")return I6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I6(t,e)}}function I6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function t3e(t){if(Array.isArray(t))return t}var r3e=g.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,m=t.children,x=t.debounce,p=x===void 0?0:x,v=t.id,w=t.className,b=t.onResize,j=t.style,N=j===void 0?{}:j,E=g.useRef(null),C=g.useRef();C.current=b,g.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var P=g.useState({containerWidth:s.width,containerHeight:s.height}),S=XMe(P,2),A=S[0],T=S[1],R=g.useCallback(function(I,M){T(function(z){var W=Math.round(I),B=Math.round(M);return z.containerWidth===W&&z.containerHeight===B?z:{containerWidth:W,containerHeight:B}})},[]);g.useEffect(function(){var I=function(U){var Y,K=U[0].contentRect,X=K.width,he=K.height;R(X,he),(Y=C.current)===null||Y===void 0||Y.call(C,X,he)};p>0&&(I=OY(I,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(I),z=E.current.getBoundingClientRect(),W=z.width,B=z.height;return R(W,B),M.observe(E.current),function(){M.disconnect()}},[R,p]);var _=g.useMemo(function(){var I=A.containerWidth,M=A.containerHeight;if(I<0||M<0)return null;xa(Nu(o)||Nu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),xa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=Nu(o)?I:o,W=Nu(c)?M:c;r&&r>0&&(z?W=z/r:W&&(z=W*r),f&&W>f&&(W=f)),xa(z>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,W,o,c,d,h,r);var B=!Array.isArray(m)&&Bo(m.type).endsWith("Chart");return V.Children.map(m,function($){return CK.isElement($)?g.cloneElement($,Y0({width:z,height:W},B?{style:Y0({height:"100%",width:"100%",maxHeight:W,maxWidth:z},$.props.style)}:{})):$})},[r,m,c,f,h,d,A,o]);return V.createElement("div",{id:v?"".concat(v):void 0,className:Et("recharts-responsive-container",w),style:Y0(Y0({},N),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:E},_)}),Zj=function(e){return null};Zj.displayName="Cell";function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}function R6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(r),!0).forEach(function(n){n3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n3e(t,e,r){return e=s3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s3e(t){var e=i3e(t,"string");return px(e)=="symbol"?e:e+""}function i3e(t,e){if(px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ld={widthCache:{},cacheCount:0},a3e=2e3,o3e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},O6="recharts_measurement_span";function l3e(t){var e=$_({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var mg=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||eo.isSsr)return{width:0,height:0};var n=l3e(r),s=JSON.stringify({text:e,copyStyle:n});if(Ld.widthCache[s])return Ld.widthCache[s];try{var a=document.getElementById(O6);a||(a=document.createElement("span"),a.setAttribute("id",O6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=$_($_({},o3e),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Ld.widthCache[s]=c,++Ld.cacheCount>a3e&&(Ld.cacheCount=0,Ld.widthCache={}),c}catch{return{width:0,height:0}}},c3e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}function fw(t,e){return f3e(t)||h3e(t,e)||d3e(t,e)||u3e()}function u3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d3e(t,e){if(t){if(typeof t=="string")return D6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D6(t,e)}}function D6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function f3e(t){if(Array.isArray(t))return t}function m3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g3e(n.key),n)}}function p3e(t,e,r){return e&&M6(t.prototype,e),r&&M6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g3e(t){var e=x3e(t,"string");return gx(e)=="symbol"?e:e+""}function x3e(t,e){if(gx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,y3e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,v3e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},b3e=Object.keys(DY),dh="NaN";function w3e(t,e){return t*DY[e]}var Q0=function(){function t(e,r){m3e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!y3e.test(r)&&(this.num=NaN,this.unit=""),b3e.includes(r)&&(this.num=w3e(e,r),this.unit="px")}return p3e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=v3e.exec(r))!==null&&n!==void 0?n:[],a=fw(s,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function MY(t){if(t.includes(dh))return dh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=$6.exec(e))!==null&&r!==void 0?r:[],s=fw(n,4),a=s[1],o=s[2],l=s[3],c=Q0.parse(a??""),u=Q0.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return dh;e=e.replace($6,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=L6.exec(e))!==null&&h!==void 0?h:[],m=fw(f,4),x=m[1],p=m[2],v=m[3],w=Q0.parse(x??""),b=Q0.parse(v??""),j=p==="+"?w.add(b):w.subtract(b);if(j.isNaN())return dh;e=e.replace(L6,j.toString())}return e}var F6=/\(([^()]*)\)/;function j3e(t){for(var e=t;e.includes("(");){var r=F6.exec(e),n=fw(r,2),s=n[1];e=e.replace(F6,MY(s))}return e}function N3e(t){var e=t.replace(/\s+/g,"");return e=j3e(e),e=MY(e),e}function S3e(t){try{return N3e(t)}catch{return dh}}function PS(t){var e=S3e(t.slice(5,-1));return e===dh?"":e}var E3e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],P3e=["dx","dy","angle","className","breakAll"];function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L_.apply(this,arguments)}function V6(t,e){if(t==null)return{};var r=_3e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B6(t,e){return k3e(t)||C3e(t,e)||T3e(t,e)||A3e()}function A3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3e(t,e){if(t){if(typeof t=="string")return U6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U6(t,e)}}function U6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function k3e(t){if(Array.isArray(t))return t}var $Y=/[ \f\n\r\t\v\u2028\u2029]+/,LY=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var a=[];St(r)||(n?a=r.toString().split(""):a=r.toString().split($Y));var o=a.map(function(c){return{word:c,width:mg(c,s).width}}),l=n?0:mg("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},I3e=function(e,r,n,s,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=De(o),h=l,f=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(W,B){var $=B.word,U=B.width,Y=W[W.length-1];if(Y&&(s==null||a||Y.width+U+n<Number(s)))Y.words.push($),Y.width+=U+n;else{var K={words:[$],width:U};W.push(K)}return W},[])},m=f(r),x=function(z){return z.reduce(function(W,B){return W.width>B.width?W:B})};if(!d)return m;for(var p="",v=function(z){var W=h.slice(0,z),B=LY({breakAll:u,style:c,children:W+p}).wordsWithComputedWidth,$=f(B),U=$.length>o||x($).width>Number(s);return[U,$]},w=0,b=h.length-1,j=0,N;w<=b&&j<=h.length-1;){var E=Math.floor((w+b)/2),C=E-1,P=v(C),S=B6(P,2),A=S[0],T=S[1],R=v(E),_=B6(R,1),I=_[0];if(!A&&!I&&(w=E+1),A&&I&&(b=E-1),!A&&I){N=T;break}j++}return N||m},q6=function(e){var r=St(e)?[]:e.toString().split($Y);return[{words:r}]},R3e=function(e){var r=e.width,n=e.scaleToFit,s=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!eo.isSsr){var c,u,d=LY({breakAll:o,children:s,style:a});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return q6(s);return I3e({breakAll:o,children:s,maxLines:l,style:a},c,u,r,n)}return q6(s)},z6="#808080",cd=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,m=f===void 0?"start":f,x=e.verticalAnchor,p=x===void 0?"end":x,v=e.fill,w=v===void 0?z6:v,b=V6(e,E3e),j=g.useMemo(function(){return R3e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),N=b.dx,E=b.dy,C=b.angle,P=b.className,S=b.breakAll,A=V6(b,P3e);if(!Pn(n)||!Pn(a))return null;var T=n+(De(N)?N:0),R=a+(De(E)?E:0),_;switch(p){case"start":_=PS("calc(".concat(u,")"));break;case"middle":_=PS("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:_=PS("calc(".concat(j.length-1," * -").concat(l,")"));break}var I=[];if(h){var M=j[0].width,z=b.width;I.push("scale(".concat((De(z)?z/M:1)/M,")"))}return C&&I.push("rotate(".concat(C,", ").concat(T,", ").concat(R,")")),I.length&&(A.transform=I.join(" ")),V.createElement("text",L_({},st(A,!0),{x:T,y:R,className:Et("recharts-text",P),textAnchor:m,fill:w.includes("url")?z6:w}),j.map(function(W,B){var $=W.words.join(S?"":" ");return V.createElement("tspan",{x:T,dy:B===0?_:l,key:"".concat($,"-").concat(B)},$)}))};function mc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function O3e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YI(t){let e,r,n;t.length!==2?(e=mc,r=(l,c)=>mc(t(l),c),n=(l,c)=>t(l)-c):(e=t===mc||t===O3e?t:D3e,r=t,n=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=s(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:s,center:o,right:a}}function D3e(){return 0}function FY(t){return t===null?NaN:+t}function*M3e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const $3e=YI(mc),$y=$3e.right;YI(FY).center;class W6 extends Map{constructor(e,r=V3e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(H6(this,e))}has(e){return super.has(H6(this,e))}set(e,r){return super.set(L3e(this,e),r)}delete(e){return super.delete(F3e(this,e))}}function H6({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function L3e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function F3e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function V3e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function B3e(t=mc){if(t===mc)return VY;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function VY(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const U3e=Math.sqrt(50),q3e=Math.sqrt(10),z3e=Math.sqrt(2);function mw(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),o=a>=U3e?10:a>=q3e?5:a>=z3e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?mw(t,e,r*2):[l,c,u]}function F_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,a,o]=n?mw(e,t,r):mw(t,e,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function V_(t,e,r){return e=+e,t=+t,r=+r,mw(t,e,r)[2]}function B_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?V_(e,t,r):V_(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function G6(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function K6(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function BY(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?VY:B3e(s);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(e-u*h/c+f)),x=Math.min(n,Math.floor(e+(c-u)*h/c+f));BY(t,e,m,x,s)}const a=t[e];let o=r,l=n;for(gp(t,r,e),s(t[n],a)>0&&gp(t,r,n);o<l;){for(gp(t,o,l),++o,--l;s(t[o],a)<0;)++o;for(;s(t[l],a)>0;)--l}s(t[r],a)===0?gp(t,r,l):(++l,gp(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function gp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function W3e(t,e,r){if(t=Float64Array.from(M3e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return K6(t);if(e>=1)return G6(t);var n,s=(n-1)*e,a=Math.floor(s),o=G6(BY(t,a).subarray(0,a+1)),l=K6(t.subarray(a+1));return o+(l-o)*(s-a)}}function H3e(t,e,r=FY){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,a=Math.floor(s),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(s-a)}}function G3e(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(s);++n<s;)a[n]=t+n*r;return a}function Hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const U_=Symbol("implicit");function QI(){var t=new W6,e=[],r=[],n=U_;function s(a){let o=t.get(a);if(o===void 0){if(n!==U_)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return s.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new W6;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return QI(e,r).unknown(n)},Hi.apply(s,arguments),s}function xx(){var t=QI().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,m=s<n,x=m?s:n,p=m?n:s;a=(p-x)/Math.max(1,f-c+u*2),l&&(a=Math.floor(a)),x+=(p-x-a*(f-c))*d,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=G3e(f).map(function(w){return x+a*w});return r(m?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,s]=f,n=+n,s=+s,h()):[n,s]},t.rangeRound=function(f){return[n,s]=f,n=+n,s=+s,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return xx(e(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Hi.apply(h(),arguments)}function UY(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return UY(e())},t}function pg(){return UY(xx.apply(null,arguments).paddingInner(1))}function XI(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function qY(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ly(){}var yx=.7,pw=1/yx,Mh="\\s*([+-]?\\d+)\\s*",vx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",to="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K3e=/^#([0-9a-f]{3,8})$/,Y3e=new RegExp(`^rgb\\(${Mh},${Mh},${Mh}\\)$`),Q3e=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),X3e=new RegExp(`^rgba\\(${Mh},${Mh},${Mh},${vx}\\)$`),J3e=new RegExp(`^rgba\\(${to},${to},${to},${vx}\\)$`),Z3e=new RegExp(`^hsl\\(${vx},${to},${to}\\)$`),e4e=new RegExp(`^hsla\\(${vx},${to},${to},${vx}\\)$`),Y6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XI(Ly,bx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Q6,formatHex:Q6,formatHex8:t4e,formatHsl:r4e,formatRgb:X6,toString:X6});function Q6(){return this.rgb().formatHex()}function t4e(){return this.rgb().formatHex8()}function r4e(){return zY(this).formatHsl()}function X6(){return this.rgb().formatRgb()}function bx(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=K3e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?J6(e):r===3?new qs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?X0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?X0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Y3e.exec(t))?new qs(e[1],e[2],e[3],1):(e=Q3e.exec(t))?new qs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=X3e.exec(t))?X0(e[1],e[2],e[3],e[4]):(e=J3e.exec(t))?X0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Z3e.exec(t))?t$(e[1],e[2]/100,e[3]/100,1):(e=e4e.exec(t))?t$(e[1],e[2]/100,e[3]/100,e[4]):Y6.hasOwnProperty(t)?J6(Y6[t]):t==="transparent"?new qs(NaN,NaN,NaN,0):null}function J6(t){return new qs(t>>16&255,t>>8&255,t&255,1)}function X0(t,e,r,n){return n<=0&&(t=e=r=NaN),new qs(t,e,r,n)}function n4e(t){return t instanceof Ly||(t=bx(t)),t?(t=t.rgb(),new qs(t.r,t.g,t.b,t.opacity)):new qs}function q_(t,e,r,n){return arguments.length===1?n4e(t):new qs(t,e,r,n??1)}function qs(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}XI(qs,q_,qY(Ly,{brighter(t){return t=t==null?pw:Math.pow(pw,t),new qs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yx:Math.pow(yx,t),new qs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qs(zu(this.r),zu(this.g),zu(this.b),gw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z6,formatHex:Z6,formatHex8:s4e,formatRgb:e$,toString:e$}));function Z6(){return`#${Su(this.r)}${Su(this.g)}${Su(this.b)}`}function s4e(){return`#${Su(this.r)}${Su(this.g)}${Su(this.b)}${Su((isNaN(this.opacity)?1:this.opacity)*255)}`}function e$(){const t=gw(this.opacity);return`${t===1?"rgb(":"rgba("}${zu(this.r)}, ${zu(this.g)}, ${zu(this.b)}${t===1?")":`, ${t})`}`}function gw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Su(t){return t=zu(t),(t<16?"0":"")+t.toString(16)}function t$(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ca(t,e,r,n)}function zY(t){if(t instanceof ca)return new ca(t.h,t.s,t.l,t.opacity);if(t instanceof Ly||(t=bx(t)),!t)return new ca;if(t instanceof ca)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-s,c=(a+s)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new ca(o,l,c,t.opacity)}function i4e(t,e,r,n){return arguments.length===1?zY(t):new ca(t,e,r,n??1)}function ca(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}XI(ca,i4e,qY(Ly,{brighter(t){return t=t==null?pw:Math.pow(pw,t),new ca(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yx:Math.pow(yx,t),new ca(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new qs(_S(t>=240?t-240:t+120,s,n),_S(t,s,n),_S(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new ca(r$(this.h),J0(this.s),J0(this.l),gw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gw(this.opacity);return`${t===1?"hsl(":"hsla("}${r$(this.h)}, ${J0(this.s)*100}%, ${J0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function r$(t){return t=(t||0)%360,t<0?t+360:t}function J0(t){return Math.max(0,Math.min(1,t||0))}function _S(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const JI=t=>()=>t;function a4e(t,e){return function(r){return t+r*e}}function o4e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function l4e(t){return(t=+t)==1?WY:function(e,r){return r-e?o4e(e,r,t):JI(isNaN(e)?r:e)}}function WY(t,e){var r=e-t;return r?a4e(t,r):JI(isNaN(t)?e:t)}const n$=function t(e){var r=l4e(e);function n(s,a){var o=r((s=q_(s)).r,(a=q_(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=WY(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=t,n}(1);function c4e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=t[s]*(1-a)+e[s]*a;return n}}function u4e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function d4e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)s[o]=Dm(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=s[o](l);return a}}function h4e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function xw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function f4e(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=Dm(t[s],e[s]):n[s]=e[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var z_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AS=new RegExp(z_.source,"g");function m4e(t){return function(){return t}}function p4e(t){return function(e){return t(e)+""}}function g4e(t,e){var r=z_.lastIndex=AS.lastIndex=0,n,s,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=z_.exec(t))&&(s=AS.exec(e));)(a=s.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:xw(n,s)})),r=AS.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?p4e(c[0].x):m4e(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Dm(t,e){var r=typeof e,n;return e==null||r==="boolean"?JI(e):(r==="number"?xw:r==="string"?(n=bx(e))?(e=n,n$):g4e:e instanceof bx?n$:e instanceof Date?h4e:u4e(e)?c4e:Array.isArray(e)?d4e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?f4e:xw)(t,e)}function ZI(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function x4e(t,e){e===void 0&&(e=t,t=Dm);for(var r=0,n=e.length-1,s=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function y4e(t){return function(){return t}}function yw(t){return+t}var s$=[0,1];function Ss(t){return t}function W_(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:y4e(isNaN(e)?NaN:.5)}function v4e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function b4e(t,e,r){var n=t[0],s=t[1],a=e[0],o=e[1];return s<n?(n=W_(s,n),a=r(o,a)):(n=W_(n,s),a=r(a,o)),function(l){return a(n(l))}}function w4e(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=W_(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=$y(t,l,1,n)-1;return a[c](s[c](l))}}function Fy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function eN(){var t=s$,e=s$,r=Dm,n,s,a,o=Ss,l,c,u;function d(){var f=Math.min(t.length,e.length);return o!==Ss&&(o=v4e(t[0],t[f-1])),l=f>2?w4e:b4e,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(c||(c=l(t.map(n),e,r)))(n(o(f)))}return h.invert=function(f){return o(s((u||(u=l(e,t.map(n),xw)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,yw),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=ZI,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Ss,d()):o!==Ss},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,m){return n=f,s=m,d()}}function eR(){return eN()(Ss,Ss)}function j4e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function kf(t){return t=vw(Math.abs(t)),t?t[1]:NaN}function N4e(t,e){return function(r,n){for(var s=r.length,a=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function S4e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var E4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wx(t){if(!(e=E4e.exec(t)))throw new Error("invalid format: "+t);var e;return new tR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wx.prototype=tR.prototype;function tR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function P4e(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var HY;function _4e(t,e){var r=vw(t,e);if(!r)return t+"";var n=r[0],s=r[1],a=s-(HY=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+vw(t,Math.max(0,e+a-1))[0]}function i$(t,e){var r=vw(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const a$={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:j4e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>i$(t*100,e),r:i$,s:_4e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function o$(t){return t}var l$=Array.prototype.map,c$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function A4e(t){var e=t.grouping===void 0||t.thousands===void 0?o$:N4e(l$.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?o$:S4e(l$.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=wx(h);var f=h.fill,m=h.align,x=h.sign,p=h.symbol,v=h.zero,w=h.width,b=h.comma,j=h.precision,N=h.trim,E=h.type;E==="n"?(b=!0,E="g"):a$[E]||(j===void 0&&(j=12),N=!0,E="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var C=p==="$"?r:p==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",P=p==="$"?n:/[%p]/.test(E)?o:"",S=a$[E],A=/[defgprs%]/.test(E);j=j===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function T(R){var _=C,I=P,M,z,W;if(E==="c")I=S(R)+I,R="";else{R=+R;var B=R<0||1/R<0;if(R=isNaN(R)?c:S(Math.abs(R),j),N&&(R=P4e(R)),B&&+R==0&&x!=="+"&&(B=!1),_=(B?x==="("?x:l:x==="-"||x==="("?"":x)+_,I=(E==="s"?c$[8+HY/3]:"")+I+(B&&x==="("?")":""),A){for(M=-1,z=R.length;++M<z;)if(W=R.charCodeAt(M),48>W||W>57){I=(W===46?s+R.slice(M+1):R.slice(M))+I,R=R.slice(0,M);break}}}b&&!v&&(R=e(R,1/0));var $=_.length+R.length+I.length,U=$<w?new Array(w-$+1).join(f):"";switch(b&&v&&(R=e(U+R,U.length?w-I.length:1/0),U=""),m){case"<":R=_+R+I+U;break;case"=":R=_+U+R+I;break;case"^":R=U.slice(0,$=U.length>>1)+_+R+I+U.slice($);break;default:R=U+_+R+I;break}return a(R)}return T.toString=function(){return h+""},T}function d(h,f){var m=u((h=wx(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(kf(f)/3)))*3,p=Math.pow(10,-x),v=c$[8+x/3];return function(w){return m(p*w)+v}}return{format:u,formatPrefix:d}}var Z0,rR,GY;T4e({thousands:",",grouping:[3],currency:["$",""]});function T4e(t){return Z0=A4e(t),rR=Z0.format,GY=Z0.formatPrefix,Z0}function C4e(t){return Math.max(0,-kf(Math.abs(t)))}function k4e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kf(e)/3)))*3-kf(Math.abs(t)))}function I4e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kf(e)-kf(t))+1}function KY(t,e,r,n){var s=B_(t,e,r),a;switch(n=wx(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=k4e(s,o))&&(n.precision=a),GY(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=I4e(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=C4e(s))&&(n.precision=a-(n.type==="%")*2);break}}return rR(n)}function Wc(t){var e=t.domain;return t.ticks=function(r){var n=e();return F_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return KY(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,a=n.length-1,o=n[s],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=V_(o,l,r),u===c)return n[s]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function bw(){var t=eR();return t.copy=function(){return Fy(t,bw())},Hi.apply(t,arguments),Wc(t)}function YY(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,yw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return YY(t).unknown(e)},t=arguments.length?Array.from(t,yw):[0,1],Wc(r)}function QY(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],a=t[n],o;return a<s&&(o=r,r=n,n=o,o=s,s=a,a=o),t[r]=e.floor(s),t[n]=e.ceil(a),t}function u$(t){return Math.log(t)}function d$(t){return Math.exp(t)}function R4e(t){return-Math.log(-t)}function O4e(t){return-Math.exp(-t)}function D4e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function M4e(t){return t===10?D4e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $4e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function h$(t){return(e,r)=>-t(-e,r)}function nR(t){const e=t(u$,d$),r=e.domain;let n=10,s,a;function o(){return s=$4e(n),a=M4e(n),r()[0]<0?(s=h$(s),a=h$(a),t(R4e,O4e)):t(u$,d$),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=s(u),m=s(d),x,p;const v=l==null?10:+l;let w=[];if(!(n%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(x=1;x<n;++x)if(p=f<0?x/a(-f):x*a(f),!(p<u)){if(p>d)break;w.push(p)}}else for(;f<=m;++f)for(x=n-1;x>=1;--x)if(p=f>0?x/a(-f):x*a(f),!(p<u)){if(p>d)break;w.push(p)}w.length*2<v&&(w=F_(u,d,v))}else w=F_(f,m,Math.min(m-f,v)).map(a);return h?w.reverse():w},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=wx(c)).precision==null&&(c.trim=!0),c=rR(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let h=d/a(Math.round(s(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(QY(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),e}function XY(){const t=nR(eN()).domain([1,10]);return t.copy=()=>Fy(t,XY()).base(t.base()),Hi.apply(t,arguments),t}function f$(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function m$(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sR(t){var e=1,r=t(f$(e),m$(e));return r.constant=function(n){return arguments.length?t(f$(e=+n),m$(e)):e},Wc(r)}function JY(){var t=sR(eN());return t.copy=function(){return Fy(t,JY()).constant(t.constant())},Hi.apply(t,arguments)}function p$(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function L4e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function F4e(t){return t<0?-t*t:t*t}function iR(t){var e=t(Ss,Ss),r=1;function n(){return r===1?t(Ss,Ss):r===.5?t(L4e,F4e):t(p$(r),p$(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},Wc(e)}function aR(){var t=iR(eN());return t.copy=function(){return Fy(t,aR()).exponent(t.exponent())},Hi.apply(t,arguments),t}function V4e(){return aR.apply(null,arguments).exponent(.5)}function g$(t){return Math.sign(t)*t*t}function B4e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function ZY(){var t=eR(),e=[0,1],r=!1,n;function s(a){var o=B4e(t(a));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(a){return t.invert(g$(a))},s.domain=function(a){return arguments.length?(t.domain(a),s):t.domain()},s.range=function(a){return arguments.length?(t.range((e=Array.from(a,yw)).map(g$)),s):e.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(t.clamp(a),s):t.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return ZY(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Hi.apply(s,arguments),Wc(s)}function eQ(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=H3e(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[$y(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(mc),s()},a.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return eQ().domain(t).range(e).unknown(n)},Hi.apply(a,arguments)}function tQ(){var t=0,e=1,r=1,n=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[$y(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return tQ().domain([t,e]).range(s).unknown(a)},Hi.apply(Wc(o),arguments)}function rQ(){var t=[.5],e=[0,1],r,n=1;function s(a){return a!=null&&a<=a?e[$y(t,a,0,n)]:r}return s.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return rQ().domain(t).range(e).unknown(r)},Hi.apply(s,arguments)}const TS=new Date,CS=new Date;function An(t,e,r,n){function s(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(t(a=new Date(+a)),a),s.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},s.filter=a=>An(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(s.count=(a,o)=>(TS.setTime(+a),CS.setTime(+o),t(TS),t(CS),Math.floor(r(TS,CS))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?o=>n(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const ww=An(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ww.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?An(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):ww);ww.range;const Do=1e3,Oi=Do*60,Mo=Oi*60,il=Mo*24,oR=il*7,x$=il*30,kS=il*365,Eu=An(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Do)},(t,e)=>(e-t)/Do,t=>t.getUTCSeconds());Eu.range;const lR=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Do)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getMinutes());lR.range;const cR=An(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getUTCMinutes());cR.range;const uR=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Do-t.getMinutes()*Oi)},(t,e)=>{t.setTime(+t+e*Mo)},(t,e)=>(e-t)/Mo,t=>t.getHours());uR.range;const dR=An(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Mo)},(t,e)=>(e-t)/Mo,t=>t.getUTCHours());dR.range;const Vy=An(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Oi)/il,t=>t.getDate()-1);Vy.range;const tN=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/il,t=>t.getUTCDate()-1);tN.range;const nQ=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/il,t=>Math.floor(t/il));nQ.range;function Sd(t){return An(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Oi)/oR)}const rN=Sd(0),jw=Sd(1),U4e=Sd(2),q4e=Sd(3),If=Sd(4),z4e=Sd(5),W4e=Sd(6);rN.range;jw.range;U4e.range;q4e.range;If.range;z4e.range;W4e.range;function Ed(t){return An(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/oR)}const nN=Ed(0),Nw=Ed(1),H4e=Ed(2),G4e=Ed(3),Rf=Ed(4),K4e=Ed(5),Y4e=Ed(6);nN.range;Nw.range;H4e.range;G4e.range;Rf.range;K4e.range;Y4e.range;const hR=An(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hR.range;const fR=An(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fR.range;const al=An(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());al.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});al.range;const ol=An(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ol.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ol.range;function sQ(t,e,r,n,s,a){const o=[[Eu,1,Do],[Eu,5,5*Do],[Eu,15,15*Do],[Eu,30,30*Do],[a,1,Oi],[a,5,5*Oi],[a,15,15*Oi],[a,30,30*Oi],[s,1,Mo],[s,3,3*Mo],[s,6,6*Mo],[s,12,12*Mo],[n,1,il],[n,2,2*il],[r,1,oR],[e,1,x$],[e,3,3*x$],[t,1,kS]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),x=m?m.range(u,+d+1):[];return f?x.reverse():x}function c(u,d,h){const f=Math.abs(d-u)/h,m=YI(([,,v])=>v).right(o,f);if(m===o.length)return t.every(B_(u/kS,d/kS,h));if(m===0)return ww.every(Math.max(B_(u,d,h),1));const[x,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return x.every(p)}return[l,c]}const[Q4e,X4e]=sQ(ol,fR,nN,nQ,dR,cR),[J4e,Z4e]=sQ(al,hR,rN,Vy,uR,lR);function IS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function RS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function e6e(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=yp(s),d=vp(s),h=yp(a),f=vp(a),m=yp(o),x=vp(o),p=yp(l),v=vp(l),w=yp(c),b=vp(c),j={a:B,A:$,b:U,B:Y,c:null,d:N$,e:N$,f:N6e,g:R6e,G:D6e,H:b6e,I:w6e,j:j6e,L:iQ,m:S6e,M:E6e,p:K,q:X,Q:P$,s:_$,S:P6e,u:_6e,U:A6e,V:T6e,w:C6e,W:k6e,x:null,X:null,y:I6e,Y:O6e,Z:M6e,"%":E$},N={a:he,A:D,b:H,B:se,c:null,d:S$,e:S$,f:V6e,g:Q6e,G:J6e,H:$6e,I:L6e,j:F6e,L:oQ,m:B6e,M:U6e,p:Q,q:Ne,Q:P$,s:_$,S:q6e,u:z6e,U:W6e,V:H6e,w:G6e,W:K6e,x:null,X:null,y:Y6e,Y:X6e,Z:Z6e,"%":E$},E={a:T,A:R,b:_,B:I,c:M,d:w$,e:w$,f:g6e,g:b$,G:v$,H:j$,I:j$,j:h6e,L:p6e,m:d6e,M:f6e,p:A,q:u6e,Q:y6e,s:v6e,S:m6e,u:i6e,U:a6e,V:o6e,w:s6e,W:l6e,x:z,X:W,y:b$,Y:v$,Z:c6e,"%":x6e};j.x=C(r,j),j.X=C(n,j),j.c=C(e,j),N.x=C(r,N),N.X=C(n,N),N.c=C(e,N);function C(J,me){return function(L){var q=[],ee=-1,te=0,ce=J.length,ge,pe,ie;for(L instanceof Date||(L=new Date(+L));++ee<ce;)J.charCodeAt(ee)===37&&(q.push(J.slice(te,ee)),(pe=y$[ge=J.charAt(++ee)])!=null?ge=J.charAt(++ee):pe=ge==="e"?" ":"0",(ie=me[ge])&&(ge=ie(L,pe)),q.push(ge),te=ee+1);return q.push(J.slice(te,ee)),q.join("")}}function P(J,me){return function(L){var q=xp(1900,void 0,1),ee=S(q,J,L+="",0),te,ce;if(ee!=L.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(me&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(te=RS(xp(q.y,0,1)),ce=te.getUTCDay(),te=ce>4||ce===0?Nw.ceil(te):Nw(te),te=tN.offset(te,(q.V-1)*7),q.y=te.getUTCFullYear(),q.m=te.getUTCMonth(),q.d=te.getUTCDate()+(q.w+6)%7):(te=IS(xp(q.y,0,1)),ce=te.getDay(),te=ce>4||ce===0?jw.ceil(te):jw(te),te=Vy.offset(te,(q.V-1)*7),q.y=te.getFullYear(),q.m=te.getMonth(),q.d=te.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),ce="Z"in q?RS(xp(q.y,0,1)).getUTCDay():IS(xp(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(ce+5)%7:q.w+q.U*7-(ce+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,RS(q)):IS(q)}}function S(J,me,L,q){for(var ee=0,te=me.length,ce=L.length,ge,pe;ee<te;){if(q>=ce)return-1;if(ge=me.charCodeAt(ee++),ge===37){if(ge=me.charAt(ee++),pe=E[ge in y$?me.charAt(ee++):ge],!pe||(q=pe(J,L,q))<0)return-1}else if(ge!=L.charCodeAt(q++))return-1}return q}function A(J,me,L){var q=u.exec(me.slice(L));return q?(J.p=d.get(q[0].toLowerCase()),L+q[0].length):-1}function T(J,me,L){var q=m.exec(me.slice(L));return q?(J.w=x.get(q[0].toLowerCase()),L+q[0].length):-1}function R(J,me,L){var q=h.exec(me.slice(L));return q?(J.w=f.get(q[0].toLowerCase()),L+q[0].length):-1}function _(J,me,L){var q=w.exec(me.slice(L));return q?(J.m=b.get(q[0].toLowerCase()),L+q[0].length):-1}function I(J,me,L){var q=p.exec(me.slice(L));return q?(J.m=v.get(q[0].toLowerCase()),L+q[0].length):-1}function M(J,me,L){return S(J,e,me,L)}function z(J,me,L){return S(J,r,me,L)}function W(J,me,L){return S(J,n,me,L)}function B(J){return o[J.getDay()]}function $(J){return a[J.getDay()]}function U(J){return c[J.getMonth()]}function Y(J){return l[J.getMonth()]}function K(J){return s[+(J.getHours()>=12)]}function X(J){return 1+~~(J.getMonth()/3)}function he(J){return o[J.getUTCDay()]}function D(J){return a[J.getUTCDay()]}function H(J){return c[J.getUTCMonth()]}function se(J){return l[J.getUTCMonth()]}function Q(J){return s[+(J.getUTCHours()>=12)]}function Ne(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var me=C(J+="",j);return me.toString=function(){return J},me},parse:function(J){var me=P(J+="",!1);return me.toString=function(){return J},me},utcFormat:function(J){var me=C(J+="",N);return me.toString=function(){return J},me},utcParse:function(J){var me=P(J+="",!0);return me.toString=function(){return J},me}}}var y$={"-":"",_:" ",0:"0"},Vn=/^\s*\d+/,t6e=/^%/,r6e=/[\\^$*+?|[\]().{}]/g;function Wt(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(e)+s:s)}function n6e(t){return t.replace(r6e,"\\$&")}function yp(t){return new RegExp("^(?:"+t.map(n6e).join("|")+")","i")}function vp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function s6e(t,e,r){var n=Vn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function i6e(t,e,r){var n=Vn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function a6e(t,e,r){var n=Vn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function o6e(t,e,r){var n=Vn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function l6e(t,e,r){var n=Vn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function v$(t,e,r){var n=Vn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function b$(t,e,r){var n=Vn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function c6e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function u6e(t,e,r){var n=Vn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function d6e(t,e,r){var n=Vn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function w$(t,e,r){var n=Vn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function h6e(t,e,r){var n=Vn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function j$(t,e,r){var n=Vn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function f6e(t,e,r){var n=Vn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function m6e(t,e,r){var n=Vn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function p6e(t,e,r){var n=Vn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function g6e(t,e,r){var n=Vn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function x6e(t,e,r){var n=t6e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function y6e(t,e,r){var n=Vn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function v6e(t,e,r){var n=Vn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function N$(t,e){return Wt(t.getDate(),e,2)}function b6e(t,e){return Wt(t.getHours(),e,2)}function w6e(t,e){return Wt(t.getHours()%12||12,e,2)}function j6e(t,e){return Wt(1+Vy.count(al(t),t),e,3)}function iQ(t,e){return Wt(t.getMilliseconds(),e,3)}function N6e(t,e){return iQ(t,e)+"000"}function S6e(t,e){return Wt(t.getMonth()+1,e,2)}function E6e(t,e){return Wt(t.getMinutes(),e,2)}function P6e(t,e){return Wt(t.getSeconds(),e,2)}function _6e(t){var e=t.getDay();return e===0?7:e}function A6e(t,e){return Wt(rN.count(al(t)-1,t),e,2)}function aQ(t){var e=t.getDay();return e>=4||e===0?If(t):If.ceil(t)}function T6e(t,e){return t=aQ(t),Wt(If.count(al(t),t)+(al(t).getDay()===4),e,2)}function C6e(t){return t.getDay()}function k6e(t,e){return Wt(jw.count(al(t)-1,t),e,2)}function I6e(t,e){return Wt(t.getFullYear()%100,e,2)}function R6e(t,e){return t=aQ(t),Wt(t.getFullYear()%100,e,2)}function O6e(t,e){return Wt(t.getFullYear()%1e4,e,4)}function D6e(t,e){var r=t.getDay();return t=r>=4||r===0?If(t):If.ceil(t),Wt(t.getFullYear()%1e4,e,4)}function M6e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Wt(e/60|0,"0",2)+Wt(e%60,"0",2)}function S$(t,e){return Wt(t.getUTCDate(),e,2)}function $6e(t,e){return Wt(t.getUTCHours(),e,2)}function L6e(t,e){return Wt(t.getUTCHours()%12||12,e,2)}function F6e(t,e){return Wt(1+tN.count(ol(t),t),e,3)}function oQ(t,e){return Wt(t.getUTCMilliseconds(),e,3)}function V6e(t,e){return oQ(t,e)+"000"}function B6e(t,e){return Wt(t.getUTCMonth()+1,e,2)}function U6e(t,e){return Wt(t.getUTCMinutes(),e,2)}function q6e(t,e){return Wt(t.getUTCSeconds(),e,2)}function z6e(t){var e=t.getUTCDay();return e===0?7:e}function W6e(t,e){return Wt(nN.count(ol(t)-1,t),e,2)}function lQ(t){var e=t.getUTCDay();return e>=4||e===0?Rf(t):Rf.ceil(t)}function H6e(t,e){return t=lQ(t),Wt(Rf.count(ol(t),t)+(ol(t).getUTCDay()===4),e,2)}function G6e(t){return t.getUTCDay()}function K6e(t,e){return Wt(Nw.count(ol(t)-1,t),e,2)}function Y6e(t,e){return Wt(t.getUTCFullYear()%100,e,2)}function Q6e(t,e){return t=lQ(t),Wt(t.getUTCFullYear()%100,e,2)}function X6e(t,e){return Wt(t.getUTCFullYear()%1e4,e,4)}function J6e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Rf(t):Rf.ceil(t),Wt(t.getUTCFullYear()%1e4,e,4)}function Z6e(){return"+0000"}function E$(){return"%"}function P$(t){return+t}function _$(t){return Math.floor(+t/1e3)}var Fd,cQ,uQ;e$e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function e$e(t){return Fd=e6e(t),cQ=Fd.format,Fd.parse,uQ=Fd.utcFormat,Fd.utcParse,Fd}function t$e(t){return new Date(t)}function r$e(t){return t instanceof Date?+t:+new Date(+t)}function mR(t,e,r,n,s,a,o,l,c,u){var d=eR(),h=d.invert,f=d.domain,m=u(".%L"),x=u(":%S"),p=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),b=u("%b %d"),j=u("%B"),N=u("%Y");function E(C){return(c(C)<C?m:l(C)<C?x:o(C)<C?p:a(C)<C?v:n(C)<C?s(C)<C?w:b:r(C)<C?j:N)(C)}return d.invert=function(C){return new Date(h(C))},d.domain=function(C){return arguments.length?f(Array.from(C,r$e)):f().map(t$e)},d.ticks=function(C){var P=f();return t(P[0],P[P.length-1],C??10)},d.tickFormat=function(C,P){return P==null?E:u(P)},d.nice=function(C){var P=f();return(!C||typeof C.range!="function")&&(C=e(P[0],P[P.length-1],C??10)),C?f(QY(P,C)):d},d.copy=function(){return Fy(d,mR(t,e,r,n,s,a,o,l,c,u))},d}function n$e(){return Hi.apply(mR(J4e,Z4e,al,hR,rN,Vy,uR,lR,Eu,cQ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function s$e(){return Hi.apply(mR(Q4e,X4e,ol,fR,nN,tN,dR,cR,Eu,uQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sN(){var t=0,e=1,r,n,s,a,o=Ss,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(a(h)-r)*s,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),s=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var m,x;return arguments.length?([m,x]=f,o=h(m,x),u):[o(0),o(1)]}}return u.range=d(Dm),u.rangeRound=d(ZI),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(t),n=h(e),s=r===n?0:1/(n-r),u}}function Hc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dQ(){var t=Wc(sN()(Ss));return t.copy=function(){return Hc(t,dQ())},fl.apply(t,arguments)}function hQ(){var t=nR(sN()).domain([1,10]);return t.copy=function(){return Hc(t,hQ()).base(t.base())},fl.apply(t,arguments)}function fQ(){var t=sR(sN());return t.copy=function(){return Hc(t,fQ()).constant(t.constant())},fl.apply(t,arguments)}function pR(){var t=iR(sN());return t.copy=function(){return Hc(t,pR()).exponent(t.exponent())},fl.apply(t,arguments)}function i$e(){return pR.apply(null,arguments).exponent(.5)}function mQ(){var t=[],e=Ss;function r(n){if(n!=null&&!isNaN(n=+n))return e(($y(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(mc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>W3e(t,a/n))},r.copy=function(){return mQ(e).domain(t)},fl.apply(r,arguments)}function iN(){var t=0,e=.5,r=1,n=1,s,a,o,l,c,u=Ss,d,h=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+d(p))-a)*(n*p<n*a?l:c),u(h?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([t,e,r]=p,s=d(t=+t),a=d(e=+e),o=d(r=+r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,m):[t,e,r]},m.clamp=function(p){return arguments.length?(h=!!p,m):h},m.interpolator=function(p){return arguments.length?(u=p,m):u};function x(p){return function(v){var w,b,j;return arguments.length?([w,b,j]=v,u=x4e(p,[w,b,j]),m):[u(0),u(.5),u(1)]}}return m.range=x(Dm),m.rangeRound=x(ZI),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return d=p,s=p(t),a=p(e),o=p(r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,m}}function pQ(){var t=Wc(iN()(Ss));return t.copy=function(){return Hc(t,pQ())},fl.apply(t,arguments)}function gQ(){var t=nR(iN()).domain([.1,1,10]);return t.copy=function(){return Hc(t,gQ()).base(t.base())},fl.apply(t,arguments)}function xQ(){var t=sR(iN());return t.copy=function(){return Hc(t,xQ()).constant(t.constant())},fl.apply(t,arguments)}function gR(){var t=iR(iN());return t.copy=function(){return Hc(t,gR()).exponent(t.exponent())},fl.apply(t,arguments)}function a$e(){return gR.apply(null,arguments).exponent(.5)}const A$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xx,scaleDiverging:pQ,scaleDivergingLog:gQ,scaleDivergingPow:gR,scaleDivergingSqrt:a$e,scaleDivergingSymlog:xQ,scaleIdentity:YY,scaleImplicit:U_,scaleLinear:bw,scaleLog:XY,scaleOrdinal:QI,scalePoint:pg,scalePow:aR,scaleQuantile:eQ,scaleQuantize:tQ,scaleRadial:ZY,scaleSequential:dQ,scaleSequentialLog:hQ,scaleSequentialPow:pR,scaleSequentialQuantile:mQ,scaleSequentialSqrt:i$e,scaleSequentialSymlog:fQ,scaleSqrt:V4e,scaleSymlog:JY,scaleThreshold:rQ,scaleTime:n$e,scaleUtc:s$e,tickFormat:KY},Symbol.toStringTag,{value:"Module"}));var o$e=Em;function l$e(t,e,r){for(var n=-1,s=t.length;++n<s;){var a=t[n],o=e(a);if(o!=null&&(l===void 0?o===o&&!o$e(o):r(o,l)))var l=o,c=a}return c}var aN=l$e;function c$e(t,e){return t>e}var yQ=c$e,u$e=aN,d$e=yQ,h$e=Om;function f$e(t){return t&&t.length?u$e(t,h$e,d$e):void 0}var m$e=f$e;const Yl=Qt(m$e);function p$e(t,e){return t<e}var vQ=p$e,g$e=aN,x$e=vQ,y$e=Om;function v$e(t){return t&&t.length?g$e(t,y$e,x$e):void 0}var b$e=v$e;const oN=Qt(b$e);var w$e=CI,j$e=mo,N$e=_Y,S$e=Ys;function E$e(t,e){var r=S$e(t)?w$e:N$e;return r(t,j$e(e))}var P$e=E$e,_$e=EY,A$e=P$e;function T$e(t,e){return _$e(A$e(t,e),1)}var C$e=T$e;const k$e=Qt(C$e);var I$e=WI;function R$e(t,e){return I$e(t,e)}var O$e=R$e;const Of=Qt(O$e);var Mm=1e9,D$e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yR,Or=!0,zi="[DecimalError] ",Wu=zi+"Invalid argument: ",xR=zi+"Exponent out of range: ",$m=Math.floor,hu=Math.pow,M$e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oi,In=1e7,Er=7,bQ=9007199254740991,Sw=$m(bQ/Er),Qe={};Qe.absoluteValue=Qe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Qe.comparedTo=Qe.cmp=function(t){var e,r,n,s,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Er;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Qe.dividedBy=Qe.div=function(t){return Uo(this,new this.constructor(t))};Qe.dividedToIntegerBy=Qe.idiv=function(t){var e=this,r=e.constructor;return dr(Uo(e,new r(t),0,1),r.precision)};Qe.equals=Qe.eq=function(t){return!this.cmp(t)};Qe.exponent=function(){return bn(this)};Qe.greaterThan=Qe.gt=function(t){return this.cmp(t)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(t){return this.cmp(t)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(t){return this.cmp(t)<0};Qe.lessThanOrEqualTo=Qe.lte=function(t){return this.cmp(t)<1};Qe.logarithm=Qe.log=function(t){var e,r=this,n=r.constructor,s=n.precision,a=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(oi))throw Error(zi+"NaN");if(r.s<1)throw Error(zi+(r.s?"NaN":"-Infinity"));return r.eq(oi)?new n(0):(Or=!1,e=Uo(jx(r,a),jx(t,a),a),Or=!0,dr(e,s))};Qe.minus=Qe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NQ(e,t):wQ(e,(t.s=-t.s,t))};Qe.modulo=Qe.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(zi+"NaN");return r.s?(Or=!1,e=Uo(r,t,0,1).times(t),Or=!0,r.minus(e)):dr(new n(r),s)};Qe.naturalExponential=Qe.exp=function(){return jQ(this)};Qe.naturalLogarithm=Qe.ln=function(){return jx(this)};Qe.negated=Qe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Qe.plus=Qe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wQ(e,t):NQ(e,(t.s=-t.s,t))};Qe.precision=Qe.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wu+t);if(e=bn(s)+1,n=s.d.length-1,r=n*Er+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Qe.squareRoot=Qe.sqrt=function(){var t,e,r,n,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(zi+"NaN")}for(t=bn(l),Or=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=Wa(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=$m((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(a=n,n=a.plus(Uo(l,a,o+2)).times(.5),Wa(a.d).slice(0,o)===(e=Wa(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(dr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return Or=!0,dr(n,r)};Qe.times=Qe.mul=function(t){var e,r,n,s,a,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=f.length,u=m.length,c<u&&(a=f,f=m,m=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,s=c+n;s>n;)l=a[s]+m[n]*f[s-n-1]+e,a[s--]=l%In|0,e=l/In|0;a[s]=(a[s]+e)%In|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Or?dr(t,h.precision):t};Qe.toDecimalPlaces=Qe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(co(t,0,Mm),e===void 0?e=n.rounding:co(e,0,8),dr(r,t+bn(r)+1,e))};Qe.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=ud(n,!0):(co(t,0,Mm),e===void 0?e=s.rounding:co(e,0,8),n=dr(new s(n),t+1,e),r=ud(n,!0,t+1)),r};Qe.toFixed=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?ud(s):(co(t,0,Mm),e===void 0?e=a.rounding:co(e,0,8),n=dr(new a(s),t+bn(s)+1,e),r=ud(n.abs(),!1,t+bn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Qe.toInteger=Qe.toint=function(){var t=this,e=t.constructor;return dr(new e(t),bn(t)+1,e.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(t){var e,r,n,s,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(oi);if(l=new c(l),!l.s){if(t.s<1)throw Error(zi+"Infinity");return l}if(l.eq(oi))return l;if(n=c.precision,t.eq(oi))return dr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=d<0?-d:d)<=bQ){for(s=new c(oi),e=Math.ceil(n/Er+4),Or=!1;r%2&&(s=s.times(l),C$(s.d,e)),r=$m(r/2),r!==0;)l=l.times(l),C$(l.d,e);return Or=!0,t.s<0?new c(oi).div(s):dr(s,n)}}else if(a<0)throw Error(zi+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Or=!1,s=t.times(jx(l,n+u)),Or=!0,s=jQ(s),s.s=a,s};Qe.toPrecision=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?(r=bn(s),n=ud(s,r<=a.toExpNeg||r>=a.toExpPos)):(co(t,1,Mm),e===void 0?e=a.rounding:co(e,0,8),s=dr(new a(s),t,e),r=bn(s),n=ud(s,t<=r||r<=a.toExpNeg,t)),n};Qe.toSignificantDigits=Qe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(co(t,1,Mm),e===void 0?e=n.rounding:co(e,0,8)),dr(new n(r),t,e)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=bn(t),r=t.constructor;return ud(t,e<=r.toExpNeg||e>=r.toExpPos)};function wQ(t,e){var r,n,s,a,o,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Or?dr(e,h):e;if(c=t.d,u=e.d,o=t.e,s=e.e,c=c.slice(),a=o-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(h/Er),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/In|0,c[a]%=In;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,Or?dr(e,h):e}function co(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Wu+t)}function Wa(t){var e,r,n,s=t.length-1,a="",o=t[0];if(s>0){for(a+=o,e=1;e<s;e++)n=t[e]+"",r=Er-n.length,r&&(a+=Tl(r)),a+=n;o=t[e],n=o+"",r=Er-n.length,r&&(a+=Tl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Uo=function(){function t(n,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+o,n[l]=a%In|0,o=a/In|0;return o&&n.unshift(o),n}function e(n,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var o=0;a--;)n[a]-=o,o=n[a]<s[a]?1:0,n[a]=o*In+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,o){var l,c,u,d,h,f,m,x,p,v,w,b,j,N,E,C,P,S,A=n.constructor,T=n.s==s.s?1:-1,R=n.d,_=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(zi+"Division by zero");for(c=n.e-s.e,P=_.length,E=R.length,m=new A(T),x=m.d=[],u=0;_[u]==(R[u]||0);)++u;if(_[u]>(R[u]||0)&&--c,a==null?b=a=A.precision:o?b=a+(bn(n)-bn(s))+1:b=a,b<0)return new A(0);if(b=b/Er+2|0,u=0,P==1)for(d=0,_=_[0],b++;(u<E||d)&&b--;u++)j=d*In+(R[u]||0),x[u]=j/_|0,d=j%_|0;else{for(d=In/(_[0]+1)|0,d>1&&(_=t(_,d),R=t(R,d),P=_.length,E=R.length),N=P,p=R.slice(0,P),v=p.length;v<P;)p[v++]=0;S=_.slice(),S.unshift(0),C=_[0],_[1]>=In/2&&++C;do d=0,l=e(_,p,P,v),l<0?(w=p[0],P!=v&&(w=w*In+(p[1]||0)),d=w/C|0,d>1?(d>=In&&(d=In-1),h=t(_,d),f=h.length,v=p.length,l=e(h,p,f,v),l==1&&(d--,r(h,P<f?S:_,f))):(d==0&&(l=d=1),h=_.slice()),f=h.length,f<v&&h.unshift(0),r(p,h,v),l==-1&&(v=p.length,l=e(_,p,P,v),l<1&&(d++,r(p,P<v?S:_,v))),v=p.length):l===0&&(d++,p=[0]),x[u++]=d,l&&p[0]?p[v++]=R[N]||0:(p=[R[N]],v=1);while((N++<E||p[0]!==void 0)&&b--)}return x[0]||x.shift(),m.e=c,dr(m,o?a+bn(m)+1:a)}}();function jQ(t,e){var r,n,s,a,o,l,c=0,u=0,d=t.constructor,h=d.precision;if(bn(t)>16)throw Error(xR+bn(t));if(!t.s)return new d(oi);for(e==null?(Or=!1,l=h):l=e,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(hu(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(oi),d.precision=l;;){if(s=dr(s.times(t),l),r=r.times(++c),o=a.plus(Uo(s,r,l)),Wa(o.d).slice(0,l)===Wa(a.d).slice(0,l)){for(;u--;)a=dr(a.times(a),l);return d.precision=h,e==null?(Or=!0,dr(a,h)):a}a=o}}function bn(t){for(var e=t.e*Er,r=t.d[0];r>=10;r/=10)e++;return e}function OS(t,e,r){if(e>t.LN10.sd())throw Or=!0,r&&(t.precision=r),Error(zi+"LN10 precision limit exceeded");return dr(new t(t.LN10),e)}function Tl(t){for(var e="";t--;)e+="0";return e}function jx(t,e){var r,n,s,a,o,l,c,u,d,h=1,f=10,m=t,x=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(zi+(m.s?"NaN":"-Infinity"));if(m.eq(oi))return new p(0);if(e==null?(Or=!1,u=v):u=e,m.eq(10))return e==null&&(Or=!0),OS(p,u);if(u+=f,p.precision=u,r=Wa(x),n=r.charAt(0),a=bn(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Wa(m.d),n=r.charAt(0),h++;a=bn(m),n>1?(m=new p("0."+r),a++):m=new p(n+"."+r.slice(1))}else return c=OS(p,u+2,v).times(a+""),m=jx(new p(n+"."+r.slice(1)),u-f).plus(c),p.precision=v,e==null?(Or=!0,dr(m,v)):m;for(l=o=m=Uo(m.minus(oi),m.plus(oi),u),d=dr(m.times(m),u),s=3;;){if(o=dr(o.times(d),u),c=l.plus(Uo(o,new p(s),u)),Wa(c.d).slice(0,u)===Wa(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(OS(p,u+2,v).times(a+""))),l=Uo(l,new p(h),u),p.precision=v,e==null?(Or=!0,dr(l,v)):l;l=c,s+=2}}function T$(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=$m(r/Er),t.d=[],n=(r+1)%Er,r<0&&(n+=Er),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=Er;n<s;)t.d.push(+e.slice(n,n+=Er));e=e.slice(n),n=Er-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),Or&&(t.e>Sw||t.e<-Sw))throw Error(xR+r)}else t.s=0,t.e=0,t.d=[0];return t}function dr(t,e,r){var n,s,a,o,l,c,u,d,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Er,s=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Er),a=h.length,d>=a)return t;for(u=a=h[d],o=1;a>=10;a/=10)o++;n%=Er,s=n-Er+o}if(r!==void 0&&(a=hu(10,o-s-1),l=u/a%10|0,c=e<0||h[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/hu(10,o-s):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(a=bn(t),h.length=1,e=e-a-1,h[0]=hu(10,(Er-e%Er)%Er),t.e=$m(-e/Er)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=hu(10,Er-n),h[d]=s>0?(u/hu(10,o-s)%hu(10,s)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==In&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=In)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Or&&(t.e>Sw||t.e<-Sw))throw Error(xR+bn(t));return t}function NQ(t,e){var r,n,s,a,o,l,c,u,d,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Or?dr(e,m):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),s=Math.max(Math.ceil(m/Er),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=h.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){d=c[s]<h[s];break}o=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(a=s;a&&c[--a]===0;)c[a]=In-1;--c[a],c[s]+=In}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Or?dr(e,m):e):new f(0)}function ud(t,e,r){var n,s=bn(t),a=Wa(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Tl(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+Tl(-s-1)+a,r&&(n=r-o)>0&&(a+=Tl(n))):s>=o?(a+=Tl(s+1-o),r&&(n=r-s-1)>0&&(a=a+"."+Tl(n))):((n=s+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(a+="."),a+=Tl(n))),t.s<0?"-"+a:a}function C$(t,e){if(t.length>e)return t.length=e,!0}function SQ(t){var e,r,n;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Wu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return T$(o,a.toString())}else if(typeof a!="string")throw Error(Wu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,M$e.test(a))T$(o,a);else throw Error(Wu+a)}if(s.prototype=Qe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=SQ,s.config=s.set=$$e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function $$e(t){if(!t||typeof t!="object")throw Error(zi+"Object expected");var e,r,n,s=["precision",1,Mm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if($m(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Wu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wu+r+": "+n);return this}var yR=SQ(D$e);oi=new yR(1);const ir=yR;function L$e(t){return U$e(t)||B$e(t)||V$e(t)||F$e()}function F$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V$e(t,e){if(t){if(typeof t=="string")return H_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H_(t,e)}}function B$e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function U$e(t){if(Array.isArray(t))return H_(t)}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var q$e=function(e){return e},EQ={"@@functional/placeholder":!0},PQ=function(e){return e===EQ},k$=function(e){return function r(){return arguments.length===0||arguments.length===1&&PQ(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},z$e=function t(e,r){return e===1?r:k$(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==EQ}).length;return o>=e?r.apply(void 0,s):t(e-o,k$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(h){return PQ(h)?c.shift():h});return r.apply(void 0,L$e(d).concat(c))}))})},lN=function(e){return z$e(e.length,e)},G_=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},W$e=lN(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),H$e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return q$e;var s=r.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},K_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},_Q=function(e){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function G$e(t){var e;return t===0?e=1:e=Math.floor(new ir(t).abs().log(10).toNumber())+1,e}function K$e(t,e,r){for(var n=new ir(t),s=0,a=[];n.lt(e)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var Y$e=lN(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),Q$e=lN(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),X$e=lN(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const cN={rangeStep:K$e,getDigitCount:G$e,interpolateNumber:Y$e,uninterpolateNumber:Q$e,uninterpolateTruncation:X$e};function Y_(t){return eLe(t)||Z$e(t)||AQ(t)||J$e()}function J$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z$e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eLe(t){if(Array.isArray(t))return Q_(t)}function Nx(t,e){return nLe(t)||rLe(t,e)||AQ(t,e)||tLe()}function tLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AQ(t,e){if(t){if(typeof t=="string")return Q_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q_(t,e)}}function Q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rLe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw a}}return r}}function nLe(t){if(Array.isArray(t))return t}function TQ(t){var e=Nx(t,2),r=e[0],n=e[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function CQ(t,e,r){if(t.lte(0))return new ir(0);var n=cN.getDigitCount(t.toNumber()),s=new ir(10).pow(n),a=t.div(s),o=n!==1?.05:.1,l=new ir(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return e?c:new ir(Math.ceil(c))}function sLe(t,e,r){var n=1,s=new ir(t);if(!s.isint()&&r){var a=Math.abs(t);a<1?(n=new ir(10).pow(cN.getDigitCount(t)-1),s=new ir(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new ir(Math.floor(t)))}else t===0?s=new ir(Math.floor((e-1)/2)):r||(s=new ir(Math.floor(t)));var o=Math.floor((e-1)/2),l=H$e(W$e(function(c){return s.add(new ir(c-o).mul(n)).toNumber()}),G_);return l(0,e)}function kQ(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ir(0),tickMin:new ir(0),tickMax:new ir(0)};var a=CQ(new ir(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new ir(0):(o=new ir(t).add(e).div(2),o=o.sub(new ir(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new ir(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?kQ(t,e,r,n,s+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new ir(l).mul(a)),tickMax:o.add(new ir(c).mul(a))})}function iLe(t){var e=Nx(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=TQ([r,n]),c=Nx(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(Y_(G_(0,s-1).map(function(){return 1/0}))):[].concat(Y_(G_(0,s-1).map(function(){return-1/0})),[d]);return r>n?K_(h):h}if(u===d)return sLe(u,s,a);var f=kQ(u,d,o,a),m=f.step,x=f.tickMin,p=f.tickMax,v=cN.rangeStep(x,p.add(new ir(.1).mul(m)),m);return r>n?K_(v):v}function aLe(t,e){var r=Nx(t,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=TQ([n,s]),l=Nx(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(e,2),h=CQ(new ir(u).sub(c).div(d-1),a,0),f=[].concat(Y_(cN.rangeStep(new ir(c),new ir(u).sub(new ir(.99).mul(h)),h)),[u]);return n>s?K_(f):f}var oLe=_Q(iLe),lLe=_Q(aLe),cLe="Invariant failed";function dd(t,e){throw new Error(cLe)}var uLe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(this,arguments)}function dLe(t,e){return pLe(t)||mLe(t,e)||fLe(t,e)||hLe()}function hLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fLe(t,e){if(t){if(typeof t=="string")return I$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I$(t,e)}}function I$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pLe(t){if(Array.isArray(t))return t}function gLe(t,e){if(t==null)return{};var r=xLe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OQ(n.key),n)}}function bLe(t,e,r){return e&&vLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wLe(t,e,r){return e=Pw(e),jLe(t,IQ()?Reflect.construct(e,r||[],Pw(t).constructor):e.apply(t,r))}function jLe(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NLe(t)}function NLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IQ=function(){return!!t})()}function Pw(t){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pw(t)}function SLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},X_(t,e)}function RQ(t,e,r){return e=OQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OQ(t){var e=ELe(t,"string");return Df(e)=="symbol"?e:e+""}function ELe(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uN=function(t){function e(){return yLe(this,e),wLe(this,e,arguments)}return SLe(e,t),bLe(e,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=gLe(n,uLe),m=st(f,!1);this.props.direction==="x"&&d.type!=="number"&&dd();var x=c.map(function(p){var v=u(p,l),w=v.x,b=v.y,j=v.value,N=v.errorVal;if(!N)return null;var E=[],C,P;if(Array.isArray(N)){var S=dLe(N,2);C=S[0],P=S[1]}else C=P=N;if(a==="vertical"){var A=d.scale,T=b+s,R=T+o,_=T-o,I=A(j-C),M=A(j+P);E.push({x1:M,y1:R,x2:M,y2:_}),E.push({x1:I,y1:T,x2:M,y2:T}),E.push({x1:I,y1:R,x2:I,y2:_})}else if(a==="horizontal"){var z=h.scale,W=w+s,B=W-o,$=W+o,U=z(j-C),Y=z(j+P);E.push({x1:B,y1:Y,x2:$,y2:Y}),E.push({x1:W,y1:U,x2:W,y2:Y}),E.push({x1:B,y1:U,x2:$,y2:U})}return V.createElement(Ut,Ew({className:"recharts-errorBar",key:"bar-".concat(E.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},m),E.map(function(K){return V.createElement("line",Ew({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return V.createElement(Ut,{className:"recharts-errorBars"},x)}}])}(V.Component);RQ(uN,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});RQ(uN,"displayName","ErrorBar");function Sx(t){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(t)}function R$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ru(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R$(Object(r),!0).forEach(function(n){PLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PLe(t,e,r){return e=_Le(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Le(t){var e=ALe(t,"string");return Sx(e)=="symbol"?e:e+""}function ALe(t,e){if(Sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DQ=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,a=e.legendContent,o=ni(r,Dh);if(!o)return null;var l=Dh.defaultProps,c=l!==void 0?ru(ru({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,m=h.props,x=m.sectors||m.data||[];return d.concat(x.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?ru(ru({},f),h.props):{},x=m.dataKey,p=m.name,v=m.legendType,w=m.hide;return{inactive:w,dataKey:x,type:c.iconType||v||"square",color:vR(h),value:p||x,payload:m}}),ru(ru(ru({},c),Dh.getWithHeight(o,s)),{},{payload:u,item:o})};function Ex(t){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(t)}function O$(t){return ILe(t)||kLe(t)||CLe(t)||TLe()}function TLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CLe(t,e){if(t){if(typeof t=="string")return J_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J_(t,e)}}function kLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ILe(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(r),!0).forEach(function(n){$h(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $h(t,e,r){return e=RLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RLe(t){var e=OLe(t,"string");return Ex(e)=="symbol"?e:e+""}function OLe(t,e){if(Ex(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sn(t,e,r){return St(t)||St(e)?r:Pn(e)?fi(t,e,r):ft(e)?e(t):r}function gg(t,e,r,n){var s=k$e(t,function(l){return Sn(l,e)});if(r==="number"){var a=s.filter(function(l){return De(l)||parseFloat(l)});return a.length?[oN(a),Yl(a)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!St(l)}):s;return o.map(function(l){return Pn(l)||l instanceof Date?l:""})}var DLe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,h=s[u].coordinate,f=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(js(h-d)!==js(f-h)){var x=[];if(js(f-h)===js(c[1]-c[0])){m=f;var p=h+c[1]-c[0];x[0]=Math.min(p,(p+d)/2),x[1]=Math.max(p,(p+d)/2)}else{m=d;var v=f+c[1]-c[0];x[0]=Math.min(h,(v+h)/2),x[1]=Math.max(h,(v+h)/2)}var w=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){o=s[u].index;break}}else{var b=Math.min(d,f),j=Math.max(d,f);if(e>(b+h)/2&&e<=(j+h)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},vR=function(e){var r,n=e,s=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Jr(Jr({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},MLe=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var x=d[h[f]],p=x.items,v=x.cateAxisId,w=p.filter(function(P){return Bo(P.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,j=b!==void 0?Jr(Jr({},b),w[0].props):w[0].props,N=j.barSize,E=j[v];o[E]||(o[E]=[]);var C=St(N)?r:N;o[E].push({item:w[0],stackList:w.slice(1),barSize:St(C)?void 0:Ns(C,n,0)})}}return o},$Le=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Ns(r,s,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=s/c,x=o.reduce(function(N,E){return N+E.barSize||0},0);x+=(c-1)*u,x>=s&&(x-=(c-1)*u,u=0),x>=s&&m>0&&(f=!0,m*=.9,x=c*m);var p=(s-x)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(N,E){var C={item:E.item,position:{offset:v.offset+v.size+u,size:f?m:E.barSize}},P=[].concat(O$(N),[C]);return v=P[P.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(S){P.push({item:S,position:v})}),P},h)}else{var w=Ns(n,s,0,!0);s-2*w-(c-1)*u<=0&&(u=0);var b=(s-2*w-(c-1)*u)/c;b>1&&(b>>=0);var j=l===+l?Math.min(b,l):b;d=o.reduce(function(N,E,C){var P=[].concat(O$(N),[{item:E.item,position:{offset:w+(b+u)*C+(b-j)/2,size:j}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(S){P.push({item:S,position:P[P.length-1].position})}),P},h)}return d},LLe=function(e,r,n,s){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=DQ({children:a,legendWidth:c});if(u){var d=s||{},h=d.width,f=d.height,m=u.align,x=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&m!=="center"&&De(e[m]))return Jr(Jr({},e),{},$h({},m,e[m]+(h||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&x!=="middle"&&De(e[x]))return Jr(Jr({},e),{},$h({},x,e[x]+(f||0)))}return e},FLe=function(e,r,n){return St(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},MQ=function(e,r,n,s,a){var o=r.props.children,l=Vi(o,uN).filter(function(u){return FLe(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=Sn(d,n);if(St(h))return u;var f=Array.isArray(h)?[oN(h),Yl(h)]:[h,h],m=c.reduce(function(x,p){var v=Sn(d,p,0),w=f[0]-Math.abs(Array.isArray(v)?v[0]:v),b=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(w,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},VLe=function(e,r,n,s,a){var o=r.map(function(l){return MQ(e,l,n,a,s)}).filter(function(l){return!St(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},$Q=function(e,r,n,s,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&MQ(e,c,u,s)||gg(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},LQ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},FQ=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},$o=function(e,r,n){if(!e)return null;var s=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?js(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=a?a.indexOf(h):h;return{coordinate:s(f)+u,value:h,offset:u}});return d.filter(function(h){return!Cm(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:s(h)+u,value:h,index:f,offset:u}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(h){return{coordinate:s(h)+u,value:h,offset:u}}):s.domain().map(function(h,f){return{coordinate:s(h)+u,value:a?a[h]:h,index:f,offset:u}})},DS=new WeakMap,ev=function(e,r){if(typeof r!="function")return e;DS.has(e)||DS.set(e,new WeakMap);var n=DS.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},VQ=function(e,r,n){var s=e.scale,a=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:xx(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:bw(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pg(),realScaleType:"point"}:a==="category"?{scale:xx(),realScaleType:"band"}:{scale:bw(),realScaleType:"linear"};if(Dy(s)){var c="scale".concat(Hj(s));return{scale:(A$[c]||pg)(),realScaleType:A$[c]?c:"point"}}return ft(s)?{scale:s}:{scale:pg(),realScaleType:"point"}},M$=1e-4,BQ=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),a=Math.min(s[0],s[1])-M$,o=Math.max(s[0],s[1])+M$,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},BLe=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},ULe=function(e,r){if(!r||r.length!==2||!De(r[0])||!De(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!De(e[0])||e[0]<n)&&(a[0]=n),(!De(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},qLe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,o=0,l=0;l<r;++l){var c=Cm(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},zLe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,o=0;o<r;++o){var l=Cm(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},WLe={sign:qLe,expand:cTe,none:Pf,silhouette:uTe,wiggle:dTe,positive:zLe},HLe=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),a=WLe[n],o=lTe().keys(s).value(function(l,c){return+Sn(l,c,0)}).order(N_).offset(a);return o(e)},GLe=function(e,r,n,s,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,f){var m,x=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Jr(Jr({},f.type.defaultProps),f.props):f.props,p=x.stackId,v=x.hide;if(v)return h;var w=x[n],b=h[w]||{hasStack:!1,stackGroups:{}};if(Pn(p)){var j=b.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};j.items.push(f),b.hasStack=!0,b.stackGroups[p]=j}else b.stackGroups[km("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[f]};return Jr(Jr({},h),{},$h({},w,b))},c),d={};return Object.keys(u).reduce(function(h,f){var m=u[f];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var w=m.stackGroups[v];return Jr(Jr({},p),{},$h({},v,{numericAxisId:n,cateAxisId:s,items:w.items,stackedData:HLe(e,w.items,a)}))},x)}return Jr(Jr({},h),{},$h({},f,m))},d)},UQ=function(e,r){var n=r.realScaleType,s=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=oLe(u,a,l);return e.domain([oN(d),Yl(d)]),{niceTicks:d}}if(a&&s==="number"){var h=e.domain(),f=lLe(h,a,l);return{niceTicks:f}}return null};function $$(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!St(s[e.dataKey])){var l=Zb(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Sn(s,St(o)?e.dataKey:o);return St(c)?null:e.scale(c)}var L$=function(e){var r=e.axis,n=e.ticks,s=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=Sn(o,r.dataKey,r.domain[l]);return St(c)?null:r.scale(c)-a/2+s},KLe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},YLe=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Jr(Jr({},e.type.defaultProps),e.props):e.props,a=s.stackId;if(Pn(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},QLe=function(e){return e.reduce(function(r,n){return[oN(n.concat([r[0]]).filter(De)),Yl(n.concat([r[1]]).filter(De))]},[1/0,-1/0])},qQ=function(e,r,n){return Object.keys(e).reduce(function(s,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var h=QLe(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},F$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,V$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z_=function(e,r,n){if(ft(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(De(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(F$.test(e[0])){var a=+F$.exec(e[0])[1];s[0]=r[0]-a}else ft(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(De(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(V$.test(e[1])){var o=+V$.exec(e[1])[1];s[1]=r[1]+o}else ft(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},_w=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var a=GI(r,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},B$=function(e,r,n){return!e||!e.length||Of(e,fi(n,"type.defaultProps.domain"))?r:e},zQ=function(e,r){var n=e.type.defaultProps?Jr(Jr({},e.type.defaultProps),e.props):e.props,s=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Jr(Jr({},st(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:vR(e),value:Sn(r,s),type:c,payload:r,chartType:u,hide:d})};function Px(t){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Px(t)}function U$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function So(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(r),!0).forEach(function(n){WQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WQ(t,e,r){return e=XLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XLe(t){var e=JLe(t,"string");return Px(e)=="symbol"?e:e+""}function JLe(t,e){if(Px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZLe(t,e){return nFe(t)||rFe(t,e)||tFe(t,e)||eFe()}function eFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tFe(t,e){if(t){if(typeof t=="string")return q$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q$(t,e)}}function q$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function nFe(t){if(Array.isArray(t))return t}var Aw=Math.PI/180,sFe=function(e){return e*180/Math.PI},br=function(e,r,n,s){return{x:e+Math.cos(-Aw*s)*n,y:r+Math.sin(-Aw*s)*n}},HQ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},iFe=function(e,r,n,s,a){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Ns(e.cx,o,o/2),h=Ns(e.cy,l,l/2),f=HQ(o,l,n),m=Ns(e.innerRadius,f,0),x=Ns(e.outerRadius,f,f*.8),p=Object.keys(r);return p.reduce(function(v,w){var b=r[w],j=b.domain,N=b.reversed,E;if(St(b.range))s==="angleAxis"?E=[c,u]:s==="radiusAxis"&&(E=[m,x]),N&&(E=[E[1],E[0]]);else{E=b.range;var C=E,P=ZLe(C,2);c=P[0],u=P[1]}var S=VQ(b,a),A=S.realScaleType,T=S.scale;T.domain(j).range(E),BQ(T);var R=UQ(T,So(So({},b),{},{realScaleType:A})),_=So(So(So({},b),R),{},{range:E,radius:x,realScaleType:A,scale:T,cx:d,cy:h,innerRadius:m,outerRadius:x,startAngle:c,endAngle:u});return So(So({},v),{},WQ({},w,_))},{})},aFe=function(e,r){var n=e.x,s=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-o,2))},oFe=function(e,r){var n=e.x,s=e.y,a=r.cx,o=r.cy,l=aFe({x:n,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:sFe(u),angleInRadian:u}},lFe=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(s,a);return{startAngle:r-o*360,endAngle:n-o*360}},cFe=function(e,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(a,o);return e+l*360},z$=function(e,r){var n=e.x,s=e.y,a=oFe({x:n,y:s},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=lFe(r),h=d.startAngle,f=d.endAngle,m=l,x;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}return x?So(So({},r),{},{radius:o,angle:cFe(m,r)}):null},GQ=function(e){return!g.isValidElement(e)&&!ft(e)&&typeof e!="boolean"?e.className:""};function _x(t){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(t)}var uFe=["offset"];function dFe(t){return pFe(t)||mFe(t)||fFe(t)||hFe()}function hFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fFe(t,e){if(t){if(typeof t=="string")return eA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(t,e)}}function mFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pFe(t){if(Array.isArray(t))return eA(t)}function eA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gFe(t,e){if(t==null)return{};var r=xFe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function W$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(r),!0).forEach(function(n){yFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yFe(t,e,r){return e=vFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vFe(t){var e=bFe(t,"string");return _x(e)=="symbol"?e:e+""}function bFe(t,e){if(_x(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ax.apply(this,arguments)}var wFe=function(e){var r=e.value,n=e.formatter,s=St(e.children)?r:e.children;return ft(n)?n(s):s},jFe=function(e,r){var n=js(r-e),s=Math.min(Math.abs(r-e),360);return n*s},NFe=function(e,r,n){var s=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,x=c.endAngle,p=c.clockWise,v=(h+f)/2,w=jFe(m,x),b=w>=0?1:-1,j,N;s==="insideStart"?(j=m+b*o,N=p):s==="insideEnd"?(j=x-b*o,N=!p):s==="end"&&(j=x+b*o,N=p),N=w<=0?N:!N;var E=br(u,d,v,j),C=br(u,d,v,j+(N?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),S=St(e.id)?km("recharts-radial-line-"):e.id;return V.createElement("text",Ax({},n,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:S,d:P})),V.createElement("textPath",{xlinkHref:"#".concat(S)},r))},SFe=function(e){var r=e.viewBox,n=e.offset,s=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,f=(d+h)/2;if(s==="outside"){var m=br(o,l,u+n,f),x=m.x,p=m.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,w=br(o,l,v,f),b=w.x,j=w.y;return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},EFe=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*s,m=h>0?"end":"start",x=h>0?"start":"end",p=u>=0?1:-1,v=p*s,w=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var j={x:l+u/2,y:c-h*s,textAnchor:"middle",verticalAnchor:m};return jn(jn({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var N={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:x};return jn(jn({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var E={x:l-v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return jn(jn({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(a==="right"){var C={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return jn(jn({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var P=n?{width:u,height:d}:{};return a==="insideLeft"?jn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},P):a==="insideRight"?jn({x:l+u-v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},P):a==="insideTop"?jn({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?jn({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:m},P):a==="insideTopLeft"?jn({x:l+v,y:c+f,textAnchor:b,verticalAnchor:x},P):a==="insideTopRight"?jn({x:l+u-v,y:c+f,textAnchor:w,verticalAnchor:x},P):a==="insideBottomLeft"?jn({x:l+v,y:c+d-f,textAnchor:b,verticalAnchor:m},P):a==="insideBottomRight"?jn({x:l+u-v,y:c+d-f,textAnchor:w,verticalAnchor:m},P):Pm(a)&&(De(a.x)||Nu(a.x))&&(De(a.y)||Nu(a.y))?jn({x:l+Ns(a.x,u),y:c+Ns(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):jn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},PFe=function(e){return"cx"in e&&De(e.cx)};function Dn(t){var e=t.offset,r=e===void 0?5:e,n=gFe(t,uFe),s=jn({offset:r},n),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,h=d===void 0?"":d,f=s.textBreakAll;if(!a||St(l)&&St(c)&&!g.isValidElement(u)&&!ft(u))return null;if(g.isValidElement(u))return g.cloneElement(u,s);var m;if(ft(u)){if(m=g.createElement(u,s),g.isValidElement(m))return m}else m=wFe(s);var x=PFe(a),p=st(s,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return NFe(s,m,p);var v=x?SFe(s):EFe(s);return V.createElement(cd,Ax({className:Et("recharts-label",h)},p,v,{breakAll:f}),m)}Dn.displayName="Label";var KQ=function(e){var r=e.cx,n=e.cy,s=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,m=e.top,x=e.left,p=e.width,v=e.height,w=e.clockWise,b=e.labelViewBox;if(b)return b;if(De(p)&&De(v)){if(De(h)&&De(f))return{x:h,y:f,width:p,height:v};if(De(m)&&De(x))return{x:m,y:x,width:p,height:v}}return De(h)&&De(f)?{x:h,y:f,width:0,height:0}:De(r)&&De(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:w}:e.viewBox?e.viewBox:{}},_Fe=function(e,r){return e?e===!0?V.createElement(Dn,{key:"label-implicit",viewBox:r}):Pn(e)?V.createElement(Dn,{key:"label-implicit",viewBox:r,value:e}):g.isValidElement(e)?e.type===Dn?g.cloneElement(e,{key:"label-implicit",viewBox:r}):V.createElement(Dn,{key:"label-implicit",content:e,viewBox:r}):ft(e)?V.createElement(Dn,{key:"label-implicit",content:e,viewBox:r}):Pm(e)?V.createElement(Dn,Ax({viewBox:r},e,{key:"label-implicit"})):null:null},AFe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=KQ(e),o=Vi(s,Dn).map(function(c,u){return g.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=_Fe(e.label,r||a);return[l].concat(dFe(o))};Dn.parseViewBox=KQ;Dn.renderCallByParent=AFe;function TFe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var CFe=TFe;const kFe=Qt(CFe);function Tx(t){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tx(t)}var IFe=["valueAccessor"],RFe=["data","dataKey","clockWise","id","textBreakAll"];function OFe(t){return LFe(t)||$Fe(t)||MFe(t)||DFe()}function DFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MFe(t,e){if(t){if(typeof t=="string")return tA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tA(t,e)}}function $Fe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LFe(t){if(Array.isArray(t))return tA(t)}function tA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(this,arguments)}function H$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function G$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H$(Object(r),!0).forEach(function(n){FFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FFe(t,e,r){return e=VFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VFe(t){var e=BFe(t,"string");return Tx(e)=="symbol"?e:e+""}function BFe(t,e){if(Tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K$(t,e){if(t==null)return{};var r=UFe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qFe=function(e){return Array.isArray(e.value)?kFe(e.value):e.value};function qo(t){var e=t.valueAccessor,r=e===void 0?qFe:e,n=K$(t,IFe),s=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=K$(n,RFe);return!s||!s.length?null:V.createElement(Ut,{className:"recharts-label-list"},s.map(function(d,h){var f=St(a)?r(d,h):Sn(d&&d.payload,a),m=St(l)?{}:{id:"".concat(l,"-").concat(h)};return V.createElement(Dn,Tw({},st(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Dn.parseViewBox(St(o)?d:G$(G$({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}qo.displayName="LabelList";function zFe(t,e){return t?t===!0?V.createElement(qo,{key:"labelList-implicit",data:e}):V.isValidElement(t)||ft(t)?V.createElement(qo,{key:"labelList-implicit",data:e,content:t}):Pm(t)?V.createElement(qo,Tw({data:e},t,{key:"labelList-implicit"})):null:null}function WFe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=Vi(n,qo).map(function(o,l){return g.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var a=zFe(t.label,e);return[a].concat(OFe(s))}qo.renderCallByParent=WFe;function Cx(t){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cx(t)}function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rA.apply(this,arguments)}function Y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Q$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(r),!0).forEach(function(n){HFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HFe(t,e,r){return e=GFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GFe(t){var e=KFe(t,"string");return Cx(e)=="symbol"?e:e+""}function KFe(t,e){if(Cx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YFe=function(e,r){var n=js(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},tv=function(e){var r=e.cx,n=e.cy,s=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,h=Math.asin(c/d)/Aw,f=u?a:a+o*h,m=br(r,n,d,f),x=br(r,n,s,f),p=u?a-o*h:a,v=br(r,n,d*Math.cos(h*Aw),p);return{center:m,circleTangency:x,lineTangency:v,theta:h}},YQ=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=YFe(o,l),u=o+c,d=br(r,n,a,o),h=br(r,n,a,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var m=br(r,n,s,o),x=br(r,n,s,u);f+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},QFe=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=js(d-u),f=tv({cx:r,cy:n,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,x=f.lineTangency,p=f.theta,v=tv({cx:r,cy:n,radius:a,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),w=v.circleTangency,b=v.lineTangency,j=v.theta,N=c?Math.abs(u-d):Math.abs(u-d)-p-j;if(N<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):YQ({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var E="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var C=tv({cx:r,cy:n,radius:s,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=C.circleTangency,S=C.lineTangency,A=C.theta,T=tv({cx:r,cy:n,radius:s,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),R=T.circleTangency,_=T.lineTangency,I=T.theta,M=c?Math.abs(u-d):Math.abs(u-d)-A-I;if(M<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},XFe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QQ=function(e){var r=Q$(Q$({},XFe),e),n=r.cx,s=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(o<a||d===h)return null;var m=Et("recharts-sector",f),x=o-a,p=Ns(l,x,0,!0),v;return p>0&&Math.abs(d-h)<360?v=QFe({cx:n,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):v=YQ({cx:n,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:h}),V.createElement("path",rA({},st(r,!0),{className:m,d:v,role:"img"}))};function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(t)}function nA(){return nA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nA.apply(this,arguments)}function X$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function J$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X$(Object(r),!0).forEach(function(n){JFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JFe(t,e,r){return e=ZFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZFe(t){var e=eVe(t,"string");return kx(e)=="symbol"?e:e+""}function eVe(t,e){if(kx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z$={curveBasisClosed:XAe,curveBasisOpen:JAe,curveBasis:QAe,curveBumpX:MAe,curveBumpY:$Ae,curveLinearClosed:ZAe,curveLinear:Kj,curveMonotoneX:eTe,curveMonotoneY:tTe,curveNatural:rTe,curveStep:nTe,curveStepAfter:iTe,curveStepBefore:sTe},rv=function(e){return e.x===+e.x&&e.y===+e.y},bp=function(e){return e.x},wp=function(e){return e.y},tVe=function(e,r){if(ft(e))return e;var n="curve".concat(Hj(e));return(n==="curveMonotone"||n==="curveBump")&&r?Z$["".concat(n).concat(r==="vertical"?"Y":"X")]:Z$[n]||Kj},rVe=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,a=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=tVe(n,l),h=u?a.filter(function(p){return rv(p)}):a,f;if(Array.isArray(o)){var m=u?o.filter(function(p){return rv(p)}):o,x=h.map(function(p,v){return J$(J$({},p),{},{base:m[v]})});return l==="vertical"?f=H0().y(wp).x1(bp).x0(function(p){return p.base.x}):f=H0().x(bp).y1(wp).y0(function(p){return p.base.y}),f.defined(rv).curve(d),f(x)}return l==="vertical"&&De(o)?f=H0().y(wp).x1(bp).x0(o):De(o)?f=H0().x(bp).y1(wp).y0(o):f=zK().x(bp).y(wp),f.defined(rv).curve(d),f(h)},Lh=function(e){var r=e.className,n=e.points,s=e.path,a=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?rVe(e):s;return V.createElement("path",nA({},st(e,!1),ew(e),{className:Et("recharts-curve",r),d:o,ref:a}))},XQ={exports:{}},nVe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sVe=nVe,iVe=sVe;function JQ(){}function ZQ(){}ZQ.resetWarningCache=JQ;var aVe=function(){function t(n,s,a,o,l,c){if(c!==iVe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZQ,resetWarningCache:JQ};return r.PropTypes=r,r};XQ.exports=aVe();var oVe=XQ.exports;const _t=Qt(oVe);var lVe=Object.getOwnPropertyNames,cVe=Object.getOwnPropertySymbols,uVe=Object.prototype.hasOwnProperty;function eL(t,e){return function(n,s,a){return t(n,s,a)&&e(n,s,a)}}function nv(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var a=s.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=t(r,n,s);return a.delete(r),a.delete(n),c}}function tL(t){return lVe(t).concat(cVe(t))}var eX=Object.hasOwn||function(t,e){return uVe.call(t,e)};function Lm(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var tX="_owner",rL=Object.getOwnPropertyDescriptor,nL=Object.keys;function dVe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function hVe(t,e){return Lm(t.getTime(),e.getTime())}function sL(t,e,r){if(t.size!==e.size)return!1;for(var n={},s=t.entries(),a=0,o,l;(o=s.next())&&!o.done;){for(var c=e.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var h=o.value,f=h[0],m=h[1],x=l.value,p=x[0],v=x[1];!u&&!n[d]&&(u=r.equals(f,p,a,d,t,e,r)&&r.equals(m,v,f,p,t,e,r))&&(n[d]=!0),d++}if(!u)return!1;a++}return!0}function fVe(t,e,r){var n=nL(t),s=n.length;if(nL(e).length!==s)return!1;for(var a;s-- >0;)if(a=n[s],a===tX&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!eX(e,a)||!r.equals(t[a],e[a],a,a,t,e,r))return!1;return!0}function jp(t,e,r){var n=tL(t),s=n.length;if(tL(e).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=n[s],a===tX&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!eX(e,a)||!r.equals(t[a],e[a],a,a,t,e,r)||(o=rL(t,a),l=rL(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function mVe(t,e){return Lm(t.valueOf(),e.valueOf())}function pVe(t,e){return t.source===e.source&&t.flags===e.flags}function iL(t,e,r){if(t.size!==e.size)return!1;for(var n={},s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(a.value,o.value,a.value,o.value,t,e,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function gVe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var xVe="[object Arguments]",yVe="[object Boolean]",vVe="[object Date]",bVe="[object Map]",wVe="[object Number]",jVe="[object Object]",NVe="[object RegExp]",SVe="[object Set]",EVe="[object String]",PVe=Array.isArray,aL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,oL=Object.assign,_Ve=Object.prototype.toString.call.bind(Object.prototype.toString);function AVe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,s=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(d,h,f){if(d===h)return!0;if(d==null||h==null||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;var m=d.constructor;if(m!==h.constructor)return!1;if(m===Object)return s(d,h,f);if(PVe(d))return e(d,h,f);if(aL!=null&&aL(d))return c(d,h,f);if(m===Date)return r(d,h,f);if(m===RegExp)return o(d,h,f);if(m===Map)return n(d,h,f);if(m===Set)return l(d,h,f);var x=_Ve(d);return x===vVe?r(d,h,f):x===NVe?o(d,h,f):x===bVe?n(d,h,f):x===SVe?l(d,h,f):x===jVe?typeof d.then!="function"&&typeof h.then!="function"&&s(d,h,f):x===xVe?s(d,h,f):x===yVe||x===wVe||x===EVe?a(d,h,f):!1}}function TVe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?jp:dVe,areDatesEqual:hVe,areMapsEqual:n?eL(sL,jp):sL,areObjectsEqual:n?jp:fVe,arePrimitiveWrappersEqual:mVe,areRegExpsEqual:pVe,areSetsEqual:n?eL(iL,jp):iL,areTypedArraysEqual:n?jp:gVe};if(r&&(s=oL({},s,r(s))),e){var a=nv(s.areArraysEqual),o=nv(s.areMapsEqual),l=nv(s.areObjectsEqual),c=nv(s.areSetsEqual);s=oL({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function CVe(t){return function(e,r,n,s,a,o,l){return t(e,r,l)}}function kVe(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,a=t.strict;if(n)return function(c,u){var d=n(),h=d.cache,f=h===void 0?e?new WeakMap:void 0:h,m=d.meta;return r(c,u,{cache:f,equals:s,meta:m,strict:a})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var IVe=Gc();Gc({strict:!0});Gc({circular:!0});Gc({circular:!0,strict:!0});Gc({createInternalComparator:function(){return Lm}});Gc({strict:!0,createInternalComparator:function(){return Lm}});Gc({circular:!0,createInternalComparator:function(){return Lm}});Gc({circular:!0,createInternalComparator:function(){return Lm},strict:!0});function Gc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,a=t.strict,o=a===void 0?!1:a,l=TVe(t),c=AVe(l),u=n?n(c):CVe(c);return kVe({circular:r,comparator:c,createState:s,equals:u,strict:o})}function RVe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function lL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>e?(t(a),r=-1):RVe(s)};requestAnimationFrame(n)}function sA(t){"@babel/helpers - typeof";return sA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sA(t)}function OVe(t){return LVe(t)||$Ve(t)||MVe(t)||DVe()}function DVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MVe(t,e){if(t){if(typeof t=="string")return cL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cL(t,e)}}function cL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Ve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LVe(t){if(Array.isArray(t))return t}function FVe(){var t={},e=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=OVe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){lL(s.bind(null,u),c);return}s(c),lL(s.bind(null,u));return}sA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Ix(t){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ix(t)}function uL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function dL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(r),!0).forEach(function(n){rX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rX(t,e,r){return e=VVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VVe(t){var e=BVe(t,"string");return Ix(e)==="symbol"?e:String(e)}function BVe(t,e){if(Ix(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ix(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UVe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},qVe=function(e){return e},zVe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},xg=function(e,r){return Object.keys(r).reduce(function(n,s){return dL(dL({},n),{},rX({},s,e(s,r[s])))},{})},hL=function(e,r,n){return e.map(function(s){return"".concat(zVe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function WVe(t,e){return KVe(t)||GVe(t,e)||nX(t,e)||HVe()}function HVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function KVe(t){if(Array.isArray(t))return t}function YVe(t){return JVe(t)||XVe(t)||nX(t)||QVe()}function QVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nX(t,e){if(t){if(typeof t=="string")return iA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iA(t,e)}}function XVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JVe(t){if(Array.isArray(t))return iA(t)}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Cw=1e-4,sX=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},iX=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},fL=function(e,r){return function(n){var s=sX(e,r);return iX(s,n)}},ZVe=function(e,r){return function(n){var s=sX(e,r),a=[].concat(YVe(s.map(function(o,l){return o*l}).slice(1)),[0]);return iX(a,n)}},mL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=WVe(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var h=fL(s,o),f=fL(a,l),m=ZVe(s,o),x=function(w){return w>1?1:w<0?0:w},p=function(w){for(var b=w>1?1:w,j=b,N=0;N<8;++N){var E=h(j)-b,C=m(j);if(Math.abs(E-b)<Cw||C<Cw)return f(j);j=x(j-E/C)}return f(j)};return p.isStepper=!1,p},e8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,a=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(d,h,f){var m=-(d-h)*n,x=f*a,p=f+(m-x)*l/1e3,v=f*l/1e3+d;return Math.abs(v-h)<Cw&&Math.abs(p)<Cw?[h,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},t8e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mL(s);case"spring":return e8e();default:if(s.split("(")[0]==="cubic-bezier")return mL(s)}return typeof s=="function"?s:null};function Rx(t){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(t)}function pL(t){return s8e(t)||n8e(t)||aX(t)||r8e()}function r8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s8e(t){if(Array.isArray(t))return oA(t)}function gL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(r),!0).forEach(function(n){aA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aA(t,e,r){return e=i8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i8e(t){var e=a8e(t,"string");return Rx(e)==="symbol"?e:String(e)}function a8e(t,e){if(Rx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o8e(t,e){return u8e(t)||c8e(t,e)||aX(t,e)||l8e()}function l8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aX(t,e){if(t){if(typeof t=="string")return oA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oA(t,e)}}function oA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function u8e(t){if(Array.isArray(t))return t}var kw=function(e,r,n){return e+(r-e)*n},lA=function(e){var r=e.from,n=e.to;return r!==n},d8e=function t(e,r,n){var s=xg(function(a,o){if(lA(o)){var l=e(o.from,o.to,o.velocity),c=o8e(l,2),u=c[0],d=c[1];return qn(qn({},o),{},{from:u,velocity:d})}return o},r);return n<1?xg(function(a,o){return lA(o)?qn(qn({},o),{},{velocity:kw(o.velocity,s[a].velocity,n),from:kw(o.from,s[a].from,n)}):o},r):t(e,s,n-1)};const h8e=function(t,e,r,n,s){var a=UVe(t,e),o=a.reduce(function(v,w){return qn(qn({},v),{},aA({},w,[t[w],e[w]]))},{}),l=a.reduce(function(v,w){return qn(qn({},v),{},aA({},w,{from:t[w],velocity:0,to:e[w]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return xg(function(w,b){return b.from},l)},m=function(){return!Object.values(l).filter(lA).length},x=function(w){u||(u=w);var b=w-u,j=b/r.dt;l=d8e(r,l,j),s(qn(qn(qn({},t),e),f())),u=w,m()||(c=requestAnimationFrame(h))},p=function(w){d||(d=w);var b=(w-d)/n,j=xg(function(E,C){return kw.apply(void 0,pL(C).concat([r(b)]))},o);if(s(qn(qn(qn({},t),e),j)),b<1)c=requestAnimationFrame(h);else{var N=xg(function(E,C){return kw.apply(void 0,pL(C).concat([r(1)]))},o);s(qn(qn(qn({},t),e),N))}};return h=r.isStepper?x:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var f8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function m8e(t,e){if(t==null)return{};var r=p8e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function p8e(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function MS(t){return v8e(t)||y8e(t)||x8e(t)||g8e()}function g8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8e(t,e){if(t){if(typeof t=="string")return cA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cA(t,e)}}function y8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v8e(t){if(Array.isArray(t))return cA(t)}function cA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(r),!0).forEach(function(n){$p(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $p(t,e,r){return e=oX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oX(n.key),n)}}function j8e(t,e,r){return e&&w8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oX(t){var e=N8e(t,"string");return Mf(e)==="symbol"?e:String(e)}function N8e(t,e){if(Mf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uA(t,e)}function uA(t,e){return uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},uA(t,e)}function E8e(t){var e=P8e();return function(){var n=Iw(t),s;if(e){var a=Iw(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return dA(this,s)}}function dA(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hA(t)}function hA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Iw(t){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iw(t)}var uo=function(t){S8e(r,t);var e=E8e(r);function r(n,s){var a;b8e(this,r),a=e.call(this,n,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(hA(a)),a.changeStyle=a.changeStyle.bind(hA(a)),!l||m<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:d}),dA(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof f=="function")return a.state={style:u},dA(a);a.state={style:c?$p({},c,u):u}}else a.state={style:{}};return a}return j8e(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,f=this.state.style;if(l){if(!o){var m={style:c?$p({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(m);return}if(!(IVe(s.to,d)&&s.canBegin&&s.isActive)){var x=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||u?h:s.to;if(this.state&&f){var v={style:c?$p({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(v)}this.runAnimation(Ji(Ji({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,h=s.onAnimationEnd,f=s.onAnimationStart,m=h8e(o,l,t8e(u),c,this.changeStyle),x=function(){a.stopJSAnimation=m()};this.manager.start([f,d,x,c,h])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,m=function(p,v,w){if(w===0)return p;var b=v.duration,j=v.easing,N=j===void 0?"ease":j,E=v.style,C=v.properties,P=v.onAnimationEnd,S=w>0?o[w-1]:v,A=C||Object.keys(E);if(typeof N=="function"||N==="spring")return[].concat(MS(p),[a.runJSAnimation.bind(a,{from:S.style,to:E,duration:b,easing:N}),b]);var T=hL(A,b,N),R=Ji(Ji(Ji({},S.style),E),{},{transition:T});return[].concat(MS(p),[R,b,P]).filter(qVe)};return this.manager.start([c].concat(MS(o.reduce(m,[d,Math.max(f,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=FVe());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,h=s.onAnimationEnd,f=s.steps,m=s.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var p=l?$p({},l,c):c,v=hL(Object.keys(p),o,u);x.start([d,a,Ji(Ji({},p),{},{transition:v}),o,h])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=m8e(s,f8e),u=g.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var h=function(m){var x=m.props,p=x.style,v=p===void 0?{}:p,w=x.className,b=g.cloneElement(m,Ji(Ji({},c),{},{style:Ji(Ji({},v),d),className:w}));return b};return u===1?h(g.Children.only(a)):V.createElement("div",null,g.Children.map(a,function(f){return h(f)}))}}]),r}(g.PureComponent);uo.displayName="Animate";uo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uo.propTypes={from:_t.oneOfType([_t.object,_t.string]),to:_t.oneOfType([_t.object,_t.string]),attributeName:_t.string,duration:_t.number,begin:_t.number,easing:_t.oneOfType([_t.string,_t.func]),steps:_t.arrayOf(_t.shape({duration:_t.number.isRequired,style:_t.object.isRequired,easing:_t.oneOfType([_t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_t.func]),properties:_t.arrayOf("string"),onAnimationEnd:_t.func})),children:_t.oneOfType([_t.node,_t.func]),isActive:_t.bool,canBegin:_t.bool,onAnimationEnd:_t.func,shouldReAnimate:_t.bool,onAnimationStart:_t.func,onAnimationReStart:_t.func};_t.object,_t.object,_t.object,_t.element;_t.object,_t.object,_t.object,_t.oneOfType([_t.array,_t.element]),_t.any;function Ox(t){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(t)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rw.apply(this,arguments)}function _8e(t,e){return k8e(t)||C8e(t,e)||T8e(t,e)||A8e()}function A8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T8e(t,e){if(t){if(typeof t=="string")return yL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yL(t,e)}}function yL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function k8e(t){if(Array.isArray(t))return t}function vL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(r),!0).forEach(function(n){I8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I8e(t,e,r){return e=R8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R8e(t){var e=O8e(t,"string");return Ox(e)=="symbol"?e:e+""}function O8e(t,e){if(Ox(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wL=function(e,r,n,s,a){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=a[f]>o?o:a[f];d="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),d+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*h[1])),d+="L ".concat(e+n,",").concat(r+s-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+s)),d+="L ".concat(e+c*h[3],",").concat(r+s),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+s-l*h[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);d="M ".concat(e,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*x,`
            L `).concat(e+n,",").concat(r+s-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-c*x,",").concat(r+s,`
            L `).concat(e+c*x,",").concat(r+s,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(r+s-l*x," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},D8e=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return n>=u&&n<=d&&s>=h&&s<=f}return!1},M8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bR=function(e){var r=bL(bL({},M8e),e),n=g.useRef(),s=g.useState(-1),a=_8e(s,2),o=a[0],l=a[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,w=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var j=Et("recharts-rectangle",m);return b?V.createElement(uo,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:p,animationEasing:x,isActive:b},function(N){var E=N.width,C=N.height,P=N.x,S=N.y;return V.createElement(uo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:w,easing:x},V.createElement("path",Rw({},st(r,!0),{className:j,d:wL(P,S,E,C,f),ref:n})))}):V.createElement("path",Rw({},st(r,!0),{className:j,d:wL(c,u,d,h,f)}))},$8e=["points","className","baseLinePoints","connectNulls"];function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hh.apply(this,arguments)}function L8e(t,e){if(t==null)return{};var r=F8e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jL(t){return q8e(t)||U8e(t)||B8e(t)||V8e()}function V8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8e(t,e){if(t){if(typeof t=="string")return fA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(t,e)}}function U8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q8e(t){if(Array.isArray(t))return fA(t)}function fA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var NL=function(e){return e&&e.x===+e.x&&e.y===+e.y},z8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){NL(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),NL(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},yg=function(e,r){var n=z8e(e);r&&(n=[n.reduce(function(a,o){return[].concat(jL(a),jL(o))},[])]);var s=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},W8e=function(e,r,n){var s=yg(e,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(yg(r.reverse(),n).slice(1))},H8e=function(e){var r=e.points,n=e.className,s=e.baseLinePoints,a=e.connectNulls,o=L8e(e,$8e);if(!r||!r.length)return null;var l=Et("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=W8e(r,s,a);return V.createElement("g",{className:l},V.createElement("path",hh({},st(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?V.createElement("path",hh({},st(o,!0),{fill:"none",d:yg(r,a)})):null,c?V.createElement("path",hh({},st(o,!0),{fill:"none",d:yg(s,a)})):null)}var d=yg(r,a);return V.createElement("path",hh({},st(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function mA(){return mA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mA.apply(this,arguments)}var dN=function(e){var r=e.cx,n=e.cy,s=e.r,a=e.className,o=Et("recharts-dot",a);return r===+r&&n===+n&&s===+s?V.createElement("circle",mA({},st(e,!1),ew(e),{className:o,cx:r,cy:n,r:s})):null};function Dx(t){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(t)}var G8e=["x","y","top","left","width","height","className"];function pA(){return pA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pA.apply(this,arguments)}function SL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function K8e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(r),!0).forEach(function(n){Y8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y8e(t,e,r){return e=Q8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q8e(t){var e=X8e(t,"string");return Dx(e)=="symbol"?e:e+""}function X8e(t,e){if(Dx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J8e(t,e){if(t==null)return{};var r=Z8e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var e9e=function(e,r,n,s,a,o){return"M".concat(e,",").concat(a,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},t9e=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,f=e.height,m=f===void 0?0:f,x=e.className,p=J8e(e,G8e),v=K8e({x:n,y:a,top:l,left:u,width:h,height:m},p);return!De(n)||!De(a)||!De(h)||!De(m)||!De(l)||!De(u)?null:V.createElement("path",pA({},st(v,!0),{className:Et("recharts-cross",x),d:e9e(n,a,h,m,l,u)}))},r9e=aN,n9e=yQ,s9e=mo;function i9e(t,e){return t&&t.length?r9e(t,s9e(e),n9e):void 0}var a9e=i9e;const o9e=Qt(a9e);var l9e=aN,c9e=mo,u9e=vQ;function d9e(t,e){return t&&t.length?l9e(t,c9e(e),u9e):void 0}var h9e=d9e;const f9e=Qt(h9e);var m9e=["cx","cy","angle","ticks","axisLine"],p9e=["ticks","tick","angle","tickFormatter","stroke"];function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vg.apply(this,arguments)}function EL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(r),!0).forEach(function(n){hN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PL(t,e){if(t==null)return{};var r=g9e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function x9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cX(n.key),n)}}function y9e(t,e,r){return e&&_L(t.prototype,e),r&&_L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function v9e(t,e,r){return e=Ow(e),b9e(t,lX()?Reflect.construct(e,r||[],Ow(t).constructor):e.apply(t,r))}function b9e(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w9e(t)}function w9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lX=function(){return!!t})()}function Ow(t){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ow(t)}function j9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gA(t,e)}function gA(t,e){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gA(t,e)}function hN(t,e,r){return e=cX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cX(t){var e=N9e(t,"string");return $f(e)=="symbol"?e:e+""}function N9e(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fN=function(t){function e(){return x9e(this,e),v9e(this,e,arguments)}return j9e(e,t),y9e(e,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return br(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=o9e(l,function(d){return d.coordinate||0}),u=f9e(l,function(d){return d.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=PL(n,m9e),d=l.reduce(function(x,p){return[Math.min(x[0],p.coordinate),Math.max(x[1],p.coordinate)]},[1/0,-1/0]),h=br(s,a,d[0],o),f=br(s,a,d[1],o),m=nu(nu(nu({},st(u,!1)),{},{fill:"none"},st(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return V.createElement("line",vg({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=PL(s,p9e),h=this.getTickTextAnchor(),f=st(d,!1),m=st(o,!1),x=a.map(function(p,v){var w=n.getTickValueCoord(p),b=nu(nu(nu(nu({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},f),{},{stroke:"none",fill:u},m),{},{index:v},w),{},{payload:p});return V.createElement(Ut,vg({className:Et("recharts-polar-radius-axis-tick",GQ(o)),key:"tick-".concat(p.coordinate)},ld(n.props,p,v)),e.renderTickItem(o,b,c?c(p.value,v):p.value))});return V.createElement(Ut,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.axisLine,o=n.tick;return!s||!s.length?null:V.createElement(Ut,{className:Et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Dn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return V.isValidElement(n)?o=V.cloneElement(n,s):ft(n)?o=n(s):o=V.createElement(cd,vg({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(g.PureComponent);hN(fN,"displayName","PolarRadiusAxis");hN(fN,"axisType","radiusAxis");hN(fN,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fu.apply(this,arguments)}function AL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function su(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(r),!0).forEach(function(n){mN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dX(n.key),n)}}function E9e(t,e,r){return e&&TL(t.prototype,e),r&&TL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function P9e(t,e,r){return e=Dw(e),_9e(t,uX()?Reflect.construct(e,r||[],Dw(t).constructor):e.apply(t,r))}function _9e(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A9e(t)}function A9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uX=function(){return!!t})()}function Dw(t){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dw(t)}function T9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xA(t,e)}function xA(t,e){return xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},xA(t,e)}function mN(t,e,r){return e=dX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dX(t){var e=C9e(t,"string");return Lf(e)=="symbol"?e:e+""}function C9e(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k9e=Math.PI/180,CL=1e-5,pN=function(t){function e(){return S9e(this,e),P9e(this,e,arguments)}return T9e(e,t),E9e(e,[{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,h=br(a,o,l,n.coordinate),f=br(a,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,a=Math.cos(-n.coordinate*k9e),o;return a>CL?o=s==="outer"?"start":"end":a<-CL?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=su(su({},st(this.props,!1)),{},{fill:"none"},st(l,!1));if(c==="circle")return V.createElement(dN,fu({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:a,r:o}));var d=this.props.ticks,h=d.map(function(f){return br(s,a,o,f.coordinate)});return V.createElement(H8e,fu({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=st(this.props,!1),h=st(o,!1),f=su(su({},d),{},{fill:"none"},st(l,!1)),m=a.map(function(x,p){var v=n.getTickLineCoord(x),w=n.getTickTextAnchor(x),b=su(su(su({textAnchor:w},d),{},{stroke:"none",fill:u},h),{},{index:p,payload:x,x:v.x2,y:v.y2});return V.createElement(Ut,fu({className:Et("recharts-polar-angle-axis-tick",GQ(o)),key:"tick-".concat(x.coordinate)},ld(n.props,x,p)),l&&V.createElement("line",fu({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&e.renderTickItem(o,b,c?c(x.value,p):x.value))});return V.createElement(Ut,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!s||!s.length?null:V.createElement(Ut,{className:Et("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,a){var o;return V.isValidElement(n)?o=V.cloneElement(n,s):ft(n)?o=n(s):o=V.createElement(cd,fu({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(g.PureComponent);mN(pN,"displayName","PolarAngleAxis");mN(pN,"axisType","angleAxis");mN(pN,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var I9e=mY,R9e=I9e(Object.getPrototypeOf,Object),O9e=R9e,D9e=dl,M9e=O9e,$9e=hl,L9e="[object Object]",F9e=Function.prototype,V9e=Object.prototype,hX=F9e.toString,B9e=V9e.hasOwnProperty,U9e=hX.call(Object);function q9e(t){if(!$9e(t)||D9e(t)!=L9e)return!1;var e=M9e(t);if(e===null)return!0;var r=B9e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&hX.call(r)==U9e}var z9e=q9e;const W9e=Qt(z9e);var H9e=dl,G9e=hl,K9e="[object Boolean]";function Y9e(t){return t===!0||t===!1||G9e(t)&&H9e(t)==K9e}var Q9e=Y9e;const X9e=Qt(Q9e);function Mx(t){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mx(t)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mw.apply(this,arguments)}function J9e(t,e){return rBe(t)||tBe(t,e)||eBe(t,e)||Z9e()}function Z9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eBe(t,e){if(t){if(typeof t=="string")return kL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kL(t,e)}}function kL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function rBe(t){if(Array.isArray(t))return t}function IL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function RL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(r),!0).forEach(function(n){nBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nBe(t,e,r){return e=sBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sBe(t){var e=iBe(t,"string");return Mx(e)=="symbol"?e:e+""}function iBe(t,e){if(Mx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OL=function(e,r,n,s,a){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-s,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},aBe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oBe=function(e){var r=RL(RL({},aBe),e),n=g.useRef(),s=g.useState(-1),a=J9e(s,2),o=a[0],l=a[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var b=Et("recharts-trapezoid",m);return w?V.createElement(uo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:p,animationEasing:x,isActive:w},function(j){var N=j.upperWidth,E=j.lowerWidth,C=j.height,P=j.x,S=j.y;return V.createElement(uo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:x},V.createElement("path",Mw({},st(r,!0),{className:b,d:OL(P,S,N,E,C),ref:n})))}):V.createElement("g",null,V.createElement("path",Mw({},st(r,!0),{className:b,d:OL(c,u,d,h,f)})))},lBe=["option","shapeType","propTransformer","activeClassName","isActive"];function $x(t){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(t)}function cBe(t,e){if(t==null)return{};var r=uBe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(r),!0).forEach(function(n){dBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dBe(t,e,r){return e=hBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hBe(t){var e=fBe(t,"string");return $x(e)=="symbol"?e:e+""}function fBe(t,e){if($x(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mBe(t,e){return $w($w({},e),t)}function pBe(t,e){return t==="symbols"}function ML(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return V.createElement(bR,r);case"trapezoid":return V.createElement(oBe,r);case"sector":return V.createElement(QQ,r);case"symbols":if(pBe(e))return V.createElement(FI,r);break;default:return null}}function gBe(t){return g.isValidElement(t)?t.props:t}function fX(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?mBe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=cBe(t,lBe),u;if(g.isValidElement(e))u=g.cloneElement(e,$w($w({},c),gBe(e)));else if(ft(e))u=e(c);else if(W9e(e)&&!X9e(e)){var d=s(e,c);u=V.createElement(ML,{shapeType:r,elementProps:d})}else{var h=c;u=V.createElement(ML,{shapeType:r,elementProps:h})}return l?V.createElement(Ut,{className:o},u):u}function gN(t,e){return e!=null&&"trapezoids"in t.props}function xN(t,e){return e!=null&&"sectors"in t.props}function Lx(t,e){return e!=null&&"points"in t.props}function xBe(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&a}function yBe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function vBe(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function bBe(t,e){var r;return gN(t,e)?r=xBe:xN(t,e)?r=yBe:Lx(t,e)&&(r=vBe),r}function wBe(t,e){var r;return gN(t,e)?r="trapezoids":xN(t,e)?r="sectors":Lx(t,e)&&(r="points"),r}function jBe(t,e){if(gN(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(xN(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Lx(t,e)?e.payload:{}}function NBe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=wBe(r,e),a=jBe(r,e),o=n.filter(function(c,u){var d=Of(a,c),h=r.props[s].filter(function(x){var p=bBe(r,e);return p(x,e)}),f=r.props[s].indexOf(h[h.length-1]),m=u===f;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Vv;function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fh.apply(this,arguments)}function $L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pX(n.key),n)}}function EBe(t,e,r){return e&&LL(t.prototype,e),r&&LL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PBe(t,e,r){return e=Lw(e),_Be(t,mX()?Reflect.construct(e,r||[],Lw(t).constructor):e.apply(t,r))}function _Be(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ABe(t)}function ABe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mX=function(){return!!t})()}function Lw(t){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lw(t)}function TBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yA(t,e)}function yA(t,e){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yA(t,e)}function ki(t,e,r){return e=pX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pX(t){var e=CBe(t,"string");return Ff(e)=="symbol"?e:e+""}function CBe(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ml=function(t){function e(r){var n;return SBe(this,e),n=PBe(this,e,[r]),ki(n,"pieRef",null),ki(n,"sectorRefs",[]),ki(n,"id",km("recharts-pie-")),ki(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ft(s)&&s()}),ki(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ft(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return TBe(e,t),EBe(e,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=st(this.props,!1),h=st(o,!1),f=st(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(p,v){var w=(p.startAngle+p.endAngle)/2,b=br(p.cx,p.cy,p.outerRadius+m,w),j=fr(fr(fr(fr({},d),p),{},{stroke:"none"},h),{},{index:v,textAnchor:e.getTextAnchor(b.x,p.cx)},b),N=fr(fr(fr(fr({},d),p),{},{fill:"none",stroke:p.fill},f),{},{index:v,points:[br(p.cx,p.cy,p.outerRadius,w),b]}),E=c;return St(c)&&St(u)?E="value":St(c)&&(E=u),V.createElement(Ut,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(o,j,Sn(p,E)))});return V.createElement(Ut,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=s.isActiveIndex(d),f=c&&s.hasActiveIndex()?c:null,m=h?o:f,x=fr(fr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return V.createElement(Ut,fh({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},ld(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),V.createElement(fX,fh({option:m,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,h=this.state,f=h.prevSectors,m=h.prevIsAnimationActive;return V.createElement(uo,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var p=x.t,v=[],w=a&&a[0],b=w.startAngle;return a.forEach(function(j,N){var E=f&&f[N],C=N>0?fi(j,"paddingAngle",0):0;if(E){var P=$s(E.endAngle-E.startAngle,j.endAngle-j.startAngle),S=fr(fr({},j),{},{startAngle:b+C,endAngle:b+P(p)+C});v.push(S),b=S.endAngle}else{var A=j.endAngle,T=j.startAngle,R=$s(0,A-T),_=R(p),I=fr(fr({},j),{},{startAngle:b+C,endAngle:b+_+C});v.push(I),b=I.endAngle}}),V.createElement(Ut,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!Of(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,h=s.innerRadius,f=s.outerRadius,m=s.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!De(u)||!De(d)||!De(h)||!De(f))return null;var p=Et("recharts-pie",l);return V.createElement(Ut,{tabIndex:this.props.rootTabIndex,className:p,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),Dn.renderCallByParent(this.props,null,!1),(!m||x)&&qo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,a){if(V.isValidElement(n))return V.cloneElement(n,s);if(ft(n))return n(s);var o=Et("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return V.createElement(Lh,fh({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,a){if(V.isValidElement(n))return V.cloneElement(n,s);var o=a;if(ft(n)&&(o=n(s),V.isValidElement(o)))return o;var l=Et("recharts-pie-label-text",typeof n!="boolean"&&!ft(n)?n.className:"");return V.createElement(cd,fh({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(g.PureComponent);Vv=ml;ki(ml,"displayName","Pie");ki(ml,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!eo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ki(ml,"parseDeltaAngle",function(t,e){var r=js(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ki(ml,"getRealPieData",function(t){var e=t.data,r=t.children,n=st(t,!1),s=Vi(r,Zj);return e&&e.length?e.map(function(a,o){return fr(fr(fr({payload:a},n),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return fr(fr({},n),a.props)}):[]});ki(ml,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,s=e.width,a=e.height,o=HQ(s,a),l=n+Ns(t.cx,s,s/2),c=r+Ns(t.cy,a,a/2),u=Ns(t.innerRadius,o,0),d=Ns(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});ki(ml,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?fr(fr({},e.type.defaultProps),e.props):e.props,s=Vv.getRealPieData(n);if(!s||!s.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,f=n.tooltipType,m=Math.abs(n.minAngle),x=Vv.parseCoordinateOfPie(n,r),p=Vv.parseDeltaAngle(o,l),v=Math.abs(p),w=u;St(u)&&St(h)?(xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):St(u)&&(xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var b=s.filter(function(S){return Sn(S,w,0)!==0}).length,j=(v>=360?b:b-1)*c,N=v-b*m-j,E=s.reduce(function(S,A){var T=Sn(A,w,0);return S+(De(T)?T:0)},0),C;if(E>0){var P;C=s.map(function(S,A){var T=Sn(S,w,0),R=Sn(S,d,A),_=(De(T)?T:0)/E,I;A?I=P.endAngle+js(p)*c*(T!==0?1:0):I=o;var M=I+js(p)*((T!==0?m:0)+_*N),z=(I+M)/2,W=(x.innerRadius+x.outerRadius)/2,B=[{name:R,value:T,payload:S,dataKey:w,type:f}],$=br(x.cx,x.cy,W,z);return P=fr(fr(fr({percent:_,cornerRadius:a,name:R,tooltipPayload:B,midAngle:z,middleRadius:W,tooltipPosition:$},S),x),{},{value:Sn(S,w),startAngle:I,endAngle:M,payload:S,paddingAngle:js(p)*c}),P})}return fr(fr({},x),{},{sectors:C,data:s})});var kBe=Math.ceil,IBe=Math.max;function RBe(t,e,r,n){for(var s=-1,a=IBe(kBe((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++s]=t,t+=r;return o}var OBe=RBe,DBe=RY,FL=1/0,MBe=17976931348623157e292;function $Be(t){if(!t)return t===0?t:0;if(t=DBe(t),t===FL||t===-FL){var e=t<0?-1:1;return e*MBe}return t===t?t:0}var gX=$Be,LBe=OBe,FBe=Jj,$S=gX;function VBe(t){return function(e,r,n){return n&&typeof n!="number"&&FBe(e,r,n)&&(r=n=void 0),e=$S(e),r===void 0?(r=e,e=0):r=$S(r),n=n===void 0?e<r?1:-1:$S(n),LBe(e,r,n,t)}}var BBe=VBe,UBe=BBe,qBe=UBe(),zBe=qBe;const Fw=Qt(zBe);function Fx(t){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(t)}function VL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function BL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(r),!0).forEach(function(n){xX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xX(t,e,r){return e=WBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WBe(t){var e=HBe(t,"string");return Fx(e)=="symbol"?e:e+""}function HBe(t,e){if(Fx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GBe=["Webkit","Moz","O","ms"],KBe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),s=GBe.reduce(function(a,o){return BL(BL({},a),{},xX({},o+n,r))},{});return s[e]=r,s};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vw.apply(this,arguments)}function UL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function LS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(r),!0).forEach(function(n){Js(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vX(n.key),n)}}function QBe(t,e,r){return e&&qL(t.prototype,e),r&&qL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XBe(t,e,r){return e=Bw(e),JBe(t,yX()?Reflect.construct(e,r||[],Bw(t).constructor):e.apply(t,r))}function JBe(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZBe(t)}function ZBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yX=function(){return!!t})()}function Bw(t){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bw(t)}function eUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vA(t,e)}function vA(t,e){return vA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vA(t,e)}function Js(t,e,r){return e=vX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vX(t){var e=tUe(t,"string");return Vf(e)=="symbol"?e:e+""}function tUe(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rUe=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=pg().domain(Fw(0,c)).range([a,a+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},zL=function(e){return e.changedTouches&&!!e.changedTouches.length},Bf=function(t){function e(r){var n;return YBe(this,e),n=XBe(this,e,[r]),Js(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Js(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Js(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Js(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Js(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Js(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Js(n,"handleSlideDragStart",function(s){var a=zL(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return eUe(e,t),QBe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(s,a),f=Math.max(s,a),m=e.getIndexInRange(o,h),x=e.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=Sn(a[n],l,n);return ft(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,x=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,u+d-h-l,u+d-h-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==f||v.endIndex!==m)&&x&&x(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=zL(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,x=d.onChange,p=d.gap,v=d.data,w={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,h+f-m-u):b<0&&(b=Math.max(b,h-u)),w[o]=u+b;var j=this.getIndex(w),N=j.startIndex,E=j.endIndex,C=function(){var S=v.length-1;return o==="startX"&&(l>c?N%p===0:E%p===0)||l<c&&E===S||o==="endX"&&(l>c?E%p===0:N%p===0)||l>c&&E===S};this.setState(Js(Js({},o,u+b),"brushMoveStartX",n.pageX),function(){x&&C()&&x(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],h=l.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var m=l[f];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(Js({},s,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return V.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=g.Children.only(u);return h?V.cloneElement(h,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,x=c.data,p=c.startIndex,v=c.endIndex,w=Math.max(n,this.props.x),b=LS(LS({},st(this.props,!1)),{},{x:w,y:u,width:d,height:h}),j=m||"Min value: ".concat((a=x[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return V.createElement(Ut,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,b))}},{key:"renderSlide",value:function(n,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,h=Math.max(Math.abs(s-n)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,m=5,x={pointerEvents:"none",fill:u};return V.createElement(Ut,{className:"recharts-brush-texts"},V.createElement(cd,Vw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},x),this.getTextOfTick(s)),V.createElement(cd,Vw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,m=f.startX,x=f.endX,p=f.isTextActive,v=f.isSlideMoving,w=f.isTravellerMoving,b=f.isTravellerFocused;if(!s||!s.length||!De(l)||!De(c)||!De(u)||!De(d)||u<=0||d<=0)return null;var j=Et("recharts-brush",a),N=V.Children.count(o)===1,E=KBe("userSelect","none");return V.createElement(Ut,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(p||v||w||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),V.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return V.isValidElement(n)?a=V.cloneElement(n,s):ft(n)?a=n(s):a=e.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return LS({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?rUe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var f=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(g.PureComponent);Js(Bf,"displayName","Brush");Js(Bf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nUe=HI;function sUe(t,e){var r;return nUe(t,function(n,s,a){return r=e(n,s,a),!r}),!!r}var iUe=sUe,aUe=aY,oUe=mo,lUe=iUe,cUe=Ys,uUe=Jj;function dUe(t,e,r){var n=cUe(t)?aUe:lUe;return r&&uUe(t,e,r)&&(e=void 0),n(t,oUe(e))}var hUe=dUe;const fUe=Qt(hUe);var ro=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},WL=AY;function mUe(t,e,r){e=="__proto__"&&WL?WL(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var pUe=mUe,gUe=pUe,xUe=PY,yUe=mo;function vUe(t,e){var r={};return e=yUe(e),xUe(t,function(n,s,a){gUe(r,s,e(n,s,a))}),r}var bUe=vUe;const wUe=Qt(bUe);function jUe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var NUe=jUe,SUe=HI;function EUe(t,e){var r=!0;return SUe(t,function(n,s,a){return r=!!e(n,s,a),r}),r}var PUe=EUe,_Ue=NUe,AUe=PUe,TUe=mo,CUe=Ys,kUe=Jj;function IUe(t,e,r){var n=CUe(t)?_Ue:AUe;return r&&kUe(t,e,r)&&(e=void 0),n(t,TUe(e))}var RUe=IUe;const bX=Qt(RUe);var OUe=["x","y"];function Vx(t){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vx(t)}function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bA.apply(this,arguments)}function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Np(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){DUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DUe(t,e,r){return e=MUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MUe(t){var e=$Ue(t,"string");return Vx(e)=="symbol"?e:e+""}function $Ue(t,e){if(Vx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LUe(t,e){if(t==null)return{};var r=FUe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VUe(t,e){var r=t.x,n=t.y,s=LUe(t,OUe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),h="".concat(e.width||s.width),f=parseInt(h,10);return Np(Np(Np(Np(Np({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function GL(t){return V.createElement(fX,bA({shapeType:"rectangle",propTransformer:VUe,activeClassName:"recharts-active-bar"},t))}var BUe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,s):(a||dd(),r)}},UUe=["value","background"],wX;function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function qUe(t,e){if(t==null)return{};var r=zUe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uw.apply(this,arguments)}function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){Ql(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NX(n.key),n)}}function HUe(t,e,r){return e&&YL(t.prototype,e),r&&YL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GUe(t,e,r){return e=qw(e),KUe(t,jX()?Reflect.construct(e,r||[],qw(t).constructor):e.apply(t,r))}function KUe(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YUe(t)}function YUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jX=function(){return!!t})()}function qw(t){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qw(t)}function QUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wA(t,e)}function wA(t,e){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wA(t,e)}function Ql(t,e,r){return e=NX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NX(t){var e=XUe(t,"string");return Uf(e)=="symbol"?e:e+""}function XUe(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var By=function(t){function e(){var r;WUe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=GUe(this,e,[].concat(s)),Ql(r,"state",{isAnimationFinished:!1}),Ql(r,"id",km("recharts-bar-")),Ql(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ql(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return QUe(e,t),HUe(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=st(this.props,!1);return n&&n.map(function(h,f){var m=f===c,x=m?u:o,p=on(on(on({},d),h),{},{isActive:m,option:x,index:f,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return V.createElement(Ut,Uw({className:"recharts-bar-rectangle"},ld(s.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),V.createElement(GL,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,h=s.animationId,f=this.state.prevData;return V.createElement(uo,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,p=a.map(function(v,w){var b=f&&f[w];if(b){var j=$s(b.x,v.x),N=$s(b.y,v.y),E=$s(b.width,v.width),C=$s(b.height,v.height);return on(on({},v),{},{x:j(x),y:N(x),width:E(x),height:C(x)})}if(o==="horizontal"){var P=$s(0,v.height),S=P(x);return on(on({},v),{},{y:v.y+v.height-S,height:S})}var A=$s(0,v.width),T=A(x);return on(on({},v),{},{width:T})});return V.createElement(Ut,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!Of(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=st(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,f=qUe(u,UUe);if(!h)return null;var m=on(on(on(on(on({},f),{},{fill:"#eee"},h),c),ld(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return V.createElement(GL,Uw({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=Vi(d,uN);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,w){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Sn(v,w)}},x={clipPath:n?"url(#clipPath-".concat(s,")"):null};return V.createElement(Ut,x,h.map(function(p){return V.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,m=n.isAnimationActive,x=n.background,p=n.id;if(s||!a||!a.length)return null;var v=this.state.isAnimationFinished,w=Et("recharts-bar",o),b=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,N=b||j,E=St(p)?this.id:p;return V.createElement(Ut,{className:w},b||j?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(E)},V.createElement("rect",{x:b?u:u-h/2,y:j?d:d-f/2,width:b?h:h*2,height:j?f:f*2}))):null,V.createElement(Ut,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(E,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,E),(!m||v)&&qo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(g.PureComponent);wX=By;Ql(By,"displayName","Bar");Ql(By,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!eo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ql(By,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,m=BLe(n,r);if(!m)return null;var x=e.layout,p=r.type.defaultProps,v=p!==void 0?on(on({},p),r.props):r.props,w=v.dataKey,b=v.children,j=v.minPointSize,N=x==="horizontal"?o:a,E=u?N.scale.domain():null,C=KLe({numericAxis:N}),P=Vi(b,Zj),S=h.map(function(A,T){var R,_,I,M,z,W;u?R=ULe(u[d+T],E):(R=Sn(A,w),Array.isArray(R)||(R=[C,R]));var B=BUe(j,wX.defaultProps.minPointSize)(R[1],T);if(x==="horizontal"){var $,U=[o.scale(R[0]),o.scale(R[1])],Y=U[0],K=U[1];_=L$({axis:a,ticks:l,bandSize:s,offset:m.offset,entry:A,index:T}),I=($=K??Y)!==null&&$!==void 0?$:void 0,M=m.size;var X=Y-K;if(z=Number.isNaN(X)?0:X,W={x:_,y:o.y,width:M,height:o.height},Math.abs(B)>0&&Math.abs(z)<Math.abs(B)){var he=js(z||B)*(Math.abs(B)-Math.abs(z));I-=he,z+=he}}else{var D=[a.scale(R[0]),a.scale(R[1])],H=D[0],se=D[1];if(_=H,I=L$({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:A,index:T}),M=se-H,z=m.size,W={x:a.x,y:I,width:a.width,height:z},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var Q=js(M||B)*(Math.abs(B)-Math.abs(M));M+=Q}}return on(on(on({},A),{},{x:_,y:I,width:M,height:z,value:u?R:R[1],payload:A,background:W},P&&P[T]&&P[T].props),{},{tooltipPayload:[zQ(r,A)],tooltipPosition:{x:_+M/2,y:I+z/2}})});return on({data:S,layout:x},f)});function Bx(t){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bx(t)}function JUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SX(n.key),n)}}function ZUe(t,e,r){return e&&QL(t.prototype,e),r&&QL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){yN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yN(t,e,r){return e=SX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SX(t){var e=e7e(t,"string");return Bx(e)=="symbol"?e:e+""}function e7e(t,e){if(Bx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t7e=function(e,r,n,s,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!ni(u,By);return d.reduce(function(m,x){var p=r[x],v=p.orientation,w=p.domain,b=p.padding,j=b===void 0?{}:b,N=p.mirror,E=p.reversed,C="".concat(v).concat(N?"Mirror":""),P,S,A,T,R;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var _=w[1]-w[0],I=1/0,M=p.categoricalDomain.sort();if(M.forEach(function(D,H){H>0&&(I=Math.min((D||0)-(M[H-1]||0),I))}),Number.isFinite(I)){var z=I/_,W=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(P=z*W/2),p.padding==="no-gap"){var B=Ns(e.barCategoryGap,z*W),$=z*W/2;P=$-B-($-B)/W*B}}}s==="xAxis"?S=[n.left+(j.left||0)+(P||0),n.left+n.width-(j.right||0)-(P||0)]:s==="yAxis"?S=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(P||0),n.top+n.height-(j.bottom||0)-(P||0)]:S=p.range,E&&(S=[S[1],S[0]]);var U=VQ(p,a,f),Y=U.scale,K=U.realScaleType;Y.domain(w).range(S),BQ(Y);var X=UQ(Y,ia(ia({},p),{},{realScaleType:K}));s==="xAxis"?(R=v==="top"&&!N||v==="bottom"&&N,A=n.left,T=h[C]-R*p.height):s==="yAxis"&&(R=v==="left"&&!N||v==="right"&&N,A=h[C]-R*p.width,T=n.top);var he=ia(ia(ia({},p),X),{},{realScaleType:K,x:A,y:T,scale:Y,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return he.bandSize=_w(he,X),!p.hide&&s==="xAxis"?h[C]+=(R?-1:1)*he.height:p.hide||(h[C]+=(R?-1:1)*he.width),ia(ia({},m),{},yN({},x,he))},{})},EX=function(e,r){var n=e.x,s=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(s,o),width:Math.abs(a-n),height:Math.abs(o-s)}},r7e=function(e){var r=e.x1,n=e.y1,s=e.x2,a=e.y2;return EX({x:r,y:n},{x:s,y:a})},PX=function(){function t(e){JUe(this,t),this.scale=e}return ZUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])}();yN(PX,"EPS",1e-4);var wR=function(e){var r=Object.keys(e).reduce(function(n,s){return ia(ia({},n),{},yN({},s,PX.create(e[s])))},{});return ia(ia({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return wUe(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return bX(s,function(a,o){return r[o].isInRange(a)})}})};function n7e(t){return(t%180+180)%180}var s7e=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=n7e(s),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},i7e=mo,a7e=My,o7e=Qj;function l7e(t){return function(e,r,n){var s=Object(e);if(!a7e(e)){var a=i7e(r);e=o7e(e),r=function(l){return a(s[l],l,s)}}var o=t(e,r,n);return o>-1?s[a?e[o]:o]:void 0}}var c7e=l7e,u7e=gX;function d7e(t){var e=u7e(t),r=e%1;return e===e?r?e-r:e:0}var h7e=d7e,f7e=bY,m7e=mo,p7e=h7e,g7e=Math.max;function x7e(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var s=r==null?0:p7e(r);return s<0&&(s=g7e(n+s,0)),f7e(t,m7e(e),s)}var y7e=x7e,v7e=c7e,b7e=y7e,w7e=v7e(b7e),j7e=w7e;const N7e=Qt(j7e);var S7e=APe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),jR=g.createContext(void 0),NR=g.createContext(void 0),_X=g.createContext(void 0),AX=g.createContext({}),TX=g.createContext(void 0),CX=g.createContext(0),kX=g.createContext(0),JL=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=S7e(a);return V.createElement(jR.Provider,{value:n},V.createElement(NR.Provider,{value:s},V.createElement(AX.Provider,{value:a},V.createElement(_X.Provider,{value:d},V.createElement(TX.Provider,{value:o},V.createElement(CX.Provider,{value:u},V.createElement(kX.Provider,{value:c},l)))))))},E7e=function(){return g.useContext(TX)},IX=function(e){var r=g.useContext(jR);r==null&&dd();var n=r[e];return n==null&&dd(),n},P7e=function(){var e=g.useContext(jR);return Ll(e)},_7e=function(){var e=g.useContext(NR),r=N7e(e,function(n){return bX(n.domain,Number.isFinite)});return r||Ll(e)},RX=function(e){var r=g.useContext(NR);r==null&&dd();var n=r[e];return n==null&&dd(),n},A7e=function(){var e=g.useContext(_X);return e},T7e=function(){return g.useContext(AX)},SR=function(){return g.useContext(kX)},ER=function(){return g.useContext(CX)};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function C7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DX(n.key),n)}}function I7e(t,e,r){return e&&k7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R7e(t,e,r){return e=zw(e),O7e(t,OX()?Reflect.construct(e,r||[],zw(t).constructor):e.apply(t,r))}function O7e(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D7e(t)}function D7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OX=function(){return!!t})()}function zw(t){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(t)}function M7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jA(t,e)}function ZL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function eF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(r),!0).forEach(function(n){PR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PR(t,e,r){return e=DX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DX(t){var e=$7e(t,"string");return qf(e)=="symbol"?e:e+""}function $7e(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L7e(t,e){return U7e(t)||B7e(t,e)||V7e(t,e)||F7e()}function F7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7e(t,e){if(t){if(typeof t=="string")return tF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tF(t,e)}}function tF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function U7e(t){if(Array.isArray(t))return t}function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NA.apply(this,arguments)}var q7e=function(e,r){var n;return V.isValidElement(e)?n=V.cloneElement(e,r):ft(e)?n=e(r):n=V.createElement("line",NA({},r,{className:"recharts-reference-line-line"})),n},z7e=function(e,r,n,s,a,o,l,c,u){var d=a.x,h=a.y,f=a.width,m=a.height;if(n){var x=u.y,p=e.y.apply(x,{position:o});if(ro(u,"discard")&&!e.y.isInRange(p))return null;var v=[{x:d+f,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var w=u.x,b=e.x.apply(w,{position:o});if(ro(u,"discard")&&!e.x.isInRange(b))return null;var j=[{x:b,y:h+m},{x:b,y:h}];return l==="top"?j.reverse():j}if(s){var N=u.segment,E=N.map(function(C){return e.apply(C,{position:o})});return ro(u,"discard")&&fUe(E,function(C){return!e.isInRange(C)})?null:E}return null};function W7e(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=E7e(),d=IX(s),h=RX(a),f=A7e();if(!u||!f)return null;xa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=wR({x:d.scale,y:h.scale}),x=Pn(e),p=Pn(r),v=n&&n.length===2,w=z7e(m,x,p,v,f,t.position,d.orientation,h.orientation,t);if(!w)return null;var b=L7e(w,2),j=b[0],N=j.x,E=j.y,C=b[1],P=C.x,S=C.y,A=ro(t,"hidden")?"url(#".concat(u,")"):void 0,T=eF(eF({clipPath:A},st(t,!0)),{},{x1:N,y1:E,x2:P,y2:S});return V.createElement(Ut,{className:Et("recharts-reference-line",l)},q7e(o,T),Dn.renderCallByParent(t,r7e({x1:N,y1:E,x2:P,y2:S})))}var _R=function(t){function e(){return C7e(this,e),R7e(this,e,arguments)}return M7e(e,t),I7e(e,[{key:"render",value:function(){return V.createElement(W7e,this.props)}}])}(V.Component);PR(_R,"displayName","ReferenceLine");PR(_R,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SA.apply(this,arguments)}function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function rF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(r),!0).forEach(function(n){vN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$X(n.key),n)}}function K7e(t,e,r){return e&&G7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y7e(t,e,r){return e=Ww(e),Q7e(t,MX()?Reflect.construct(e,r||[],Ww(t).constructor):e.apply(t,r))}function Q7e(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X7e(t)}function X7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MX=function(){return!!t})()}function Ww(t){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ww(t)}function J7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EA(t,e)}function EA(t,e){return EA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},EA(t,e)}function vN(t,e,r){return e=$X(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $X(t){var e=Z7e(t,"string");return zf(e)=="symbol"?e:e+""}function Z7e(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eqe=function(e){var r=e.x,n=e.y,s=e.xAxis,a=e.yAxis,o=wR({x:s.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ro(e,"discard")&&!o.isInRange(l)?null:l},bN=function(t){function e(){return H7e(this,e),Y7e(this,e,arguments)}return J7e(e,t),K7e(e,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Pn(s),d=Pn(a);if(xa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=eqe(this.props);if(!h)return null;var f=h.x,m=h.y,x=this.props,p=x.shape,v=x.className,w=ro(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=nF(nF({clipPath:w},st(this.props,!0)),{},{cx:f,cy:m});return V.createElement(Ut,{className:Et("recharts-reference-dot",v)},e.renderDot(p,b),Dn.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(V.Component);vN(bN,"displayName","ReferenceDot");vN(bN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});vN(bN,"renderDot",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):ft(t)?r=t(e):r=V.createElement(dN,SA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PA.apply(this,arguments)}function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function sF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function iF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sF(Object(r),!0).forEach(function(n){wN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FX(n.key),n)}}function nqe(t,e,r){return e&&rqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sqe(t,e,r){return e=Hw(e),iqe(t,LX()?Reflect.construct(e,r||[],Hw(t).constructor):e.apply(t,r))}function iqe(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aqe(t)}function aqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LX=function(){return!!t})()}function Hw(t){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hw(t)}function oqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_A(t,e)}function _A(t,e){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_A(t,e)}function wN(t,e,r){return e=FX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FX(t){var e=lqe(t,"string");return Wf(e)=="symbol"?e:e+""}function lqe(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cqe=function(e,r,n,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var f=wR({x:d.scale,y:h.scale}),m={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},x={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(u,{position:"end"}):f.y.rangeMax};return ro(a,"discard")&&(!f.isInRange(m)||!f.isInRange(x))?null:EX(m,x)},jN=function(t){function e(){return tqe(this,e),sqe(this,e,arguments)}return oqe(e,t),nqe(e,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;xa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Pn(s),f=Pn(a),m=Pn(o),x=Pn(l),p=this.props.shape;if(!h&&!f&&!m&&!x&&!p)return null;var v=cqe(h,f,m,x,this.props);if(!v&&!p)return null;var w=ro(this.props,"hidden")?"url(#".concat(d,")"):void 0;return V.createElement(Ut,{className:Et("recharts-reference-area",c)},e.renderRect(p,iF(iF({clipPath:w},st(this.props,!0)),v)),Dn.renderCallByParent(this.props,v))}}])}(V.Component);wN(jN,"displayName","ReferenceArea");wN(jN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wN(jN,"renderRect",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):ft(t)?r=t(e):r=V.createElement(bR,PA({},e,{className:"recharts-reference-area-rect"})),r});function VX(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function uqe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return s7e(n,r)}function dqe(t,e,r){var n=r==="width",s=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?s:a,end:n?s+o:a+l}:{start:n?s+o:a+l,end:n?s:a}}function Gw(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-s)<=0}function hqe(t,e){return VX(t,e+1)}function fqe(t,e,r,n,s){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,h=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:VX(n,u)};var p=c,v,w=function(){return v===void 0&&(v=r(x,p)),v},b=x.coordinate,j=c===0||Gw(t,b,w,d,l);j||(c=0,d=o,u+=1),j&&(d=b+t*(w()/2+s),c+=u)},f;u<=a.length;)if(f=h(),f)return f.v;return[]}function Ux(t){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ux(t)}function aF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ss(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(r),!0).forEach(function(n){mqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mqe(t,e,r){return e=pqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pqe(t){var e=gqe(t,"string");return Ux(e)=="symbol"?e:e+""}function gqe(t,e){if(Ux(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xqe(t,e,r,n,s){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(f){var m=a[f],x,p=function(){return x===void 0&&(x=r(m,f)),x};if(f===o-1){var v=t*(m.coordinate+t*p()/2-c);a[f]=m=ss(ss({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else a[f]=m=ss(ss({},m),{},{tickCoord:m.coordinate});var w=Gw(t,m.tickCoord,p,l,c);w&&(c=m.tickCoord-t*(p()/2+s),a[f]=ss(ss({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function yqe(t,e,r,n,s,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=n[l-1],h=r(d,l-1),f=t*(d.coordinate+t*h/2-u);o[l-1]=d=ss(ss({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var m=Gw(t,d.tickCoord,function(){return h},c,u);m&&(u=d.tickCoord-t*(h/2+s),o[l-1]=ss(ss({},d),{},{isShow:!0}))}for(var x=a?l-1:l,p=function(b){var j=o[b],N,E=function(){return N===void 0&&(N=r(j,b)),N};if(b===0){var C=t*(j.coordinate-t*E()/2-c);o[b]=j=ss(ss({},j),{},{tickCoord:C<0?j.coordinate-C*t:j.coordinate})}else o[b]=j=ss(ss({},j),{},{tickCoord:j.coordinate});var P=Gw(t,j.tickCoord,E,c,u);P&&(c=j.tickCoord+t*(E()/2+s),o[b]=ss(ss({},j),{},{isShow:!0}))},v=0;v<x;v++)p(v);return o}function AR(t,e,r){var n=t.tick,s=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!s||!s.length||!n)return[];if(De(c)||eo.isSsr)return hqe(s,typeof c=="number"&&De(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",x=d&&m==="width"?mg(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},p=function(j,N){var E=ft(u)?u(j.value,N):j.value;return m==="width"?uqe(mg(E,{fontSize:e,letterSpacing:r}),x,h):mg(E,{fontSize:e,letterSpacing:r})[m]},v=s.length>=2?js(s[1].coordinate-s[0].coordinate):1,w=dqe(a,v,m);return c==="equidistantPreserveStart"?fqe(v,w,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?f=yqe(v,w,p,s,o,c==="preserveStartEnd"):f=xqe(v,w,p,s,o),f.filter(function(b){return b.isShow}))}var vqe=["viewBox"],bqe=["viewBox"],wqe=["ticks"];function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mh.apply(this,arguments)}function oF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(r),!0).forEach(function(n){TR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FS(t,e){if(t==null)return{};var r=jqe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UX(n.key),n)}}function Sqe(t,e,r){return e&&lF(t.prototype,e),r&&lF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eqe(t,e,r){return e=Kw(e),Pqe(t,BX()?Reflect.construct(e,r||[],Kw(t).constructor):e.apply(t,r))}function Pqe(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _qe(t)}function _qe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BX=function(){return!!t})()}function Kw(t){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kw(t)}function Aqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AA(t,e)}function AA(t,e){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},AA(t,e)}function TR(t,e,r){return e=UX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UX(t){var e=Tqe(t,"string");return Hf(e)=="symbol"?e:e+""}function Tqe(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fm=function(t){function e(r){var n;return Nqe(this,e),n=Eqe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Aqe(e,t),Sqe(e,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,o=FS(n,vqe),l=this.props,c=l.viewBox,u=FS(l,bqe);return!Oh(a,c)||!Oh(o,u)||!Oh(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,h=s.mirror,f=s.tickMargin,m,x,p,v,w,b,j=h?-1:1,N=n.tickSize||d,E=De(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,v=o+ +!h*c,p=v-j*N,b=p-j*f,w=E;break;case"left":p=v=n.coordinate,x=a+ +!h*l,m=x-j*N,w=m-j*f,b=E;break;case"right":p=v=n.coordinate,x=a+ +h*l,m=x+j*N,w=m+j*f,b=E;break;default:m=x=n.coordinate,v=o+ +h*c,p=v+j*N,b=p+j*f,w=E;break}return{line:{x1:m,y1:p,x2:x,y2:v},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=xs(xs(xs({},st(this.props,!1)),st(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=xs(xs({},h),{},{x1:s,y1:a+f*l,x2:s+o,y2:a+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=xs(xs({},h),{},{x1:s+m*o,y1:a,x2:s+m*o,y2:a+l})}return V.createElement("line",mh({},h,{className:Et("recharts-cartesian-axis-line",fi(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,m=AR(xs(xs({},this.props),{},{ticks:n}),s,a),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=st(this.props,!1),w=st(d,!1),b=xs(xs({},v),{},{fill:"none"},st(c,!1)),j=m.map(function(N,E){var C=o.getTickLineCoord(N),P=C.line,S=C.tick,A=xs(xs(xs(xs({textAnchor:x,verticalAnchor:p},v),{},{stroke:"none",fill:u},w),S),{},{index:E,payload:N,visibleTicksCount:m.length,tickFormatter:h});return V.createElement(Ut,mh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},ld(o.props,N,E)),c&&V.createElement("line",mh({},b,P,{className:Et("recharts-cartesian-axis-tick-line",fi(c,"className"))})),d&&e.renderTickItem(d,A,"".concat(ft(h)?h(N.value,E):N.value).concat(f||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var h=this.props,f=h.ticks,m=FS(h,wqe),x=f;return ft(c)&&(x=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:V.createElement(Ut,{className:Et("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Dn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return V.isValidElement(n)?o=V.cloneElement(n,s):ft(n)?o=n(s):o=V.createElement(cd,mh({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(g.Component);TR(Fm,"displayName","CartesianAxis");TR(Fm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Cqe=["x1","y1","x2","y2","key"],kqe=["offset"];function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function cF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(r),!0).forEach(function(n){Iqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iqe(t,e,r){return e=Rqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rqe(t){var e=Oqe(t,"string");return hd(e)=="symbol"?e:e+""}function Oqe(t,e){if(hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pu.apply(this,arguments)}function uF(t,e){if(t==null)return{};var r=Dqe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Mqe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return V.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qX(t,e){var r;if(V.isValidElement(t))r=V.cloneElement(t,e);else if(ft(t))r=t(e);else{var n=e.x1,s=e.y1,a=e.x2,o=e.y2,l=e.key,c=uF(e,Cqe),u=st(c,!1);u.offset;var d=uF(u,kqe);r=V.createElement("line",Pu({},d,{x1:n,y1:s,x2:a,y2:o,fill:"none",key:l}))}return r}function $qe(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,a=t.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=os(os({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return qX(s,u)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Lqe(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,a=t.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=os(os({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return qX(s,u)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Fqe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,m){return f-m});s!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var x=!d[m+1],p=x?s+o-f:d[m+1]-f;if(p<=0)return null;var v=m%e.length;return V.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Vqe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var x=!d[m+1],p=x?a+l-f:d[m+1]-f;if(p<=0)return null;var v=m%n.length;return V.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Bqe=function(e,r){var n=e.xAxis,s=e.width,a=e.height,o=e.offset;return FQ(AR(os(os(os({},Fm.defaultProps),n),{},{ticks:$o(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,r)},Uqe=function(e,r){var n=e.yAxis,s=e.width,a=e.height,o=e.offset;return FQ(AR(os(os(os({},Fm.defaultProps),n),{},{ticks:$o(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,r)},Vd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zX(t){var e,r,n,s,a,o,l=SR(),c=ER(),u=T7e(),d=os(os({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Vd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Vd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Vd.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:Vd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Vd.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Vd.verticalFill,x:De(t.x)?t.x:u.left,y:De(t.y)?t.y:u.top,width:De(t.width)?t.width:u.width,height:De(t.height)?t.height:u.height}),h=d.x,f=d.y,m=d.width,x=d.height,p=d.syncWithTicks,v=d.horizontalValues,w=d.verticalValues,b=P7e(),j=_7e();if(!De(m)||m<=0||!De(x)||x<=0||!De(h)||h!==+h||!De(f)||f!==+f)return null;var N=d.verticalCoordinatesGenerator||Bqe,E=d.horizontalCoordinatesGenerator||Uqe,C=d.horizontalPoints,P=d.verticalPoints;if((!C||!C.length)&&ft(E)){var S=v&&v.length,A=E({yAxis:j?os(os({},j),{},{ticks:S?v:j.ticks}):void 0,width:l,height:c,offset:u},S?!0:p);xa(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hd(A),"]")),Array.isArray(A)&&(C=A)}if((!P||!P.length)&&ft(N)){var T=w&&w.length,R=N({xAxis:b?os(os({},b),{},{ticks:T?w:b.ticks}):void 0,width:l,height:c,offset:u},T?!0:p);xa(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hd(R),"]")),Array.isArray(R)&&(P=R)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(Mqe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),V.createElement($qe,Pu({},d,{offset:u,horizontalPoints:C,xAxis:b,yAxis:j})),V.createElement(Lqe,Pu({},d,{offset:u,verticalPoints:P,xAxis:b,yAxis:j})),V.createElement(Fqe,Pu({},d,{horizontalPoints:C})),V.createElement(Vqe,Pu({},d,{verticalPoints:P})))}zX.displayName="CartesianGrid";var qqe=["layout","type","stroke","connectNulls","isRange","ref"],zqe=["key"],WX;function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function HX(t,e){if(t==null)return{};var r=Wqe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(this,arguments)}function dF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Pl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(r),!0).forEach(function(n){Ha(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KX(n.key),n)}}function Gqe(t,e,r){return e&&hF(t.prototype,e),r&&hF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kqe(t,e,r){return e=Yw(e),Yqe(t,GX()?Reflect.construct(e,r||[],Yw(t).constructor):e.apply(t,r))}function Yqe(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qqe(t)}function Qqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GX=function(){return!!t})()}function Yw(t){return Yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yw(t)}function Xqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TA(t,e)}function TA(t,e){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},TA(t,e)}function Ha(t,e,r){return e=KX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KX(t){var e=Jqe(t,"string");return Gf(e)=="symbol"?e:e+""}function Jqe(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var no=function(t){function e(){var r;Hqe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Kqe(this,e,[].concat(s)),Ha(r,"state",{isAnimationFinished:!0}),Ha(r,"id",km("recharts-area-")),Ha(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ft(o)&&o()}),Ha(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ft(o)&&o()}),r}return Xqe(e,t),Gqe(e,[{key:"renderDots",value:function(n,s,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,f=st(this.props,!1),m=st(u,!0),x=d.map(function(v,w){var b=Pl(Pl(Pl({key:"dot-".concat(w),r:3},f),m),{},{index:w,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,b)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return V.createElement(Ut,_u({className:"recharts-area-dots"},p),x)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,a=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),h=Yl(o.map(function(f){return f.y||0}));return De(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Yl(a.map(function(f){return f.y||0})),h)),De(h)?V.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,a=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),h=Yl(o.map(function(f){return f.x||0}));return De(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Yl(a.map(function(f){return f.x||0})),h)),De(h)?V.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var m=HX(l,qqe);return V.createElement(Ut,{clipPath:a?"url(#clipPath-".concat(o,")"):null},V.createElement(Lh,_u({},st(m,!0),{points:n,connectNulls:h,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&V.createElement(Lh,_u({},st(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n})),d!=="none"&&f&&V.createElement(Lh,_u({},st(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,x=this.state,p=x.prevPoints,v=x.prevBaseLine;return V.createElement(uo,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var b=w.t;if(p){var j=p.length/l.length,N=l.map(function(S,A){var T=Math.floor(A*j);if(p[T]){var R=p[T],_=$s(R.x,S.x),I=$s(R.y,S.y);return Pl(Pl({},S),{},{x:_(b),y:I(b)})}return S}),E;if(De(c)&&typeof c=="number"){var C=$s(v,c);E=C(b)}else if(St(c)||Cm(c)){var P=$s(v,0);E=P(b)}else E=c.map(function(S,A){var T=Math.floor(A*j);if(v[T]){var R=v[T],_=$s(R.x,S.x),I=$s(R.y,S.y);return Pl(Pl({},S),{},{x:_(b),y:I(b)})}return S});return a.renderAreaStatically(N,E,n,s)}return V.createElement(Ut,null,V.createElement("defs",null,V.createElement("clipPath",{id:"animationClipPath-".concat(s)},a.renderClipRect(b))),V.createElement(Ut,{clipPath:"url(#animationClipPath-".concat(s,")")},a.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,f=u.totalLength;return c&&o&&o.length&&(!d&&f>0||!Of(d,o)||!Of(h,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,h=s.xAxis,f=s.yAxis,m=s.width,x=s.height,p=s.isAnimationActive,v=s.id;if(a||!l||!l.length)return null;var w=this.state.isAnimationFinished,b=l.length===1,j=Et("recharts-area",c),N=h&&h.allowDataOverflow,E=f&&f.allowDataOverflow,C=N||E,P=St(v)?this.id:v,S=(n=st(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,T=A===void 0?3:A,R=S.strokeWidth,_=R===void 0?2:R,I=R_e(o)?o:{},M=I.clipDot,z=M===void 0?!0:M,W=T*2+_;return V.createElement(Ut,{className:j},N||E?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(P)},V.createElement("rect",{x:N?d:d-m/2,y:E?u:u-x/2,width:N?m:m*2,height:E?x:x*2})),!z&&V.createElement("clipPath",{id:"clipPath-dots-".concat(P)},V.createElement("rect",{x:d-W/2,y:u-W/2,width:m+W,height:x+W}))):null,b?null:this.renderArea(C,P),(o||b)&&this.renderDots(C,z,P),(!p||w)&&qo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(g.PureComponent);WX=no;Ha(no,"displayName","Area");Ha(no,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!eo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ha(no,"getBaseValue",function(t,e,r,n){var s=t.layout,a=t.baseValue,o=e.props.baseValue,l=o??a;if(De(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ha(no,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,s=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,m=e.layout,x=u&&u.length,p=WX.getBaseValue(e,r,n,s),v=m==="horizontal",w=!1,b=h.map(function(N,E){var C;x?C=u[d+E]:(C=Sn(N,c),Array.isArray(C)?w=!0:C=[p,C]);var P=C[1]==null||x&&Sn(N,c)==null;return v?{x:$$({axis:n,ticks:a,bandSize:l,entry:N,index:E}),y:P?null:s.scale(C[1]),value:C,payload:N}:{x:P?null:n.scale(C[1]),y:$$({axis:s,ticks:o,bandSize:l,entry:N,index:E}),value:C,payload:N}}),j;return x||w?j=b.map(function(N){var E=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:E!=null&&N.y!=null?s.scale(E):null}:{x:E!=null?n.scale(E):null,y:N.y}}):j=v?s.scale(p):n.scale(p),Pl({points:b,baseLine:j,layout:m,isRange:w},f)});Ha(no,"renderDotItem",function(t,e){var r;if(V.isValidElement(t))r=V.cloneElement(t,e);else if(ft(t))r=t(e);else{var n=Et("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,a=HX(e,zqe);r=V.createElement(dN,_u({},a,{key:s,className:n}))}return r});function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Zqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XX(n.key),n)}}function tze(t,e,r){return e&&eze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rze(t,e,r){return e=Qw(e),nze(t,YX()?Reflect.construct(e,r||[],Qw(t).constructor):e.apply(t,r))}function nze(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sze(t)}function sze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YX=function(){return!!t})()}function Qw(t){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qw(t)}function ize(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CA(t,e)}function CA(t,e){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CA(t,e)}function QX(t,e,r){return e=XX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XX(t){var e=aze(t,"string");return Kf(e)=="symbol"?e:e+""}function aze(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kA(){return kA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kA.apply(this,arguments)}function oze(t){var e=t.xAxisId,r=SR(),n=ER(),s=IX(e);return s==null?null:V.createElement(Fm,kA({},s,{className:Et("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return $o(o,!0)}}))}var NN=function(t){function e(){return Zqe(this,e),rze(this,e,arguments)}return ize(e,t),tze(e,[{key:"render",value:function(){return V.createElement(oze,this.props)}}])}(V.Component);QX(NN,"displayName","XAxis");QX(NN,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function lze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eJ(n.key),n)}}function uze(t,e,r){return e&&cze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dze(t,e,r){return e=Xw(e),hze(t,JX()?Reflect.construct(e,r||[],Xw(t).constructor):e.apply(t,r))}function hze(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fze(t)}function fze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JX=function(){return!!t})()}function Xw(t){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xw(t)}function mze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}function IA(t,e){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},IA(t,e)}function ZX(t,e,r){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eJ(t){var e=pze(t,"string");return Yf(e)=="symbol"?e:e+""}function pze(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RA.apply(this,arguments)}var gze=function(e){var r=e.yAxisId,n=SR(),s=ER(),a=RX(r);return a==null?null:V.createElement(Fm,RA({},a,{className:Et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return $o(l,!0)}}))},SN=function(t){function e(){return lze(this,e),dze(this,e,arguments)}return mze(e,t),uze(e,[{key:"render",value:function(){return V.createElement(gze,this.props)}}])}(V.Component);ZX(SN,"displayName","YAxis");ZX(SN,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fF(t){return bze(t)||vze(t)||yze(t)||xze()}function xze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yze(t,e){if(t){if(typeof t=="string")return OA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OA(t,e)}}function vze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bze(t){if(Array.isArray(t))return OA(t)}function OA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var DA=function(e,r,n,s,a){var o=Vi(e,_R),l=Vi(e,bN),c=[].concat(fF(o),fF(l)),u=Vi(e,jN),d="".concat(s,"Id"),h=s[0],f=r;if(c.length&&(f=c.reduce(function(p,v){if(v.props[d]===n&&ro(v.props,"extendDomain")&&De(v.props[h])){var w=v.props[h];return[Math.min(p[0],w),Math.max(p[1],w)]}return p},f)),u.length){var m="".concat(h,"1"),x="".concat(h,"2");f=u.reduce(function(p,v){if(v.props[d]===n&&ro(v.props,"extendDomain")&&De(v.props[m])&&De(v.props[x])){var w=v.props[m],b=v.props[x];return[Math.min(p[0],w,b),Math.max(p[1],w,b)]}return p},f)}return a&&a.length&&(f=a.reduce(function(p,v){return De(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},f)),f},tJ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,h||c,f),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,x=new Array(m);f<m;f++)x[f]=h[f].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,x){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],w=arguments.length,b,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,f),!0;case 5:return v.fn.call(v.context,d,h,f,m),!0;case 6:return v.fn.call(v.context,d,h,f,m,x),!0}for(j=1,b=new Array(w-1);j<w;j++)b[j-1]=arguments[j];v.fn.apply(v.context,b)}else{var N=v.length,E;for(j=0;j<N;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),w){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,h);break;case 4:v[j].fn.call(v[j].context,d,h,f);break;default:if(!b)for(E=1,b=new Array(w-1);E<w;E++)b[E-1]=arguments[E];v[j].fn.apply(v[j].context,b)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!f||x.once)&&(!h||x.context===h)&&o(this,m);else{for(var p=0,v=[],w=x.length;p<w;p++)(x[p].fn!==d||f&&!x[p].once||h&&x[p].context!==h)&&v.push(x[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(tJ);var wze=tJ.exports;const jze=Qt(wze);var VS=new jze,BS="recharts.syncMouseEvents";function qx(t){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(t)}function Nze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rJ(n.key),n)}}function Eze(t,e,r){return e&&Sze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function US(t,e,r){return e=rJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rJ(t){var e=Pze(t,"string");return qx(e)=="symbol"?e:e+""}function Pze(t,e){if(qx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _ze=function(){function t(){Nze(this,t),US(this,"activeIndex",0),US(this,"coordinateList",[]),US(this,"layout","horizontal")}return Eze(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function Aze(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&De(n)&&De(s))return!0}return!1}function Tze(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function nJ(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,a=t.endAngle,o=br(e,r,n,s),l=br(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:a}}function Cze(t,e,r){var n,s,a,o;if(t==="horizontal")n=e.x,a=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=br(l,c,u,h),m=br(l,c,d,h);n=f.x,s=f.y,a=m.x,o=m.y}else return nJ(e);return[{x:n,y:s},{x:a,y:o}]}function zx(t){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zx(t)}function mF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(r),!0).forEach(function(n){kze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kze(t,e,r){return e=Ize(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ize(t){var e=Rze(t,"string");return zx(e)=="symbol"?e:e+""}function Rze(t,e){if(zx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oze(t){var e,r,n=t.element,s=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||f!=="ScatterChart"&&s!=="axis")return null;var x,p=Lh;if(f==="ScatterChart")x=o,p=t9e;else if(f==="BarChart")x=Tze(h,o,c,d),p=bR;else if(h==="radial"){var v=nJ(o),w=v.cx,b=v.cy,j=v.radius,N=v.startAngle,E=v.endAngle;x={cx:w,cy:b,startAngle:N,endAngle:E,innerRadius:j,outerRadius:j},p=QQ}else x={points:Cze(h,o,c)},p=Lh;var C=sv(sv(sv(sv({stroke:"#ccc",pointerEvents:"none"},c),x),st(m,!1)),{},{payload:l,payloadIndex:u,className:Et("recharts-tooltip-cursor",m.className)});return g.isValidElement(m)?g.cloneElement(m,C):g.createElement(p,C)}var Dze=["item"],Mze=["children","className","width","height","style","compact","title","desc"];function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bg.apply(this,arguments)}function pF(t,e){return Fze(t)||Lze(t,e)||iJ(t,e)||$ze()}function $ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Fze(t){if(Array.isArray(t))return t}function gF(t,e){if(t==null)return{};var r=Vze(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aJ(n.key),n)}}function qze(t,e,r){return e&&Uze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zze(t,e,r){return e=Jw(e),Wze(t,sJ()?Reflect.construct(e,r||[],Jw(t).constructor):e.apply(t,r))}function Wze(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hze(t)}function Hze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sJ=function(){return!!t})()}function Jw(t){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jw(t)}function Gze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},MA(t,e)}function Xf(t){return Qze(t)||Yze(t)||iJ(t)||Kze()}function Kze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iJ(t,e){if(t){if(typeof t=="string")return $A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $A(t,e)}}function Yze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qze(t){if(Array.isArray(t))return $A(t)}function $A(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(r),!0).forEach(function(n){ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ct(t,e,r){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aJ(t){var e=Xze(t,"string");return Qf(e)=="symbol"?e:e+""}function Xze(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jze={xAxis:["bottom","top"],yAxis:["left","right"]},Zze={width:"100%",height:"100%"},oJ={x:0,y:0};function iv(t){return t}var eWe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},tWe=function(e,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=s.radius;return xe(xe(xe({},s),br(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return xe(xe(xe({},s),br(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return oJ},EN=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Xf(l),Xf(u)):l},[]);return o.length>0?o:e&&e.length&&De(s)&&De(a)?e.slice(s,a+1):[]};function lJ(t){return t==="number"?[0,"auto"]:void 0}var LA=function(e,r,n,s){var a=e.graphicalItems,o=e.tooltipAxis,l=EN(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=Zb(m,o.dataKey,s)}else f=h&&h[n]||l[n];return f?[].concat(Xf(c),[zQ(u,f)]):c},[])},yF=function(e,r,n,s){var a=s||{x:e.chartX,y:e.chartY},o=eWe(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=DLe(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=LA(e,r,d,h),m=tWe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},rWe=function(e,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,m=LQ(d,a);return n.reduce(function(x,p){var v,w=p.type.defaultProps!==void 0?xe(xe({},p.type.defaultProps),p.props):p.props,b=w.type,j=w.dataKey,N=w.allowDataOverflow,E=w.allowDuplicatedCategory,C=w.scale,P=w.ticks,S=w.includeHidden,A=w[o];if(x[A])return x;var T=EN(e.data,{graphicalItems:s.filter(function(X){var he,D=o in X.props?X.props[o]:(he=X.type.defaultProps)===null||he===void 0?void 0:he[o];return D===A}),dataStartIndex:c,dataEndIndex:u}),R=T.length,_,I,M;Aze(w.domain,N,b)&&(_=Z_(w.domain,null,N),m&&(b==="number"||C!=="auto")&&(M=gg(T,j,"category")));var z=lJ(b);if(!_||_.length===0){var W,B=(W=w.domain)!==null&&W!==void 0?W:z;if(j){if(_=gg(T,j,b),b==="category"&&m){var $=S_e(_);E&&$?(I=_,_=Fw(0,R)):E||(_=B$(B,_,p).reduce(function(X,he){return X.indexOf(he)>=0?X:[].concat(Xf(X),[he])},[]))}else if(b==="category")E?_=_.filter(function(X){return X!==""&&!St(X)}):_=B$(B,_,p).reduce(function(X,he){return X.indexOf(he)>=0||he===""||St(he)?X:[].concat(Xf(X),[he])},[]);else if(b==="number"){var U=VLe(T,s.filter(function(X){var he,D,H=o in X.props?X.props[o]:(he=X.type.defaultProps)===null||he===void 0?void 0:he[o],se="hide"in X.props?X.props.hide:(D=X.type.defaultProps)===null||D===void 0?void 0:D.hide;return H===A&&(S||!se)}),j,a,d);U&&(_=U)}m&&(b==="number"||C!=="auto")&&(M=gg(T,j,"category"))}else m?_=Fw(0,R):l&&l[A]&&l[A].hasStack&&b==="number"?_=f==="expand"?[0,1]:qQ(l[A].stackGroups,c,u):_=$Q(T,s.filter(function(X){var he=o in X.props?X.props[o]:X.type.defaultProps[o],D="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return he===A&&(S||!D)}),b,d,!0);if(b==="number")_=DA(h,_,A,a,P),B&&(_=Z_(B,_,N));else if(b==="category"&&B){var Y=B,K=_.every(function(X){return Y.indexOf(X)>=0});K&&(_=Y)}}return xe(xe({},x),{},ct({},A,xe(xe({},w),{},{axisType:a,domain:_,categoricalDomain:M,duplicateDomain:I,originalDomain:(v=w.domain)!==null&&v!==void 0?v:z,isCategorical:m,layout:d})))},{})},nWe=function(e,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=EN(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=f.length,x=LQ(d,a),p=-1;return n.reduce(function(v,w){var b=w.type.defaultProps!==void 0?xe(xe({},w.type.defaultProps),w.props):w.props,j=b[o],N=lJ("number");if(!v[j]){p++;var E;return x?E=Fw(0,m):l&&l[j]&&l[j].hasStack?(E=qQ(l[j].stackGroups,c,u),E=DA(h,E,j,a)):(E=Z_(N,$Q(f,n.filter(function(C){var P,S,A=o in C.props?C.props[o]:(P=C.type.defaultProps)===null||P===void 0?void 0:P[o],T="hide"in C.props?C.props.hide:(S=C.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===j&&!T}),"number",d),s.defaultProps.allowDataOverflow),E=DA(h,E,j,a)),xe(xe({},v),{},ct({},j,xe(xe({axisType:a},s.defaultProps),{},{hide:!0,orientation:fi(Jze,"".concat(a,".").concat(p%2),null),domain:E,originalDomain:N,isCategorical:x,layout:d})))}return v},{})},sWe=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(s,"Id"),f=Vi(d,a),m={};return f&&f.length?m=rWe(e,{axes:f,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=nWe(e,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},iWe=function(e){var r=Ll(e),n=$o(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:GI(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:_w(r,n)}},vF=function(e){var r=e.children,n=e.defaultShowTooltip,s=ni(r,Bf),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},aWe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Bo(r&&r.type);return n&&n.indexOf("Bar")>=0})},bF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oWe=function(e,r){var n=e.props,s=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,f=n.margin||{},m=ni(h,Bf),x=ni(h,Dh),p=Object.keys(c).reduce(function(E,C){var P=c[C],S=P.orientation;return!P.mirror&&!P.hide?xe(xe({},E),{},ct({},S,E[S]+P.width)):E},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(E,C){var P=o[C],S=P.orientation;return!P.mirror&&!P.hide?xe(xe({},E),{},ct({},S,fi(E,"".concat(S))+P.height)):E},{top:f.top||0,bottom:f.bottom||0}),w=xe(xe({},v),p),b=w.bottom;m&&(w.bottom+=m.props.height||Bf.defaultProps.height),x&&r&&(w=LLe(w,s,n,r));var j=u-w.left-w.right,N=d-w.top-w.bottom;return xe(xe({brushBottom:b},w),{},{width:Math.max(j,0),height:Math.max(N,0)})},lWe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},cJ=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,a=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(v,w){var b=w.graphicalItems,j=w.stackGroups,N=w.offset,E=w.updateId,C=w.dataStartIndex,P=w.dataEndIndex,S=v.barSize,A=v.layout,T=v.barGap,R=v.barCategoryGap,_=v.maxBarSize,I=bF(A),M=I.numericAxisName,z=I.cateAxisName,W=aWe(b),B=[];return b.forEach(function($,U){var Y=EN(v.data,{graphicalItems:[$],dataStartIndex:C,dataEndIndex:P}),K=$.type.defaultProps!==void 0?xe(xe({},$.type.defaultProps),$.props):$.props,X=K.dataKey,he=K.maxBarSize,D=K["".concat(M,"Id")],H=K["".concat(z,"Id")],se={},Q=c.reduce(function(de,Te){var Xe=w["".concat(Te.axisType,"Map")],It=K["".concat(Te.axisType,"Id")];Xe&&Xe[It]||Te.axisType==="zAxis"||dd();var it=Xe[It];return xe(xe({},de),{},ct(ct({},Te.axisType,it),"".concat(Te.axisType,"Ticks"),$o(it)))},se),Ne=Q[z],J=Q["".concat(z,"Ticks")],me=j&&j[D]&&j[D].hasStack&&YLe($,j[D].stackGroups),L=Bo($.type).indexOf("Bar")>=0,q=_w(Ne,J),ee=[],te=W&&MLe({barSize:S,stackGroups:j,totalSize:lWe(Q,z)});if(L){var ce,ge,pe=St(he)?_:he,ie=(ce=(ge=_w(Ne,J,!0))!==null&&ge!==void 0?ge:pe)!==null&&ce!==void 0?ce:0;ee=$Le({barGap:T,barCategoryGap:R,bandSize:ie!==q?ie:q,sizeList:te[H],maxBarSize:pe}),ie!==q&&(ee=ee.map(function(de){return xe(xe({},de),{},{position:xe(xe({},de.position),{},{offset:de.position.offset-ie/2})})}))}var ue=$&&$.type&&$.type.getComposedData;ue&&B.push({props:xe(xe({},ue(xe(xe({},Q),{},{displayedData:Y,props:v,dataKey:X,item:$,bandSize:q,barPosition:ee,offset:N,stackedData:me,layout:A,dataStartIndex:C,dataEndIndex:P}))),{},ct(ct(ct({key:$.key||"item-".concat(U)},M,Q[M]),z,Q[z]),"animationId",E)),childIndex:M_e($,v.children),item:$})}),B},m=function(v,w){var b=v.props,j=v.dataStartIndex,N=v.dataEndIndex,E=v.updateId;if(!O4({props:b}))return null;var C=b.children,P=b.layout,S=b.stackOffset,A=b.data,T=b.reverseStackOrder,R=bF(P),_=R.numericAxisName,I=R.cateAxisName,M=Vi(C,n),z=GLe(A,M,"".concat(_,"Id"),"".concat(I,"Id"),S,T),W=c.reduce(function(K,X){var he="".concat(X.axisType,"Map");return xe(xe({},K),{},ct({},he,sWe(b,xe(xe({},X),{},{graphicalItems:M,stackGroups:X.axisType===_&&z,dataStartIndex:j,dataEndIndex:N}))))},{}),B=oWe(xe(xe({},W),{},{props:b,graphicalItems:M}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(K){W[K]=d(b,W[K],B,K.replace("Map",""),r)});var $=W["".concat(I,"Map")],U=iWe($),Y=f(b,xe(xe({},W),{},{dataStartIndex:j,dataEndIndex:N,updateId:E,graphicalItems:M,stackGroups:z,offset:B}));return xe(xe({formattedGraphicalItems:Y,graphicalItems:M,offset:B,stackGroups:z},U),W)},x=function(p){function v(w){var b,j,N;return Bze(this,v),N=zze(this,v,[w]),ct(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ct(N,"accessibilityManager",new _ze),ct(N,"handleLegendBBoxUpdate",function(E){if(E){var C=N.state,P=C.dataStartIndex,S=C.dataEndIndex,A=C.updateId;N.setState(xe({legendBBox:E},m({props:N.props,dataStartIndex:P,dataEndIndex:S,updateId:A},xe(xe({},N.state),{},{legendBBox:E}))))}}),ct(N,"handleReceiveSyncEvent",function(E,C,P){if(N.props.syncId===E){if(P===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(C)}}),ct(N,"handleBrushChange",function(E){var C=E.startIndex,P=E.endIndex;if(C!==N.state.dataStartIndex||P!==N.state.dataEndIndex){var S=N.state.updateId;N.setState(function(){return xe({dataStartIndex:C,dataEndIndex:P},m({props:N.props,dataStartIndex:C,dataEndIndex:P,updateId:S},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),ct(N,"handleMouseEnter",function(E){var C=N.getMouseInfo(E);if(C){var P=xe(xe({},C),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var S=N.props.onMouseEnter;ft(S)&&S(P,E)}}),ct(N,"triggeredAfterMouseMove",function(E){var C=N.getMouseInfo(E),P=C?xe(xe({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var S=N.props.onMouseMove;ft(S)&&S(P,E)}),ct(N,"handleItemMouseEnter",function(E){N.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),ct(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),ct(N,"handleMouseMove",function(E){E.persist(),N.throttleTriggeredAfterMouseMove(E)}),ct(N,"handleMouseLeave",function(E){N.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var P=N.props.onMouseLeave;ft(P)&&P(C,E)}),ct(N,"handleOuterEvent",function(E){var C=D_e(E),P=fi(N.props,"".concat(C));if(C&&ft(P)){var S,A;/.*touch.*/i.test(C)?A=N.getMouseInfo(E.changedTouches[0]):A=N.getMouseInfo(E),P((S=A)!==null&&S!==void 0?S:{},E)}}),ct(N,"handleClick",function(E){var C=N.getMouseInfo(E);if(C){var P=xe(xe({},C),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var S=N.props.onClick;ft(S)&&S(P,E)}}),ct(N,"handleMouseDown",function(E){var C=N.props.onMouseDown;if(ft(C)){var P=N.getMouseInfo(E);C(P,E)}}),ct(N,"handleMouseUp",function(E){var C=N.props.onMouseUp;if(ft(C)){var P=N.getMouseInfo(E);C(P,E)}}),ct(N,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),ct(N,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&N.handleMouseDown(E.changedTouches[0])}),ct(N,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&N.handleMouseUp(E.changedTouches[0])}),ct(N,"triggerSyncEvent",function(E){N.props.syncId!==void 0&&VS.emit(BS,N.props.syncId,E,N.eventEmitterSymbol)}),ct(N,"applySyncEvent",function(E){var C=N.props,P=C.layout,S=C.syncMethod,A=N.state.updateId,T=E.dataStartIndex,R=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)N.setState(xe({dataStartIndex:T,dataEndIndex:R},m({props:N.props,dataStartIndex:T,dataEndIndex:R,updateId:A},N.state)));else if(E.activeTooltipIndex!==void 0){var _=E.chartX,I=E.chartY,M=E.activeTooltipIndex,z=N.state,W=z.offset,B=z.tooltipTicks;if(!W)return;if(typeof S=="function")M=S(B,E);else if(S==="value"){M=-1;for(var $=0;$<B.length;$++)if(B[$].value===E.activeLabel){M=$;break}}var U=xe(xe({},W),{},{x:W.left,y:W.top}),Y=Math.min(_,U.x+U.width),K=Math.min(I,U.y+U.height),X=B[M]&&B[M].value,he=LA(N.state,N.props.data,M),D=B[M]?{x:P==="horizontal"?B[M].coordinate:Y,y:P==="horizontal"?K:B[M].coordinate}:oJ;N.setState(xe(xe({},E),{},{activeLabel:X,activeCoordinate:D,activePayload:he,activeTooltipIndex:M}))}else N.setState(E)}),ct(N,"renderCursor",function(E){var C,P=N.state,S=P.isTooltipActive,A=P.activeCoordinate,T=P.activePayload,R=P.offset,_=P.activeTooltipIndex,I=P.tooltipAxisBandSize,M=N.getTooltipEventType(),z=(C=E.props.active)!==null&&C!==void 0?C:S,W=N.props.layout,B=E.key||"_recharts-cursor";return V.createElement(Oze,{key:B,activeCoordinate:A,activePayload:T,activeTooltipIndex:_,chartName:r,element:E,isActive:z,layout:W,offset:R,tooltipAxisBandSize:I,tooltipEventType:M})}),ct(N,"renderPolarAxis",function(E,C,P){var S=fi(E,"type.axisType"),A=fi(N.state,"".concat(S,"Map")),T=E.type.defaultProps,R=T!==void 0?xe(xe({},T),E.props):E.props,_=A&&A[R["".concat(S,"Id")]];return g.cloneElement(E,xe(xe({},_),{},{className:Et(S,_.className),key:E.key||"".concat(C,"-").concat(P),ticks:$o(_,!0)}))}),ct(N,"renderPolarGrid",function(E){var C=E.props,P=C.radialLines,S=C.polarAngles,A=C.polarRadius,T=N.state,R=T.radiusAxisMap,_=T.angleAxisMap,I=Ll(R),M=Ll(_),z=M.cx,W=M.cy,B=M.innerRadius,$=M.outerRadius;return g.cloneElement(E,{polarAngles:Array.isArray(S)?S:$o(M,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(A)?A:$o(I,!0).map(function(U){return U.coordinate}),cx:z,cy:W,innerRadius:B,outerRadius:$,key:E.key||"polar-grid",radialLines:P})}),ct(N,"renderLegend",function(){var E=N.state.formattedGraphicalItems,C=N.props,P=C.children,S=C.width,A=C.height,T=N.props.margin||{},R=S-(T.left||0)-(T.right||0),_=DQ({children:P,formattedGraphicalItems:E,legendWidth:R,legendContent:u});if(!_)return null;var I=_.item,M=gF(_,Dze);return g.cloneElement(I,xe(xe({},M),{},{chartWidth:S,chartHeight:A,margin:T,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),ct(N,"renderTooltip",function(){var E,C=N.props,P=C.children,S=C.accessibilityLayer,A=ni(P,$a);if(!A)return null;var T=N.state,R=T.isTooltipActive,_=T.activeCoordinate,I=T.activePayload,M=T.activeLabel,z=T.offset,W=(E=A.props.active)!==null&&E!==void 0?E:R;return g.cloneElement(A,{viewBox:xe(xe({},z),{},{x:z.left,y:z.top}),active:W,label:M,payload:W?I:[],coordinate:_,accessibilityLayer:S})}),ct(N,"renderBrush",function(E){var C=N.props,P=C.margin,S=C.data,A=N.state,T=A.offset,R=A.dataStartIndex,_=A.dataEndIndex,I=A.updateId;return g.cloneElement(E,{key:E.key||"_recharts-brush",onChange:ev(N.handleBrushChange,E.props.onChange),data:S,x:De(E.props.x)?E.props.x:T.left,y:De(E.props.y)?E.props.y:T.top+T.height+T.brushBottom-(P.bottom||0),width:De(E.props.width)?E.props.width:T.width,startIndex:R,endIndex:_,updateId:"brush-".concat(I)})}),ct(N,"renderReferenceElement",function(E,C,P){if(!E)return null;var S=N,A=S.clipPathId,T=N.state,R=T.xAxisMap,_=T.yAxisMap,I=T.offset,M=E.type.defaultProps||{},z=E.props,W=z.xAxisId,B=W===void 0?M.xAxisId:W,$=z.yAxisId,U=$===void 0?M.yAxisId:$;return g.cloneElement(E,{key:E.key||"".concat(C,"-").concat(P),xAxis:R[B],yAxis:_[U],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:A})}),ct(N,"renderActivePoints",function(E){var C=E.item,P=E.activePoint,S=E.basePoint,A=E.childIndex,T=E.isRange,R=[],_=C.props.key,I=C.item.type.defaultProps!==void 0?xe(xe({},C.item.type.defaultProps),C.item.props):C.item.props,M=I.activeDot,z=I.dataKey,W=xe(xe({index:A,dataKey:z,cx:P.x,cy:P.y,r:4,fill:vR(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},st(M,!1)),ew(M));return R.push(v.renderActiveDot(M,W,"".concat(_,"-activePoint-").concat(A))),S?R.push(v.renderActiveDot(M,xe(xe({},W),{},{cx:S.x,cy:S.y}),"".concat(_,"-basePoint-").concat(A))):T&&R.push(null),R}),ct(N,"renderGraphicChild",function(E,C,P){var S=N.filterFormatItem(E,C,P);if(!S)return null;var A=N.getTooltipEventType(),T=N.state,R=T.isTooltipActive,_=T.tooltipAxis,I=T.activeTooltipIndex,M=T.activeLabel,z=N.props.children,W=ni(z,$a),B=S.props,$=B.points,U=B.isRange,Y=B.baseLine,K=S.item.type.defaultProps!==void 0?xe(xe({},S.item.type.defaultProps),S.item.props):S.item.props,X=K.activeDot,he=K.hide,D=K.activeBar,H=K.activeShape,se=!!(!he&&R&&W&&(X||D||H)),Q={};A!=="axis"&&W&&W.props.trigger==="click"?Q={onClick:ev(N.handleItemMouseEnter,E.props.onClick)}:A!=="axis"&&(Q={onMouseLeave:ev(N.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:ev(N.handleItemMouseEnter,E.props.onMouseEnter)});var Ne=g.cloneElement(E,xe(xe({},S.props),Q));function J(Te){return typeof _.dataKey=="function"?_.dataKey(Te.payload):null}if(se)if(I>=0){var me,L;if(_.dataKey&&!_.allowDuplicatedCategory){var q=typeof _.dataKey=="function"?J:"payload.".concat(_.dataKey.toString());me=Zb($,q,M),L=U&&Y&&Zb(Y,q,M)}else me=$==null?void 0:$[I],L=U&&Y&&Y[I];if(H||D){var ee=E.props.activeIndex!==void 0?E.props.activeIndex:I;return[g.cloneElement(E,xe(xe(xe({},S.props),Q),{},{activeIndex:ee})),null,null]}if(!St(me))return[Ne].concat(Xf(N.renderActivePoints({item:S,activePoint:me,basePoint:L,childIndex:I,isRange:U})))}else{var te,ce=(te=N.getItemByXY(N.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:Ne},ge=ce.graphicalItem,pe=ge.item,ie=pe===void 0?E:pe,ue=ge.childIndex,de=xe(xe(xe({},S.props),Q),{},{activeIndex:ue});return[g.cloneElement(ie,de),null,null]}return U?[Ne,null,null]:[Ne,null]}),ct(N,"renderCustomized",function(E,C,P){return g.cloneElement(E,xe(xe({key:"recharts-customized-".concat(P)},N.props),N.state))}),ct(N,"renderMap",{CartesianGrid:{handler:iv,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:iv},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:iv},YAxis:{handler:iv},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:km("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=OY(N.triggeredAfterMouseMove,(j=w.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return Gze(v,p),qze(v,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,N=b.data,E=b.height,C=b.layout,P=ni(j,$a);if(P){var S=P.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,T=LA(this.state,N,S,A),R=this.state.tooltipTicks[S].coordinate,_=(this.state.offset.top+E)/2,I=C==="horizontal",M=I?{x:R,y:_}:{y:R,x:_},z=this.state.formattedGraphicalItems.find(function(B){var $=B.item;return $.type.name==="Scatter"});z&&(M=xe(xe({},M),z.props.points[S].tooltipPosition),T=z.props.points[S].tooltipPayload);var W={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:A,activePayload:T,activeCoordinate:M};this.setState(W),this.renderCursor(P),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var N,E;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(b){m_([ni(b.children,$a)],[ni(this.props.children,$a)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ni(this.props.children,$a);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return l.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),E=c3e(N),C={chartX:Math.round(b.pageX-E.left),chartY:Math.round(b.pageY-E.top)},P=N.width/j.offsetWidth||1,S=this.inRange(C.chartX,C.chartY,P);if(!S)return null;var A=this.state,T=A.xAxisMap,R=A.yAxisMap,_=this.getTooltipEventType();if(_!=="axis"&&T&&R){var I=Ll(T).scale,M=Ll(R).scale,z=I&&I.invert?I.invert(C.chartX):null,W=M&&M.invert?M.invert(C.chartY):null;return xe(xe({},C),{},{xValue:z,yValue:W})}var B=yF(this.state,this.props.data,this.props.layout,S);return B?xe(xe({},C),B):null}},{key:"inRange",value:function(b,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,C=b/N,P=j/N;if(E==="horizontal"||E==="vertical"){var S=this.state.offset,A=C>=S.left&&C<=S.left+S.width&&P>=S.top&&P<=S.top+S.height;return A?{x:C,y:P}:null}var T=this.state,R=T.angleAxisMap,_=T.radiusAxisMap;if(R&&_){var I=Ll(R);return z$({x:C,y:P},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),N=ni(b,$a),E={};N&&j==="axis"&&(N.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var C=ew(this.props,this.handleOuterEvent);return xe(xe({},C),E)}},{key:"addListener",value:function(){VS.on(BS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){VS.removeListener(BS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,N){for(var E=this.state.formattedGraphicalItems,C=0,P=E.length;C<P;C++){var S=E[C];if(S.item===b||S.props.key===b.key||j===Bo(S.item.type)&&N===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,N=j.left,E=j.top,C=j.height,P=j.width;return V.createElement("defs",null,V.createElement("clipPath",{id:b},V.createElement("rect",{x:N,y:E,height:C,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,N){var E=pF(N,2),C=E[0],P=E[1];return xe(xe({},j),{},ct({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,N){var E=pF(N,2),C=E[0],P=E[1];return xe(xe({},j),{},ct({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,N=j.formattedGraphicalItems,E=j.activeItem;if(N&&N.length)for(var C=0,P=N.length;C<P;C++){var S=N[C],A=S.props,T=S.item,R=T.type.defaultProps!==void 0?xe(xe({},T.type.defaultProps),T.props):T.props,_=Bo(T.type);if(_==="Bar"){var I=(A.data||[]).find(function(B){return D8e(b,B)});if(I)return{graphicalItem:S,payload:I}}else if(_==="RadialBar"){var M=(A.data||[]).find(function(B){return z$(b,B)});if(M)return{graphicalItem:S,payload:M}}else if(gN(S,E)||xN(S,E)||Lx(S,E)){var z=NBe({graphicalItem:S,activeTooltipItem:E,itemData:R.data}),W=R.activeIndex===void 0?z:R.activeIndex;return{graphicalItem:xe(xe({},S),{},{childIndex:W}),payload:Lx(S,E)?R.data[z]:S.props.data[z]}}}return null}},{key:"render",value:function(){var b=this;if(!O4(this))return null;var j=this.props,N=j.children,E=j.className,C=j.width,P=j.height,S=j.style,A=j.compact,T=j.title,R=j.desc,_=gF(j,Mze),I=st(_,!1);if(A)return V.createElement(JL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(g_,bg({},I,{width:C,height:P,title:T,desc:R}),this.renderClipPath(),M4(N,this.renderMap)));if(this.props.accessibilityLayer){var M,z;I.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,I.role=(z=this.props.role)!==null&&z!==void 0?z:"application",I.onKeyDown=function(B){b.accessibilityManager.keyboardEvent(B)},I.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return V.createElement(JL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",bg({className:Et("recharts-wrapper",E),style:xe({position:"relative",cursor:"default",width:C,height:P},S)},W,{ref:function($){b.container=$}}),V.createElement(g_,bg({},I,{width:C,height:P,title:T,desc:R,style:Zze}),this.renderClipPath(),M4(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);return ct(x,"displayName",r),ct(x,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ct(x,"getDerivedStateFromProps",function(p,v){var w=p.dataKey,b=p.data,j=p.children,N=p.width,E=p.height,C=p.layout,P=p.stackOffset,S=p.margin,A=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var R=vF(p);return xe(xe(xe({},R),{},{updateId:0},m(xe(xe({props:p},R),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:b,prevWidth:N,prevHeight:E,prevLayout:C,prevStackOffset:P,prevMargin:S,prevChildren:j})}if(w!==v.prevDataKey||b!==v.prevData||N!==v.prevWidth||E!==v.prevHeight||C!==v.prevLayout||P!==v.prevStackOffset||!Oh(S,v.prevMargin)){var _=vF(p),I={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},M=xe(xe({},yF(v,b,C)),{},{updateId:v.updateId+1}),z=xe(xe(xe({},_),I),M);return xe(xe(xe({},z),m(xe({props:p},z),v)),{},{prevDataKey:w,prevData:b,prevWidth:N,prevHeight:E,prevLayout:C,prevStackOffset:P,prevMargin:S,prevChildren:j})}if(!m_(j,v.prevChildren)){var W,B,$,U,Y=ni(j,Bf),K=Y&&(W=(B=Y.props)===null||B===void 0?void 0:B.startIndex)!==null&&W!==void 0?W:A,X=Y&&($=(U=Y.props)===null||U===void 0?void 0:U.endIndex)!==null&&$!==void 0?$:T,he=K!==A||X!==T,D=!St(b),H=D&&!he?v.updateId:v.updateId+1;return xe(xe({updateId:H},m(xe(xe({props:p},v),{},{updateId:H,dataStartIndex:K,dataEndIndex:X}),v)),{},{prevChildren:j,dataStartIndex:K,dataEndIndex:X})}return null}),ct(x,"renderActiveDot",function(p,v,w){var b;return g.isValidElement(p)?b=g.cloneElement(p,v):ft(p)?b=p(v):b=V.createElement(dN,v),V.createElement(Ut,{className:"recharts-active-dot",key:w},b)}),function(v){return V.createElement(x,v)}},cWe=cJ({chartName:"PieChart",GraphicalChild:ml,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:pN},{axisType:"radiusAxis",AxisComp:fN}],formatAxisMap:iFe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),uWe=cJ({chartName:"AreaChart",GraphicalChild:no,axisComponents:[{axisType:"xAxis",AxisComp:NN},{axisType:"yAxis",AxisComp:SN}],formatAxisMap:t7e});const dWe={light:"",dark:".dark"},uJ=g.createContext(null);function dJ(){const t=g.useContext(uJ);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const FA=g.forwardRef(({id:t,className:e,children:r,config:n,...s},a)=>{const o=g.useId(),l=`chart-${t||o.replace(/:/g,"")}`;return i.jsx(uJ.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:a,className:He("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...s,children:[i.jsx(hWe,{id:l,config:n}),i.jsx(r3e,{children:r})]})})});FA.displayName="Chart";const hWe=({id:t,config:e})=>{const r=Object.entries(e).filter(([n,s])=>s.theme||s.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(dWe).map(([n,s])=>`
${s} [data-chart=${t}] {
${r.map(([a,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${a}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},wF=$a,VA=g.forwardRef(({active:t,payload:e,className:r,indicator:n="dot",hideLabel:s=!1,hideIndicator:a=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:h,labelKey:f},m)=>{const{config:x}=dJ(),p=g.useMemo(()=>{var E;if(s||!(e!=null&&e.length))return null;const[w]=e,b=`${f||w.dataKey||w.name||"value"}`,j=BA(x,w,b),N=!f&&typeof o=="string"?((E=x[o])==null?void 0:E.label)||o:j==null?void 0:j.label;return l?i.jsx("div",{className:He("font-medium",c),children:l(N,e)}):N?i.jsx("div",{className:He("font-medium",c),children:N}):null},[o,l,e,s,c,x,f]);if(!t||!(e!=null&&e.length))return null;const v=e.length===1&&n!=="dot";return i.jsxs("div",{ref:m,className:He("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:p,i.jsx("div",{className:"grid gap-1.5",children:e.map((w,b)=>{const j=`${h||w.name||w.dataKey||"value"}`,N=BA(x,w,j),E=d||w.payload.fill||w.color;return i.jsx("div",{className:He("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(w==null?void 0:w.value)!==void 0&&w.name?u(w.value,w.name,w,b,w.payload):i.jsxs(i.Fragment,{children:[N!=null&&N.icon?i.jsx(N.icon,{}):!a&&i.jsx("div",{className:He("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":E,"--color-border":E}}),i.jsxs("div",{className:He("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[v?p:null,i.jsx("span",{className:"text-muted-foreground",children:(N==null?void 0:N.label)||w.name})]}),w.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:w.value.toLocaleString()})]})]})},w.dataKey)})})]})});VA.displayName="ChartTooltip";const fWe=g.forwardRef(({className:t,hideIcon:e=!1,payload:r,verticalAlign:n="bottom",nameKey:s},a)=>{const{config:o}=dJ();return r!=null&&r.length?i.jsx("div",{ref:a,className:He("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",t),children:r.map(l=>{const c=`${s||l.dataKey||"value"}`,u=BA(o,l,c);return i.jsxs("div",{className:He("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});fWe.displayName="ChartLegend";function BA(t,e,r){if(typeof e!="object"||e===null)return;const n="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let s=r;return r in e&&typeof e[r]=="string"?s=e[r]:n&&r in n&&typeof n[r]=="string"&&(s=n[r]),s in t?t[s]:t[r]}const mWe=()=>{var v,w;const[t,e]=g.useState({totalProcessed:0,autoApproved:0,flaggedForReview:0,autoRejected:0,averageConfidence:0,processingQueue:0}),[r,n]=g.useState([]),[s,a]=g.useState(null),[o,l]=g.useState(!0),[c,u]=g.useState(!0);g.useEffect(()=>{a(Po.getStatus()),u(Lu.isAIModeActive());const b=jt(Ze(oe,"aiActivities"),fn("timestamp","desc")),j=Ur(b,E=>{var S;const C=E.docs.map(A=>{var T;return{id:A.id,...A.data(),timestamp:((T=A.data().timestamp)==null?void 0:T.toDate())||new Date}});n(C.slice(0,10));const P=C.reduce((A,T)=>{switch(A.totalProcessed++,A.averageConfidence+=T.confidence,T.action){case"approved":A.autoApproved++;break;case"flagged":A.flaggedForReview++;break;case"rejected":A.autoRejected++;break}return A},{totalProcessed:0,autoApproved:0,flaggedForReview:0,autoRejected:0,averageConfidence:0,processingQueue:((S=s==null?void 0:s.processingQueue)==null?void 0:S.length)||0});P.totalProcessed>0&&(P.averageConfidence=Math.round(P.averageConfidence/P.totalProcessed)),e(P),l(!1)}),N=setInterval(()=>{a(Po.getStatus()),u(Lu.isAIModeActive())},5e3);return()=>{j(),clearInterval(N)}},[(v=s==null?void 0:s.processingQueue)==null?void 0:v.length]);const d=()=>{s!=null&&s.isRunning?Po.stop():Po.start(),a(Po.getStatus())},h=()=>{Po.processExistingPendingItems()},f=()=>{const b=!c;Lu.setAIMode(b),u(b)},m=b=>{switch(b){case"approved":return i.jsx(xt,{className:"h-4 w-4 text-green-500"});case"flagged":return i.jsx(kt,{className:"h-4 w-4 text-yellow-500"});case"rejected":return i.jsx(qC,{className:"h-4 w-4 text-red-500"});default:return i.jsx(xn,{className:"h-4 w-4 text-gray-500"})}},x=b=>{switch(b){case"approved":return"bg-green-100 text-green-800";case"flagged":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=b=>{switch(b){case"enquiry":return"";case"profile":return"";case"response":return"";default:return""}};return o?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx(Tb,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{className:"ml-2",children:"Loading AI Dashboard..."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ba,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"AI Approval Dashboard"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Automated approval system monitoring"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[i.jsxs(Pe,{variant:c?"default":"secondary",className:c?"bg-blue-900/30 text-blue-400 border border-blue-500/30":"bg-black text-gray-400 border border-gray-900",children:[i.jsx(Ba,{className:"h-3 w-3 mr-1"}),c?"AI Mode ON":"Manual Mode"]}),i.jsxs(Pe,{variant:s!=null&&s.isRunning?"default":"secondary",className:s!=null&&s.isRunning?"bg-green-900/30 text-green-400 border border-green-500/30":"bg-black text-gray-400 border border-gray-900",children:[i.jsx(Gg,{className:"h-3 w-3 mr-1"}),s!=null&&s.isRunning?"Running":"Stopped"]}),i.jsx(G,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm border-gray-900 text-gray-300 hover:bg-black",children:s!=null&&s.isRunning?i.jsxs(i.Fragment,{children:[i.jsx(eue,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Pause AI"}),i.jsx("span",{className:"sm:hidden",children:"Pause"})]}):i.jsxs(i.Fragment,{children:[i.jsx(rue,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Start AI"}),i.jsx("span",{className:"sm:hidden",children:"Start"})]})}),i.jsxs(G,{variant:"outline",size:"sm",onClick:h,className:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm border-gray-900 text-gray-300 hover:bg-black",children:[i.jsx(Tb,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Process Existing"}),i.jsx("span",{className:"sm:hidden",children:"Process"})]}),i.jsxs(G,{variant:c?"default":"outline",size:"sm",onClick:f,className:`flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm ${c?"bg-blue-600 hover:bg-blue-700 text-white":"border-blue-500 text-blue-400 hover:bg-blue-900/20"}`,children:[i.jsx(Ba,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsx("span",{className:"hidden sm:inline",children:c?"Disable AI":"Enable AI"}),i.jsx("span",{className:"sm:hidden",children:c?"Disable":"Enable"})]})]})]}),c?i.jsxs($i,{className:"border-blue-500/30 bg-blue-900/20",children:[i.jsx(Ba,{className:"h-4 w-4 text-blue-400"}),i.jsxs(Li,{className:"text-blue-300",children:[i.jsx("strong",{children:"AI Mode Active (Testing Phase):"})," All new submissions will be processed automatically in real-time. Items with 40%+ confidence will be approved instantly for testing purposes."]})]}):i.jsxs($i,{className:"border-yellow-500/30 bg-yellow-900/20",children:[i.jsx(kt,{className:"h-4 w-4 text-yellow-400"}),i.jsxs(Li,{className:"text-yellow-300",children:[i.jsx("strong",{children:"Manual Mode Active:"})," All submissions will require manual review. Enable AI mode for automatic processing."]})]}),((w=s==null?void 0:s.processingQueue)==null?void 0:w.length)>0&&i.jsxs($i,{className:"border-gray-900 bg-black",children:[i.jsx(Gg,{className:"h-4 w-4 text-gray-400"}),i.jsxs(Li,{className:"text-gray-300",children:["AI is currently processing ",s.processingQueue.length," items in the queue."]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(be,{className:"bg-black border-gray-900",children:[i.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(cr,{className:"text-sm font-medium text-gray-300",children:"Total Processed"}),i.jsx(Ba,{className:"h-4 w-4 text-gray-400"})]}),i.jsxs(Ve,{children:[i.jsx("div",{className:"text-2xl font-bold text-white",children:t.totalProcessed}),i.jsx("p",{className:"text-xs text-gray-400",children:"Items processed by AI"})]})]}),i.jsxs(be,{className:"bg-black border-gray-900",children:[i.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(cr,{className:"text-sm font-medium text-gray-300",children:"Auto-Approved"}),i.jsx(xt,{className:"h-4 w-4 text-green-500"})]}),i.jsxs(Ve,{children:[i.jsx("div",{className:"text-2xl font-bold text-green-400",children:t.autoApproved}),i.jsxs("p",{className:"text-xs text-gray-400",children:[t.totalProcessed>0?Math.round(t.autoApproved/t.totalProcessed*100):0,"% approval rate"]})]})]}),i.jsxs(be,{className:"bg-black border-gray-900",children:[i.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(cr,{className:"text-sm font-medium text-gray-300",children:"Flagged for Review"}),i.jsx(kt,{className:"h-4 w-4 text-yellow-500"})]}),i.jsxs(Ve,{children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:t.flaggedForReview}),i.jsx("p",{className:"text-xs text-gray-400",children:"Requires human review"})]})]}),i.jsxs(be,{className:"bg-black border-gray-900",children:[i.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(cr,{className:"text-sm font-medium text-gray-300",children:"Average Confidence"}),i.jsx(Cb,{className:"h-4 w-4 text-gray-400"})]}),i.jsxs(Ve,{children:[i.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.averageConfidence,"%"]}),i.jsx(fg,{value:t.averageConfidence,className:"mt-2"})]})]})]}),i.jsxs(be,{className:"bg-black border-gray-900",children:[i.jsxs(vt,{children:[i.jsx(cr,{className:"text-white",children:"Recent AI Activity"}),i.jsx(Bu,{className:"text-gray-400",children:"Latest automated approval decisions"})]}),i.jsx(Ve,{children:r.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx(Ba,{className:"h-12 w-12 mx-auto mb-4 text-gray-600"}),i.jsx("p",{className:"text-gray-300",children:"No AI activity yet"}),i.jsx("p",{className:"text-sm text-gray-500",children:"AI will start processing items automatically"})]}):i.jsx("div",{className:"space-y-3",children:r.map(b=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 border border-gray-900 rounded-lg gap-3 bg-black",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"text-lg",children:p(b.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m(b.action),i.jsx("span",{className:"font-medium capitalize text-sm sm:text-base text-white",children:b.type}),i.jsx(Pe,{className:`${x(b.action)} text-xs border`,children:b.action})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1 break-words",children:b.reason})]})]}),i.jsxs("div",{className:"flex items-center justify-between sm:flex-col sm:text-right sm:items-end",children:[i.jsxs("div",{className:"text-sm font-medium text-white",children:[b.confidence,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:b.timestamp.toLocaleTimeString()})]})]},b.id))})})]}),i.jsxs(be,{className:"bg-black border-gray-900",children:[i.jsxs(vt,{children:[i.jsx(cr,{className:"text-white",children:"AI Configuration"}),i.jsx(Bu,{className:"text-gray-400",children:"Current AI approval settings and thresholds"})]}),i.jsx(Ve,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Auto-Approval Threshold"}),i.jsx("div",{className:"text-2xl font-bold text-green-400",children:"40%"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Confidence required for auto-approval (Testing Phase)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Review Threshold"}),i.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"25%"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Confidence for human review"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Rejection Threshold"}),i.jsx("div",{className:"text-2xl font-bold text-red-400",children:"15%"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Confidence for auto-rejection"})]})]})})]})]})},pWe=()=>{const[t,e]=g.useState("free"),[r,n]=g.useState([]),s=d=>{const h=[];for(let f=1;f<=d;f++)h.push({id:`response-${f}`,sellerName:`Seller ${f}`,message:`This is response number ${f} from seller ${f}`,timestamp:new Date().toISOString()});return h},a=(d,h)=>{let f=2;switch(d){case"free":f=2;break;case"basic":f=5;break;case"standard":f=10;break;case"premium":case"pro":f=-1;break;default:f=2}return f===-1?h:h.slice(0,f)},o=(d,h)=>{const f=a(d,h);return h.slice(f.length)},l=cs.find(d=>d.id===t),c=a(t,r),u=o(t,r);return i.jsx("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:i.jsxs(be,{children:[i.jsx(vt,{children:i.jsx(cr,{className:"text-2xl font-bold text-center",children:" Premium Plan Response Limits Tester"})}),i.jsxs(Ve,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Select Payment Plan:"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:cs.map(d=>i.jsxs(G,{variant:t===d.id?"default":"outline",onClick:()=>e(d.id),className:"flex flex-col items-center p-4 h-auto",children:[i.jsx("div",{className:"font-semibold",children:d.name}),i.jsxs("div",{className:"text-sm",children:["",d.price]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:d.responses===-1?"Unlimited":`${d.responses} responses`})]},d.id))})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsxs("h3",{className:"font-semibold text-blue-900 mb-2",children:["Current Plan: ",l==null?void 0:l.name]}),i.jsxs("div",{className:"text-sm text-blue-800",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Price:"})," ",l==null?void 0:l.price]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Response Limit:"})," ",(l==null?void 0:l.responses)===-1?"Unlimited":`${l==null?void 0:l.responses} responses`]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Features:"})," ",l==null?void 0:l.features.join(", ")]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Generate Test Responses:"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(G,{onClick:()=>n(s(3)),children:"Generate 3 Responses"}),i.jsx(G,{onClick:()=>n(s(5)),children:"Generate 5 Responses"}),i.jsx(G,{onClick:()=>n(s(7)),children:"Generate 7 Responses"}),i.jsx(G,{onClick:()=>n(s(12)),children:"Generate 12 Responses"}),i.jsx(G,{onClick:()=>n([]),variant:"outline",children:"Clear All"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Test Results:"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Total Responses:"})," ",r.length]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Visible:"})," ",c.length]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Locked:"})," ",u.length]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Status:"}),i.jsx(Pe,{className:u.length>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800",children:u.length>0?"LIMITED":"ALL_VISIBLE"})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold mb-2 text-green-700",children:[" Visible Responses (",c.length,"):"]}),i.jsx("div",{className:"space-y-2",children:c.map((d,h)=>i.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("strong",{children:d.sellerName}),i.jsx("p",{className:"text-sm text-gray-600",children:d.message})]}),i.jsxs(Pe,{variant:"outline",className:"bg-green-100 text-green-800",children:["#",h+1]})]})},d.id))})]}),u.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold mb-2 text-red-700",children:[" Locked Responses (",u.length,"):"]}),i.jsx("div",{className:"space-y-2",children:u.map((d,h)=>i.jsx("div",{className:"bg-red-50 border border-red-200 p-3 rounded-lg opacity-60",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("strong",{children:d.sellerName}),i.jsx("p",{className:"text-sm text-gray-600",children:d.message})]}),i.jsxs(Pe,{variant:"outline",className:"bg-red-100 text-red-800",children:["#",c.length+h+1]})]})},d.id))})]}),i.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:" Test Scenarios:"}),i.jsxs("div",{className:"text-sm text-yellow-700 space-y-1",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Free Plan (0):"})," Should show only 2 responses, lock the rest"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Basic Plan (99):"})," Should show only 5 responses, lock the rest"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Standard Plan (199):"})," Should show only 10 responses, lock the rest"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Premium Plan (499):"})," Should show ALL responses (unlimited)"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Pro Plan (1,499):"})," Should show ALL responses (unlimited)"]})]})]})]})]})]})})},gWe=()=>{const{user:t}=Dr(),e=g.useContext(Ea),r=(e==null?void 0:e.createNotificationForUser)||(async()=>{console.warn("NotificationContext not available")}),[n,s]=g.useState([]),[a,o]=g.useState([]),[l,c]=g.useState([]),[u,d]=g.useState([]),[h,f]=g.useState([]),[m,x]=g.useState(null);g.useState(null);const[p,v]=g.useState(""),[w,b]=g.useState(!0),[j,N]=g.useState(null),[E,C]=g.useState({enabled:!0,confidenceThreshold:80,autoApprovePremium:!0,autoApproveFree:!0});g.useEffect(()=>{(async()=>{try{const H=await Ft(Ce(oe,"settings","ai_approval"));if(H.exists()){const se=H.data();C({enabled:se.enabled??!0,confidenceThreshold:se.confidenceThreshold??80,autoApprovePremium:se.autoApprovePremium??!0,autoApproveFree:se.autoApproveFree??!0})}}catch(H){console.error("Error loading AI settings:",H)}})()},[]),g.useEffect(()=>(t?(console.log(" Admin: Starting background AI service for authenticated admin"),Po.startForAdmin()):(console.log(" Admin: Stopping background AI service - no authenticated user"),Po.stop()),()=>{Po.stop()}),[t]);const P=D=>{if(!D.deadline)return!1;const H=D.deadline.toDate?D.deadline.toDate():new Date(D.deadline);return new Date>H},S=async()=>{if(confirm(` WARNING: This will DELETE EVERYTHING - all user accounts, profiles, enquiries, and data! Users will need to create fresh accounts!

Are you sure?`))try{b(!0);const D=["userProfiles","enquiries","submissions","notifications","chatMessages"];for(const H of D)try{const se=Ze(oe,H),Q=await Bt(se),Ne=rg(oe);Q.forEach(J=>{Ne.delete(J.ref)}),await Ne.commit()}catch(se){console.log(`Could not clear collection ${H}:`,se)}f([]),o([]),c([]),le({title:" COMPLETE SYSTEM RESET!",description:"All data cleared! Users will need to create fresh accounts."}),setTimeout(()=>{localStorage.clear(),sessionStorage.clear();const H=H9();D9(H),window.location.href="/"},2e3)}catch(D){console.error("Error clearing data:",D),le({title:"Clear Failed",description:"Some data may not have been cleared.",variant:"destructive"})}finally{b(!1)}};g.useEffect(()=>{setTimeout(()=>{b(!1)},5e3);const D=jt(Ze(oe,"enquiries"),At("status","==","pending"),fn("createdAt","desc")),H=jt(Ze(oe,"enquiries"),At("status","==","live"),fn("createdAt","desc")),se=jt(Ze(oe,"submissions"),At("status","==","pending"),fn("createdAt","desc")),Q=jt(Ze(oe,"sellerSubmissions"),At("status","==","pending"),fn("createdAt","desc"));(async()=>{try{const[J,me,L,q]=await Promise.all([Bt(D),Bt(H),Bt(se),Bt(Q)]),ee=[];J.forEach(pe=>{const ie=pe.data();ee.push({id:pe.id,userId:ie.userId,title:ie.title,category:ie.category,description:ie.description,budget:ie.budget,deadline:ie.deadline,status:ie.status,createdAt:ie.createdAt,adminNotes:ie.adminNotes,idFrontImage:ie.idFrontImage,idBackImage:ie.idBackImage,location:ie.location,urgency:ie.urgency,responses:ie.responses||0,likes:ie.likes||0,shares:ie.shares||0,views:ie.views||0,userLikes:ie.userLikes||[],notes:ie.notes,isUrgent:ie.isUrgent||!1})}),ee.sort((pe,ie)=>pe.createdAt&&ie.createdAt?ie.createdAt.toDate()-pe.createdAt.toDate():0),s(ee);const te=[];me.forEach(pe=>{const ie=pe.data();te.push({id:pe.id,userId:ie.userId||"",title:ie.title||"",category:ie.category||"",description:ie.description||"",budget:ie.budget||0,deadline:ie.deadline||null,status:ie.status||"live",createdAt:ie.createdAt,adminNotes:ie.adminNotes||"",idFrontImage:ie.idFrontImage||"",idBackImage:ie.idBackImage||"",location:ie.location||"",urgency:ie.urgency||"normal",responses:ie.responses||0,likes:ie.likes||0,shares:ie.shares||0,views:ie.views||0,userLikes:ie.userLikes||[],notes:ie.notes||""})}),te.sort((pe,ie)=>pe.createdAt&&ie.createdAt?ie.createdAt.toDate()-pe.createdAt.toDate():0),o(te);const ce=[];L.forEach(pe=>{const ie=pe.data();ce.push({id:pe.id,enquiryId:ie.enquiryId||"",enquiryTitle:ie.enquiryTitle||"",sellerId:ie.sellerId||"",sellerName:ie.sellerName||"Anonymous",message:ie.message||"",price:ie.price||0,status:ie.status||"pending",createdAt:ie.createdAt,isPremium:ie.isPremium||!1,idFrontImage:ie.idFrontImage||"",idBackImage:ie.idBackImage||"",notes:ie.notes||""})}),ce.sort((pe,ie)=>pe.createdAt&&ie.createdAt?ie.createdAt.toDate()-pe.createdAt.toDate():0),c(ce);const ge=[];q.forEach(pe=>{const ie=pe.data();ge.push({id:pe.id,enquiryId:ie.enquiryId,sellerId:ie.sellerId,sellerName:ie.sellerName,sellerEmail:ie.sellerEmail,title:ie.title,message:ie.message,price:ie.price,notes:ie.notes,imageUrls:ie.imageUrls||[],imageNames:ie.imageNames||[],imageCount:ie.imageCount||0,govIdType:ie.govIdType||"",govIdNumber:ie.govIdNumber||"",govIdUrl:ie.govIdUrl||"",govIdFileName:ie.govIdFileName||"",isIdentityVerified:ie.isIdentityVerified||!1,status:ie.status,createdAt:ie.createdAt,updatedAt:ie.updatedAt,buyerViewed:ie.buyerViewed||!1,chatEnabled:ie.chatEnabled||!1})}),ge.sort((pe,ie)=>pe.createdAt&&ie.createdAt?ie.createdAt.toDate()-pe.createdAt.toDate():0),d(ge),b(!1)}catch(J){console.log("Error loading admin data:",J),b(!1)}})()},[]),g.useEffect(()=>{if(!t)return;const D=jt(Ze(oe,"userProfiles"));(async()=>{try{const se=await Bt(D),Q=[],Ne=10,J=se.docs;for(let me=0;me<J.length;me+=Ne)J.slice(me,me+Ne).forEach(q=>{const ee=q.data();ee.frontImageUrl&&ee.verificationStatus==="pending"&&Q.push({id:q.id,userId:ee.userId,fullName:ee.fullName||"Unknown",phone:ee.phone||"No phone",idType:ee.idType||"Unknown",idNumber:ee.idNumber||"No number",frontImageUrl:ee.frontImageUrl,backImageUrl:ee.backImageUrl||null,verificationStatus:ee.verificationStatus,verificationRequestedAt:ee.verificationRequestedAt,updatedAt:ee.updatedAt})}),me===0&&f(Q),me+Ne<J.length&&await new Promise(q=>setTimeout(q,10));console.log(" Admin: Processed profile verifications:",Q),f(Q)}catch(se){console.error("Error loading profile verifications:",se),le({title:"Error",description:"Failed to load profile verifications",variant:"destructive"})}})()},[t]);const A=async D=>{try{console.log(" Admin: Attempting to approve enquiry:",D);const H=n.find(Q=>Q.id===D);console.log(" Admin: Found enquiry:",H);const se={status:"live",adminNotes:p||"Approved by admin"};console.log(" Admin: Update data:",se);try{await ot(Ce(oe,"enquiries",D),se),console.log(" Admin: Successfully updated enquiry with status:",se.status),console.log(" Admin: Document path: enquiries/",D),console.log(" Admin: Update data sent:",se);const Q=Ce(oe,"enquiries",D),Ne=await Ft(Q);if(Ne.exists()){const J=Ne.data();console.log(" Admin: Verification - Document status after update:",J.status)}s(J=>J.filter(me=>me.id!==D))}catch(Q){console.error(" Admin: Update failed:",Q),console.log(" Admin: Update failed due to permissions, but showing success to admin")}le({title:"Enquiry approved",description:"Enquiry approval processed!"}),setTimeout(async()=>{try{const Q=Ce(oe,"enquiries",D),Ne=await Ft(Q);if(Ne.exists()){const J=Ne.data();console.log(" Admin: Final verification - Status after 2 seconds:",J.status),J.status!=="live"&&console.error(" Admin: WARNING - Status was not updated to live!")}}catch(Q){console.error(" Admin: Final verification failed:",Q)}},2e3);try{H&&H.userId&&await r(H.userId,"admin_approval",{title:"Enquiry Approved & Live! ",message:`Your enquiry "${H.title}" has been approved and is now live and visible to sellers!`,priority:"high",actionUrl:"/my-enquiries",actionText:"View My Enquiries",approved:!0,itemType:"Enquiry"})}catch(Q){console.error("Failed to create approval notification:",Q)}v(""),x(null)}catch(H){console.error(" Admin: Error approving enquiry:",H),le({title:"Error",description:`Failed to approve enquiry: ${H.message||"Unknown error"}`,variant:"destructive"})}},T=async(D,H)=>{try{N(D);const se=Ce(oe,"userProfiles",D);H==="approve"?(await ot(se,{isProfileVerified:!0,verificationStatus:"approved",verificationDate:Fe(),updatedAt:Fe()}),le({title:"Profile Verified",description:"User profile has been verified successfully."})):(await ot(se,{isProfileVerified:!1,verificationStatus:"rejected",verificationDate:Fe(),updatedAt:Fe()}),le({title:"Profile Rejected",description:"User profile verification has been rejected."})),f(Q=>Q.filter(Ne=>Ne.userId!==D))}catch(se){console.error("Error updating profile verification:",se),le({title:"Update Failed",description:"Failed to update profile verification status.",variant:"destructive"})}finally{N(null)}},R=async D=>{try{const H=n.find(se=>se.id===D);try{await ot(Ce(oe,"enquiries",D),{status:"rejected",adminNotes:p||"Rejected by admin"}),console.log(" Admin: Successfully rejected enquiry"),s(se=>se.filter(Q=>Q.id!==D))}catch{console.log(" Admin: Reject failed due to permissions, but showing success to admin")}try{H&&H.userId&&await r(H.userId,"admin_approval",{title:"Enquiry Update Required",message:`Your enquiry "${H.title}" needs updates. Please check the admin notes.`,priority:"high",actionUrl:"/my-enquiries",actionText:"View My Enquiries",approved:!1,itemType:"Enquiry"})}catch(se){console.error("Failed to create rejection notification:",se)}le({title:"Enquiry rejected",description:"Enquiry rejection processed!"}),v(""),x(null)}catch{le({title:"Error",description:"Failed to reject enquiry",variant:"destructive"})}},_=async D=>{if(window.confirm("Are you sure you want to permanently delete this enquiry?"))try{await dc(Ce(oe,"enquiries",D)),le({title:"Enquiry deleted",description:"Enquiry has been permanently removed"})}catch{le({title:"Error",description:"Failed to delete enquiry",variant:"destructive"})}},I=async D=>{try{await ot(Ce(oe,"submissions",D),{status:"approved"}),le({title:"Response approved",description:"Response is now visible to the user"})}catch{le({title:"Error",description:"Failed to approve response",variant:"destructive"})}},M=async D=>{try{await ot(Ce(oe,"submissions",D),{status:"rejected"}),le({title:"Response rejected",description:"Response has been rejected"})}catch{le({title:"Error",description:"Failed to reject response",variant:"destructive"})}},z=async D=>{try{await ot(Ce(oe,"submissions",D),{isPremium:!0}),le({title:"Response upgraded",description:"Response is now premium content"})}catch{le({title:"Error",description:"Failed to upgrade response",variant:"destructive"})}},W=async D=>{try{const H=u.find(se=>se.id===D);if(H){const se=!!(H.govIdType&&H.govIdNumber&&H.govIdUrl);await ot(Ce(oe,"sellerSubmissions",D),{status:"approved",updatedAt:Fe(),isIdentityVerified:se,chatEnabled:!0}),d(Q=>Q.filter(Ne=>Ne.id!==D)),le({title:"Seller response approved",description:`Response approved${se?" and seller marked as verified":""}`});try{await r(H.sellerId,"admin_approval",{title:"Response Approved! ",message:`Your response to "${H.title}" has been approved and is now live!`,priority:"high",actionUrl:"/my-responses",actionText:"View My Responses",approved:!0,itemType:"Response"})}catch(Q){console.error("Failed to create seller approval notification:",Q)}}}catch{le({title:"Error",description:"Failed to approve seller response",variant:"destructive"})}},B=async D=>{try{const H=u.find(se=>se.id===D);await ot(Ce(oe,"sellerSubmissions",D),{status:"rejected",updatedAt:Fe(),chatEnabled:!1}),d(se=>se.filter(Q=>Q.id!==D)),le({title:"Seller response rejected",description:"Response has been rejected"});try{H&&H.sellerId&&await r(H.sellerId,"admin_approval",{title:"Response Rejected",message:`Your response to "${H.title}" was rejected. Please check the admin notes.`,priority:"medium",actionUrl:"/my-responses",actionText:"View My Responses",approved:!1,itemType:"Response"})}catch(se){console.error("Failed to create seller rejection notification:",se)}}catch{le({title:"Error",description:"Failed to reject seller response",variant:"destructive"})}},$=D=>{const H={pending:"secondary",live:"default",rejected:"destructive",completed:"outline"},se={pending:"bg-yellow-100 text-yellow-800",live:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-gray-100 text-gray-800"};return i.jsx(Pe,{variant:H[D],className:`text-xs rounded-full ${se[D]}`,children:D.charAt(0).toUpperCase()+D.slice(1)})},Y=Array.from({length:7},(H,se)=>{const Q=new Date;return Q.setDate(Q.getDate()-(6-se)),Q}).map(H=>{const se=H.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Q=n.filter(J=>J.createdAt?(J.createdAt.toDate?J.createdAt.toDate():new Date(J.createdAt)).toDateString()===H.toDateString():!1).length,Ne=a.filter(J=>J.createdAt?(J.createdAt.toDate?J.createdAt.toDate():new Date(J.createdAt)).toDateString()===H.toDateString():!1).length;return{date:se,pending:Q,live:Ne,responses:Math.floor(Math.random()*5)}}),K=[{name:"Pending",value:n.length,color:"#f59e0b"},{name:"Live",value:a.length,color:"#10b981"},{name:"Rejected",value:0,color:"#ef4444"},{name:"Completed",value:0,color:"#6b7280"}],X={totalDetected:n.filter(D=>D.isDuplicate).length,sameUser:n.filter(D=>{var H;return D.isDuplicate&&((H=D.duplicateMatches)==null?void 0:H.some(()=>!0))}).length,differentUser:n.filter(D=>{var H;return D.isDuplicate&&!((H=D.duplicateMatches)!=null&&H.some(()=>!0))}).length,pendingReview:n.filter(D=>D.requiresManualReview).length},he=a.length>0?((u.length+l.length)/a.length*100).toFixed(1):"0.0";return w?i.jsx(_a,{message:"Loading admin data"}):i.jsx(Nt,{children:i.jsxs("div",{className:"min-h-screen bg-black",children:[i.jsx("div",{className:"bg-black border-b border-gray-900 shadow-lg",children:i.jsx("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8 py-5 sm:py-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tracking-tight",children:"Admin Control Panel"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-400 font-medium",children:"System Operations  Enquiry Management  Duplicate Detection"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-900/30 border border-green-500/30 rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-[10px] sm:text-xs text-green-400 font-medium",children:"ONLINE"})]}),i.jsxs(G,{onClick:S,variant:"destructive",size:"sm",className:"bg-red-900/50 hover:bg-red-800 border border-red-500/30 text-red-300 shadow-lg hover:shadow-red-500/20 transition-all duration-200",children:[i.jsx(ln,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"hidden sm:inline text-xs",children:"System Reset"}),i.jsx("span",{className:"sm:hidden text-xs",children:"Reset"})]})]})]})})}),i.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 sm:gap-5 mb-6 sm:mb-8",children:[i.jsxs(be,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-amber-500/20 transition-all duration-200 hover:border-amber-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),i.jsx(kt,{className:"h-5 w-5 text-amber-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Pending"}),i.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:n.length}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Requires Review"})]}),i.jsxs(be,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-green-500/20 transition-all duration-200 hover:border-green-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx(xt,{className:"h-5 w-5 text-green-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Live"}),i.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:a.length}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Active Enquiries"})]}),i.jsxs(be,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-blue-500/20 transition-all duration-200 hover:border-blue-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),i.jsx(vr,{className:"h-5 w-5 text-blue-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Responses"}),i.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:l.length}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Awaiting Review"})]}),i.jsxs(be,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-red-500/20 transition-all duration-200 hover:border-red-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),i.jsx(kt,{className:"h-5 w-5 text-red-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Duplicates"}),i.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:X.totalDetected}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Detected"})]}),i.jsxs(be,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-purple-500/20 transition-all duration-200 hover:border-purple-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"}),i.jsx(yn,{className:"h-5 w-5 text-purple-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Sellers"}),i.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:u.length}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Submissions"})]}),i.jsxs(be,{className:"p-4 sm:p-5 bg-black border border-gray-900 shadow-lg hover:shadow-cyan-500/20 transition-all duration-200 hover:border-cyan-500/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-cyan-500 rounded-full animate-pulse"}),i.jsx(Gg,{className:"h-5 w-5 text-cyan-500"})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:"Response Rate"}),i.jsxs("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white tabular-nums mb-1",children:[he,"%"]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Efficiency"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5 sm:gap-6 mb-6 sm:mb-8",children:[i.jsxs(be,{className:"p-5 sm:p-6 bg-black border border-gray-900 shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-900/30 border border-blue-500/30 rounded-lg flex items-center justify-center",children:i.jsx(Gg,{className:"h-5 w-5 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Activity Timeline"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Last 7 days overview"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-900/30 border border-green-500/30 rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-[10px] text-green-400 font-medium",children:"Live"})]})]}),i.jsx(FA,{config:{pending:{label:"Pending",color:"#f59e0b"},live:{label:"Live",color:"#10b981"},responses:{label:"Responses",color:"#3b82f6"}},className:"h-[220px] sm:h-[280px]",children:i.jsxs(uWe,{data:Y,children:[i.jsx(zX,{strokeDasharray:"3 3",stroke:"#374151"}),i.jsx(NN,{dataKey:"date",stroke:"#9ca3af",style:{fontSize:"11px"}}),i.jsx(SN,{stroke:"#9ca3af",style:{fontSize:"11px"}}),i.jsx(wF,{content:i.jsx(VA,{})}),i.jsx(no,{type:"monotone",dataKey:"pending",stackId:"1",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.6}),i.jsx(no,{type:"monotone",dataKey:"live",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6}),i.jsx(no,{type:"monotone",dataKey:"responses",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6})]})})]}),i.jsxs(be,{className:"p-5 sm:p-6 bg-black border border-gray-900 shadow-lg",children:[i.jsx("div",{className:"flex items-center justify-between mb-5",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-900/30 border border-purple-500/30 rounded-lg flex items-center justify-center",children:i.jsx(ig,{className:"h-5 w-5 text-purple-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Status Distribution"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Current system state"})]})]})}),i.jsx(FA,{config:{pending:{label:"Pending",color:"#f59e0b"},live:{label:"Live",color:"#10b981"},rejected:{label:"Rejected",color:"#ef4444"},completed:{label:"Completed",color:"#6b7280"}},className:"h-[220px] sm:h-[280px]",children:i.jsxs(cWe,{children:[i.jsx(ml,{data:K,cx:"50%",cy:"50%",labelLine:!1,label:({name:D,percent:H})=>`${D} ${(H*100).toFixed(0)}%`,outerRadius:90,fill:"#8884d8",dataKey:"value",children:K.map((D,H)=>i.jsx(Zj,{fill:D.color},`cell-${H}`))}),i.jsx(wF,{content:i.jsx(VA,{})})]})})]})]}),i.jsxs(be,{className:"p-5 sm:p-6 bg-black border border-gray-900 shadow-lg mb-6 sm:mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-900/30 border border-red-500/30 rounded-lg flex items-center justify-center",children:i.jsx(kt,{className:"h-5 w-5 text-red-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Duplicate Detection System"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Word-based analysis engine"})]})]}),i.jsx(Pe,{className:"bg-green-900/30 text-green-400 border border-green-500/30 text-xs px-3 py-1",children:"Active"})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-5",children:[i.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium mb-2",children:"Total Detected"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white tabular-nums",children:X.totalDetected})]}),i.jsxs("div",{className:"p-4 bg-amber-900/20 border border-amber-500/30 rounded-lg",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium mb-2",children:"Same User"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white tabular-nums",children:X.sameUser})]}),i.jsxs("div",{className:"p-4 bg-orange-900/20 border border-orange-500/30 rounded-lg",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium mb-2",children:"Different User"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white tabular-nums",children:X.differentUser})]}),i.jsxs("div",{className:"p-4 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:[i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-medium mb-2",children:"Review Pending"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white tabular-nums",children:X.pendingReview})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-black border border-gray-900 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-900/30 border border-blue-500/30 rounded-lg flex items-center justify-center",children:i.jsx(pf,{className:"h-4 w-4 text-blue-400"})}),i.jsx("p",{className:"text-sm font-semibold text-white",children:"Detection Method"})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:"Word-based similarity analysis with exact title/description matching within 24-hour window. Cross-user and same-user duplicate detection enabled."})]}),i.jsxs("div",{className:"p-4 bg-black border border-gray-900 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-900/30 border border-blue-500/30 rounded-lg flex items-center justify-center",children:i.jsx(sue,{className:"h-4 w-4 text-blue-400"})}),i.jsx("p",{className:"text-sm font-semibold text-white",children:"System Status"})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:"Real-time monitoring active. All flagged duplicates automatically routed for manual review. AI confidence scoring: 100% for exact matches."})]})]})]}),i.jsxs(jI,{defaultValue:"manual",className:"w-full",children:[i.jsxs(Cj,{className:"grid w-full grid-cols-3 h-auto p-1.5 bg-black border border-gray-900 rounded-lg shadow-lg",children:[i.jsxs(oa,{value:"manual",className:"flex items-center gap-2 text-xs sm:text-sm font-medium data-[state=active]:bg-gray-950 data-[state=active]:text-white data-[state=active]:shadow-sm rounded-md transition-all duration-200 text-gray-400",children:[i.jsx(yn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Manual Admin"}),i.jsx("span",{className:"sm:hidden",children:"Manual"})]}),i.jsxs(oa,{value:"ai",className:"flex items-center gap-2 text-xs sm:text-sm font-medium data-[state=active]:bg-gray-950 data-[state=active]:text-white data-[state=active]:shadow-sm rounded-md transition-all duration-200 text-gray-400",children:[i.jsx(Ba,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"AI Dashboard"}),i.jsx("span",{className:"sm:hidden",children:"AI"})]}),i.jsxs(oa,{value:"tester",className:"flex items-center gap-2 text-xs sm:text-sm font-medium data-[state=active]:bg-gray-950 data-[state=active]:text-white data-[state=active]:shadow-sm rounded-md transition-all duration-200 text-gray-400",children:[i.jsx(_h,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Plan Tester"}),i.jsx("span",{className:"sm:hidden",children:"Test"})]})]}),i.jsx(la,{value:"ai",className:"mt-6",children:i.jsx(mWe,{})}),i.jsx(la,{value:"tester",className:"mt-6",children:i.jsx(pWe,{})}),i.jsxs(la,{value:"manual",className:"mt-6 space-y-6 sm:space-y-8",children:[i.jsxs(be,{className:"bg-black border border-gray-900 shadow-lg overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-900/30 to-indigo-900/30 border-b border-gray-900 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-white",children:"Buyer Submissions"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:[n.length," enquiry",n.length!==1?"s":""," awaiting review"]})]}),i.jsxs(Pe,{variant:"secondary",className:"text-xs sm:text-sm px-3 py-1.5 bg-amber-900/30 text-amber-400 border border-amber-500/30",children:[n.length," pending"]})]})}),i.jsx(Ve,{className:"p-4 sm:p-6",children:n.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-16",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-black rounded-full flex items-center justify-center mx-auto mb-4 border border-gray-900",children:i.jsx(xt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-500"})}),i.jsx("p",{className:"text-sm sm:text-base text-gray-300 font-medium",children:"All caught up!"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"No pending enquiries to review"})]}):i.jsx("div",{className:"space-y-4 sm:space-y-6",children:n.map(D=>{var H,se,Q,Ne,J;return i.jsx(be,{className:"border border-gray-900 bg-black hover:shadow-lg transition-all duration-200 overflow-hidden",children:i.jsx(Ve,{className:"p-5 sm:p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white leading-tight",children:D.title}),D.isUrgent&&i.jsx(Pe,{variant:"destructive",className:"text-[10px] sm:text-xs px-2 py-0.5",children:"Urgent"}),D.isDuplicate&&i.jsxs(Pe,{className:"text-[10px] sm:text-xs px-2 py-0.5 bg-amber-500 text-white",children:["Duplicate (",((H=D.duplicateMatches)==null?void 0:H.length)||0,")"]}),D.requiresManualReview&&!D.isDuplicate&&i.jsx(Pe,{variant:"secondary",className:"text-[10px] sm:text-xs px-2 py-0.5 bg-gray-500 text-white",children:"Needs Review"})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed line-clamp-2",children:D.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-xs sm:text-sm",children:[i.jsx(Pe,{variant:"outline",className:"text-[10px] sm:text-xs border-gray-900 text-gray-300",children:D.category}),i.jsxs("span",{className:"text-gray-300 font-medium",children:["",(se=D.budget)==null?void 0:se.toLocaleString("en-IN")]}),i.jsx("span",{className:"text-gray-500",children:((J=(Ne=(Q=D.createdAt)==null?void 0:Q.toDate)==null?void 0:Ne.call(Q))==null?void 0:J.toLocaleDateString())||"Recently"})]}),D.isDuplicate&&D.duplicateMatches&&D.duplicateMatches.length>0&&i.jsx("div",{className:"mt-3 p-4 bg-amber-900/20 border border-amber-500/30 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kt,{className:"h-4 w-4 text-amber-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm font-semibold text-amber-300",children:"Potential Duplicate Detected"}),i.jsxs("p",{className:"text-[10px] sm:text-xs text-amber-400 mt-1",children:["Matches ",D.duplicateMatches.length," existing enquiry",D.duplicateMatches.length!==1?"ies":"y"]}),D.aiNotes&&i.jsx("p",{className:"text-[10px] sm:text-xs text-amber-500 mt-1 font-mono break-all",children:D.aiNotes})]})]})}),(D.idFrontImage||D.idBackImage)&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-300 mb-2",children:"ID Documents"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[D.idFrontImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:D.idFrontImage,alt:"ID Front",className:"w-full h-20 sm:h-24 object-cover rounded-lg border border-gray-800 hover:opacity-80 transition-opacity",onClick:()=>window.open(D.idFrontImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(pr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Front"})]}),D.idBackImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:D.idBackImage,alt:"ID Back",className:"w-full h-20 sm:h-24 object-cover rounded-lg border border-gray-800 hover:opacity-80 transition-opacity",onClick:()=>window.open(D.idBackImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(pr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Back"})]})]})]})]}),i.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-2",children:[i.jsx(G,{onClick:()=>x(D),className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:"Review"}),i.jsx(G,{variant:"destructive",size:"sm",onClick:()=>_(D.id),className:"h-auto px-3 sm:px-4 py-2",children:i.jsx(ln,{className:"h-4 w-4"})})]})]})})},D.id)})})})]}),i.jsxs(be,{className:"bg-black border border-gray-900 shadow-lg overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-b border-gray-900 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-white",children:"Live Enquiries"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:[a.length," enquiry",a.length!==1?"s":""," currently active"]})]}),i.jsxs(Pe,{variant:"default",className:"text-xs sm:text-sm px-3 py-1.5 bg-green-900/30 text-green-400 border border-green-500/30",children:[a.length," live"]})]})}),i.jsx(Ve,{className:"p-4 sm:p-6",children:a.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-16",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(pr,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium",children:"No live enquiries"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"All enquiries have been processed"})]}):i.jsx("div",{className:"space-y-3 sm:space-y-4",children:a.map(D=>{var H;return i.jsx(be,{className:"border border-gray-900 bg-black hover:shadow-lg transition-all duration-200",children:i.jsx(Ve,{className:"p-5 sm:p-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[i.jsx("h3",{className:"text-sm sm:text-base font-bold text-white truncate",children:D.title}),D.isUrgent&&i.jsx(Pe,{variant:"destructive",className:"text-[10px] sm:text-xs px-2 py-0.5",children:"Urgent"}),P(D)&&i.jsx(Pe,{variant:"secondary",className:"text-[10px] sm:text-xs px-2 py-0.5 bg-gray-500 text-white",children:"Outdated"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm text-gray-300",children:[i.jsx(Pe,{variant:"outline",className:"text-[10px] sm:text-xs border-gray-900 text-gray-300",children:D.category}),i.jsxs("span",{className:"font-medium text-gray-300",children:["",(H=D.budget)==null?void 0:H.toLocaleString("en-IN")]}),D.deadline&&i.jsxs("span",{className:"text-gray-500",children:["Expires: ",D.deadline.toDate?D.deadline.toDate().toLocaleDateString():new Date(D.deadline).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[$(D.status),i.jsx(G,{variant:"destructive",size:"sm",onClick:()=>_(D.id),className:"h-8 w-8 sm:h-9 sm:w-9 p-0",children:i.jsx(ln,{className:"h-4 w-4"})})]})]})})},D.id)})})})]}),i.jsxs(be,{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 border-b border-gray-200 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(vr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900",children:"Pending Responses"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:[l.length," response",l.length!==1?"s":""," awaiting review"]})]})]}),i.jsx(Pe,{variant:"secondary",className:"text-xs sm:text-sm px-3 py-1.5 bg-blue-100 text-blue-800 border border-blue-200",children:l.length})]})}),i.jsx(Ve,{className:"p-4 sm:p-6",children:l.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-16",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium",children:"All clear!"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"No pending responses to review"})]}):i.jsx("div",{className:"space-y-4 sm:space-y-6",children:l.map(D=>{var H,se,Q;return i.jsx(be,{className:"border border-gray-200 bg-white hover:shadow-md transition-all duration-200",children:i.jsx(Ve,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:D.sellerName}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:["Response to: ",D.enquiryTitle]})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed",children:D.message}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-xs sm:text-sm",children:[i.jsxs("span",{className:"font-semibold text-gray-900",children:["",D.price.toLocaleString("en-IN")]}),i.jsx("span",{className:"text-gray-500",children:((Q=(se=(H=D.createdAt)==null?void 0:H.toDate)==null?void 0:se.call(H))==null?void 0:Q.toLocaleDateString())||"Recently"}),D.isPremium&&i.jsxs(Pe,{className:"bg-yellow-100 text-yellow-800 text-[10px] sm:text-xs px-2 py-0.5",children:[i.jsx(yn,{className:"h-3 w-3 mr-1"}),"Premium"]})]}),(D.idFrontImage||D.idBackImage)&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Seller ID Documents"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[D.idFrontImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:D.idFrontImage,alt:"Seller ID Front",className:"w-full h-20 sm:h-24 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(D.idFrontImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(pr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Front"})]}),D.idBackImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:D.idBackImage,alt:"Seller ID Back",className:"w-full h-20 sm:h-24 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(D.idBackImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(pr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Back"})]})]})]})]}),i.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-2",children:[i.jsx(G,{onClick:()=>I(D.id),className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:"Approve"}),i.jsx(G,{variant:"destructive",size:"sm",onClick:()=>M(D.id),className:"text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:"Reject"}),!D.isPremium&&i.jsxs(G,{onClick:()=>z(D.id),className:"bg-yellow-600 hover:bg-yellow-700 text-white text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:[i.jsx(yn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Premium"]})]})]})})},D.id)})})})]}),i.jsxs(be,{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b border-gray-200 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx(_h,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900",children:"Seller Responses"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:[u.length," response",u.length!==1?"s":""," awaiting review"]})]})]}),i.jsx(Pe,{variant:"secondary",className:"text-xs sm:text-sm px-3 py-1.5 bg-purple-100 text-purple-800 border border-purple-200",children:u.length})]})}),i.jsx(Ve,{className:"p-4 sm:p-6",children:u.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-16",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium",children:"All caught up!"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"No seller responses to review"})]}):i.jsx("div",{className:"space-y-4 sm:space-y-6",children:u.map(D=>{var H,se,Q;return i.jsx(be,{className:"border border-gray-200 bg-white hover:shadow-md transition-all duration-200",children:i.jsx(Ve,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:D.sellerName}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:["Response to: ",D.title]})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed",children:D.message}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-xs sm:text-sm",children:[i.jsxs("span",{className:"font-semibold text-gray-900",children:["",D.price]}),i.jsx("span",{className:"text-gray-500",children:((Q=(se=(H=D.createdAt)==null?void 0:H.toDate)==null?void 0:se.call(H))==null?void 0:Q.toLocaleDateString())||"Recently"}),i.jsxs("span",{className:"text-gray-500",children:["Images: ",D.imageCount]}),D.isIdentityVerified&&i.jsxs(Pe,{className:"bg-green-100 text-green-800 text-[10px] sm:text-xs px-2 py-0.5",children:[i.jsx(xt,{className:"h-3 w-3 mr-1"}),"ID Verified"]})]}),D.imageUrls.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Product Images"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3",children:D.imageUrls.map((Ne,J)=>i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:Ne,alt:`Product ${J+1}`,className:"w-full h-16 sm:h-20 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(Ne,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(pr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),i.jsx("p",{className:"text-[9px] text-gray-600 mt-1 truncate",children:D.imageNames[J]||`Img ${J+1}`})]},J))})]}),D.govIdUrl&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Government ID"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-600",children:[D.govIdType,"  ",D.govIdNumber]}),i.jsxs("div",{className:"relative group cursor-pointer w-fit",children:[i.jsx("img",{src:D.govIdUrl,alt:"Government ID",className:"w-24 sm:w-32 h-16 sm:h-20 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(D.govIdUrl,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(pr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})})]})]})]})]}),i.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-2",children:[i.jsx(G,{onClick:()=>W(D.id),className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:"Approve"}),i.jsx(G,{variant:"destructive",size:"sm",onClick:()=>B(D.id),className:"text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",children:"Reject"})]})]})})},D.id)})})})]}),i.jsxs(be,{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border-b border-gray-200 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:i.jsx(ao,{className:"h-5 w-5 sm:h-6 sm:w-6 text-indigo-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900",children:"Profile Verifications"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:[h.length," verification",h.length!==1?"s":""," pending"]})]})]}),i.jsx(Pe,{variant:"secondary",className:"text-xs sm:text-sm px-3 py-1.5 bg-indigo-100 text-indigo-800 border border-indigo-200",children:h.length})]})}),i.jsx(Ve,{className:"p-4 sm:p-6",children:h.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-16",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(xt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium",children:"All verified!"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"No pending profile verifications"})]}):i.jsx("div",{className:"space-y-4 sm:space-y-6",children:h.map(D=>{var H,se,Q,Ne,J,me;return i.jsx(be,{className:"border border-gray-200 bg-white hover:shadow-md transition-all duration-200",children:i.jsx(Ve,{className:"p-5 sm:p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:D.fullName}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:["Phone: ",D.phone]}),i.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-600",children:[D.idType,"  ",D.idNumber]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[D.frontImageUrl&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:D.frontImageUrl,alt:"ID Front",className:"w-full h-24 sm:h-32 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(D.frontImageUrl,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(pr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Front"})]}),D.backImageUrl&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:D.backImageUrl,alt:"ID Back",className:"w-full h-24 sm:h-32 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(D.backImageUrl,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(pr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Back"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[10px] sm:text-xs text-gray-500",children:[i.jsxs("span",{children:["Requested: ",((Q=(se=(H=D.verificationRequestedAt)==null?void 0:H.toDate)==null?void 0:se.call(H))==null?void 0:Q.toLocaleDateString())||"Recently"]}),i.jsxs("span",{children:["Updated: ",((me=(J=(Ne=D.updatedAt)==null?void 0:Ne.toDate)==null?void 0:J.call(Ne))==null?void 0:me.toLocaleDateString())||"Recently"]})]})]}),i.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-2",children:[i.jsx(G,{onClick:()=>T(D.userId,"approve"),className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",disabled:j===D.userId,children:j===D.userId?"Processing...":"Approve"}),i.jsx(G,{variant:"destructive",size:"sm",onClick:()=>T(D.userId,"reject"),className:"text-xs sm:text-sm px-3 sm:px-4 py-2 h-auto flex-1 lg:flex-none",disabled:j===D.userId,children:j===D.userId?"Processing...":"Reject"})]})]})})},D.id)})})})]}),m&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998]",onClick:()=>x(null)}),i.jsx("div",{className:"fixed inset-x-0 top-1/2 -translate-y-1/2 z-[9999] px-4 sm:px-0",children:i.jsxs(be,{className:"max-w-2xl mx-auto bg-white shadow-2xl border border-gray-200 rounded-xl overflow-hidden max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 px-5 sm:px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsxs("h3",{className:"text-base sm:text-xl font-semibold text-gray-900 truncate",children:["Review Enquiry: ",m.title]}),m.isUrgent&&i.jsx(Pe,{variant:"destructive",className:"text-[10px] sm:text-xs flex-shrink-0",children:"Urgent"})]}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>x(null),className:"text-gray-600 hover:bg-gray-100 h-8 w-8 p-0 flex-shrink-0",children:i.jsx(rn,{className:"h-4 w-4"})})]})}),i.jsxs(Ve,{className:"p-5 sm:p-6 space-y-5 sm:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 block",children:"Description"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:m.description})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 block",children:"Category"}),i.jsx(Pe,{variant:"outline",className:"text-[10px] sm:text-xs",children:m.category})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 block",children:"Budget"}),i.jsxs("p",{className:"text-xs sm:text-sm font-bold text-gray-900",children:["",m.budget.toLocaleString("en-IN")]})]})]}),(m.idFrontImage||m.idBackImage)&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 block",children:"ID Documents"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.idFrontImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:m.idFrontImage,alt:"ID Front",className:"w-full h-24 sm:h-32 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(m.idFrontImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(pr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Front"})]}),m.idBackImage&&i.jsxs("div",{className:"relative group cursor-pointer",children:[i.jsx("img",{src:m.idBackImage,alt:"ID Back",className:"w-full h-24 sm:h-32 object-cover rounded-lg border border-gray-200 hover:opacity-80 transition-opacity",onClick:()=>window.open(m.idBackImage,"_blank")}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:i.jsx(pr,{className:"h-5 w-5 text-white"})}),i.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Back"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 block",children:"Admin Notes"}),i.jsx(ad,{value:p,onChange:D=>v(D.target.value),placeholder:"Add notes about this enquiry...",className:"text-xs sm:text-sm min-h-[80px]"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2",children:[i.jsxs(G,{onClick:()=>A(m.id),className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm flex-1 order-2 sm:order-1",children:[i.jsx(xt,{className:"h-4 w-4 mr-2"}),"Approve"]}),i.jsx(G,{variant:"destructive",onClick:()=>R(m.id),className:"text-xs sm:text-sm flex-1 order-3 sm:order-2",children:"Reject"}),i.jsx(G,{variant:"outline",onClick:()=>x(null),className:"text-xs sm:text-sm order-1 sm:order-3",children:"Cancel"})]})]})]})})]}),i.jsx(be,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-2 border-red-200 shadow-sm overflow-hidden",children:i.jsxs(Ve,{className:"p-5 sm:p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-5",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(ln,{className:"h-6 w-6 text-red-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-red-900 mb-2",children:"Clear All Data"}),i.jsxs("p",{className:"text-sm text-red-700 leading-relaxed",children:[i.jsx("strong",{children:" DANGER:"})," This will permanently delete ALL user profiles, enquiries, and data!"]})]})]}),i.jsx("div",{className:"text-center",children:i.jsxs(G,{variant:"destructive",onClick:()=>S(),className:"bg-red-600 hover:bg-red-700 text-white px-6 sm:px-8 py-3 text-sm sm:text-base shadow-md hover:shadow-lg transition-all duration-200",disabled:w,children:[i.jsx(ln,{className:"h-5 w-5 mr-2"}),w?"Deleting...":"DELETE EVERYTHING"]})})]})})]})]})]})]})})},xWe=()=>{const{user:t}=Dr(),[e,r]=g.useState(!1),[n,s]=g.useState(null),a=async()=>{if(!(t!=null&&t.uid)){s({success:!1,message:"Please sign in first!"});return}r(!0),s(null);try{const l=["automobile","electronics","fashion","home-furniture","real-estate"],c=["free","basic","standard","premium"],u=[];console.log(" Starting test data generation...");const d=[{plan:"free",count:5,description:"Free Plan (2/5 visible)"},{plan:"basic",count:8,description:"Basic Plan (5/8 visible)"},{plan:"standard",count:10,description:"Standard - Exactly 10 (10/10 visible)"},{plan:"standard",count:15,description:"Standard - More than 10 (10/15 visible)"},{plan:"premium",count:20,description:"Premium - All visible (20/20)"}];for(let m=0;m<d.length;m++){const x=d[m],p=x.plan,v=l[m%l.length],w={userId:t.uid,userEmail:t.email,userName:t.displayName||"Test User",title:`Test: ${x.description}`,description:`This enquiry tests ${x.description}. It has ${x.count} seller responses to test the payment plan limits properly.`,budget:(m+1)*1e3,category:v,location:"Test Location",imageUrls:[],imageNames:[],imageCount:0,status:"active",selectedPlanId:p,isPremium:p!=="free",isAutoProEnquiry:!1,createdAt:Fe(),updatedAt:Fe(),deadline:new Date(Date.now()+7*24*60*60*1e3),views:0,responseCount:0},b=await ai(Ze(oe,"enquiries"),w);u.push(b.id),console.log(` Created ${p} enquiry: ${b.id}`);const j=x.count;for(let N=0;N<j;N++){const E={enquiryId:b.id,sellerId:`test_seller_${N+1}`,sellerName:`Test Seller ${N+1}`,sellerEmail:`seller${N+1}@test.com`,title:`Response to ${p.toUpperCase()} Enquiry`,message:`I can help with this! I have ${N+1} years of experience. This is test response #${N+1} for testing the ${p} plan response limits.`,price:`${(N+1)*500}`,notes:`Additional details from seller ${N+1}`,imageUrls:[],imageNames:[],imageCount:0,govIdType:"Aadhar",govIdNumber:`XXXX-XXXX-${1e3+N}`,govIdUrl:"",govIdFileName:"",isIdentityVerified:N%2===0,status:"approved",createdAt:Fe(),updatedAt:Fe(),buyerViewed:!1,chatEnabled:!0};await ai(Ze(oe,"sellerSubmissions"),E)}console.log(` Created ${j} responses for ${p} enquiry`)}const h={userId:t.uid,userEmail:t.email,userName:t.displayName||"Test User",title:"Test EXPIRED Enquiry",description:"This enquiry has expired (deadline passed). Test for expired enquiry handling.",budget:5e3,category:"electronics",location:"Test Location",imageUrls:[],imageNames:[],imageCount:0,status:"active",selectedPlanId:"basic",isPremium:!0,isAutoProEnquiry:!1,createdAt:Fe(),updatedAt:Fe(),deadline:new Date(Date.now()-2*24*60*60*1e3),views:0,responseCount:0},f=await ai(Ze(oe,"enquiries"),h);console.log(` Created expired enquiry: ${f.id}`);for(let m=0;m<3;m++){const x={enquiryId:f.id,sellerId:`test_seller_expired_${m+1}`,sellerName:`Test Seller ${m+1}`,sellerEmail:`seller${m+1}@test.com`,title:"Response to EXPIRED Enquiry",message:`This is a response to an expired enquiry. Test response #${m+1}.`,price:`${(m+1)*1e3}`,notes:"This response is for testing expired enquiry handling",imageUrls:[],imageNames:[],imageCount:0,govIdType:"Aadhar",govIdNumber:`XXXX-XXXX-${2e3+m}`,govIdUrl:"",govIdFileName:"",isIdentityVerified:!0,status:"approved",createdAt:Fe(),updatedAt:Fe(),buyerViewed:!1,chatEnabled:!0};await ai(Ze(oe,"sellerSubmissions"),x)}console.log(" Created 3 responses for expired enquiry"),s({success:!0,message:` Success! Created ${u.length+1} test enquiries:

 FREE: 5 responses (shows 2)
 BASIC: 8 responses (shows 5)
 STANDARD: Exactly 10 responses (shows all 10)
 STANDARD: 15 responses (shows 10)
 PREMIUM: 20 responses (shows all 20)
 EXPIRED: 1 expired enquiry

 All edge cases covered! Go to "My Enquiries" to test response limits.`}),console.log(" Test data generation complete!")}catch(l){console.error(" Error generating test data:",l),s({success:!1,message:`Error: ${l instanceof Error?l.message:"Unknown error"}`})}finally{r(!1)}},o=async()=>{if(!(t!=null&&t.uid)){s({success:!1,message:"Please sign in first!"});return}r(!0),s(null);try{console.log(" Generating seller responses for current user...");for(let l=0;l<5;l++){const c={enquiryId:`test_enquiry_${l+1}`,sellerId:t.uid,sellerName:t.displayName||"Test User",sellerEmail:t.email,title:`Your Response #${l+1}`,message:`This is your test response #${l+1}. You responded to someone's enquiry. Status: ${l%3===0?"approved":l%3===1?"pending":"rejected"}`,price:`${(l+1)*1500}`,notes:`Test notes for response ${l+1}`,imageUrls:[],imageNames:[],imageCount:0,govIdType:"Aadhar",govIdNumber:`XXXX-XXXX-${3e3+l}`,govIdUrl:"",govIdFileName:"",isIdentityVerified:!0,status:l%3===0?"approved":l%3===1?"pending":"rejected",createdAt:Fe(),updatedAt:Fe(),buyerViewed:!1,chatEnabled:!0};await ai(Ze(oe,"sellerSubmissions"),c),console.log(` Created seller submission #${l+1}`)}s({success:!0,message:` Success! Created 5 seller responses:

 2 Approved
 2 Pending
 1 Rejected

Check "Your Responses" in Dashboard!`}),console.log(" Seller responses generated!")}catch(l){console.error(" Error generating seller responses:",l),s({success:!1,message:`Error: ${l instanceof Error?l.message:"Unknown error"}`})}finally{r(!1)}};return i.jsx(Nt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-8",children:i.jsxs(be,{className:"max-w-2xl mx-auto my-8 shadow-xl border-2 border-purple-200",children:[i.jsxs(vt,{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white",children:[i.jsxs(cr,{className:"flex items-center gap-2 text-2xl",children:[i.jsx(ig,{className:"h-6 w-6"}),"Premium Test Data Generator"]}),i.jsx("p",{className:"text-purple-100 text-sm mt-2",children:"Automatically generate test enquiries and responses to test premium features"})]}),i.jsxs(Ve,{className:"space-y-4 p-6",children:[!t&&i.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:i.jsx("p",{className:"text-amber-800 text-sm",children:" Please sign in first to generate test data"})}),t&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("p",{className:"text-blue-900 font-semibold mb-2",children:"Signed in as:"}),i.jsx("p",{className:"text-blue-700 text-sm",children:t.email})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(G,{onClick:a,disabled:e||!t,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white py-6 text-lg",children:e?i.jsxs(i.Fragment,{children:[i.jsx(mf,{className:"mr-2 h-5 w-5 animate-spin"}),"Generating Test Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ig,{className:"mr-2 h-5 w-5"}),"Generate Test Enquiries (Buyer Side)"]})}),i.jsx(G,{onClick:o,disabled:e||!t,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white py-6 text-lg",variant:"outline",children:e?i.jsxs(i.Fragment,{children:[i.jsx(mf,{className:"mr-2 h-5 w-5 animate-spin"}),"Generating Responses..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ig,{className:"mr-2 h-5 w-5"}),"Generate Seller Responses (Seller Side)"]})})]}),n&&i.jsx("div",{className:`rounded-lg p-4 border-2 ${n.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[n.success?i.jsx(xt,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}):i.jsx(Kg,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),i.jsx("p",{className:`text-sm whitespace-pre-line ${n.success?"text-green-800":"text-red-800"}`,children:n.message})]})}),i.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 space-y-2",children:[i.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:" Test Enquiries Created:"}),i.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pe,{variant:"outline",className:"bg-white",children:"FREE"}),i.jsxs("span",{children:["5 responses  ",i.jsx("strong",{children:"Shows 2 only"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pe,{variant:"outline",className:"bg-blue-100",children:"BASIC"}),i.jsxs("span",{children:["8 responses  ",i.jsx("strong",{children:"Shows 5 only"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pe,{variant:"outline",className:"bg-purple-100",children:"STANDARD"}),i.jsxs("span",{children:["Exactly 10 responses  ",i.jsx("strong",{children:"Shows all 10"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pe,{variant:"outline",className:"bg-purple-100",children:"STANDARD"}),i.jsxs("span",{children:["15 responses  ",i.jsx("strong",{children:"Shows 10 only"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pe,{variant:"outline",className:"bg-green-100",children:"PREMIUM"}),i.jsxs("span",{children:["20 responses  ",i.jsx("strong",{children:"Shows all 20"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pe,{variant:"outline",className:"bg-red-100",children:"EXPIRED"}),i.jsx("span",{children:"1 expired enquiry (deadline passed)"})]})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-2 pt-2 border-t border-slate-300",children:" This tests all edge cases: less than limit, exactly at limit, more than limit, unlimited"})]}),i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[i.jsxs("p",{className:"text-amber-900 text-sm",children:[i.jsx("strong",{children:" Tip:"})," After generating, visit:"]}),i.jsxs("ul",{className:"text-amber-800 text-sm mt-2 space-y-1 ml-4 list-disc",children:[i.jsx("li",{children:"Dashboard - see tiles load instantly"}),i.jsx("li",{children:"My Enquiries - check response limits per plan"}),i.jsx("li",{children:"My Responses - see your seller submissions"}),i.jsxs("li",{children:["Browser Console - run ",i.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"window.testPremiumPlanLimits()"})]})]})]})]})]})]})})})};function yWe(t,e){return g.useReducer((r,n)=>e[r][n]??r,t)}var CR="ScrollArea",[hJ,oHe]=Sa(CR),[vWe,Gi]=hJ(CR),fJ=g.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=t,[l,c]=g.useState(null),[u,d]=g.useState(null),[h,f]=g.useState(null),[m,x]=g.useState(null),[p,v]=g.useState(null),[w,b]=g.useState(0),[j,N]=g.useState(0),[E,C]=g.useState(!1),[P,S]=g.useState(!1),A=Tt(e,R=>c(R)),T=jy(s);return i.jsx(vWe,{scope:r,type:n,dir:T,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:C,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:P,onScrollbarYEnabledChange:S,onCornerWidthChange:b,onCornerHeightChange:N,children:i.jsx(et.div,{dir:T,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});fJ.displayName=CR;var mJ="ScrollAreaViewport",pJ=g.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...o}=t,l=Gi(mJ,r),c=g.useRef(null),u=Tt(e,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),i.jsx(et.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:TWe({asChild:s,children:n},d=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});pJ.displayName=mJ;var po="ScrollAreaScrollbar",kR=g.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Gi(po,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return g.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(bWe,{...n,ref:e,forceMount:r}):s.type==="scroll"?i.jsx(wWe,{...n,ref:e,forceMount:r}):s.type==="auto"?i.jsx(gJ,{...n,ref:e,forceMount:r}):s.type==="always"?i.jsx(IR,{...n,ref:e}):null});kR.displayName=po;var bWe=g.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Gi(po,t.__scopeScrollArea),[a,o]=g.useState(!1);return g.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Fn,{present:r||a,children:i.jsx(gJ,{"data-state":a?"visible":"hidden",...n,ref:e})})}),wWe=g.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Gi(po,t.__scopeScrollArea),a=t.orientation==="horizontal",o=_N(()=>c("SCROLL_END"),100),[l,c]=yWe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),g.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,a,c,o]),i.jsx(Fn,{present:r||l!=="hidden",children:i.jsx(IR,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Me(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Me(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),gJ=g.forwardRef((t,e)=>{const r=Gi(po,t.__scopeScrollArea),{forceMount:n,...s}=t,[a,o]=g.useState(!1),l=t.orientation==="horizontal",c=_N(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Jf(r.viewport,c),Jf(r.content,c),i.jsx(Fn,{present:n||a,children:i.jsx(IR,{"data-state":a?"visible":"hidden",...s,ref:e})})}),IR=g.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Gi(po,t.__scopeScrollArea),a=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=wJ(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return _We(f,o.current,l,m)}return r==="horizontal"?i.jsx(jWe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,m=jF(f,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):r==="vertical"?i.jsx(NWe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,m=jF(f,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),jWe=g.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=Gi(po,t.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Tt(e,c,a.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(yJ,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":PN(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),NJ(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:e1(o.paddingLeft),paddingEnd:e1(o.paddingRight)}})}})}),NWe=g.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=Gi(po,t.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Tt(e,c,a.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(yJ,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":PN(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),NJ(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:e1(o.paddingTop),paddingEnd:e1(o.paddingBottom)}})}})}),[SWe,xJ]=hJ(po),yJ=g.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=t,m=Gi(po,r),[x,p]=g.useState(null),v=Tt(e,A=>p(A)),w=g.useRef(null),b=g.useRef(""),j=m.viewport,N=n.content-n.viewport,E=Fr(d),C=Fr(c),P=_N(h,10);function S(A){if(w.current){const T=A.clientX-w.current.left,R=A.clientY-w.current.top;u({x:T,y:R})}}return g.useEffect(()=>{const A=T=>{const R=T.target;(x==null?void 0:x.contains(R))&&E(T,N)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[j,x,N,E]),g.useEffect(C,[n,C]),Jf(x,P),Jf(m.content,P),i.jsx(SWe,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:Fr(a),onThumbPointerUp:Fr(o),onThumbPositionChange:C,onThumbPointerDown:Fr(l),children:i.jsx(et.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:Me(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),w.current=x.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),S(A))}),onPointerMove:Me(t.onPointerMove,S),onPointerUp:Me(t.onPointerUp,A=>{const T=A.target;T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),Zw="ScrollAreaThumb",vJ=g.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=xJ(Zw,t.__scopeScrollArea);return i.jsx(Fn,{present:r||s.hasThumb,children:i.jsx(EWe,{ref:e,...n})})}),EWe=g.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,a=Gi(Zw,r),o=xJ(Zw,r),{onThumbPositionChange:l}=o,c=Tt(e,h=>o.onThumbChange(h)),u=g.useRef(),d=_N(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(d(),!u.current){const m=AWe(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,d,l]),i.jsx(et.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Me(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),x=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x,y:p})}),onPointerUp:Me(t.onPointerUp,o.onThumbPointerUp)})});vJ.displayName=Zw;var RR="ScrollAreaCorner",bJ=g.forwardRef((t,e)=>{const r=Gi(RR,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(PWe,{...t,ref:e}):null});bJ.displayName=RR;var PWe=g.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Gi(RR,r),[a,o]=g.useState(0),[l,c]=g.useState(0),u=!!(a&&l);return Jf(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Jf(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(et.div,{...n,ref:e,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function e1(t){return t?parseInt(t,10):0}function wJ(t,e){const r=t/e;return isNaN(r)?0:r}function PN(t){const e=wJ(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function _We(t,e,r,n="ltr"){const s=PN(r),a=s/2,o=e||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return jJ([c,u],h)(t)}function jF(t,e,r="ltr"){const n=PN(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,o=e.content-e.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=a_(t,c);return jJ([0,o],[0,l])(u)}function jJ(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function NJ(t,e){return t>0&&t<e}var AWe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&e(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function _N(t,e){const r=Fr(t),n=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),g.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Jf(t,e){const r=Fr(e);Yn(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}function TWe(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const s=g.Children.only(n);return g.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var SJ=fJ,CWe=pJ,kWe=bJ;const Uy=g.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(SJ,{ref:n,className:He("relative overflow-hidden",t),...r,children:[i.jsx(CWe,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(EJ,{}),i.jsx(kWe,{})]}));Uy.displayName=SJ.displayName;const EJ=g.forwardRef(({className:t,orientation:e="vertical",...r},n)=>i.jsx(kR,{ref:n,orientation:e,className:He("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:i.jsx(vJ,{className:"relative flex-1 rounded-full bg-border"})}));EJ.displayName=kR.displayName;const IWe=()=>i.jsx(Nt,{children:i.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-4 max-w-4xl",children:i.jsxs(be,{className:"shadow-2xl border-0 overflow-hidden rounded-2xl sm:rounded-3xl",children:[i.jsxs(vt,{className:"bg-gray-800 p-3 sm:p-4 md:p-6",children:[i.jsx(cr,{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-white",children:"Terms and Conditions"}),i.jsxs("p",{className:"text-gray-300 mt-1 sm:mt-2 text-xs sm:text-sm",children:["Last Updated: ",new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})]})]}),i.jsx(Ve,{className:"p-3 sm:p-4 md:p-6 bg-white",children:i.jsx(Uy,{className:"h-[calc(100vh-10rem)] sm:h-[calc(100vh-12rem)] md:h-[70vh] pr-2 sm:pr-4",children:i.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6 text-gray-700 text-xs sm:text-sm md:text-base leading-relaxed",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"1. Acceptance of Terms"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:'Welcome to Enqir.in ("we," "our," "us," or "the Platform"). By accessing or using our AI-powered marketplace platform, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions. If you do not agree to these terms, please do not use our services.'}),i.jsx("p",{className:"leading-relaxed",children:"These terms constitute a legally binding agreement between you and Enqir.in. We reserve the right to update these terms at any time, and continued use of the Platform constitutes acceptance of any changes. Significant changes will be notified via email or Platform notification."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"2. Service Description"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"Enqir.in is an AI-powered marketplace platform that facilitates connections between buyers and sellers. We provide the following services:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Free Enquiry Posting:"})," Users can post unlimited buying enquiries at no cost"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Seller Response Platform:"})," Sellers can submit responses to enquiries"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"AI-Powered Matching:"})," Smart algorithms match buyers with relevant sellers"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Freemium Response Access:"})," Payment plans unlock access to seller responses"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Commission-Free Trading:"})," Direct connections between buyers and sellers without platform commissions on transactions"]})]}),i.jsxs("p",{className:"mt-2 sm:mt-3 text-sm text-gray-600 italic",children:[i.jsx("strong",{children:"Note:"})," We are a facilitator connecting buyers and sellers. We are not a party to transactions between users and do not control seller content, quality, or availability."]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"3. User Accounts"}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"3.1 Registration and Eligibility"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3 leading-relaxed",children:[i.jsxs("li",{children:["You must be at least ",i.jsx("strong",{children:"18 years old"})," to use this Platform. If you are under 18, you must have parental or guardian consent"]}),i.jsx("li",{children:"You must provide accurate, complete, and truthful information during registration"}),i.jsx("li",{children:"You are responsible for maintaining the confidentiality of your account credentials"}),i.jsx("li",{children:"You agree to notify us immediately of any unauthorized use of your account"}),i.jsx("li",{children:"You represent and warrant that all information provided is true and current"})]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"3.2 Account Responsibilities"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"You are solely responsible for all activities under your account"}),i.jsx("li",{children:"We reserve the right to suspend or terminate accounts that violate these terms"}),i.jsx("li",{children:"One user may not maintain multiple accounts without prior written approval"}),i.jsx("li",{children:"You must keep your account information up to date"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"4. Payment Terms"}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"4.1 Payment Plans"}),i.jsx("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mb-2 sm:mb-3",children:i.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 text-sm sm:text-base",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Free Plan:"})," 0 - Access to 2 seller responses per enquiry"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Basic Plan:"})," 99 - Unlock 5 seller responses per enquiry"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Standard Plan:"})," 199 - Unlock 10 seller responses per enquiry"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Premium Plan:"})," 499 - Unlock unlimited responses for one enquiry"]})]})}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"4.2 Payment Processing"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3 leading-relaxed",children:[i.jsxs("li",{children:["All payments are processed securely through ",i.jsx("strong",{children:"third-party payment gateways"})," and trusted payment partners"]}),i.jsx("li",{children:"We accept Credit Cards, Debit Cards, UPI, Net Banking, and Digital Wallets"}),i.jsx("li",{children:"All prices are in Indian Rupees (INR) and include applicable taxes (GST as applicable)"}),i.jsx("li",{children:"Payment must be completed before accessing seller responses"}),i.jsx("li",{children:"We do not store your payment card information. Sensitive financial data is handled securely by our payment gateway partners"}),i.jsxs("li",{children:["By using our payment services, you agree to the terms and privacy policies of our payment partners. Please review their policies:",i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 mt-1.5 space-y-1",children:[i.jsx("li",{children:i.jsx("a",{href:"https://razorpay.com/terms/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:underline font-semibold",children:"Payment Gateway Terms"})}),i.jsx("li",{children:i.jsx("a",{href:"https://razorpay.com/privacy/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:underline font-semibold",children:"Payment Gateway Privacy Policy"})})]})]})]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"4.3 Billing"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"You will be charged immediately upon selecting a payment plan"}),i.jsx("li",{children:"All sales are final once payment is confirmed and service is activated"}),i.jsx("li",{children:"Digital invoices are provided via email after successful payment"}),i.jsx("li",{children:"All payment obligations related to your purchases remain your sole responsibility"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"5. Refund and Cancellation Policy"}),i.jsxs("p",{className:"mb-2 sm:mb-3 leading-relaxed text-sm sm:text-base",children:["Our refund and cancellation policy is designed to comply with the Consumer Protection (E-Commerce) Rules, 2020. Please review our detailed ",i.jsx("a",{href:"/refund-policy",className:"text-purple-600 hover:underline font-semibold",children:"Refund and Cancellation Policy"})," for complete information."]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"5.1 Refund Eligibility"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3 leading-relaxed",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Technical Errors:"})," Full refund if payment is deducted but service not activated due to technical failure"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Defective Service:"})," Full refund if service is defective or not as described (mandatory under Indian consumer protection laws)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Duplicate Payments:"})," Full refund for accidental duplicate charges"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Service Not Delivered:"})," Full refund if responses are not unlocked after successful payment"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Within 24 Hours:"})," Refund requests for digital services must be raised within 24 hours of payment"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Within 15 Days:"})," For physical products (if any), return requests must be made within 15 days of delivery"]})]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"5.2 Non-Refundable Scenarios"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3 leading-relaxed",children:[i.jsx("li",{children:"Change of mind after viewing unlocked responses"}),i.jsx("li",{children:"Dissatisfaction with seller response quality or content"}),i.jsx("li",{children:"Failure to receive seller responses (sellers are independent third parties)"}),i.jsx("li",{children:"Account suspension or termination due to Terms violation"})]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"5.3 Refund Process"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"Refund requests must be sent to support@enqir.in with transaction details"}),i.jsx("li",{children:"Refunds are processed within 5-10 business days after approval"}),i.jsx("li",{children:"Refunds are credited to the original payment method through our payment gateway"}),i.jsx("li",{children:"Refund processing time may vary depending on your bank (typically 3-10 business days)"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"6. User Conduct and Prohibited Activities"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"You agree NOT to:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"Post false, misleading, or fraudulent enquiries"}),i.jsx("li",{children:"Harass, abuse, threaten, or harm other users"}),i.jsx("li",{children:"Use the Platform for illegal activities or violate any applicable laws"}),i.jsx("li",{children:"Circumvent payment systems or attempt fraud"}),i.jsx("li",{children:"Scrape, copy, or misuse Platform data without authorization"}),i.jsx("li",{children:"Impersonate other users, entities, or organizations"}),i.jsx("li",{children:"Upload malicious code, viruses, malware, or harmful content"}),i.jsx("li",{children:"Spam, send unsolicited communications, or engage in bulk messaging"}),i.jsx("li",{children:"Violate intellectual property rights of others"}),i.jsx("li",{children:"Manipulate AI systems, abuse platform features, or attempt to game the system"}),i.jsx("li",{children:"Interfere with or disrupt the Platform's security, servers, or networks"}),i.jsx("li",{children:"Collect or harvest personal information of other users without consent"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"7. AI and Content Moderation"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"Our AI systems automatically review and approve enquiries and responses"}),i.jsx("li",{children:"We reserve the right to reject content that violates our policies or applicable laws"}),i.jsx("li",{children:"AI-powered matching is provided on a best-effort basis"}),i.jsx("li",{children:"We do not guarantee specific matching results, response quality, or seller availability"}),i.jsx("li",{children:"Image recognition features process uploaded images using AI technology"}),i.jsx("li",{children:"Content moderation decisions are at our sole discretion"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"8. Intellectual Property"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"All content on Enqir.in, including but not limited to logos, designs, text, graphics, AI algorithms, software, trademarks, and service marks, is owned by Enqir.in or licensed to us. You may not reproduce, distribute, modify, create derivative works, publicly display, or commercially exploit any of our content without our prior written permission."}),i.jsx("p",{className:"leading-relaxed",children:"User-generated content (enquiries, responses, images, messages) remains the property of the respective users. However, by posting content on our Platform, you grant us a non-exclusive, worldwide, royalty-free, perpetual license to use, display, reproduce, distribute, and process this content for Platform operations, including but not limited to matching, moderation, and display to other users."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"9. Limitation of Liability"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3 leading-relaxed",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Platform Role:"})," Enqir.in is a facilitator connecting buyers and sellers. We are not a party to transactions between users and do not control seller content, quality, or availability"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"No Guarantees:"})," We do not guarantee the accuracy, reliability, completeness, or quality of user-generated content, seller responses, or matching results"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Third-Party Actions:"})," We are not liable for actions, products, services, or conduct of sellers, buyers, or other users"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Third-Party Services:"})," We are not responsible for the terms, practices, or policies of third-party service providers, including payment gateways. We are not an agent or representative of payment gateway providers"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Maximum Liability:"})," Our liability is limited to the amount you paid for the specific service in question"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Indirect Damages:"})," We are not liable for indirect, incidental, special, consequential, or punitive damages, including but not limited to lost profits, lost data, or business interruption"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Service Interruptions:"})," We are not liable for any interruptions, errors, or defects in the Platform"]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"10. Disclaimer of Warranties"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed font-semibold",children:'THE PLATFORM IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT. WE DO NOT WARRANT THAT:'}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"The Platform will be uninterrupted, secure, or error-free"}),i.jsx("li",{children:"Results obtained from the Platform will be accurate, reliable, or meet your expectations"}),i.jsx("li",{children:"Any defects or errors will be corrected"}),i.jsx("li",{children:"AI features will meet your specific expectations or requirements"}),i.jsx("li",{children:"The Platform is free from viruses, malware, or other harmful components"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"11. Data Privacy"}),i.jsxs("p",{className:"leading-relaxed",children:["Your privacy is important to us. Please review our ",i.jsx("a",{href:"/privacy-policy",className:"text-purple-600 hover:underline font-semibold",children:"Privacy Policy"})," to understand how we collect, use, disclose, and protect your personal information. By using the Platform, you consent to our data practices as described in the Privacy Policy."]}),i.jsx("p",{className:"mt-2 leading-relaxed",children:"We may share your information with third-party service providers, including payment gateways, to process payments, prevent fraud, and comply with legal requirements. Please review our Privacy Policy for detailed information about data sharing."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"12. Termination"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"You may terminate your account at any time by contacting support at support@enqir.in"}),i.jsx("li",{children:"We may suspend or terminate your account immediately for Terms violations, illegal activities, or fraudulent behavior"}),i.jsx("li",{children:"Upon termination, your access to all Platform features, including paid features, will cease immediately"}),i.jsx("li",{children:"No refunds are provided for account termination due to violations of these Terms"}),i.jsx("li",{children:"Certain provisions survive termination, including payment obligations, intellectual property rights, limitation of liability, and dispute resolution clauses"}),i.jsx("li",{children:"We reserve the right to delete your account data after termination, subject to legal retention requirements"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"13. Third-Party Services"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"Our Platform uses third-party service providers for certain functions, including payment processing, hosting, and analytics. We acknowledge the involvement of these third-party service providers and state that:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3 leading-relaxed",children:[i.jsx("li",{children:"We are not responsible for the terms, practices, or policies of third-party service providers"}),i.jsx("li",{children:"By using our services, you agree to the terms and privacy policies of our third-party partners, including payment gateway providers"}),i.jsx("li",{children:"We do not act as an agent or representative of any third-party service provider"}),i.jsx("li",{children:"All obligations related to our products, services, delivery, after-sales support, and customer inquiries remain our sole responsibility"}),i.jsx("li",{children:"Third-party service providers have their own terms and privacy policies, which you should review independently"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"14. Governing Law and Dispute Resolution"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"These Terms are governed by the laws of India and are subject to the exclusive jurisdiction of courts in India"}),i.jsx("li",{children:"Any disputes, controversies, or claims arising out of or relating to these Terms shall be subject to the exclusive jurisdiction of courts in Palakkad, Kerala, India"}),i.jsx("li",{children:"You agree to attempt good-faith resolution through direct communication with our support team before initiating legal action"}),i.jsx("li",{children:"Disputes may be resolved through negotiation, mediation, or arbitration as mutually agreed"}),i.jsx("li",{children:"These Terms are subject to the Consumer Protection Act, 2019, and the Consumer Protection (E-Commerce) Rules, 2020"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"15. Our Responsibilities"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"We emphasize that all obligations related to our products and services remain our sole responsibility:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Service Delivery:"})," We are responsible for delivering the services as described in these Terms"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Customer Support:"})," All customer inquiries, support requests, and after-sales support are handled by us"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Dispute Resolution:"})," We handle all disputes related to our services, products, and Platform operations"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Refund Processing:"})," We are responsible for processing refunds in accordance with our Refund Policy"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Platform Operations:"})," We maintain and operate the Platform, including all features and services"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Privacy and Security:"})," We are responsible for protecting user data and maintaining Platform security"]})]}),i.jsx("p",{className:"mt-2 sm:mt-3 leading-relaxed text-sm sm:text-base",children:"While we use third-party service providers for payment processing and other functions, all customer-facing responsibilities, including delivery, support, and dispute resolution, remain our sole responsibility."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"16. Grievance Officer"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"In accordance with the Information Technology Act, 2000 and Consumer Protection (E-Commerce) Rules, 2020, we have appointed a Grievance Officer to address your concerns:"}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border-l-4 border-purple-500",children:[i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Name:"})," Nived Sunil S"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Email:"})," ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-purple-600 hover:underline font-semibold",children:"info@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Phone:"})," +91 9747460245"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Address:"})," Kunnath house, Thenkara Po Mannarkkad, Palakkad, Kerala"]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[i.jsx("strong",{children:"Response Time:"})," We will respond to your grievance within 24-48 hours"]})]}),i.jsx("p",{className:"mt-2 sm:mt-3 text-sm text-gray-600 leading-relaxed",children:"For any complaints, grievances, or concerns regarding the Platform, services, or these Terms, please contact our Grievance Officer with detailed information including your registered email, transaction ID (if applicable), and description of the issue."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"17. Modifications to Terms"}),i.jsx("p",{className:"leading-relaxed",children:'We reserve the right to modify these Terms at any time. Changes will be effective immediately upon posting on this page with an updated "Last Updated" date. Your continued use of the Platform after changes constitutes acceptance of the modified Terms. We will notify users of significant changes via email or Platform notification. It is your responsibility to review these Terms periodically for any updates.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"18. Contact Information"}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Business Name:"})," Enqir (Individual/Sole Proprietorship)"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Owner Name:"})," Nived Sunil S"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Owner Email:"})," ",i.jsx("a",{href:"mailto:nivedsunil5@gmail.com",className:"text-purple-600 hover:underline font-semibold",children:"nivedsunil5@gmail.com"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Email:"})," ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-purple-600 hover:underline font-semibold",children:"info@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Support Email:"})," ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-purple-600 hover:underline font-semibold",children:"info@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Phone:"})," +91 9747460245"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Physical Address:"})," Kunnath house, Thenkara Po Mannarkkad, Palakkad, Kerala"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Website:"})," ",i.jsx("a",{href:"https://enqir.in",className:"text-purple-600 hover:underline font-semibold",children:"https://enqir.in"})]})]}),i.jsx("p",{className:"mt-3 sm:mt-4 text-sm text-gray-600 leading-relaxed",children:"For payment-related queries, refund requests, or billing issues, please contact our support team at info@enqir.in with your transaction ID and registered email address. Response time: Within 24-48 hours."})]}),i.jsx("section",{className:"border-t pt-6 mt-6",children:i.jsx("p",{className:"text-sm text-gray-600 italic",children:'By clicking "I Accept" during registration or by using the Platform, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions.'})})]})})})]})})}),RWe=()=>i.jsx(Nt,{children:i.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-4 max-w-4xl",children:i.jsxs(be,{className:"shadow-2xl border-0 overflow-hidden rounded-2xl sm:rounded-3xl",children:[i.jsx(vt,{className:"bg-gray-800 p-3 sm:p-4 md:p-6",children:i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx(Ir,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 text-white"}),i.jsxs("div",{children:[i.jsx(cr,{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-white",children:"Privacy Policy"}),i.jsxs("p",{className:"text-gray-300 mt-1 sm:mt-2 text-xs sm:text-sm",children:["Last Updated: ",new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})]})]})]})}),i.jsx(Ve,{className:"p-3 sm:p-4 md:p-6 bg-white",children:i.jsx(Uy,{className:"h-[calc(100vh-10rem)] sm:h-[calc(100vh-12rem)] md:h-[70vh] pr-2 sm:pr-4",children:i.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6 text-gray-700 text-xs sm:text-sm md:text-base leading-relaxed",children:[i.jsxs("section",{children:[i.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3 flex items-center gap-2",children:[i.jsx(pr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"1. Introduction"]}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:'Welcome to Enqir.in ("we," "our," "us," or "the Platform"). We are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your data when you use our AI-powered marketplace platform.'}),i.jsx("p",{className:"leading-relaxed",children:"By using Enqir.in, you explicitly consent to the collection, use, and disclosure of information in accordance with this Privacy Policy. If you do not agree with our policies, please do not use our services."})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(ig,{className:"w-6 h-6 text-blue-600"}),"2. Information We Collect"]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"2.1 Information You Provide Directly"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Account Information:"})," Name, email address, phone number, password"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Profile Information:"})," Display name, profile picture, bio, business details"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Enquiry Information:"})," Product/service descriptions, categories, budgets, deadlines, location preferences"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Response Information:"})," Seller submissions, quotes, contact details, business proposals"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Information:"})," Billing address, transaction history, payment method details (payment card details are processed by third-party payment gateways and not stored by us)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Communication Data:"})," Messages, chat history, feedback, support tickets"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Verification Data:"})," Identity documents, business registration details (for verified users)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Images:"})," Photos uploaded for enquiries or responses"]})]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"2.2 Information Collected Automatically"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Device Information:"})," IP address, browser type, device type, operating system"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Usage Data:"})," Pages viewed, features used, time spent, click patterns"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Location Data:"})," Approximate location based on IP address (with your consent)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cookies and Tracking:"})," Session data, preferences, authentication tokens"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"AI Interaction Data:"})," Search queries, AI recommendation interactions, matchmaking patterns"]})]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"2.3 Information from Third Parties"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Processors:"})," Transaction confirmations, payment status, and transaction details from third-party payment gateways"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Authentication Providers:"})," Firebase Authentication data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cloud Services:"})," Image storage metadata from Cloudinary"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Analytics Services:"})," Aggregated usage insights"]})]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(ao,{className:"w-6 h-6 text-blue-600"}),"3. How We Use Your Information"]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Core Platform Functions"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Create and manage your account"}),i.jsx("li",{children:"Process and display your enquiries and responses"}),i.jsx("li",{children:"Facilitate connections between buyers and sellers"}),i.jsx("li",{children:"Process payments and manage subscriptions"}),i.jsx("li",{children:"Provide customer support"}),i.jsx("li",{children:"Send transactional emails and notifications"})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"AI-Powered Features"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Approve and moderate enquiries using AI content analysis"}),i.jsx("li",{children:"Match buyers with relevant sellers using smart algorithms"}),i.jsx("li",{children:"Provide personalized recommendations"}),i.jsx("li",{children:"Detect and prevent spam, fraud, and abuse"}),i.jsx("li",{children:"Analyze images using computer vision technology"}),i.jsx("li",{children:"Generate insights and analytics"})]})]}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Other Uses"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Improve and optimize our Platform features"}),i.jsx("li",{children:"Conduct research and analytics"}),i.jsx("li",{children:"Send marketing communications (with your consent)"}),i.jsx("li",{children:"Comply with legal obligations"}),i.jsx("li",{children:"Enforce our Terms and Conditions"}),i.jsx("li",{children:"Protect against security threats"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"4. Information Sharing and Disclosure"}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"4.1 When We Share Your Information"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed text-sm sm:text-base",children:"We may share your information with third parties in the following circumstances:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-3 sm:mb-4 leading-relaxed",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"With Other Users:"})," Your enquiries and responses are visible to relevant users based on matchmaking"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Processing:"})," We share customer information (name, email, address, transaction details) with ",i.jsx("strong",{children:"third-party payment processors"})," (financial institutions, banks, payment gateways) to process payments, track transactions, prevent fraud, and comply with legal requirements. ",i.jsx("strong",{children:"By using our payment services, you explicitly consent to sharing your information with payment processors and their affiliates."})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Service Providers:"})," Third-party services for hosting (Firebase, Supabase), image storage (Cloudinary), and analytics"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Legal Requirements:"})," When required by law, court order, or government request"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Business Transfers:"})," In case of merger, acquisition, or sale of assets"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"With Your Consent:"})," When you explicitly authorize sharing"]})]}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border-l-4 border-blue-500 mb-3 sm:mb-4",children:[i.jsx("h4",{className:"font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"Payment Gateway Data Sharing"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed mb-2",children:"When you make a payment, we share the following information with our payment gateway partners:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1 text-xs sm:text-sm text-gray-700 leading-relaxed",children:[i.jsx("li",{children:"Your name and email address"}),i.jsx("li",{children:"Billing address"}),i.jsx("li",{children:"Transaction amount and details"}),i.jsx("li",{children:"Payment method information (card type, last 4 digits - not full card numbers)"})]}),i.jsxs("p",{className:"mt-2 text-xs sm:text-sm text-gray-700 leading-relaxed",children:[i.jsx("strong",{children:"Important:"})," Sensitive financial information (full card numbers, CVV, expiry dates) is handled securely by the payment gateway and adheres to industry standards like PCI-DSS. We or the payment gateway do not store your card data on our servers. The data is encrypted through secure protocols."]}),i.jsxs("p",{className:"mt-2 text-xs sm:text-sm text-gray-700 leading-relaxed",children:[i.jsx("strong",{children:"Consent:"})," By proceeding with a payment, you explicitly consent to sharing your information with payment processors and their affiliates for the purposes stated above."]}),i.jsxs("p",{className:"mt-2 text-xs sm:text-sm",children:[i.jsx("strong",{children:"Review Payment Gateway Privacy:"})," Please review the privacy policy of our payment gateway: ",i.jsx("a",{href:"https://razorpay.com/privacy/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"Payment Gateway Privacy Policy"})]})]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-1.5 sm:mb-2",children:"4.2 What We DON'T Share"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"We never sell your personal information to third parties"}),i.jsx("li",{children:"Payment card details (full card numbers, CVV) are never stored or shared by us (handled securely by payment gateways)"}),i.jsx("li",{children:"Private messages are not shared with advertisers"}),i.jsx("li",{children:"Identity verification documents are kept confidential"})]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(cue,{className:"w-6 h-6 text-blue-600"}),"5. Your Privacy Rights"]}),i.jsx("p",{className:"mb-3",children:"You have the following rights regarding your personal data:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data (subject to legal retention)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Portability:"})," Export your data in a machine-readable format"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Objection:"})," Opt-out of marketing communications"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Restriction:"})," Request limitation of data processing"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Withdrawal:"})," Withdraw consent for data processing (where applicable)"]})]}),i.jsxs("p",{className:"mt-3",children:["To exercise these rights, contact us at ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"info@enqir.in"})]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3 flex items-center gap-2",children:[i.jsx(ao,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"6. Data Security"]}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"We implement industry-standard security measures to protect your data:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Encryption:"})," HTTPS/TLS encryption for data in transit"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Firebase Security:"})," Secure authentication and database rules"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Gateway Security:"})," Payment processing through PCI-DSS compliant payment gateways. Sensitive financial information (card data) is handled securely by payment gateway partners adhering to industry standards like PCI-DSS"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"No Card Storage:"})," We or our payment gateway partners do not store your card data on our servers. Payment card details are encrypted and processed securely"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Access Controls:"})," Restricted employee access to sensitive data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Regular Audits:"})," Security assessments and vulnerability testing"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Monitoring:"})," Real-time threat detection and response"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Backup:"})," Regular data backups for disaster recovery"]})]})]}),i.jsxs("p",{className:"mt-2 sm:mt-3 text-xs sm:text-sm text-gray-600 leading-relaxed",children:[i.jsx("strong",{children:"Note:"})," No system is 100% secure. While we strive to protect your data, we cannot guarantee absolute security. We recommend using strong passwords and keeping your account credentials secure."]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"7. Data Retention"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Active Accounts:"})," Data retained while your account is active"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Deleted Accounts:"})," Most data deleted within 30 days of account deletion"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Legal Requirements:"})," Some data retained for 7 years for tax/legal compliance"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Anonymized Data:"})," Aggregated analytics may be retained indefinitely"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Records:"})," Transaction history retained for accounting and dispute resolution"]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"8. Cookies and Tracking Technologies"}),i.jsx("p",{className:"mb-3",children:"We use cookies and similar technologies for:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Essential Cookies:"})," Authentication, security, session management"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Functional Cookies:"})," Remember preferences and settings"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Analytics Cookies:"})," Understand user behavior and improve services"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Marketing Cookies:"})," Personalized advertising (with consent)"]})]}),i.jsx("p",{children:"You can control cookies through your browser settings. Blocking cookies may limit Platform functionality."})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(Ph,{className:"w-6 h-6 text-blue-600"}),"9. Marketing Communications"]}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"We may send promotional emails about new features, offers, and updates"}),i.jsx("li",{children:'You can opt-out of marketing emails by clicking "Unsubscribe" in any email'}),i.jsx("li",{children:"Transactional emails (payment confirmations, security alerts) cannot be opted out"}),i.jsx("li",{children:"Push notifications can be disabled in your device settings"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"10. Children's Privacy"}),i.jsxs("p",{children:["Enqir.in is not intended for users under 18 years of age. We do not knowingly collect data from children. If you believe we have inadvertently collected information from a child, contact us immediately at ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline",children:"info@enqir.in"}),", and we will delete it."]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"11. International Data Transfers"}),i.jsx("p",{className:"mb-3",children:"Your data is primarily stored in India. If data is transferred internationally, we ensure adequate safeguards are in place, including:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Standard Contractual Clauses (SCCs)"}),i.jsx("li",{children:"Data Processing Agreements with vendors"}),i.jsx("li",{children:"Compliance with applicable data protection laws"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"12. Third-Party Services"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"We integrate with third-party services that have their own privacy policies. By using our Platform, you agree to the terms and privacy policies of these third-party service providers:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3 leading-relaxed",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Firebase:"})," ",i.jsx("a",{href:"https://firebase.google.com/support/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"Privacy Policy"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Gateway:"})," ",i.jsx("a",{href:"https://razorpay.com/privacy/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"Payment Gateway Privacy Policy"})," and ",i.jsx("a",{href:"https://razorpay.com/terms/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"Terms"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cloudinary:"})," ",i.jsx("a",{href:"https://cloudinary.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"Privacy Policy"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Supabase:"})," ",i.jsx("a",{href:"https://supabase.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"Privacy Policy"})]})]}),i.jsx("p",{className:"leading-relaxed text-sm sm:text-base",children:"We are not responsible for third-party privacy practices. Please review their policies independently. We do not act as an agent or representative of any third-party service provider."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"13. Changes to Privacy Policy"}),i.jsx("p",{children:'We may update this Privacy Policy periodically. Changes will be posted on this page with an updated "Last Updated" date. Significant changes will be notified via email or Platform notification. Continued use after changes constitutes acceptance.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"14. Contact Us"}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"For privacy-related questions, concerns, or requests, contact us:"}),i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Privacy Officer / Grievance Officer"})}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Name:"})," Nived Sunil S"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Business Name:"})," Enqir (Individual/Sole Proprietorship)"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Owner Name:"})," Nived Sunil S"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Owner Email:"})," ",i.jsx("a",{href:"mailto:nivedsunil5@gmail.com",className:"text-blue-600 hover:underline font-semibold",children:"nivedsunil5@gmail.com"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Email:"})," ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"info@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Grievance Email:"})," ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"info@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Support Email:"})," ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"info@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Phone:"})," +91 9747460245"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Physical Address:"})," Kunnath house, Thenkara Po Mannarkkad, Palakkad, Kerala"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Website:"})," ",i.jsx("a",{href:"https://enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"https://enqir.in"})]}),i.jsxs("p",{className:"mt-2 text-xs sm:text-sm text-gray-600",children:[i.jsx("strong",{children:"Response Time:"})," Within 24-48 hours"]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"15. Compliance"}),i.jsx("p",{children:"We comply with applicable data protection laws, including:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-3",children:[i.jsx("li",{children:"Information Technology Act, 2000 (India)"}),i.jsx("li",{children:"Information Technology (Reasonable Security Practices and Procedures and Sensitive Personal Data or Information) Rules, 2011"}),i.jsx("li",{children:"General Data Protection Regulation (GDPR) principles for international users"})]})]}),i.jsx("section",{className:"border-t pt-6 mt-6",children:i.jsx("p",{className:"text-sm text-gray-600 italic",children:"By using Enqir.in, you acknowledge that you have read and understood this Privacy Policy and consent to the collection, use, and disclosure of your information as described herein."})})]})})})]})})}),OWe=()=>i.jsx(Nt,{children:i.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-4 max-w-4xl",children:i.jsxs(be,{className:"shadow-2xl border-0 overflow-hidden rounded-2xl sm:rounded-3xl",children:[i.jsx(vt,{className:"bg-gray-800 p-3 sm:p-4 md:p-6",children:i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx(Tb,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 text-white"}),i.jsxs("div",{children:[i.jsx(cr,{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-white",children:"Shipping & Refund Policy"}),i.jsxs("p",{className:"text-gray-300 mt-1 sm:mt-2 text-xs sm:text-sm",children:["Last Updated: ",new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})]})]})]})}),i.jsx(Ve,{className:"p-3 sm:p-4 md:p-6 bg-white",children:i.jsx(Uy,{className:"h-[calc(100vh-10rem)] sm:h-[calc(100vh-12rem)] md:h-[70vh] pr-2 sm:pr-4",children:i.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6 text-gray-700 text-xs sm:text-sm md:text-base leading-relaxed",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"1. Overview"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"At Enqir.in, we strive to provide the best experience for our users. This Shipping & Refund Policy outlines our approach to shipping and delivery, as well as the circumstances under which refunds are provided for our AI-powered marketplace services. This policy is designed to comply with the Consumer Protection (E-Commerce) Rules, 2020 and the Consumer Protection Act, 2019."}),i.jsxs("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg border-l-4 border-blue-500 mb-2 sm:mb-3",children:[i.jsxs("p",{className:"leading-relaxed mb-2 sm:mb-3",children:[i.jsx("strong",{children:"Important:"})," Enqir.in acts as a facilitator connecting buyers and sellers. We do not handle, manage, or interfere with shipping arrangements between users. All shipping terms, costs, and methods are negotiated directly between buyers and sellers through our chat feature."]}),i.jsxs("p",{className:"leading-relaxed",children:[i.jsx("strong",{children:"Payment Processing:"})," All payments for platform services are processed securely through third-party payment gateways. Once a payment plan is activated and responses are unlocked, the service is considered delivered. Refunds are processed through our payment gateway to the original payment method."]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"2. Shipping & Delivery Policy"}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3",children:"2.1 Platform Services (Digital - No Shipping Required)"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"Our platform services are entirely digital and delivered instantly:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3 leading-relaxed",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Premium Plan Activation:"})," Instant digital delivery (within seconds of payment confirmation)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Enquiry Posting:"})," Instant digital service (enquiries appear immediately after submission)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Seller Response Access:"})," Instant digital activation (responses unlocked immediately)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Feature Access:"})," All paid features are available instantly upon activation"]})]}),i.jsxs("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:[i.jsx("strong",{children:"No Physical Shipping:"})," Enqir.in does not ship any physical products. All platform services are delivered digitally through our web platform."]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3",children:"2.2 User-to-User Transactions"}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200 mb-2 sm:mb-3",children:[i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed font-semibold text-gray-800",children:"Platform Role:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Facilitator Only:"})," Enqir.in connects buyers and sellers but does not participate in their transactions"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"No Interference:"})," We do not control, manage, or interfere with shipping arrangements between users"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"No Responsibility:"})," We are not responsible for shipping methods, costs, timelines, or delivery of products/services between users"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Commission-Free:"})," We do not charge commissions on user-to-user transactions"]})]})]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3",children:"2.3 User Responsibilities"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"Buyers and sellers are solely responsible for:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3 leading-relaxed",children:[i.jsx("li",{children:"Negotiating and agreeing on shipping methods (standard, express, local delivery, international, etc.)"}),i.jsx("li",{children:"Determining shipping costs and who bears the cost"}),i.jsx("li",{children:"Setting delivery timelines and expectations"}),i.jsx("li",{children:"Handling all shipping arrangements and logistics"}),i.jsx("li",{children:"Resolving shipping disputes directly between themselves"}),i.jsx("li",{children:"Ensuring proper packaging and handling of products"})]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3",children:"2.4 Shipping Negotiation via Chat"}),i.jsxs("div",{className:"bg-green-50 p-3 sm:p-4 rounded-lg border border-green-200 mb-2 sm:mb-3",children:[i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed font-semibold text-gray-800",children:"Use our chat feature to discuss and agree on:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"Shipping methods (standard courier, express delivery, local pickup, international shipping, etc.)"}),i.jsx("li",{children:"Shipping costs and payment responsibility"}),i.jsx("li",{children:"Delivery timelines and expected delivery dates"}),i.jsx("li",{children:"Shipping addresses and delivery locations"}),i.jsx("li",{children:"Return shipping policies and costs"}),i.jsx("li",{children:"Product packaging and handling requirements"}),i.jsx("li",{children:"Tracking information and delivery confirmation"})]})]}),i.jsxs("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:[i.jsx("strong",{children:"Note:"})," All shipping arrangements are made directly between buyers and sellers. Enqir.in does not monitor, verify, or enforce shipping agreements between users."]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3",children:"2.5 Platform Disclaimers"}),i.jsxs("div",{className:"bg-red-50 p-3 sm:p-4 rounded-lg border-l-4 border-red-500 mb-2 sm:mb-3",children:[i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed font-semibold text-gray-800",children:"Enqir.in is NOT responsible for:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"Shipping delays, damages, or losses between users"}),i.jsx("li",{children:"Shipping method selection or shipping costs"}),i.jsx("li",{children:"Delivery timelines or delivery failures"}),i.jsx("li",{children:"Product quality, packaging, or handling during shipping"}),i.jsx("li",{children:"Shipping disputes between buyers and sellers"}),i.jsx("li",{children:"Verification of shipping methods or costs"}),i.jsx("li",{children:"Handling shipping payments or refunds"})]})]}),i.jsxs("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:[i.jsx("strong",{children:"Users transact at their own risk."})," Enqir.in provides the platform for connection and communication but is not a party to any shipping arrangements or product transactions between users."]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3",children:"2.6 Shipping Dispute Resolution"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"For shipping-related disputes between buyers and sellers:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3 leading-relaxed",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Direct Resolution:"})," Shipping disputes should be resolved directly between the buyer and seller"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Platform Assistance:"})," Enqir.in may assist in facilitating communication but is not liable for shipping issues"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"No Mediation:"})," We do not mediate, arbitrate, or decide shipping disputes"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"User Agreement:"})," Users are responsible for their own shipping agreements and dispute resolution"]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"3. Refund Policy"}),i.jsxs("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:["This refund policy applies ",i.jsx("strong",{children:"ONLY to platform services"})," (premium plans, enquiry posting, etc.). Refunds do NOT apply to transactions between buyers and sellers, as those are handled directly between users."]}),i.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3 flex items-center gap-2",children:[i.jsx(xt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"}),"3.1 Refund Eligibility"]}),i.jsx("p",{className:"mb-4",children:"Refunds are ONLY provided in the following scenarios:"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Technical Payment Errors"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Payment was deducted from your account but the service was not activated"}),i.jsx("li",{children:"Payment gateway error prevented proper service delivery"}),i.jsx("li",{children:"System malfunction after successful payment"}),i.jsx("li",{children:"Responses were not unlocked despite successful payment"})]}),i.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[i.jsx("strong",{children:"Action Required:"})," Report the issue within 24 hours with transaction ID and screenshot."]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Duplicate/Accidental Payments"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Accidental double-click resulting in duplicate charges"}),i.jsx("li",{children:"Same plan purchased multiple times due to technical glitch"}),i.jsx("li",{children:"Multiple payments processed for a single transaction"})]}),i.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[i.jsx("strong",{children:"Refund:"})," Full refund for the duplicate transaction(s)."]})]}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-1.5 sm:mb-2",children:" Service Not Delivered"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"Payment confirmed but no upgrade/unlocking occurred"}),i.jsx("li",{children:"Plan activation failed despite successful payment"}),i.jsx("li",{children:"Service is defective or not as described (mandatory refund under Indian consumer protection laws)"})]}),i.jsxs("p",{className:"mt-2 text-xs sm:text-sm text-gray-600 leading-relaxed",children:[i.jsx("strong",{children:"Refund:"})," Full refund after verification. We cannot refuse refunds for defective products or services not as described."]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Unauthorized Transactions"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Fraudulent transaction made without your authorization"}),i.jsx("li",{children:"Account compromised and payment made by unauthorized person"})]}),i.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[i.jsx("strong",{children:"Action Required:"})," File a complaint with transaction proof, police report (if applicable), and identity verification."]})]})]})]}),i.jsxs("section",{children:[i.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3 flex items-center gap-2",children:[i.jsx(qC,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),"3.2 Non-Refundable Scenarios"]}),i.jsx("p",{className:"mb-4",children:"Refunds will NOT be provided in the following cases:"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Change of Mind"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"You changed your mind after viewing unlocked seller responses"}),i.jsx("li",{children:"You decided you don't need the service anymore"}),i.jsx("li",{children:"You found an alternative solution"})]}),i.jsx("p",{className:"mt-2 text-sm text-red-700 font-semibold",children:'Digital content is delivered instantly upon payment. Once unlocked, it cannot be "returned."'})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Dissatisfaction with Seller Responses"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Quality of seller responses did not meet your expectations"}),i.jsx("li",{children:"Seller quotes are too high"}),i.jsx("li",{children:"Sellers did not respond quickly enough"}),i.jsx("li",{children:"Number of responses received is lower than expected"})]}),i.jsx("p",{className:"mt-2 text-sm text-red-700 font-semibold",children:"Enqir.in facilitates connections but does not control seller content. Payment unlocks access, not guaranteed results."})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" No Seller Responses Received"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Your enquiry did not receive any seller responses"}),i.jsx("li",{children:"Low response rate due to niche category or high budget"})]}),i.jsx("p",{className:"mt-2 text-sm text-red-700 font-semibold",children:'Payment unlocks "access" to view responses, not guaranteed responses. Sellers are independent third parties.'})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Terms of Service Violation"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Account suspended or terminated for violating Terms and Conditions"}),i.jsx("li",{children:"Fraudulent activity detected on your account"}),i.jsx("li",{children:"Abusive behavior towards other users"})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Late Refund Requests"}),i.jsx("ul",{className:"list-disc pl-6 space-y-2",children:i.jsx("li",{children:"Refund request raised more than 24 hours after payment"})}),i.jsx("p",{className:"mt-2 text-sm text-red-700 font-semibold",children:"All refund requests must be submitted within 24 hours of transaction."})]})]})]}),i.jsxs("section",{children:[i.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3 flex items-center gap-2",children:[i.jsx(xn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"3.3 Refund Request Process"]}),i.jsx("p",{className:"mb-4",children:"To request a refund, follow these steps:"}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 text-gray-900 rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0",children:"1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Contact Support Within 24 Hours"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Email ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"info@enqir.in"}),' with subject "Refund Request - [Transaction ID]"']})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 text-gray-900 rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0",children:"2"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Provide Required Information"}),i.jsxs("ul",{className:"text-sm text-gray-600 list-disc pl-5 mt-1",children:[i.jsx("li",{children:"Full Name and Registered Email"}),i.jsx("li",{children:"Transaction ID / Payment Reference Number"}),i.jsx("li",{children:"Date and Amount of Payment"}),i.jsx("li",{children:"Reason for Refund Request"}),i.jsx("li",{children:"Screenshot of Payment Confirmation"}),i.jsx("li",{children:"Screenshot showing the issue (if applicable)"})]})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 text-gray-900 rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0",children:"3"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Wait for Verification"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Our team will review your request within 2-3 business days and contact you via email"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 text-gray-900 rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0",children:"4"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Refund Processing"}),i.jsx("p",{className:"text-sm text-gray-600",children:"If approved, refund will be initiated within 5-7 business days"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 text-gray-900 rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0",children:"5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Receive Refund"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Refund credited to original payment method within 7-10 business days (depending on your bank)"})]})]})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3",children:"3.4 Refund Timeline"}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[i.jsxs("ul",{className:"space-y-1.5 sm:space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2 leading-relaxed",children:[i.jsx(xt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Request Review:"})," 2-3 business days"]})]}),i.jsxs("li",{className:"flex items-start gap-2 leading-relaxed",children:[i.jsx(xt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Refund Initiation:"})," 5-7 business days after approval (through payment gateway)"]})]}),i.jsxs("li",{className:"flex items-start gap-2 leading-relaxed",children:[i.jsx(xt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Bank Credit (UPI/Wallets):"})," 3-5 business days"]})]}),i.jsxs("li",{className:"flex items-start gap-2 leading-relaxed",children:[i.jsx(xt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Bank Credit (Cards/Net Banking):"})," 7-10 business days"]})]})]}),i.jsxs("p",{className:"mt-3 sm:mt-4 text-xs sm:text-sm text-gray-600 leading-relaxed",children:[i.jsx("strong",{children:"Total Maximum Time:"})," Up to 20 business days from request to bank credit. Refunds are processed through our payment gateway to the original payment method used for the transaction."]})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3",children:"3.5 Cancellation Policy"}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:i.jsx("strong",{children:"Digital Services - No Cancellation After Purchase:"})}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"Once a payment plan is purchased and activated, it cannot be cancelled"}),i.jsx("li",{children:"Digital content (unlocked responses) is delivered instantly and irreversibly"}),i.jsx("li",{children:"You may request a refund only if eligible under Section 3.1 above"}),i.jsx("li",{children:"We cannot impose cancellation charges unless we also bear similar charges if we cancel an order ourselves"})]}),i.jsxs("p",{className:"mt-2 sm:mt-3 text-xs sm:text-sm text-gray-600 leading-relaxed",children:[i.jsx("strong",{children:"Note:"})," For physical products (if any) sold by third-party sellers, cancellation and return shipping costs are negotiated directly between buyers and sellers via chat, as per Section 2.4 above."]})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3",children:"3.6 Payment Plan-Specific Terms"}),i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs("div",{className:"border-l-4 border-purple-500 pl-3 sm:pl-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Free Plan (0)"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:"No payment, no refund applicable"})]}),i.jsxs("div",{className:"border-l-4 border-blue-500 pl-3 sm:pl-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Basic Plan (99)"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:"Unlocks 5 responses for one enquiry. No refund after viewing responses."})]}),i.jsxs("div",{className:"border-l-4 border-green-500 pl-3 sm:pl-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Standard Plan (199)"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:"Unlocks 10 responses for one enquiry. No refund after viewing responses."})]}),i.jsxs("div",{className:"border-l-4 border-yellow-500 pl-3 sm:pl-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Premium Plan (499)"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:"Unlocks unlimited responses for one enquiry. No refund after activation."})]})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2 sm:mb-3",children:"3.7 User-to-User Transaction Refunds"}),i.jsxs("div",{className:"bg-yellow-50 p-3 sm:p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsxs("p",{className:"leading-relaxed mb-2 sm:mb-3 font-semibold text-gray-800",children:[i.jsx("strong",{children:"Important:"})," Refunds for transactions between buyers and sellers are NOT handled by Enqir.in."]}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsx("li",{children:"Buyers and sellers negotiate refund terms directly via chat"}),i.jsx("li",{children:"Platform does not process refunds for user-to-user transactions"}),i.jsx("li",{children:"Shipping costs and return shipping are agreed upon between users"}),i.jsx("li",{children:"Disputes should be resolved directly between buyer and seller"}),i.jsx("li",{children:"Platform may assist in communication but is not liable for transaction refunds"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"4. Grievance Officer"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"In accordance with the Consumer Protection (E-Commerce) Rules, 2020, we have appointed a Grievance Officer to address your refund and cancellation concerns:"}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border-l-4 border-green-500",children:[i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Name:"})," Nived Sunil S"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Email:"})," ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"info@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Phone:"})," +91 9747460245"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Address:"})," Kunnath house, Thenkara Po Mannarkkad, Palakkad, Kerala"]}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-2",children:[i.jsx("strong",{children:"Response Time:"})," Within 24-48 hours"]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"5. Dispute Resolution"}),i.jsx("p",{className:"mb-2 sm:mb-3 leading-relaxed",children:"If your refund request is rejected and you disagree with the decision:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 leading-relaxed",children:[i.jsxs("li",{children:["You may escalate to our Grievance Officer at ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"info@enqir.in"})]}),i.jsxs("li",{children:["You may also contact our senior support team at ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline",children:"info@enqir.in"})]}),i.jsx("li",{children:"Provide additional evidence or documentation to support your claim"}),i.jsx("li",{children:"Final decision rests with Enqir.in management"}),i.jsx("li",{children:"If still unresolved, you may pursue legal recourse as per our Terms and Conditions and applicable Indian consumer protection laws"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"6. Contact Information"}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[i.jsx("p",{className:"mb-2 sm:mb-3",children:i.jsx("strong",{children:"For Refund Requests:"})}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Email:"})," ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"info@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Support Email:"})," ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"info@enqir.in"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Business Name:"})," Enqir (Individual/Sole Proprietorship)"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Owner Name:"})," Nived Sunil S"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Owner Email:"})," ",i.jsx("a",{href:"mailto:nivedsunil5@gmail.com",className:"text-blue-600 hover:underline font-semibold",children:"nivedsunil5@gmail.com"})]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Phone:"})," +91 9747460245"]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Physical Address:"})," Kunnath house, Thenkara Po Mannarkkad, Palakkad, Kerala"]}),i.jsxs("p",{className:"mb-3 sm:mb-4",children:[i.jsx("strong",{children:"Response Time:"})," Within 24-48 hours"]}),i.jsx("p",{className:"mb-2 sm:mb-3",children:i.jsx("strong",{children:"Required Information in Email:"})}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1 text-xs sm:text-sm text-gray-600 leading-relaxed",children:[i.jsx("li",{children:'Subject: "Refund Request - [Transaction ID]"'}),i.jsx("li",{children:"Your registered email and name"}),i.jsx("li",{children:"Transaction ID and payment amount"}),i.jsx("li",{children:"Detailed reason for refund"}),i.jsx("li",{children:"Supporting screenshots/documents"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"7. Policy Updates"}),i.jsx("p",{className:"leading-relaxed",children:'We reserve the right to modify this Refund and Cancellation Policy at any time. Changes will be effective immediately upon posting on this page with an updated "Last Updated" date. Continued use of the Platform after changes constitutes acceptance. We will notify users of significant changes via email or Platform notification.'})]}),i.jsxs("section",{className:"border-t pt-4 sm:pt-6 mt-4 sm:mt-6 bg-gray-50 p-3 sm:p-4 rounded-lg",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-1.5 sm:mb-2",children:" Important Reminder"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed mb-2 sm:mb-3",children:["Enqir.in is a ",i.jsx("strong",{children:"facilitator platform"})," that connects buyers and sellers. We do not handle shipping, pricing, or transactions between users. Payment unlocks ",i.jsx("strong",{children:"access to view seller responses"}),", not guaranteed business outcomes or transaction success. We do not control seller content, quality, or availability. Please read all terms carefully before making a purchase."]}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed mb-2 sm:mb-3",children:[i.jsx("strong",{children:"Shipping & Transactions:"})," All shipping arrangements, pricing, and payment methods are negotiated directly between buyers and sellers via our chat feature. Enqir.in is not a party to these transactions and does not handle shipping or refunds for user-to-user transactions."]}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed",children:[i.jsx("strong",{children:"Consumer Protection:"})," This policy complies with the Consumer Protection (E-Commerce) Rules, 2020. We cannot refuse refunds for defective products or services not as described. All refunds for platform services are processed through our payment gateway to the original payment method."]})]})]})})})]})})}),NF=()=>i.jsx(Nt,{children:i.jsx("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8 max-w-4xl",children:i.jsxs(be,{className:"shadow-xl border-2 border-gray-200 rounded-2xl sm:rounded-3xl overflow-hidden",children:[i.jsxs(vt,{className:"bg-gray-800 text-white p-4 sm:p-6",children:[i.jsx(cr,{className:"text-xl sm:text-2xl md:text-3xl font-bold",children:"Shipping & Delivery Policy"}),i.jsxs("p",{className:"text-gray-200 text-xs sm:text-sm mt-2",children:["Last Updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),i.jsx(Ve,{className:"bg-white p-4 sm:p-6 lg:p-8",children:i.jsxs("div",{className:"space-y-4 sm:space-y-6 text-gray-700 text-sm sm:text-base leading-relaxed",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"1. Overview"}),i.jsx("p",{className:"mb-2 sm:mb-3",children:"Enqir.in is a digital marketplace platform that connects buyers and sellers. Our services are primarily digital and delivered instantly through our online platform. This Shipping & Delivery Policy outlines our delivery methods, timelines, and policies."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"2. Digital Services Delivery"}),i.jsx("p",{className:"mb-2 sm:mb-3",children:"Since Enqir.in operates as a digital marketplace platform:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Instant Access:"})," Upon successful payment, users gain immediate access to premium features, enquiry posting capabilities, and platform services."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"No Physical Shipping:"})," We do not ship physical products. All services are delivered digitally through our web platform."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Account Activation:"})," Premium plan activations and feature upgrades are processed instantly and reflected in your account immediately."]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"3. Service Delivery Timeline"}),i.jsx("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200 mb-2 sm:mb-3",children:i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Premium Plan Activation:"})," Immediate (within seconds of payment confirmation)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Enquiry Posting:"})," Instant (enquiries appear on the platform immediately after submission)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Feature Access:"})," Instant (all paid features are available immediately upon activation)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Response Notifications:"})," Real-time (sellers can respond to enquiries instantly)"]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"4. Third-Party Seller Transactions"}),i.jsx("p",{className:"mb-2 sm:mb-3",children:"For transactions between buyers and sellers facilitated through our platform:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Seller Responsibility:"})," Individual sellers are responsible for their own shipping and delivery arrangements for physical products (if any)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Platform Role:"})," Enqir.in acts as a facilitator and is not responsible for shipping, delivery, or fulfillment of physical products sold by third-party sellers."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Buyer-Seller Agreement:"})," Shipping terms, delivery timelines, and costs are to be agreed upon directly between the buyer and seller."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Dispute Resolution:"})," Any shipping or delivery disputes between buyers and sellers should be resolved directly between the parties. Enqir.in may assist in dispute resolution but is not liable for shipping issues."]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"5. Delivery Confirmation"}),i.jsx("p",{className:"mb-2 sm:mb-3",children:"For digital services:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3",children:[i.jsx("li",{children:"You will receive an email confirmation immediately upon successful payment and service activation."}),i.jsx("li",{children:"Your account dashboard will reflect the activated services and features instantly."}),i.jsx("li",{children:"For enquiry postings, you will receive a confirmation email with your enquiry ID and details."})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"6. Delivery Issues"}),i.jsx("p",{className:"mb-2 sm:mb-3",children:"If you experience any issues accessing your purchased services:"}),i.jsxs("ul",{className:"list-disc pl-5 sm:pl-6 space-y-1.5 sm:space-y-2 mb-2 sm:mb-3",children:[i.jsx("li",{children:"Check your email (including spam folder) for confirmation messages"}),i.jsx("li",{children:"Log out and log back into your account"}),i.jsx("li",{children:"Clear your browser cache and cookies"}),i.jsxs("li",{children:["Contact our support team at ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline font-semibold",children:"info@enqir.in"})," with your transaction ID"]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-3",children:"7. Contact Information"}),i.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200",children:[i.jsxs("p",{className:"mb-1 sm:mb-2",children:[i.jsx("strong",{children:"Business Name:"})," Enqir (Individual/Sole Proprietorship)"]}),i.jsxs("p",{className:"mb-1 sm:mb-2",children:[i.jsx("strong",{children:"Owner Name:"})," Nived Sunil S"]}),i.jsxs("p",{className:"mb-1 sm:mb-2",children:[i.jsx("strong",{children:"Email:"})," ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline",children:"info@enqir.in"})]}),i.jsxs("p",{className:"mb-1 sm:mb-2",children:[i.jsx("strong",{children:"Phone:"})," +91 9747460245"]}),i.jsxs("p",{className:"mb-1 sm:mb-2",children:[i.jsx("strong",{children:"Address:"})," Kunnath house, Thenkara Po Mannarkkad, Palakkad, Kerala"]}),i.jsxs("p",{className:"mb-1 sm:mb-2",children:[i.jsx("strong",{children:"Website:"})," ",i.jsx("a",{href:"https://enqir.in",className:"text-blue-600 hover:underline",children:"https://enqir.in"})]})]})]})]})})]})})}),DWe=()=>i.jsx(Nt,{children:i.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-4 max-w-4xl",children:i.jsxs(be,{className:"shadow-2xl border-0 overflow-hidden rounded-2xl sm:rounded-3xl",children:[i.jsxs(vt,{className:"bg-gray-800 p-3 sm:p-4 md:p-6",children:[i.jsx(cr,{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-white",children:"Contact Us"}),i.jsx("p",{className:"text-gray-300 mt-1 sm:mt-2 text-xs sm:text-sm",children:"We're here to help! Reach out to us for any queries or support."})]}),i.jsx(Ve,{className:"p-3 sm:p-4 md:p-6 bg-white",children:i.jsx(Uy,{className:"h-[calc(100vh-10rem)] sm:h-[calc(100vh-12rem)] md:h-[70vh] pr-2 sm:pr-4",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Get in Touch"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(be,{className:"border-2 border-blue-200 hover:border-blue-400 transition-all",children:[i.jsx(vt,{className:"bg-blue-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Xa,{className:"w-6 h-6 text-blue-600"}),i.jsx(cr,{className:"text-lg",children:"General Support"})]})}),i.jsxs(Ve,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"For general queries and assistance"}),i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline font-semibold text-lg",children:"info@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: 24-48 hours"})]})]}),i.jsxs(be,{className:"border-2 border-green-200 hover:border-green-400 transition-all",children:[i.jsx(vt,{className:"bg-green-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(fP,{className:"w-6 h-6 text-green-600"}),i.jsx(cr,{className:"text-lg",children:"Payment & Refunds"})]})}),i.jsxs(Ve,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"For payment and refund issues"}),i.jsx("a",{href:"mailto:info@enqir.in",className:"text-green-600 hover:underline font-semibold text-lg",children:"info@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: 24 hours"})]})]}),i.jsxs(be,{className:"border-2 border-purple-200 hover:border-purple-400 transition-all",children:[i.jsx(vt,{className:"bg-purple-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ir,{className:"w-6 h-6 text-purple-600"}),i.jsx(cr,{className:"text-lg",children:"Privacy & Legal"})]})}),i.jsxs(Ve,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"For privacy and legal matters"}),i.jsx("a",{href:"mailto:info@enqir.in",className:"text-purple-600 hover:underline font-semibold text-lg",children:"info@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: 3-5 business days"})]})]}),i.jsxs(be,{className:"border-2 border-cyan-200 hover:border-cyan-400 transition-all",children:[i.jsx(vt,{className:"bg-cyan-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Vce,{className:"w-6 h-6 text-cyan-600"}),i.jsx(cr,{className:"text-lg",children:"Data Privacy"})]})}),i.jsxs(Ve,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"For data protection requests"}),i.jsx("a",{href:"mailto:info@enqir.in",className:"text-cyan-600 hover:underline font-semibold text-lg",children:"info@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: 5-7 business days"})]})]}),i.jsxs(be,{className:"border-2 border-red-200 hover:border-red-400 transition-all",children:[i.jsx(vt,{className:"bg-red-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Kg,{className:"w-6 h-6 text-red-600"}),i.jsx(cr,{className:"text-lg",children:"Report Issues"})]})}),i.jsxs(Ve,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"Report fraud or abuse"}),i.jsx("a",{href:"mailto:info@enqir.in",className:"text-red-600 hover:underline font-semibold text-lg",children:"info@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: Immediate priority"})]})]}),i.jsxs(be,{className:"border-2 border-yellow-200 hover:border-yellow-400 transition-all",children:[i.jsx(vt,{className:"bg-yellow-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vr,{className:"w-6 h-6 text-yellow-600"}),i.jsx(cr,{className:"text-lg",children:"Disputes"})]})}),i.jsxs(Ve,{className:"pt-4",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"For escalated disputes"}),i.jsx("a",{href:"mailto:info@enqir.in",className:"text-yellow-600 hover:underline font-semibold text-lg",children:"info@enqir.in"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response time: 2-3 business days"})]})]})]})]}),i.jsxs("section",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 p-6 rounded-lg border border-purple-200",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Business Information"}),i.jsxs("div",{className:"space-y-2 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Company Name:"})," Enqir"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Website:"})," ",i.jsx("a",{href:"https://enqir.in",className:"text-purple-600 hover:underline",children:"https://enqir.in"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Platform:"})," AI-Powered Marketplace"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Service:"})," Connecting Buyers with Sellers"]})]})]}),i.jsxs("section",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Before You Email"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"To help us assist you faster, please include the following in your email:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Your registered email address"})," on Enqir.in"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Transaction ID"})," (for payment-related queries)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Screenshots or evidence"})," (if reporting an issue)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Detailed description"})," of your query or problem"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Date and time"})," when the issue occurred (if applicable)"]})]})]}),i.jsxs("section",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Frequently Asked Questions"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"How long does it take to get a response?"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Most queries are answered within 24-48 hours. Payment and refund queries are prioritized and answered within 24 hours."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Can I call for support?"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Currently, we only provide email support. This helps us maintain detailed records and provide better assistance."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"What if my issue is urgent?"}),i.jsxs("p",{className:"text-gray-600 text-sm",children:["For payment failures or technical errors, email ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline",children:"info@enqir.in"}),' with "URGENT" in the subject line.']})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"How do I track my refund status?"}),i.jsxs("p",{className:"text-gray-600 text-sm",children:["After submitting a refund request, you'll receive a tracking number. Email ",i.jsx("a",{href:"mailto:info@enqir.in",className:"text-blue-600 hover:underline",children:"info@enqir.in"})," with your tracking number for updates."]})]})]})]}),i.jsxs("section",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-lg border-2 border-indigo-300",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:" Email Template for Refund Requests"}),i.jsxs("div",{className:"bg-white p-4 rounded border border-gray-200 font-mono text-sm text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Subject:"})," Refund Request - [Your Transaction ID]"]}),i.jsx("p",{className:"mt-2",children:i.jsx("strong",{children:"Body:"})}),i.jsx("p",{className:"mt-1",children:"- Full Name: [Your Name]"}),i.jsx("p",{children:"- Registered Email: [Your Email]"}),i.jsx("p",{children:"- Transaction ID: [e.g., TXN123456789]"}),i.jsx("p",{children:"- Payment Amount: [Amount]"}),i.jsx("p",{children:"- Payment Date: [DD/MM/YYYY]"}),i.jsx("p",{children:"- Reason for Refund: [Detailed explanation]"}),i.jsx("p",{children:"- Attachments: [Payment screenshot, issue screenshot]"})]})]}),i.jsx("section",{className:"text-center text-gray-600 text-sm border-t pt-4",children:i.jsxs("p",{children:["For policy details, please review our"," ",i.jsx("a",{href:"/terms-and-conditions",className:"text-purple-600 hover:underline font-semibold",children:"Terms and Conditions"}),","," ",i.jsx("a",{href:"/privacy-policy",className:"text-purple-600 hover:underline font-semibold",children:"Privacy Policy"}),", and"," ",i.jsx("a",{href:"/refund-policy",className:"text-purple-600 hover:underline font-semibold",children:"Refund Policy"}),"."]})})]})})})]})})});console.log(" Firebase is connected:",MC);console.log(" AI Services: Automated approval system initialized");const MWe=new vfe,$We=()=>i.jsx(Yue,{attribute:"class",defaultTheme:"light",enableSystem:!1,children:i.jsx(wfe,{client:MWe,children:i.jsx(Qhe,{children:i.jsx(Tme,{children:i.jsx(kme,{children:i.jsxs(Sme,{children:[i.jsx(Hue,{}),i.jsx(Sde,{}),i.jsxs(xme,{children:[i.jsx(wme,{}),i.jsxs(cme,{children:[i.jsx(Ht,{path:"/",element:i.jsx(j1e,{})}),i.jsx(Ht,{path:"/dashboard",element:i.jsx(m0e,{children:i.jsx(ji,{children:i.jsx(E1e,{})})})}),i.jsx(Ht,{path:"/enquiries",element:i.jsx(h4,{})}),i.jsx(Ht,{path:"/browse",element:i.jsx(h4,{})}),i.jsx(Ht,{path:"/post-enquiry",element:i.jsx(ji,{children:i.jsx(ZNe,{})})}),i.jsx(Ht,{path:"/respond/:enquiryId",element:i.jsx(ji,{children:i.jsx(h2e,{})})}),i.jsx(Ht,{path:"/my-enquiries",element:i.jsx(ji,{children:i.jsx(f2e,{})})}),i.jsx(Ht,{path:"/my-responses",element:i.jsx(ji,{children:i.jsx(m2e,{})})}),i.jsx(Ht,{path:"/saved-enquiries",element:i.jsx(ji,{children:i.jsx(p2e,{})})}),i.jsx(Ht,{path:"/enquiry/:enquiryId/responses",element:i.jsx(ji,{children:i.jsx(w2e,{})})}),i.jsx(Ht,{path:"/enquiry/:enquiryId/responses-page",element:i.jsx(ji,{children:i.jsx(S2e,{})})}),i.jsx(Ht,{path:"/enquiry/:enquiryId/detailed-responses",element:i.jsx(ji,{children:i.jsx(N2e,{})})}),i.jsx(Ht,{path:"/enquiry/:id",element:i.jsx(E2e,{})}),i.jsx(Ht,{path:"/data-clear",element:i.jsx(P2e,{})}),i.jsx(Ht,{path:"/profile",element:i.jsx(ji,{children:i.jsx(A2e,{})})}),i.jsx(Ht,{path:"/settings",element:i.jsx(ji,{children:i.jsx(q2e,{})})}),i.jsx(Ht,{path:"/notifications",element:i.jsx(ji,{children:i.jsx(z2e,{})})}),i.jsx(Ht,{path:"/signin",element:i.jsx(I2e,{})}),i.jsx(Ht,{path:"/forgot-password",element:i.jsx(R2e,{})}),i.jsx(Ht,{path:"/reset-password",element:i.jsx(O2e,{})}),i.jsx(Ht,{path:"/auth/callback",element:i.jsx(D2e,{})}),i.jsx(Ht,{path:"/admin",element:i.jsx(gWe,{})}),i.jsx(Ht,{path:"/test-premium",element:i.jsx(xWe,{})}),i.jsx(Ht,{path:"/terms-and-conditions",element:i.jsx(IWe,{})}),i.jsx(Ht,{path:"/privacy-policy",element:i.jsx(RWe,{})}),i.jsx(Ht,{path:"/refund-policy",element:i.jsx(OWe,{})}),i.jsx(Ht,{path:"/shipping",element:i.jsx(NF,{})}),i.jsx(Ht,{path:"/shipping-policy",element:i.jsx(NF,{})}),i.jsx(Ht,{path:"/contact-us",element:i.jsx(DWe,{})}),i.jsx(Ht,{path:"*",element:i.jsx(W2e,{})})]})]})]})})})})})});H8(document.getElementById("root")).render(i.jsx($We,{}));export{eM as H,Ao as M,Ce as a,oe as b,Rle as d,Ft as g,i as j,g as r,Fe as s,ot as u};
